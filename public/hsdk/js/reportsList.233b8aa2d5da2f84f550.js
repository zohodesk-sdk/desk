(window.deskappJsonp=window.deskappJsonp||[]).push([[131],{"./src/analytics/actions/reports/reportsAction.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),a=n("./src/utils/RequestAPI.js"),s=n("./src/utils/Common.js"),o=n("./src/reducers/selector.js"),i=n("./src/analytics/constants/actionType.js"),l=n("./src/analytics/constants/index.js"),d=i.a.REPORTS.LIST;function u(){return{types:Object(s.m)(d),callAPI:function(e){var t=Object(o.t)(e),n="/api/v1/reportFolders?"+("departmentId="+t+"&include=reports,default");return Object(a.a)(n,!1,{orgId:e.currentOrgId}).get().then(function(e){var n=e.data,a=void 0===n?[]:n;return a.length?{data:Object(r.b)(a,Object(r.a)(Object(r.c)(l.l.REPORTS))),deptId:t}:{data:a,deptId:t}},function(e){return console.log("Getting error in reports list",e),{data:[],deptId:t}})}}}},"./src/analytics/constants/actionType.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={DASHBOARDS:{DEFAULT:"SET_AS_DEFAULT_DASHBOARD",LIST:"GET_DASHBOARDS_LIST",VIEW:"GET_DASHBOARD",CREATE:"CREATE_DASHBOARD",UPDATE:"UPDATE_DASHBOARD",DELETE:"DELETE_DASHBOARD",FOLDER:{VIEW:"GET_DASHBOARD_FOLDER",CREATE:"CREATE_DASHBOARD_FOLDER",UPDATE:"UPDATE_DASHBOARD_FOLDER",DELETE:"DELETE_DASHBOARD_FOLDER"},COMPONENT:{LIST:"GET_DASHBOARD_COMPONENTS",ADD:"ADD_COMPONENT",UPDATE:"UPDATE_COMPONENT",DELETE:"DELETE_COMPONENT"}},REPORTS:{LIST:"GET_REPORTS_LIST"},GALLERY:"GET_GALLERY_LISTS"}},"./src/analytics/constants/dashboards/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return u});var r=n("./src/fz-i18n/index.js"),a="all-dashboards",s="firstResponse",o="response",i="resolution",l={HOURS_24:"24hours",HOURS_48:"48hours",HOURS_72:"72hours"},d=[{value:r.h.getI18NValue("support.label.print"),iconName:"printing2",iconSize:"15",isArrow:!1,id:2}],u={MULTIPLE_CHART:"MULTIPLE_CHART",LINE_CHART:"LINE_CHART",BAR_CHART:"BAR_CHART",VERTICAL_BAR_CHART:"VERTICAL_BAR_CHART",HORIZONTAL_BAR_CHART:"HORIZONTAL_BAR_CHART",DONUT_CHART:"DONUT_CHART",DIAL_CHART:"DIAL_CHART"}},"./src/analytics/constants/index.js":function(e,t,n){"use strict";n.d(t,"l",function(){return a}),n.d(t,"i",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"j",function(){return p}),n.d(t,"e",function(){return S}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return A});var r=n("./src/fz-i18n/index.js"),a={DASHBOARDS:"dashboards",REPORTS:"reports"},s=31,o="CUSTOM_IN_DATE",i=[{id:"BAR",title:r.h.getI18NValue("support.survey.report.chart.bar")},{id:"STACKEDBAR",title:r.h.getI18NValue("crm.dashboard.label.stacked.bar")},{id:"PERCENTAGEBAR",title:r.h.getI18NValue("crm.dashboard.label.precentage.bar")},{id:"PIE",title:r.h.getI18NValue("crm.report.pie")},{id:"FUNNEL",title:r.h.getI18NValue("crm.report.funnel")},{id:"LINE",title:r.h.getI18NValue("crm.report.line")},{id:"MULTIPLELINE",title:r.h.getI18NValue("support.dashboard.label.multiple.line")},{id:"TABLE",title:r.h.getI18NValue("crm.dashboard.label.table")}],l={BAR:"bar",STACKEDBAR:"stackedBar",PERCENTAGEBAR:"percentageBar",PIE:"pie",FUNNEL:"funnel",LINE:"line",MULTIPLELINE:"multiLine",TABLE:"table",TICKETS:"ticket",TASKS:"task",CONTACTS:"contact",ACCOUNTS:"account",EMBEDED:"embed"},d=[{displayLabel:r.h.getI18NValue("crm.report.record.count"),fieldId:"Record Count"}],u=[{label:r.h.getI18NValue("support.md.label.last24hours"),id:"LAST24HOURS"},{label:r.h.getI18NValue("support.filter.today.label"),id:"TODAY"},{label:r.h.getI18NValue("support.filter.yesterday.lable"),id:"YESTERDAY"}],c=[{label:r.h.getI18NValue("support.survey.last.7days"),id:"LAST_7_DAYS"},{label:r.h.getI18NValue("support.survey.last.30days"),id:"LAST_30_DAYS"},{label:r.h.getI18NValue("Current Week"),id:"THIS_WEEK"},{label:r.h.getI18NValue("Last Week"),id:"LAST_WEEK"},{label:r.h.getI18NValue("Current Month"),id:"THIS_MONTH"},{label:r.h.getI18NValue("Last Month"),id:"LAST_MONTH"},{label:r.h.getI18NValue("Custom"),id:"CUSTOM_IN_DATE"}],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],S=[{value:r.h.getI18NValue("support.setup.label.export"),iconName:"fileExcel",iconSize:"15",id:1}],E=[{value:r.h.getI18NValue("support.overview.export.csv"),id:"csv",index:1},{value:r.h.getI18NValue("support.overview.export.excel"),id:"xls",index:2}],A=[{value:r.h.getI18NValue("support.overview.export.pdf"),id:"pdf",index:3}]},"./src/analytics/containers/ReportsList/ReportsList.js":function(e,t,n){"use strict";n.r(t);var r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n.n(r),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),o=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(d),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(c),S=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),E=n.n(S),A=(n("./src/fz-i18n/index.js"),n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),T=n.n(A),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),_=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),h=n.n(_),f=n("./src/reducers/selector.js"),m=(n("./src/analytics/updateAppStore.js"),n("./src/analytics/constants/index.js")),g=n("./src/analytics/actions/reports/reportsAction.js"),L=function(e){function t(e){o()(this,t);var n=u()(this,(t.__proto__||a()(t)).call(this,e));return n.state={isLoading:!0},n.getList=n.getList.bind(n),n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.reportsFoldersList.length?this.setState({isLoading:!1}):this.setState({isLoading:!0},function(){e.getList()})}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.deptId!==e.deptId&&this.setState({isLoading:!0},function(){n.getList()})}},{key:"getList",value:function(){var e=this;this.props.getReportsList().then(function(){e.setState({isLoading:!1})})}},{key:"render",value:function(){return E.a.createElement(E.a.Fragment,null,"Waiting for Reports List UI Component")}}]),t}(S.Component);t.default=Object(b.connect)(function(e,t){var n=Object(f.t)(e),r=e.analytics,a=void 0===r?{}:r,s=[],o={};if(void 0!==a[n]){var i=a[n];s=i.reportsFoldersList,o=i.module[m.l.REPORTS]}var l=h()("moduleMeta.reports.singularLabel",e)||"",d=h()("moduleMeta.reports.pluralLabel",e)||"";return{orgName:e.routing.paramMap.orgName,deptName:e.routing.paramMap.deptName,viewName:e.routing.paramMap.viewName,moduleMeta:e.moduleMeta,reportSingModuleName:l,reportsModuleName:d,deptId:n,reportsFoldersList:s,reportsView:o}},{getReportsList:g.a})(L),L.propTypes={dashboardSingModuleName:T.a.string,dashboardsModuleName:T.a.string,deptId:T.a.string,deptName:T.a.string,getReportsList:T.a.func,moduleMeta:T.a.object,orgName:T.a.string,reportsFoldersList:T.a.array,reportsView:T.a.object,viewName:T.a.string}},"./src/analytics/updateAppStore.js":function(e,t,n){"use strict";var r,a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(a),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),i=n.n(o),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/redux/es/index.js"),d=n("./src/reducers/createDepartmentSpecificState.js"),u=n("./src/analytics/constants/index.js"),c=n("./src/analytics/constants/dashboards/index.js"),p=n("./src/analytics/constants/actionType.js"),S=n("./src/analytics/utils/dashboards/common.js"),E=(n("./src/fz-i18n/index.js"),p.a.DASHBOARDS),A=E.LIST,T=E.FOLDER,b=E.COMPONENT,_=p.a.GALLERY,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.data;switch(t.type){case _+"_SUCCESS":var r=(n.data||{}).entities.gallery;return void 0===r?{}:r;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.data,r=void 0===n?{}:n;switch(t.type){case _+"_SUCCESS":var a=(r.data||{}).result;return void 0===a?[]:a;default:return e}},m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentDepartmentId:"allDepartment",agentCount:{onlineAgents:0,availableAgents:0,onCallAgents:0,acwAgents:0,busyAgents:0,offlineAgents:0}},n=arguments[1],r=n.data,a=void 0===r?{}:r;switch(n.type){case"ONLINE_AGENTS_LIST_SUCCESS":return i()({},t,{online:a.agentList});case"ONCALL_AGENTS_LIST_SUCCESS":return i()({},t,{oncall:a.agentList});case"ACW_AGENTS_LIST_SUCCESS":return i()({},t,{acw:a.agentList});case"BUSY_AGENTS_LIST_SUCCESS":return i()({},t,{busy:a.agentList});case"OFFLINE_AGENTS_LIST_SUCCESS":return i()({},t,{offline:a.agentList});case"CHANGE_AGENT_AVAILABILITY":var o=a.fromStatus,l=a.toStatus,d=a.userId,u=i()({},t[o]),c=i()({},t[l]);return Object.prototype.hasOwnProperty.call(u,d)&&(c[d]=u[d],delete u[d]),i()({},t,(e={},s()(e,o,u),s()(e,l,c),e));case"TWILIO_DASHBOARD_DEPARTMENT_FILTER_CHANGE":return i()({},t,{currentDepartmentId:a.currentDepartmentId});case"UPDATE_AGENT_COUNT":return i()({},t,{agentCount:a.agentCount});default:return t}},g=p.a.REPORTS.LIST,L=p.a.REPORTS,I=p.a.DASHBOARDS,R=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.type,a=n.data,s=void 0===a?{}:a;if(e===u.l.DASHBOARDS){if(r===I.LIST+"_SUCCESS")return s.data.entities[e];if(r===I.DELETE+"_SUCCESS"){var o=s.dashboardId,l=s.folderId,d=i()({},t),p=d[l]?d[l][u.l.DASHBOARDS]:[],S=d[c.a]?d[c.a][u.l.DASHBOARDS]:[];return p=p.filter(function(e){return e.id!==o}),S=S.filter(function(e){return e.id!==o}),d[l][u.l.DASHBOARDS]=p,d[c.a][u.l.DASHBOARDS]=S,d}if(r===I.FOLDER.DELETE+"_SUCCESS"){var E=s.folderId,A=i()({},t);return A[E]&&delete A[E],A}}else if(e===u.l.REPORTS&&r===L.LIST+"_SUCCESS")return s.data.entities[e];return t}},D=Object(l.c)((r={},s()(r,u.l.DASHBOARDS,R(u.l.DASHBOARDS)),s()(r,u.l.REPORTS,R(u.l.REPORTS)),r)),C=Object(l.c)({dashboardsFoldersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.data,r=void 0===n?{}:n;switch(t.type){case A+"_SUCCESS":return r.data.result||[];case T.DELETE+"_SUCCESS":var a=(r||{}).folderId;return e.filter(function(e){return e!==a})||[];default:return e}},module:D,components:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.data,r=void 0===n?{}:n;switch(t.type){case b.LIST+"_SUCCESS":var a=r||{},o=a.data,l=void 0===o?[]:o,d=a.dashboardId;return l.length&&(l=Object(S.c)(l)),i()({},e,s()({},d,l));case b.ADD+"_SUCCESS":var u=r||{},c=u.data,p=void 0===c?{}:c,E=u.dashboardId,A=e[E]||[];return A.push(p),i()({},e,s()({},E,A));case b.UPDATE+"_SUCCESS":var T=r||{},_=T.componentId,h=T.dashboardId,f=T.data,m=void 0===f?{}:f,g=e[h]||[],L=g.findIndex(function(e){return e.id==_});return g[L]=m,i()({},e,s()({},h,g));case b.DELETE+"_SUCCESS":var I=r||{},R=I.dashboardId,D=I.componentId,C=(e[R]||[]).filter(function(e){return e.id!==D});return i()({},e,s()({},R,C));default:return e}},reportsFoldersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.data;switch(t.type){case g+"_SUCCESS":return n.data.result;default:return e}}}),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=Object(d.a)(C)(e,t);return i()({},n,{galleries:h(e.galleries,t),galleryModule:f(e.galleryModule,t),phoneAvailability:m(e.phoneAvailability,t)})},v=n("./src/updateAppStore.js");Object(v.a)("analytics",O)},"./src/analytics/utils/dashboards/common.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return p});var r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),a=n.n(r),s=n("./src/analytics/constants/dashboards/index.js"),o=n("./src/analytics/constants/index.js");function i(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r].dashboards;n.push.apply(n,a()(o))}return[{departmentId:e,id:s.a,name:"All Dashboards",isCustomizable:!1,dashboards:n}].concat(a()(t))}function l(e,t,n,r,a,s){return r=r>=15?r:24,a=a>=6?a:8,{i:e.toString(),x:t,y:n,w:r,h:a,minW:15,minH:6,maxW:48,maxH:15,componentId:s}}function d(e){return e.forEach(function(t,n){var r=t.style,a=t.id,s=t.position;if(r){var o=r.xCoordinate,i=r.yCoordinate,d=r.width,u=r.height;e[n].layout=l(parseInt(s-1),parseInt(o),parseInt(i),parseInt(d),parseInt(u),a)}else e[n].layout=l(n,n%2*24,1/0,24,8,a)}),e}function u(e){return[{id:"ticket",title:e.tickets.displayLabel},{id:"contact",title:e.contacts.displayLabel},{id:"account",title:e.accounts.displayLabel},{id:"task",title:e.tasks.displayLabel}]}function c(e){var t=e.split("-"),n=t[2],r=t[1]-1;return n+" "+o.j[r]}function p(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=e.length,a=[],s=0;s<r;s++){var o=e[s][t],i=parseInt(e[s][n]),l=c(o);a.push([l,i])}return a}},"./src/updateAppStore.js":function(e,t,n){"use strict";var r=n("./src/createAppStore.js"),a=n("./src/reducers/selector.js"),s=Object(r.a)();t.a=function(e,t){s.injectAsyncReducer(e,t),s.dispatch({type:"RE_INIT_DEPARTMENT",data:{deptId:Object(a.t)(s.getState())}})}}}]);