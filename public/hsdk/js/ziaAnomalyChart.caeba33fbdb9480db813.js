(window.deskappJsonp=window.deskappJsonp||[]).push([[177],{"../components/lib/Button/Button.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),n=s(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=s(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=s(a("../components/lib/Button/Button.module.css")),l=a("../components/lib/utils/dummyFunction.js");function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.palette,o=e.disabled,r=e.size,l=e.onClick,s=e.rounded,d=e.status,c=e.children,u=e.isBold,h=e.dataId,p=e.needAppearance,g=e.className,f=e.getRef,m=p?i.default[a.toLowerCase()]+" "+(s?i.default.rounded:"")+"   "+(c?i.default["button_"+r.toLowerCase()]:i.default[r.toLowerCase()]):""+i.default.default;return n.default.createElement("button",{className:(g||"")+" "+m+" "+(u?i.default.bold:"")+"  ","data-id":o?h+"_disabled":h,disabled:o||"loading"===d.toLowerCase(),onClick:l,type:"button",ref:f},c||t,"none"!==d&&p&&n.default.createElement("div",{className:i.default.overlay},n.default.createElement("div",{className:"loading"===d.toLowerCase()?i.default.loading:i.default.success},n.default.createElement("div",{className:i.default.element}))))}}]),t}();t.default=d,d.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:l.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},d.propTypes={children:r.default.node,className:r.default.string,dataId:r.default.string,disabled:r.default.bool,getRef:r.default.func,isBold:r.default.bool,needAppearance:r.default.bool,onClick:r.default.func,palette:r.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:r.default.bool,size:r.default.oneOf(["small","medium","large","xlarge"]),status:r.default.oneOf(["loading","success","none"]),text:r.default.string},d.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"./src/analytics/utils/dashboards/chartUI.js":function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"f",function(){return n}),a.d(t,"g",function(){return r}),a.d(t,"e",function(){return i}),a.d(t,"a",function(){return l}),a.d(t,"d",function(){return s}),a.d(t,"b",function(){return d}),a.d(t,"h",function(){return c}),a.d(t,"i",function(){return u}),a.d(t,"j",function(){return h}),a.d(t,"o",function(){return p}),a.d(t,"p",function(){return g}),a.d(t,"n",function(){return f}),a.d(t,"q",function(){return m}),a.d(t,"k",function(){return b}),a.d(t,"l",function(){return v}),a.d(t,"m",function(){return y}),a.d(t,"s",function(){return F}),a.d(t,"r",function(){return C}),a.d(t,"v",function(){return k}),a.d(t,"u",function(){return x}),a.d(t,"t",function(){return w});var o="bar",n="line",r="pie",i="funnel",l="area",s="dial",d="arearange",c=["#00a3fe","#1fbe28","#EF8B00","#E24B4B","#e5d569","#50C1E5","#9FD376","#FAD067","#54D6BC","#F05368","#AD92E6","#F087BB","#6CC7CD","#f7a35c","#8085e9","#2b908f","#e4d354","#D0A549","#BAC3D2","#725da2","#109618","#D2B48C","#91e8e1","#d54852","#cdd548","#ff9900","#45d1ba","#87CEFA","#48d54b","#d58048","#edc54b","#F5DEB3","#659b07","#6CA0CD","#629AEC","#45CEB0","#FB6C59","#7cb5ec","#fa6b5b","#43AEA8","#f05d6c","#f15c80"];function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Regular",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#272c32";return{canvas:{fontWeight:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bold",fontFamily:e,fontSize:t,fontColor:a,theme:"zczdtheme"}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return{chart:{effects:{choice:e},axes:{xaxis:{label:{show:t,text:a},ticklabel:{alignMode:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"auto",maxWidth:arguments.length>6&&void 0!==arguments[6]?arguments[6]:"13%"}},yaxis:[{label:{show:o,text:n}}]},plot:{plotoptions:{}}}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"values",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{bar:{multiColoring:!(arguments.length>5&&void 0!==arguments[5])||arguments[5],maxBandWidth:e,fillOpacity:1,stacked:{enabled:t,showAs:a},datalabels:{show:o,fontWeight:"bold",labelPos:"middle",stackLabels:{show:n,fontWeight:"bold"}}}}}function g(){return{line:{mode:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"monotone",marker:{innerFillOpacity:1,innerStrokeOpacity:1,innerFillColor:"#FFFFFF",outerFillOpacity:.5,outerStrokeOpacity:1},hoveroptions:{innerFillColor:"#FFFFFF"}}}}function f(){return{area:{fillOpacity:"0.2",size:1.5,mode:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"monotone",stacked:{enabled:!1,showAs:"values"},marker:{enabled:!0,innerFillOpacity:1,innerStrokeOpacity:1,innerFillColor:"#FFFFFF",outerFillOpacity:.5,outerStrokeOpacity:1},hoveroptions:{innerFillColor:"#FFFFFF"}}}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{pie:{innerRadius:e,strokeWidth:t,outerPadding:5,sliceOutHeight:2.5,fillOpacity:"0.9",datalabels:{show:o,type:"doubleside",innerLabel:{show:o}}},gradients:{type:"radial",options:{radial:{radius:100,x:0,y:0,stopOffset:["0%","80%","81%","100%"],stopOpacity:[1,1],spreadMethod:"pad",gradientUnits:"userSpaceOnUse",colorGamma:[.5,.1,.1,-1]}}},datalabels:{show:a,showAs:"y"}}}function b(){return{legend:{enabled:arguments.length>0&&void 0!==arguments[0]&&arguments[0],colorBox:{shape:null},title:{show:arguments.length>1&&void 0!==arguments[1]&&arguments[1],text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",fontWeight:"bold"},hAlign:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"center",vAlign:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom",fontColor:"#333",itemMargin:5}}}function v(){return{metadata:{axes:{x:[0],y:[[1]],clr:[2],tooltip:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1]},columns:[{dataindex:0,columnname:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",datatype:"ordinal"},{dataindex:1,columnname:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",datatype:"numeric"},{columnname:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""}]}}}function y(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{notes:{enabled:e,chartValues:[{type:"customNote",x:function(e,t,a){var o=a.getBoundingClientRect();return e.plotarea.left+e.plotarea.width/2-o.width/2},y:function(e,t,a){var o=a.getBoundingClientRect();return e.plotarea.top+e.plotarea.height/2-o.height/2},htmlEl:function(e,a){var o=e.seriesdata[0].data[0],n=e.dataset,r=e.seriesdata[0].yaxiscolumnorder,i=e.systemConf.metadata.axes.y[0][0],l=e.systemConf.metadata.columns[i];r=r instanceof Array?r[0]:r;var s=o.reduce(function(e,t,a){return e+(t.disabled?0:Math.abs(n.getY(t,r)))},0);return"<div class='tac s-light' style='text-align: center'><span id='rpt_notecount' class='rpt_ntecnt' style='font: 18px var(--zd_bold);color: #1e2633'>"+(s=$ZC.getFormattedValue(l[l.datatype],s,l.datatype))+"</span></br><span class='DvsubHead content-dotted rpt_cntspan' style='font-size: 12px;color: #000' title="+t+">"+t+"</span></div>"}}]}}}function F(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],o=arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["#FFF"];return{threshold:{line:{show:e,values:t,color:o,dashStyle:arguments.length>5&&void 0!==arguments[5]?arguments[5]:["shortdash"],label:{text:a,fontColor:n}}}}}function C(){return{scroll:{enabled:!0,categoryThickness:arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,slider:{radius:2,strokeWidth:0},resizer:{enabled:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}}}function k(e,t){var a=t.isAxisCategory||t.isNonAxisMultiSeriesCategory||t.dataObject.isPolarAxisCategory?t.seriesdata[e]:t.seriesdata[0].data[0][e];t.legend.component.filterSeriesNUpdate(a,e,t)}function x(e,t){return t.seriesdata[0].data[0].filter(function(e){return!e.disabled}).length>1||!e}function w(e,t){var a=t.filter(function(e){return!e}).length,o=t[e];return!o&&a>1||o}},"./src/components/dashboards/Chart/Chart.js":function(e,t,a){"use strict";var o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),n=a.n(o),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=a.n(r),l=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(l),d=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),c=a.n(d),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=a.n(u),p=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),g=a.n(p),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),m=a.n(f),b=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=a.n(b),y=a("./src/utils/ChartUI.js"),F=function(e){function t(e){s()(this,t);var a=h()(this,(t.__proto__||i()(t)).call(this,e));return a.chartObj=null,a.redraw=a.redraw.bind(a),a.isChartDifference=a.isChartDifference.bind(a),a}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.onChange;this.chartObj=y.a.Dashboard.drawZCharts(this.chart,t),a&&a(this.chartObj),window.addEventListener("resize",this.redraw)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,o=a.data,r=a.onChange;n()(o).length&&n()(e.data).length&&(this.isChartDifference(e.data,o)?this.chartObj=y.a.Dashboard.drawZCharts(this.chart,o):n()(this.chartObj).length&&(this.chartObj.userdata=o,this.chartObj.redraw())),r&&r(this.chartObj)}},{key:"isChartDifference",value:function(e,t){if(n()(e).length&&n()(t).length)try{var a=e.seriesdata.chartdata,o=t.seriesdata.chartdata,r=a.length;if(r!==o.length)return!0;for(var i=0;i<r;i++){var l=a[i],s=l.type,d=l.data,c=o[i],u=c.type,h=c.data;if(s!==u)return!0;if("bar"===s&&"bar"===u&&e.chart.plot.plotoptions.bar.stacked.showAs!==t.chart.plot.plotoptions.bar.stacked.showAs)return!0;var p=d[0].length;if(p!==o[i].data[0].length)return!0;for(var g=0;g<p;g++){var f=d[0][i],m=h[0][i];if(f[0]!==m[0]||f[1]!==m[1])return!0}}return!1}catch(e){return!0}}},{key:"redraw",value:function(){n()(this.chartObj).length&&this.chartObj.redraw()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.redraw)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,o=t.id;return m.a.createElement("div",{className:a,id:o,"data-id":o,ref:function(t){e.chart=t}})}}]),t}(f.PureComponent);t.a=F,F.defaultProps={id:"chart"},F.propTypes={className:v.a.string.isRequired,data:v.a.object.isRequired,id:v.a.string,onChange:v.a.func}},"./src/components/zia/zianotifications/ZiaAnomalyChart/ZiaAnomalyChart.js":function(e,t,a){"use strict";a.r(t);var o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),n=a.n(o),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),i=a.n(r),l=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),s=a.n(l),d=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=a.n(d),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),h=a.n(u),p=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),g=a.n(p),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=a.n(f),b=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),v=a.n(b),y=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),F=a.n(y),C=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),k=a.n(C),x=a("./src/components/zia/zianotifications/ZiaAnomalyChart/ZiaAnomalyChart.module.css"),w=a.n(x),_=a("../components/lib/Layout/index.js"),z=a("../components/lib/Button/Button.js"),A=a.n(z),j=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),D=a.n(j),O=a("./src/components/dashboards/Chart/Chart.js"),S=a("./src/fz-i18n/index.js"),T=a("./src/analytics/utils/dashboards/chartUI.js"),B=S.h.getI18NValue,R={getMetaData:function(e){return{metadata:{axes:{x:[0],y:[[1]],tooltip:[0,1],clr:[2]},columns:[{dataindex:0,columnname:B("crm.events.time"),datatype:"ordinal"},{dataindex:1,columnname:e,datatype:"numeric"},{columnname:""}]}}},getCanvasData:function(e){return{canvas:{title:{text:B("support.zia.anomaly.notification.for")+" "+e},subtitle:{show:!1},border:{size:1,show:!0,radius:10},shadow:{show:!0},fontSize:"12",fontFamily:"Semibold",fontColor:"#272c32"}}},getSeriesData:function(e){for(var t=[],a=e.data,o=e.anomaly,n={},r=0;r<a.length;r++)n={type:11,seriesname:B(e.seriesnames[r]),data:[a[r]]},t.push(n);return o&&(n={type:"scatter",seriesname:B("support.label.anomaly"),data:[o],plotoptions:{marker:{symbol:"star"},hoveroptions:{symbol:"star"}}},t.push(n)),{seriesdata:{chartdata:t}}},getChartAxesData:function(e,t){return{chart:{axes:{xaxis:{label:{text:e,fontWeight:"bold",marginTop:30},axisline:{show:!0,style:"shortdash",strokeWidth:2,color:"rgba(206,207,208,0.6)"},ticklabel:{fontFamily:"Regular"}},yaxis:[{label:{text:B("support.dashboard.noofresponses"),fontWeight:"bold",marginRight:15},axisline:{show:!1},grid:{style:"dashed",strokeWidth:1.75,color:"#eee"},ticklabel:{marginRight:20,fontFamily:"Semibold"}}]},plot:{plotoptions:{line:{mode:"monotone",marker:{innerFillOpacity:1,innerStrokeOpacity:1,innerFillColor:"#FFFFFF",outerFillOpacity:.5,outerStrokeOpacity:1},hoveroptions:{innerFillColor:"#FFFFFF"}}}}},legend:{colors:["#fece55","tickets_incoming"===t?"#609af4":"#49ceaf","#ec5463"],hAlign:"right",vAlign:"bottom",shapes:["circle","circle","star"],colorBox:{fillColor:"#FFFFFF"}}}},getAMPMWithSpace:function(e){return e<12?e?e+" AM":"12 AM":24===e?"12 AM":12===e?e+" PM":e-12+" PM"},getTrendTagChart:function(e,t){var a=[];e.forEach(function(e,t){var o=e.label,n=parseInt(e.count);a.push([o,n])});var o=R.getCanvasData(t),n=R.getMetaData(B("support.overview.count")),r=i()({},o,n);r.canvas.title.text=t,r.metadata.axes.tooltip=["<div style='padding:10px 14px'><div style='font-size:10px; font-family:Regular'>{{col(0)}} - {{val(0)}}</div><div style='margin-top:5px; font-size:10px; font-family:Regular'>{{col(1)}} - {{val(1)}}</div></div>"],r.metadata.columns[0].columnname=B("support.search.tag");var l={seriesdata:{chartdata:[{type:"bar",data:a}]},chart:{axes:{xaxis:{label:{show:!0,text:B("support.search.tag"),marginTop:30},ticklabel:{rotation:"auto",fontColor:"",marginTop:13,fontFamily:"Regular"},axisline:{style:"shortdash",strokeWidth:2,color:"rgba(206,207,208,0.6)"},tickmark:{color:"#FFF"}},yaxis:[{label:{show:!0,text:B("support.overview.count"),marginRight:25},grid:{color:"rgba(241,241,241,0.6)",style:"shortdash",strokeWidth:1.75},axisline:{show:!1},tickmark:{color:"#FFFFFF"},ticklabel:{rotation:"auto",fontColor:"",marginRight:20,fontFamily:"Regular"}}]},plot:{plotoptions:{bar:{multiColoring:!0,maxBandWidth:50,fillOpacity:1,border:{show:!1,size:1,color:"#FFF"}}}}},tooltip:{backgroundColor:"#ffffff",opacity:1},legend:{colors:T.h}};return i()(r,l)}},M=R,P=S.h.getI18NValue,E=function(e){function t(e){c()(this,t);var a=g()(this,(t.__proto__||s()(t)).call(this,e));return a.state={anomaly:null,tags:null,chartType:"anomaly"},a.renderChart=a.renderChart.bind(a),a.getchartData=a.getchartData.bind(a),a.tickLabelClick=a.tickLabelClick.bind(a),a.goback=a.goback.bind(a),a}return m()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"tickLabelClick",value:function(e,t,a){var o=this,n=this.props,r=n.getZiaTopicTags,i=n.properties.depId,l=t.data;if(l[1].value){var s=l[2].value,d=s.value||null,c=s.fromTime||null,u=s.toTime||null;if(c){var h=1===d?24:d-1,p=P("support.zia.tag.chart.title",[M.getAMPMWithSpace(h),M.getAMPMWithSpace(d)]);r(c,u,i).then(function(e){var t=M.getTrendTagChart(e.data,p);o.setState({tags:t,chartType:"tags"})})}}}},{key:"getchartData",value:function(e,t){var a={tickets_incoming:"support.history.filter.incomingresponse",tickets_respond:"support.history.filter.outgoingresponse"},o=M.getMetaData(P(a[e.type])),n=M.getCanvasData(P(a[e.type])),r=M.getChartAxesData(P({day:"support.hours.day",week:"crm.workflow.task.remindvalue2",month:"crm.workflow.task.remindvalue2",year:"crm.workflow.task.remindvalue3"}[e.period]),e.type),l=M.getSeriesData(e);i()(o,l),i()(o,n),i()(o,r),i()(o,{tooltip:{backgroundColor:"#ffffff",opacity:1,fontColor:"#272c32"}}),o.chart.axes.xaxis.label.marginTop=10,o.chart.axes.yaxis[0].ticklabel={marginRight:10},o.chart.marginRight=20,o.metadata.axes.tooltip=["<div style='padding:10px 14px'>\n          <div style='font-size:12px'>\n            {{val(2)}}\n          </div>\n          <div style='margin-top:10px; font-size:10px; font-family:SemiBold'>\n            {{col(0)}} - {{val(0)}}\n          </div>\n          <div style='margin-top:5px; font-size:10px; font-family:SemiBold;'>\n            {{col(1)}} - {{val(1)}}\n          </div>\n      </div>"],void 0!==t&&t&&(o.chart.plot.events={click:this.tickLabelClick}),this.setState({anomaly:o,chartType:"anomaly"})}},{key:"renderChart",value:function(){var e=this.props,t=e.properties,a=e.category;if(n()(t).length){var o="ANOMALY"===a?k()("anomaly",t):"";o&&"string"==typeof o&&(o=JSON.parse(o));for(var r=function(e){return e<12?e?e+"AM":"12AM":24===e?"12AM":12===e?e+"PM":e-12+"PM"},i=[],l=[],s=[],d=0;d<o.trend.length;d++){var c=r(parseInt(o.trend[d].value));i.push([c,parseInt(o.trend[d].count)])}for(var u=0;u<o.current.length;u++){var h=parseInt(o.current[u].value),p=r(h);if(o.current[u].anomaly||!1){var g=o.current[u].fromTime||null,f=o.current[u].toTime||null,m=[p,parseInt(o.current[u].count),{value:h,fromTime:g,toTime:f}];l.push(m),s.push(m)}else l.push([p,parseInt(o.current[u].count)])}var b={data:[]};b.data.push(i),b.data.push(l),b.seriesnames=["support.zia.anomaly.notification.trend","support.zia.anomaly.notification.currentseries","support.label.anomaly"],b.type=o.type,b.period=o.period,b.anomaly=s;var v=t.depId;this.getchartData(b,v)}}},{key:"goback",value:function(){this.setState({chartType:"anomaly"})}},{key:"render",value:function(){var e=this.state.chartType;return v.a.createElement(_.Container,{className:w.a.detail,alignBox:"row",align:"vertical"},v.a.createElement(_.Box,{column:"12",shrink:!0,className:w.a.detailBox},"tags"===e&&v.a.createElement("span",{className:w.a.btn},v.a.createElement(A.a,{needAppearance:!1,className:w.a.btnVal,onClick:this.goback},v.a.createElement(D.a,{name:"ZD-arrowLeft3",size:"10"}),v.a.createElement("span",{className:w.a.btnText},P("support.dashboard.label.back.charts")))),this.state[e]&&v.a.createElement(O.a,{data:this.state[e],className:w.a.fullchart})))}}]),t}(v.a.Component);t.default=E;E.propTypes={category:F.a.string,getZiaTopicTags:F.a.func,properties:F.a.object}},"./src/components/zia/zianotifications/ZiaAnomalyChart/ZiaAnomalyChart.module.css":function(e,t,a){e.exports={detail:"zd-ziaanomalychart-detail",detailBox:"zd-ziaanomalychart-detailBox",fullchart:"zd-ziaanomalychart-fullchart",btnText:"zd-ziaanomalychart-btnText",btn:"zd-ziaanomalychart-btn",btnVal:"zd-ziaanomalychart-btnVal"}},"./src/utils/ChartUI.js":function(e,t,a){"use strict";var o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),n=a.n(o),r=a("ZC"),i=a.n(r),l={PIE_CHART:"pie",BAR_CHART:"bar",LINE_CHART:"line",AREA_CHART:"area",DIAL_CHART:"dial"};l.Dashboard={getCanvasData:function(){return{canvas:{title:{show:!1},subtitle:{show:!1},border:{show:!1},shadow:{show:!1},fontWeight:"normal",fontStyle:"normal",fontFamily:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Regular",fontSize:arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,fontColor:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#999",intelligence:{dataCount:{datalabels:1e3}}}}},getChartAxesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dropShadow",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],c=arguments.length>10&&void 0!==arguments[10]&&arguments[10],u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:[];return{chart:{effects:{choice:e,options:{dropShadow:{color:"#CACACA",dy:3,dx:3,blur:1.5}}},axes:{rotated:!1,xaxis:{show:t,label:{show:a,text:o},ticklabel:{rotation:"auto",fontColor:n,marginTop:13},axisline:{show:r},tickmark:{color:"#FFF"}},yaxis:[{show:i,label:{show:l,text:s},grid:{color:"rgba(241,241,241,0.6)",style:"shortdash",strokeWidth:1},axisline:{show:d},tickmark:{color:"#FFFFFF"},ticklabel:{rotation:"auto",fontColor:n},threshold:{line:{show:c,values:u,color:h,dashStyle:["shortdash","shortdash"],strokeWidth:1,marker:{enabled:!0,symbol:"circle",fillColor:h,strokeColor:h,strokeWidth:.75},label:{text:"",hAlign:"center"}}}}]},plot:{plotoptions:{}}}}},getPlotOptionForBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"values",n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{bar:{multiColoring:!(arguments.length>5&&void 0!==arguments[5])||arguments[5],maxBandWidth:e,fillOpacity:1,border:{show:t,radius:"5 5 0 0",size:1,color:"#FFF"},stacked:{enabled:a,showAs:o},datalabels:{show:n,fontWeight:"bold"}}}},getPlotOptionForLine:function(){return{line:{mode:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"monotone",marker:{innerFillOpacity:1,innerStrokeOpacity:1,innerFillColor:"#FFFFFF",outerFillOpacity:.5,outerStrokeOpacity:1},hoveroptions:{innerFillColor:"#FFFFFF"}}}},getPlotOptionForArea:function(){return{area:{fillOpacity:"0.2",size:1.5,mode:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"monotone",stacked:{enabled:!1,showAs:"values"},marker:{enabled:!0,innerFillOpacity:1,innerStrokeOpacity:1,innerFillColor:"#FFFFFF",outerFillOpacity:.5,outerStrokeOpacity:1},hoveroptions:{innerFillColor:"#FFFFFF"}}}},getPlotOptionForPie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{pie:{innerRadius:e,strokeWidth:t,outerPadding:5,sliceOutHeight:2.5,fillOpacity:"0.9",datalabels:{show:o,type:"doubleside",innerLabel:{show:o}}},datalabels:{show:a,showAs:"y"}}},getLegendData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"center",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom";return{legend:{enabled:e,colorBox:{shape:!(arguments.length>5&&void 0!==arguments[5])||arguments[5]?"square":null,strokewidth:1},title:{show:t,text:a,fontWeight:"bold"},colorPallete:{type:"multicolor",options:{multicolor:"zohosupport"}},hAlign:o,vAlign:n,fontColor:"#333"}}},getTooltipData:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{tooltip:{enabled:e,crosshair:arguments.length>2&&void 0!==arguments[2]&&arguments[2],crosshairColor:"#0f7369",sharedSeriesInfo:t,fontSize:12,backgroundColor:"#ffffff",opacity:2,borderWidth:"5 1 1 1",lineHeight:25,shadow:"2px 2px 2px rgba(0,0,0,0.3)"}}},getSharedTooltip:function(){return{tooltip:{enabled:!0,fontSize:12,sharedSeriesInfo:!0,backgroundColor:"#272c32",fontColor:"#FFF",opacity:1,shadow:"2px 2px 2px rgba(0,0,0,0.3)",lineHeight:20,hookHeight:0}}},getMetaData:function(){return{metadata:{axes:{x:[0],y:[[1]],clr:[2],tooltip:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1]},columns:[{dataindex:0,columnname:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",datatype:"ordinal"},{dataindex:1,columnname:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",datatype:"numeric"},{columnname:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""}]}}},getNoteData:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"");return{notes:{enabled:e,chartValues:[{type:"customNote",x:function(e,t,a){var o=a.getBoundingClientRect();return e.plotarea.left+e.plotarea.width/2-o.width/2},y:function(e,t,a){var o=a.getBoundingClientRect();return e.plotarea.top+e.plotarea.height/2-o.height/2},htmlEl:function(e,a){var o=e.seriesdata[0].data[0],n=e.dataset,r=e.seriesdata[0].yaxiscolumnorder,l=e.systemConf.metadata.axes.y[0][0],s=e.systemConf.metadata.columns[l];r=r instanceof Array?r[0]:r;var d=o.reduce(function(e,t,a){return e+(t.disabled?0:Math.abs(n.getY(t,r)))},0),c="<div class='tac s-light'><span id='rpt_notecount' class='rpt_ntecnt'  >"+(d=.1==(d=i.a.getFormattedValue(s[s.datatype],d,s.datatype))?0:d)+"</span></br><span class='DvsubHead content-dotted rpt_cntspan' title="+t+">"+t+"</span></div>";return c=t||c}}]}}},getDonutChartData:function(e,t,a,o,r,i,s){var d=['<span style="font-size:14px">{{val(0)}} &#40;{{per(1)}}&#41;</span> <br/>','<span><span style="font-size:23px">{{val(1)}}</span> '+t+"</span>"],c=l.Dashboard.getCanvasData("Regular",40),u=l.Dashboard.getChartAxesData(),h=l.Dashboard.getPlotOptionForPie(e,"0"),p=l.Dashboard.getMetaData(d);c=n()({},c,u,p),u.chart.plot.plotoptions=n()({},u.chart.plot.plotoptions,h);var g={legend:{enabled:!1,colors:a},tooltip:{enabled:o,fontColor:"#FFF"},loader:{htmlEl:"<div></div>"},seriesdata:{chartdata:[{type:"pie",yaxiscolumnorder:[0],data:[r]}]}};if(g=n()({},g,c),i){var f=s?l.Dashboard.getNoteData(!0,"",s):l.Dashboard.getNoteData(!0,t);g=n()({},g,f)}return g},getPlotOptionForDial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"6.28",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"25",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#333",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"percent",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#49ceaf";return{dial:{startAngle:e,endAngle:t,innerRadius:a,outerPadding:5,needle:{show:!1},minmaxlabels:{show:!1},datalabels:{fontSize:o,fontColor:n,showAs:r},levelMarker:{strokeColor:i,color:[i]}}}},getCircleChartData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ec5463",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#49ceaf",o=l.Dashboard.getCanvasData('"ProximaNovaRegular",Arial,Helvetica,sans-serif'),r=l.Dashboard.getPlotOptionForDial(0,6.28,"92%",23,"#333","percent",a);return n()(o,l.Dashboard.getMetaData(),{chart:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,plot:{plotoptions:r},axes:{yaxis:[{show:!1,maxRange:100}]}},seriesdata:{chartdata:[{type:l.DIAL_CHART,yaxiscolumnorder:[0],data:[[["circle",e]]]}]},legend:{colors:[t]}}),o},getScrollData:function(){return{scroll:{enabled:!0,categoryThickness:arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,slider:{radius:2,strokeWidth:0},resizer:{enabled:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}}},drawZCharts:function(e,t){try{return new i.a.charts(e,t)}catch(e){console.log("draw ZCharts exception",e)}},filterSeriesNUpdate:function(e,t){var a=t.isAxisCategory||t.isNonAxisMultiSeriesCategory||t.dataObject.isPolarAxisCategory?t.seriesdata[e]:t.seriesdata[0].data[0][e];t.legend.component.filterSeriesNUpdate(a,e,t)}},t.a=l}}]);