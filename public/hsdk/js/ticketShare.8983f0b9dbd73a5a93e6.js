(window.deskappJsonp=window.deskappJsonp||[]).push([[158],{"../components/lib/AvatarTeam/AvatarTeam.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),o=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=c(n("../components/lib/AvatarTeam/AvatarTeam.module.css")),l=c(n("../components/lib/Avatar/Avatar.js")),r=n("../components/lib/utils/dummyFunction.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,o=e.palette,r=e.onClick,c=e.title,d=e.isFilled,u=e.dataId;return i.default.createElement("span",{className:s.default.container+" "+s.default[a]+" "+s.default[o],"data-id":u},i.default.createElement(l.default,{name:n,onClick:r,palette:o,size:a,src:t,title:c}),i.default.createElement("span",{className:s.default.team+" "+(d?s.default.filled:s.default.nofill)}))}}]),t}();t.default=d,d.defaultProps={isFilled:!1,palette:"primary",size:"medium",src:null,title:null,onClick:r.dummyFunction,dataId:"avatarTeamComp"},d.propTypes={dataId:o.default.string,isFilled:o.default.bool,name:o.default.string.isRequired,onClick:o.default.func,palette:o.default.oneOf(["primary","secondary","info"]),size:o.default.oneOf(["small","xsmall","medium","xmedium","large","xlarge"]),src:o.default.string,title:o.default.string},d.propTypesDescription={name:" ",size:" ",src:" ",palette:" ",onClick:" ",title:" ",isFilled:" "}},"../components/lib/Button/Button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=r(n("../components/lib/Button/Button.module.css")),l=n("../components/lib/utils/dummyFunction.js");function r(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette,a=e.disabled,o=e.size,l=e.onClick,r=e.rounded,c=e.status,d=e.children,u=e.isBold,p=e.dataId,h=e.needAppearance,f=e.className,m=e.getRef,g=h?s.default[n.toLowerCase()]+" "+(r?s.default.rounded:"")+"   "+(d?s.default["button_"+o.toLowerCase()]:s.default[o.toLowerCase()]):""+s.default.default;return i.default.createElement("button",{className:(f||"")+" "+g+" "+(u?s.default.bold:"")+"  ","data-id":a?p+"_disabled":p,disabled:a||"loading"===c.toLowerCase(),onClick:l,type:"button",ref:m},d||t,"none"!==c&&h&&i.default.createElement("div",{className:s.default.overlay},i.default.createElement("div",{className:"loading"===c.toLowerCase()?s.default.loading:s.default.success},i.default.createElement("div",{className:s.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:l.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:o.default.node,className:o.default.string,dataId:o.default.string,disabled:o.default.bool,getRef:o.default.func,isBold:o.default.bool,needAppearance:o.default.bool,onClick:o.default.func,palette:o.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:o.default.bool,size:o.default.oneOf(["small","medium","large","xlarge"]),status:o.default.oneOf(["loading","success","none"]),text:o.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/ListItem/ListItemWithAvatar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),o=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=n("../components/lib/Layout/index.js"),l=u(n("../components/lib/ListItem/ListItem.module.css")),r=u(n("../components/lib/Avatar/Avatar.js")),c=u(n("../components/lib/AvatarTeam/AvatarTeam.js")),d=u(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.getRef=n.getRef.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),a(t,[{key:"getRef",value:function(e){this.ele=e;var t=this.props,n=t.index,a=t.getRef,i=t.id;a&&a(e,n,i)}},{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,a=t.id,i=t.value,o=t.index;n&&n(a,i,o,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,n=t.onMouseEnter,a=t.id,i=t.value,o=t.index;n&&n(a,i,o,e)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.size),n=e.active,a=e.highlight,o=e.value,u=e.name,p=e.imgSrc,h=e.autoHover,f=e.isTeam,m=e.palette,g=e.title,b=e.needTick,v=e.isTick,y=e.dataId;return i.default.createElement(s.Container,{isCover:!1,align:"vertical",alignBox:"row",className:l.default.list+" "+l.default[t]+"  "+l.default[m]+"  "+(n?l.default.active:v?l.default.selected:a?l.default.hover:"")+" "+(h?l.default.effect:"")+" "+(b?l.default.withTick:null),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,eleRef:this.getRef,tagName:"li",dataId:(o||y)+"_ListItemWithAvatar"},u||p?i.default.createElement(s.Box,{className:l.default.left},f?i.default.createElement(c.default,{name:u,size:"xsmall",src:p}):i.default.createElement(r.default,{name:u,size:"xsmall",src:p})):null,o?i.default.createElement(s.Box,{flexible:!0,shrink:!0,"data-title":g,className:l.default.value},o):null,v?i.default.createElement("div",{className:l.default.tickIcon},i.default.createElement(d.default,{name:"ZD-ticknew",size:"10"})):null)}}]),t}();t.default=p,p.defaultProps={active:!1,autoHover:!1,highlight:!1,isTeam:!1,isTick:!1,needTick:!1,palette:"default",size:"medium",value:"List",dataId:"listAvatar"},p.propTypes={active:o.default.bool,autoHover:o.default.bool,dataId:o.default.string,getRef:o.default.func,highlight:o.default.bool,id:o.default.oneOfType([o.default.string,o.default.number]),imgSrc:o.default.string,index:o.default.number,isTeam:o.default.bool,isTick:o.default.bool,name:o.default.string,needTick:o.default.bool,onClick:o.default.func,onMouseEnter:o.default.func,palette:o.default.string,size:o.default.string,title:o.default.string,value:o.default.string},p.propTypesDescription={value:" ",onClick:" ",onMouseEnter:" ",active:" ",highlight:" ",autoHover:" ",getRef:" ",palette:" ",id:" ",index:" ",size:" ",imgSrc:" ",title:" "}},"../components/lib/MultiSelect/EmptyState.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(n("../components/lib/MultiSelect/MultiSelect.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.emptyMessage,n=e.isLoading,a=e.noMoreOptionsMessage,o=e.options,l=e.searchEmptyMessage,r=e.searchString,c=e.suggestions,d=e.dataId;return n?i.default.createElement("div",{className:s.default.message,"data-id":d+"_Loading"},"Loading..."):r.length&&0===c.length?i.default.createElement("div",{className:s.default.message,"data-id":d+"_srchEmptyMsg"},l||t):0===o.length?i.default.createElement("div",{className:s.default.message,"data-id":d+"_noOptnsMsg"},t):i.default.createElement("div",{className:s.default.message,"data-id":d+"_NoMoreOptionMsg"},a||t)}}]),t}();t.default=r,r.propTypes={dataId:o.default.string,emptyMessage:o.default.string,isLoading:o.default.bool,noMoreOptionsMessage:o.default.string,options:o.default.array,searchEmptyMessage:o.default.string,searchString:o.default.string,suggestions:o.default.array},r.defaultProps={dataId:"empty"}},"../components/lib/MultiSelect/MultiSelect.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSelectComponent=void 0;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=O(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=O(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=O(n("../components/lib/Popup/Popup.js")),r=O(n("../components/lib/DropBox/DropBox.js")),c=O(n("../components/lib/TextBox/TextBox.js")),d=O(n("../components/lib/Tag/Tag.js")),u=n("../components/lib/Layout/index.js"),p=n("../components/lib/Card/Card.js"),h=O(p),f=O(n("../components/lib/MultiSelect/Suggestions.js")),m=O(n("../components/lib/MultiSelect/EmptyState.js")),g=O(n("../components/lib/MultiSelect/MultiSelectHeader.js")),b=O(n("../components/lib/MultiSelect/MultiSelect.module.css")),v=O(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),y=n("../components/lib/utils/Common.js"),S=n("../components/lib/utils/dropDownUtils.js");function O(e){return e&&e.__esModule?e:{default:e}}function k(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var D=[],_=t.MultiSelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,S.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,S.makeFormatOptions)(),n.getSelectedOptions=(0,S.makeGetMultiSelectSelectedOptions)(),n.objectConcat=(0,S.makeObjectConcat)(),n.formatSelectedOptions=(0,S.makeFormatOptions)();var a=n.props,i=a.selectedOptions,o=a.searchDebounceTime,s=void 0===o?500:o,l=n.handleFormatOptions(n.props),r=l.allOptions,c=l.normalizedAllOptions,d=l.normalizedFormatOptions,u=n.handleGetSelectedOptions(i,d,n.props),p=u.formatSelectedOptions,h=u.normalizedSelectedOptions,f=u.selectedOptionIds;return n.state={options:r,optionsNormalize:c,selectedOptions:p,selectedOptionIds:f,searchStr:"",hoverOption:0,isFetchingOptions:!1,highLightedSelectOptions:[],lastHighLightedSelectOption:"",shiftKeyPressHighLighted:0,isActive:!1},n.allSelectedOptionsDetails=h,n.suggestionsOrder=[],n._isMounted=!1,y.bind.apply(n,["handleInputCick","handleFilterSuggestions","handleKeyDown","handleSelectAll","handleDeselectAll","handleSelectOption","handleRemoveOption","handleSearch","handleClickSelectedOption","handleChange","handlePopupClose","togglePopup","selectedOptionRef","searchInputRef","suggestionContainerRef","suggestionItemRef","selectedOptionContainerRef","handleActive","handleInactive","handleMouseEnter","handleFetchOptions","handleFormatOptions","handleGetSelectedOptions","handleComponentDidUpdate","handleInputFocus","handleExposedPublicMethods"]),n.handleSearchOptions=(0,y.debounce)(n.handleSearchOptions.bind(n),s),n.handleScroll=n.handleScroll.bind(n),n.handleScrollFuncCall=(0,y.debounce)(n.handleScrollFuncCall.bind(n),500),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.handleExposedPublicMethods()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.selectedOptions,a=e.options,i=e.valueField,o=e.textField,s=this.props;if(n!==s.selectedOptions||a!==s.options||i!==s.valueField||o!==s.textField){var l=this.handleFormatOptions(e),r=l.allOptions,c=l.normalizedAllOptions,d=l.normalizedFormatOptions,u=this.allSelectedOptionsDetails,p=Object.assign(u,d),h=this.handleGetSelectedOptions(n,p,e),f=h.formatSelectedOptions,m=h.normalizedSelectedOptions,g=h.selectedOptionIds;this.allSelectedOptionsDetails=Object.assign(u,m),this.setState({options:r,optionsNormalize:c,selectedOptions:f,selectedOptionIds:g},function(){var e=t.state.hoverOption,n=t.handleFilterSuggestions(),a=n.length,i=(n[e]||{}).id,o=(0,y.getIsEmptyValue)(i)?a?a-1:0:e;t.setState({hoverOption:o})})}}},{key:"componentDidUpdate",value:function(e,t){var n=this.suggestionContainer,a=this.selectedOptionContainer,i=this.suggestionsOrder,o=this.state,s=o.hoverOption,l=o.highLightedSelectOptions,r=o.selectedOptions,c=o.searchStr,d=this.props,u=d.needLocalSearch,p=d.isPopupOpen,h=d.onDropBoxClose,f=d.onDropBoxOpen;e.isPopupOpen!==p&&(p&&f&&this.handleFetchOptions(f,c),p||(this.setState({hoverOption:0}),h&&h()));var m=this["suggestion_"+(i[s]||"")],g=this["selectedOption_"+(l.slice(-1).length?l.slice(-1)[0]:r.length?r.slice(-1)[0].id:null)];p&&(0,y.scrollTo)(n,m),r.length&&(0,y.scrollTo)(a,g);var b=this.props,v=b.isNextOptions,S=b.getNextOptions,O=this.handleFilterSuggestions().length;p&&O<=5&&v&&S&&!u&&this.handleFetchOptions(S,c),this.handleComponentDidUpdate(e,t)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleComponentDidUpdate",value:function(){}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField,i=e.prefixText;return this.formatOptions({options:t,valueField:n,textField:a,prefixText:i,optionType:"default"})}},{key:"handleGetSelectedOptions",value:function(e,t){return this.getSelectedOptions({selectedOptions:e,normalizedFormatOptions:t})}},{key:"handleInputCick",value:function(e){this.state.highLightedSelectOptions.length?this.setState({highLightedSelectOptions:[],shiftKeyPressHighLighted:0,lastHighLightedSelectOption:""}):this.togglePopup(e)}},{key:"handleFilterSuggestions",value:function(){var e=this.state,t=e.options,n=void 0===t?D:t,a=e.searchStr,i=void 0===a?"":a,o=this.props,s=o.selectedOptions,l=o.needLocalSearch,r=this.getFilterSuggestions({options:n,selectedOptions:s,searchStr:i.replace(/\s+/g,"").toLowerCase(),needSearch:l}),c=r.suggestions,d=r.suggestionIds;return this.suggestionsOrder=d,c}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=e.ctrlKey,i=e.metaKey,o=e.shiftKey,s=[],l=this.state,r=l.hoverOption,c=l.searchStr,d=l.highLightedSelectOptions,u=l.lastHighLightedSelectOption,p=l.shiftKeyPressHighLighted,h=l.selectedOptionIds,f=this.props,m=f.isNextOptions,g=f.getNextOptions,b=f.isPopupOpen,v=f.isPopupOpenOnEnter,S=f.onKeyDown,O=d.length;!b||38!==t&&40!==t&&13!==t&&27!==t||(s=this.handleFilterSuggestions()),b||v||S&&S(e),b||40!==t||(e.preventDefault(),this.togglePopup(e));var D=s.length;if(D&&b&&38===t)r&&this.setState({hoverOption:r-1});else if(D&&b&&40===t)m&&D>=5&&r===D-3?(g&&this.handleFetchOptions(g,c),this.setState({hoverOption:r+1})):D-1>r&&this.setState({hoverOption:r+1});else if(13===t){var _=(s[r]||{}).id;b&&!(0,y.getIsEmptyValue)(_)&&this.handleSelectOption(_,e),!b&&v&&this.togglePopup(e)}else if(h.length&&8===t&&!c.length)O?this.handleRemoveOption(d):this.handleRemoveOption(h.slice(-1));else if(h&&65===t&&(n||i)&&!c.length)this.setState({highLightedSelectOptions:h,shiftKeyPressHighLighted:0});else if(39===t&&o&&h.length&&!c.length){var E=u&&h.indexOf(u)>=0?h.indexOf(u):0,x=p||p+1,I=null!==E?h[E+x]:h[0];if(!(0,y.getIsEmptyValue)(I)){var C=u||h[0],T=(d=p?d:[C]).indexOf(I)>=0&&I!==u?d.filter(function(e){return e!==I}):[].concat(k(d),[I]);this.setState({highLightedSelectOptions:T,shiftKeyPressHighLighted:x+1,lastHighLightedSelectOption:C})}}else if(37===t&&o&&h.length&&!c.length){var j=u?h.indexOf(u):h.length-1,P=1!==p?p:p-1,N=h[j+P-1];if(!(0,y.getIsEmptyValue)(N)){var z=u||h.slice(-1)[0],L=(d=p?d:[z]).indexOf(N)>=0&&N!==u?d.filter(function(e){return e!==N}):[].concat(k(d),[N]);this.setState({highLightedSelectOptions:L,shiftKeyPressHighLighted:P-1,lastHighLightedSelectOption:z})}}else if((39===t||37===t)&&h.length&&!c.length){var R=39===t;if(d.length){var F=d.slice(-1),w=a(F,1)[0],M=h.indexOf(w),A=h[R?M===h.length-1?M:M+1:M-1],V=!(!R||1!==d.length||h.slice(-1)[0]!==w);(0,y.getIsEmptyValue)(A)||this.setState({lastHighLightedSelectOption:V?"":A,highLightedSelectOptions:V?[]:[A],shiftKeyPressHighLighted:0})}else{var B=R?h:h.slice(-1),H=a(B,1)[0];this.setState({lastHighLightedSelectOption:H,highLightedSelectOptions:[H],shiftKeyPressHighLighted:0})}}}},{key:"handleSelectAll",value:function(e){e&&e.preventDefault();var t=this.handleFilterSuggestions(),n=this.props.selectedOptions,a=t.map(function(e){return e.id});this.handleChange([].concat(k(n),k(a)))}},{key:"handleDeselectAll",value:function(e){e&&e.preventDefault(),this.state.highLightedSelectOptions.length&&this.setState({highLightedSelectOptions:[],lastHighLightedSelectOption:""}),this.handleChange([])}},{key:"handleSelectOption",value:function(e,t,n,a){var i=this.props.selectedOptions;this.handleChange([].concat(k(i),[e]),a)}},{key:"handleRemoveOption",value:function(e){var t=(0,y.getIsEmptyValue)(e)||Array.isArray(e)?e:[e],n=this.props,a=n.selectedOptions,i=n.isReadOnly,o=this.state,s=o.highLightedSelectOptions,l=o.lastHighLightedSelectOption,r=o.shiftKeyPressHighLighted;if(t.length&&!i){for(var c=a.filter(function(e){return-1===t.indexOf(e)}),d=s.filter(function(e){return c.indexOf(e)>=0}),u=!1,p=t.length,h=0;h<p;h++){var f=t[h];if(s.indexOf(f)>=0){u=!0;break}}this.setState({lastHighLightedSelectOption:c.indexOf(l)>=0&&!u?l:"",highLightedSelectOptions:u?[]:d,shiftKeyPressHighLighted:u?0:r}),this.handleChange(c)}this.searchInput&&this.searchInput.focus()}},{key:"handleMouseEnter",value:function(e,t,n,a){a&&a.preventDefault();var i=this.state.hoverOption,o=this.suggestionsOrder.indexOf(e);o!==i&&this.setState({hoverOption:o})}},{key:"handleFetchOptions",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n[0],o=n[1],s=this.state.isFetchingOptions,l=this._isMounted;if(!s&&i){this.setState({isFetchingOptions:!0});try{return i(o).then(function(){l&&e.setState({isFetchingOptions:!1})},function(){l&&e.setState({isFetchingOptions:!1})})}catch(e){l&&this.setState({isFetchingOptions:!1})}}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e,t){var n=this,a=this.props,i=a.onSearch;!a.isPopupOpen&&t&&this.togglePopup(t);var o=this.state.searchStr,s=(void 0===o?"":o).toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e},function(){e?s&&i&&n.handleSearchOptions():i&&i("")})}},{key:"handleClickSelectedOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this.props.selectedOptions,a=this.state,i=a.highLightedSelectOptions,o=a.lastHighLightedSelectOption,s=t.metaKey,l=t.ctrlKey,r=t.shiftKey;if(t&&r){var c=n.indexOf(o)>=0?n.indexOf(o):0,d=e&&n.indexOf(e)>=0?n.indexOf(e):null;if(d>=0&&d<c)d=[c,c=d][0];var u=(d+=1)?n.slice(c,d):[];d&&this.setState({highLightedSelectOptions:u,lastHighLightedSelectOption:e})}else if(t&&(l||s)){var p=[];i.indexOf(e)>=0?(o=e===o?"":o,p=i.filter(function(t){return t!==e})):(o=e,p=[].concat(k(i),[e])),this.setState({highLightedSelectOptions:p,lastHighLightedSelectOption:o})}else this.setState({highLightedSelectOptions:[e],lastHighLightedSelectOption:e});this.setState({shiftKeyPressHighLighted:0}),this.searchInput&&this.searchInput.focus()}},{key:"handleScroll",value:function(e){var t=this.props.isNextOptions;e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&t&&this.handleScrollFuncCall()}},{key:"handleScrollFuncCall",value:function(){var e=this.props.getNextOptions,t=this.state.searchStr;e&&e(t)}},{key:"handleChange",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.state.optionsNormalize,a=this.props,i=a.onChange,o=a.needToCloseOnSelect,s=a.togglePopup,l=e.length,r=[],c=0;c<l;c++){var d=e[c];r.push(n[d])}i&&i(e,r),this.setState({searchStr:""}),this.searchInput&&this.searchInput.focus(),o&&s(t)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.defaultDropBoxPosition;!t.isReadOnly&&n(e,a?a+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"searchInputRef",value:function(e){var t=this.props.getRef;this.searchInput=e,t&&t(e)}},{key:"selectedOptionContainerRef",value:function(e){var t=this.props.getTargetRef;this.selectedOptionContainer=e,t(e)}},{key:"selectedOptionRef",value:function(e,t){this["selectedOption_"+t]=e}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"handleActive",value:function(e){var t=this.state,n=t.searchStr;t.isActive||this.setState({isActive:!0});var a=(e||{}).target;a&&a.setSelectionRange(a,0);var i=this.props.onFocus;i&&i(n)}},{key:"handleInactive",value:function(){this.state.isActive&&this.setState({isActive:!1})}},{key:"handleInputFocus",value:function(){var e=this.props,t=e.isDisabled,n=e.isReadOnly;this.searchInput&&!t&&!n&&this.searchInput.focus()}},{key:"handleExposedPublicMethods",value:function(){var e=this.props,t=e.getPublicMethods,n=e.openPopupOnly;t&&t({openPopupOnly:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isReadOnly,a=t.needSelectAll,i=t.searchEmptyMessage,s=t.emptyMessage,l=t.noMoreOptionsMessage,y=t.dropBoxSize,S=t.placeHolder,O=t.isPopupOpen,k=t.isPopupReady,D=t.position,_=t.defaultDropBoxPosition,E=t.selectAllText,x=t.getContainerRef,I=t.removeClose,C=t.isAnimate,T=t.animationStyle,j=t.textBoxSize,P=t.variant,N=t.size,z=t.isDisabled,L=t.title,R=t.portalId,F=t.dataId,w=t.isSearching,M=this.state,A=M.selectedOptions,V=M.searchStr,B=M.hoverOption,H=M.highLightedSelectOptions,U=M.options,G=M.isFetchingOptions,K=M.isActive,W=this.handleFilterSuggestions();return o.default.createElement("div",{className:b.default.wrapper+" "+(z?b.default.disabled:"")+" "+(n?b.default.readOnly:""),"data-id":""+(z?F+"_disabled":n?F+"_readOnly":F),"data-title":z?L:"",onClick:this.handleInputFocus},o.default.createElement(u.Container,{align:"vertical",alignBox:"row",className:b.default.container+" "+b.default[N]+" "+(K?b.default.active:""),eleRef:this.selectedOptionContainerRef,wrap:!0},A.map(function(t){var a=t.id,i=t.value;return o.default.createElement(u.Box,{className:b.default.tag,key:a+"tag"},o.default.createElement(d.default,{active:H.indexOf(a)>=0,getRef:e.selectedOptionRef,id:a,initial:i,onRemove:e.handleRemoveOption,onSelectTag:n?null:e.handleClickSelectedOption,palette:"danger",text:i}))}),o.default.createElement(u.Box,{flexible:!0},o.default.createElement(c.default,{isDisabled:z,inputRef:this.searchInputRef,needBorder:!1,onBlur:this.handleInactive,onChange:this.handleSearch,onClick:this.handleInputCick,onFocus:this.handleActive,onKeyDown:this.handleKeyDown,placeHolder:A.length>=1?"":S,size:j,value:V,variant:P,dataId:F+"_textBox",isReadOnly:n})),!n&&!z&&A.length>1?o.default.createElement(u.Box,{className:b.default.delete,dataId:F+"_clearIcon","data-title":"clear all",onClick:this.handleDeselectAll},o.default.createElement(v.default,{name:"ZD-delete",size:"15"})):null),n||z||!O?null:o.default.createElement(r.default,{animationStyle:T,boxPosition:D||_+"Center",getRef:x,isActive:k,isAnimate:C,isArrow:!1,onClick:I,portalId:R},o.default.createElement(h.default,{className:b.default.box,onScroll:this.handleScroll},o.default.createElement(p.CardHeader,null,o.default.createElement(g.default,{needSelectAll:a,onSelect:this.handleSelectAll,selectAllText:E,suggestions:W,dataId:F})),o.default.createElement(p.CardContent,{className:y?b.default[y]:"",eleRef:this.suggestionContainerRef},w?o.default.createElement("div",{className:b.default.message},"Searching..."):W.length?o.default.createElement(f.default,{suggestions:W,getRef:this.suggestionItemRef,hoverOption:B,onClick:this.handleSelectOption,onMouseEnter:this.handleMouseEnter}):o.default.createElement(m.default,{emptyMessage:s,isLoading:G,noMoreOptionsMessage:l,options:U,searchEmptyMessage:i,searchString:V,suggestions:W,dataId:F})))))}}]),t}();_.propTypes={animationStyle:s.default.string,closePopupOnly:s.default.func,dataId:s.default.string,defaultDropBoxPosition:s.default.oneOf(["bottom","top","left","right"]),dropBoxSize:s.default.oneOf(["small","medium","large"]),emptyMessage:s.default.string.isRequired,getContainerRef:s.default.func,getNextOptions:s.default.func,getPublicMethods:s.default.func,getRef:s.default.func,getTargetRef:s.default.func,isAnimate:s.default.bool,isDisabled:s.default.bool,isNextOptions:s.default.bool,isPopupOpen:s.default.bool,isPopupOpenOnEnter:s.default.bool,isPopupReady:s.default.bool,isReadOnly:s.default.bool,isSearching:s.default.bool,needLocalSearch:s.default.bool,needSelectAll:s.default.bool,needToCloseOnSelect:s.default.bool,noMoreOptionsMessage:s.default.string,onChange:s.default.func.isRequired,onDropBoxClose:s.default.func,onDropBoxOpen:s.default.func,onFocus:s.default.func,onKeyDown:s.default.func,onSearch:s.default.func,openPopupOnly:s.default.func,options:s.default.oneOfType([s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])),s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])}))]).isRequired,placeHolder:s.default.string,portalId:s.default.string,position:s.default.string,prefixText:s.default.string,removeClose:s.default.func,searchDebounceTime:s.default.number,searchEmptyMessage:s.default.string,selectAllText:s.default.string,selectedOptions:s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])).isRequired,size:s.default.oneOf(["medium","xmedium"]),textBoxSize:s.default.oneOf(["small","medium","xmedium"]),textField:s.default.string,title:s.default.string,togglePopup:s.default.func,valueField:s.default.string,variant:s.default.string},_.propTypesDescription={options:" ",placeHolder:" ",onChange:" ",emptyMessage:" ",valueField:" ",textField:" ",onSearch:" ",getRef:" ",onFocus:" ",title:" ",isDisabled:" "},_.defaultProps={animationStyle:"bounce",dataId:"multiSelect",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isAnimate:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needLocalSearch:!0,needSelectAll:!1,needToCloseOnSelect:!1,size:"medium",textBoxSize:"medium",textField:"text",valueField:"id",variant:"default",isSearching:!1},_.displayName="MultiSelect";var E=(0,l.default)(_);E.propTypes=_.propTypes,E.defaultProps=_.defaultProps,t.default=E},"../components/lib/MultiSelect/MultiSelectHeader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=r(n("../components/lib/MultiSelect/MultiSelect.module.css")),l=r(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function r(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.dataId,n=e.needSelectAll,a=e.onSelect,o=e.selectAllText,r=e.suggestions,c=e.isGroupMultiSelect;return r.length>1&&n?i.default.createElement("div",{className:s.default.selectAll+" "+(c?s.default.groupStyle:null),onClick:a,"data-id":t+"_selectAll"},i.default.createElement("span",{className:s.default.selectIcon},i.default.createElement(l.default,{name:"ZD-androidd",size:"18"})),i.default.createElement("span",{className:s.default.selectText},o)):null}}]),t}();t.default=c,c.propTypes={dataId:o.default.string,isGroupMultiSelect:o.default.bool,needSelectAll:o.default.bool,onSelect:o.default.func,selectAllText:o.default.string,suggestions:o.default.array},c.defaultProps={isGroupMultiSelect:!1},c.defaultProps={dataId:"MultiSelectHeader"}},"../components/lib/MultiSelect/Suggestions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),o=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=d(n("../components/lib/ListItem/ListItem.js")),l=d(n("../components/lib/ListItem/ListItemWithAvatar.js")),r=d(n("../components/lib/ListItem/ListItemWithIcon.js")),c=n("../components/lib/Layout/index.js");function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.suggestions,n=e.getRef,a=e.hoverOption,o=e.onClick,d=e.onMouseEnter,u=e.needTick,p=e.selectedOptions,h=e.activeId,f=e.hoverId,m=e.dataId,g=e.listItemSize;return i.default.createElement(c.Container,{isCover:!1},i.default.createElement(c.Box,{dataId:m+"_Options"},t.map(function(e,t){var c=e.id,m=e.value,b=e.photoURL,v=e.icon,y=e.optionType,S=e.iconSize,O=!!u&&-1!==p.indexOf(c),k=h===c,D=a===t||c===f;return"avatar"===y?i.default.createElement(l.default,{autoHover:!1,getRef:n,highlight:D,id:c,imgSrc:b,key:c+"avatarListItem",name:m,onClick:o,onMouseEnter:d,value:m,title:m,needTick:u,isTick:O,active:k,size:g}):"icon"===y?i.default.createElement(r.default,{autoHover:!1,getRef:n,highlight:D,id:c,key:c+"iconListItem",onClick:o,onMouseEnter:d,value:m,title:m,iconName:v,needTick:u,isTick:O,active:k,iconSize:S,size:g}):i.default.createElement(s.default,{autoHover:!1,getRef:n,highlight:D,id:c,key:c+"listItem",onClick:o,onMouseEnter:d,value:m,title:m,needTick:u,isTick:O,active:k,dataId:m,size:g})})))}}]),t}();t.default=u,u.propTypes={activeId:o.default.oneOfType([o.default.string,o.default.number]),dataId:o.default.string,getRef:o.default.func,hoverId:o.default.oneOfType([o.default.string,o.default.number]),hoverOption:o.default.number,listItemSize:o.default.oneOf(["small","medium","large"]),needTick:o.default.bool,onClick:o.default.func,onMouseEnter:o.default.func,selectedOptions:o.default.array,suggestions:o.default.arrayOf(o.default.shape({id:o.default.oneOfType([o.default.string,o.default.number]),value:o.default.oneOfType([o.default.string,o.default.number]),photoURL:o.default.string,logo:o.default.string,optionType:o.default.string}))}},"../components/lib/Tag/Tag.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),o=d(i),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),l=d(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),r=d(n("../components/lib/Avatar/Avatar.js")),c=d(n("../components/lib/Tag/Tag.module.css"));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.handleRemove=n.handleRemove.bind(n),n.getRef=n.getRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),a(t,[{key:"handleSelect",value:function(e){var t=this.props,n=t.id,a=t.onSelectTag,i=void 0===a?null:a;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),i&&i(n,e)}},{key:"handleRemove",value:function(e){var t=this.props,n=t.onRemove,a=t.id;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),n&&n(a)}},{key:"getRef",value:function(e){var t=this.props,n=t.getRef,a=t.id;n&&n(e,a)}},{key:"render",value:function(){var e=this.props,t=e.imageURL,n=e.hasAvatar,a=e.text,i=e.onRemove,s=e.initial,d=e.active,u=e.size,p=e.rounded,h=e.palette,f=e.disabled,m=e.closePalette,g=e.onSelectTag,b=e.closeTitle,v=e.dataId,y=e.className,S=e.iconName,O=e.iconSize;return o.default.createElement("div",{className:c.default.container+" "+(d?c.default.selected:"")+" "+(i?c.default.effect:"")+"  "+c.default[u]+" "+(p?c.default.lgRadius:c.default.smRadius)+" "+c.default[h]+" "+(f?c.default.disabled:"")+" "+(g?c.default.pointer:"")+" "+(y||""),"data-id":d?v+"_TagSelected":v+"_Tag",onClick:this.handleSelect,ref:this.getRef},n?o.default.createElement("div",{className:c.default.avatar},o.default.createElement(r.default,{name:s,size:"small",src:t})):null,S?o.default.createElement("div",{className:c.default.icon},o.default.createElement(l.default,{name:S,size:O})):null,o.default.createElement("div",{className:c.default.text,"data-title":a},a),i&&o.default.createElement("div",{className:c.default.close+" "+c.default["close"+m],"data-id":v+"_RemoveTag","data-title":b,onClick:this.handleRemove},o.default.createElement(l.default,{isBold:!0,name:"ZD-close2",size:"8"})))}}]),t}();t.default=u,u.defaultProps={active:!1,closePalette:"danger",hasAvatar:!1,palette:"default",rounded:!0,size:"medium",dataId:"tag"},u.propTypes={active:s.PropTypes.bool,className:s.PropTypes.string,closePalette:s.PropTypes.oneOf(["danger","primary"]),closeTitle:s.PropTypes.string,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,getRef:s.PropTypes.func,hasAvatar:s.PropTypes.bool,iconName:s.PropTypes.string,iconSize:s.PropTypes.string,id:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),imageURL:s.PropTypes.string,initial:s.PropTypes.string,onRemove:s.PropTypes.func,onSelectTag:s.PropTypes.func,palette:s.PropTypes.oneOf(["default","danger","secondary","pureDotted","primaryDotted"]),rounded:s.PropTypes.bool,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number])},u.propTypesDescription={hasAvatar:" ",onRemove:" ",active:" ",onSelectTag:" ",text:" ",imageURL:" ",id:" ",initial:" ",size:" ",rounded:" ",palette:" ",closePalette:" ",disabled:" ",getRef:" ",closeTitle:" "}},"../components/lib/utils/dropDownUtils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetGroupSelectFilterSuggestions=t.makeGetGroupSelectOptions=t.makeObjectConcat=t.makeGetSelectedValueText=t.makeGetMultiSelectSelectedOptions=t.makeFormatOptions=t.extractOptionId=t.optionIdGrouping=t.makeGetMultiSelectFilterSuggestions=t.getPrefixText=t.getOptionType=t.getIconSize=t.getIconName=t.getImageField=t.getTextField=t.getValueField=t.getOptions=t.dummyObj=t.dummyArray=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),s=n("../components/lib/utils/Common.js");function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=t.dummyArray=[],c=t.dummyObj={},d=t.getOptions=function(e){return e.options||r},u=function(e){return e.optionsOrder||r},p=function(e){return e.selectedOptions||r},h=function(e){return e.searchStr||""},f=t.getValueField=function(e){return e.valueField||""},m=t.getTextField=function(e){return e.textField||""},g=t.getImageField=function(e){return e.imageField||""},b=t.getIconName=function(e){return e.iconName||""},v=t.getIconSize=function(e){return e.iconSize||""},y=t.getOptionType=function(e){return e.optionType||""},S=function(e){return e.needSearch},O=function(e){return e.isDefaultSelectValue},k=function(e){return(0,s.getIsEmptyValue)(e.selectedOptionsLength)?"":e.selectedOptionsLength},D=function(e){return e.normalizedFormatOptions||c},_=function(e){return(0,s.getIsEmptyValue)(e.selectedValue)?"":e.selectedValue},E=function(e){return e.selectedFormatOptions||c},x=t.getPrefixText=function(e){return e.prefixText||""},I=function(e){return e.isStartsWithSearch},C=t.makeGetMultiSelectFilterSuggestions=function(){return(0,o.createSelector)([d,p,h,S,I],function(e,t,n,a,i){var o=[],s=[];return e.forEach(function(e){var l=e.id,r=e.value,c=void 0===r?"":r,d=c.replace?c.replace(/\s+/g,"").toLowerCase():c.toString(),u=n.replace(/\s+/g,"").toLowerCase(),p=!a||(i?d.startsWith(u):-1!==d.indexOf(u));-1===t.indexOf(l)&&p&&(o.push(e),s.push(l))}),{suggestions:o,suggestionIds:s}})},T=t.optionIdGrouping=function(e,t){return(0,s.getIsEmptyValue)(e)?"":(0,s.getIsEmptyValue)(t)?e:("number"==typeof t?"Int":"Str")+"_"+t+"_"+("number"==typeof e?"Int":"Str")+"_"+e},j=(t.extractOptionId=function(e){if((0,s.getIsEmptyValue)(e))return{id:""};if("number"==typeof e)return{id:e};var t=e.split&&e.split("_");if(1===t.length)return t[0];if(4===t.length){var n=i(t,4),a=n[0],o=n[1],l=n[2],r=n[3];return{id:r="Int"===l?Number.parseInt(r):r,groupId:o="Int"===a?Number.parseInt(o):o}}},t.makeFormatOptions=function(){return(0,o.createSelector)([d,f,m,g,x,b,v,y],function(e,t,n,i,o,l,r,c){var d=[],u=[],p={},h={};return e.forEach(function(e){if(!(0,s.getIsEmptyValue)(e)){var f=e.valueField,m=e.textField,g=e.imageField,b=e.optionType,v=e.iconName,y=e.iconSize,S="object"===(void 0===e?"undefined":a(e))?e[f||t]:e,O="object"===(void 0===e?"undefined":a(e))?e[m||n]:e,k="object"===(void 0===e?"undefined":a(e))?e[g||i]:"";if(S=(0,s.getIsEmptyValue)(S)?"":T(S,o),-1===u.indexOf(S)&&!(0,s.getIsEmptyValue)(S)&&!(0,s.getIsEmptyValue)(O)){u.push(S);var D={id:S,value:O,optionType:b||c};i&&(D.photoURL=k),(v||l)&&(D.icon=v||l),(y||r)&&(D.iconSize=y||r),h[S]=D,p[S]=e,d.push(D)}}}),{allOptions:d,normalizedAllOptions:p,normalizedFormatOptions:h,optionsOrder:u}})}),P=(t.makeGetMultiSelectSelectedOptions=function(){return(0,o.createSelector)([p,D,k],function(e,t,n){var a=[],i=[],o={};n=(0,s.getIsEmptyValue)(n)?e.length:n;for(var l=0;l<n;l++){var r=e[l],c=(t[r]||{}).id;-1===i.indexOf(c)&&(0,s.getIsEmptyValue)(c)&&!(0,s.getIsEmptyValue)(r)?a.push({id:r,value:r}):-1!==i.indexOf(c)||(0,s.getIsEmptyValue)(c)||(i.push(c),a.push(t[r]),o[c]=t[r])}return{formatSelectedOptions:a,normalizedSelectedOptions:o,selectedOptionIds:i}})},t.makeGetSelectedValueText=function(){return(0,o.createSelector)([u,D,_,E,O,f,m],function(e,t,n,o,l,r,d){var u=e.indexOf(n),p=!1;(0,s.getIsEmptyValue)(n)&&l&&(n=i(e,1)[0],p=!0);var h,f,m,g=Object.assign({},o,t)[n],b=-1!==u?u:0,v=g?(m=g,(f=n)in(h={})?Object.defineProperty(h,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[f]=m,h):c,y=g||c,S=y.value,O=void 0===S?"":S,k=y.id;if((0,s.getIsEmptyValue)(k))if("object"===(void 0===n?"undefined":a(n))){var D=n[r],_=n[d];v={id:D,value:_},O=_,k=D,b=-1!==(u=e.indexOf(k))?u:0}else O=n,k=n;return{selected:O,hoverIndex:b,selectedValueDetails:v,selectedId:k,isSelfValueChanged:p}})},function(e){return e.obj1||c}),N=function(e){return e.obj2||c},z=(t.makeObjectConcat=function(){return(0,o.createSelector)([P,N],function(e,t){return Object.assign({},e,t)})},function(e){return e.groupedOptions||r}),L=j(),R=(t.makeGetGroupSelectOptions=function(){return(0,o.createSelector)([z],function(e){var t=[],n=[],a={},i={},o=[];return e.forEach(function(e){var r=e.options,c=e.id,d=e.name,u=e.valueField,p=e.textField;if(!(0,s.getIsEmptyValue)(c)&&-1===o.indexOf(c)){o.push(c);var h=L({options:r,valueField:u,textField:p,prefixText:c}),f=h.allOptions,m=h.normalizedAllOptions,g=h.normalizedFormatOptions,b=h.optionsOrder;b.length&&(t.push({id:c,name:d,options:f}),n=[].concat(l(n),l(b)),a=Object.assign({},a,m),i=Object.assign({},i,g))}}),{revampedGroups:t,normalizedAllOptions:a,normalizedFormatOptions:i,allOptionIds:n}})},function(e){return e.revampedGroups}),F=C();t.makeGetGroupSelectFilterSuggestions=function(){return(0,o.createSelector)([R,h,S,I],function(e,t,n,a){var i=[],o=[];return e.forEach(function(e){var s=e.options,r=F({options:s,needSearch:n,searchStr:t,isStartsWithSearch:a}),c=r.suggestions,d=r.suggestionIds;d.length&&(i.push(Object.assign({},e,{options:c})),o=[].concat(l(o),l(d)))}),{suggestionGroups:i,suggestionOptionIds:o}})}},"./src/components/DeptInputSelect/DeptInputSelect.module.css":function(e,t,n){e.exports={posrel:"zd-deptinputselect-posrel"}},"./src/components/Subtab/ticketsharing/ShareDepList/ShareDepList.module.css":function(e,t,n){e.exports={container:"zd-sharedeplist-container",listLayout:"zd-sharedeplist-listLayout",deleteLayout:"zd-sharedeplist-deleteLayout",rightPanel:"zd-sharedeplist-rightPanel",shareContent:"zd-sharedeplist-shareContent",shareTitle:"zd-sharedeplist-shareTitle zd6063afa107 zdbce71b4599 zdccf2edd024",accessDetail:"zd-sharedeplist-accessDetail zd6063afa107",title:"zd-sharedeplist-title zd6063afa107",dropicon:"zd-sharedeplist-dropicon",closeIcon:"zd-sharedeplist-closeIcon",tickIcon:"zd-sharedeplist-tickIcon",dropDown:"zd-sharedeplist-dropDown",accessList:"zd-sharedeplist-accessList zdbce71b4599 zdccf2edd024",detailList:"zd-sharedeplist-detailList",selected:"zd-sharedeplist-selected",isReadOnly:"zd-sharedeplist-isReadOnly",alertMsg:"zd-sharedeplist-alertMsg",cancelButton:"zd-sharedeplist-cancelButton zdbce71b4599 zdccf2edd024"}},"./src/components/Subtab/ticketsharing/SharingDescription/SharingDescription.module.css":function(e,t,n){e.exports={infoHeading:"zd-sharingdescription-infoHeading",typeDescription:"zd-sharingdescription-typeDescription",infoContent:"zd-sharingdescription-infoContent",typeLists:"zd-sharingdescription-typeLists zdbce71b4599 zdccf2edd024"}},"./src/components/Subtab/ticketsharing/TicketShare/TicketShare.module.css":function(e,t,n){e.exports={continerDiv:"zd-ticketshare-continerDiv",headerDiv:"zd-ticketshare-headerDiv",headingDiv:"zd-ticketshare-headingDiv zd6063afa107",iconsList:"zd-ticketshare-iconsList",iconInfo:"zd-ticketshare-iconInfo",iconClose:"zd-ticketshare-iconClose",shareParagraph:"zd-ticketshare-shareParagraph",learnMore:"zd-ticketshare-learnMore",inputArea:"zd-ticketshare-inputArea",shareList:"zd-ticketshare-shareList",listDiv:"zd-ticketshare-listDiv",informationDiv:"zd-ticketshare-informationDiv",from:"zd-ticketshare-from zdbce71b4599 zdccf2edd024",parentDep:"zd-ticketshare-parentDep zd6063afa107",to:"zd-ticketshare-to zdbce71b4599 zdccf2edd024",gotitButton:"zd-ticketshare-gotitButton zd6063afa107",gotButton:"zd-ticketshare-gotButton"}},"./src/containers/DeptListWrapper/DeptListWrapper.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/extends.js"),i=n.n(a),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),s=n.n(o),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),r=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),p=n.n(u),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),f=n.n(h),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),g=n.n(m),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),S=n.n(y),O=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),k=n.n(O),D=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),_=n.n(D),E=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),x=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),I=n.n(x),C=n("./src/constants/index.js"),T=n("./src/actions/index.js"),j=n("./src/reducers/selector.js");t.a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.J,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(o){function l(e){f()(this,l);var t=v()(this,(l.__proto__||p()(l)).call(this,e));return t.state={listUIState:{from:1,isNext:!1},searchUIState:{from:1,isNext:!1,deptIds:[],searchStr:""},searchStr:"",isFetching:!1},t._isMounted=!1,t.getDeptsListSel=Object(j.Wb)(),t.handleGetDepts=t.handleGetDepts.bind(t),t.handleGetNextDepts=t.handleGetNextDepts.bind(t),t.handleSearchDepts=t.handleSearchDepts.bind(t),t.handleAPI=t.handleAPI.bind(t),t.handleSearchDeptsArray=t.handleSearchDeptsArray.bind(t),t.handleGetDeptsList=t.handleGetDeptsList.bind(t),t.handleLocalDeptsSearch=t.handleLocalDeptsSearch.bind(t),t}return S()(l,o),g()(l,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentDidUpdate",value:function(e){this.props.deptId,e.deptId}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAPI",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n.slice(1,n.length),o=n[0],s=this.state.isFetching,l=this._isMounted;return s?r.a.resolve():(this.setState({isFetching:!0}),o.apply(void 0,d()(i)).then(function(t){return l&&e.setState({isFetching:!1}),t&&204!==t.responseStatus?t:r.a.resolve()},function(t){throw l&&e.setState({isFetching:!1}),t}))}},{key:"handleGetDeptsList",value:function(e){var a=this,i=this.props.getDepartment,o=this.state,l=o.searchStr,c=o.listUIState,d=o.searchUIState,u=this._isMounted,p="NEXT"===e,h=l.replace(/\s+/g,""),f=d.searchStr,m=void 0===f?"":f,g=l.replace(/\s+/g,"").toLowerCase(),b=m.replace(/\s+/g,"").toLowerCase();if(l){if("CURRENT"!==e||g!==b){var v=d.from,y=void 0===v?1:v,S=p?y+n:1;return this.setState({searchUIState:s()({},d,{from:S,isNext:!1})}),this.handleAPI(i,S,n,t,h).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},n=t.result,i=void 0===n?[]:n,o=t.isNext,s=t.from,l=t.searchStr;return a.handleSearchDeptsArray(i,s,o,l,p),e},function(e){throw u&&a.setState({searchUIState:s()({},d,{from:y,isNext:!1})}),e})}return r.a.resolve()}var O=c.from,k=void 0===O?1:O,D=p?k+n:1;return this.setState({listUIState:s()({},c,{from:D,isNext:!1})}),this.handleAPI(i,D,n,t,l).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},n=t.from,i=t.isNext;return u&&a.setState({listUIState:s()({},c,{from:n,isNext:i})}),e},function(e){throw u&&a.setState({listUIState:s()({},c,{from:k,isNext:!1})}),e})}},{key:"handleSearchDeptsArray",value:function(e,t,a,i,o){var s=this.state.searchUIState.deptIds,l=this._isMounted,r=t-1,c=r+(2*n>200?200:2*n),u=o?[].concat(d()(s.slice(0,r)),d()(e),d()(s.slice(c,s.length))):e;l&&this.setState({searchUIState:{deptIds:u,from:t,isNext:a,searchStr:i}})}},{key:"handleGetDepts",value:function(){return this.handleGetDeptsList("CURRENT").then(function(e){return e},function(e){throw e})}},{key:"handleSearchDepts",value:function(e){this.setState({searchStr:e})}},{key:"handleGetNextDepts",value:function(){return this.handleGetDeptsList("NEXT").then(function(e){return e},function(e){throw e})}},{key:"handleLocalDeptsSearch",value:function(){var e=this.state.searchStr,t=this.props,n=t.departments;return t.globalDeptIds.filter(function(t){var a=n[t].name.replace(/\s+/g,"").toLowerCase(),i=e.replace(/\s+/g,"").toLowerCase();return-1!==a.indexOf(i)})}},{key:"render",value:function(){var o=this.state,s=o.searchStr,l=void 0===s?"":s,r=o.listUIState,c=o.isFetching,d=o.searchUIState,u=this.props,p=u.globalDeptIds,h=u.departments,f=l?d:r,m=f.from,g=f.isNext,b=f.deptIds,v=f.searchStr,y=void 0===v?"":v,S=l.replace(/\s+/g,"").toLowerCase(),O=y.replace(/\s+/g,"").toLowerCase(),D=S?O===S?b:a?this.handleLocalDeptsSearch():[]:p,_=this.getDeptsListSel({},{departments:h,departmentsOrder:D.slice(0,m-1+n),isEnabled:t});return k.a.createElement(e,i()({},this.props,{deptsList:_,deptIds:D,getDepts:this.handleGetDepts,getNextDepts:this.handleGetNextDepts,searchString:l,isFetching:c,onSearchDepts:this.handleSearchDepts,isNextDepts:g}))}}]),l}(k.a.Component);return o.propTypes={departments:_.a.object,getDepartment:_.a.func,globalDeptIds:_.a.array},I()(Object(E.connect)(function(e){return function(e){return{globalDeptIds:e.departmentOrder,departments:e.module.department}}(e)},{getDepartment:T.l})(o),e)}},"./src/containers/Subtab/TicketShareContainer/TicketShareContainer.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(a),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(o),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),r=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(h),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(m),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),v=n("./src/tickets/actions/index.js"),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),S=n.n(y),O=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),k=n.n(O),D=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),_=n.n(D),E=n("./src/components/Subtab/ticketsharing/TicketShare/TicketShare.module.css"),x=n.n(E),I=n("../components/lib/Layout/index.js"),C=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),T=n.n(C),j=(n("../components/lib/TextBox/TextBox.js"),n("../components/lib/DropBox/DropBox.js")),P=n.n(j),N=n("../components/lib/Popup/Popup.js"),z=n.n(N),L=n("../components/lib/Button/Button.js"),R=n.n(L),F=n("./src/fz-i18n/index.js"),w=n("./src/components/Subtab/ticketsharing/ShareDepList/ShareDepList.module.css"),M=n.n(w),A=function(e){function t(e){s()(this,t);var n=d()(this,(t.__proto__||i()(t)).call(this,e));return n.state={isUnShareOpen:!1},n.changePermission=n.changePermission.bind(n),n.unShareDepartment=n.unShareDepartment.bind(n),n.openUnShare=n.openUnShare.bind(n),n.closeUnShare=n.closeUnShare.bind(n),n.handleTogglePopup=n.handleTogglePopup.bind(n),n}return p()(t,e),r()(t,[{key:"changePermission",value:function(e,t){var n=this.props,a=n.id,i=n.index,o=n.changePermission,s=n.closePopupOnly;o(a,i,e),s(t)}},{key:"closeUnShare",value:function(){this.setState({isUnShareOpen:!1})}},{key:"openUnShare",value:function(){var e=this.props,t=e.isFormChanged,n=e.id,a=e.unShareDepartment;t?a(n):this.setState({isUnShareOpen:!0})}},{key:"unShareDepartment",value:function(){var e=this,t=this.props,n=t.id,a=t.unShareDepartment;a(n).then(function(){setTimeout(function(){e.setState({isUnShareOpen:!1})},300)})}},{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,"bottomCenter")}},{key:"render",value:function(){var e=this.props,t=(e.id,e.name),n=e.type,a=e.isReadOnly,i=e.ticketLabel,o=e.removeClose,s=e.unSharingStatus,l=e.isPopupOpen,r=e.isPopupReady,c=e.position,d=e.getTargetRef,u=e.getContainerRef,p=this.state.isUnShareOpen;return f.a.createElement(I.Container,{alignBox:p?"column":"row",className:M.a.container+" "+(p?M.a.deleteLayout:M.a.listLayout)+" "+(a?M.a.isReadOnly:"")},p?f.a.createElement(f.a.Fragment,null,f.a.createElement(I.Box,{className:M.a.alertMsg},F.h.getI18NValue("support.ticketshare.revoke.confirmation",[i])),f.a.createElement(I.Box,{className:M.a.buttonDiv},f.a.createElement(R.a,{text:F.h.getI18NValue("support.label.ticketshare.revoke"),status:s,palette:"dangerFilled",onClick:this.unShareDepartment}),f.a.createElement("span",{className:M.a.cancelButton,onClick:this.closeUnShare},F.h.getI18NValue("support.label.cancel")))):f.a.createElement(f.a.Fragment,null,f.a.createElement(I.Box,{flexible:!0,className:M.a.leftPanel,onClick:this.handleTogglePopup,eleRef:d},f.a.createElement(I.Container,{className:M.a.shareContent},f.a.createElement(I.Box,{className:M.a.shareTitle},t),f.a.createElement(I.Box,null,f.a.createElement("span",{className:M.a.accessDetail},F.h.getI18NValue("support.label.ticket.share."+n)),a?null:f.a.createElement("span",{className:M.a.dropicon},f.a.createElement(T.a,{name:"ZD-blockDownArrow"}),l?f.a.createElement("span",{className:M.a.dropDown},f.a.createElement(P.a,{size:"small",boxPosition:c,isActive:r,onClick:o,getRef:u},f.a.createElement("div",{className:M.a.accessList+" "+("READ_WRITE"==n?M.a.selected:""),onClick:this.changePermission.bind(this,"READ_WRITE")},f.a.createElement("div",null,f.a.createElement("span",{className:M.a.title},F.h.getI18NValue("support.label.ticket.share.READ_WRITE")),"READ_WRITE"==n?f.a.createElement("span",{className:M.a.tickIcon},f.a.createElement(T.a,{name:"ZD-tickNew1"})):null),f.a.createElement("div",{className:M.a.detailList},F.h.getI18NValue("support.ticket.shared.readwrite.desc",[i]))),f.a.createElement("div",{className:M.a.accessList+" "+("RESTRICTED_ACCESS"==n?M.a.selected:""),onClick:this.changePermission.bind(this,"RESTRICTED_ACCESS")},f.a.createElement("div",null,f.a.createElement("span",{className:M.a.title},F.h.getI18NValue("support.label.ticket.share.RESTRICTED_ACCESS")),"RESTRICTED_ACCESS"==n?f.a.createElement("span",{className:M.a.tickIcon},f.a.createElement(T.a,{name:"ZD-tickNew1"})):null),f.a.createElement("div",{className:M.a.detailList},F.h.getI18NValue("support.ticket.shared.restricted.desc",[i]))),f.a.createElement("div",{className:M.a.accessList+" "+("READ_ONLY"==n?M.a.selected:""),onClick:this.changePermission.bind(this,"READ_ONLY")},f.a.createElement("div",null,f.a.createElement("span",{className:M.a.title},F.h.getI18NValue("support.label.ticket.share.READ_ONLY")),"READ_ONLY"==n?f.a.createElement("span",{className:M.a.tickIcon},f.a.createElement(T.a,{name:"ZD-tickNew1"})):null),f.a.createElement("div",{className:M.a.detailList},F.h.getI18NValue("support.ticket.shared.readonly.desc",[i]))))):null)))),a?null:f.a.createElement(I.Box,{className:M.a.rightPanel,onClick:this.openUnShare},f.a.createElement("span",{className:M.a.closeIcon},f.a.createElement(T.a,{name:"ZD-closee"})))))}}]),t}(f.a.Component);A.propTypes={changePermission:g.a.func,closePopupOnly:g.a.func,getContainerRef:g.a.func,getTargetRef:g.a.func,id:g.a.string,index:g.a.string,isFormChanged:g.a.bool,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,isReadOnly:g.a.bool,name:g.a.string,position:g.a.string,removeClose:g.a.func,ticketLabel:g.a.string,togglePopup:g.a.func,type:g.a.string,unShareDepartment:g.a.func,unSharingStatus:g.a.string};var V=z()(A),B=n("./src/components/Subtab/ticketsharing/SharingDescription/SharingDescription.module.css"),H=n.n(B),U=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||i()(t)).apply(this,arguments))}return p()(t,e),r()(t,[{key:"render",value:function(){var e=this.props.ticketLabel;return f.a.createElement("div",{className:H.a.informationDiv},f.a.createElement("div",{className:H.a.infoHeading},F.h.getI18NValue("support.label.ticketshare.permission.levels")),f.a.createElement("div",{className:H.a.infoContent},f.a.createElement("div",{className:H.a.typeLists},F.h.getI18NValue("support.label.ticket.share.READ_WRITE")),f.a.createElement("div",{className:H.a.typeDescription},F.h.getI18NValue("support.ticket.shared.readwrite.desc",[e]))),f.a.createElement("div",{className:H.a.infoContent},f.a.createElement("div",{className:H.a.typeLists},F.h.getI18NValue("support.label.ticket.share.RESTRICTED_ACCESS")),f.a.createElement("div",{className:H.a.typeDescription},F.h.getI18NValue("support.ticket.shared.restricted.desc",[e]))),f.a.createElement("div",{className:H.a.infoContent},f.a.createElement("div",{className:H.a.typeLists},F.h.getI18NValue("support.label.ticket.share.READ_ONLY")),f.a.createElement("div",{className:H.a.typeDescription},F.h.getI18NValue("support.ticket.shared.readonly.desc",[e]))))}}]),t}(f.a.Component),G=U;U.propTypes={ticketLabel:g.a.string};var K=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),W=n.n(K),Z=n("./src/components/DeptInputSelect/DeptInputSelect.module.css"),q=n.n(Z),Y=n("../components/lib/MultiSelect/MultiSelect.js"),J=n.n(Y),X=n("./src/containers/DeptListWrapper/DeptListWrapper.js"),Q=n("./src/reducers/selector.js"),$=function(e){function t(e){s()(this,t);var n=d()(this,(t.__proto__||i()(t)).call(this,e));return n.handlePopupOpen=n.handlePopupOpen.bind(n),n.handleSearchDepts=n.handleSearchDepts.bind(n),n.handleSelectDept=n.handleSelectDept.bind(n),n.handleDefaulValueSet=n.handleDefaulValueSet.bind(n),n.state={defaultSelectedDeptDetails:[],isPopupFirstTimeOpened:!1},n.getDeptsList=Object(Q.Wb)(),n}return p()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.handleDefaulValueSet(this.props),this.handlePopupOpen()}},{key:"componentWillReceiveProps",value:function(e){e.selectedDept!==this.props.selectedDept&&this.handleDefaulValueSet(e)}},{key:"handleDefaulValueSet",value:function(e){var t=e.selectedDept,n=e.departments,a=e.isShowEnabledDepts,i=this.getDeptsList({},{departments:n,departmentsOrder:[t],isEnabled:a});this.setState({defaultSelectedDeptDetails:i})}},{key:"handleSearchDepts",value:function(e){var t=this.props,n=t.onSearchDepts,a=t.getDepts;return n(e),e?a():W.a.resolve()}},{key:"handlePopupOpen",value:function(e){var t=this.props.getDepts,n=this.state.isPopupFirstTimeOpened;return n||this.setState({isPopupFirstTimeOpened:!0}),n?W.a.resolve():t(e)}},{key:"handleSelectDept",value:function(e){var t=this.props.onChange;"none"!==e&&t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.selectedDepartmentIds,n=e.deptsList,a=e.getNextDepts,i=e.isNextDepts,o=(e.selectedDept,e.needNoneValue),s=e.searchString,l=(e.excludeDepts,e.emptyMessage,e.getRef,e.needSearch,e.textBoxSize,e.textBoxVariant,e.onChange),r=e.isDisabled,c=e.isPopupOpen,d=e.errMsg,u=(this.state.defaultSelectedDeptDetails,F.h.getI18NValue("None"));n=o&&!s?[{id:"none",name:"--"+u+"--"}].concat(_()(n)):n;var p=[];return n.map(function(e){-1==t.indexOf(e.id)&&p.push(e)}),f.a.createElement("div",{className:q.a.posrel},f.a.createElement(J.a,{isDisabled:r,title:d,isPopupOpen:c,valueField:"id",textField:"name",selectedOptions:[],options:p,onChange:l,needToCloseOnSelect:!0,onFocus:this.handlePopupOpen,getNextOptions:a,isNextOptions:i,noMoreOptionsMessage:F.h.getI18NValue("support.label.no.match.found"),emptyMessage:F.h.getI18NValue("support.label.no.match.found"),placeHolder:F.h.getI18NValue("support.label.search.department")}))}}]),t}(h.Component);$.propTypes={selectedDept:g.a.array.isRequired,onChange:g.a.func.isRequired,needNoneValue:g.a.bool,excludeDepts:g.a.array,emptyMessage:g.a.string,isShowEnabledDepts:g.a.bool,getRef:g.a.func,needSearch:g.a.bool,departments:g.a.object,deptsList:g.a.array,getDepts:g.a.func,getNextDepts:g.a.func,searchString:g.a.string,onSearchDepts:g.a.func,isNextDepts:g.a.bool,textBoxSize:g.a.string,textBoxVariant:g.a.string,isDisabled:g.a.bool,isPopupOpen:g.a.bool,errMsg:g.a.string,selectedDepartmentIds:g.a.array},$.defaultProps={needNoneValue:!1,needSearch:!0,textBoxSize:"medium",textBoxVariant:"default"};var ee,te=Object(X.a)($),ne=(Object(X.a)($,!1),n("./src/constants/index.js")),ae=n("./src/components/FormAction/FormAction.js"),ie=n("./src/components/Link/Link.js"),oe=function(e){function t(e){s()(this,t);var n=d()(this,(t.__proto__||i()(t)).call(this,e));return n.state={sharedDepartments:e.sharedDepartments,isShareOptionOpen:e.isNewForm||!1,isSharingDescOpen:!1,isFormChanged:!1},n.toggleSharingDesc=n.toggleSharingDesc.bind(n),n.showShareOption=n.showShareOption.bind(n),n.addDepartment=n.addDepartment.bind(n),n.unShareDepartment=n.unShareDepartment.bind(n),n.changePermission=n.changePermission.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return p()(t,e),r()(t,[{key:"toggleSharingDesc",value:function(){this.setState(function(e){return{isSharingDescOpen:!e.isSharingDescOpen}})}},{key:"showShareOption",value:function(){this.setState({isShareOptionOpen:!0})}},{key:"addDepartment",value:function(e){this.setState(function(t){return{sharedDepartments:[].concat(_()(t.sharedDepartments),[{id:e[0],type:"READ_WRITE"}]),isFormChanged:!0}})}},{key:"unShareDepartment",value:function(e){var t=this,n=this.state,a=n.isFormChanged,i=n.sharedDepartments.filter(function(t){return t.id!=e});if(!a)return this.setState({unSharingStatus:"loading"}),this.props.updateData(i).then(function(){t.setState({unSharingStatus:"success"}),setTimeout(function(){t.setState({sharedDepartments:i,unSharingStatus:"none"})},300)},function(){t.setState({unSharingStatus:"none"})});this.setState({sharedDepartments:i})}},{key:"changePermission",value:function(e,t,n){var a=this;this.setState({sharedDepartments:[].concat(_()(this.state.sharedDepartments.slice(0,t)),[k()({},this.state.sharedDepartments[t],{type:n})],_()(this.state.sharedDepartments.slice(t+1)))},function(){var e=a.state,t=e.isFormChanged,n=e.sharedDepartments;t||a.props.updateData(n)})}},{key:"onSubmit",value:function(){var e=this;this.setState({sharingStatus:"loading"});var t=this.props,n=t.updateData,a=t.closeTicketShareForm;n(this.state.sharedDepartments).then(function(){e.setState({sharingStatus:"success"}),setTimeout(function(){a()},300)},function(){e.setState({sharingStatus:"node"})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isSharedTicket,a=t.closeTicketShareForm,i=t.ticketLabel,o=t.parentDepName,s=t.departmentsObj,l=t.parentDepId,r=t.isNewForm,c=this.state,d=c.isShareOptionOpen,u=c.isSharingDescOpen,p=c.isFormChanged,h=c.sharedDepartments,m=c.sharingStatus,g=void 0===m?"none":m,b=c.unSharingStatus,v=void 0===b?"none":b,y=[l];return h.map(function(e){y.push(e.id)}),f.a.createElement(I.Container,{className:x.a.continerDiv},f.a.createElement(I.Box,{className:x.a.headerDiv},f.a.createElement("div",null,f.a.createElement("span",{className:x.a.headingDiv},n?F.h.getI18NValue("support.label.tickeshare.shared.info"):F.h.getI18NValue("support.label.tickeshare.header",[i])),u?null:f.a.createElement("span",{className:x.a.iconsList},n?null:f.a.createElement("span",{className:x.a.iconInfo,onClick:this.toggleSharingDesc},f.a.createElement(T.a,{name:"ZD-information57"})),f.a.createElement("span",{className:x.a.iconClose,onClick:a},f.a.createElement(T.a,{name:"ZD-close2"})))),f.a.createElement("div",{className:x.a.shareParagraph},n?F.h.getI18NValue("support.ticketshare.shared.desc",[i.toLowerCase()]):F.h.getI18NValue("support.ticketshare.sharing.desc",[i.toLowerCase()]),n?null:f.a.createElement(ie.a,{className:x.a.learnMore,target:"_blank",href:ne.cb},F.h.getI18NValue("support.crmlabel.learnmore"))),n?f.a.createElement("span",null,f.a.createElement("div",{className:x.a.from},F.h.getI18NValue("support.label.ticketshare.sharedfrom")),f.a.createElement("p",{className:x.a.parentDep,"data-title":o},o),f.a.createElement("div",{className:x.a.to},F.h.getI18NValue("support.label.ticketshare.sharedto"))):null,d&&!u?f.a.createElement("div",{className:x.a.inputArea},f.a.createElement(te,{selectedDept:l,selectedDepartmentIds:y,onChange:this.addDepartment,isDisabled:11==y.length,errMsg:11==y.length?F.h.getI18NValue("support.ticketshare.maxcount.error"):null,isPopupOpen:r&&y.length<11})):null),f.a.createElement(I.Box,{flexible:!0,scroll:"vertical"},f.a.createElement("div",{className:x.a.listDiv},u?f.a.createElement(G,{closeDesc:this.toggleSharingDesc}):h.map(function(t,a){var o=t.id,l=t.type,r=s[o]?s[o].name:"test";return f.a.createElement("div",{className:x.a.shareList,key:a},f.a.createElement(V,{index:a,isReadOnly:n,id:o,name:r,type:l,ticketLabel:i,changePermission:e.changePermission,unShareDepartment:e.unShareDepartment,unSharingStatus:v,isFormChanged:p}))}))),n?null:u?f.a.createElement(I.Box,null,f.a.createElement("div",{className:x.a.gotButton,onClick:this.toggleSharingDesc},f.a.createElement("span",{className:x.a.gotitButton},F.h.getI18NValue("support.label.ticketshare.gotit")))):!d||p||r?f.a.createElement(f.a.Fragment,null,p||r?f.a.createElement(ae.c,{size:"small",paddingLeftSize:"xmedium"},f.a.createElement(R.a,{text:r?F.h.getI18NValue("support.community.singlepost.share"):F.h.getI18NValue("support.label.update"),onClick:this.onSubmit,status:g,palette:"primaryFilled"}),f.a.createElement(R.a,{text:F.h.getI18NValue("support.label.cancel"),onClick:a,palette:"secondary"})):f.a.createElement(ae.c,{size:"small",paddingLeftSize:"xmedium"},f.a.createElement(R.a,{text:F.h.getI18NValue("support.label.ticketshare.sharemore"),onClick:this.showShareOption,palette:"primaryFilled"}))):null)}}]),t}(f.a.Component),se=oe;oe.propTypes=(ee={closeTicketShareForm:g.a.func,departmentsObj:g.a.object},S()(ee,"departmentsObj",g.a.object),S()(ee,"isNewForm",g.a.bool),S()(ee,"isSharedTicket",g.a.bool),S()(ee,"parentDepId",g.a.string),S()(ee,"parentDepName",g.a.string),S()(ee,"sharedDepartments",g.a.array),S()(ee,"updateData",g.a.func),ee);var le=function(e){function t(e){s()(this,t);var n=d()(this,(t.__proto__||i()(t)).call(this,e));return n.updateData=n.updateData.bind(n),n}return p()(t,e),r()(t,[{key:"updateData",value:function(e){var t=this.props,n=t.ticketId;return(0,t.updateTicket)(n,{sharedDepartments:e})}},{key:"render",value:function(){var e=this.props,t=(e.ticketId,e.sharedDepartments),n=e.closeTicketShareForm,a=e.isSharedTicket,i=e.parentDepName,o=e.ticketLabel,s=e.departmentsObj,l=e.parentDepId,r=e.isNewForm;return f.a.createElement(se,{closeTicketShareForm:n,isSharedTicket:a,parentDepName:i,ticketLabel:o,sharedDepartments:t,departmentsObj:s,parentDepId:l,updateData:this.updateData,isNewForm:r})}}]),t}(h.Component);le.propTypes={closeTicketShareForm:g.a.func,departmentsObj:g.a.object,isNewForm:g.a.bool,isSharedTicket:g.a.bool,parentDepId:g.a.string,parentDepName:g.a.string,sharedDepartments:g.a.array,ticketId:g.a.string,ticketLabel:g.a.string,updateTicket:g.a.func};t.default=Object(b.connect)(function(e,t){return{ticketLabel:e.moduleMeta.tickets.singularLabel,departmentsObj:e.module.department}},{updateTicket:v.k})(le)}}]);