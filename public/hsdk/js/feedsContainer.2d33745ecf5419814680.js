(window.deskappJsonp=window.deskappJsonp||[]).push([[99],{"../components/lib/Button/Button.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(o("../components/lib/Button/Button.module.css")),i=o("../components/lib/utils/dummyFunction.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,o=e.palette,n=e.disabled,s=e.size,i=e.onClick,l=e.rounded,c=e.status,d=e.children,u=e.isBold,m=e.dataId,p=e.needAppearance,h=e.className,f=e.getRef,g=p?r.default[o.toLowerCase()]+" "+(l?r.default.rounded:"")+"   "+(d?r.default["button_"+s.toLowerCase()]:r.default[s.toLowerCase()]):""+r.default.default;return a.default.createElement("button",{className:(h||"")+" "+g+" "+(u?r.default.bold:"")+"  ","data-id":n?m+"_disabled":m,disabled:n||"loading"===c.toLowerCase(),onClick:i,type:"button",ref:f},d||t,"none"!==c&&p&&a.default.createElement("div",{className:r.default.overlay},a.default.createElement("div",{className:"loading"===c.toLowerCase()?r.default.loading:r.default.success},a.default.createElement("div",{className:r.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:i.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:s.default.node,className:s.default.string,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,isBold:s.default.bool,needAppearance:s.default.bool,onClick:s.default.func,palette:s.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:s.default.bool,size:s.default.oneOf(["small","medium","large","xlarge"]),status:s.default.oneOf(["loading","success","none"]),text:s.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/CheckBox/CheckBox.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(o("../components/lib/CheckBox/CheckBox.module.css")),i=l(o("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,o=t.onChange,n=t.checked;o&&o(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.name,n=e.checked,s=e.disabled,l=e.palette,c=e.text,d=e.labelPalette,u=e.active,m=e.labelSize,p=e.getRef,h=e.dataId,f=u?r.default[l+"_active"]:"",g=s?r.default.disabled:r.default.pointer;return a.default.createElement("span",{className:r.default.container+" "+g+" "+(c?r.default.layout:r.default.basic)+" "},a.default.createElement("input",{type:"checkbox",className:r.default.input+" "+(n?r.default.checked:""),name:o,checked:n,disabled:s,ref:p}),a.default.createElement("label",{className:r.default["label_"+l]+" "+f+" "+(c?r.default.layoutshrink:""),onClick:this.onChange,"data-id":h},a.default.createElement("span",null)),c&&a.default.createElement("span",{className:r.default.text},a.default.createElement(i.default,{text:c,palette:d,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:s.default.bool,checked:s.default.bool,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,id:s.default.string,labelPalette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.default.oneOf(["small","medium","large"]),name:s.default.string,onChange:s.default.func,palette:s.default.oneOf(["primary","danger"]),text:s.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},"../components/lib/Label/Label.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=i(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=i(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=i(o("../components/lib/Label/Label.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,o=e.type,n=e.palette,s=e.size,i=e.clipped,l=e.name,c=e.title,d=e.onClick,u=e.dataId;return a.default.createElement("label",{className:r.default.label+" "+r.default[o]+" "+r.default[s]+" "+r.default[n]+"\n          "+(i?r.default.dotted:"")+" "+(d?r.default.pointer:r.default.cursor),name:l,"data-title":c,"data-id":u,onClick:d},t)}}]),t}();t.default=l,l.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},l.propTypes={clipped:s.default.bool,dataId:s.default.string,name:s.default.string,onClick:s.default.func,palette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:s.default.oneOf(["small","medium","large"]),text:s.default.string,title:s.default.string,type:s.default.oneOf(["title","subtitle"])},l.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/Switch/Switch.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),r=l(o("../components/lib/Switch/Switch.module.css")),i=l(o("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,o=t.onChange,n=t.checked;o&&o(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.name,n=e.value,s=e.checked,l=e.disabled,c=e.size,d=e.text,u=e.labelSize,m=e.labelPalette,p=e.title,h=e.dataId;return c="small"!==c?"switch_medium":"switch_small",a.default.createElement("span",{className:r.default.container+" "+(l?r.default.disabled:""),"data-title":l?p:""},a.default.createElement("span",{className:r.default[c]},a.default.createElement("input",{type:"checkbox",id:t,className:r.default.input+" "+(s?r.default.checked:""),name:o,value:n,checked:s,disabled:l,onClick:this.onChange,"data-id":h}),a.default.createElement("label",{htmlFor:t,className:r.default.label})),d&&a.default.createElement(i.default,{text:d,palette:m,id:t,size:u,type:"subtitle",onClick:this.onChange}))}}]),t}();t.default=c,c.defaultProps={checked:!1,disabled:!1,labelPalette:"primary",labelSize:"medium",size:"medium"},c.propTypes={checked:s.PropTypes.bool,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,id:s.PropTypes.string.isRequired,labelPalette:s.PropTypes.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.PropTypes.oneOf(["small","medium","large"]),name:s.PropTypes.string,onChange:s.PropTypes.func,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.string,title:s.PropTypes.string,value:s.PropTypes.bool},c.propTypesDescription={checked:" ",disabled:" ",size:" ",id:" ",name:" ",text:" ",labelSize:" ",labelPalette:" ",value:" ",onChange:" ",title:" "}},"./src/actions/AgentAction.js":function(e,t,o){"use strict";o.d(t,"k",function(){return m}),o.d(t,"j",function(){return p}),o.d(t,"h",function(){return h}),o.d(t,"b",function(){return f}),o.d(t,"c",function(){return g}),o.d(t,"l",function(){return b}),o.d(t,"i",function(){return v}),o.d(t,"d",function(){return C}),o.d(t,"f",function(){return k}),o.d(t,"a",function(){return y}),o.d(t,"m",function(){return _}),o.d(t,"e",function(){return I}),o.d(t,"g",function(){return A}),o.d(t,"n",function(){return j});o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js");var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),a=o.n(n),s=o("./src/utils/RequestAPI.js"),r=o("./src/utils/Common.js"),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),l=o("./src/reducers/selector.js"),c=o("./src/utils/departmentQuery.js"),d=o("./src/constants/index.js"),u=o("./src/constants/agents.js");function m(e){return{types:Object(r.m)("AGENTS_COUNT"),callAPI:function(t){var o=Object(l.t)(t);return Object(s.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return a()({},e,{id:e.agentId})}),{countData:e.data,deptId:o}):{}})}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e.from=E(e,"from","1"),e.limit=E(e,"limit","100"),e.searchStr=_(e);var o=e.from>1?"AGENT_NEXT":d.R.AGENT;return{types:Object(r.m)(o),callAPI:function(o){var n="/api/v1/agents?orgId="+o.currentOrgId+(t&&"allDepartment"!==t?"&departmentId="+t:"");return n+=y(e,["from","limit","status","isConfirmed","searchStr","profileIds","roleIds"]),Object(s.a)(n).get().then(function(o){if(204!==o.responseStatus){var n=o.data.length<e.limit,s=Object(i.b)(o.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return a()(s,{noMoreData:n,depId:t})}return{entities:{noMoreData:!0},result:[]}})}}}function h(e,t,o){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{types:Object(r.m)(t>1?"AGENT_NEXT":d.R.AGENT),callAPI:function(r){return Object(s.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+o+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:r.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<o,s=Object(i.b)(t.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return a()(s,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(r.m)(d.R.AGENT),callAPI:function(o){return Object(s.a)("/api/v1/agents/"+e,!1,{orgId:o.currentOrgId}).get().then(function(e){var o=Object(i.b)(e,Object(i.c)(d.R.AGENT_L));return a()(o,{depId:t})})}}}function g(e){return{types:Object(r.m)(d.R.AGENT),callAPI:function(t){return Object(s.a)("/api/v1/agents/zuid/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(e,Object(i.c)(d.R.AGENT_L))})}}}function b(e,t,o){return{types:Object(r.m)("AGENT_SEARCH"),callAPI:function(n){return Object(s.a)("/api/v1/agents?searchStr=*"+e+"*&from="+t+"&limit="+o+"&status=ACTIVE&isConfirmed=true",!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<o,s=Object(i.b)(e.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return a()(s,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],o=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.z,u=arguments[4];return{types:Object(r.m)(d.R.AGENT),callAPI:function(r){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=u||Object(l.t)(r),h=u?"&departmentId="+u:Object(c.a)(r,!0),f="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(o?"&searchStr=*"+o+"*":"")+h;return Object(s.a)(encodeURI(f),!1,{orgId:r.currentOrgId}).get().then(function(s){return a()({},Object(i.b)(204!==s.responseStatus?s.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L))),{deptId:p,from:t,limit:n,isNext:!!s.data&&s.data.length>n,searchStr:o,agentType:e})},function(e){throw e})}}}function C(e){return{types:Object(r.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(s.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(204!==e.responseStatus?e.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L)))})}}}function k(e){return{types:Object(r.m)("TEAM_AGENT"),callAPI:function(t){return Object(s.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(e.members,Object(i.a)(Object(i.c)(d.R.AGENT_L)))})}}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o="";return t.map(function(t){void 0!==e[t]&&(o+="&"+t+"="+e[t])}),o}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2];return void 0!==e[t]?e[t]:o}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=E(e,"searchType","string"),o=e.searchStr;return o&&(o="string*"==t?o+"*":"*string*"==t?"*"+o+"*":o),o}function w(e){var t=e.isConfirmed,o=e.status;switch(o){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===o)return u.b}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=E(e,"from","1"),e.limit=E(e,"limit","100"),e.searchStr=_(e);var t=e.from>1?u.k:u.j;return{types:Object(r.m)(t),callAPI:function(t){var o="/api/v1/agents?orgId="+t.currentOrgId;return o+=y(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(s.a)(o).get().then(function(t){return a()(Object(i.b)(void 0!==t.data?t.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L))),{status:w(e)})})}}}function A(e,t,o){var n={status:e,isConfirmed:t,includeLightAgent:o};return n.includeLightAgent=E(n,"includeLightAgent",!0),{types:Object(r.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=y(n,["status","isConfirmed","includeLightAgent"]),Object(s.a)(t).get().then(function(e){return a()({},e,{status:w(n)})})}}}function j(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}},"./src/actions/FeedsAction.js":function(e,t,o){"use strict";o.d(t,"b",function(){return f}),o.d(t,"g",function(){return g}),o.d(t,"f",function(){return b}),o.d(t,"d",function(){return v}),o.d(t,"c",function(){return C}),o.d(t,"e",function(){return k}),o.d(t,"a",function(){return y});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=o.n(s),i=o("./src/utils/RequestAPI.js"),l=o("./src/utils/Common.js"),c=o("./src/utils/departmentQuery.js"),d=o("./src/reducers/selector.js"),u=o("./src/actions/index.js"),m=o("./src/fz-i18n/index.js"),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),h=o("./src/constants/index.js");function f(){return{types:Object(l.m)("FEEDS_VIEWS_KEY"),callAPI:function(e){var t=Object(d.t)(e),o="";return o="allDepartment"==t?"departmentId=0":Object(c.a)(e),Object(i.a)("/api/v1/feed/viewKey?"+o,!1,{orgId:e.currentOrgId}).get().then(function(e){return{deptId:t,feedsViewKey:e}})}}}function g(e){return function(t,o){var n=Object(d.t)(o());return t({type:"UPDATE_FEED_VIEW",data:{view:e,deptId:n}})}}function b(e,t){return function(o,n){var a=Object(d.t)(n()),s=Object(p.b)(t,Object(p.c)(h.R.FEEDS_L,{id:"fdk"}));return o({type:"FEEDS_SUCCESS",data:s=r()({},s,{viewKey:e,noData:t.noData,deptId:a,renderType:t.rendertype})})}}function v(e){return{types:Object(l.m)("POST_STATUS_MESSAGE"),callAPI:function(t){return Object(i.a)("/api/v1/feed/userStatus",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){return{res:e,entities:{},result:[]}})}}}function C(e){return function(t,o){var n=e.getAdditionalProperty("data")||{},a=m.h.getI18NValue("support.unable.to.process.your.request"),s=n.message||"InternalError";"Unknown_Module"===s||"InternalError"===s||"Unknown_Type"===s?a=m.h.getI18NValue("support.unable.to.process.your.request"):"Unauthorized"===s?a=m.h.getI18NValue("crm.security.error"):"Record_Deleted"===s?a=m.h.getI18NValue("crm.record.not.accessible.message"):"CommentEmpty"===s&&(a=m.h.getI18NValue("crm.field.empty.check",[m.h.getI18NValue("tabs.request.comment")])),t(Object(u.Q)({type:"alert",message:a}))}}function k(e,t,o){return function(n){return n({type:"REMOVE_FEED",data:{viewkey:e,fdk:t,deptId:o}})}}function y(e,t,o){return function(e,n){var s=n().module.feeds[t].comments.filter(function(e){return e.cfdk!=o});e({type:"REMOVE_FEED_COMMENT_DELETED_SUCCESS",data:{entities:{feeds:a()({},t,{comments:s})}}})}}},"./src/components/ChannelIcon/ChannelIcon.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),v=o.n(b),C=o("../components/lib/Avatar/Avatar.js"),k=o.n(C),y=o("./src/components/avatar/AvatarIcon/AvatarIcon.js"),E=o("./src/utils/ChannelIconMapping.js"),_=o("./src/components/ChannelIcon/ChannelIcon.module.css"),w=o.n(_),I=function(e){function t(e){return r()(this,t),d()(this,(t.__proto__||a()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,o=e.action,n=e.iconSize,a=e.size,s=e.topicIcon,r=e.topicIconTitle,i=e.topicIconSize,l=e.topicIconColor,c=e.iconClass,d=e.dataId,u=e.className,m=e.palette,p=t&&Object(E.a)()[t.toUpperCase()],f=null,g=null;return p?g=p[o]:f=t,h.a.createElement("span",{className:w.a.container},f?h.a.createElement(k.a,{name:f,size:a,palette:m}):a?g?h.a.createElement(y.a,{name:g,iconSize:n,size:a,iconClass:w.a.iconStyle+" "+(t&&o?w.a[t.toLowerCase()+"_"+o.toLowerCase()]:"")+" "+(c||"")+" ",dataId:d,className:u}):h.a.createElement(k.a,{name:t,size:a,palette:m}):h.a.createElement(v.a,{name:g,size:n,iconClass:c||""}),s?h.a.createElement("span",{className:w.a.thread,"data-title":r},h.a.createElement(v.a,{name:s,size:i,iconClass:w.a["topic_"+l]?w.a["topic_"+l]:""})):null)}}]),t}(p.Component);t.a=I,I.defaultProps={iconSize:"18",name:"phone"},I.propTypes={action:g.a.string,className:g.a.string,dataId:g.a.string,iconClass:g.a.string,iconSize:g.a.string,name:g.a.string,palette:g.a.oneOf(["primary","secondary","info","default"]),size:g.a.string,topicIcon:g.a.string,topicIconColor:g.a.string,topicIconSize:g.a.string,topicIconTitle:g.a.string}},"./src/components/DotSeparator/DotSeparator.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/DotSeparator/DotSeparator.module.css"),v=o.n(b),C=function(e){function t(e){return r()(this,t),d()(this,(t.__proto__||a()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,o=e.type,n=e.palette,a=e.wrap,s=e.shrink,r=e.aligndirection,i=t.filter(function(e){return null!=e}),l=0;return h.a.createElement("div",{className:v.a.container+" "+v.a[r]+" "+(a?v.a.wrap:"")},i.map(function(e,t){if(e)return i.length-1==t||"column"==r?e&&h.a.createElement("span",{className:""+(s?v.a.shrink:""),key:l++},e):e&&h.a.createElement(h.a.Fragment,{key:t},h.a.createElement("span",{className:s?v.a.shrink:"",key:l++},e),h.a.createElement("span",{className:v.a.separator+" "+v.a[n]+" "+v.a[o]+" ",key:l++},"slash"==o?"/":"arrow"==o?">":"comma"==o?",":"â€¢"))}))}}]),t}(h.a.Component);t.a=C,C.defaultProps={palette:"default",type:"dot",wrap:!1,shrink:!1},C.propTypes={aligndirection:g.a.string,children:g.a.any,palette:g.a.oneOf(["default","primary","secondary"]),shrink:g.a.bool,type:g.a.oneOf(["dot","slash","arrow","comma","none"]),wrap:g.a.bool}},"./src/components/Image/Image.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/Image/Image.module.css"),v=o.n(b),C=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alt,o=e.src,n=e.className,a=e.isCover,s=e.title,r=e.onClick,i=e.dataId;return h.a.createElement("img",{src:o,alt:t,"data-title":s,"data-id":i,className:" "+n+" "+(a?v.a.imgFullSize:v.a.imgMaxFullSize)+" ",onClick:r})}}]),t}(h.a.Component);t.a=C,C.propTypes={alt:g.a.string.isRequired,className:g.a.string,dataId:g.a.string,isCover:g.a.bool,onClick:g.a.func,src:g.a.string.isRequired,title:g.a.string},C.defaultProps={isCover:!1,className:""}},"./src/components/Subtab/AudioMessage/AudioMessage.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/Subtab/AudioMessage/AudioMessage.module.css"),v=o.n(b),C=o("./src/fz-i18n/index.js"),k=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={playingIndex:1},o.play=o.play.bind(o),o.playNext=o.playNext.bind(o),o.pauseOthers=o.pauseOthers.bind(o),o}return m()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var o=document.getElementById("audio"+t);o&&o.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,o){e!=o+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,o=this.props.thread,n=JSON.parse(o.content),a=n.voicemailurl,s=n.recordingurl,r=n.voicemailduration,i=n.recordingduration,l=void 0,c=void 0,d=void 0,u=[],m=0;if(a.startsWith("https://")||s.startsWith("https://"))a.startsWith("https://")?(l=a,c=r,d=C.h.getI18NValue("support.twi.msg.voicemessage")):(l=s,c=i,d=C.h.getI18NValue("support.twi.msg.callrecording"));else{m=(u=JSON.parse(n.recordingurl)).length,l=u[0].url,l=m>2?l:l+u[1].rid;var p=i%3600,f=Math.floor(p/60),g=p%60,b=Math.ceil(g);c=Math.floor(i/3600)+":"+f+":"+b+" (H:M:S)",d=C.h.getI18NValue("support.twi.msg.callrecording")}return h.a.createElement("div",{className:v.a.audioDiv},h.a.createElement("div",{className:v.a.audioHead},h.a.createElement("span",{className:v.a.audioTitle},d),h.a.createElement("span",{className:v.a.audioDur},"( ",C.h.getI18NValue("crm.activities.call.duration"),":",h.a.createElement("span",null,c)," )"),m>2?h.a.createElement("span",null,C.h.getI18NValue("support.label.playing")," ",h.a.createElement("span",null,t),"/",m-1," ",C.h.getI18NValue("support.label.recording")):null),h.a.createElement("div",{className:v.a.audioSource},m>2?u.map(function(t,o){var n=u[o].rid;return n?h.a.createElement("audio",{controls:!0,id:"audio"+o,src:l+n,key:o,className:v.a.audio,onPlay:function(){e.play(o)},onEnded:function(){e.playNext(o)},style:{display:"block"}}):null}):h.a.createElement("audio",{controls:!0,src:l,className:v.a.audio})))}}]),t}(h.a.Component);t.a=k,k.propTypes={thread:g.a.object}},"./src/components/Subtab/CommentActionButton/CommentActionButton.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/Subtab/CommentActionButton/CommentActionButton.module.css"),v=o.n(b),C=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=o.n(C),y=o("../components/lib/Switch/Switch.js"),E=o.n(y),_=o("./src/fz-i18n/index.js"),w=o("../components/lib/Layout/index.js"),I=o("../components/lib/Button/Button.js"),A=o.n(I),j=o("./src/components/setup/timetrack/utils.js"),T=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={isPopupOpen:!1},o.togglePopup=o.togglePopup.bind(o),o.changeMode=o.changeMode.bind(o),o}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"changeMode",value:function(){var e=this.props,t=e.isPublic,o=e.changeMode;o(t?"private":"public")}},{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,o=t.revertIsCommentChanged,n=t.isCommentChanged,a=t.closeComment,s=t.toggleComment,r=t.clearComment,i=t.type,l=t.from,c=t.content,d=void 0===c?"":c,u=t.isPublic,m=t.addComment,p=t.updateComment,f=t.hasPrivacyMode,g=t.havePublicComment,b=t.dataId,C=t.isLoading,y=this.state.isPopupOpen,I="large";"leftPanel"==l&&(I="medium");var T=""==d&&"conversation"!=i;return h.a.createElement(w.Box,{className:v.a.postSubmit},h.a.createElement("span",{className:v.a.sentButton},"edit"==i?h.a.createElement(A.a,{text:_.h.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",onClick:p,status:C?"loading":"none",dataId:"edit_"+b}):g?f?h.a.createElement("span",{className:v.a.commentButton},f?h.a.createElement("div",{className:v.a[I]+" "+(C?"":v.a.isActive)},C?h.a.createElement(A.a,{status:"loading",palette:"primaryFilled",size:"medium",className:v.a.loading}):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:v.a.content,"data-id":b,onClick:m},h.a.createElement("p",{className:v.a.actionType},_.h.getI18NValue("tabs.request.comment")),h.a.createElement("p",{className:v.a.subtitle},u?_.h.getI18NValue("support.request.public"):_.h.getI18NValue("support.department.type.internal"))),h.a.createElement("span",{className:v.a.arrow,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.togglePopup(t)},"data-id":"switchingButton"},h.a.createElement(k.a,{name:"ZD-blockDownArrow",size:"6"})))):h.a.createElement(A.a,{text:_.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:m,status:C?"loading":"none"}),h.a.createElement("div",{className:v.a.buttonAction+" "+(y?v.a.active:"")+" "+("leftPanel"==l?v.a.commentLeftPopup:" "),onClick:j.a,"data-id":"switchingButton_Options"},h.a.createElement("div",{className:v.a.switchAction,onMouseDown:this.changeMode},h.a.createElement("p",null,h.a.createElement("span",{className:v.a.actionNotify},_.h.getI18NValue("support.request.public")),h.a.createElement("span",{className:v.a.switchbox},h.a.createElement(E.a,{id:"commentPrivate",name:"commentPrivate",size:"small",checked:u,dataId:"switch"}))),h.a.createElement("p",{className:v.a.actionSubtitle},_.h.getI18NValue("support.solutions.comments.display.in.customer.self.service.portal"))))):h.a.createElement(A.a,{text:_.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:m,status:C?"loading":"none"}):h.a.createElement(A.a,{text:_.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:m,dataId:"saveButtonId",status:C?"loading":"none"})),h.a.createElement("span",{className:v.a.clearButton},h.a.createElement(A.a,{text:"edit"==i||"task"==l||"conversation"==i&&""==d?_.h.getI18NValue("support.label.cancel"):_.h.getI18NValue("support.request.clear"),palette:"secondary",size:"medium",disabled:T,onClick:function(){"edit"==i||"task"==l?(n&&o&&o(),a()):"conversation"==i?s():r()},dataId:"clearButton"})))}}]),t}(h.a.Component);t.a=T,T.propTypes={addComment:g.a.func,changeMode:g.a.func,clearComment:g.a.func,closeComment:g.a.func,content:g.a.string,dataId:g.a.string,from:g.a.string,hasPrivacyMode:g.a.bool,havePublicComment:g.a.bool,isCommentChanged:g.a.bool,isLoading:g.a.bool,isPublic:g.a.bool,module:g.a.string,revertIsCommentChanged:g.a.func,toggleComment:g.a.func,type:g.a.string,updateComment:g.a.func}},"./src/components/Subtab/CommentBox/CommentBox.js":function(e,t,o){"use strict";(function(e){var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=o.n(f),b=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=o.n(b),C=o("./src/components/Subtab/CommentBox/CommentBox.module.css"),k=o.n(C),y=o("./src/components/avatar/AvatarThread/AvatarThread.js"),E=o("./src/components/Subtab/UploadList/UploadList.js"),_=o("./src/components/Subtab/CommentActionButton/CommentActionButton.js"),w=o("./src/fz-i18n/index.js"),I=o("./src/utils/Attachment.js"),A=o("./src/utils/Common.js"),j=o("./src/utils/DataStorage.js"),T=o("./src/utils/Editor.js"),x=o("../components/lib/Layout/index.js"),N=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),S=o.n(N),D=o("./src/components/TextEditor/TextEditor.js"),P=o("./src/components/Subtab/UploadPopup/UploadPopup.js"),O=function(t){function o(e){l()(this,o);var t=m()(this,(o.__proto__||r()(o)).call(this,e)),n=t.props,a=n.value,s=n.attachments;return t.state={content:a||"",oldAttachments:s||[],newAttachments:[],isAttachmentUploading:!1,isDragOver:!1,mode:"private",showTools:j.a.getItem("showCommentTools"),isAttachmentModified:!1,isLoading:!1},t._isMounted=!1,t.uploadAttach=t.uploadAttach.bind(t),t.deleleUpload=t.deleleUpload.bind(t),t.removeAttachment=t.removeAttachment.bind(t),t.updateComment=t.updateComment.bind(t),t.clearComment=t.clearComment.bind(t),t.toggleComment=t.toggleComment.bind(t),t.dragEnter=t.dragEnter.bind(t),t.dragLeave=t.dragLeave.bind(t),t.attachDrop=t.attachDrop.bind(t),t.changeMode=t.changeMode.bind(t),t.toggleTools=t.toggleTools.bind(t),t.commentCallback=t.commentCallback.bind(t),t.checkCommentChanged=t.checkCommentChanged.bind(t),t.addComment=t.addComment.bind(t),t.dragAttach=t.dragAttach.bind(t),t.addCloudAttch=t.addCloudAttch.bind(t),t.openCloudAttach=t.openCloudAttach.bind(t),t.closeCloudAttach=t.closeCloudAttach.bind(t),t.closeComment=t.closeComment.bind(t),t}return h()(o,t),d()(o,[{key:"componentWillReceiveProps",value:function(e){e.oldAttachments==this.props.oldAttachments&&e.value==this.props.value&&e.newAttachments==this.props.newAttachments||this.setState({content:e.value||"",oldAttachments:e.oldAttachments||[],newAttachments:e.newAttachments||[]})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"addComment",value:function(){var e=this,t=this.state,o=t.mode,n=t.isCommentAdding,a=this.props,s=a.attachmentIds,r=a.hasAttachments,i=void 0===r||r,l=a.hasPrivacyMode,c=void 0===l||l;if(!n){var d=editor["Comment_"+this.props.id],u=d.mentionsList,m=d.mentionsHandler("val");if(this.isValid(d)){var p="public"==o,h=this.props,f=h.revertIsCommentChanged,g=h.addComment;h.isCommentChanged&&f&&f(),this.setState({isCommentAdding:!0});var b={content:m};i&&(b.attachmentIds=s),c&&(b.isPublic=p),this.setState({isLoading:!0}),g(b,u,function(){e._isMounted&&(e.setState({oldAttachments:[],newAttachments:[],isAttachmentModified:!1,isCommentAdding:!1,mode:"private"}),e.props.setAttachmentIds([]),e.clearComment()),e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:w.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1,isCommentAdding:!1})})}}}},{key:"updateComment",value:function(){var e=this,t=this.props,o=t.id,n=t.value,a=t.revertIsCommentChanged,s=t.isCommentChanged,r=t.updateComment,i=t.attachmentIds,l=editor["Comment_"+o],c=l.mentionsList,d=l.mentionsHandler("val");s&&a&&a(),this.setState({isAttachmentModified:!1}),this.isValid(l)&&(this.setState({isLoading:!0}),r(o,d,i,n,c,function(){e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:w.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1})}))}},{key:"isValid",value:function(t){var o=this.state.isAttachmentUploading,n=this.props.attachmentIds,a=!0,s=t.getContent();return o?(a=!1,this.props.showMessage({type:"alert",message:w.h.getI18NValue("support.attachment.upload.process")})):Object(T.d)(t)&&!n.length?(a=!1,this.props.showConfirmBox({type:"alert",submitText:w.h.getI18NValue("crm.button.ok"),title:w.h.getI18NValue("support.history.operation.label.wfalert"),message:w.h.getI18NValue("support.contact.comment.empty"),isActive:!0,palette:"danger"}).then(function(){deleteComment(id,commentId,e)}).catch(function(){})):s.length>32e3&&(a=!1,this.props.showMessage({type:"alert",message:w.h.getI18NValue("support.comment.limit.exceeded")})),a}},{key:"addCloudAttch",value:function(e,t,o){var n=this,s=this.state,r=s.newAttachments,i=s.oldAttachments.length+r.length+o,l={index:i,href:null,isPreview:!0,name:e.name};this.setState(function(e){var t=a()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,i,function(e,t){var o=n.state.newAttachments.map(function(o){return o.index===t?a()({},o,{percentComplete:e}):o});n.setState({newAttachments:o})}).then(function(e){var t=e.data,o=n.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});n.setState({newAttachments:o});var a=n.props,s=a.attachmentIds,r=a.setAttachmentIds;s.push(t.data.id),r(s);var i=n.props,l=i.isCommentChanged,c=i.setIsCommentChanged;!l&&c&&c(),n.setState({isAttachmentModified:!0})},function(){n.setState(function(e){var t=a()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return i!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,o=this.state,n=o.newAttachments,s=o.oldAttachments.length+n.length,r=e.target?e.target.files:e,i=r.length,l=Object(I.p)(r,s),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:w.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c.length)for(var m=0;m<c.length;m++){var p=c[m];p.isUnSupported&&u({type:"alert",message:w.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&u({type:"alert",message:w.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&u({type:"alert",message:w.h.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&u({type:"alert",message:w.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d.length&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var o=function(o){var n=d[o],r=new FormData;r.append("file",n);var l=s+o,u=Object(I.g)(n,l);t.setState(function(e){var t=a()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(r,l,function(e,o){var n=t.state.newAttachments.map(function(t){return t.index===o?a()({},t,{percentComplete:e}):t});t.setState({newAttachments:n})}).then(function(o){if(o){var n=o.data;e+=1;var a=t.state.newAttachments.map(function(e){return e.index===n.data.index?n.data:e});t.setState({newAttachments:a});var s=t.props,r=s.attachmentIds,l=s.setAttachmentIds;r.push(n.data.id),l(r);var d=t.props,u=d.isCommentChanged,m=d.setIsCommentChanged;!u&&m&&m(),t.setState({isAttachmentModified:!0}),e+c.length==i&&t.setState({isAttachmentUploading:!1})}}).catch(function(e){t.setState(function(t){var o=a()({},t);return o.newAttachments=o.newAttachments.filter(function(t){return e.attachIndex!==t.index}),o})})},n=0;n<d.length;n++)o(n)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(o){var n=a()({},o);n.newAttachments=n.newAttachments.filter(function(t){return e!==t.id});var s=t.props,r=s.isCommentChanged,i=s.setIsCommentChanged,l=s.revertIsCommentChanged;return n.newAttachments.length?(!r&&i&&i(),t.setState({isAttachmentModified:!0})):(r&&l&&l(),t.setState({isAttachmentModified:!1},function(){return[t.checkCommentChanged()]})),n});var o=t.props,n=o.attachmentIds;(0,o.setAttachmentIds)(n.filter(function(t){return e!==t}))})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(o){var n=a()({},o);n.oldAttachments=n.oldAttachments.filter(function(t){return e!==t.id});var s=t.props,r=s.isCommentChanged,i=s.setIsCommentChanged;return!r&&i&&i(),t.setState({isAttachmentModified:!0}),n});var o=this.props,n=o.attachmentIds;(0,o.setAttachmentIds)(n.filter(function(t){return e!==t}))}},{key:"clearComment",value:function(){this.setState({content:""});var e=editor["Comment_"+this.props.id];e.setContent(""),Object(A.S)(e.doc)}},{key:"toggleComment",value:function(){if(""==this.state.content)this.props.toggleComment();else{var e=this.props,t=e.revertIsCommentChanged;e.isCommentChanged&&t&&t(),this.setState({isAttachmentModified:!1}),this.clearComment()}}},{key:"dragEnter",value:function(){this.setState({isDragOver:!0})}},{key:"dragLeave",value:function(){this.setState({isDragOver:!1})}},{key:"attachDrop",value:function(e){var t=e.nativeEvent.dataTransfer;Object(I.j)(t,e)&&(e.preventDefault(),this.uploadAttach(t.files),this.setState({isDragOver:!1})),e.stopPropagation(),this.setState({isDragOver:!1})}},{key:"dragAttach",value:function(e){this.uploadAttach(e)}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?j.a.setItem("showCommentTools",!0):j.a.setItem("showCommentTools",!1)})}},{key:"commentCallback",value:function(e){var t=this,o=this.props.mention,n=(void 0===o?[]:o).map(function(e){var t=e.type,o=e.name,n=e.zuid,a=e.id,s=e.firstName,r=e.lastName,i=e.photoURL,l=Object(A.e)(s,r);return"AGENT"==t?{avatar:i,id:n,name:l,type:"user",value:l}:{id:a,name:o,type:"team",value:o}});e.mentionsHandler("setMentions",n),ZohoDeskEditor._addEvent(e.doc,"keyup",function(){setTimeout(function(){t.checkCommentChanged(e)},1)})}},{key:"checkCommentChanged",value:function(e){e=e||editor["Comment_"+this.props.id];var t=this.props,o=t.value,n=t.type,a=t.isCommentChanged,s=t.setIsCommentChanged,r=t.revertIsCommentChanged,i=this.state.isAttachmentModified,l=e.getContent()||"";"edit"==n?o==l?!i&&a&&r&&r():!a&&s&&s():Object(T.d)(e)?(this.setState({content:""}),!i&&a&&r&&r()):(this.setState({content:l}),!a&&s&&s())}},{key:"openCloudAttach",value:function(){this.setState({isCloudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCloudOpen:!1})}},{key:"closeComment",value:function(){var e=this.props,t=e.id,o=e.closeComment;o(t)}},{key:"render",value:function(){w.h.getI18NValue("support.create.form.label.attachment.mycomputer"),w.h.getI18NValue("support.create.form.label.attachment.cloud");var e=this.props,t=e.type,o=e.orgId,n=e.id,a=e.from,s=e.showAttachmentViewer,r=e.photoURL,i=e.name,l=e.borderStyle,c=e.revertIsCommentChanged,d=e.isCommentChanged,u=e.editorMode,m=void 0===u?"CommentEditor":u,p=e.isFromBlueprint,h=e.hasPrivacyMode,f=void 0===h||h,b=e.hasAttachments,v=void 0===b||b,C=e.isCloudAttchOpen,I=e.CloudAttachmentIframe,A=e.havePublicComment,j=e.needAttachment,T=e.getAutofillContacts,N=e.showMessage,O=this.state,z=O.content,B=void 0===z?"":z,$=O.oldAttachments,R=O.newAttachments,L=O.isDragOver,M=O.mode,F=O.showTools,Z=O.isCloudOpen,q=O.isLoading,V={handleAutoFill:!0,needEditorFocus:"feeds"!=a&&!p,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:T,handleInlineDropImage:this.dragAttach},K="public"==M,U=k.a.postbox;return"leftPanel"==a&&(U=U+" "+k.a.minW319),U="bottom"==l?U+" "+k.a.defaultborder:U+" "+k.a.fullborder,g.a.createElement("div",{className:U+" "+(p?k.a.bluePrintLayar:""),onDragEnter:this.dragEnter,onDragOver:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.attachDrop},L&&g.a.createElement("div",{className:k.a.attachOver},w.h.getI18NValue("support.request.attachment.drop.files")),g.a.createElement("div",{"data-id":"commentBox",className:k.a.postHeader},p?null:g.a.createElement("span",{className:k.a.postAvatar},g.a.createElement(y.a,{src:r,name:i,size:"xsmall",iconName:"conversation"==t&&"ZD-zdeskCommentfilled",borderPalette:"conversation"==t&&"primary",iconColor:"conversation"==t&&"primary",iconSize:"conversation"==t?"8":"10"})),g.a.createElement("div",{className:k.a.commentBox+" "+(F?"":"hideTools")+" "},g.a.createElement(D.a,{id:"Comment_"+n,value:B,editorCallback:this.commentCallback,editorMode:m,editorOptions:V,type:"leftPanel"==a?"mini":"small",border:"borderNone"})),v?g.a.createElement("div",{className:k.a.attachHolder+" "+(F?k.a.attachHolderVisi:"")},g.a.createElement(E.a,{oldAttachments:$,newAttachments:R,orgId:o,deleleUpload:this.deleleUpload,removeAttachment:this.removeAttachment,from:a,showAttachmentViewer:s})):null),g.a.createElement(x.Container,{alignBox:"row",className:"leftPanel"==a?k.a.leftFooter+" "+k.a.postFooter:k.a.postFooter},g.a.createElement(x.Box,{className:k.a.commentOptions},g.a.createElement("span",{className:k.a.listIcon},v&&j?g.a.createElement("span",{className:k.a.attachParent+" "+("edit"==t?k.a.bdrNone+" "+k.a.attchIcn:"leftPanel"==a?k.a.bdrNone+" "+k.a.mt0+" "+k.a.attchIcn:k.a.attchIcn),"data-id":"AttachIcon"},g.a.createElement("label",{className:k.a.fileCont,htmlFor:"commentAttach"+n},g.a.createElement("input",{className:k.a.fileAttch,type:"file",onChange:this.uploadAttach,multiple:"multiple",id:"commentAttach"+n})),g.a.createElement(S.a,{name:"ZD-attachment5",size:"14"}),"leftPanel"==a?g.a.createElement("div",{className:k.a.attchPopup},g.a.createElement(P.a,{labelName:"commentAttachLabel",boxPosition:"bottomRight",onAttchClick:this.uploadAttach,openCloudAttach:this.openCloudAttach})):null):null,v&&"leftPanel"!=a&&j?g.a.createElement("span",{className:k.a.iconCloud,onClick:this.openCloudAttach},g.a.createElement(S.a,{name:"ZD-cloudIcon",size:"12"})):null,g.a.createElement("span",{"data-title":w.h.getI18NValue("support.label.comments.format"),className:k.a.iconAttach,onClick:this.toggleTools},"A"))),p?null:g.a.createElement(_.a,{revertIsCommentChanged:c,isCommentChanged:d,closeComment:this.closeComment,updateComment:this.updateComment,toggleComment:this.toggleComment,clearComment:this.clearComment,type:t,from:a,isPublic:K,changeMode:this.changeMode,content:B,addComment:this.addComment,hasPrivacyMode:f,havePublicComment:A,isLoading:q,dataId:"saveButtonId"}),C&&Z&&I?g.a.createElement(I,{addCloudAttch:this.addCloudAttch,totalLen:$.length+R.length,closeIframe:this.closeCloudAttach,showMessage:N}):null))}}]),o}(g.a.Component);t.a=O,O.propTypes={CloudAttachmentIframe:v.a.node,addComment:v.a.func,attachmentIds:v.a.func,attachments:v.a.object,borderStyle:v.a.string,closeComment:v.a.func,deleleUpload:v.a.func,editorMode:v.a.string,from:v.a.string,getAutofillContacts:v.a.func,hasAttachments:v.a.bool,hasPrivacyMode:v.a.bool,havePublicComment:v.a.bool,id:v.a.string,isCloudAttchOpen:v.a.bool,isCommentChanged:v.a.bool,isFromBlueprint:v.a.bool,mention:v.a.array,name:v.a.string,needAttachment:v.a.bool,newAttachments:v.a.object,oldAttachments:v.a.object,openCloudAttach:v.a.func,orgId:v.a.string,page:v.a.string,photoURL:v.a.string,revertIsCommentChanged:v.a.func,setAttachmentIds:v.a.func,setIsCommentChanged:v.a.func,showAttachmentViewer:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func,toggleComment:v.a.func,type:v.a.string,updateComment:v.a.func,uploadAttach:v.a.func,uploadCloudAttachment:v.a.func,value:v.a.string},O.defaultProps={borderStyle:"bottom",isFromBlueprint:!1,needAttachment:!0}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/Subtab/ThreadAttachments/ThreadAttachments.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/Subtab/ThreadAttachments/ThreadAttachments.module.css"),v=o.n(b),C=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=o.n(C),y=o("./src/utils/Attachment.js"),E=o("./src/components/Link/Link.js"),_=o("./src/fz-i18n/index.js"),w=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.data,n=t.orgId,a=t.showAttachmentViewer,s=t.size,r=t.neNeedToDownload,i=t.dataId,l=Object(y.h)(o);return h.a.createElement("div",null,h.a.createElement("div",{className:v.a.AttachCount,"data-id":i},h.a.createElement("span",{className:v.a.mr6},o.length),h.a.createElement("span",null,h.a.createElement(_.c,{i18NKey:o.length>1?"label.attachments":"support.feedback.attachment"})),h.a.createElement("span",{className:v.a.ml6},"(",Object(y.f)(l),")")),o.map(function(t,i){var l=t.name,c=t.downloadUrl,d=t.href,u=t.id,m=t.viewUrl,p=t.size,f=Object(y.l)(l)||Object(y.i)(l);return c=c||d,h.a.createElement("div",{className:v.a.docspan,key:i,onClick:r?null:f?y.b.bind(e,u,o,function(e){a(e)}):y.n.bind(e,m||d,n),"data-id":1===o.length?"threadAttch":"threadAttch_"+i},h.a.createElement("span",{className:v.a.attachment+" "+v.a[s]},h.a.createElement("div",{className:v.a.attachleft},h.a.createElement(k.a,{name:Object(y.d)(l),iconClass:v.a.attachIcon})),h.a.createElement("div",{className:v.a.attachright},h.a.createElement("span",{className:v.a.atatchName,"data-title":l},l),h.a.createElement("span",{className:v.a.attachSize},Object(y.f)(p))),r?null:h.a.createElement(E.a,{target:"_self",href:Object(y.a)(c,n),className:v.a.attachDownload,title:_.h.getI18NValue("support.label.download")},h.a.createElement(k.a,{name:"ZD-downloadNew",iconClass:v.a.downIcon}))))}))}}]),t}(h.a.Component);t.a=w,w.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},w.defaultProps={size:"medium"}},"./src/components/Subtab/UploadList/UploadList.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/Subtab/UploadList/UploadList.module.css"),v=o.n(b),C=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=o.n(C),y=o("./src/components/Image/Image.js"),E=o("../components/lib/Layout/index.js"),_=o("./src/utils/Attachment.js"),w=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.constructPreviewData=o.constructPreviewData.bind(o),o}return m()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,o=e.indexOf("/api"),n=e.slice(o,e.length);return n+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,o=t.oldAttachments,n=t.newAttachments,a=t.showAttachmentViewer,s=o.length?o.concat(n):n;Object(_.b)(e,s,function(e){a(e)})}},{key:"constructAttachItem",value:function(e,t){var o=e.id,n=e.isPreview,a=e.viewUrl,s=e.href,r=e.name,i=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,u=d.deleleUpload,m=d.removeAttachment,p=a||(n?s:this.constructImgURL(s)),f=Object(_.i)(r),g=Object(_.l)(r)||f,b=Object(_.f)(i),C=Object(_.d)(r),E=g?r+" - ("+b+")":r;return h.a.createElement("div",{className:v.a.upload+" "+(f?v.a.isAudio:"")+" "+(n?v.a.preview:""),"data-title":E},n?h.a.createElement("div",{className:v.a.loader,style:{width:c+"%"}}):null,g?h.a.createElement(y.a,{onClick:!n&&this.constructPreviewData.bind(this,o),src:p,className:v.a.uploadimage+" ",alt:"Uploaded Image"}):h.a.createElement("div",{className:v.a.attachInfo,onClick:this.openNewTab.bind(this,p)},h.a.createElement(k.a,{name:C,iconClass:v.a.fileIcon}),h.a.createElement("span",{className:v.a.attachsize},b)),n?null:h.a.createElement("span",{className:v.a.uploadclose,onClick:n?null:"new"==t?u.bind(this,o):m.bind(this,o),"data-id":"deleteUpload"},h.a.createElement(k.a,{name:"ZD-close"})))}},{key:"render",value:function(){var e=this,t=this.props,o=t.oldAttachments,n=t.newAttachments,a=t.from,s=t.isPeekView,r=v.a.attachList;return"leftPanel"==a?r+=" ":"replyEdtior"==a&&(r=s?r+" "+v.a.peekReplyAttach:r+" "+v.a.replyAttach),o&&o.length||n&&n.length?h.a.createElement(E.Container,{alignBox:"row",scroll:"horizontal",className:r,dataId:"attachmentList"},o&&o.length?o.map(function(t,o){return h.a.createElement(E.Box,{key:o},e.constructAttachItem(t,"old"))}):null,n&&n.length?n.map(function(t,o){return h.a.createElement(E.Box,{key:o,dataId:t.name.toLowerCase().replace(".","_")},e.constructAttachItem(t,"new"))}):null):null}}]),t}(h.a.Component);t.a=w,w.propTypes={data:g.a.object,deleleUpload:g.a.func,from:g.a.string,isPeekView:g.a.bool,newAttachments:g.a.array,oldAttachments:g.a.array,orgId:g.a.string,removeAttachment:g.a.func,showAttachmentViewer:g.a.func}},"./src/components/Subtab/UploadPopup/UploadPopup.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("../components/lib/DropBox/DropBox.js"),v=o.n(b),C=o("../components/lib/ListItem/ListItemWithIcon.js"),k=o.n(C),y=o("./src/fz-i18n/index.js"),E=o("./src/components/Subtab/UploadPopup/UploadPopup.css"),_=o.n(E),w=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,o=e.bottom,n=e.left,a=e.onAttchClick,s=e.openCloudAttach,r=e.labelName;return h.a.createElement(v.a,{size:"small",boxPosition:t,isActive:!0,bottom:o,left:n},h.a.createElement("label",{htmlFor:r},h.a.createElement(k.a,{autoHover:!0,value:y.h.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"ZD-emptyfle",dataId:"fileAttach"}),h.a.createElement("input",{className:_.a.fileCont,type:"file",multiple:"multiple",id:r,onChange:a})),h.a.createElement(k.a,{autoHover:!0,value:y.h.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"ZD-cloudicn",onClick:s,dataId:"cloudAttach"}))}}]),t}(p.Component);t.a=w,w.propTypes={bottom:g.a.string,boxPosition:g.a.string,labelName:g.a.string,left:g.a.string,onAttchClick:g.a.func,openCloudAttach:g.a.func}},"./src/components/TextEditor/TextEditor.js":function(e,t,o){"use strict";(function(e){var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),g=o.n(f),b=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),v=o.n(b),C=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),k=o.n(C),y=o("../components/lib/Layout/index.js"),E=o("./src/utils/editorUtils.js"),_=o("./src/utils/bind.js"),w=(o("./src/components/TextEditor/ZohoDeskEditor_Init.js"),o("./src/components/TextEditor/TextEditor.module.css")),I=o.n(w),A=function(t){function o(e){d()(this,o);var t=h()(this,(o.__proto__||l()(o)).call(this,e));t.state={isEditorLoad:!1};return _.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return g()(o,t),m()(o,[{key:"componentDidMount",value:function(){var t=this.props,o=t.id,n=t.value,a=t.editorMode,s=void 0===a?"":a,i=t.editorOptions,l=void 0===i?{}:i,c=t.needEditorFocus,d=void 0===c||c,u=t.mode;if(o&&e.ZohoDeskEditor){var m={id:o,content:n,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:u};m=r()(m,l),ZohoDeskEditor_Init.init(s),ZohoDeskEditor.create&&ZohoDeskEditor.create(m)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.id,n=t.chageEditorContent;t.value;e.isEmptyContent&&editor[o]&&editor[o].setContent(""),e.chageEditorContent!=n&&e.chageEditorContent&&void 0!==n&&editor[o].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,o=e.id,n=editor[o]?editor[o]:{},a=n.getContent?n.getContent():"";Object(E.a)(n)||(a=""),a="plaintext"===n.mode?Object(E.b)(a):a,t&&t(a.trim(),o)}},{key:"editorCallback",value:function(t){var o=this.props.editorCallback;this.setState({isEditorLoad:!0});var n=this.props.id;e.editor=e.editor||{},editor[n]||(editor[n]=t),o&&o(t)}},{key:"handleInlineUpload",value:function(e,t,o,n,a){this.handleUpload(e).then(function(e){var o={};o[0]={url:e,desc:a},t(o,n)},function(){o(n)})}},{key:"handleDropUpload",value:function(e,t,o){this.handleUpload(e).then(function(e){t(e)},function(){o()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,o,n){var a=void 0;"blob"===t?a=e:(a=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(a).then(function(e){o(e)},function(){n()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var o=new FormData;return o.append("file",e),t(o).then(function(e){var t=e.data||{},o=t.data,n=t.orgId,a=o||{},s=a.id,r=a.href;if(s)return r+"?orgId="+n;throw{}},function(e){throw e})}catch(e){return a.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.dataId,n=e.type,a=e.border,s=this.state.isEditorLoad;return v.a.createElement(y.Container,{className:I.a.textEditor+" "+I.a[n]+" "+I.a[a],dataId:o},!s&&v.a.createElement("div",{className:I.a.stencillist9},v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading})),v.a.createElement(y.Box,{flexible:!0,id:t,dataId:o}))}}]),o}(b.Component);t.a=A,A.defaultProps={type:"large",border:"borderTop"},A.propTypes={blurCallback:k.a.func,chageEditorContent:k.a.bool,dataId:k.a.string,editorCallback:k.a.func,editorMode:k.a.string,editorOptions:k.a.object,id:k.a.string,mode:k.a.string,needEditorFocus:k.a.bool,onChange:k.a.func,onFocus:k.a.func,onUpload:k.a.func,value:k.a.string,type:k.a.oneOf(["large","xlarge","medium","small","mini"]),border:k.a.oneOf(["borderTop","borderAll","borderNone"])}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/TextEditor/ZohoDeskEditor_Init.js":function(e,t,o){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0,ZohoDeskEditor_Init.retainOldList=!0;var o=window.location.protocol,n="",a="com",s="",r=".zohostatic.";"US".indexOf("SKY")>-1&&(r=".skydeskstatic.",a="jp"),"US".indexOf("RO")>-1&&(s="-ro"),["LOC","DEV"].indexOf("US")>-1&&(n="local"),ZohoDeskEditor_Init.jsurl=o+"//"+n+"localjs"+s+r+a+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=o+"//"+n+"localcss"+s+r+a+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=o+"//"+n+"localimg"+s+r+a+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var i=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,i(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),i(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",i(6))}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/avatar/AvatarIcon/AvatarIcon.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/avatar/AvatarIcon/AvatarIcon.module.css"),v=o.n(b),C=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=o.n(C),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,o=e.size,n=e.iconSize,a=e.iconClass,s=e.onClick,r=e.palette,i=e.dataId,l=e.className,c=e.isIconBold;return h.a.createElement("span",{className:v.a.container+" "+v.a[o]+" "+v.a[r]+" "+(l||""),onClick:s,"data-id":"ZD-chEmail1"===t?"autoId_215":"ZD-chPhone"===t?"autoId_885":i},h.a.createElement(k.a,{name:t,size:n,iconClass:v.a["text_"+a]?v.a["text_"+a]:a||null,isBold:c}))}}]),t}(h.a.Component);t.a=y,y.defaultProps={iconSize:"15",name:"ZD-addAgent",palette:"default",size:"medium",isIconBold:!1},y.propTypes={className:g.a.string,dataId:g.a.string,iconClass:g.a.string,iconSize:g.a.string,isIconBold:g.a.bool,name:g.a.string,onClick:g.a.func,palette:g.a.oneOf(["default","primary","secondary","success","danger"]),size:g.a.string}},"./src/components/avatar/AvatarThread/AvatarThread.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("./src/components/avatar/AvatarThread/AvatarThread.module.css"),v=o.n(b),C=o("../components/lib/Avatar/Avatar.js"),k=o.n(C),y=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),E=o.n(y),_=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,n=e.size,a=e.iconColor,s=e.iconName,r=e.iconSize,i=e.borderPalette,l=e.onClick,c=e.title,d=e.iconTitle,u=e.onIconClick,m=e.showOnHover,p=e.dataId,f=m?v.a.hover:"";return h.a.createElement("div",{className:v.a.container+" "+f},h.a.createElement(k.a,{src:t,name:o,title:c,size:n,onClick:l,dataId:p}),s&&h.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+i],"data-title":d,"data-id":"Remove Follower"===d&&"removeFollower",onClick:u},h.a.createElement("span",{className:v.a.icon},h.a.createElement(E.a,{name:s,size:r,iconClass:v.a["text_"+a]?v.a["text_"+a]:a}))))}}]),t}(h.a.Component);t.a=_,_.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},_.propTypes={borderPalette:g.a.oneOfType([g.a.string,g.a.bool]),iconColor:g.a.string,iconName:g.a.oneOfType([g.a.string,g.a.bool]),iconSize:g.a.oneOfType([g.a.string,g.a.bool]),iconTitle:g.a.string,name:g.a.string,onClick:g.a.func,onIconClick:g.a.func,showOnHover:g.a.bool,size:g.a.string,src:g.a.string,title:g.a.string}},"./src/components/feeds/EmptyPage/FeedsEmptyPage.module.css":function(e,t,o){e.exports={fnodata:"zd-feedsemptypage-fnodata",title:"zd-feedsemptypage-title",fnodatadiv:"zd-feedsemptypage-fnodatadiv"}},"./src/components/feeds/FeedLayer/FeedLayer.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o.n(f),b=o("../components/lib/Layout/index.js"),v=o("../components/lib/Avatar/Avatar.js"),C=o.n(v),k=o("./src/components/feeds/FeedBody/FeedBody.module.css"),y=o.n(k),E=o("../components/lib/Popup/Popup.js"),_=o.n(E),w=o("../components/lib/DropBox/DropBox.js"),I=o.n(w),A=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),j=o.n(A),T=o("./src/components/feeds/FeedPopContent/FeedPopContent.module.css"),x=o.n(T),N=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.handleTogglePopup=o.handleTogglePopup.bind(o),o}return m()(t,e),l()(t,[{key:"handleTogglePopup",value:function(e){var t=this.props,o=t.togglePopup;(0,t.toggleFeedPopup)(),o(e,"bottomRight")}},{key:"render",value:function(){var e=this.props,t=e.content,o=e.isPopupOpen,n=e.isPopupReady,a=e.position,s=e.getTargetRef,r=e.getContainerRef;return h.a.createElement("div",{className:x.a.container},h.a.createElement("div",{className:x.a.moreIcon,ref:s,onClick:this.handleTogglePopup},h.a.createElement(j.a,{name:"ZD-more22",size:"15"})),o?h.a.createElement(I.a,{getRef:r,left:"-20",isActive:n,isAnimate:!0,size:"xxlarge",boxPosition:a},h.a.createElement("div",{className:x.a.popup},h.a.createElement("div",{className:x.a.closeIcn},h.a.createElement(j.a,{name:"ZD-cross",size:"15"})),h.a.createElement("div",{className:x.a.txt,dangerouslySetInnerHTML:{__html:t}}))):null)}}]),t}(p.Component);N.propTypes={content:g.a.string,getContainerRef:g.a.func,getTargetRef:g.a.func,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,position:g.a.string,toggleFeedPopup:g.a.func,togglePopup:g.a.func};var S=_()(N);var D=o("./src/components/ChannelIcon/ChannelIcon.js"),P=o("./src/components/Subtab/AudioMessage/AudioMessage.js"),O=o("./src/fz-i18n/index.js"),z=(o("./src/utils/Common.js"),o("./src/feeds/utils.js")),B=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.changeStatus=o.changeStatus.bind(o),o}return m()(t,e),l()(t,[{key:"changeStatus",value:function(e,t,o){var n={department:this.props.department};this.props.changeStatus(e,t,o,n)}},{key:"render",value:function(){var e=this.props,t=e.time,o=e.duedate,n=e.title,a=e.type,s=e.cont,r=e.cmdcount,i=(e.recordOwner,e.activityType),l=e.isClosed,c=e.isOnHold,d=e.isCompleted,u=e.haveCloseTicketPermission,m=e.haveMailSendPermission,p=e.haveTaskCreatePermission,f=e.toggleComment,g=e.fdk,v=e.moduleId,k=e.openTicketDv,E=e.openTicketTask,_=e.toggleFeedPopup,w=e.threadContent,I=e.isFromNotification,A=(e.timeZone,e.onholdtime),T=e.channel,x=e.threadStatus,N=e.threadObj,B=e.photourl,$=e.priority;A=A?O.h.userDateFormat(new Date(Number(A)).toISOString(),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}):null;var R=!1;o=o?O.h.userDateFormat(new Date(Number(o)).toISOString(),{},"lateby","left",!1,function(e){return"lateby"==e.suffix&&(R=!0),"DD MMM YYYY hh:mm A"}):null;var L="",M="";if("Request"==a){L=Object(z.b)(T,x),T=[0,1,5].includes(x)?T:N.channel;var F=N.isForward,Z=N.status,q=N.isIncoming;F?(M="forward","Draft"==Z&&(M="forwardDraft")):M="Draft"==Z?"draft":q?"incoming":"outgoing",M=[0,1,5].includes(x)?"default":M}return T=T||"Phone",h.a.createElement(b.Container,{className:I?y.a.notifyTick:y.a.feedTick,alignBox:I?"row":"column"},I?h.a.createElement(b.Box,null,h.a.createElement(C.a,{src:B||"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",size:"xmedium"})):null,h.a.createElement(b.Box,{className:I?y.a.notifycont:"",flexible:!0},h.a.createElement(b.Container,{alignBox:"column"},h.a.createElement(b.Box,null,h.a.createElement(b.Container,{alignBox:"row"},h.a.createElement(b.Box,{className:y.a.userLft,flexible:!0},h.a.createElement("span",{className:y.a.text,dangerouslySetInnerHTML:{__html:n},"data-id":"feedDetail"})),"Request"==a?h.a.createElement(b.Box,{className:y.a.dueDate},I?null:h.a.createElement("span",null,c?h.a.createElement("div",{className:y.a.timeCont,"data-title":O.h.getI18NValue("support.label.onhold.time.duration",[A])},h.a.createElement("span",{className:y.a.holdIcon},h.a.createElement(j.a,{iconClass:"onholdIcon",name:"ZD-onHold"})),h.a.createElement("span",{className:y.a.dueDate},A)):R?h.a.createElement("span",{className:y.a.dueSection,"data-title":O.h.getI18NValue("support.ticket.label.overduetime.info",[o])+($&&""!=$?" - "+$:"")},h.a.createElement("span",{className:y.a.dueIcon},h.a.createElement(j.a,{name:"ZD-overdue2"})),h.a.createElement("span",{className:y.a.dueDate},o)):null),h.a.createElement("span",{className:y.a.chanlIcon,"data-title":O.h.getI18NValue(L)},h.a.createElement(D.a,{name:T.toUpperCase(),action:M,iconSize:"14",palette:"secondary"}))):null)),h.a.createElement(b.Box,{scroll:I?"horizontal":null},h.a.createElement("div",{className:y.a.cont,dangerouslySetInnerHTML:{__html:s},onClick:function(){!I&&("Request"==a||"Ticket"==a?k({moduleId:v,module:"tickets"}):"Task"==a&&E(v))}}),"Request"==a||"Ticket"==a?I?h.a.createElement("div",null,"TELEPHONY"!=N.channel&&"TWILIO"!=N.channel||!w?h.a.createElement("div",{dangerouslySetInnerHTML:{__html:w}}):h.a.createElement(P.a,{thread:{content:w}})):h.a.createElement("div",{className:y.a.moreIcon},h.a.createElement(S,{content:w,toggleFeedPopup:_})):null,h.a.createElement("div",{className:y.a.rlySec},h.a.createElement(O.e,{className:y.a.dateTxt,to:new Date(Number(t)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}),h.a.createElement("span",{className:y.a.dot},"."),"Request"==a||"Ticket"==a||"Task"==a||"Call"==a||"Event"==a||"StatusMessage"==a?h.a.createElement("span",null,h.a.createElement("span",null,h.a.createElement("span",{onClick:f},h.a.createElement("span",{className:y.a.cmntTxt},O.h.getI18NValue("tabs.request.comment")),r?h.a.createElement("span",{className:y.a.countTxt},"(",r,")"):null),"StatusMessage"!==a?h.a.createElement("span",{className:y.a.dot},"."):null),"Request"==a||"Ticket"==a?h.a.createElement("span",null,m&&!I?h.a.createElement("span",null,h.a.createElement("span",{className:y.a.cmntTxt,onClick:function(){k({moduleId:v,needToOpenEditor:!0,module:"tickets"})}},O.h.getI18NValue("crm.button.reply")),h.a.createElement("span",{className:y.a.dot},".")):null,u?l||c?h.a.createElement("span",{className:y.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Request","reopen")},O.h.getI18NValue("support.feed.subactions.label.reopen")):h.a.createElement("span",{className:y.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Request","close")},O.h.getI18NValue("crm.label.close")):null):"Calls"!=i&&"Events"!=i||d?"Task"==a&&p?d?h.a.createElement("span",{className:y.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Task","reopen")},O.h.getI18NValue("support.feed.subactions.label.reopen")):h.a.createElement("span",{className:y.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Task","complete")},O.h.getI18NValue("support.complete.icon")):null:h.a.createElement("span",{className:y.a.cmntTxt},O.h.getI18NValue("support.complete.icon"))):null)))))}}]),t}(p.Component),$=B;B.propTypes={activityType:g.a.string,changeStatus:g.a.func,channel:g.a.string,cmdcount:g.a.string,cont:g.a.string,department:g.a.string,duedate:g.a.string,fdk:g.a.string,haveCloseTicketPermission:g.a.bool,haveMailSendPermission:g.a.bool,haveTaskCreatePermission:g.a.bool,isClosed:g.a.bool,isCompleted:g.a.bool,isFromNotification:g.a.bool,isOnHold:g.a.bool,moduleId:g.a.string,onholdtime:g.a.string,openTicketDv:g.a.func,openTicketTask:g.a.func,photourl:g.a.string,priority:g.a.string,recordOwner:g.a.string,threadContent:g.a.string,threadObj:g.a.object,threadStatus:g.a.number,time:g.a.string,timeZone:g.a.string,title:g.a.string,toggleComment:g.a.func,toggleFeedPopup:g.a.func,type:g.a.string};var R=o("./src/components/feeds/FeedComment/FeedComment.module.css"),L=o.n(R),M=o("./src/components/DotSeparator/DotSeparator.js"),F=o("./src/components/Subtab/ThreadAttachments/ThreadAttachments.js"),Z=o("../components/lib/ListItem/ListItem.js"),q=o.n(Z),V=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={mode:"list"},o.handleTogglePopup=o.handleTogglePopup.bind(o),o}return m()(t,e),l()(t,[{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,"bottomLeft")}},{key:"render",value:function(){var e=this,t=this.props,o=t.comment,n=t.downloadAttachment,a=t.showAttachmentViewer,s=t.orgId,r=t.updateComment,i=t.deleteComment,l=t.uploadAttach,c=t.deleleUpload,d=t.isNew,u=(t.togglePopup,t.isEditorLoaded),m=t.CommentBoxContainer,p=t.isPopupOpen,f=t.isPopupReady,g=t.position,v=t.getTargetRef,k=t.getContainerRef,y=this.state.mode,E=o.photourl,_=o.commentedby,w=o.cmdtime,A=o.cmtcont,T=o.attachments,x=void 0===T?[]:T;return"list"==y?h.a.createElement(b.Container,{className:L.a.cmtSection+" "+(d?L.a.isNew:""),alignBox:"row"},h.a.createElement(b.Box,{className:L.a.AvaImg},h.a.createElement(C.a,{src:E||null,size:"medium",name:_})),h.a.createElement(b.Box,{className:L.a.contArea,flexible:!0},h.a.createElement(b.Box,null,h.a.createElement(b.Container,{alignBox:"row"},h.a.createElement(b.Box,{flexible:!0},h.a.createElement("span",{className:L.a.titleTxt},_)),h.a.createElement(b.Box,{className:L.a.popup},h.a.createElement("span",{className:L.a.downArrow+" "+(p?L.a.show:""),onClick:this.handleTogglePopup,ref:v},h.a.createElement(j.a,{name:"ZD-down1"})),p?h.a.createElement(I.a,{size:"mini",isAnimate:!0,boxPosition:g,isActive:f,getRef:k},h.a.createElement(q.a,{value:O.h.getI18NValue("crm.label.edit"),onClick:function(){e.setState({mode:"edit"})},autoHover:!0}),h.a.createElement(q.a,{value:O.h.getI18NValue("support.permission.delete.comment"),onClick:i.bind(this,o.cfdk),autoHover:!0})):null))),h.a.createElement("div",{className:L.a.cmtTxt,dangerouslySetInnerHTML:{__html:A}}),x&&x.length?h.a.createElement("div",{className:L.a.attachCont},h.a.createElement(F.a,{data:x,downloadAttachment:n,showAttachmentViewer:a,orgId:s})):null,h.a.createElement("div",{className:L.a.priThread},h.a.createElement(M.a,{wrap:!0},h.a.createElement("span",{className:L.a.priteTxt},o.is_public?O.h.getI18NValue("support.request.public.comment"):O.h.getI18NValue("support.request.private.comment")),h.a.createElement(O.e,{className:L.a.dateTxt,to:new Date(Number(w)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}))))):u?h.a.createElement(m,{from:"feeds",id:o.cfdk,type:"edit",attachments:x,value:A,orgId:s,closeComment:function(){e.setState({mode:"list"})},uploadAttach:l,deleleUpload:c,updateComment:function(t,n,a,s,i,l){r(o.cfdk,t,n,a,s,i,function(){e.setState({mode:"list"}),l&&l()})},showAttachmentViewer:a}):null}}]),t}(p.Component);V.propTypes={CommentBoxContainer:g.a.node,comment:g.a.object,deleleUpload:g.a.func,deleteComment:g.a.func,downloadAttachment:g.a.func,getContainerRef:g.a.func,getTargetRef:g.a.func,isEditorLoaded:g.a.func,isNew:g.a.bool,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,orgId:g.a.string,position:g.a.string,showAttachmentViewer:g.a.func,togglePopup:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func};var K=_()(V),U=o("./src/components/feeds/AuthorPopup/AuthorPopup.module.css"),H=o.n(U),W=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,n=e.email;return h.a.createElement(b.Container,{className:H.a.feeddata,alignBox:"row"},h.a.createElement(b.Box,null,h.a.createElement(C.a,{needTitle:!1,src:t,size:"large",name:o,shape:"square"})),h.a.createElement(b.Box,{className:H.a.popSec,flexible:!0},h.a.createElement("div",{className:H.a.userTxt,"data-title":o},o),h.a.createElement("div",{className:H.a.mailTxt,"data-title":n},n)))}}]),t}(p.Component),G=W;W.propTypes={email:g.a.string,name:g.a.string,src:g.a.string};var Y=o("./src/components/feeds/FeedLayer/FeedLayer.module.css"),Q=o.n(Y),J=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={threadContent:o.props.feed.threadContent,isCommentOpen:!!o.props.feed.cmdcount},o.toggleComment=o.toggleComment.bind(o),o.toggleFeedPopup=o.toggleFeedPopup.bind(o),o.postComment=o.postComment.bind(o),o.deleteComment=o.deleteComment.bind(o),o.updateComment=o.updateComment.bind(o),o.handleTogglePopup=o.handleTogglePopup.bind(o),o}return m()(t,e),l()(t,[{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,"bottomRight")}},{key:"componentWillReceiveProps",value:function(e){if(this.props.feed.threadContent!==e.feed.threadContent){var t=e.feed.threadContent;t=""===t?O.h.getI18NValue("support.label.threads.nocontent"):t,this.setState({threadContent:t})}this.props.feed.cmdcount!==e.feed.cmdcount&&this.setState({isCommentOpen:!!e.feed.cmdcount})}},{key:"toggleComment",value:function(){this.setState({isCommentOpen:!this.state.isCommentOpen})}},{key:"postComment",value:function(e,t,o){var n=this.props.feed,a=e.content,s=e.isPublic,r=e.attachmentIds,i={};i.value=a,i.department=n.department,i.attachmentIds=r.toString(),"Request"==n.type?(i.isPublic=s,this.props.postComment(n.fdk,"Request","comment",i,n.viewkey).then(function(){o()})):"Task"==n.type?this.props.postComment(n.fdk,"Task","comment",i,n.viewkey).then(function(){o()}):"StatusMessage"==n.type&&this.props.postComment(n.fdk,"StatusMessage","comment",i,n.viewkey).then(function(){o()})}},{key:"updateComment",value:function(e,t,o,n,a,s,r){var i=this.props.feed,l={};if(o=encodeURIComponent(o),l.value=o,l.department=i.department,l.cfdk=e,l.fdk=i.fdk,n.length){var c="";n.forEach(function(e,t){c+=0==t?e:","+e}),l.attachmentIds=c}"Request"==i.type?(l.module="Cases",this.props.updateComment(i.fdk,"Request","editComment",l,i.viewkey).then(function(){r()})):"Task"==i.type?(l.module="Tasks",this.props.updateComment(i.fdk,"Task","editComment",l,i.viewkey).then(function(){r()})):"StatusMessage"==i.type&&(l.module="Direct Message",this.props.updateComment(i.fdk,"StatusMessage","editComment",l,i.viewkey).then(function(){r()}))}},{key:"toggleFeedPopup",value:function(){var e=this.props,t=e.feed,o=e.toggleFeedPopup;this.state.threadContent||this.setState({threadContent:"Loading..."}),o(t.seid,t.fdk)}},{key:"deleteComment",value:function(e){var t=this.props,o=t.feed,n=t.deleteComment,a={};a.department=o.department,a.cfdk=e,a.fdk=o.fdk,"Request"==o.type?(a.module="Cases",n(o.fdk,"Request","deleteComment",a)):"Task"==o.type?(a.module="Tasks",n(o.fdk,"Task","deleteComment",a)):"StatusMessage"==o.type&&(a.module="Direct Message",n(o.fdk,"StatusMessage","deleteComment",a))}},{key:"render",value:function(){var e=this,t=this.props,o=t.feed,n=t.haveCloseTicketPermission,a=t.haveMailSendPermission,s=t.haveTaskCreatePermission,r=t.changeStatus,i=t.openTicketDv,l=t.openTicketTask,c=t.downloadAttachment,d=t.uploadAttach,u=t.showAttachmentViewer,m=t.viewAllComment,p=t.orgId,f=t.isFromNotification,g=t.deptId,v=t.isSingleFeed,k=t.backToHome,y=t.isEditorLoaded,E=t.feedId,_=t.timeZone,w=t.CommentBoxContainer,A=t.isPopupOpen,T=t.isPopupReady,x=t.position,N=t.getTargetRef,S=t.getContainerRef,D=this.state,P=D.isCommentOpen,z=D.threadContent;return h.a.createElement(b.Container,{className:f?Q.a.notificationTickContainer:Q.a.feedTickContainer,dataId:"feeds",alignBox:"column",scroll:f?"vertical":null},v?h.a.createElement(b.Box,{className:Q.a.backToHome,onClick:k},"Â«"," ",O.h.getI18NValue("support.label.zohosupport.home")):null,f?h.a.createElement("span",{className:Q.a.closeArrow},h.a.createElement(j.a,{name:"ZD-cross"})):null,o.latitle?h.a.createElement(b.Box,{dangerouslySetInnerHTML:{__html:f||"allDepartment"==g?o.laplaintitle:o.lamintitle},className:f?Q.a.notilatitle:Q.a.latitle}):null,h.a.createElement(b.Box,null,h.a.createElement(b.Container,{alignBox:"row"},f?null:h.a.createElement(b.Box,{className:Q.a.feedLft,align:"start"},h.a.createElement("span",{ref:N,onClick:this.handleTogglePopup},h.a.createElement(C.a,{name:o.name||"Sridhar",src:o.photourl,size:"xmedium",needTitle:!1})),A?h.a.createElement(I.a,{boxPosition:x,isActive:T,size:"large",isAnimate:!0,getRef:S,left:"-10"},h.a.createElement(G,{src:o.photourl||"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",name:o.name||"Sridhar",email:o.email||"sridhar.parthsarathy@zohocorp.com"})):null),h.a.createElement(b.Box,{className:f?"":Q.a.feedRgt,flexible:!0},f?null:h.a.createElement("div",{className:Q.a.feedArrow},h.a.createElement("div",{className:Q.a.arrgrey}),h.a.createElement("div",{className:Q.a.arrwhite})),h.a.createElement(b.Box,null,h.a.createElement($,{type:o.type,title:"allDepartment"==g?o.title:o.mintitle,moduleId:o.seid,cont:o.cont,cmdcount:o.comments.length,recordOwner:o.recordOwner,activityType:o.activityType,isCompleted:o.isCompleted,isClosed:o.isClosed,isOnHold:o.isOnHold,onholdtime:o.onholdtime,haveCloseTicketPermission:n,haveMailSendPermission:a,haveTaskCreatePermission:s,toggleComment:this.toggleComment,changeStatus:function(e,t,n,a){r(e,t,n,a,o.viewkey)},fdk:o.fdk,department:o.department,openTicketDv:i,openTicketTask:l,toggleFeedPopup:this.toggleFeedPopup,threadContent:z||o.threadContent,duedate:o.duedate,time:o.time,isFromNotification:f,timeZone:_,channel:o.channel,threadStatus:o.threadStatus,threadObj:o.threadObj,photourl:o.photourl,priority:o.priority})),P?h.a.createElement("div",null,(o.cmore||o.displayingCmt)&&o.comments.length?h.a.createElement("div",{className:o.cmore?Q.a.vMore:Q.a.displaying,onClick:function(){var e=o.skey,t=o.fdk,n=o.cmore,a=o.viewkey;m(e,t,n,a)}},o.cmore?O.h.getI18NValue("support.zti.viewall"):O.h.getI18NValue("support.comment.display.all")):null,o.cmdcount?o.comments.map(function(t,n){return h.a.createElement(K,{key:n,comment:t,isEditorLoaded:y,downloadAttachment:c,showAttachmentViewer:u,orgId:p,updateComment:e.updateComment,deleteComment:e.deleteComment,uploadAttach:d,deleleUpload:d,isNew:"push"==o.rendertype&&"comment"==o.latype&&o.comments.length==n+1,timeZone:_,CommentBoxContainer:w})}):null,y?h.a.createElement("div",{className:Q.a.commentHolder},h.a.createElement(w,{id:E,from:"feeds",orgId:p,downloadAttachment:c,uploadAttach:d,deleleUpload:d,showAttachmentViewer:u,addComment:this.postComment,needAttachment:"StatusMessage"!=o.type})):null):null))))}}]),t}(p.Component);J.propTypes={CommentBoxContainer:g.a.node,backToHome:g.a.func,changeStatus:g.a.func,deleteComment:g.a.func,deptId:g.a.string,downloadAttachment:g.a.func,feed:g.a.object,feedId:g.a.string,getContainerRef:g.a.func,getTargetRef:g.a.func,haveCloseTicketPermission:g.a.bool,haveMailSendPermission:g.a.bool,haveTaskCreatePermission:g.a.bool,isEditorLoaded:g.a.bool,isFromNotification:g.a.bool,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,isSingleFeed:g.a.bool,openTicketDv:g.a.func,openTicketTask:g.a.func,orgId:g.a.string,position:g.a.string,postComment:g.a.func,showAttachmentViewer:g.a.func,timeZone:g.a.string,toggleFeedPopup:g.a.func,togglePopup:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func,viewAllComment:g.a.func};t.a=_()(J)},"./src/components/feeds/FeedTitle/FeedTitle.module.css":function(e,t,o){e.exports={container:"zd-feedtitle-container",topHeader:"zd-feedtitle-topHeader",titleTxt:"zd-feedtitle-titleTxt",downIcon:"zd-feedtitle-downIcon",fpopTitle:"zd-feedtitle-fpopTitle zd6063afa107"}},"./src/components/feeds/Loading/Loading.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),o("./src/components/feeds/Loading/FeedsLoading.module.css")),g=o.n(f),b=o("../components/lib/Layout/index.js"),v=o("../components/lib/Stencils/Stencils.js"),C=o.n(v),k=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(b.Container,{alignBox:"column",isCover:!1},h.a.createElement(b.Box,{className:g.a.stencilSec},h.a.createElement(b.Container,{alignBox:"row",className:g.a.stencil,isCover:!1},h.a.createElement(b.Box,null,h.a.createElement(C.a,{shape:"circle",size:"large",palette:"primary"})),h.a.createElement(b.Box,{flexible:!0,className:g.a.middle},h.a.createElement(b.Container,{alignBox:"row",isCover:!1},h.a.createElement(b.Box,{flexible:!0},h.a.createElement(C.a,{size:"default",palette:"primary"})),h.a.createElement(b.Box,{className:g.a.rgt},h.a.createElement(C.a,{size:"default",palette:"primary"}))),h.a.createElement(b.Box,{className:g.a.secondLIne},h.a.createElement(C.a,{size:"default",palette:"primary"})),h.a.createElement(b.Box,{className:g.a.secondLIne},h.a.createElement(C.a,{size:"default",palette:"primary"})),h.a.createElement(b.Box,{className:g.a.secondLIne},h.a.createElement(C.a,{size:"default",palette:"primary"}))))))}}]),t}(p.Component);t.a=k,k.propTypes={}},"./src/components/feeds/PostStatusBox/PostStatusBox.module.css":function(e,t,o){e.exports={header:"zd-poststatusbox-header",AvaImg:"zd-poststatusbox-AvaImg",feedSec:"zd-poststatusbox-feedSec",txtAreaSection:"zd-poststatusbox-txtAreaSection",txtArea:"zd-poststatusbox-txtArea",feedArrow:"zd-poststatusbox-feedArrow",arrgrey:"zd-poststatusbox-arrgrey",arrwhite:"zd-poststatusbox-arrwhite",dropTitle:"zd-poststatusbox-dropTitle",titleTxt:"zd-poststatusbox-titleTxt",downIcon:"zd-poststatusbox-downIcon",subButton:"zd-poststatusbox-subButton",attachHolderVisi:"zd-poststatusbox-attachHolderVisi",attachHolder:"zd-poststatusbox-attachHolder",directMsg:"zd-poststatusbox-directMsg"}},"./src/components/feeds/StatusBoxFooter/StatusBoxFooter.module.css":function(e,t,o){e.exports={container:"zd-statusboxfooter-container zd7f7ad86055",attchIcn:"zd-statusboxfooter-attchIcn",iconCloud:"zd-statusboxfooter-iconCloud",editTxt:"zd-statusboxfooter-editTxt",departSection:"zd-statusboxfooter-departSection",dropTitle:"zd-statusboxfooter-dropTitle",directTxt:"zd-statusboxfooter-directTxt",messageSection:"zd-statusboxfooter-messageSection",departmentTxt:"zd-statusboxfooter-departmentTxt",downIcon:"zd-statusboxfooter-downIcon",searchList:"zd-statusboxfooter-searchList"}},"./src/containers/FeedsContainer/FeedContainer.module.css":function(e,t,o){e.exports={container:"zd-feedcontainer-container",topHeader:"zd-feedcontainer-topHeader",box:"zd-feedcontainer-box",pageUp:"zd-feedcontainer-pageUp",loadingCont:"zd-feedcontainer-loadingCont",loadingWithBtn:"zd-feedcontainer-loadingWithBtn",endLoad:"zd-feedcontainer-endLoad",collapseIcon:"zd-feedcontainer-collapseIcon"}},"./src/containers/FeedsContainer/FeedsContainer.js":function(e,t,o){"use strict";o.r(t);var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),g=o.n(f),b=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),v=o.n(b),C=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),k=o.n(C),y=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),E=o("../components/lib/Layout/index.js"),_=o("./src/containers/FeedsContainer/FeedContainer.module.css"),w=o.n(_),I=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),A=o.n(I),j=o("./src/actions/FeedsAction.js"),T=o("./src/actions/NotificationActions.js"),x=o("./src/actions/index.js"),N=o("./src/actions/PeekActions.js"),S=o("./src/actions/TicketDetailViewAction.js"),D=o("./src/actions/AttachmentActions.js"),P=o("./src/reducers/selector.js"),O=o("./src/components/feeds/Loading/Loading.js"),z=o("./src/components/feeds/FeedTitle/FeedTitle.module.css"),B=o.n(z),$=o("../components/lib/DropBox/DropBox.js"),R=o.n($),L=o("./src/fz-i18n/index.js"),M=o("../components/lib/Popup/Popup.js"),F=o.n(M),Z=o("../components/lib/ListItem/ListItem.js"),q=o.n(Z),V=function(e){function t(e){d()(this,t);var o=h()(this,(t.__proto__||l()(t)).call(this,e));return o.state={selectedView:"support.setup.label.allusers",viewsList:[{key:"support.setup.label.allusers",value:"allFeeds"},{key:"support.feed.view.openrequest",value:"openRequestsFeeds"},{key:"support.feed.view.allstatus",value:"statusMessageFeeds"}]},o.handleTogglePopup=o.handleTogglePopup.bind(o),o.onSelect=o.onSelect.bind(o),o}return g()(t,e),m()(t,[{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,"bottomRight")}},{key:"onSelect",value:function(e){this.setState({selectedView:e.key}),this.props.onViewChange(e.value)}},{key:"render",value:function(){var e=this,t=this.props,o=t.isPopupOpen,n=t.isPopupReady,a=t.getTargetRef,s=t.getContainerRef,r=t.moduleMeta,i=t.position,l=this.state,c=l.selectedView,d=l.viewsList;return v.a.createElement(E.Box,{className:B.a.container},v.a.createElement("span",{className:B.a.topHeader,ref:a,onClick:this.handleTogglePopup,"data-id":"feedsFilter"},v.a.createElement("span",{className:B.a.titleTxt},L.h.getI18NValue(c,[r.tickets.pluralLabel])),v.a.createElement("span",{className:B.a.downIcon},v.a.createElement(A.a,{name:"ZD-down"})),o?v.a.createElement(R.a,{isArrow:!0,size:"small",top:"18",left:"0",isAnimate:!0,isActive:n,getRef:s,boxPosition:i},d.map(function(t,o){return t.key!=c&&v.a.createElement(q.a,{value:L.h.getI18NValue(t.key,[r.tickets.pluralLabel]),onClick:e.onSelect.bind(e,t),autoHover:!0})})):null))}}]),t}(b.Component);V.propTypes={getContainerRef:k.a.func,getTargetRef:k.a.func,isPopupOpen:k.a.bool,isPopupReady:k.a.bool,moduleMeta:k.a.object,position:k.a.string,selectedView:k.a.string,togglePopup:k.a.func};var K=F()(V),U=o("./src/components/feeds/EmptyPage/FeedsEmptyPage.module.css"),H=o.n(U),W=function(e){function t(){return d()(this,t),h()(this,(t.__proto__||l()(t)).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){return v.a.createElement("div",{className:H.a.fnodata},v.a.createElement("div",{className:H.a.title},L.h.getI18NValue("support.feed.empty.title")),v.a.createElement("div",{className:H.a.fnodatadiv},L.h.getI18NValue("support.feed.empty.detail")))}}]),t}(b.Component);var G=o("./src/components/feeds/FeedLayer/FeedLayer.js"),Y=o("./src/containers/Subtab/CommentBox/CommentBox.js"),Q=o("./src/utils/debounce.js"),J=o("./src/utils/Common.js"),X=o("./src/actions/AgentAction.js"),ee=(o("./src/containers/asyncComponent.js"),o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js")),te=o.n(ee),oe=o("./src/components/feeds/PostStatusBox/PostStatusBox.module.css"),ne=o.n(oe),ae=o("../components/lib/Avatar/Avatar.js"),se=o.n(ae),re=o("./src/components/feeds/StatusBoxFooter/StatusBoxFooter.module.css"),ie=o.n(re),le=o("./src/components/DepartmentPopup/DepartmentPopup.js"),ce=o("../components/lib/Button/Button.js"),de=o.n(ce),ue=function(e){function t(e){return d()(this,t),h()(this,(t.__proto__||l()(t)).call(this,e))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.currentDepartment,o=e.departments,n=e.onSelectDepartment,a=e.toggleTools,s=e.postStatus,r=e.actionStatus;return v.a.createElement(E.Box,null,v.a.createElement(E.Container,{alignBox:"row",className:ie.a.container},v.a.createElement(E.Box,{flexible:!0},v.a.createElement("span",{className:ie.a.attchIcn},v.a.createElement(A.a,{name:"ZD-attachment5",size:"14"})),v.a.createElement("span",{className:ie.a.iconCloud},v.a.createElement(A.a,{name:"ZD-cloudIcon",size:"12"})),v.a.createElement("span",{className:ie.a.editTxt,onClick:a},"A")),v.a.createElement(E.Box,{className:ie.a.departSection},v.a.createElement(le.a,{fromFeeds:!0,departments:o,currentDepartment:t.name,onSelect:n,keyName:"name"})),v.a.createElement(E.Box,{className:ie.a.departSection},v.a.createElement(de.a,{onClick:s,text:L.h.getI18NValue("crm.button.submit"),palette:"primaryFilled",status:r}))))}}]),t}(v.a.Component),me=ue;ue.propTypes={actionStatus:k.a.string,currentDepartment:k.a.object,departments:k.a.array,onSelectDepartment:k.a.func,postStatus:k.a.func,toggleTools:k.a.func};var pe=o("../components/lib/CheckBox/CheckBox.js"),he=o.n(pe),fe=o("./src/components/Subtab/UploadList/UploadList.js"),ge=o("./src/utils/loadResource.js"),be=o("./src/constants/index.js"),ve=o("./src/components/TextEditor/TextEditor.js"),Ce=o("./src/utils/DataStorage.js"),ke=o("./src/utils/Editor.js"),ye=function(e){function t(e){d()(this,t);var o=h()(this,(t.__proto__||l()(t)).call(this,e)),n={},a=o.props,s=a.currentDepartment,r=a.departments;return n="allDepartment"!=s.id?s:r[0],o.state={selectedDepartment:n,actionStatus:"none",showTools:Ce.a.getItem("showCommentTools"),haveMentions:!1,isDirectMsgChecked:!1},o.postStatus=o.postStatus.bind(o),o.onSelectDepartment=o.onSelectDepartment.bind(o),o.toggleTools=o.toggleTools.bind(o),o.onContentChange=o.onContentChange.bind(o),o.toogleDirectMsg=o.toogleDirectMsg.bind(o),o.handleError=o.handleError.bind(o),o}return g()(t,e),m()(t,[{key:"componentDidMount",value:function(){var e=this;Object(ge.a)(be.k,"js","ZohoDeskEditor").then(function(){e.setState({isEditorLoaded:!0})})}},{key:"onSelectDepartment",value:function(e,t){this.setState({selectedDepartment:t.name})}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?Ce.a.setItem("showCommentTools",!0):Ce.a.setItem("showCommentTools",!1)})}},{key:"onContentChange",value:function(){var e=this;setTimeout(function(){var t=editor.PostBox;t.mentionsList&&e.setState({haveMentions:!!t.mentionsList.length})})}},{key:"toogleDirectMsg",value:function(e){this.setState({isDirectMsgChecked:e})}},{key:"postStatus",value:function(){var e=this,t=editor.PostBox,o=t.mentionsHandler("val");o=encodeURIComponent(o);var n=this.props,a=n.showConfirmBox,s=n.postStatus;if(!Object(ke.d)(t))if(o.length>3e3)a({type:"alert",submitText:L.h.getI18NValue("crm.button.ok"),title:L.h.getI18NValue("support.history.operation.label.wfalert"),message:L.h.getI18NValue("maxlenmsg"),isActive:!0,palette:"danger"});else{var r=this.state,i=r.isDirectMsgChecked,l=r.selectedDepartment,c=t.mentionsList;if(!i||c.length){var d={accessFrom:"WEB",message:o,isPrivate:i,departmentId:l.id};this.setState({actionStatus:"loading"}),s(d).then(function(o){"success"==o.data.res.status?(t.setContent(""),e.setState({actionStatus:"done",isDirectMsgChecked:!1},function(){setTimeout(function(){e.setState({actionStatus:"none"})},1e3)})):(e.handleError(L.h.getI18NValue("support.unable.to.process.your.request")),e.setState({actionStatus:"none"}))},function(){e.handleError(L.h.getI18NValue("support.unable.to.process.your.request")),e.setState({actionStatus:"none"})})}else a({type:"alert",submitText:L.h.getI18NValue("crm.button.ok"),title:L.h.getI18NValue("support.history.operation.label.wfalert"),message:L.h.getI18NValue("support.feed.nomentions.error.msg"),isActive:!0,palette:"danger"})}}},{key:"handleError",value:function(e){this.props.showMessage({type:"alert",message:e})}},{key:"render",value:function(){var e=this.props,t=e.photoURL,o=e.name,n=e.departments,a=e.isAcsInit,s=e.getAutofillContacts,r=this.state,i=r.selectedDepartment,l=r.actionStatus,c=r.isEditorLoaded,d=r.showTools,u=r.haveMentions,m=r.isDirectMsgChecked,p=te()({handleAutoFill:!0,needEditorFocus:"feeds"!=this.props.from,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:null,handleInlineDropImage:null,contentChanged:this.onContentChange},"getAutofillContacts",s);return v.a.createElement(E.Container,{className:ne.a.header,alignBox:"row"},v.a.createElement(E.Box,{className:ne.a.AvaImg},v.a.createElement(se.a,{imgSrc:t,name:o,size:"xmedium"})),c?v.a.createElement(E.Box,{className:ne.a.feedSec+" "+(d?"":"hideTools")+" ",flexible:!0},v.a.createElement(E.Container,{alignBox:"column",className:ne.a.txtAreaSection},v.a.createElement(E.Box,{className:ne.a.txtArea},v.a.createElement("div",{className:ne.a.feedArrow},v.a.createElement("div",{className:ne.a.arrgrey}),v.a.createElement("div",{className:ne.a.arrwhite})),v.a.createElement(ve.a,{id:"PostBox",editorMode:"CommentEditor",editorOptions:p,type:"small",border:"borderNone"}),v.a.createElement(E.Box,{className:ne.a.attachHolder+" "+(d?ne.a.attachHolderVisi:"")},v.a.createElement(fe.a,{oldAttachments:[],newAttachments:[],orgId:"10521561",deleleUpload:function(){},removeAttachment:function(){},showAttachmentViewer:function(){}}))),u||m?v.a.createElement(E.Box,{className:ne.a.directMsg},v.a.createElement(he.a,{id:"directMsg",onChange:this.toogleDirectMsg,text:L.h.getI18NValue("support.feed.send.as.direct.message"),labelSize:"small",checked:m})):null,a?v.a.createElement(E.Box,null,v.a.createElement(me,{currentDepartment:i,departments:n,onSelectDepartment:this.onSelectDepartment,toggleTools:this.toggleTools,postStatus:this.postStatus,actionStatus:l})):null)):null)}}]),t}(b.Component),Ee=ye;ye.propTypes={currentDepartment:k.a.object,departments:k.a.array,getAutofillContacts:k.a.func,isAcsInit:k.a.bool,name:k.a.string,photoURL:k.a.string,postStatus:k.a.func,showConfirmBox:k.a.func,showMessage:k.a.func};var _e=function(e){function t(e){d()(this,t);var o=h()(this,(t.__proto__||l()(t)).call(this,e));return o.state={from:0,limit:25},o.getAutofillContacts=Object(Q.a)(o.getAutofillContacts.bind(o),100,!0),o.getMentions=o.getMentions.bind(o),o}return g()(t,e),m()(t,[{key:"getAutofillContacts",value:function(e,t,o){var n=this,a=this.props,s=a.deptId,r=a.teamsList,i=a.getTeamsList;r.length?this.getMentions(e,t,o):i(s).then(function(){n.getMentions(e,t,o)})}},{key:"getMentions",value:function(e,t,o){var n=this,a=this.props,s=a.deptId,r=a.getAgentsList,i=a.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?i(e,c,d).then(function(e){console.log("res",e)}):(this.invokeMentionsCallback(t,o),r(s,c,d).then(function(){n.invokeMentionsCallback(t,o)}))}},{key:"invokeMentionsCallback",value:function(e,t){for(var o=this.props,n=o.agentsObject,a=o.teamsObject,s=o.agentsList,r=o.teamsList,i=s?s.map(function(e){return n[e]}):[],l=r.map(function(e){return a[e]}),c=i.concat(l),d=25*(e-1),u=d+25,m=[],p=0;p<c.length;p++){var h=c[p],f=h.id,g=h.zuid,b=h.name,v=h.isConfirmed,C=h.photoURL,k=h.firstName,y=h.lastName;if(h.subTeams){var E={id:f,name:b,value:b,type:"team",team:Object(J.u)(b)};m.push(E)}else if(v){var _={id:g,userId:f,avatar:C||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(J.e)(k,y),value:b,type:"user"};m.push(_)}}m.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),m=m.slice(d,u);var w={};w.results=m,w.isMore=m.length>0,t(w)}},{key:"render",value:function(){var e=this.props,t=e.name,o=e.photoURL,n=e.departments,a=e.currentDepartment,s=e.postStatus,r=e.showMessage,i=e.isAcsInit,l=e.showConfirmBox;return v.a.createElement(Ee,{name:t,photoURL:o,departments:n,currentDepartment:a,postStatus:s,showMessage:r,isAcsInit:i,getAutofillContacts:this.getAutofillContacts,showConfirmBox:l})}}]),t}(v.a.Component);_e.propTypes={agentsList:C.PropTypes.array,agentsObject:C.PropTypes.object,currentDepartment:C.PropTypes.object,deleleUpload:C.PropTypes.func,departments:C.PropTypes.array,deptId:C.PropTypes.string,getAgentsList:C.PropTypes.func,getTeamsList:C.PropTypes.func,isAcsInit:C.PropTypes.bool,isCloudAttchOpen:C.PropTypes.bool,name:C.PropTypes.string,openCloudAttach:C.PropTypes.func,photoURL:C.PropTypes.string,postStatus:C.PropTypes.func,searchAgents:C.PropTypes.func,showAttachmentViewer:C.PropTypes.func,showConfirmBox:C.PropTypes.func,showMessage:C.PropTypes.func,teamsList:C.PropTypes.array,teamsObject:C.PropTypes.object,uploadAttach:C.PropTypes.func};var we=Object(y.connect)(function(e,t){var o=Object(P.t)(e);return{deptId:o,teamsList:e.departmentSpecificState[o].teamsList,agentsList:e.activeAgents[o],agentsObject:e.module.agent,teamsObject:e.module.teams,isCloudAttchOpen:e.isCloudAttchOpen}},{getTeamsList:x.u,getAgentsList:X.h,searchAgents:X.l,showConfirmBox:x.b.showConfirmBox,showMessage:x.Q,openCloudAttach:D.h})(_e),Ie=o("./src/feeds/constants.js"),Ae=function(e){function t(e){d()(this,t);var o=h()(this,(t.__proto__||l()(t)).call(this,e));return o.state={view:"allFeeds"},o.containerRef=null,o.onViewChange=o.onViewChange.bind(o),o.renderFeeds=o.renderFeeds.bind(o),o.postStatus=o.postStatus.bind(o),o.changeStatus=o.changeStatus.bind(o),o.openTicketDv=o.openTicketDv.bind(o),o.toggleFeedPopup=o.toggleFeedPopup.bind(o),o.postComment=o.postComment.bind(o),o.uploadAttach=o.uploadAttach.bind(o),o.deleleUpload=o.deleleUpload.bind(o),o.downloadAttachment=o.downloadAttachment.bind(o),o.getViewKey=o.getViewKey.bind(o),o.viewAllComment=o.viewAllComment.bind(o),o.deleteComment=o.deleteComment.bind(o),o.updateComment=o.updateComment.bind(o),o.backToHome=o.backToHome.bind(o),o.handleError=o.handleError.bind(o),o}return g()(t,e),m()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isAcsInit&&this.renderFeeds(),this.containerRef.addEventListener("scroll",function(){var t=e.containerRef.scrollHeight,o=e.containerRef.scrollTop;if(t<=o+e.containerRef.offsetHeight&&!e.state.isShowMoreCalled&&!e.props.feedId){e.setState({isShowMoreCalled:!0});var n=e.getViewKey();AcsApi&&AcsApi.isMoreAvailable(n)&&(AcsApi.showMore("Support",n,10),e.setState({isShowMoreCalled:!1}))}o>1e3&&e.setState({showScrollTopBtn:!0}),0===o&&e.setState({showScrollTopBtn:!1})}),Object(ge.a)(be.k,"js","ZohoDeskEditor").then(function(){e.setState({isEditorLoaded:!0})})}},{key:"componentWillReceiveProps",value:function(e){this.props.isAcsInit!==e.isAcsInit&&e.isAcsInit&&this.renderFeeds(),this.props.feedId!==e.feedId&&this.renderFeeds()}},{key:"renderFeeds",value:function(){var e=this,t=this.props,o=t.getSingleFeed;(0,t.getFeedsViewKey)().then(function(t){var n=e.props.feedId;n?o(n).then(function(t){e.setState({singleFdk:t.data.fdk})},function(){e.setState({singleFeedFailed:!0})}):AcsApi.initStream("Support",t.data.feedsViewKey.allFeeds,25)})}},{key:"onViewChange",value:function(e){this.setState({view:e}),this.backToHome(),this.props.updateFeedsView(e),AcsApi.initStream("Support",this.props.feedsKeys[e],25)}},{key:"postStatus",value:function(e){return this.props.postStatusMessage(e)}},{key:"getViewKey",value:function(){return this.props.feedsKeys[this.state.view]}},{key:"changeStatus",value:function(e,t,o,n){var a=this.getViewKey();AcsApi.invoke("Support",a,e,t,o,n)}},{key:"openTicketDv",value:function(e){this.props.openPeekView(r()({},e,{isPeekView:!0}))}},{key:"toggleFeedPopup",value:function(e,t){return this.props.getFeedThreadContent(e,t)}},{key:"postComment",value:function(e,t,o,n){var s=this.getViewKey();return AcsApi.invoke("Support",s,e,t,o,n),a.a.resolve()}},{key:"viewAllComment",value:function(e,t,o){var n=this.getViewKey();AcsApi.getComments(n,e,t,o,Ie.a.COMMENTRANGE)}},{key:"downloadAttachment",value:function(e){this.props.downloadAttachment(e)}},{key:"handleError",value:function(){this.props.showMessage({type:"alert",message:L.h.getI18NValue("support.unable.to.process.your.request")})}},{key:"uploadAttach",value:function(e,t,o){var n=this;return this.props.uploadAttach(e,t,function(e,t){o(e,t)}).then(function(e){return e},function(e){throw n.handleError(),{attachIndex:t,err:e}})}},{key:"deleleUpload",value:function(e){var t=this;return this.props.deleleUpload(e).catch(function(){t.handleError()})}},{key:"updateComment",value:function(e,t,o,n){var s=this.getViewKey();return AcsApi.invoke("Support",s,e,t,o,n),a.a.resolve()}},{key:"deleteComment",value:function(e,t,o,n){var a=this;this.props.showConfirmBox({type:"delete",submitText:L.h.getI18NValue("crm.button.ok"),cancelText:L.h.getI18NValue("support.label.cancel"),title:L.h.getI18NValue("support.history.operation.label.wfalert"),message:L.h.getI18NValue("crm.general.delete.comment.confirm"),isActive:!0,palette:"danger"}).then(function(){var s=a.getViewKey();AcsApi.invoke("Support",s,e,t,o,n)},function(){})}},{key:"backToHome",value:function(){var e=this.props,t="/"+e.orgName+"/"+e.deptName+"/feed";this.props.push({pathname:t})}},{key:"render",value:function(){var e=this,t=this.props,o=t.isAcsInit,n=t.moduleMeta,a=t.myInfo,s=t.departments,r=t.currentDepartment,i=t.feedsKeyObj,l=t.feedsKeys,c=t.haveCloseTicketPermission,d=t.haveMailSendPermission,u=t.haveTaskCreatePermission,m=(t.downloadAttachment,t.deleleUpload,t.showAttachmentViewer),p=t.orgId,h=t.openTicketTask,f=t.feeds,g=t.deptId,b=t.feedId,C=t.timeZone,k=t.showConfirmBox,y=this.state,_=y.view,I=y.showScrollTopBtn,j=y.singleFdk,T=y.singleFeedFailed,x=y.isEditorLoaded,N=l[_],S=l[_],D=[];i[S]&&(D=i[S].map(function(e){return f[e]}));var P=o&&AcsApi.isMoreAvailable(N);return D.length<25&&(P=!1),b&&(D=[f[j]]||!1),v.a.createElement(E.Container,{className:w.a.container,dataId:"feedsPage",isScrollAttribute:!0},v.a.createElement(E.Box,{className:w.a.topHeader},v.a.createElement(K,{moduleMeta:n,onViewChange:this.onViewChange})),v.a.createElement(E.Box,{flexible:!0,scroll:"vertical",className:w.a.box,eleRef:function(t){e.containerRef=t},isScrollAttribute:!0},v.a.createElement("div",null,v.a.createElement(we,{name:Object(J.e)(a.firstName,a.lastName),photoURL:a.photoURL,departments:s,currentDepartment:r,postStatus:this.postStatus,isAcsInit:o,showConfirmBox:k})),v.a.createElement("div",null,o&&(i[S]||b&&j)?D.length?v.a.createElement("div",null,D.map(function(t,o){return v.a.createElement(G.a,{key:o,feed:t,feedId:b||o,isEditorLoaded:x,isSingleFeed:!!b,backToHome:e.backToHome,deptId:g,haveCloseTicketPermission:c,haveMailSendPermission:d,haveTaskCreatePermission:u,changeStatus:e.changeStatus,postComment:e.postComment,openTicketDv:e.openTicketDv,openTicketTask:h,toggleFeedPopup:e.toggleFeedPopup,downloadAttachment:e.downloadAttachment,uploadAttach:e.uploadAttach,deleleUpload:e.deleleUpload,showAttachmentViewer:m,orgId:p,viewAllComment:e.viewAllComment,deleteComment:e.deleteComment,updateComment:e.updateComment,timeZone:C,CommentBoxContainer:Y.a})}),P&&!b?v.a.createElement("div",{className:w.a.endLoad},v.a.createElement(O.a,null)):null,I?v.a.createElement("span",{className:w.a.pageUp,onClick:function(){e.containerRef.scrollTop=0}},v.a.createElement(A.a,{name:"ZD-collapse1",iconClass:w.a.collapseIcon})):null):v.a.createElement(W,null):T?v.a.createElement("div",null,v.a.createElement("div",{onClick:function(){e.setState({singleFeedFailed:!1}),e.backToHome()}},"Â«"," ",L.h.getI18NValue("support.label.zohosupport.home")),v.a.createElement("div",null,"error")):v.a.createElement("div",{className:o?w.a.loadingWithBtn:w.a.loadingCont},v.a.createElement(O.a,null),v.a.createElement(O.a,null)))))}}]),t}(b.Component);Ae.propTypes={currentDepartment:k.a.string,deleleUpload:k.a.func,departments:k.a.array,deptId:k.a.string,deptName:k.a.string,downloadAttachment:k.a.func,feedId:k.a.string,feeds:k.a.object,feedsKeyObj:k.a.object,feedsKeys:k.a.object,getFeedThreadContent:k.a.func,getFeedsViewKey:k.a.func,getSingleFeed:k.a.func,haveCloseTicketPermission:k.a.bool,haveMailSendPermission:k.a.bool,haveTaskCreatePermission:k.a.bool,isAcsInit:k.a.bool,moduleMeta:k.a.object,myInfo:k.a.object,openPeekView:k.a.func,openTicketTask:k.a.func,orgId:k.a.string,orgName:k.a.string,postStatusMessage:k.a.func,push:k.a.func,showAttachmentViewer:k.a.func,showConfirmBox:k.a.func,showMessage:k.a.func,timeZone:k.a.string,updateFeedsView:k.a.func,uploadAttach:k.a.func};t.default=Object(y.connect)(function(e,t){var o=e.routing.paramMap,n=o.feedId,a=o.orgName,s=o.deptName,r=Object(P.t)(e);return{deptId:r,feedId:n,orgName:a,deptName:s,feeds:e.module.feeds,isAcsInit:e.isAcsInit,feedsKeys:e.departmentSpecificState[r].feedsKeys,feedsKeyObj:e.departmentSpecificState[r].feedsKeyObj,moduleMeta:e.moduleMeta,myInfo:e.myInfo,timeZone:Object(P.rb)(e),orgId:Object(P.T)(e),departments:Object(P.g)(e),currentDepartment:Object(P.n)(e),haveCloseTicketPermission:Object(P.Ub)(e,{module:"tickets",mode:"closeTicket"}),haveMailSendPermission:Object(P.Ub)(e,{module:"tickets",mode:"mailSend"}),haveTaskCreatePermission:Object(P.Ub)(e,{module:"tasks",mode:"create"})}},{getFeedsViewKey:j.b,postStatusMessage:j.d,showMessage:x.Q,push:x.L,openPeekView:N.b,openTicketTask:S.q,getFeedThreadContent:T.e,updateFeedsView:j.g,downloadAttachment:D.e,uploadAttach:D.k,deleleUpload:D.d,showAttachmentViewer:D.i,getSingleFeed:T.g,showConfirmBox:x.b.showConfirmBox})(Ae)},"./src/containers/Subtab/CommentBox/CommentBox.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=o.n(u),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),b=o("./src/components/Subtab/CommentBox/CommentBox.js"),v=o("./src/reducers/selector.js"),C=o("./src/utils/debounce.js"),k=o("./src/utils/Common.js"),y=o("./src/actions/index.js"),E=o("./src/actions/AgentAction.js"),_=o("./src/actions/AttachmentActions.js"),w=o("./src/containers/asyncComponent.js"),I=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e)),n=[],s=o.props.attachments;if(s&&s.length)for(var i=0;i<s.length;i++)n.push(s[i].id);return o.state={from:0,limit:25,attachmentIds:n},o.getAutofillContacts=Object(C.a)(o.getAutofillContacts.bind(o),100,!0),o.getMentions=o.getMentions.bind(o),o.setAttachmentIds=o.setAttachmentIds.bind(o),o}return m()(t,e),l()(t,[{key:"setAttachmentIds",value:function(e){this.setState({attachmentIds:e})}},{key:"getAutofillContacts",value:function(e,t,o){var n=this,a=this.props,s=a.deptId,r=a.teamsList,i=a.getTeamsList;r.length?this.getMentions(e,t,o):i(s).then(function(){n.getMentions(e,t,o)})}},{key:"getMentions",value:function(e,t,o){var n=this,a=this.props,s=a.deptId,r=a.getAgentsList,i=a.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?i(e,c,d).then(function(a){n.setState({searchAgentList:a.data.result}),n.invokeMentionsCallback(t,o,e)}):(this.invokeMentionsCallback(t,o),r(s,c,d).then(function(){n.invokeMentionsCallback(t,o)}))}},{key:"invokeMentionsCallback",value:function(e,t,o){for(var n=this.state.searchAgentList,a=this.props,s=a.agentsObject,r=a.teamsObject,i=a.agentsList,l=a.teamsList,c=o?n:i,d=c?c.map(function(e){return s[e]}):[],u=l.map(function(e){return r[e]}),m=o?u.filter(function(e){return-1!=e.name.toLowerCase().indexOf(o.toLowerCase())}):u,p=d.concat(m),h=25*(e-1),f=h+25,g=[],b=0;b<p.length;b++){var v=p[b],C=v.id,y=v.zuid,E=v.name,_=v.isConfirmed,w=v.photoURL,I=v.firstName,A=v.lastName;if(v.subTeams){var j={id:C,name:E,value:E,type:"team",team:Object(k.u)(E)};g.push(j)}else if(_){var T={id:y,userId:C,avatar:w||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(k.e)(I,A),value:E,type:"user"};g.push(T)}}g.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),g=g.slice(h,f);var x={};x.results=g,x.isMore=g.length>0,t(x)}},{key:"render",value:function(){var e=this.props,t=e.type,o=e.orgId,n=e.id,a=e.from,s=e.showAttachmentViewer,r=(e.photoURL,e.name,e.borderStyle),i=e.isPeekView,l=e.value,c=e.revertIsCommentChanged,d=e.setIsCommentChanged,u=e.isCommentChanged,m=e.addComment,p=e.uploadAttach,f=e.deleleUpload,g=e.toggleComment,v=e.updateComment,C=e.closeComment,y=e.showConfirmBox,E=e.showMessage,_=e.page,I=e.oldAttachments,A=e.newAttachments,j=e.attachments,T=e.editorMode,x=e.myInfo,N=e.hasAttachments,S=e.hasPrivacyMode,D=e.openCloudAttach,P=e.isCloudAttchOpen,O=e.mention,z=e.isLightAgent,B=e.havePublicComment,$=e.uploadCloudAttachment,R=e.needAttachment;return h.a.createElement(b.a,{id:n,orgId:o,value:l,from:a,page:_,type:t,addComment:m,updateComment:v,closeComment:C,toggleComment:g,oldAttachments:I,newAttachments:A,attachments:j,uploadAttach:p,deleleUpload:f,showAttachmentViewer:s,isPeekView:i,isCommentChanged:u,setIsCommentChanged:d,revertIsCommentChanged:c,showConfirmBox:y,showMessage:E,borderStyle:r,getAutofillContacts:this.getAutofillContacts,editorMode:T,photoURL:x.photoURL,name:Object(k.e)(x.firstName,x.lastName),setAttachmentIds:this.setAttachmentIds,attachmentIds:this.state.attachmentIds,hasAttachments:N,hasPrivacyMode:S,openCloudAttach:D,isCloudAttchOpen:P,CloudAttachmentIframe:w.n,mention:O,havePublicComment:B&&!z,uploadCloudAttachment:$,needAttachment:R})}}]),t}(h.a.Component);I.propTypes={addComment:f.PropTypes.func,agentsList:f.PropTypes.array,agentsObject:f.PropTypes.object,attachments:f.PropTypes.object,borderStyle:f.PropTypes.string,closeComment:f.PropTypes.func,deleleUpload:f.PropTypes.func,deptId:f.PropTypes.string,editorMode:f.PropTypes.string,from:f.PropTypes.string,getAgentsList:f.PropTypes.func,getTeamsList:f.PropTypes.func,hasAttachments:f.PropTypes.bool,hasPrivacyMode:f.PropTypes.bool,havePublicComment:f.PropTypes.bool,id:f.PropTypes.string,isCloudAttchOpen:f.PropTypes.bool,isCommentChanged:f.PropTypes.bool,isLightAgent:f.PropTypes.bool,isPeekView:f.PropTypes.bool,mention:f.PropTypes.array,myInfo:f.PropTypes.object,needAttachment:f.PropTypes.bool,newAttachments:f.PropTypes.object,oldAttachments:f.PropTypes.object,openCloudAttach:f.PropTypes.func,orgId:f.PropTypes.string,page:f.PropTypes.string,revertIsCommentChanged:f.PropTypes.func,searchAgents:f.PropTypes.func,setIsCommentChanged:f.PropTypes.func,showAttachmentViewer:f.PropTypes.func,showConfirmBox:f.PropTypes.func,showMessage:f.PropTypes.func,teamsList:f.PropTypes.array,teamsObject:f.PropTypes.object,toggleComment:f.PropTypes.func,type:f.PropTypes.string,updateComment:f.PropTypes.func,uploadAttach:f.PropTypes.func,uploadCloudAttachment:f.PropTypes.func,value:f.PropTypes.string},t.a=Object(g.connect)(function(e,t){var o=t.departmentId?t.departmentId:Object(v.t)(e),n=e.myInfo,a=e.module,s=e.isCloudAttchOpen,r=e.activeAgents,i=e.departmentSpecificState,l=Object(k.c)(n.profileId,a.profile);return{deptId:o,teamsList:i[o].teamsList,agentsList:r[o],agentsObject:a.agent,teamsObject:a.teams,myInfo:n,isCloudAttchOpen:s,isLightAgent:l}},{getTeamsList:y.u,getAgentsList:E.h,searchAgents:E.l,showConfirmBox:y.b.showConfirmBox,showMessage:y.Q,openCloudAttach:_.h,uploadCloudAttachment:_.l})(I)},"./src/feeds/constants.js":function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={LABEL_REQUEST:"LABEL_REQUEST",LABEL_REQUESTS:"LABEL_REQUESTS",LABEL_TASK:"LABEL_TASK",USER_NAME:"USER_NAME",ACTION_OWNER:"ACTION_OWNER",COMMENTED_BY:"COMMENTED_BY",RECORD_OWNER:"RECORD_OWNER",FROM_DEPARTMENT:"FROM_DEPARTMENT",TO_DEPARTMENT:"TO_DEPARTMENT",CONTACTS:"CONTACTS",ACCOUNTS:"ACCOUNTS",BUG_URL:"BUG_URL",DEPARTMENT:"DEPARTMENT",SURVEY_GOOD:"Good",SURVEY_OK:"OK",SURVEY_BAD:"Bad",COMMENTRANGE:"50"}},"./src/feeds/i18n.js":function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={"Status.direct.message.title":"$1 has sent a Direct Message in $2","Status.direct.message.title.min":"$1 has sent a Direct Message","Request.merged":"$2 has merged $1 in $3","Request.reassigned.with.account.min":"$5 reassigned a $1 from $2 | $3 to $4","Request.bug.added":"$2 added a $1 in $3","Request.restore.title.with.account":"$1 received from $2 | $3 in $4","Request.pickedup.without.account":"$3 self-assigned a $1 from $2 in $4","Request.updated.without.account":"$3 updated a $1 from $2 in $4","Task.update.min":"$2 updated a $1","Request.merged.min":"$2 has merged $1","Request.ownerupdate.without.account.min":"$1 from $2 was assigned to $3","Comment.updated.min":"$1 updated a comment","ACS.errortitle":"Error","ACS.errormsg":"Action cannot be performed as $1 has been deleted.","Task.completed":"$1 completed a $2 in $3","Request.add.without.account.min":"$1 from $2 was assigned to $3","Request.ownerupdate.with.account":"$1 from $2 | $3 was assigned to $4 in $5","User.mentions.comment":"$1 has mentioned you in a comment","Request.bug.reopened.min":"$2 re-opened a $1","Request.split.to.with.account.and.with.owner":"Spawned $1 from $2 | $3 was assigned to $4 in $5","Request.closed.without.account":"$2 from $3 was closed in $4","Request.response.received.with.account.min":"New Response received from $1 | $2","Request.updated.with.account":"$4 updated a $1 from $2 | $3 in $5","Task.update":"$2 updated a $1 in $3","Unassigned.Request.added.without.account":"New $1 received from $2 in $3","Request.closed.with.account.min":"$2 from $3 | $4 was closed","Request.reassigned.without.account":"$4 reassigned a $1 from $2 to $3 in $5","Request.pickedup.with.account.min":"$4 self-assigned a $1 from $2 | $3","Request.add.with.account":"$1 from $2 | $3 was assigned to $4 in $5","Comment.updated":"$1 updated a comment in $2","Request.split.to.without.account.and.without.owner":"$1 from $2 was spawned in $3","Request.resolution.deleted":"$1 has deleted a Resolution in $2","Task.add.min":"$3 assigned a new $1 to $2","Request.split.to.without.account.and.without.owner.min":"$1 from $2 was spawned","Request.response.sent.with.account":"$3 replied to $1 | $2 in $4","Request.split.to.with.account.and.with.owner.min":"Spawned $1 from $2 | $3 was assigned to $4","Comment.added.min":"$1 posted a comment","Request.response.received.without.account.min":"New Response received from $1","Request.restore.title.without.account":"$1 received from $2 in $3","Request.reopened.without.account.min":"$1 reopened a $2 from $3","Request.reopened.with.account":"$1 reopened a $2 from $3 | $4 in $5","Task.restore.title.min":"$2 was assigned with a $1","Task.reopened":"$2 re-opened a $1 in $3","Request.bug.closed.min":"$2 closed a $1","Request.response.received.without.account":"New Response received from $1 in $2","Request.resolution.added.min":"$1 has added a Resolution","Unassigned.Request.added.without.account.min":"New $1 received from $2","Request.resolution.deleted.min":"$1 has deleted a Resolution","Request.pickedup.without.account.min":"$3 self-assigned a $1 from $2 ","Request.pickedup.with.account":"$4 self-assigned a $1 from $2 | $3 in $5","Request.split.to.with.account.and.without.owner":"$1 from $2 | $3 was spawned in $4","Request.split.to.without.account.and.with.owner":"Spawned $1 from $2 was assigned to $3 in $4","Request.moved.min":"$4 moved a $1 from $3 to $2","Task.add":"$3 assigned a new $1 to $2 in $4","Survey.added.with.account":"$2 | $3 left a $4 rating for a $1 in $5","Request.split.to.without.account.and.with.owner.min":"Spawned $1 from $2 was assigned to $3","Request.closed.without.account.min":"$2 from $3 was closed","Request.updated.without.account.min":"$3 updated a $1 from $2","Survey.added.without.account.min":"$2 left a $3 rating for a $1","Comment.added":"$1 posted a comment in $2","Request.forwarded.min":"$2 forwarded a $1","Request.closed.with.account":"$2 from $3 | $4 was closed in $5","Unassigned.Request.added.with.account.min":"New $1 received from $2 | $3","Task.pickedup.min":"$2 self-assigned a $1","Status.update.message":"$1 has added a Status in $2","Status.update.message.min":"$1 has added a Status","Request.reopened.with.account.min":"$1 reopened a $2 from $3 | $4","Task.pickedup":"$2 self-assigned a $1 in $3","Request.reassigned.without.account.min":"$4 reassigned a $1 from $2 to $3","Request.resolution.added":"$1 has added a Resolution in $2","Task.owner.reassigned.min":"$3 reassigned a $1 to $2","Request.split.to.with.account.and.without.owner.min":"$1 from $2 | $3 was spawned","Request.response.received.with.account":"New Response received from $1 | $2 in $3","Survey.added.with.account.min":"$2 | $3 left a $4 rating for a $1","Request.restore.title.with.account.min":"$1 received from $2 | $3","Unassigned.Request.added.with.account":"New $1 received from $2 | $3 in $4","Request.resolution.modified.min":"Resolution updated by $1","Request.bug.reopened":"$2 re-opened a $1 in $3","Request.moved":"$4 moved a $1 from $3 to $2","Request.bug.closed":"$2 closed a $1 in $3","Task.reopened.min":"$2 re-opened a $1","Request.restore.title.without.account.min":"$1 received from $2","Request.splitted.min":"$3 has split a $1 from $2","Request.response.sent.with.account.min":"$3 replied to $1 | $2","Request.response.sent.without.account":"$2 replied to $1 in $3","Task.completed.min":"$1 completed a $2","Request.add.without.account":"$1 from $2 was assigned to $3 in $4","Request.ownerupdate.without.account":"$1 from $2 was assigned to $3 in $4","Request.updated.with.account.min":"$4 updated a $1 from $2 | $3","Task.owner.reassigned":"$3 reassigned a $1 to $2 in $4","Request.ownerupdate.with.account.min":"$1 from $2 | $3 was assigned to $4","Request.forwarded":"$2 forwarded a $1 in $3","Task.restore.title":"$2 was assigned with a $1 in $3","Request.resolution.modified":"Resolution updated by $1 in $2","Request.reassigned.with.account":"$5 reassigned a $1 from $2 | $3 to $4 in $6","Request.bug.added.min":"$2 added a $1","Request.response.sent.without.account.min":"$2 replied to $1","Survey.added.without.account":"$2 left a $3 rating for a $1 in $4","Request.splitted":"$3 has split a $1 from $2 in $4","Request.add.with.account.min":"$1 from $2 | $3 was assigned to $4","Request.reopened.without.account":"$1 reopened a $2 from $3 in $4"}},"./src/feeds/utils.js":function(e,t,o){"use strict";(function(e){o.d(t,"c",function(){return r}),o.d(t,"a",function(){return i}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c}),o.d(t,"b",function(){return d});var n=o("./src/actions/NotificationActions.js"),a=o("./src/feeds/i18n.js"),s=o("./src/utils/Common.js");function r(t,o){o(function(){var o,s;AcsApi.autoCorrect=(o=AcsApi.autoCorrect,s={},function(){var e=this,t=arguments[0],n=s[t];n&&clearTimeout(n);var a=arguments;s[t]=setTimeout(function(){o.apply(e,a),s[t]=null},1e3)}),AcsApi.init("Support","crmcsrfparam","crmcsr"),AcsDesktopNotification.syncOwner(),t(Object(n.l)()),"undefined"==typeof AcsResource&&(e.AcsResource={}),AcsResource.resourceobject=a.a,AcsApi.getBadgeCount("UNS")})}function i(e,t){var o={},n=t(),a=e.getInfo(void 0,!0),s=null,r=e.getAdditionalProperty("zgid")||"null",i=e.getAdditionalProperty("sanitizedOrgName")||n.module.org[r].portalName;e.getActionOwner()&&("_NONE_"!=e.getActionOwner().split(":")[0]&&(s=e.getAdditionalProperty("photoUrl")||s));var l=e.getAdditionalProperty("LAST_ACTIVITY");if("INCOMING_MAIL"==l||"RESPONSE_RECEIVED"==l||"contact"==e.getAdditionalProperty("photo_type")){s=null;var c=""+e.getAdditionalProperty("Contact_Id")||"";"undefined"!=c&&""!=c&&"null"!=c&&"null"!=r&&(s="/api/v1/contacts/"+c+"/photo?portalname="+i)}var d=e.getSkey()||Date.now(),u="";e.getProperty("viewkey")&&(u=e.getProperty("viewkey"));var m="";e.getRepeatCount()&&(m=e.getRepeatCount());var p="";e.getRepeatUsers()&&(p=e.getRepeatUsers());var h=e.getTime()||"";o.fdk=e._ntfn["Feed.fdk"],o.departmentId=e.getAdditionalProperty("Department"),o.accessFrom=e.getAccFrom(),o.type=e.getType(),o.title=a,o.photourl=s,o.ISNEW=e.isNew(),o.SKEY=d,o.info=e.getAdditionalProperty("info")||e.getAdditionalProperty("niceurl"),o.VIEWKEY=u,o.repCount=m,o.repUsers=p,o.time=h,o.seid=e.getAdditionalProperty("seid"),o.caseNumber=e.getAdditionalProperty("caseNumber"),o.subject=e.getAdditionalProperty("subject"),o.type=e.getProperty("type"),o.orgId=r;var f=e.getAdditionalProperty("sanitizedDepName"),g=e.getAdditionalProperty("sanitizedModule");if("Request"===o.type||"Ticket"===o.type){var b=e.getAdditionalProperty("caseId");o.entityURL=f?"/agent/"+i+"/"+f+"/"+g+"/details/"+b:"/support/"+i+"/ShowHomePage.do#Cases/dv/"+o.seid}else"status"===o.type||"Direct Message"===o.type||"StatusMessage"===o.type?(o.subject=e.getAdditionalProperty("subject"),o.entityURL="/support/"+i+"/ShowHomePage.do#feeds/"+o.info):"Task"===o.type&&(o.entityURL=f?"/agent/"+i+"/"+f+"/"+g+"/details/"+o.seid:"/support/"+i+"/ShowHomePage.do#Tasks/dv/"+o.seid);return o}function l(e,t){return(e=i(e,t)).isRead=!1,e.ISNEW=!1,e}function c(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{t=void 0===t?{}:t,o=null==o||o;for(var a=e,r=new RegExp("zsu[@[a-z]+(#|:).+?]zsu","g"),i=void 0;null!=(i=r.exec(e));){var l=i[0],c=l.split("zsu[")[1].slice(0,-4);if(0==c.indexOf("#")){var d=c.split(":"),u=d[0],m=d[2],p=u,h=n.routing.paramMap,f="/agent/"+h.orgName+"/"+h.deptName+"/"+n.moduleMeta.tickets.sanitizedName+"/details/"+m;o&&(p="<a href="+f+' class="clrblu">'+u+"</a>"),a=a.replace(l,p)}else if(0==c.indexOf("@"))if(-1!==c.indexOf("user")){var g=t[(b=c.replace("@user#","").replace("@user:","").split("_"))[0]];p=g;o?(g=g.replace(/>/g,"&gt;").replace(/</g,"&lt;"),p='<a href="javascript:;" class="clrblu" onclick="return false">'+Object(s.k)(g)+"</a>"):p=Object(s.k)(p),a=a.replace(l,p)}else{(b=c.replace("@team#","").replace("@team:","").split("_"))[0];var b,v=b[1];v=v.replace(/>/g,"&gt;").replace(/</g,"&lt;"),p='<a href="javascript:;" class="clrblu" onclick="return false">'+Object(s.k)(v)+"</a>",a=a.replace(l,p)}}return a}catch(t){return e}}function d(e,t){t=""+t,e="feedback widget"==(e=(""+e).toLowerCase())?e.replace(/\s+/g,""):e;var o={email:["support.request.status.email.icon.title"],phone:["support.request.status.phone.icon.title"],forums:["support.request.status.forums.icon.title"],web:["support.request.status.web.icon.title"],twitter:["support.request.status.request.twitter.incoming.icon.title"],facebook:["support.request.status.request.facebook.incoming.icon.title"],chat:["support.request.status.chat.icon.title"],feedbackwidget:["support.request.status.feedbackwidget.icon.title"],2:["support.request.status.request.sent.icon.title","ogmrequest"],3:["support.request.status.req.receive.icon.title","icmrequest"],6:["support.request.status.request.drafted.icon.title","ogmrequest"],7:["support.request.status.request.drafted.icon.title","icmrequest"],9:["support.request.status.req.receive.icon.title","icmrequest"],11:["support.request.status.req.receive.icon.title","icmforumrequest"],12:["support.request.status.request.sent.icon.title","ogmforumrequest"],13:["support.request.status.request.sent.icon.title","ogmforumrequest"],14:["support.request.status.req.receive.icon.title","icmforumrequest"],15:["support.request.status.request.forward.icon.title","fwdrequest"],17:["support.request.status.req.receive.icon.title","incomingCTI"],18:["support.request.status.request.sent.icon.title","outgoingCTI"],19:["support.request.status.request.twitter.incoming.icon.title","NewTwiticm"],20:["support.request.status.request.twitter.response.icon.title","NewTwiticm"],21:["support.request.status.request.twitter.outgoing.icon.title","NewTwitogn"],22:["support.request.status.request.facebook.incoming.icon.title","NewFbookIcm"],23:["support.request.status.request.facebook.response.icon.title","NewFbookIcm"],24:["support.request.status.request.facebook.outgoing.icon.title","NewFbookogn"],25:["support.request.status.chat.icon.title","chat"],26:["support.request.status.offlinechat.icon.title","offlinechat"],32:["support.request.status.req.receive.icon.title","incomingCTI"],33:["support.request.status.request.sent.icon.title","outgoingCTI"],34:["support.survey.listview.feedback.received"],43:["support.request.history.new.facebook.directMessage.received","NewFbookIcm"],44:["support.request.history.new.facebook.directMessage.received","NewFbookIcm"],45:["support.request.history.new.facebook.directMessage.sent","NewFbookogn"]};return t=["","undefined","0","1","5"].includes(t)||!o.hasOwnProperty(t)?e:t,o.hasOwnProperty(t)?o[t][0]:""}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/utils/Attachment.js":function(e,t,o){"use strict";o.d(t,"d",function(){return i}),o.d(t,"f",function(){return l}),o.d(t,"e",function(){return c}),o.d(t,"l",function(){return d}),o.d(t,"i",function(){return u}),o.d(t,"p",function(){return m}),o.d(t,"q",function(){return p}),o.d(t,"m",function(){return h}),o.d(t,"k",function(){return f}),o.d(t,"h",function(){return b}),o.d(t,"j",function(){return v}),o.d(t,"b",function(){return C}),o.d(t,"a",function(){return k}),o.d(t,"n",function(){return y}),o.d(t,"c",function(){return E}),o.d(t,"o",function(){return _}),o.d(t,"g",function(){return w});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),a=o.n(n),s=o("./src/utils/Browser.js"),r=o("./src/fz-i18n/index.js");function i(e){var t=c(e),o=Object(s.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"ZD-filePicture";case"txt":case"rtf":return"ZD-fileText2";case"pdf":return"ZD-filePdf";case"html":case"htm":case"xhtml":return-1!==o.indexOf("chrome")||-1!==o.indexOf("safari")?"ZD-chrome":-1!==o.indexOf("ie")||-1!==o.indexOf("edge")?"ZD-ie":"ZD-firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ZD-ppt";case"rar":case"jar":case"zip":return"ZD-zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"ZD-fileOpenoffice":"ZD-fileWord";case"xml":return"ZD-xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"ZD-fileExcel";case"ics":return"ZD-ics";case"exe":return"ZD-exe";case"sh":case"bin":return"ZD-sh2";case"css":return"ZD-css5";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"ZD-fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"ZD-fileVideo";default:return"ZD-unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&-1!=e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return/jpeg|jpg|png|gif|bmp|ico/i.test(t)}function u(e){var t=c(e);return/mp3|wav|ogg/i.test(t)}function m(e,t){var o={inValidArray:[],validArray:[]};if(t+e.length>10)return o.isCountExceeds=!0,o;for(var n=0;n<e.length;n++){var a=e[n],s=a.name,r=a.size;h(s)?o.inValidArray.push({isUnSupported:!0}):f(s)?o.inValidArray.push({isFileNameSizeInvalid:!0}):0===a.size?o.inValidArray.push({isEmpty:!0}):g(r)?o.inValidArray.push({isAttachSizeExceeded:!0}):o.validArray.push(a)}return o}function p(e,t,o,n){if(t+e.length>10)n(r.h.getI18NValue("support.attachments.count.exceeds",[10]));else for(var a=0;a<e.length;a++){var s=e[a],i=s.name,l=s.size;if(h(i))n(r.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(i))n(r.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==s.size)if(g(l))n(r.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var c=new FormData;c.append("file",s),o&&o(c)}else n(r.h.getI18NValue("support.request.empty.attachment.message"))}}function h(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function g(e){return e>20971520}function b(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function v(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function C(e,t,o){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&(d(e.name)||u(e.name))}),n.previewData.filter(function(t,o){t.id===e&&(n.selectedIndex=o)}),o&&o(n)}function k(e,t,o){var n=e.indexOf("/api"),a=e;return n>-1&&(a=e.slice(n,e.length),a+="?orgId="+t+(o?"&inline=true":"")),a}function y(e,t){window.open(k(e,t,!0))}function E(e,t){window.location.href=k(e,t,!1)}function _(e,t,o,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],u=0;if(n&&l>n-o){var m=r.h.getI18NValue("support.attachments.count.exceeds",[n]);return a.a.resolve({isError:!0,errorI18N:m})}for(var p=0;p<l;p++){var g=e[p],b=g||{},v=b.size,C=void 0===v?0:v,k=b.name,y=void 0===k?"":k;if(u+=C,h(y)){var E=r.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:E,fileName:y,errorType:"fileType"})}else if(f(y)){var _=r.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:_,fileName:y,errorType:"fileNameSize"})}else if(0===C){var w=r.h.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:w,fileName:y,errorType:"emptyFile"})}else d.push(g)}if(!d.length){if(1===c.length){var I=c[0].errorI18N;return a.a.resolve({isError:!0,errorI18N:I})}var A=r.h.getI18NValue("support.unable.to.process.your.request");return a.a.resolve({isError:!0,errorI18N:A})}if(0===u){var j=r.h.getI18NValue("support.request.empty.attachment.message");return a.a.resolve({isError:!0,errorI18N:j})}if(u+i>1024*s*1024){var T=r.h.getI18NValue("support.attachments.size.limit.exceeds",[s]);return a.a.resolve({isError:!0,errorI18N:T})}for(var x=[],N=[],S=[],D=[],P=function(e){var o=d[e];if(t){var n=new FormData;n.append("file",o);var a=e,s=t(n,o,a).then(function(e){var t=(e.data||{}).data,o=void 0===t?{}:t,n=o.id;n&&(x[a]=o,N[a]=n)},function(t){var n=o.name,a=r.h.getI18NValue("support.unable.to.process.your.request");return D.push(e),c.push({errorI18N:a,fileName:n,errorType:"apiError"}),t});S.push(s)}},O=0;O<d.length;O++)P(O);var z={uploadFiles:x,inValidFiles:c,isError:!1,uploadFileIds:N,inValidFilesIndex:D};return a.a.all(S).then(function(){return N.length?z:{isError:!0,errorI18N:r.h.getI18NValue("support.unable.to.process.your.request")}})}function w(e,t){var o=e.name;return{index:t,isPreview:!0,size:e.size,name:o,href:URL.createObjectURL(e)}}},"./src/utils/ChannelIconMapping.js":function(e,t,o){"use strict";function n(e,t){var o=void 0,n="";return e?"OFFLINE_CHAT"==(o=e.channel)?n="missed":e.isDraft?n="draft":e.isForward?n="forward":"in"===e.direction?n="incoming":"out"===e.direction&&(n="outgoing"):(o=t||"",n="default"),{channelName:o,action:n}}function a(e){return{in:{icon:"ZD-emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"ZD-emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"ZD-pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"ZD-emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"ZD-feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"ZD-zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"ZD-notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function s(){return{EMAIL:{default:"ZD-chEmail1",incoming:"ZD-chEmailIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chEmailMis"},FACEBOOK:{default:"ZD-chFacebook",incoming:"ZD-chFacebookIn",outgoing:"ZD-chFacebookOut",draft:"ZD-chFacebookDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chFacebookMis"},FACEBOOK_DM:{default:"ZD-chFacebookDmOut",incoming:"ZD-chFacebookDmOut",outgoing:"ZD-chFacebookDmOut",draft:"ZD-chFacebookDmOut",forward:"ZD-chFacebookDmOut",forwardDraft:"ZD-chFacebookDmOut",missed:""},TWITTER:{default:"ZD-chTwitter",incoming:"ZD-chTwitterIn",outgoing:"ZD-chTwitterOut",draft:"ZD-chTwitterDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chTwitterMis"},FORUMS:{default:"ZD-chForums",incoming:"ZD-chForumsIn",outgoing:"ZD-chForumsOut",draft:"ZD-chForumsDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chForumsMis"},CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},OFFLINE_CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},ONLINE_CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},PHONE:{default:"ZD-activityCalls",incoming:"ZD-chPhoneIn",outgoing:"ZD-chPhoneOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chPhoneMis"},WEB:{default:"ZD-chWeb",incoming:"ZD-chWebIn",out:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chWebMis"},CUSTOMERPORTAL:{default:"ZD-chWeb",incoming:"ZD-chWebIn",out:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chWebMis"},FEEDBACK:{default:"ZD-chFeedback",incoming:"ZD-chFeedback",out:"ZD-chFeedbackOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chFeedbackMis"}}}o.d(t,"c",function(){return n}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return s})},"./src/utils/DataStorage.js":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),a=o.n(n),s=o("./src/utils/Common.js"),r={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(s.N)(t)?localStorage.setItem(e,a()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var o=localStorage.length,n=new Date,r=0;r<o;r++){var i=localStorage.key(r),l=this.getItemFromStorage(i)||{};l&&l.time&&n>l.expireTime&&this.removeItem(i)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var o=localStorage.key(t),n=this.getItemFromStorage(o);e[o]=n}return e}return this.storage},setItem:function(e,t,o){-1==(o=null==o||null==o?10800:o)&&(o=86400);var n=new Date,a={value:t,expireTime:new Date(n.setSeconds(n.getSeconds()+o))};this.storeItemIntoStorage(e,a)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},"./src/utils/Editor.js":function(e,t,o){"use strict";o.d(t,"c",function(){return a}),o.d(t,"a",function(){return s}),o.d(t,"b",function(){return r}),o.d(t,"f",function(){return i}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c});var n=o("./src/utils/Common.js");function a(e,t){var o=editor[e];o&&t&&o.insertHTML(t)}function s(e){var t=editor[e];if(null!=t){var o=t.getContent();return"<br>"==(o=o.trim())?"":("plaintext"==t.mode&&(o=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(o)),o)}return""}function r(e,t,o,n){var a={content:"",isSnippetExist:!1,triggerWord:""},s="";if(e.modify){var r=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var i=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==i.toLowerCase()});null!=(s=l.length?l[0].expandedContent:"")&&""!=s&&s.length>0?(a.isSnippetExist=!0,a.content=s,a.triggerWord=i.toLowerCase(),r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)):(a.content="&nbsp;&nbsp;&nbsp;&nbsp;",a.triggerWord=i.toLowerCase()),e.removeAllRanges(),e.addRange(r)}else a=function(e,t,o,n){var a="",s=e.getRangeAt(0);s.collapse(!0),s.setStart(e.anchorNode,0),a=s.toString();var r=s.cloneRange(),i=e.anchorNode.textContent,l=/\s+/,c=i.split(l).filter(Boolean),d=a.split(l).filter(Boolean),u="",m="",p={content:"",isSnippetExist:!1,triggerWord:""},h=d[d.length-1];if(""!=h&&void 0!==h){u=c[d.length-1],parseInt(u.length);var f=u.toLowerCase(),g=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});m=g.length?g[0].expandedContent:""}if(null!=m&&""!=m&&null!=m){var b=parseInt(u.length-h.length),v=parseInt(a.length);b>0&&(v+=b);var C=parseInt(a.length+b-u.length),k=a.length-a.replace(/\s+$/g,"").length;(C-=k)<0&&(C=0),r.setStart(e.anchorNode,C),r.setEnd(e.focusNode,v),p.isSnippetExist=!0}else m=a;return p.content=m,p.triggerWord=u.toLowerCase(),e.removeAllRanges(),e.addRange(r),p}(e,0,0,n);return a}function i(e,t,o,a,s){for(var r={"${Cases.Contact Name}":Object(n.e)(o.firstName,o.lastName),"${Cases.Email}":o.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":a?a.accountName:"","${Cases.First Name}":o.firstName||"","${Cases.Last Name}":o.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(s.firstName,s.lastName),"${User.Email}":s.emailId||"","${User.Phone}":s.phone||"","${User.First Name}":s.firstName||"","${User.Last Name}":s.lastName||"","${User.Mobile}":s.mobile||""},i=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<i.length;l++)e=e.replace(i[l],r[i[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},"./src/utils/bind.js":function(e,t,o){"use strict";function n(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){e[t]=e[t].bind(e)})}o.d(t,"a",function(){return n})},"./src/utils/editorUtils.js":function(e,t,o){"use strict";function n(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function a(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})}}]);