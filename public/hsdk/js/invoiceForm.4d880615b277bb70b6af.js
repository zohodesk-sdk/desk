(window.deskappJsonp=window.deskappJsonp||[]).push([[104],{"../components/lib/AvatarTeam/AvatarTeam.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=c(n("../components/lib/AvatarTeam/AvatarTeam.module.css")),l=c(n("../components/lib/Avatar/Avatar.js")),r=n("../components/lib/utils/dummyFunction.js");function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,i=e.palette,r=e.onClick,c=e.title,u=e.isFilled,d=e.dataId;return o.default.createElement("span",{className:s.default.container+" "+s.default[a]+" "+s.default[i],"data-id":d},o.default.createElement(l.default,{name:n,onClick:r,palette:i,size:a,src:t,title:c}),o.default.createElement("span",{className:s.default.team+" "+(u?s.default.filled:s.default.nofill)}))}}]),t}();t.default=u,u.defaultProps={isFilled:!1,palette:"primary",size:"medium",src:null,title:null,onClick:r.dummyFunction,dataId:"avatarTeamComp"},u.propTypes={dataId:i.default.string,isFilled:i.default.bool,name:i.default.string.isRequired,onClick:i.default.func,palette:i.default.oneOf(["primary","secondary","info"]),size:i.default.oneOf(["small","xsmall","medium","xmedium","large","xlarge"]),src:i.default.string,title:i.default.string},u.propTypesDescription={name:" ",size:" ",src:" ",palette:" ",onClick:" ",title:" ",isFilled:" "}},"../components/lib/Button/Button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=r(n("../components/lib/Button/Button.module.css")),l=n("../components/lib/utils/dummyFunction.js");function r(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette,a=e.disabled,i=e.size,l=e.onClick,r=e.rounded,c=e.status,u=e.children,d=e.isBold,p=e.dataId,m=e.needAppearance,f=e.className,h=e.getRef,g=m?s.default[n.toLowerCase()]+" "+(r?s.default.rounded:"")+"   "+(u?s.default["button_"+i.toLowerCase()]:s.default[i.toLowerCase()]):""+s.default.default;return o.default.createElement("button",{className:(f||"")+" "+g+" "+(d?s.default.bold:"")+"  ","data-id":a?p+"_disabled":p,disabled:a||"loading"===c.toLowerCase(),onClick:l,type:"button",ref:h},u||t,"none"!==c&&m&&o.default.createElement("div",{className:s.default.overlay},o.default.createElement("div",{className:"loading"===c.toLowerCase()?s.default.loading:s.default.success},o.default.createElement("div",{className:s.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:l.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:i.default.node,className:i.default.string,dataId:i.default.string,disabled:i.default.bool,getRef:i.default.func,isBold:i.default.bool,needAppearance:i.default.bool,onClick:i.default.func,palette:i.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:i.default.bool,size:i.default.oneOf(["small","medium","large","xlarge"]),status:i.default.oneOf(["loading","success","none"]),text:i.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/Label/Label.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(n("../components/lib/Label/Label.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.type,a=e.palette,i=e.size,l=e.clipped,r=e.name,c=e.title,u=e.onClick,d=e.dataId;return o.default.createElement("label",{className:s.default.label+" "+s.default[n]+" "+s.default[i]+" "+s.default[a]+"\n          "+(l?s.default.dotted:"")+" "+(u?s.default.pointer:s.default.cursor),name:r,"data-title":c,"data-id":d,onClick:u},t)}}]),t}();t.default=r,r.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},r.propTypes={clipped:i.default.bool,dataId:i.default.string,name:i.default.string,onClick:i.default.func,palette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:i.default.oneOf(["small","medium","large"]),text:i.default.string,title:i.default.string,type:i.default.oneOf(["title","subtitle"])},r.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/ListItem/ListItemWithAvatar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=n("../components/lib/Layout/index.js"),l=d(n("../components/lib/ListItem/ListItem.module.css")),r=d(n("../components/lib/Avatar/Avatar.js")),c=d(n("../components/lib/AvatarTeam/AvatarTeam.js")),u=d(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.getRef=n.getRef.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"getRef",value:function(e){this.ele=e;var t=this.props,n=t.index,a=t.getRef,o=t.id;a&&a(e,n,o)}},{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,a=t.id,o=t.value,i=t.index;n&&n(a,o,i,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,n=t.onMouseEnter,a=t.id,o=t.value,i=t.index;n&&n(a,o,i,e)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.size),n=e.active,a=e.highlight,i=e.value,d=e.name,p=e.imgSrc,m=e.autoHover,f=e.isTeam,h=e.palette,g=e.title,v=e.needTick,b=e.isTick,y=e.dataId;return o.default.createElement(s.Container,{isCover:!1,align:"vertical",alignBox:"row",className:l.default.list+" "+l.default[t]+"  "+l.default[h]+"  "+(n?l.default.active:b?l.default.selected:a?l.default.hover:"")+" "+(m?l.default.effect:"")+" "+(v?l.default.withTick:null),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,eleRef:this.getRef,tagName:"li",dataId:(i||y)+"_ListItemWithAvatar"},d||p?o.default.createElement(s.Box,{className:l.default.left},f?o.default.createElement(c.default,{name:d,size:"xsmall",src:p}):o.default.createElement(r.default,{name:d,size:"xsmall",src:p})):null,i?o.default.createElement(s.Box,{flexible:!0,shrink:!0,"data-title":g,className:l.default.value},i):null,b?o.default.createElement("div",{className:l.default.tickIcon},o.default.createElement(u.default,{name:"ZD-ticknew",size:"10"})):null)}}]),t}();t.default=p,p.defaultProps={active:!1,autoHover:!1,highlight:!1,isTeam:!1,isTick:!1,needTick:!1,palette:"default",size:"medium",value:"List",dataId:"listAvatar"},p.propTypes={active:i.default.bool,autoHover:i.default.bool,dataId:i.default.string,getRef:i.default.func,highlight:i.default.bool,id:i.default.oneOfType([i.default.string,i.default.number]),imgSrc:i.default.string,index:i.default.number,isTeam:i.default.bool,isTick:i.default.bool,name:i.default.string,needTick:i.default.bool,onClick:i.default.func,onMouseEnter:i.default.func,palette:i.default.string,size:i.default.string,title:i.default.string,value:i.default.string},p.propTypesDescription={value:" ",onClick:" ",onMouseEnter:" ",active:" ",highlight:" ",autoHover:" ",getRef:" ",palette:" ",id:" ",index:" ",size:" ",imgSrc:" ",title:" "}},"../components/lib/MultiSelect/EmptyState.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(n("../components/lib/MultiSelect/MultiSelect.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.emptyMessage,n=e.isLoading,a=e.noMoreOptionsMessage,i=e.options,l=e.searchEmptyMessage,r=e.searchString,c=e.suggestions,u=e.dataId;return n?o.default.createElement("div",{className:s.default.message,"data-id":u+"_Loading"},"Loading..."):r.length&&0===c.length?o.default.createElement("div",{className:s.default.message,"data-id":u+"_srchEmptyMsg"},l||t):0===i.length?o.default.createElement("div",{className:s.default.message,"data-id":u+"_noOptnsMsg"},t):o.default.createElement("div",{className:s.default.message,"data-id":u+"_NoMoreOptionMsg"},a||t)}}]),t}();t.default=r,r.propTypes={dataId:i.default.string,emptyMessage:i.default.string,isLoading:i.default.bool,noMoreOptionsMessage:i.default.string,options:i.default.array,searchEmptyMessage:i.default.string,searchString:i.default.string,suggestions:i.default.array},r.defaultProps={dataId:"empty"}},"../components/lib/MultiSelect/MultiSelect.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSelectComponent=void 0;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=O(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=O(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=O(n("../components/lib/Popup/Popup.js")),r=O(n("../components/lib/DropBox/DropBox.js")),c=O(n("../components/lib/TextBox/TextBox.js")),u=O(n("../components/lib/Tag/Tag.js")),d=n("../components/lib/Layout/index.js"),p=n("../components/lib/Card/Card.js"),m=O(p),f=O(n("../components/lib/MultiSelect/Suggestions.js")),h=O(n("../components/lib/MultiSelect/EmptyState.js")),g=O(n("../components/lib/MultiSelect/MultiSelectHeader.js")),v=O(n("../components/lib/MultiSelect/MultiSelect.module.css")),b=O(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),y=n("../components/lib/utils/Common.js"),I=n("../components/lib/utils/dropDownUtils.js");function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var E=[],N=t.MultiSelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,I.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,I.makeFormatOptions)(),n.getSelectedOptions=(0,I.makeGetMultiSelectSelectedOptions)(),n.objectConcat=(0,I.makeObjectConcat)(),n.formatSelectedOptions=(0,I.makeFormatOptions)();var a=n.props,o=a.selectedOptions,i=a.searchDebounceTime,s=void 0===i?500:i,l=n.handleFormatOptions(n.props),r=l.allOptions,c=l.normalizedAllOptions,u=l.normalizedFormatOptions,d=n.handleGetSelectedOptions(o,u,n.props),p=d.formatSelectedOptions,m=d.normalizedSelectedOptions,f=d.selectedOptionIds;return n.state={options:r,optionsNormalize:c,selectedOptions:p,selectedOptionIds:f,searchStr:"",hoverOption:0,isFetchingOptions:!1,highLightedSelectOptions:[],lastHighLightedSelectOption:"",shiftKeyPressHighLighted:0,isActive:!1},n.allSelectedOptionsDetails=m,n.suggestionsOrder=[],n._isMounted=!1,y.bind.apply(n,["handleInputCick","handleFilterSuggestions","handleKeyDown","handleSelectAll","handleDeselectAll","handleSelectOption","handleRemoveOption","handleSearch","handleClickSelectedOption","handleChange","handlePopupClose","togglePopup","selectedOptionRef","searchInputRef","suggestionContainerRef","suggestionItemRef","selectedOptionContainerRef","handleActive","handleInactive","handleMouseEnter","handleFetchOptions","handleFormatOptions","handleGetSelectedOptions","handleComponentDidUpdate","handleInputFocus","handleExposedPublicMethods"]),n.handleSearchOptions=(0,y.debounce)(n.handleSearchOptions.bind(n),s),n.handleScroll=n.handleScroll.bind(n),n.handleScrollFuncCall=(0,y.debounce)(n.handleScrollFuncCall.bind(n),500),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.handleExposedPublicMethods()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.selectedOptions,a=e.options,o=e.valueField,i=e.textField,s=this.props;if(n!==s.selectedOptions||a!==s.options||o!==s.valueField||i!==s.textField){var l=this.handleFormatOptions(e),r=l.allOptions,c=l.normalizedAllOptions,u=l.normalizedFormatOptions,d=this.allSelectedOptionsDetails,p=Object.assign(d,u),m=this.handleGetSelectedOptions(n,p,e),f=m.formatSelectedOptions,h=m.normalizedSelectedOptions,g=m.selectedOptionIds;this.allSelectedOptionsDetails=Object.assign(d,h),this.setState({options:r,optionsNormalize:c,selectedOptions:f,selectedOptionIds:g},function(){var e=t.state.hoverOption,n=t.handleFilterSuggestions(),a=n.length,o=(n[e]||{}).id,i=(0,y.getIsEmptyValue)(o)?a?a-1:0:e;t.setState({hoverOption:i})})}}},{key:"componentDidUpdate",value:function(e,t){var n=this.suggestionContainer,a=this.selectedOptionContainer,o=this.suggestionsOrder,i=this.state,s=i.hoverOption,l=i.highLightedSelectOptions,r=i.selectedOptions,c=i.searchStr,u=this.props,d=u.needLocalSearch,p=u.isPopupOpen,m=u.onDropBoxClose,f=u.onDropBoxOpen;e.isPopupOpen!==p&&(p&&f&&this.handleFetchOptions(f,c),p||(this.setState({hoverOption:0}),m&&m()));var h=this["suggestion_"+(o[s]||"")],g=this["selectedOption_"+(l.slice(-1).length?l.slice(-1)[0]:r.length?r.slice(-1)[0].id:null)];p&&(0,y.scrollTo)(n,h),r.length&&(0,y.scrollTo)(a,g);var v=this.props,b=v.isNextOptions,I=v.getNextOptions,O=this.handleFilterSuggestions().length;p&&O<=5&&b&&I&&!d&&this.handleFetchOptions(I,c),this.handleComponentDidUpdate(e,t)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleComponentDidUpdate",value:function(){}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField,o=e.prefixText;return this.formatOptions({options:t,valueField:n,textField:a,prefixText:o,optionType:"default"})}},{key:"handleGetSelectedOptions",value:function(e,t){return this.getSelectedOptions({selectedOptions:e,normalizedFormatOptions:t})}},{key:"handleInputCick",value:function(e){this.state.highLightedSelectOptions.length?this.setState({highLightedSelectOptions:[],shiftKeyPressHighLighted:0,lastHighLightedSelectOption:""}):this.togglePopup(e)}},{key:"handleFilterSuggestions",value:function(){var e=this.state,t=e.options,n=void 0===t?E:t,a=e.searchStr,o=void 0===a?"":a,i=this.props,s=i.selectedOptions,l=i.needLocalSearch,r=this.getFilterSuggestions({options:n,selectedOptions:s,searchStr:o.replace(/\s+/g,"").toLowerCase(),needSearch:l}),c=r.suggestions,u=r.suggestionIds;return this.suggestionsOrder=u,c}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=e.ctrlKey,o=e.metaKey,i=e.shiftKey,s=[],l=this.state,r=l.hoverOption,c=l.searchStr,u=l.highLightedSelectOptions,d=l.lastHighLightedSelectOption,p=l.shiftKeyPressHighLighted,m=l.selectedOptionIds,f=this.props,h=f.isNextOptions,g=f.getNextOptions,v=f.isPopupOpen,b=f.isPopupOpenOnEnter,I=f.onKeyDown,O=u.length;!v||38!==t&&40!==t&&13!==t&&27!==t||(s=this.handleFilterSuggestions()),v||b||I&&I(e),v||40!==t||(e.preventDefault(),this.togglePopup(e));var E=s.length;if(E&&v&&38===t)r&&this.setState({hoverOption:r-1});else if(E&&v&&40===t)h&&E>=5&&r===E-3?(g&&this.handleFetchOptions(g,c),this.setState({hoverOption:r+1})):E-1>r&&this.setState({hoverOption:r+1});else if(13===t){var N=(s[r]||{}).id;v&&!(0,y.getIsEmptyValue)(N)&&this.handleSelectOption(N,e),!v&&b&&this.togglePopup(e)}else if(m.length&&8===t&&!c.length)O?this.handleRemoveOption(u):this.handleRemoveOption(m.slice(-1));else if(m&&65===t&&(n||o)&&!c.length)this.setState({highLightedSelectOptions:m,shiftKeyPressHighLighted:0});else if(39===t&&i&&m.length&&!c.length){var C=d&&m.indexOf(d)>=0?m.indexOf(d):0,x=p||p+1,k=null!==C?m[C+x]:m[0];if(!(0,y.getIsEmptyValue)(k)){var _=d||m[0],T=(u=p?u:[_]).indexOf(k)>=0&&k!==d?u.filter(function(e){return e!==k}):[].concat(S(u),[k]);this.setState({highLightedSelectOptions:T,shiftKeyPressHighLighted:x+1,lastHighLightedSelectOption:_})}}else if(37===t&&i&&m.length&&!c.length){var j=d?m.indexOf(d):m.length-1,P=1!==p?p:p-1,F=m[j+P-1];if(!(0,y.getIsEmptyValue)(F)){var z=d||m.slice(-1)[0],M=(u=p?u:[z]).indexOf(F)>=0&&F!==d?u.filter(function(e){return e!==F}):[].concat(S(u),[F]);this.setState({highLightedSelectOptions:M,shiftKeyPressHighLighted:P-1,lastHighLightedSelectOption:z})}}else if((39===t||37===t)&&m.length&&!c.length){var L=39===t;if(u.length){var D=u.slice(-1),w=a(D,1)[0],A=m.indexOf(w),R=m[L?A===m.length-1?A:A+1:A-1],V=!(!L||1!==u.length||m.slice(-1)[0]!==w);(0,y.getIsEmptyValue)(R)||this.setState({lastHighLightedSelectOption:V?"":R,highLightedSelectOptions:V?[]:[R],shiftKeyPressHighLighted:0})}else{var B=L?m:m.slice(-1),Z=a(B,1)[0];this.setState({lastHighLightedSelectOption:Z,highLightedSelectOptions:[Z],shiftKeyPressHighLighted:0})}}}},{key:"handleSelectAll",value:function(e){e&&e.preventDefault();var t=this.handleFilterSuggestions(),n=this.props.selectedOptions,a=t.map(function(e){return e.id});this.handleChange([].concat(S(n),S(a)))}},{key:"handleDeselectAll",value:function(e){e&&e.preventDefault(),this.state.highLightedSelectOptions.length&&this.setState({highLightedSelectOptions:[],lastHighLightedSelectOption:""}),this.handleChange([])}},{key:"handleSelectOption",value:function(e,t,n,a){var o=this.props.selectedOptions;this.handleChange([].concat(S(o),[e]),a)}},{key:"handleRemoveOption",value:function(e){var t=(0,y.getIsEmptyValue)(e)||Array.isArray(e)?e:[e],n=this.props,a=n.selectedOptions,o=n.isReadOnly,i=this.state,s=i.highLightedSelectOptions,l=i.lastHighLightedSelectOption,r=i.shiftKeyPressHighLighted;if(t.length&&!o){for(var c=a.filter(function(e){return-1===t.indexOf(e)}),u=s.filter(function(e){return c.indexOf(e)>=0}),d=!1,p=t.length,m=0;m<p;m++){var f=t[m];if(s.indexOf(f)>=0){d=!0;break}}this.setState({lastHighLightedSelectOption:c.indexOf(l)>=0&&!d?l:"",highLightedSelectOptions:d?[]:u,shiftKeyPressHighLighted:d?0:r}),this.handleChange(c)}this.searchInput&&this.searchInput.focus()}},{key:"handleMouseEnter",value:function(e,t,n,a){a&&a.preventDefault();var o=this.state.hoverOption,i=this.suggestionsOrder.indexOf(e);i!==o&&this.setState({hoverOption:i})}},{key:"handleFetchOptions",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=n[0],i=n[1],s=this.state.isFetchingOptions,l=this._isMounted;if(!s&&o){this.setState({isFetchingOptions:!0});try{return o(i).then(function(){l&&e.setState({isFetchingOptions:!1})},function(){l&&e.setState({isFetchingOptions:!1})})}catch(e){l&&this.setState({isFetchingOptions:!1})}}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e,t){var n=this,a=this.props,o=a.onSearch;!a.isPopupOpen&&t&&this.togglePopup(t);var i=this.state.searchStr,s=(void 0===i?"":i).toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e},function(){e?s&&o&&n.handleSearchOptions():o&&o("")})}},{key:"handleClickSelectedOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this.props.selectedOptions,a=this.state,o=a.highLightedSelectOptions,i=a.lastHighLightedSelectOption,s=t.metaKey,l=t.ctrlKey,r=t.shiftKey;if(t&&r){var c=n.indexOf(i)>=0?n.indexOf(i):0,u=e&&n.indexOf(e)>=0?n.indexOf(e):null;if(u>=0&&u<c)u=[c,c=u][0];var d=(u+=1)?n.slice(c,u):[];u&&this.setState({highLightedSelectOptions:d,lastHighLightedSelectOption:e})}else if(t&&(l||s)){var p=[];o.indexOf(e)>=0?(i=e===i?"":i,p=o.filter(function(t){return t!==e})):(i=e,p=[].concat(S(o),[e])),this.setState({highLightedSelectOptions:p,lastHighLightedSelectOption:i})}else this.setState({highLightedSelectOptions:[e],lastHighLightedSelectOption:e});this.setState({shiftKeyPressHighLighted:0}),this.searchInput&&this.searchInput.focus()}},{key:"handleScroll",value:function(e){var t=this.props.isNextOptions;e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&t&&this.handleScrollFuncCall()}},{key:"handleScrollFuncCall",value:function(){var e=this.props.getNextOptions,t=this.state.searchStr;e&&e(t)}},{key:"handleChange",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.state.optionsNormalize,a=this.props,o=a.onChange,i=a.needToCloseOnSelect,s=a.togglePopup,l=e.length,r=[],c=0;c<l;c++){var u=e[c];r.push(n[u])}o&&o(e,r),this.setState({searchStr:""}),this.searchInput&&this.searchInput.focus(),i&&s(t)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.defaultDropBoxPosition;!t.isReadOnly&&n(e,a?a+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"searchInputRef",value:function(e){var t=this.props.getRef;this.searchInput=e,t&&t(e)}},{key:"selectedOptionContainerRef",value:function(e){var t=this.props.getTargetRef;this.selectedOptionContainer=e,t(e)}},{key:"selectedOptionRef",value:function(e,t){this["selectedOption_"+t]=e}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"handleActive",value:function(e){var t=this.state,n=t.searchStr;t.isActive||this.setState({isActive:!0});var a=(e||{}).target;a&&a.setSelectionRange(a,0);var o=this.props.onFocus;o&&o(n)}},{key:"handleInactive",value:function(){this.state.isActive&&this.setState({isActive:!1})}},{key:"handleInputFocus",value:function(){var e=this.props,t=e.isDisabled,n=e.isReadOnly;this.searchInput&&!t&&!n&&this.searchInput.focus()}},{key:"handleExposedPublicMethods",value:function(){var e=this.props,t=e.getPublicMethods,n=e.openPopupOnly;t&&t({openPopupOnly:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isReadOnly,a=t.needSelectAll,o=t.searchEmptyMessage,s=t.emptyMessage,l=t.noMoreOptionsMessage,y=t.dropBoxSize,I=t.placeHolder,O=t.isPopupOpen,S=t.isPopupReady,E=t.position,N=t.defaultDropBoxPosition,C=t.selectAllText,x=t.getContainerRef,k=t.removeClose,_=t.isAnimate,T=t.animationStyle,j=t.textBoxSize,P=t.variant,F=t.size,z=t.isDisabled,M=t.title,L=t.portalId,D=t.dataId,w=t.isSearching,A=this.state,R=A.selectedOptions,V=A.searchStr,B=A.hoverOption,Z=A.highLightedSelectOptions,H=A.options,G=A.isFetchingOptions,K=A.isActive,U=this.handleFilterSuggestions();return i.default.createElement("div",{className:v.default.wrapper+" "+(z?v.default.disabled:"")+" "+(n?v.default.readOnly:""),"data-id":""+(z?D+"_disabled":n?D+"_readOnly":D),"data-title":z?M:"",onClick:this.handleInputFocus},i.default.createElement(d.Container,{align:"vertical",alignBox:"row",className:v.default.container+" "+v.default[F]+" "+(K?v.default.active:""),eleRef:this.selectedOptionContainerRef,wrap:!0},R.map(function(t){var a=t.id,o=t.value;return i.default.createElement(d.Box,{className:v.default.tag,key:a+"tag"},i.default.createElement(u.default,{active:Z.indexOf(a)>=0,getRef:e.selectedOptionRef,id:a,initial:o,onRemove:e.handleRemoveOption,onSelectTag:n?null:e.handleClickSelectedOption,palette:"danger",text:o}))}),i.default.createElement(d.Box,{flexible:!0},i.default.createElement(c.default,{isDisabled:z,inputRef:this.searchInputRef,needBorder:!1,onBlur:this.handleInactive,onChange:this.handleSearch,onClick:this.handleInputCick,onFocus:this.handleActive,onKeyDown:this.handleKeyDown,placeHolder:R.length>=1?"":I,size:j,value:V,variant:P,dataId:D+"_textBox",isReadOnly:n})),!n&&!z&&R.length>1?i.default.createElement(d.Box,{className:v.default.delete,dataId:D+"_clearIcon","data-title":"clear all",onClick:this.handleDeselectAll},i.default.createElement(b.default,{name:"ZD-delete",size:"15"})):null),n||z||!O?null:i.default.createElement(r.default,{animationStyle:T,boxPosition:E||N+"Center",getRef:x,isActive:S,isAnimate:_,isArrow:!1,onClick:k,portalId:L},i.default.createElement(m.default,{className:v.default.box,onScroll:this.handleScroll},i.default.createElement(p.CardHeader,null,i.default.createElement(g.default,{needSelectAll:a,onSelect:this.handleSelectAll,selectAllText:C,suggestions:U,dataId:D})),i.default.createElement(p.CardContent,{className:y?v.default[y]:"",eleRef:this.suggestionContainerRef},w?i.default.createElement("div",{className:v.default.message},"Searching..."):U.length?i.default.createElement(f.default,{suggestions:U,getRef:this.suggestionItemRef,hoverOption:B,onClick:this.handleSelectOption,onMouseEnter:this.handleMouseEnter}):i.default.createElement(h.default,{emptyMessage:s,isLoading:G,noMoreOptionsMessage:l,options:H,searchEmptyMessage:o,searchString:V,suggestions:U,dataId:D})))))}}]),t}();N.propTypes={animationStyle:s.default.string,closePopupOnly:s.default.func,dataId:s.default.string,defaultDropBoxPosition:s.default.oneOf(["bottom","top","left","right"]),dropBoxSize:s.default.oneOf(["small","medium","large"]),emptyMessage:s.default.string.isRequired,getContainerRef:s.default.func,getNextOptions:s.default.func,getPublicMethods:s.default.func,getRef:s.default.func,getTargetRef:s.default.func,isAnimate:s.default.bool,isDisabled:s.default.bool,isNextOptions:s.default.bool,isPopupOpen:s.default.bool,isPopupOpenOnEnter:s.default.bool,isPopupReady:s.default.bool,isReadOnly:s.default.bool,isSearching:s.default.bool,needLocalSearch:s.default.bool,needSelectAll:s.default.bool,needToCloseOnSelect:s.default.bool,noMoreOptionsMessage:s.default.string,onChange:s.default.func.isRequired,onDropBoxClose:s.default.func,onDropBoxOpen:s.default.func,onFocus:s.default.func,onKeyDown:s.default.func,onSearch:s.default.func,openPopupOnly:s.default.func,options:s.default.oneOfType([s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])),s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])}))]).isRequired,placeHolder:s.default.string,portalId:s.default.string,position:s.default.string,prefixText:s.default.string,removeClose:s.default.func,searchDebounceTime:s.default.number,searchEmptyMessage:s.default.string,selectAllText:s.default.string,selectedOptions:s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])).isRequired,size:s.default.oneOf(["medium","xmedium"]),textBoxSize:s.default.oneOf(["small","medium","xmedium"]),textField:s.default.string,title:s.default.string,togglePopup:s.default.func,valueField:s.default.string,variant:s.default.string},N.propTypesDescription={options:" ",placeHolder:" ",onChange:" ",emptyMessage:" ",valueField:" ",textField:" ",onSearch:" ",getRef:" ",onFocus:" ",title:" ",isDisabled:" "},N.defaultProps={animationStyle:"bounce",dataId:"multiSelect",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isAnimate:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needLocalSearch:!0,needSelectAll:!1,needToCloseOnSelect:!1,size:"medium",textBoxSize:"medium",textField:"text",valueField:"id",variant:"default",isSearching:!1},N.displayName="MultiSelect";var C=(0,l.default)(N);C.propTypes=N.propTypes,C.defaultProps=N.defaultProps,t.default=C},"../components/lib/MultiSelect/MultiSelectHeader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=r(n("../components/lib/MultiSelect/MultiSelect.module.css")),l=r(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function r(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.dataId,n=e.needSelectAll,a=e.onSelect,i=e.selectAllText,r=e.suggestions,c=e.isGroupMultiSelect;return r.length>1&&n?o.default.createElement("div",{className:s.default.selectAll+" "+(c?s.default.groupStyle:null),onClick:a,"data-id":t+"_selectAll"},o.default.createElement("span",{className:s.default.selectIcon},o.default.createElement(l.default,{name:"ZD-androidd",size:"18"})),o.default.createElement("span",{className:s.default.selectText},i)):null}}]),t}();t.default=c,c.propTypes={dataId:i.default.string,isGroupMultiSelect:i.default.bool,needSelectAll:i.default.bool,onSelect:i.default.func,selectAllText:i.default.string,suggestions:i.default.array},c.defaultProps={isGroupMultiSelect:!1},c.defaultProps={dataId:"MultiSelectHeader"}},"../components/lib/MultiSelect/Suggestions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=u(n("../components/lib/ListItem/ListItem.js")),l=u(n("../components/lib/ListItem/ListItemWithAvatar.js")),r=u(n("../components/lib/ListItem/ListItemWithIcon.js")),c=n("../components/lib/Layout/index.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.suggestions,n=e.getRef,a=e.hoverOption,i=e.onClick,u=e.onMouseEnter,d=e.needTick,p=e.selectedOptions,m=e.activeId,f=e.hoverId,h=e.dataId,g=e.listItemSize;return o.default.createElement(c.Container,{isCover:!1},o.default.createElement(c.Box,{dataId:h+"_Options"},t.map(function(e,t){var c=e.id,h=e.value,v=e.photoURL,b=e.icon,y=e.optionType,I=e.iconSize,O=!!d&&-1!==p.indexOf(c),S=m===c,E=a===t||c===f;return"avatar"===y?o.default.createElement(l.default,{autoHover:!1,getRef:n,highlight:E,id:c,imgSrc:v,key:c+"avatarListItem",name:h,onClick:i,onMouseEnter:u,value:h,title:h,needTick:d,isTick:O,active:S,size:g}):"icon"===y?o.default.createElement(r.default,{autoHover:!1,getRef:n,highlight:E,id:c,key:c+"iconListItem",onClick:i,onMouseEnter:u,value:h,title:h,iconName:b,needTick:d,isTick:O,active:S,iconSize:I,size:g}):o.default.createElement(s.default,{autoHover:!1,getRef:n,highlight:E,id:c,key:c+"listItem",onClick:i,onMouseEnter:u,value:h,title:h,needTick:d,isTick:O,active:S,dataId:h,size:g})})))}}]),t}();t.default=d,d.propTypes={activeId:i.default.oneOfType([i.default.string,i.default.number]),dataId:i.default.string,getRef:i.default.func,hoverId:i.default.oneOfType([i.default.string,i.default.number]),hoverOption:i.default.number,listItemSize:i.default.oneOf(["small","medium","large"]),needTick:i.default.bool,onClick:i.default.func,onMouseEnter:i.default.func,selectedOptions:i.default.array,suggestions:i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),value:i.default.oneOfType([i.default.string,i.default.number]),photoURL:i.default.string,logo:i.default.string,optionType:i.default.string}))}},"../components/lib/Select/Select.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),i=y(o),s=y(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=y(n("../components/lib/Popup/Popup.js")),r=y(n("../components/lib/DropBox/DropBox.js")),c=y(n("../components/lib/TextBoxIcon/TextBoxIcon.js")),u=y(n("../components/lib/TextBox/TextBox.js")),d=n("../components/lib/Card/Card.js"),p=y(d),m=y(n("../components/lib/MultiSelect/Suggestions.js")),f=y(n("../components/lib/MultiSelect/EmptyState.js")),h=y(n("../components/lib/Select/Select.module.css")),g=y(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),v=n("../components/lib/utils/dropDownUtils.js"),b=n("../components/lib/utils/Common.js");function y(e){return e&&e.__esModule?e:{default:e}}var I=[],O=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,v.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,v.makeFormatOptions)(),n.getSelectedValue=(0,v.makeGetSelectedValueText)(),n.selectedFormatOptions={};var a=e.selectedValue,o=e.searchDebounceTime,i=void 0===o?500:o,s=e.isDefaultSelectValue,l=e.autoSelectDebouneTime,r=void 0===l?350:l,c=e.valueField,u=e.textField,d=n.handleFormatOptions(n.props),p=d.allOptions,m=d.normalizedAllOptions,f=d.optionsOrder,h=d.normalizedFormatOptions,g=n.getSelectedValue({optionsOrder:f,selectedValue:a,normalizedFormatOptions:h,selectedFormatOptions:n.selectedFormatOptions,isDefaultSelectValue:s,valueField:c,textField:u}),y=g.selected,I=g.hoverIndex,O=g.selectedValueDetails,S=g.selectedId;g.isSelfValueChanged;return n.state={selected:y,options:p,optionsNormalize:m,hoverIndex:I,searchStr:"",isFetchingOptions:!1,selectedId:S,selectedValueIndex:I},n.optionsOrder=f,n._isMounted=!1,n.normalizedFormatOptions=h,n.allSelectedOptions=O,n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleFilterSuggestions=n.handleFilterSuggestions.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleFetchOptions=n.handleFetchOptions.bind(n),n.handleGetNextOptions=n.handleGetNextOptions.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleSearchOptions=(0,b.debounce)(n.handleSearchOptions.bind(n),i),n.suggestionContainerRef=n.suggestionContainerRef.bind(n),n.suggestionItemRef=n.suggestionItemRef.bind(n),n.searchInputRef=n.searchInputRef.bind(n),n.valueInputRef=n.valueInputRef.bind(n),n.togglePopup=n.togglePopup.bind(n),n.handleSelectFocus=n.handleSelectFocus.bind(n),n.handleFormatOptions=n.handleFormatOptions.bind(n),n.handlePopupClose=n.handlePopupClose.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n.handleValueInputChange=n.handleValueInputChange.bind(n),n.handleChangeOnType=(0,b.debounce)(n.handleChangeOnType.bind(n),r),n.valueInputTypeString="",n.valueInputSearchString="",n.autoSelectSuggestions=[],n.autoSelectIndex=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,n=e.isDefaultSelectValue,a=e.valueField,o=e.textField,i=this.state.hoverIndex,s=this.handleFormatOptions(e),l=s.allOptions,r=s.normalizedAllOptions,c=s.optionsOrder,u=s.normalizedFormatOptions,d=this.selectedFormatOptions,p=this.getSelectedValue({optionsOrder:c,selectedValue:t,normalizedFormatOptions:u,selectedFormatOptions:d,isDefaultSelectValue:n,valueField:a,textField:o}),m=p.selected,f=p.hoverIndex,h=p.selectedValueDetails,g=p.selectedId;p.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(d,h),this.normalizedFormatOptions=u,this.optionsOrder=c,this.setState({options:l,optionsNormalize:r,selected:m,hoverIndex:i||f,selectedId:g,selectedValueIndex:f})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.suggestionContainer,a=this.optionsOrder,o=this.isSelectWithAvatarComponent,i=this.state,s=i.hoverIndex,l=i.searchStr,r=i.selectedValueIndex,c=this.props,u=c.needLocalSearch,d=c.onDropBoxClose,p=c.onDropBoxOpen,m=c.needSearch,f=c.onSearch,h=c.isPopupOpen,g=this["suggestion_"+((0,b.getIsEmptyValue)(a[s])?"":a[s])];h&&(0,b.scrollTo)(n,g),e.isPopupOpen!==h&&(h?(p&&this.handleFetchOptions(p,l),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(m&&this.valueInput&&this.valueInput.focus(),d&&d(),f&&f(""),this.setState({searchStr:o?l:"",hoverIndex:r})));var v=this.props,y=v.isNextOptions,I=v.getNextOptions,O=(h?this.handleFilterSuggestions():[]).length;h&&O<=5&&y&&I&&!u&&this.handleFetchOptions(I,l)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField;return this.formatOptions({options:t,valueField:n,textField:a})}},{key:"handleChange",value:function(e,t,n,a){a&&a.preventDefault&&a.preventDefault();var o=this.props,i=o.onChange,s=o.isReadOnly,l=this.state.optionsNormalize;!s&&i&&i(e,l[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(a)}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.onChange,a=t.isPopupOpen,o=t.onKeyDown,i=t.isPopupOpenOnEnter,s=this.state,l=s.hoverIndex,r=s.optionsNormalize,c=this.handleFilterSuggestions(),u=e.keyCode;if(a||i||o&&o(e),a&&(38===u||40===u)&&e.preventDefault?e.preventDefault():a||40!==u||(e.preventDefault(),this.togglePopup(e)),38===u&&a&&c.length)0===l||(l-=1),this.setState({hoverIndex:l});else if(40===u&&a&&c.length)l===c.length-1||(l===c.length-3&&this.handleGetNextOptions(),l+=1),this.setState({hoverIndex:l});else if(13===u){var d=(c[l]||{}).id;a&&!(0,b.getIsEmptyValue)(d)&&n&&(n(d,r[d]),this.handlePopupClose(e)),!a&&i&&this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,n=this.state.searchStr,a=void 0===n?"":n,o=this.props.onSearch,i=a.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?i&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,n=this.optionsOrder.indexOf(e);t!==n&&this.setState({hoverIndex:n})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,n=e.excludeOptions,a=void 0===n?I:n,o=e.needSearch,i=this.state,s=i.options,l=void 0===s?I:s,r=i.searchStr;return o&&r&&r.trim().length||a&&a.length?(r=r.toLowerCase().replace(/\s+/g,""),this.getFilterSuggestions({options:l,selectedOptions:a,searchStr:r,needSearch:t}).suggestions):l}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.isFetchingOptions,o=void 0!==a&&a,i=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(n).then(function(){i&&t.setState({isFetchingOptions:!1})},function(){i&&t.setState({isFetchingOptions:!1})})}catch(e){i&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,n=e.getNextOptions,a=this.state.searchStr;t&&n&&this.handleFetchOptions(n,a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.isReadOnly,o=t.defaultDropBoxPosition;!a&&n(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(){var e=this.valueInput;e&&e.setSelectionRange(e,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"handleValueInputChange",value:function(e){var t=e.which,n=String.fromCharCode(t),a=this.props,o=a.isPopupOpen,i=a.autoSelectOnType;!o&&i&&(this.valueInputTypeString+=(n||"").trim(),this.handleChangeOnType())}},{key:"handleChangeOnType",value:function(){var e=this,t=this.props.excludeOptions,n=void 0===t?I:t,a=this.state.options,o=void 0===a?I:a,i=this.optionsOrder,s=this.valueInputTypeString;this.valueInputTypeString="";var l=function(){var t=(e.autoSelectSuggestions[e.autoSelectIndex]||{}).id;if(!(0,b.getIsEmptyValue)(t)){e.handleChange(t);var n=i.indexOf(t);e.setState({hoverIndex:n})}};if(s&&s===this.valueInputSearchString)this.autoSelectIndex<this.autoSelectSuggestions.length-1?this.autoSelectIndex+=1:this.autoSelectIndex=0,l();else if(s){this.valueInputSearchString=s;var r=this.getFilterSuggestions({options:o,selectedOptions:n,searchStr:s,needSearch:!0,isStartsWithSearch:!0}).suggestions,c=void 0===r?[]:r;this.autoSelectIndex=0,this.autoSelectSuggestions=c,l()}}},{key:"render",value:function(){var e=this.props,t=e.needSearch,n=e.dropBoxSize,a=e.emptyMessage,o=e.searchEmptyMessage,s=e.needBorder,l=e.needSelectDownIcon,v=e.position,b=e.defaultDropBoxPosition,y=e.getTargetRef,I=e.getContainerRef,O=e.isPopupOpen,S=e.removeClose,E=e.isPopupReady,N=e.animationStyle,C=e.textBoxSize,x=e.textBoxVariant,k=e.searchBoxSize,_=e.searchBoxPlaceHolder,T=e.maxLength,j=e.isDisabled,P=e.title,F=e.size,z=e.placeHolder,M=e.className,L=e.portalId,D=e.isReadOnly,w=e.dataId,A=this.state,R=A.hoverIndex,V=A.selected,B=A.searchStr,Z=A.isFetchingOptions,H=A.selectedId,G=A.options,K=this.handleFilterSuggestions();return i.default.createElement("div",{className:h.default.container+" "+h.default["box_"+F]+" ","data-title":j?P:""},i.default.createElement("div",{className:""+(M||""),onClick:j||D?null:this.togglePopup,ref:y,"data-id":""+(j?w+"_disabled":D?w+"_readOnly":w)},l?i.default.createElement(c.default,{isDisabled:j,iconRotated:O,inputRef:this.valueInputRef,maxLength:T,needBorder:s,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:z,isReadOnly:!0,size:C,value:V,variant:x,needReadOnlyStyle:!!D,dataId:w+"_textBox",isClickable:!D&&!j,className:D||j?"":h.default.input,needEffect:!j,onKeyPress:this.handleValueInputChange},i.default.createElement("div",{className:h.default.arrowIcon,"data-id":w+"_downIcon"},i.default.createElement(g.default,{name:"ZD-blockDownArrow",size:"8"}))):i.default.createElement(u.default,{isDisabled:j,inputRef:this.valueInputRef,maxLength:T,needBorder:s,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:z,isReadOnly:!0,needEffect:!j,size:C,value:V,variant:x,needReadOnlyStyle:!!D,dataId:w+"_textBox",isClickable:!D&&!j,onKeyPress:this.handleValueInputChange})),D||j||!O?null:i.default.createElement(r.default,{animationStyle:N,boxPosition:v||b+"Center",getRef:I,isActive:E,isAnimate:!0,isArrow:!1,onClick:S,portalId:L,dataId:w+"_suggestions"},i.default.createElement(p.default,{className:h.default.box,onScroll:this.handleScroll},t?i.default.createElement(d.CardHeader,null,i.default.createElement("div",{className:h.default.search+" "+h.default[F]},i.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:T,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:_,size:k,value:B,onClear:this.handleClearSearch,dataId:w+"_search"}))):null,i.default.createElement(d.CardContent,{className:n?h.default[n]:"",eleRef:this.suggestionContainerRef,dataId:w+"_Options"},K.length?i.default.createElement(m.default,{activeId:H,suggestions:K,getRef:this.suggestionItemRef,hoverOption:R,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):i.default.createElement(f.default,{emptyMessage:a,isLoading:Z,options:G,searchEmptyMessage:o,searchString:B,suggestions:K,dataId:w})))))}}]),t}();O.propTypes={animationStyle:s.default.string,autoSelectDebouneTime:s.default.number,autoSelectOnType:s.default.bool,className:s.default.string,closePopupOnly:s.default.func,dataId:s.default.string,defaultDropBoxPosition:s.default.oneOf(["bottom","top","left","right"]),dropBoxSize:s.default.oneOf(["small","medium","large"]),emptyMessage:s.default.string,excludeOptions:s.default.array,getContainerRef:s.default.func,getNextOptions:s.default.func,getRef:s.default.func,getTargetRef:s.default.func,isDefaultSelectValue:s.default.bool,isDisabled:s.default.bool,isNextOptions:s.default.bool,isPopupOpen:s.default.bool,isPopupOpenOnEnter:s.default.bool,isPopupReady:s.default.bool,isReadOnly:s.default.bool,maxLength:s.default.string,needBorder:s.default.bool,needLocalSearch:s.default.bool,needSearch:s.default.bool,needSelectDownIcon:s.default.bool,onChange:s.default.func.isRequired,onDropBoxClose:s.default.func,onDropBoxOpen:s.default.func,onKeyDown:s.default.func,onSearch:s.default.func,options:s.default.oneOfType([s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])),s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])}))]).isRequired,placeHolder:s.default.string,portalId:s.default.string,position:s.default.string,removeClose:s.default.func,searchBoxPlaceHolder:s.default.string,searchBoxSize:s.default.string,searchDebounceTime:s.default.number,searchEmptyMessage:s.default.string,selectedValue:s.default.oneOfType([s.default.oneOfType([s.default.string,s.default.number]),s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])})]),size:s.default.oneOf(["small","medium"]),textBoxSize:s.default.string,textBoxVariant:s.default.string,textField:s.default.string,title:s.default.string,togglePopup:s.default.func,valueField:s.default.string},O.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},O.defaultProps={animationStyle:"bounce",autoSelectOnType:!0,dataId:"selectComponent",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},O.displayName="Select";var S=(0,l.default)(O);S.propTypes=O.propTypes,S.defaultProps=O.defaultProps,t.default=S},"../components/lib/Tag/Tag.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),i=u(o),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),l=u(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),r=u(n("../components/lib/Avatar/Avatar.js")),c=u(n("../components/lib/Tag/Tag.module.css"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.handleRemove=n.handleRemove.bind(n),n.getRef=n.getRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"handleSelect",value:function(e){var t=this.props,n=t.id,a=t.onSelectTag,o=void 0===a?null:a;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),o&&o(n,e)}},{key:"handleRemove",value:function(e){var t=this.props,n=t.onRemove,a=t.id;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),n&&n(a)}},{key:"getRef",value:function(e){var t=this.props,n=t.getRef,a=t.id;n&&n(e,a)}},{key:"render",value:function(){var e=this.props,t=e.imageURL,n=e.hasAvatar,a=e.text,o=e.onRemove,s=e.initial,u=e.active,d=e.size,p=e.rounded,m=e.palette,f=e.disabled,h=e.closePalette,g=e.onSelectTag,v=e.closeTitle,b=e.dataId,y=e.className,I=e.iconName,O=e.iconSize;return i.default.createElement("div",{className:c.default.container+" "+(u?c.default.selected:"")+" "+(o?c.default.effect:"")+"  "+c.default[d]+" "+(p?c.default.lgRadius:c.default.smRadius)+" "+c.default[m]+" "+(f?c.default.disabled:"")+" "+(g?c.default.pointer:"")+" "+(y||""),"data-id":u?b+"_TagSelected":b+"_Tag",onClick:this.handleSelect,ref:this.getRef},n?i.default.createElement("div",{className:c.default.avatar},i.default.createElement(r.default,{name:s,size:"small",src:t})):null,I?i.default.createElement("div",{className:c.default.icon},i.default.createElement(l.default,{name:I,size:O})):null,i.default.createElement("div",{className:c.default.text,"data-title":a},a),o&&i.default.createElement("div",{className:c.default.close+" "+c.default["close"+h],"data-id":b+"_RemoveTag","data-title":v,onClick:this.handleRemove},i.default.createElement(l.default,{isBold:!0,name:"ZD-close2",size:"8"})))}}]),t}();t.default=d,d.defaultProps={active:!1,closePalette:"danger",hasAvatar:!1,palette:"default",rounded:!0,size:"medium",dataId:"tag"},d.propTypes={active:s.PropTypes.bool,className:s.PropTypes.string,closePalette:s.PropTypes.oneOf(["danger","primary"]),closeTitle:s.PropTypes.string,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,getRef:s.PropTypes.func,hasAvatar:s.PropTypes.bool,iconName:s.PropTypes.string,iconSize:s.PropTypes.string,id:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number]),imageURL:s.PropTypes.string,initial:s.PropTypes.string,onRemove:s.PropTypes.func,onSelectTag:s.PropTypes.func,palette:s.PropTypes.oneOf(["default","danger","secondary","pureDotted","primaryDotted"]),rounded:s.PropTypes.bool,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.number])},d.propTypesDescription={hasAvatar:" ",onRemove:" ",active:" ",onSelectTag:" ",text:" ",imageURL:" ",id:" ",initial:" ",size:" ",rounded:" ",palette:" ",closePalette:" ",disabled:" ",getRef:" ",closeTitle:" "}},"../components/lib/utils/dropDownUtils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetGroupSelectFilterSuggestions=t.makeGetGroupSelectOptions=t.makeObjectConcat=t.makeGetSelectedValueText=t.makeGetMultiSelectSelectedOptions=t.makeFormatOptions=t.extractOptionId=t.optionIdGrouping=t.makeGetMultiSelectFilterSuggestions=t.getPrefixText=t.getOptionType=t.getIconSize=t.getIconName=t.getImageField=t.getTextField=t.getValueField=t.getOptions=t.dummyObj=t.dummyArray=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),s=n("../components/lib/utils/Common.js");function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=t.dummyArray=[],c=t.dummyObj={},u=t.getOptions=function(e){return e.options||r},d=function(e){return e.optionsOrder||r},p=function(e){return e.selectedOptions||r},m=function(e){return e.searchStr||""},f=t.getValueField=function(e){return e.valueField||""},h=t.getTextField=function(e){return e.textField||""},g=t.getImageField=function(e){return e.imageField||""},v=t.getIconName=function(e){return e.iconName||""},b=t.getIconSize=function(e){return e.iconSize||""},y=t.getOptionType=function(e){return e.optionType||""},I=function(e){return e.needSearch},O=function(e){return e.isDefaultSelectValue},S=function(e){return(0,s.getIsEmptyValue)(e.selectedOptionsLength)?"":e.selectedOptionsLength},E=function(e){return e.normalizedFormatOptions||c},N=function(e){return(0,s.getIsEmptyValue)(e.selectedValue)?"":e.selectedValue},C=function(e){return e.selectedFormatOptions||c},x=t.getPrefixText=function(e){return e.prefixText||""},k=function(e){return e.isStartsWithSearch},_=t.makeGetMultiSelectFilterSuggestions=function(){return(0,i.createSelector)([u,p,m,I,k],function(e,t,n,a,o){var i=[],s=[];return e.forEach(function(e){var l=e.id,r=e.value,c=void 0===r?"":r,u=c.replace?c.replace(/\s+/g,"").toLowerCase():c.toString(),d=n.replace(/\s+/g,"").toLowerCase(),p=!a||(o?u.startsWith(d):-1!==u.indexOf(d));-1===t.indexOf(l)&&p&&(i.push(e),s.push(l))}),{suggestions:i,suggestionIds:s}})},T=t.optionIdGrouping=function(e,t){return(0,s.getIsEmptyValue)(e)?"":(0,s.getIsEmptyValue)(t)?e:("number"==typeof t?"Int":"Str")+"_"+t+"_"+("number"==typeof e?"Int":"Str")+"_"+e},j=(t.extractOptionId=function(e){if((0,s.getIsEmptyValue)(e))return{id:""};if("number"==typeof e)return{id:e};var t=e.split&&e.split("_");if(1===t.length)return t[0];if(4===t.length){var n=o(t,4),a=n[0],i=n[1],l=n[2],r=n[3];return{id:r="Int"===l?Number.parseInt(r):r,groupId:i="Int"===a?Number.parseInt(i):i}}},t.makeFormatOptions=function(){return(0,i.createSelector)([u,f,h,g,x,v,b,y],function(e,t,n,o,i,l,r,c){var u=[],d=[],p={},m={};return e.forEach(function(e){if(!(0,s.getIsEmptyValue)(e)){var f=e.valueField,h=e.textField,g=e.imageField,v=e.optionType,b=e.iconName,y=e.iconSize,I="object"===(void 0===e?"undefined":a(e))?e[f||t]:e,O="object"===(void 0===e?"undefined":a(e))?e[h||n]:e,S="object"===(void 0===e?"undefined":a(e))?e[g||o]:"";if(I=(0,s.getIsEmptyValue)(I)?"":T(I,i),-1===d.indexOf(I)&&!(0,s.getIsEmptyValue)(I)&&!(0,s.getIsEmptyValue)(O)){d.push(I);var E={id:I,value:O,optionType:v||c};o&&(E.photoURL=S),(b||l)&&(E.icon=b||l),(y||r)&&(E.iconSize=y||r),m[I]=E,p[I]=e,u.push(E)}}}),{allOptions:u,normalizedAllOptions:p,normalizedFormatOptions:m,optionsOrder:d}})}),P=(t.makeGetMultiSelectSelectedOptions=function(){return(0,i.createSelector)([p,E,S],function(e,t,n){var a=[],o=[],i={};n=(0,s.getIsEmptyValue)(n)?e.length:n;for(var l=0;l<n;l++){var r=e[l],c=(t[r]||{}).id;-1===o.indexOf(c)&&(0,s.getIsEmptyValue)(c)&&!(0,s.getIsEmptyValue)(r)?a.push({id:r,value:r}):-1!==o.indexOf(c)||(0,s.getIsEmptyValue)(c)||(o.push(c),a.push(t[r]),i[c]=t[r])}return{formatSelectedOptions:a,normalizedSelectedOptions:i,selectedOptionIds:o}})},t.makeGetSelectedValueText=function(){return(0,i.createSelector)([d,E,N,C,O,f,h],function(e,t,n,i,l,r,u){var d=e.indexOf(n),p=!1;(0,s.getIsEmptyValue)(n)&&l&&(n=o(e,1)[0],p=!0);var m,f,h,g=Object.assign({},i,t)[n],v=-1!==d?d:0,b=g?(h=g,(f=n)in(m={})?Object.defineProperty(m,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[f]=h,m):c,y=g||c,I=y.value,O=void 0===I?"":I,S=y.id;if((0,s.getIsEmptyValue)(S))if("object"===(void 0===n?"undefined":a(n))){var E=n[r],N=n[u];b={id:E,value:N},O=N,S=E,v=-1!==(d=e.indexOf(S))?d:0}else O=n,S=n;return{selected:O,hoverIndex:v,selectedValueDetails:b,selectedId:S,isSelfValueChanged:p}})},function(e){return e.obj1||c}),F=function(e){return e.obj2||c},z=(t.makeObjectConcat=function(){return(0,i.createSelector)([P,F],function(e,t){return Object.assign({},e,t)})},function(e){return e.groupedOptions||r}),M=j(),L=(t.makeGetGroupSelectOptions=function(){return(0,i.createSelector)([z],function(e){var t=[],n=[],a={},o={},i=[];return e.forEach(function(e){var r=e.options,c=e.id,u=e.name,d=e.valueField,p=e.textField;if(!(0,s.getIsEmptyValue)(c)&&-1===i.indexOf(c)){i.push(c);var m=M({options:r,valueField:d,textField:p,prefixText:c}),f=m.allOptions,h=m.normalizedAllOptions,g=m.normalizedFormatOptions,v=m.optionsOrder;v.length&&(t.push({id:c,name:u,options:f}),n=[].concat(l(n),l(v)),a=Object.assign({},a,h),o=Object.assign({},o,g))}}),{revampedGroups:t,normalizedAllOptions:a,normalizedFormatOptions:o,allOptionIds:n}})},function(e){return e.revampedGroups}),D=_();t.makeGetGroupSelectFilterSuggestions=function(){return(0,i.createSelector)([L,m,I,k],function(e,t,n,a){var o=[],i=[];return e.forEach(function(e){var s=e.options,r=D({options:s,needSearch:n,searchStr:t,isStartsWithSearch:a}),c=r.suggestions,u=r.suggestionIds;u.length&&(o.push(Object.assign({},e,{options:c})),i=[].concat(l(i),l(u)))}),{suggestionGroups:o,suggestionOptionIds:i}})}},"./src/actions/financeInteg/InvoiceActions.js":function(e,t,n){"use strict";(function(e){n.d(t,"n",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"k",function(){return g}),n.d(t,"j",function(){return v}),n.d(t,"B",function(){return b}),n.d(t,"A",function(){return y}),n.d(t,"r",function(){return I}),n.d(t,"b",function(){return O}),n.d(t,"q",function(){return S}),n.d(t,"o",function(){return E}),n.d(t,"f",function(){return N}),n.d(t,"g",function(){return C}),n.d(t,"p",function(){return x}),n.d(t,"m",function(){return k}),n.d(t,"t",function(){return _}),n.d(t,"u",function(){return T}),n.d(t,"s",function(){return j}),n.d(t,"z",function(){return P}),n.d(t,"w",function(){return F}),n.d(t,"d",function(){return z}),n.d(t,"v",function(){return M}),n.d(t,"c",function(){return L}),n.d(t,"x",function(){return D}),n.d(t,"e",function(){return w}),n.d(t,"i",function(){return R}),n.d(t,"h",function(){return V}),n.d(t,"y",function(){return B}),n.d(t,"C",function(){return Z});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),o=n.n(a),i=n("./src/constants/index.js"),s=n("./src/reducers/selector.js"),l=n("./src/actions/index.js"),r=n("./src/fz-i18n/index.js"),c=n("./src/utils/RequestAPI.js"),u=n("./src/utils/Common.js"),d=n("./src/utils/departmentQuery.js"),p=n("./src/reducers/financeSelector.js");function m(e,t,n,a){return{types:Object(u.m)("GETINVOICES"),callAPI:function(o){var s=t&&"all"!=t?"&status="+t:"",l="";"Cases"===e&&(l="&departmentId="+o.module.ticket[n].departmentId);var r="pageNumber="+a+"&deskEntityId="+n+"&deskModuleName="+e+s+l;return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(o)+"/invoices?"+r,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:a}})}}}e.ZInvoice={};var f=function(e,t,n,a){return{types:Object(u.m)("GETESTIMATES"),callAPI:function(o){var s="pageNumber="+a+"&deskEntityId="+n+"&deskModuleName="+e+(t&&"all"!=t?"&status="+t:"");return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(o)+"/estimates?"+s,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:a}})}}},h=function(e){return{type:"CHANGE_FINANCE_ENTITY",data:{entity:e.entity,module:e.module,status:e.status}}};function g(e,t){return{types:Object(u.m)("GETACTIVITY"),callAPI:function(n){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(n)+"/contacts/"+e+"/activity?pageNumber="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[]}})}}}function v(e){return{types:Object(u.m)("DELINKCONTACT"),callAPI:function(t){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(t)+"/contacts/disassociate?deskEntityId="+e,!1,{orgId:t.currentOrgId}).del().then(function(e){return e})}}}function b(e,t){return{types:Object(u.m)("UPDATE_INVOICE_STATUS"),callAPI:function(n){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(n)+"/invoices/"+e,!1,{orgId:n.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function y(e,t){return{types:Object(u.m)("UPDATE_ESTIMATE_STATUS"),callAPI:function(n){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(n)+"/estimates/"+e,!1,{orgId:n.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function I(e){return{types:Object(u.m)("MARKALL_INVOICE_SENT"),callAPI:function(t){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(t)+"/invoices/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}var O=function(){return{type:"CLEAR_SELECTED_FINANCE_ENTITIES"}};function S(e){return{types:Object(u.m)("MARKALL_ESTIMATE_SENT"),callAPI:function(t){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(t)+"/estimates/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}function E(){return{types:Object(u.m)("GET_PAYMENTMETA"),callAPI:function(e){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(e)+"/paymentTermsMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function N(e){return{types:Object(u.m)("CREATE_CONTACT"),callAPI:function(t,n){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(t)+"/contacts",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){return e})}}}function C(e,t){return{types:Object(u.m)("CREATE_CONTACT_MAPPING"),callAPI:function(n,a){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(n)+"/contacts/"+t,!1,{orgId:n.currentOrgId}).patch("",e).then(function(e){return e})}}}function x(e){return{types:Object(u.m)("GET_UNBILLED_TIMEENTRY"),callAPI:function(t){return Object(c.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function k(e){return{types:Object(u.m)("GET_FINACE_ENTITY"),callAPI:function(t){return Object(c.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function _(e,t){return{type:"CHANGE_INVOICE_MODULE",data:{module:e,status:t}}}function T(e){return{type:"CHANGE_INVOICE_STATUS",data:{status:e}}}function j(e){return{type:"SELECT_INVOICE",data:{selectedItem:e}}}function P(){return{type:"RESET_INVOICE_DEFAULT_DATA"}}function F(e){return{type:"OPEN_INVOICE_DETAILS",data:e}}function z(){return{type:"CLOSE_INVOICE_DETAILS"}}function M(e){return{type:"OPEN_INVOICE_IFRAME_FORM",data:e}}function L(){return{type:"CLOSE_INVOICE_IFRAME_FORM"}}function D(e){return{type:"OPEN_INVOICE_FORM",data:e}}function w(){return{type:"CLOSE_INVOICE_FORM"}}var A=function(e){var t=e.integrations,n=Object(s.L)(e),a=i.m[n],l=e.routing.paramMap.moduleId,r=e.module[a.stateKey][l];return{integrations:t,moduleId:l,contactId:"tickets"===n?r.contactId:l,moduleData:r,deskModuleName:a.deskModuleName,orgName:Object(s.U)(e),financeContact:o()("financeInfo.financeContact",e)||{}}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var o=a(),s=A(o),l=s.moduleId,r=s.deskModuleName,m=s.moduleData,f=s.orgName,h=s.financeContact,g=s.integrations;ZInvoice.entityType="invoice",ZInvoice.isDetailView=!1,ZInvoice.includeTimeEntries=!1;var v=function(a){if(!a){ZInvoice.isHasUnbilledTimeEntries=!1,"Cases"===r?(ZInvoice.caseSubject="[## "+m.ticketNumber+" ##] "+m.subject,ZInvoice.caseId=m.id):(ZInvoice.caseSubject="",ZInvoice.caseId="");var i="/support/"+f+"/connectzb?entityType=2&acceptJHTML=true&entityid="+h.id+"&accountType="+Object(p.a)(o);return n(M({isOpen:!0,src:i,openFinance:e}))}ZInvoice.includeTimeEntries=!0,ZInvoice.isHasUnbilledTimeEntries=!0;var s=t.timeEntryIds;return n(D({type:"invoiceForm",data:{isPreferenceOpen:!0,financeContact:h,timeEntryIds:void 0===s?[]:s},accountType:"ENABLED"==g.INVOICE.status?"invoice":"books",entity:"invoice"}))},b=t.timeEntryIds;return(void 0===b?[]:b).length?v(!0):n(function(e,t){var n={Cases:"tickets",Contacts:"contacts",Accounts:"accounts"};return{types:Object(u.m)("HAS_UNBILLED_TIMEENTRY"),callAPI:function(a){var o="Cases"!=t?Object(d.a)(a,!0):"",s=""+i.B+n[t]+"/"+e+"/timeEntry?isBillable=true"+o;return Object(c.a)(s,!1,{orgId:a.currentOrgId}).get().then(function(e){return{hasUnBilledTimeEntry:204!=e.responseStatus&&e.data.some(function(e){return null==e.invoiceId})}})}}}(l,r)).then(function(e){return v(e.data.hasUnBilledTimeEntry)})}},V=function(e){return function(t,n){var a=n(),o=A(a),i=o.moduleData,s=o.deskModuleName,l=o.orgName,r=o.financeContact;return ZInvoice.includeTimeEntries=!1,ZInvoice.isDetailView=!1,ZInvoice.entityType="estimate","Cases"===s?(ZInvoice.caseSubject="[## "+i.ticketNumber+" ##] "+i.subject,ZInvoice.caseId=i.id):(ZInvoice.caseSubject="",ZInvoice.caseId=""),t(M({isOpen:!0,src:"/support/"+l+"/connectzb?entityType=1&acceptJHTML=true&entityid="+r.id+"&accountType="+Object(p.a)(a),openFinance:e}))}},B=function(e,t,n){return function(a,o){var s=o(),d=A(s),m=d.contactId,f=d.deskModuleName,h=d.integrations;return a(function(e,t){return{types:Object(u.m)("SEARCHCONTACTS"),callAPI:function(n){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(n)+"/contacts/search?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}}(m,f)).then(function(o){return o.data&&"contactId"==o.data.matchedBy?a(function(e,t){return{types:Object(u.m)("FINANCECONTACT"),callAPI:function(n){return Object(c.a)(i.B+"zohoFinance/"+Object(p.c)(n)+"/contacts?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}}(m,f)).then(function(){"invoice"===t?a(R(e,n)):"estimate"===t?a(V(e)):e()}):(a(D({type:"invoiceForm",data:204!=o.data.responseStatus?o.data:null,accountType:"ENABLED"==h.INVOICE.status?"invoice":"books",openFinance:e,entity:t})),{isInvoiceInfoOpen:!1})}).catch(function(e){throw a(Object(l.Q)({type:"alert",message:r.h.getI18NValue("support.invoice.integ.email.error")})),e})}},Z=function(e,t,n,a){return function(o,i){ZInvoice.entityId=e;var l=i(),r=Object(s.U)(l),c=Object(p.b)(l),u="/support/"+r+"/connectzb?entityType="+("invoice"==t?"12":"13")+"&acceptJHTML=true&entityid="+e+"&accountType="+Object(p.a)(l);o(F({isOpen:!0,invoiceId:e,type:t,status:n,src:u,permissions:c})),a&&a(),ZInvoice.isShowIframe&&o({type:"CLOSE_INVOICE_IFRAME_FORM"})}}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/actions/financeInteg/zInvoiceInit.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/typeof.js"),o=n.n(a),i=n("./src/actions/financeInteg/InvoiceActions.js"),s=n("./src/reducers/selector.js"),l=n("./src/fz-i18n/index.js"),r=n("./src/actions/index.js"),c=n("./src/constants/index.js"),u=n("./src/utils/Common.js"),d=n("./src/reducers/financeSelector.js"),p=function(t){return function(n,a){function p(){var e=a().financeInfo,t=e.selectedModule,o=e.selectedStatus;"invoices"===ZInvoice.entityType||"invoice"===ZInvoice.entityType?n(Object(i.a)({entity:"invoice",module:t,status:o})):"estimates"!==ZInvoice.entityType&&"estimate"!==ZInvoice.entityType||n(Object(i.a)({entity:"estimate",module:t,status:o})),ZInvoice.saveAndSend=!1,ZInvoice.refreshList=!1}e.ZInvoice.saveAndSend=!0,e.setZFIframeHeight=function(){m()},e.setIFrameHeight=function(){m()},e.scroll=function(){ZInvoice.scrollCont.scrollTop=0},e.csrfParamName="crmcsrfparam",e.csrfToken=Object(u.p)(),e.closeZBInvoiceIFrame=function(){ZInvoice.caseId="";var e=a();ZInvoice.saveAndSend&&!0===ZInvoice.refreshList&&p(),e.invoiceIframeFormInfo.isOpen?n(Object(i.c)()):n(Object(i.d)())},e.procZInvoiceResp=function(e,a,s,c){var u=void 0,d=void 0;try{u=(d="object"===(void 0===e?"undefined":o()(e))?e:jQuery.parseJSON(e)).code}catch(e){return void n(Object(r.Q)({type:"alert",message:l.h.getI18NValue("support.unable.to.process.your.request")}))}ZInvoice.saveAndSend=s,0==u&&(n(Object(r.Q)({type:"success",message:d.message})),ZInvoice.caseId="",ZInvoice.isShowIframe=!0,!0===ZInvoice.refreshList?("invoices"===ZInvoice.entityType||"invoice"===ZInvoice.entityType?n(Object(i.C)(ZInvoice.entityId,"invoice","sent",t)):"estimates"!==ZInvoice.entityType&&"estimate"!==ZInvoice.entityType||n(Object(i.C)(ZInvoice.entityId,"estimate","sent",t)),p(),ZInvoice.refreshList=!1,ZInvoice.saveAndSend=!1):s||(null!=d.estimate&&null!=d.estimate?n(Object(i.C)(d.estimate.estimate_id,"estimate",d.estimate.status,t)):null!=d.invoice&&null!=d.invoice&&n(Object(i.C)(d.invoice.invoice_id,"invoice",d.invoice.status,t)),p())),s&&ZInvoice.processSaveAndSend(d)},ZInvoice.setupDevelopmentURL=function(){},ZInvoice.loadPDF=function(e,t){var n=a(),o=Object(s.U)(n);window.location.href="/support/"+o+"/connectzb?entityType="+e+"&entityid="+t+"&accountType="+Object(d.a)(n)},ZInvoice.downloadZFJsp=function(e,t,o){var l=a(),r="/support/"+Object(s.U)(l)+"/connectzb?acceptJHTML=true&entityid="+t+"&accountType="+Object(d.a)(l);ZInvoice.isDetailView=!1;var u="";o?(ZInvoice.refreshList=!0,u=e?c.y.INVOICE_EMAIL_GET:c.y.ESTIMATE_EMAIL_GET):(ZInvoice.refreshList=!1,u=e?c.y.ZB_INVOICE_EDIT:c.y.ZB_ESTIMATE_EDIT),r+="&entityType="+u,n(Object(i.v)({isOpen:!0,src:r}))},ZInvoice.processSaveAndSend=function(e){var a=!1,o=void 0;e.hasOwnProperty("invoice")?(o=e.invoice.invoice_id,ZInvoice.isShowIframe=!1,n(Object(i.C)(o,"invoice",e.invoice.status,t)),a=!0):e.hasOwnProperty("estimate")&&(o=e.estimate.estimate_id,ZInvoice.isShowIframe=!1,n(Object(i.C)(o,"estimate",e.estimate.status,t))),ZInvoice.downloadZFJsp(a,o,!0)},ZInvoice.getTimeEntryJSON=function(){n(Object(i.x)({type:"invoiceForm",data:{isPreferenceOpen:!0,needJSONresponse:!0},accountType:"invoice",entity:"invoice"}))},ZInvoice.devObject={userParam:null,branchParam:null}}};function m(){if(ZInvoice.iframe){var e=ZInvoice.iframe.contentDocument.getElementsByClassName("body")[0];if(e){var t=e.offsetHeight+100;ZInvoice.iframe.setAttribute("height",t+"px")}}if(ZInvoice.dvIframe){var n=ZInvoice.dvIframe.contentDocument.getElementsByTagName("body")[0];if(n){var a=n.offsetHeight+100;ZInvoice.dvIframe.setAttribute("height",a+"px")}}}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/SVG/images/EmptyAgent.svg":function(e,t){e.exports="//vimalesan.herokuapp.com/hsdk/"+"./fonts/EmptyAgent.5478e6474d5feb1530c5.svg"},"./src/components/Subtab/Loading/Loading.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(i),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),r=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(d),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(m),h=n("./src/components/Subtab/Loading/SubtabLoading.module.css"),g=n.n(h),v=n("../components/lib/Layout/index.js"),b=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),r()(t,[{key:"render",value:function(){return f.a.createElement(v.Container,{alignBox:"row",align:"both",className:g.a.container},f.a.createElement(v.Box,{className:g.a.dot}),f.a.createElement(v.Box,{className:g.a.dot}),f.a.createElement(v.Box,{className:g.a.dot}),f.a.createElement(v.Box,{className:g.a.dot}),f.a.createElement(v.Box,{className:g.a.dot}),f.a.createElement(v.Box,{className:g.a.dot}))}}]),t}(f.a.Component);t.a=b},"./src/components/Subtab/invoice/ContactList/InvoiceContactList.module.css":function(e,t,n){e.exports={headerDiv:"zd-invoicecontactlist-headerDiv zdcef62dc1e6",notAllow:"zd-invoicecontactlist-notAllow",contacHead:"zd-invoicecontactlist-contacHead",invceHL:"zd-invoicecontactlist-invceHL",listCont:"zd-invoicecontactlist-listCont",closeIcon:"zd-invoicecontactlist-closeIcon",headerInfo:"zd-invoicecontactlist-headerInfo",listFooter:"zd-invoicecontactlist-listFooter",createLink:"zd-invoicecontactlist-createLink",contactDetails:"zd-invoicecontactlist-contactDetails",useThis:"zd-invoicecontactlist-useThis",invceName:"zd-invoicecontactlist-invceName",invceMail:"zd-invoicecontactlist-invceMail zd6063afa107"}},"./src/components/Subtab/invoice/EmptyPage/InvoiceEmptyPage.module.css":function(e,t,n){e.exports={closeDiv:"zd-invoiceemptypage-closeDiv",notAllow:"zd-invoiceemptypage-notAllow",closeIcon:"zd-invoiceemptypage-closeIcon",imageDiv:"zd-invoiceemptypage-imageDiv",infoTest:"zd-invoiceemptypage-infoTest",addButton:"zd-invoiceemptypage-addButton",addNew:"zd-invoiceemptypage-addNew",addInfo:"zd-invoiceemptypage-addInfo"}},"./src/components/Subtab/invoice/Form/InvoiceForm.module.css":function(e,t,n){e.exports={bodyDiv:"zd-invoiceform-bodyDiv",header:"zd-invoiceform-header",addformList:"zd-invoiceform-addformList",headerName:"zd-invoiceform-headerName",labelName:"zd-invoiceform-labelName",labelList:"zd-invoiceform-labelList zdbce71b4599 zdccf2edd024"}},"./src/components/Subtab/invoice/Preferences/Preferences.module.css":function(e,t,n){e.exports={addformList:"zd-preferences-addformList",labelName:"zd-preferences-labelName",content:"zd-preferences-content",optionCont:"zd-preferences-optionCont",mandatory:"zd-preferences-mandatory",overlay:"zd-preferences-overlay",notAllow:"zd-preferences-notAllow"}},"./src/components/Subtab/invoice/SelectedContactInfo/SelectedContactInfo.module.css":function(e,t,n){e.exports={contactIfon:"zd-selectedcontactinfo-contactIfon",headingDiv:"zd-selectedcontactinfo-headingDiv",contactName:"zd-selectedcontactinfo-contactName zdbce71b4599 zdccf2edd024 zd6063afa107",mailId:"zd-selectedcontactinfo-mailId",contactDetails:"zd-selectedcontactinfo-contactDetails",booksType:"zd-selectedcontactinfo-booksType",contactIcon:"zd-selectedcontactinfo-contactIcon",booksIcon:"zd-selectedcontactinfo-booksIcon",mailName:"zd-selectedcontactinfo-mailName zd6063afa107",contactNumber:"zd-selectedcontactinfo-contactNumber zd6063afa107",booksName:"zd-selectedcontactinfo-booksName zd6063afa107"}},"./src/containers/Subtab/InvoiceForm/InvoiceForm.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),s=n.n(i),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),p=n.n(d),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),f=n.n(m),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),g=n.n(h),v=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),b=n.n(v),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),I=n.n(y),O=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),S=n.n(O),E=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),N=n("./src/actions/financeInteg/InvoiceActions.js"),C=n("./src/actions/FormAction.js"),x=n("./src/actions/index.js"),k=n("./src/utils/Common.js"),_=n("./src/fz-i18n/index.js"),T=n("./src/reducers/selector.js"),j=n("./src/constants/index.js"),P=n("./src/components/Subtab/invoice/Form/InvoiceForm.module.css"),F=n.n(P),z=n("../components/lib/TextBox/TextBox.js"),M=n.n(z),L=n("../components/lib/Select/Select.js"),D=n.n(L),w=n("../components/lib/Label/Label.js"),A=n.n(w),R=n("./src/utils/EmailValidation.js"),V=n("./src/components/Subtab/invoice/SelectedContactInfo/SelectedContactInfo.module.css"),B=n.n(V),Z=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),H=n.n(Z),G=n("../components/lib/Layout/index.js"),K=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||u()(t)).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this.props.contact,t=e.contactName,n=e.phone,a=e.email,o=e.currencycode;return I.a.createElement(G.Container,{className:B.a.contactIfon,isCover:!1},I.a.createElement(G.Box,{className:B.a.headingDiv},_.h.getI18NValue("support.finance.selected.contact.info")),I.a.createElement(G.Box,{className:B.a.contactName},t),I.a.createElement(G.Box,null,I.a.createElement(G.Container,{className:B.a.mailId,align:"vertical",alignBox:"row"},I.a.createElement(G.Box,{className:B.a.mailIcon},I.a.createElement(H.a,{name:"ZD-chEmail"})),I.a.createElement(G.Box,{flexible:!0,className:B.a.mailName},a))),n?I.a.createElement(G.Box,null,I.a.createElement(G.Container,{className:B.a.contactDetails,align:"vertical",alignBox:"row"},I.a.createElement(G.Box,{className:B.a.contactIcon},I.a.createElement(H.a,{name:"ZD-mobile"})),I.a.createElement(G.Box,{flexible:!0,className:B.a.contactNumber},n))):null,I.a.createElement(G.Box,null,I.a.createElement(G.Container,{className:B.a.booksType,align:"vertical",alignBox:"row"},I.a.createElement(G.Box,{className:B.a.booksIcon},I.a.createElement(H.a,{name:"ZD-books"})),I.a.createElement(G.Box,{flexible:!0,className:B.a.booksName},o))))}}]),t}(I.a.Component),U=K;K.propTypes={contact:S.a.object};var J,W=n("./src/components/Drawer/Drawer.js"),q=n("../components/lib/Button/Button.js"),Y=n.n(q),Q=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||u()(t)).call(this,e)),a=n.props,o=a.contactName,i=a.contactEmail,s=a.currencies,l=a.paymentTerms,r=a.selectedContact,c=a.phoneNumber,d=a.isContactPerson,m=!d&&(""!=o&&""!=i),f=!r&&s.map(function(e){return{key:e.currencyName,value:e.id}}),h=!r&&l.map(function(e){return{key:e.paymentTermLabel,value:e.paymentTerm}});return n.state={isDisabled:m,suggCurrencies:f,suggPaymentTerms:h,contactName:d?"":o,contactEmail:d?"":i,phoneNumber:d?"":c,paymentTerm:h&&h[0].value,currency:f&&f[0].value,actionStatus:"none"},n.onCurrencySelect=n.onCurrencySelect.bind(n),n.onPaymentTermSelect=n.onPaymentTermSelect.bind(n),n.setContactName=n.setContactName.bind(n),n.setPhoneNum=n.setPhoneNum.bind(n),n.setEmail=n.setEmail.bind(n),n.createContact=n.createContact.bind(n),n.createContactPerson=n.createContactPerson.bind(n),n.createContactWithContactPerson=n.createContactWithContactPerson.bind(n),n}return b()(t,e),f()(t,[{key:"onCurrencySelect",value:function(e){this.setState({currency:e})}},{key:"onPaymentTermSelect",value:function(e){this.setState({paymentTerm:e})}},{key:"setContactName",value:function(e){this.setState({contactName:e})}},{key:"setPhoneNum",value:function(e){this.setState({phoneNumber:e})}},{key:"setEmail",value:function(e){this.setState({contactEmail:e})}},{key:"createContact",value:function(){var e=this;if(!/[^0-9a-zA-Z_\+\-\.\$@\?\,\:\'\/\!\P{InBasicLatin}\s]/.test(this.state.phoneNumber)){this.setState({isInvalidPhone:!1});var t=this.state,n=t.currency,a=t.paymentTerm,o=t.contactName,i=t.phoneNumber,s={name:o,currencyId:n,paymentTerm:a};return i&&(s=r()({},s,{phone:i})),this.setState({actionStatus:"loading"}),this.props.createContact(s).then(function(){return e.setState({actionStatus:"none"}),{isSuccess:!0}})}return this.setState({isInvalidPhone:!0}),{isSuccess:!1}}},{key:"createContactPerson",value:function(){var e=this,t=this.props,n=t.createContact,a=t.selectedContact,o=a.id,i=(a.email,{financeContactId:o,contactPerson:{name:this.props.contactName}});this.setState({actionStatus:"loading"}),n(i).then(function(){e.setState({actionStatus:"none"})},function(){e.setState({actionStatus:"none"})})}},{key:"createContactWithContactPerson",value:function(){var e=this,t=this.state,n=t.currency,a=t.paymentTerm,o=t.contactName,i=t.contactEmail,s=t.phoneNumber,l=!0;""==o?(this.setState({isContactNameEmpty:!0}),l=!1):this.setState({isContactNameEmpty:!1}),""==i?(this.setState({isEmailEmpty:!0}),l=!1):Object(R.f)(i)?i==this.props.contactEmail?(this.setState({isEmailEmpty:!1,isInvalidEmail:!1,isEmailIdSame:!0}),l=!1):this.setState({isEmailEmpty:!1,isInvalidEmail:!1,isEmailIdSame:!1}):(this.setState({isEmailEmpty:!1,isInvalidEmail:!0}),l=!1);if(/[^0-9a-zA-Z_\+\-\.\$@\?\,\:\'\/\!\P{InBasicLatin}\s]/.test(this.state.phoneNumber)?(this.setState({isInvalidPhone:!0}),l=!1):this.setState({isInvalidPhone:!1}),l){var r={phone:s,name:o,currencyId:n,paymentTerm:a,email:i,contactPerson:{name:this.props.contactName}};this.setState({actionStatus:"loading"}),this.props.createContact(r).then(function(){e.setState({actionStatus:"none"})},function(){e.setState({actionStatus:"none"})})}}},{key:"render",value:function(){var e=this.props,t=e.closeForm,n=e.accountType,a=e.selectedContact,o=e.isContactPerson,i=e.closeInvoiceForm,s=this.state,l=s.isDisabled,r=s.contactName,c=s.contactEmail,u=s.suggCurrencies,d=s.suggPaymentTerms,p=s.currency,m=s.paymentTerm,f=s.phoneNumber,h=s.isEmailEmpty,g=s.isInvalidEmail,v=s.isEmailIdSame,b=s.isInvalidPhone,y=s.isContactNameEmpty,O=s.actionStatus;return I.a.createElement(I.a.Fragment,null,I.a.createElement(W.c,{title:_.h.getI18NValue("support.finance.add.contact.in.account",["invoice"==n?_.h.getI18NValue("support.invoice.integ.setup.title"):_.h.getI18NValue("support.books.integ.setup.title")]),iconName:"ZD-arrowLeft3",iconSize:"17",onIconClick:t,isIconBold:!0,className:F.a.header}),I.a.createElement(W.a,{className:F.a.bodyDiv,paddingSize:"medium"},a?I.a.createElement(U,{contact:a}):I.a.createElement("div",null,I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("support.community.category.name")),I.a.createElement(M.a,{value:r,isDisabled:l,onChange:this.setContactName}),y?I.a.createElement(A.a,{text:_.h.getI18NValue("support.finance.contact.empty.error"),palette:"mandatory"}):null),I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("crm.label.email.address")),I.a.createElement(M.a,{value:c,isDisabled:l,onChange:this.setEmail}),h||g||v?I.a.createElement(A.a,{text:h?_.h.getI18NValue("support.finance.email.empty.error"):g?_.h.getI18NValue("support.finance.email.pattern.error"):v?_.h.getI18NValue("support.fiannce.same.mail.error"):null,palette:"mandatory"}):null),I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("support.twi.phone.name")),I.a.createElement(M.a,{value:f,onChange:this.setPhoneNum}),b?I.a.createElement(A.a,{text:_.h.getI18NValue("support.finance.phone.pattern.error"),palette:"mandatory"}):null),I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("support.finance.integ.add.contact.currency")),I.a.createElement(D.a,{valueField:"value",textField:"key",options:u,selectedValue:p||u[0].value,onChange:this.onCurrencySelect,needLocalSearch:!0,needSearch:!0,emptyMessage:_.h.getI18NValue("support.label.no.match.found")})),I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("support.finance.integ.add.contact.paymentterms")),I.a.createElement(D.a,{valueField:"value",textField:"key",options:d,selectedValue:m||d[0].value,onChange:this.onPaymentTermSelect,needLocalSearch:!0,needSearch:!0,emptyMessage:_.h.getI18NValue("support.label.no.match.found")}))),o||a?I.a.createElement("div",null,null==a&&I.a.createElement("span",{className:F.a.headerName},_.h.getI18NValue("support.finance.add.as.contactperson")),I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("support.finance.integ.add.contactperson.name")),I.a.createElement(M.a,{value:this.props.contactName,isDisabled:!0})),I.a.createElement("div",{className:F.a.addformList},I.a.createElement("span",{className:F.a.labelName},_.h.getI18NValue("support.finance.integ.add.contact.email")),I.a.createElement(M.a,{value:this.props.contactEmail,isDisabled:!0}))):null),I.a.createElement(W.b,{size:"small",paddingLeftSize:"xmedium"},I.a.createElement(Y.a,{text:_.h.getI18NValue("crm.label.add"),onClick:a?this.createContactPerson:o?this.createContactWithContactPerson:this.createContact,status:O,palette:"primaryFilled"}),I.a.createElement(Y.a,{text:_.h.getI18NValue("support.label.cancel"),onClick:i,palette:"secondary"})))}}]),t}(I.a.Component),$=Q;Q.propTypes=(J={accountType:S.a.string},o()(J,"accountType",S.a.string),o()(J,"closeForm",S.a.func),o()(J,"closeInvoiceForm",S.a.func),o()(J,"contact",S.a.object),o()(J,"contactEmail",S.a.string),o()(J,"contactName",S.a.string),o()(J,"createContact",S.a.func),o()(J,"currencies",S.a.object),o()(J,"isContactPerson",S.a.bool),o()(J,"paymentTerms",S.a.object),o()(J,"phoneNumber",S.a.string),o()(J,"selectedContact",S.a.object),J);var X=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),ee=n.n(X),te=n("./src/components/Subtab/invoice/ContactList/InvoiceContactList.module.css"),ne=n.n(te),ae=n("../components/lib/Card/index.js"),oe=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||u()(t)).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.contacts,a=t.createContactMapping,o=t.matchedBy,i=t.accountType,s=t.deskContactName,l=t.openForm,r=t.closeInvoiceForm,c=t.haveCreateContactPer,u=n.reduce(function(e,t){return!!e.find(function(e){return e.contactName===t.contactName})?e:[].concat(ee()(e),[t])},[]),d="",p="invoice"==i?_.h.getI18NValue("support.invoice.integ.setup.title"):_.h.getI18NValue("support.books.integ.setup.title");d="contactEmail"==o?I.a.createElement(_.c,{i18NKey:"support.finance.integ.multiple.contacts",values:p}):"contactDomain"==o?I.a.createElement("div",null,I.a.createElement(_.c,{i18NKey:"support.finance.contact.bydomain.desc.head",values:p})," ",I.a.createElement("span",{className:ne.a.invceHL},"",s,""),I.a.createElement(_.c,{i18NKey:"support.finance.bydomain.desc.tail"})):I.a.createElement("div",null,I.a.createElement(_.c,{i18NKey:"support.finance.account.bydomain.desc.head",values:p})," ",I.a.createElement("span",{className:ne.a.invceHL},"",s,""),I.a.createElement(_.c,{i18NKey:"support.finance.bydomain.desc.tail"}));var m="contactEmail"==o?I.a.createElement(_.c,{i18NKey:"support.integ.multiple.contacts.title",values:p}):I.a.createElement(_.c,{i18NKey:"support.finance.select.contact.create",values:p});return I.a.createElement(ae.Card,null,I.a.createElement(ae.CardHeader,null,I.a.createElement(G.Container,{alignBox:"row"},I.a.createElement(G.Box,{className:ne.a.headerDiv},I.a.createElement("div",{className:ne.a.contacHead},m),I.a.createElement("div",{className:ne.a.headerInfo},d)),I.a.createElement(G.Box,{className:ne.a.closeIcon,onClick:r},I.a.createElement(H.a,{name:"ZD-close2"})))),I.a.createElement(ae.CardContent,null,I.a.createElement("div",{className:ne.a.listCont},u.map(function(t,n){var i=t.contactName,s=t.email,l=t.currencycode;return I.a.createElement("div",{className:ne.a.contactDetails+" "+(c?"":ne.a.notAllow),"data-title":c?null:_.h.getI18NValue("support.finance.permission.not.allow"),onClick:c?a.bind(e,t):null,key:n},I.a.createElement("span",{className:ne.a.useThis},"contactEmail"==o?_.h.getI18NValue("suport.integ.jira.link.issue.button"):_.h.getI18NValue("suport.finance.integ.use.this")),I.a.createElement("div",{className:ne.a.invceName},i),I.a.createElement("div",{className:ne.a.invceMail},s),I.a.createElement("div",{className:ne.a.invceMail},l))}))),"contactEmail"!=o?I.a.createElement(ae.CardFooter,{className:ne.a.listFooter},_.h.getI18NValue("support.finance.contact.ignore"),I.a.createElement("span",{className:ne.a.createLink+" "+(c?"":ne.a.notAllow),"data-title":c?null:_.h.getI18NValue("support.finance.permission.not.allow"),onClick:c?l:null},_.h.getI18NValue("support.finance.new.contact"))," ",_.h.getI18NValue("crm.label.lowercase.or"),I.a.createElement("span",{className:ne.a.createLink+" "+(c?"":ne.a.notAllow),"data-title":c?null:_.h.getI18NValue("support.finance.permission.not.allow"),onClick:c?l.bind(this,"contactPerson"):null},_.h.getI18NValue("support.finance.new.contactperson")),I.a.createElement(_.c,{i18NKey:"support.finance.in",values:p})):null)}}]),t}(I.a.Component),ie=oe;oe.propTypes={accountType:S.a.string,closeInvoiceForm:S.a.func,contacts:S.a.array,createContactMapping:S.a.func,deskContactName:S.a.string,haveCreateContactPer:S.a.bool,matchedBy:S.a.string,openForm:S.a.func};var se=n("./src/components/Subtab/invoice/EmptyPage/InvoiceEmptyPage.module.css"),le=n.n(se),re=n("./src/components/SVG/SVG.js"),ce=n("./src/components/SVG/images/EmptyAgent.svg"),ue=n.n(ce),de=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||u()(t)).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){return I.a.createElement(re.a,{viewBox:"0 0 298 123.5",name:"agent"},I.a.createElement("image",{xlinkHref:ue.a,height:"100%",width:"100%"}))}}]),t}(I.a.Component);var pe=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||u()(t)).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.openForm,n=e.closeInvoiceForm,a=e.haveCreateContactPer;return I.a.createElement("div",{className:le.a.emptyCont},I.a.createElement("div",{className:le.a.closeDiv,onClick:n},I.a.createElement("span",{className:le.a.closeIcon},I.a.createElement(H.a,{name:"ZD-close",size:"26"}))),I.a.createElement("div",{className:le.a.imageDiv},I.a.createElement(de,null)),I.a.createElement("div",{className:le.a.textContent},I.a.createElement("div",{className:le.a.infoTest},_.h.getI18NValue("support.finance.integ.nomatching.contacts",[_.h.getI18NValue("support.invoice.integ.setup.title")])),I.a.createElement("div",{className:le.a.addButton+" "+(a?"":le.a.notAllow),"data-title":a?null:_.h.getI18NValue("support.finance.permission.not.allow")},I.a.createElement(Y.a,{disabled:!a,text:_.h.getI18NValue("support.finance.integ.add.contact"),palette:"primaryFilled",onClick:t})),I.a.createElement("div",{className:le.a.addNew+" "+(a?"":le.a.notAllow),"data-title":a?null:_.h.getI18NValue("support.finance.permission.not.allow")},_.h.getI18NValue("crm.label.lowercase.or"),I.a.createElement("span",{className:le.a.addInfo,onClick:a?t.bind(this,"contactPerson"):null},_.h.getI18NValue("support.finance.integ.contactperson.link")))))}}]),t}(I.a.Component),me=pe;pe.propTypes={closeInvoiceForm:S.a.func,haveCreateContactPer:S.a.bool,openForm:S.a.func};var fe=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),he=n.n(fe),ge=n("../components/lib/MultiSelect/MultiSelect.js"),ve=n.n(ge),be=n("./src/components/Subtab/invoice/Preferences/Preferences.module.css"),ye=n.n(be),Ie=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),Oe="1",Se="2",Ee="3",Ne="4",Ce=Oe,xe=Se,ke=Ee,_e=Ne,Te=Oe,je=Se,Pe=Ee,Fe=Ne,ze="1",Me="0",Le="5",De="3",we="2",Ae=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||u()(t)).call(this,e)),a=!(!e.timeEntryIds||!e.timeEntryIds.length);return n.state={selectedBill:a?Le:ze,selectedSort:je,nameOptions:[],selectedNames:[],descOptions:[],selectedDesc:[]},n.constructBillOptions=n.constructBillOptions.bind(n),n.sortPreference=n.sortPreference.bind(n),n.onNextClick=n.onNextClick.bind(n),n}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.sortPreference(je)}},{key:"sortPreference",value:function(e){var t=this,n=this.props,a=n.moduleMeta,i=n.deskModuleName,s=n.getMyForm,l=n.ticketDept,r=function(e,t,n){var a,i,s,l=he()("tickets.singularLabel",e),r=he()("tasks.singularLabel",e),c=he()("contacts.singularLabel",e),u=he()("accounts.singularLabel",e),d=_.h.getI18NValue,p=[{id:"caseNum",name:d("support.module.number",l)},{id:"caseSub",name:d("support.module.subject",l)},{id:"totalDuration",name:d("support.integ.timeentry.total.duration")},{id:"totalAdditionalCost",name:d("support.integ.timeentry.total.additional.cost")},{id:"caseorTaskSub",name:d("support.two.module.subject",[l,r])},{id:"accountName",name:d("support.module.name",u)},{id:"accountEmail",name:d("support.module.name",u)},{id:"contactName",name:d("support.module.name",c)},{id:"contactEmail",name:d("support.module.name",c)},{id:"agentName",name:d("support.integ.timeentry.agent.name")},{id:"executedTime",name:d("support.timeentry.detail.executedtime")},{id:"duration",name:d("support.integ.timeentry.duration")},{id:"additionalCost",name:d("support.integ.timeentry.additional.cost")},{id:"description",name:d("crm.dashboard.desc")},{id:"agentcost",name:d("support.timetrack.detailview.agentcost")},{id:"chargeType",name:d("support.module.charge.type",l)}],m=Object(Ie.b)(p,Object(Ie.a)(Object(Ie.c)("fields"))).entities.fields,f={Cases:(a={},o()(a,Ce,{name:["caseNum","caseSub"],desc:["caseSub","totalDuration","totalAdditionalCost"],selectedNames:["caseNum"],selectedDesc:["caseSub"]}),o()(a,xe,{name:["caseNum","caseorTaskSub"],desc:["agentName","executedTime","duration","additionalCost","caseorTaskSub","description","agentcost","chargeType"],selectedNames:["caseNum"],selectedDesc:["agentName","executedTime","duration"]}),o()(a,ke,{name:["agentName","caseNum","caseSub"],desc:["agentName","caseSub","totalDuration","totalAdditionalCost"],selectedNames:["agentName","caseNum"],selectedDesc:["caseSub"]}),a),Contacts:(i={},o()(i,Ce,{name:["contactName","contactEmail"],desc:["totalDuration","totalAdditionalCost"],selectedNames:["contactName"],selectedDesc:["totalDuration"]}),o()(i,xe,{name:["caseNum","caseorTaskSub","accountName","accountEmail","contactName","contactEmail"],desc:["agentName","executedTime","duration","additionalCost","caseNum","caseorTaskSub","description","agentcost","chargeType"],selectedNames:["contactName","caseNum"],selectedDesc:["caseorTaskSub"]}),o()(i,ke,{name:["agentName"],desc:["agentName","totalDuration","totalAdditionalCost"],selectedNames:["agentName"],selectedDesc:[]}),i),Accounts:(s={},o()(s,Ce,{name:["contactName","contactEmail"],desc:["totalDuration","totalAdditionalCost"],selectedNames:["contactName"],selectedDesc:["totalDuration"]}),o()(s,xe,{name:["caseNum","caseorTaskSub","accountName","accountEmail","contactName","contactEmail"],desc:["agentName","executedTime","duration","additionalCost","caseNum","caseorTaskSub","description","agentcost","chargeType"],selectedNames:["contactName","caseNum"],selectedDesc:["caseorTaskSub"]}),o()(s,ke,{name:["agentName"],desc:["agentName","totalDuration","totalAdditionalCost"],selectedNames:["agentName"],selectedDesc:[]}),o()(s,_e,{name:["contactName","contactEmail"],desc:["contactName","contactEmail","totalDuration","totalAdditionalCost"],selectedNames:["contactName"],selectedDesc:[]}),s)}[t][n];return{nameOptions:f.name.map(function(e){return m[e]}),descOptions:f.desc.map(function(e){return m[e]}),selectedNames:f.selectedNames,selectedDesc:f.selectedDesc}}(a,i,e),c=r.nameOptions,u=r.descOptions,d=r.selectedNames,p=r.selectedDesc;"Cases"===i?s("timeEntry",l).then(function(e){var t=he()("data.sections",e)||{},n=t.details,a=void 0===n?{}:n,o=t.ids,i=void 0===o?[]:o,s=(e.data||{}).fieldDetails,l=void 0===s?{}:s;i.map(function(e){var t=a[e].fields;"undefined"!=t&&t.map(function(e){var t=l[e];t.isCustomField&&u.push({id:t.name,name:t.displayLabel})})})}).then(function(){t.setState({descOptions:u,selectedDesc:p})}):this.setState({descOptions:u,selectedDesc:p}),this.setState({selectedSort:e,nameOptions:c,selectedNames:d})}},{key:"constructBillOptions",value:function(){var e=this.props,t=e.moduleMeta,n=e.needJSONresponse,a=e.timeEntryIds,o=t.tickets.pluralLabel.toLowerCase(),i=t.tasks.pluralLabel.toLowerCase(),s=t.timeEntry.pluralLabel.toLowerCase(),l=[{key:_.h.getI18NValue("support.integ.include.all.timeentries",[s,o,i]),id:ze},{key:_.h.getI18NValue("support.integ.include.module.timeentries",[s,o]),id:we},{key:_.h.getI18NValue("support.integ.include.module.timeentries",[s,i]),id:De}];return 0!==a.length?l.unshift({key:_.h.getI18NValue("support.integ.include.selectedTimeEntries",[s]),id:Le}):n||l.splice(3,0,{key:_.h.getI18NValue("support.integ.invoice.none",[s]),id:Me}),l}},{key:"constructInvoiceSortOptions",value:function(){var e=this.props,t=e.deskModuleName,n=e.moduleMeta.contacts.pluralLabel.toLowerCase(),a=[{key:_.h.getI18NValue("support.integ.show.timeentries.individually"),id:je},{key:_.h.getI18NValue("support.integ.singleline.for.ticket"),id:Te},{key:_.h.getI18NValue("support.integ.timeentries.groupby.agents"),id:Pe}];return"Accounts"===t&&a.push({key:_.h.getI18NValue("support.integ.timeentries.groupby.contacts",[n]),id:Fe}),a}},{key:"onNextClick",value:function(){var e=this.state,t=e.selectedBill,n=e.selectedSort,a=e.selectedNames,o=e.selectedDesc,i=this.props.needJSONresponse;t!=Me&&0==a.length?this.setState({errorMessage:_.h.getI18NValue("support.integ.itemname.mandatory")}):(this.setState({errorMessage:null}),this.props.createInvoicePage(t,n,a,o,i))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedBill,a=t.selectedSort,o=t.nameOptions,i=t.selectedNames,s=t.descOptions,l=t.selectedDesc,r=t.errorMessage,c=this.props.haveCreateContactPer;return I.a.createElement(I.a.Fragment,null,I.a.createElement(W.c,{title:_.h.getI18NValue("support.integ.invoice.preference"),paddingSize:"medium"}),I.a.createElement(W.a,{className:ye.a.content,paddingSize:"medium"},I.a.createElement("div",{className:ye.a.addformList},I.a.createElement("span",{className:ye.a.labelName},_.h.getI18NValue("support.integ.invoice.pref.headtitle")),I.a.createElement(D.a,{valueField:"id",textField:"key",options:this.constructBillOptions(),selectedValue:n,onChange:function(t){e.setState({selectedBill:t})}})),I.a.createElement("div",{className:ye.a.optionCont},I.a.createElement("div",{className:ye.a.addformList},I.a.createElement("span",{className:ye.a.labelName},_.h.getI18NValue("support.integ.invoice.sort.data")),I.a.createElement(D.a,{valueField:"id",textField:"key",options:this.constructInvoiceSortOptions(),selectedValue:a,onChange:this.sortPreference})),I.a.createElement("div",{className:ye.a.addformList},I.a.createElement("span",{className:ye.a.labelName+" "+ye.a.mandatory},_.h.getI18NValue("support.integ.show.item.name")),I.a.createElement(ve.a,{valueField:"id",textField:"name",options:o,onChange:function(t){e.setState({selectedNames:t})},selectedOptions:i,needSelectAll:!0,selectAllText:_.h.getI18NValue("support.checkbox.selectall"),emptyMessage:_.h.getI18NValue("support.label.no.more.results")}),r?I.a.createElement(A.a,{text:r,palette:"mandatory"}):null),I.a.createElement("div",{className:ye.a.addformList},I.a.createElement("span",{className:ye.a.labelName},_.h.getI18NValue("support.integ.show.item.desc")),I.a.createElement(ve.a,{valueField:"id",textField:"name",options:s,onChange:function(t){e.setState({selectedDesc:t})},selectedOptions:l,needSelectAll:!0,selectAllText:_.h.getI18NValue("support.checkbox.selectall"),emptyMessage:_.h.getI18NValue("support.label.no.more.results")})),n==Me?I.a.createElement("div",{className:ye.a.overlay}):null)),I.a.createElement(W.b,{size:"small",paddingLeftSize:"xmedium"},I.a.createElement("span",{className:c?"":ye.a.notAllow,"data-title":c?null:_.h.getI18NValue("support.finance.permission.not.allow")},I.a.createElement(Y.a,{disabled:!c,text:_.h.getI18NValue("support.solution.category.next"),onClick:c?this.onNextClick:null,palette:"primaryFilled"})),I.a.createElement(Y.a,{text:_.h.getI18NValue("support.label.cancel"),onClick:this.props.closeInvoiceForm,palette:"secondary"})))}}]),t}(y.Component),Re=Ae;Ae.propTypes={closeInvoiceForm:S.a.func,createInvoicePage:S.a.func,deskModuleName:S.a.string,getMyForm:S.a.func,haveCreateContactPer:S.a.bool,moduleMeta:S.a.object,needJSONresponse:S.a.bool,ticketDept:S.a.string,timeEntryIds:S.a.array};var Ve,Be=n("./src/reducers/financeSelector.js"),Ze=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||u()(t)).call(this,e));return n.state={isFormOpen:!1},n.openForm=n.openForm.bind(n),n.closeForm=n.closeForm.bind(n),n.createContact=n.createContact.bind(n),n.createContactMapping=n.createContactMapping.bind(n),n.createInvoicePage=n.createInvoicePage.bind(n),n.openFinance=n.openFinance.bind(n),n}return b()(t,e),f()(t,[{key:"openForm",value:function(e){var t=this;this.props.getPaymentMeta().then(function(n){t.setState({isFormOpen:!0,paymentData:n.data,isContactPerson:"contactPerson"==e})})}},{key:"closeForm",value:function(){this.setState({isFormOpen:!1,selectedContact:null,isContactPerson:!1})}},{key:"openFinance",value:function(){var e=this.props,t=e.openFinance;(0,e.openInvoiceInfo)(t,e.entity)}},{key:"createContact",value:function(e){var t=this,n=this.props,a=n.contact,o=n.createContact,i=n.closeInvoiceForm,s=n.showMessage,l=n.deskModuleName,c={deskEntityId:a.id,deskModuleName:l};return o(e=r()(e,c)).then(function(){t.openFinance(),i()},function(e){var t=JSON.parse(e.response).message;if(t.includes("Validation failed")){var n=t.split(":")[1];s({type:"alert",message:n})}else s({type:"alert",message:_.h.getI18NValue("support.unable.to.process.your.request")});i()})}},{key:"createContactMapping",value:function(e){var t=this;if("contactEmail"==this.props.data.matchedBy){var n=this.props,a=n.createContactMapping,o=n.closeInvoiceForm,i=n.showMessage,s=n.deskModuleName;a({deskEntityId:this.props.contact.id,deskModuleName:s},e.id).then(function(){t.openFinance(),i({type:"success",message:_.h.getI18NValue("support.finance.integ.contact.mapped")}),o()})}else this.setState({selectedContact:e,isFormOpen:!0})}},{key:"createInvoicePage",value:function(e,t,n,a,o){var i=this.props,l=i.openIframeForm,r=i.orgName,c=i.closeInvoiceForm,u=i.data,d=void 0===u?{}:u,p=i.ticket,m=i.getUnBilledTimeEntryList,f=i.deskModuleName,h=i.moduleId,g=i.accountType,v="";if(0==e)ZInvoice.includeTimeEntries=!0,ZInvoice.entityType="invoices",ZInvoice.isDetailView=!1,p?(ZInvoice.caseSubject="[## "+p.ticketNumber+" ##] "+p.subject,ZInvoice.caseId=p.id):(ZInvoice.caseSubject="",ZInvoice.caseId=""),v="/support/"+r+"/connectzb?entityType=2&acceptJHTML=true&entityid="+d.financeContact.id+"&accountType="+g;else if(ZInvoice.isDetailView=!1,ZInvoice.caseId="",ZInvoice.caseSubject="",o){var b="/support/"+r+"/connectzb";m(b+="?entityType="+j.y.ZB_TIMEENTRY_TO_INVOICE+"&timeEntryIds=0&module="+f+"&entryPreference="+e+"&sortPreference="+t+"&itemNames="+encodeURIComponent(s()(n))+"&itemDescriptions="+encodeURIComponent(s()(a))+"&referenceId="+h+"&accountType="+g).then(function(e){var t=e.data.invoice.line_items;ZInvoice.iframe.contentWindow.InvoiceUtil.updateUnbilledTimeSheets(t)})}else{ZInvoice.includeTimeEntries=!1,ZInvoice.isHasUnbilledTimeEntries=!1;var y=d.timeEntryIds&&0!==d.timeEntryIds.length?""+d.timeEntryIds:"0";v="/support/"+r+"/connectzb?entityType="+j.y.ZB_TIMEENTRY_TO_INVOICE+"&acceptJHTML=true&timeEntryIds="+y+"&module="+f+"&entryPreference="+e+"&sortPreference="+t+"&itemNames="+encodeURIComponent(s()(n))+"&itemDescriptions="+encodeURIComponent(s()(a))+"&referenceId="+h+"&accountType="+g}c(),o||l({isOpen:!0,src:v})}},{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?{}:t,a=e.contact,o=e.accountType,i=e.moduleMeta,s=e.getMyForm,l=e.ticketDept,r=e.deskModuleName,c=e.closeInvoiceForm,u=e.financePermissions.createContact,d=this.state,p=d.isFormOpen,m=d.paymentData,f=void 0===m?{}:m,h=d.selectedContact,g=d.isContactPerson,v="Accounts"===r?a.accountName:Object(k.e)(a.firstName,a.lastName),b=f.currencies,y=f.payment_terms;return p?I.a.createElement($,{closeForm:this.closeForm,currencies:b,paymentTerms:y,contactName:v,contactEmail:a.email,phoneNumber:a.phone,accountType:o,createContact:this.createContact,selectedContact:h,isContactPerson:g,matchedBy:n&&n.matchedBy,closeInvoiceForm:c,haveCreateContactPer:u}):n&&n.isPreferenceOpen?I.a.createElement(Re,{deskModuleName:r,moduleMeta:i,getMyForm:s,ticketDept:l,createInvoicePage:this.createInvoicePage,closeInvoiceForm:c,needJSONresponse:n.needJSONresponse,timeEntryIds:n.timeEntryIds,haveCreateContactPer:u}):n&&n.contacts.length?I.a.createElement(ie,{contacts:n.contacts,matchedBy:n.matchedBy,createContactMapping:this.createContactMapping,accountType:o,deskContactName:v,openForm:this.openForm,closeInvoiceForm:c,haveCreateContactPer:u}):I.a.createElement(me,{openForm:this.openForm,closeInvoiceForm:c,haveCreateContactPer:u})}}]),t}(y.Component);Ze.propTypes=(Ve={accountType:S.a.string},o()(Ve,"accountType",S.a.string),o()(Ve,"closeInvoiceForm",S.a.func),o()(Ve,"contact",S.a.object),o()(Ve,"createContact",S.a.func),o()(Ve,"createContactMapping",S.a.func),o()(Ve,"data",S.a.object),o()(Ve,"deskModuleName",S.a.string),o()(Ve,"entity",S.a.oneOf(["invoice","estimate"])),o()(Ve,"financePermissions",S.a.object),o()(Ve,"getMyForm",S.a.func),o()(Ve,"getPaymentMeta",S.a.func),o()(Ve,"getUnBilledTimeEntryList",S.a.func),o()(Ve,"moduleId",S.a.string),o()(Ve,"moduleMeta",S.a.object),o()(Ve,"openFinance",S.a.func),o()(Ve,"openIframeForm",S.a.func),o()(Ve,"openInvoiceInfo",S.a.func),o()(Ve,"orgName",S.a.string),o()(Ve,"showMessage",S.a.func),o()(Ve,"ticket",S.a.object),o()(Ve,"ticketDept",S.a.string),Ve);t.default=Object(E.connect)(function(e){var t=e.routing.paramMap.moduleId,n=e.moduleMapper[e.routing.paramMap.moduleName],a=j.m[n],o="tickets"===n?e.module.ticket[t]:null,i=e.module[a.stateKey][t],s="tickets"===n?i.contactId:t,l="accounts"===n?e.module.account[s]:e.module.contact[s],r=Object(Be.a)(e),c="tickets"===n?o.departmentId:"";return{accountType:r,moduleId:t,ticket:o,contact:l,moduleMeta:e.moduleMeta,deskModuleName:a.deskModuleName,ticketDept:c,orgName:Object(T.U)(e),financePermissions:Object(Be.b)(e)}},{getPaymentMeta:N.o,createContact:N.f,createContactMapping:N.g,closeInvoiceForm:N.e,openIframeForm:N.v,getMyForm:C.m,showMessage:x.Q,getUnBilledTimeEntryList:N.p,openInvoiceInfo:N.y})(Ze)},"./src/containers/Subtab/InvoiceIframeForm/InvoiceIframeForm.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(i),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),r=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(d),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(m),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(h),v=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),b=n("./src/actions/financeInteg/InvoiceActions.js"),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),I=n.n(y),O=n("./src/containers/Subtab/InvoiceIframeForm/InvoiceIframeForm.module.css"),S=n.n(O),E=n("./src/components/FreezeLayer/FreezeLayer.js"),N=n("./src/components/Subtab/Loading/Loading.js"),C=n("./src/actions/financeInteg/zInvoiceInit.js"),x=function(e){function t(e){s()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.state={src:null},n.onLoad=n.onLoad.bind(n),n}return p()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.invoiceInit)(e.invoiceIframeFormInfo.openFinance),this.setState({isFrameLoaded:!1})}},{key:"componentWillUnmount",value:function(){ZInvoice.iframe=null}},{key:"onLoad",value:function(){this.setState({isFrameLoaded:!0})}},{key:"render",value:function(){var e=this.props,t=e.invoiceIframeFormInfo,n=e.closeIframeForm;return f.a.createElement(E.a,{isActive:!0,animationName:"fade",runOnMount:!0},f.a.createElement("div",{className:S.a.container,ref:function(e){ZInvoice.scrollCont=e}},f.a.createElement("span",{className:S.a.closeIcon,onClick:n},f.a.createElement(I.a,{name:"ZD-close2"})),f.a.createElement("iframe",{src:t.src,style:{width:"100%"},ref:function(e){ZInvoice.iframe=e},onLoad:this.onLoad}),this.state.isFrameLoaded?null:f.a.createElement("div",{className:S.a.loadingCont},f.a.createElement(N.a,null))))}}]),t}(m.Component);x.propTypes={closeIframeForm:g.a.func,invoiceIframeFormInfo:g.a.object,invoiceInit:g.a.func},t.default=Object(v.connect)(function(e){return{invoiceIframeFormInfo:e.invoiceIframeFormInfo}},{closeIframeForm:b.c,invoiceInit:C.a})(x)},"./src/containers/Subtab/InvoiceIframeForm/InvoiceIframeForm.module.css":function(e,t,n){e.exports={container:"zd-invoiceiframeform-container zde09903aedc zdcded585cf4",closeIcon:"zd-invoiceiframeform-closeIcon",loadingCont:"zd-invoiceiframeform-loadingCont"}},"./src/reducers/financeSelector.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var a=function(e){return e.module.profile[e.myInfo.profileId].permissions.financeInteg},o=function(e){return"ENABLED"===e.integrations.INVOICE.status?"invoice":"ENABLED"===e.integrations.BOOKS.status?"books":null},i=function(e){return"ENABLED"===e.integrations.INVOICE.status?"ZohoInvoice":"ENABLED"===e.integrations.BOOKS.status?"ZohoBooks":null}},"./src/utils/EmailValidation.js":function(e,t,n){"use strict";function a(e){e=(e=o(e))?e.trim():e;return/^[\w]([\w\-\.\+\'\&]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(e)}function o(e){var t=e;return-1!==t.indexOf(">")&&-1!==t.indexOf("<")&&(t=t.substring(t.indexOf("<")+1,t.indexOf(">"))),t}function i(e,t){var n=e.trim();if(-1!==n.indexOf(">")&&n.indexOf("<")>0){var a=n;n=n.substring(0,n.indexOf("<")),t||(n=n.replace(/"/g,"")),""==n&&(n=a.substring(a.lastIndexOf("<")+1,a.lastIndexOf(">")))}else n=n.replace(/<|>/g,"");return n}function s(e){var t=0,n=0,o=0,s=(e=e.trim()).indexOf("@",o);if(-1!==s)if(-1!==(o=e.indexOf(",",s))?(n=e.substring(t,o),t=o+1):(n=e.substring(t,e.length),-1),","===n||" "===n)-1;else{if(-1!=n.indexOf(",")){var r=i(n,!0);if(","===r.charAt(r.length-1))return!1;if(!(-1!==r.indexOf('"')&&r.lastIndexOf('"')>0||-1!==r.indexOf("'")&&r.lastIndexOf("'")>0)&&-1!=r.indexOf(",")&&","!=r.substring(0,1))return!1;var c=r.substring(r.indexOf('"')+1,r.lastIndexOf('"'));if(""==c&&(c=r.substring(r.indexOf("'")+1,r.lastIndexOf("'"))),""!=c&&-1==c.indexOf(","))return!1}var u=l(n);if(!a(u=u.trim()))return!1}else if(-1,o<=e.length)return!1;return!0}function l(e){return-1===e.indexOf("<")?e:e.substring(e.lastIndexOf("<")+1,e.lastIndexOf(">"))}function r(e,t){var n=!1,a=-1;if(e.length)for(var o=0;o<e.length;o++){l(e[o])==l(t)&&(n=!0,a=o)}return{isDuplicate:n,index:a}}function c(e){for(var t=[],n=e.indexOf("@"),a=void 0;-1!==n;)-1===(a=e.indexOf(",",n))&&(a=e.length),t.push(e.substring(0,a)),n=(e=e.substring(a+1,e.length)).indexOf("@");return-1===n&&""!==e&&t.push(e),t}n.d(t,"f",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return c})}}]);