(window.deskappJsonp=window.deskappJsonp||[]).push([[110],{"../components/lib/Button/Button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),u=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=s(n("../components/lib/Button/Button.module.css")),l=n("../components/lib/utils/dummyFunction.js");function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette,o=e.disabled,u=e.size,l=e.onClick,s=e.rounded,i=e.status,c=e.children,d=e.isBold,m=e.dataId,p=e.needAppearance,f=e.className,b=e.getRef,g=p?r.default[n.toLowerCase()]+" "+(s?r.default.rounded:"")+"   "+(c?r.default["button_"+u.toLowerCase()]:r.default[u.toLowerCase()]):""+r.default.default;return a.default.createElement("button",{className:(f||"")+" "+g+" "+(d?r.default.bold:"")+"  ","data-id":o?m+"_disabled":m,disabled:o||"loading"===i.toLowerCase(),onClick:l,type:"button",ref:b},c||t,"none"!==i&&p&&a.default.createElement("div",{className:r.default.overlay},a.default.createElement("div",{className:"loading"===i.toLowerCase()?r.default.loading:r.default.success},a.default.createElement("div",{className:r.default.element}))))}}]),t}();t.default=i,i.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:l.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},i.propTypes={children:u.default.node,className:u.default.string,dataId:u.default.string,disabled:u.default.bool,getRef:u.default.func,isBold:u.default.bool,needAppearance:u.default.bool,onClick:u.default.func,palette:u.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:u.default.bool,size:u.default.oneOf(["small","medium","large","xlarge"]),status:u.default.oneOf(["loading","success","none"]),text:u.default.string},i.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"./src/components/Queue/ManageQueueColumn/ManageQueueColumn.module.css":function(e,t,n){e.exports={manabotText:"zd-managequeuecolumn-manabotText",manapoplayer:"zd-managequeuecolumn-manapoplayer",manapopparatxt:"zd-managequeuecolumn-manapopparatxt",manapopaddcolmn:"zd-managequeuecolumn-manapopaddcolmn zd9f3b825ff8",addclmoen:"zd-managequeuecolumn-addclmoen",manabotPos:"zd-managequeuecolumn-manabotPos",managebotPosOpen:"zd-managequeuecolumn-managebotPosOpen",manaDisablePos:"zd-managequeuecolumn-manaDisablePos"}},"./src/components/Queue/QueueColumn/QueueColumn.module.css":function(e,t,n){e.exports={manaopencolmn:"zd-queuecolumn-manaopencolmn",manaopentxt:"zd-queuecolumn-manaopentxt zd6063afa107",curDefault:"zd-queuecolumn-curDefault",curMove:"zd-queuecolumn-curMove",cirplus:"zd-queuecolumn-cirplus",manadelete:"zd-queuecolumn-manadelete",animation:"zd-queuecolumn-animation",active:"zd-queuecolumn-active",channelIcon:"zd-queuecolumn-channelIcon"}},"./src/containers/Queue/ManageQueueContainer.js":function(e,t,n){"use strict";n.r(t);var o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n.n(o),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(u),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),s=n.n(l),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(i),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(p),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(b),S=n("../components/lib/Layout/index.js"),h=n("./src/components/Queue/ManageQueueColumn/ManageQueueColumn.module.css"),_=n.n(h),v=n("./src/components/Queue/QueueColumn/QueueColumn.module.css"),O=n.n(v),I=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),j=n.n(I),C=function(e){function t(e){r()(this,t);var n=c()(this,(t.__proto__||a()(t)).call(this,e));return n.deleteSlotClick=n.deleteSlotClick.bind(n),n}return m()(t,e),s()(t,[{key:"deleteSlotClick",value:function(){this.props.deleteSlotClick(this.props.slotName)}},{key:"render",value:function(){var e=this.props,t=e.columName,n=(e.slotName,e.channelIcon),o=e.needTransition,a=e.needActive,u=e.onclick,r=e.isNeedIcon,l=void 0===r||r,s=e.isDisabledSlot,i=e.eleRef,c=e.iconTitle,d=o?O.a.animation:"",m=a?O.a.active:"",p=s?O.a.curDefault:O.a.curMove;return f.a.createElement("div",{className:O.a.manaopencolmn+" "+d+" "+m+p,key:t,onClick:u,ref:i},l?f.a.createElement("span",{className:O.a.manadelete,onClick:this.deleteSlotClick,"data-title":c},"ZD-delete2"==n?f.a.createElement(j.a,{name:n}):f.a.createElement(j.a,{name:n,iconClass:O.a.channelIcon})):null,t?f.a.createElement("span",{className:O.a.manaopentxt},t):"")}}]),t}(f.a.Component),E=C;C.propTypes={channelIcon:g.a.string,columName:g.a.string,deleteSlotClick:g.a.func,eleRef:g.a.func,iconTitle:g.a.string,isDisabledSlot:g.a.bool,isNeedIcon:g.a.bool,needActive:g.a.bool,needTransition:g.a.bool,onclick:g.a.func,slotName:g.a.string},C.defaultProps={needTransition:!0,needActive:!0};var y=n("../components/lib/Popup/Popup.js"),R=n.n(y),T=n("../components/lib/DropBox/DropBox.js"),q=n.n(T),k=n("../components/lib/ListItem/ListItem.js"),N=n.n(k),A=function(e){function t(){return r()(this,t),c()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.dropList,n=e.togglePopup,o=e.isPopupOpen,a=e.isPopupReady,u=e.position,r=e.getTargetRef,l=e.getContainerRef;return f.a.createElement("div",null,f.a.createElement(E,{columName:"Add Column",needActive:!0,needTransition:!1,channelIcon:"circlePlus",isStaticSlot:!0,onclick:n,eleRef:r}),o?f.a.createElement(q.a,{getRef:l,isActive:a,isArrow:!1,size:"default",boxPosition:u},f.a.createElement("div",null,t.map(function(e,t){return f.a.createElement(N.a,{key:t,value:e.name,onClick:e.onClick})}))):null)}}]),t}(f.a.Component);A.propTypes={dropList:g.a.array,getContainerRef:g.a.func,getTargetRef:g.a.func,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,position:g.a.string,togglePopup:g.a.func};var Q=R()(A),x=n("./src/constants/index.js"),z=n("./src/utils/QueueUtils.js"),M=n("./src/fz-i18n/index.js"),P=n("./node_modules/react-sortable-hoc/dist/commonjs/index.js"),L=n("./src/components/Drawer/Drawer.js"),D=n("../components/lib/Button/Button.js"),U=n.n(D),w=function(e){function t(e){r()(this,t);var n=c()(this,(t.__proto__||a()(t)).call(this,e));return n.state={isSlotUpdated:!1},n.deleteSlotClick=n.deleteSlotClick.bind(n),n.addSlot=n.addSlot.bind(n),n.onSortEnd=n.onSortEnd.bind(n),n}return m()(t,e),s()(t,[{key:"deleteSlotClick",value:function(e){this.setState(function(){return{isSlotUpdated:!0}});var t=this.props.deleteSlotClick;t(e)}},{key:"addSlot",value:function(e,t){this.setState(function(){return{isSlotUpdated:!0}});var n=this.props.addSlot;n(t)}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,o=this.props.onSortEnd;o({oldIndex:t,newIndex:n}),this.setState(function(){return{isSlotUpdated:!0}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerName,o=t.queueIcon,a=t.queueName,u=t.queueMessage,r=t.closeIconClick,l=t.selectedSlots,s=void 0===l?[]:l,i=t.remainingSlots,c=void 0===i?[]:i,d=t.saveButtonClick,m=t.isDisableMode,p={display:"none"},b=x.q[a],g=s.length,h=0==c.length||g>=b.MAX_SLOT_COUNT?p:{},v=g<b.MAX_SLOT_COUNT?p:{},O=b.STATIC_SLOTS,I=this.deleteSlotClick,j="ZD-delete2";s.length<=b.MIN_SLOT_COUNT&&(j="",I=function(){});var C=this.state.isSlotUpdated,E=[];c.forEach(function(t){E.push({id:t,name:Object(z.c)(t,a),onClick:e.addSlot})});var y=b.RE_ORDER;if(m){var R=M.h.getI18NValue("support.queue.crminteg.notenable");return f.a.createElement(S.Container,{className:_.a.manapoplayer},f.a.createElement(L.c,{title:n,iconName:o,iconSize:"17",onClose:r,paddingSize:"small"}),f.a.createElement(L.a,null,f.a.createElement("span",{className:_.a.manapopparatxt},f.a.createElement(S.Box,{scroll:"vertical",flexible:!0,className:_.a.manaDisablePos},R))))}return f.a.createElement(S.Container,{className:_.a.manapoplayer},f.a.createElement(L.c,{title:n,iconName:o,iconSize:"17",onClose:r,paddingSize:"small"}),f.a.createElement("span",{className:_.a.manapopparatxt},u),f.a.createElement("div",{className:_.a.manapopaddcolmn,style:h},f.a.createElement(Q,{dropList:E})),f.a.createElement(L.a,{paddingSize:"small"},f.a.createElement(V,{slotsArray:s,onSortEnd:this.onSortEnd,staticSlots:O,deleteSlotIcon:j,deleteIconClick:I,queueName:a,isReorderEnable:y})),f.a.createElement("div",{className:_.a.manabotText,style:v},"Please delete an existing ticket column before adding a new column"),C&&f.a.createElement("div",null,f.a.createElement(L.b,{size:"small"},f.a.createElement(U.a,{text:"Save",onClick:d,palette:"primaryFilled"}),f.a.createElement(U.a,{text:"Cancel",onClick:r,palette:"secondary"}))))}}]),t}(p.Component),B=w,F=Object(P.SortableElement)(function(e){var t=e.displaySlotName,n=e.slotName,o=e.isStaticSlot,a=e.deleteSlotIcon,u=e.deleteIconClick,r=e.queueName,l=e.isDisabledSlot;return f.a.createElement("div",{className:_.a.addclmoen},f.a.createElement(E,{columName:t,slotName:n,needActive:!1,needTransition:!o,channelIcon:o?"ZD-information57":a,deleteSlotClick:o?function(){}:u,isDisabledSlot:l,iconTitle:o?M.h.getI18NValue("support.request.queue.delete.alert"):void 0,isNeedIcon:r!==x.R.Q_CRM}))}),V=Object(P.SortableContainer)(function(e){var t=e.slotsArray,n=e.staticSlots,o=e.isReorderEnable,a=e.deleteSlotIcon,u=e.deleteIconClick,r=e.queueName;return f.a.createElement("div",null,t.map(function(e,t){var l=-1!==n.indexOf(e),s=!o||l,i=Object(z.c)(e,r);return f.a.createElement(F,{displaySlotName:i,slotName:e,index:t,key:e,isStaticSlot:l,deleteSlotIcon:a,deleteIconClick:u,disabled:s,isDisabledSlot:s,queueName:r})}))});w.propTypes={addSlot:g.a.func,closeIconClick:g.a.func,deleteSlotClick:g.a.func,headerName:g.a.string,onSortEnd:g.a.func,queueIcon:g.a.string,queueMessage:g.a.string,queueName:g.a.string,remainingSlots:g.a.array,saveButtonClick:g.a.func,selectedSlots:g.a.array};n("./src/containers/Queue/ManageQueueContainer.module.css");var G=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),Y=n("./src/reducers/selector.js"),K=n("./src/tickets/actions/queue/index.js"),H=n("./src/utils/manageQueuePopupInfo.js"),X=n("./src/actions/index.js"),Z=function(e){function t(e){r()(this,t);var n=c()(this,(t.__proto__||a()(t)).call(this,e));return n.deleteSlot=n.deleteSlot.bind(n),n.updateSlot=n.updateSlot.bind(n),n.addSlot=n.addSlot.bind(n),n.onSortEnd=n.onSortEnd.bind(n),n.state={selectedSlots:[],remainingSlots:[]},n}return m()(t,e),s()(t,[{key:"filterRemainingSlots",value:function(e,t){var n=[];return e.forEach(function(e,o){-1===t.indexOf(e)&&n.push(e)}),{remainingSlots:n,selectedSlots:t}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getAllSlots,n=e.queueName,o=e.currentSlots.allSlots;0===(void 0===o?[]:o).length&&t(n)}},{key:"componentWillReceiveProps",value:function(e){var t=e.currentSlots,n=t.allSlots;if(n.length>0){var o=this.filterRemainingSlots(n,t.selectedSlots);this.setState(function(e){return{selectedSlots:o.selectedSlots,remainingSlots:o.remainingSlots}})}}},{key:"componentWillMount",value:function(){var e=this.props.currentSlots,t=e.allSlots;if(t.length>0){var n=this.filterRemainingSlots(t,e.selectedSlots);this.setState(function(e){return{selectedSlots:n.selectedSlots,remainingSlots:n.remainingSlots}})}}},{key:"deleteSlot",value:function(e){var t=this.state.selectedSlots.slice(),n=this.state.remainingSlots.slice(),o=t.indexOf(e);-1!==o&&e&&(t.splice(o,1),x.R.Q_DUE===this.props.queueName?n=Object(z.e)(n,e):n.push(e),this.setState(function(e){return{selectedSlots:t,remainingSlots:n}}))}},{key:"addSlot",value:function(e){var t=this.props.queueName,n=this.state.selectedSlots.slice(),o=this.state.remainingSlots.slice(),a=o.indexOf(e);if(x.R.Q_STATUS===t||x.R.Q_PRIORITY===t){o.splice(a,1);var u=n.length-1;n.splice(u,0,e)}else x.R.Q_DUE===t&&(o.splice(a,1),n=Object(z.e)(n,e));this.setState(function(e){return{selectedSlots:n,remainingSlots:o}})}},{key:"updateSlot",value:function(){var e=this.props,t=e.updateQueueSlots,n=e.queueName,o=e.currentSlots,a=e.closeIconClick,u=o.selectedSlots,r=this.state.selectedSlots;r.toString()!==u.toString()?t(n,r).then(function(e){a()}):a()}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex;this.setState(function(e){return{selectedSlots:Object(P.arrayMove)(e.selectedSlots,t,n)}})}},{key:"render",value:function(){var e=this.props,t=e.queueName,n=e.isCrmIntegrated,o=e.closeIconClick,a=this.state,u=a.selectedSlots,r=a.remainingSlots,l=Object(H.a)(t);return f.a.createElement(B,{queueName:t,headerName:l.queueName,queueIcon:l.queueIcon,queueMessage:l.queueMsg,closeIconClick:o,selectedSlots:u,deleteSlotClick:this.deleteSlot,saveButtonClick:this.updateSlot,remainingSlots:r,addSlot:this.addSlot,onSortEnd:this.onSortEnd,isDisableMode:!n&&t===x.R.Q_CRM})}}]),t}(p.Component);Z.propTypes={currentSlots:g.a.object,getAllSlots:g.a.func,push:g.a.func,queueName:g.a.string,updateQueueSlots:g.a.func,closeIconClick:g.a.func};t.default=Object(G.connect)(function(e){var t=e.routing.paramMap.queue,n=e.integrations&&e.integrations.isCrmIntegrated||!1;return{orgId:e.currentOrgId,currentSlots:e.queue[Object(Y.t)(e)][t],queueName:t,updateQueueSlots:e.updateQueueSlots,isCrmIntegrated:n}},{push:X.L,updateQueueSlots:K.g,getAllSlots:K.b})(Z)},"./src/containers/Queue/ManageQueueContainer.module.css":function(e,t,n){e.exports={mg_qhead:"zd-managequeuecontainer-mg_qhead",mg_close:"zd-managequeuecontainer-mg_close",mg_text:"zd-managequeuecontainer-mg_text",mg_inftxt:"zd-managequeuecontainer-mg_inftxt",mg_slotspart:"zd-managequeuecontainer-mg_slotspart",mg_lst:"zd-managequeuecontainer-mg_lst",mg_slotpad:"zd-managequeuecontainer-mg_slotpad"}},"./src/tickets/actions/queue/index.js":function(e,t,n){"use strict";n.d(t,"c",function(){return O}),n.d(t,"d",function(){return I}),n.d(t,"e",function(){return j}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return E}),n.d(t,"g",function(){return y}),n.d(t,"f",function(){return R});var o,a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),u=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),l=n.n(r),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),i=n.n(s),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),d=n.n(c),m=n("./src/utils/RequestAPI.js"),p=n("./src/constants/index.js"),f=n("./src/utils/Common.js"),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),g=n("./src/reducers/selector.js"),S=n("./src/utils/departmentQuery.js"),h=(n("./src/fz-i18n/index.js"),n("./src/utils/QueueUtils.js")),_=p.q.QUEUE_INFO,v=(o={},d()(o,p.R.Q_CRM,"crmContactType"),d()(o,p.R.Q_PRIORITY,p.R.Q_PRIORITY),d()(o,p.R.Q_STATUS,p.R.Q_STATUS),d()(o,p.R.Q_DUE,"dueInMinutes"),o);function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(o,a){return o(function(e){var t=k(e);return{types:Object(f.m)("SLOTS"),callAPI:function(n){return Object(m.a)(t+"?"+Object(S.b)(n),!1,{orgId:n.currentOrgId}).get().then(function(t){return{res:t,depId:Object(g.t)(n),queue:e}})}}}(t)).then(function(){var u=a(),r=Object(g.t)(u),s=u.queue[r][t].selectedSlots,c=Object(h.d)(u.screenMode);s.length<=p.q[t].MIN_SLOT_COUNT&&(c=s.length);var d=Array.apply(void 0,i()(Array(c))).map(function(u,l){return o(e===_.AGENT_Q?C(t,s[l],r,void 0,void 0,n):e===_.TEAMS_Q?j(t,s[l],r,void 0,void 0,n):I(t,s[l],r,void 0,n)).then(function(n){return function e(t,n,o,a,u){var r=a();var l=o.result;if(void 0===l||0===l.length){var s=T(n,r);return void 0!==s&&""!==s?u(t===_.AGENT_Q?C(n,s,o.deptId):t===_.TEAMS_Q?j(n,s,o.deptId):I(n,s,o.deptId)).then(function(o){return e(t,n,o.data,a,u)}):"no more slots"}return"success"}(e,t,n.data,a,o)})});l.a.all(d).then(function(){var u=T(t,a());if(u)return o(e===_.AGENT_Q?C(t,u,r,void 0,void 0,n):e===_.TEAMS_Q?j(t,u,r,void 0,void 0,n):I(t,u,r,void 0,n)).then(function(e){console.log("PreFetch Call back...")})})})}}function I(e,t,n,o,a){var r=function(e,t){var n=q(e,t);return{url:"/api/v1/ticketsByQueue",params:n}}(e,t),l=r.url,s=r.params;return s+="&from="+(o=void 0===o?1:o+1),{payload:{slotName:t,depId:n,queue:e,isRefresh:a},types:Object(f.m)("TICKETS_FOR_SLOT"),callAPI:function(n){return s+=function(e){var t="",n=Object(g.sb)(e);return t+="default"!=n?"&viewId="+n:""}(n),l=l+"?"+Object(S.a)(n)+"&include=contacts,isRead,assignee,team&"+s,Object(m.a)(l,!1,{orgId:n.currentOrgId}).get().then(function(a){var r={};return r=204===a.responseStatus?a:Object(b.b)(a.data,Object(b.a)(Object(b.c)(p.R.TICKET_L,{mapping:{contact:Object(b.c)(p.R.CONTACT_L,{mapping:{account:Object(b.c)(p.R.ACCOUNT_L)}}),assignee:Object(b.c)(p.R.AGENT_L),team:Object(b.c)(p.R.TEAMS_L)}}))),u()({},r,{queue:e,slotName:t,deptId:Object(g.t)(n),from:o})})}}}function j(e,t,n,o,a,r){var l=function(e,t){var n=q(e,t);return{url:"/api/v1/ticketsByTeamQueue",params:n}}(e,t),s=l.url,i=l.params;return i+="&from="+(o=void 0===o?1:o+1),{payload:{slotName:t,depId:n,queue:e,isRefresh:r},types:Object(f.m)("TICKETS_FOR_SLOT"),callAPI:function(n){return i=a?i+"&teamId="+a:i+function(e){var t="",n=e.routing.paramMap.teamId;return n=n||e.myInfo.id,t+="&teamId="+n}(n),s=s+"?"+Object(S.a)(n)+"&include=contacts,isRead,assignee,team&"+i,Object(m.a)(s,!1,{orgId:n.currentOrgId}).get().then(function(a){var r={};return r=204===a.responseStatus?a:Object(b.b)(a.data,Object(b.a)(Object(b.c)(p.R.TICKET_L,{mapping:{contact:Object(b.c)(p.R.CONTACT_L,{mapping:{account:Object(b.c)(p.R.ACCOUNT_L)}}),assignee:Object(b.c)(p.R.AGENT_L),team:Object(b.c)(p.R.TEAMS_L)}}))),u()({},r,{queue:e,slotName:t,deptId:Object(g.t)(n),from:o})})}}}function C(e,t,n,o,a,r){var l=function(e,t){var n=q(e,t);return{url:"/api/v1/ticketsByAgentQueue",params:n}}(e,t),s=l.url,i=l.params;return i+="&from="+(o=void 0===o?1:o+1),{payload:{slotName:t,depId:n,queue:e,isRefresh:r},types:Object(f.m)("TICKETS_FOR_SLOT"),callAPI:function(n){return i=a?i+"&agentId="+a:i+function(e){var t="",n=e.routing.paramMap.agentId;return n=n||e.myInfo.id,t+="&agentId="+n}(n),s=s+"?"+Object(S.a)(n)+"&include=contacts,isRead,assignee,team&"+i,Object(m.a)(s,!1,{orgId:n.currentOrgId}).get().then(function(a){var r={};return r=204===a.responseStatus?a:Object(b.b)(a.data,Object(b.a)(Object(b.c)(p.R.TICKET_L,{mapping:{contact:Object(b.c)(p.R.CONTACT_L,{mapping:{account:Object(b.c)(p.R.ACCOUNT_L)}}),assignee:Object(b.c)(p.R.AGENT_L),team:Object(b.c)(p.R.TEAMS_L)}}))),u()({},r,{queue:e,slotName:t,deptId:Object(g.t)(n),from:o})})}}}function E(e){var t=function(e){var t="mode="+v[e];return{url:"/api/v1/queueSlots",params:t}}(e);return{types:Object(f.m)("ALL_SLOTS"),callAPI:function(n){var o=Object(g.t)(n),a=t.url+"?"+Object(S.a)(n)+"&"+t.params;return Object(m.a)(a,!1,{orgId:n.currentOrgId}).get().then(function(t){return{res:t,depId:o,queue:e}})}}}function y(e,t){var n=k(e);return{types:Object(f.m)("SLOTS"),callAPI:function(o){var a=Object(g.t)(o);return Object(m.a)(n,!1,{orgId:o.currentOrgId}).patch("",d()({},a,t)).then(function(t){return{res:t,depId:a,queue:e}})}}}function R(e){var t=p.q[e].LAST_ACCESS_Q_NAME;return{types:Object(f.m)("UPDATE_LASTACCESS_Q"),callAPI:function(e){var n=Object(g.t)(e);return Object(m.a)("/api/v1/me/lastAccessedQueueView",!1,{orgId:e.currentOrgId}).patch("",d()({},n,t)).then(function(e){var t;return t={},d()(t,n,e),d()(t,"deptId",n),t})}}}function T(e,t){var n=function(e,t){if(t.queue){var n=Object(g.t)(t);return t.queue[n][e].lastRequestedSlot}}(e,t);if(t.queue&&n){var o=Object(g.t)(t),a=t.queue[o][e].selectedSlots,u=a.indexOf(n)+1;if(u<=a.length)return a[u]}return""}function q(e,t){var n="limit="+p.q.QUEUE_INFO.SCROLL_LIMIT;return n+="&mode="+v[e]+"&slot="+t}function k(e){var t="/api/v1/me/";return p.R.Q_DUE===e?t+="dueInMinutesSlots":p.R.Q_STATUS===e?t+="statusSlots":p.R.Q_CRM===e?t+="crmContactTypeSlots":p.R.Q_PRIORITY===e&&(t+="prioritySlots"),t}},"./src/utils/QueueUtils.js":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return i});var o=n("./src/constants/index.js"),a=n("./src/fz-i18n/index.js");function u(e){return e===o.r.EXTRASMALL?1:e===o.r.SMALL?2:e===o.r.MEDIUM?3:e===o.r.LARGE?3:e===o.r.EXTRALARGE?3:e===o.r.VERYEXTRALARGE?4:void 0}function r(e,t){var n=o.q[o.R.Q_DUE],a=e.map(function(e){var t=e;return e===n.API_OVER_DUE?t=n.OVER_DUE:e===n.API_NO_DUE&&(t=n.NO_DUE),parseInt(t)});return a.push(parseInt(t)),a.sort(function(e,t){return e-t}),a.map(function(e){var t=e;return e===n.OVER_DUE?t=n.API_OVER_DUE:e===n.NO_DUE&&(t=n.API_NO_DUE),""+t})}function l(e,t){var n="default";if(o.R.Q_DUE===t){var a=o.q[o.R.Q_DUE];e===a.API_OVER_DUE?n="danger":e===a.API_NO_DUE?n="success":e===a.API_ON_HOLD&&(n="orange")}return n}function s(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r="",l=a.h.getI18NValue;if(o.R.Q_DUE===t){var s=o.q[o.R.Q_DUE];if(e===s.API_OVER_DUE)r=l("support.queue.overdue");else if(e===s.API_NO_DUE)r=l("support.queue.overdue.noduedate");else if(e===s.API_ON_HOLD)r=l("On Hold");else{var i=parseInt(e),c=i%60,d=[];if(i>=60){var m=(i-c)/60;if(m>=24){var p=parseInt(m/24);d.push(p,l(1==p?"day":"days")),m%=24}m>0&&d.push(m,l(1==m?"hour":"hours"))}if(c>0&&d.push(c,l(1==c?"minute":"minutes")),n){var f=u.indexOf("noDue"),b=u.indexOf(e);r=(b+=-1===f?1:2)===u.length?l("support.queue.slot.title.withmore",[d.join(" ")]):l("support.queue.slot.title",[d.join(" ")])}else r=d.join(" ")}}else o.R.Q_STATUS===t?"otherTickets"===e&&(r=l("support.queue.status.other")):o.R.Q_CRM===t?"potentials"===e?r=l("potentials"):"unmapped"===e?r=l("New"):"customers"===e?r=l("support.customers.label"):"contacts_leads"===e&&(r=l("support.queue.contactled")):o.R.Q_PRIORITY===t&&"otherTickets"===e&&(r=l("support.queue.priority.other"));return""===r?e:r}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return e<=t?e:parseInt(e/t)*t+"+"}},"./src/utils/manageQueuePopupInfo.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("./src/constants/index.js");function a(e){var t={};return o.R.Q_DUE===e?(t.queueName="Countdown Mode",t.queueIcon="zdDuetimeQueueNew",t.queueMsg="The Countdown Mode orders your tickets into columns based on when they’re due. You can clearly see what needs your attention right now, in a few hours, and later in the day."):o.R.Q_STATUS===e?(t.queueName="Status Mode",t.queueIcon="zdstatusqueueNew",t.queueMsg="The Status Mode orders your tickets into columns based on their current status. It helps you to prioritize and focus on moving tickets to the next step."):o.R.Q_CRM===e?(t.queueName="Handshake Mode",t.queueIcon="zdCRMQueueNew",t.queueMsg="The Handshake Mode orders your tickets into columns based on contact type in Zoho CRM."):o.R.Q_PRIORITY===e&&(t.queueName="Priority Mode",t.queueIcon="zdPriorityQueueNew",t.queueMsg="The Priority Mode orders your tickets into columns based on their current priority. It helps you to prioritize and focus on moving tickets to the next step."),t}}}]);