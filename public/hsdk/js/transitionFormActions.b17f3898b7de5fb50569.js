(window.deskappJsonp=window.deskappJsonp||[]).push([[171],{"../components/lib/AvatarTeam/AvatarTeam.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=c(n("../components/lib/AvatarTeam/AvatarTeam.module.css")),r=c(n("../components/lib/Avatar/Avatar.js")),l=n("../components/lib/utils/dummyFunction.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,s=e.palette,l=e.onClick,c=e.title,d=e.isFilled,u=e.dataId;return o.default.createElement("span",{className:i.default.container+" "+i.default[a]+" "+i.default[s],"data-id":u},o.default.createElement(r.default,{name:n,onClick:l,palette:s,size:a,src:t,title:c}),o.default.createElement("span",{className:i.default.team+" "+(d?i.default.filled:i.default.nofill)}))}}]),t}();t.default=d,d.defaultProps={isFilled:!1,palette:"primary",size:"medium",src:null,title:null,onClick:l.dummyFunction,dataId:"avatarTeamComp"},d.propTypes={dataId:s.default.string,isFilled:s.default.bool,name:s.default.string.isRequired,onClick:s.default.func,palette:s.default.oneOf(["primary","secondary","info"]),size:s.default.oneOf(["small","xsmall","medium","xmedium","large","xlarge"]),src:s.default.string,title:s.default.string},d.propTypesDescription={name:" ",size:" ",src:" ",palette:" ",onClick:" ",title:" ",isFilled:" "}},"../components/lib/Button/Button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=l(n("../components/lib/Button/Button.module.css")),r=n("../components/lib/utils/dummyFunction.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette,a=e.disabled,s=e.size,r=e.onClick,l=e.rounded,c=e.status,d=e.children,u=e.isBold,p=e.dataId,m=e.needAppearance,h=e.className,f=e.getRef,g=m?i.default[n.toLowerCase()]+" "+(l?i.default.rounded:"")+"   "+(d?i.default["button_"+s.toLowerCase()]:i.default[s.toLowerCase()]):""+i.default.default;return o.default.createElement("button",{className:(h||"")+" "+g+" "+(u?i.default.bold:"")+"  ","data-id":a?p+"_disabled":p,disabled:a||"loading"===c.toLowerCase(),onClick:r,type:"button",ref:f},d||t,"none"!==c&&m&&o.default.createElement("div",{className:i.default.overlay},o.default.createElement("div",{className:"loading"===c.toLowerCase()?i.default.loading:i.default.success},o.default.createElement("div",{className:i.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:r.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:s.default.node,className:s.default.string,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,isBold:s.default.bool,needAppearance:s.default.bool,onClick:s.default.func,palette:s.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:s.default.bool,size:s.default.oneOf(["small","medium","large","xlarge"]),status:s.default.oneOf(["loading","success","none"]),text:s.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/CheckBox/CheckBox.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=l(n("../components/lib/CheckBox/CheckBox.module.css")),r=l(n("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.checked,s=e.disabled,l=e.palette,c=e.text,d=e.labelPalette,u=e.active,p=e.labelSize,m=e.getRef,h=e.dataId,f=u?i.default[l+"_active"]:"",g=s?i.default.disabled:i.default.pointer;return o.default.createElement("span",{className:i.default.container+" "+g+" "+(c?i.default.layout:i.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:i.default.input+" "+(a?i.default.checked:""),name:n,checked:a,disabled:s,ref:m}),o.default.createElement("label",{className:i.default["label_"+l]+" "+f+" "+(c?i.default.layoutshrink:""),onClick:this.onChange,"data-id":h},o.default.createElement("span",null)),c&&o.default.createElement("span",{className:i.default.text},o.default.createElement(r.default,{text:c,palette:d,id:t,size:p,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:s.default.bool,checked:s.default.bool,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,id:s.default.string,labelPalette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.default.oneOf(["small","medium","large"]),name:s.default.string,onChange:s.default.func,palette:s.default.oneOf(["primary","danger"]),text:s.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},"../components/lib/DropDown/DropDownSeparator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=i(n("../components/lib/DropDown/DropDown.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){return o.default.createElement("div",{className:s.default.separator})}}]),t}();t.default=r},"../components/lib/Label/Label.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=r(n("../components/lib/Label/Label.module.css"));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.type,a=e.palette,s=e.size,r=e.clipped,l=e.name,c=e.title,d=e.onClick,u=e.dataId;return o.default.createElement("label",{className:i.default.label+" "+i.default[n]+" "+i.default[s]+" "+i.default[a]+"\n          "+(r?i.default.dotted:"")+" "+(d?i.default.pointer:i.default.cursor),name:l,"data-title":c,"data-id":u,onClick:d},t)}}]),t}();t.default=l,l.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},l.propTypes={clipped:s.default.bool,dataId:s.default.string,name:s.default.string,onClick:s.default.func,palette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:s.default.oneOf(["small","medium","large"]),text:s.default.string,title:s.default.string,type:s.default.oneOf(["title","subtitle"])},l.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/ListItem/ListItemWithAvatar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=n("../components/lib/Layout/index.js"),r=u(n("../components/lib/ListItem/ListItem.module.css")),l=u(n("../components/lib/Avatar/Avatar.js")),c=u(n("../components/lib/AvatarTeam/AvatarTeam.js")),d=u(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.getRef=n.getRef.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"getRef",value:function(e){this.ele=e;var t=this.props,n=t.index,a=t.getRef,o=t.id;a&&a(e,n,o)}},{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,a=t.id,o=t.value,s=t.index;n&&n(a,o,s,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,n=t.onMouseEnter,a=t.id,o=t.value,s=t.index;n&&n(a,o,s,e)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.size),n=e.active,a=e.highlight,s=e.value,u=e.name,p=e.imgSrc,m=e.autoHover,h=e.isTeam,f=e.palette,g=e.title,b=e.needTick,v=e.isTick,y=e.dataId;return o.default.createElement(i.Container,{isCover:!1,align:"vertical",alignBox:"row",className:r.default.list+" "+r.default[t]+"  "+r.default[f]+"  "+(n?r.default.active:v?r.default.selected:a?r.default.hover:"")+" "+(m?r.default.effect:"")+" "+(b?r.default.withTick:null),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,eleRef:this.getRef,tagName:"li",dataId:(s||y)+"_ListItemWithAvatar"},u||p?o.default.createElement(i.Box,{className:r.default.left},h?o.default.createElement(c.default,{name:u,size:"xsmall",src:p}):o.default.createElement(l.default,{name:u,size:"xsmall",src:p})):null,s?o.default.createElement(i.Box,{flexible:!0,shrink:!0,"data-title":g,className:r.default.value},s):null,v?o.default.createElement("div",{className:r.default.tickIcon},o.default.createElement(d.default,{name:"ZD-ticknew",size:"10"})):null)}}]),t}();t.default=p,p.defaultProps={active:!1,autoHover:!1,highlight:!1,isTeam:!1,isTick:!1,needTick:!1,palette:"default",size:"medium",value:"List",dataId:"listAvatar"},p.propTypes={active:s.default.bool,autoHover:s.default.bool,dataId:s.default.string,getRef:s.default.func,highlight:s.default.bool,id:s.default.oneOfType([s.default.string,s.default.number]),imgSrc:s.default.string,index:s.default.number,isTeam:s.default.bool,isTick:s.default.bool,name:s.default.string,needTick:s.default.bool,onClick:s.default.func,onMouseEnter:s.default.func,palette:s.default.string,size:s.default.string,title:s.default.string,value:s.default.string},p.propTypesDescription={value:" ",onClick:" ",onMouseEnter:" ",active:" ",highlight:" ",autoHover:" ",getRef:" ",palette:" ",id:" ",index:" ",size:" ",imgSrc:" ",title:" "}},"../components/lib/MultiSelect/EmptyState.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=r(n("../components/lib/MultiSelect/MultiSelect.module.css"));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.emptyMessage,n=e.isLoading,a=e.noMoreOptionsMessage,s=e.options,r=e.searchEmptyMessage,l=e.searchString,c=e.suggestions,d=e.dataId;return n?o.default.createElement("div",{className:i.default.message,"data-id":d+"_Loading"},"Loading..."):l.length&&0===c.length?o.default.createElement("div",{className:i.default.message,"data-id":d+"_srchEmptyMsg"},r||t):0===s.length?o.default.createElement("div",{className:i.default.message,"data-id":d+"_noOptnsMsg"},t):o.default.createElement("div",{className:i.default.message,"data-id":d+"_NoMoreOptionMsg"},a||t)}}]),t}();t.default=l,l.propTypes={dataId:s.default.string,emptyMessage:s.default.string,isLoading:s.default.bool,noMoreOptionsMessage:s.default.string,options:s.default.array,searchEmptyMessage:s.default.string,searchString:s.default.string,suggestions:s.default.array},l.defaultProps={dataId:"empty"}},"../components/lib/MultiSelect/MultiSelect.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSelectComponent=void 0;var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,s=void 0;try{for(var i,r=e[Symbol.iterator]();!(a=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(o)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=E(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=E(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=E(n("../components/lib/Popup/Popup.js")),l=E(n("../components/lib/DropBox/DropBox.js")),c=E(n("../components/lib/TextBox/TextBox.js")),d=E(n("../components/lib/Tag/Tag.js")),u=n("../components/lib/Layout/index.js"),p=n("../components/lib/Card/Card.js"),m=E(p),h=E(n("../components/lib/MultiSelect/Suggestions.js")),f=E(n("../components/lib/MultiSelect/EmptyState.js")),g=E(n("../components/lib/MultiSelect/MultiSelectHeader.js")),b=E(n("../components/lib/MultiSelect/MultiSelect.module.css")),v=E(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),y=n("../components/lib/utils/Common.js"),C=n("../components/lib/utils/dropDownUtils.js");function E(e){return e&&e.__esModule?e:{default:e}}function I(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var k=[],A=t.MultiSelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,C.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,C.makeFormatOptions)(),n.getSelectedOptions=(0,C.makeGetMultiSelectSelectedOptions)(),n.objectConcat=(0,C.makeObjectConcat)(),n.formatSelectedOptions=(0,C.makeFormatOptions)();var a=n.props,o=a.selectedOptions,s=a.searchDebounceTime,i=void 0===s?500:s,r=n.handleFormatOptions(n.props),l=r.allOptions,c=r.normalizedAllOptions,d=r.normalizedFormatOptions,u=n.handleGetSelectedOptions(o,d,n.props),p=u.formatSelectedOptions,m=u.normalizedSelectedOptions,h=u.selectedOptionIds;return n.state={options:l,optionsNormalize:c,selectedOptions:p,selectedOptionIds:h,searchStr:"",hoverOption:0,isFetchingOptions:!1,highLightedSelectOptions:[],lastHighLightedSelectOption:"",shiftKeyPressHighLighted:0,isActive:!1},n.allSelectedOptionsDetails=m,n.suggestionsOrder=[],n._isMounted=!1,y.bind.apply(n,["handleInputCick","handleFilterSuggestions","handleKeyDown","handleSelectAll","handleDeselectAll","handleSelectOption","handleRemoveOption","handleSearch","handleClickSelectedOption","handleChange","handlePopupClose","togglePopup","selectedOptionRef","searchInputRef","suggestionContainerRef","suggestionItemRef","selectedOptionContainerRef","handleActive","handleInactive","handleMouseEnter","handleFetchOptions","handleFormatOptions","handleGetSelectedOptions","handleComponentDidUpdate","handleInputFocus","handleExposedPublicMethods"]),n.handleSearchOptions=(0,y.debounce)(n.handleSearchOptions.bind(n),i),n.handleScroll=n.handleScroll.bind(n),n.handleScrollFuncCall=(0,y.debounce)(n.handleScrollFuncCall.bind(n),500),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.handleExposedPublicMethods()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.selectedOptions,a=e.options,o=e.valueField,s=e.textField,i=this.props;if(n!==i.selectedOptions||a!==i.options||o!==i.valueField||s!==i.textField){var r=this.handleFormatOptions(e),l=r.allOptions,c=r.normalizedAllOptions,d=r.normalizedFormatOptions,u=this.allSelectedOptionsDetails,p=Object.assign(u,d),m=this.handleGetSelectedOptions(n,p,e),h=m.formatSelectedOptions,f=m.normalizedSelectedOptions,g=m.selectedOptionIds;this.allSelectedOptionsDetails=Object.assign(u,f),this.setState({options:l,optionsNormalize:c,selectedOptions:h,selectedOptionIds:g},function(){var e=t.state.hoverOption,n=t.handleFilterSuggestions(),a=n.length,o=(n[e]||{}).id,s=(0,y.getIsEmptyValue)(o)?a?a-1:0:e;t.setState({hoverOption:s})})}}},{key:"componentDidUpdate",value:function(e,t){var n=this.suggestionContainer,a=this.selectedOptionContainer,o=this.suggestionsOrder,s=this.state,i=s.hoverOption,r=s.highLightedSelectOptions,l=s.selectedOptions,c=s.searchStr,d=this.props,u=d.needLocalSearch,p=d.isPopupOpen,m=d.onDropBoxClose,h=d.onDropBoxOpen;e.isPopupOpen!==p&&(p&&h&&this.handleFetchOptions(h,c),p||(this.setState({hoverOption:0}),m&&m()));var f=this["suggestion_"+(o[i]||"")],g=this["selectedOption_"+(r.slice(-1).length?r.slice(-1)[0]:l.length?l.slice(-1)[0].id:null)];p&&(0,y.scrollTo)(n,f),l.length&&(0,y.scrollTo)(a,g);var b=this.props,v=b.isNextOptions,C=b.getNextOptions,E=this.handleFilterSuggestions().length;p&&E<=5&&v&&C&&!u&&this.handleFetchOptions(C,c),this.handleComponentDidUpdate(e,t)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleComponentDidUpdate",value:function(){}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField,o=e.prefixText;return this.formatOptions({options:t,valueField:n,textField:a,prefixText:o,optionType:"default"})}},{key:"handleGetSelectedOptions",value:function(e,t){return this.getSelectedOptions({selectedOptions:e,normalizedFormatOptions:t})}},{key:"handleInputCick",value:function(e){this.state.highLightedSelectOptions.length?this.setState({highLightedSelectOptions:[],shiftKeyPressHighLighted:0,lastHighLightedSelectOption:""}):this.togglePopup(e)}},{key:"handleFilterSuggestions",value:function(){var e=this.state,t=e.options,n=void 0===t?k:t,a=e.searchStr,o=void 0===a?"":a,s=this.props,i=s.selectedOptions,r=s.needLocalSearch,l=this.getFilterSuggestions({options:n,selectedOptions:i,searchStr:o.replace(/\s+/g,"").toLowerCase(),needSearch:r}),c=l.suggestions,d=l.suggestionIds;return this.suggestionsOrder=d,c}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=e.ctrlKey,o=e.metaKey,s=e.shiftKey,i=[],r=this.state,l=r.hoverOption,c=r.searchStr,d=r.highLightedSelectOptions,u=r.lastHighLightedSelectOption,p=r.shiftKeyPressHighLighted,m=r.selectedOptionIds,h=this.props,f=h.isNextOptions,g=h.getNextOptions,b=h.isPopupOpen,v=h.isPopupOpenOnEnter,C=h.onKeyDown,E=d.length;!b||38!==t&&40!==t&&13!==t&&27!==t||(i=this.handleFilterSuggestions()),b||v||C&&C(e),b||40!==t||(e.preventDefault(),this.togglePopup(e));var k=i.length;if(k&&b&&38===t)l&&this.setState({hoverOption:l-1});else if(k&&b&&40===t)f&&k>=5&&l===k-3?(g&&this.handleFetchOptions(g,c),this.setState({hoverOption:l+1})):k-1>l&&this.setState({hoverOption:l+1});else if(13===t){var A=(i[l]||{}).id;b&&!(0,y.getIsEmptyValue)(A)&&this.handleSelectOption(A,e),!b&&v&&this.togglePopup(e)}else if(m.length&&8===t&&!c.length)E?this.handleRemoveOption(d):this.handleRemoveOption(m.slice(-1));else if(m&&65===t&&(n||o)&&!c.length)this.setState({highLightedSelectOptions:m,shiftKeyPressHighLighted:0});else if(39===t&&s&&m.length&&!c.length){var _=u&&m.indexOf(u)>=0?m.indexOf(u):0,S=p||p+1,O=null!==_?m[_+S]:m[0];if(!(0,y.getIsEmptyValue)(O)){var j=u||m[0],x=(d=p?d:[j]).indexOf(O)>=0&&O!==u?d.filter(function(e){return e!==O}):[].concat(I(d),[O]);this.setState({highLightedSelectOptions:x,shiftKeyPressHighLighted:S+1,lastHighLightedSelectOption:j})}}else if(37===t&&s&&m.length&&!c.length){var N=u?m.indexOf(u):m.length-1,D=1!==p?p:p-1,T=m[N+D-1];if(!(0,y.getIsEmptyValue)(T)){var P=u||m.slice(-1)[0],w=(d=p?d:[P]).indexOf(T)>=0&&T!==u?d.filter(function(e){return e!==T}):[].concat(I(d),[T]);this.setState({highLightedSelectOptions:w,shiftKeyPressHighLighted:D-1,lastHighLightedSelectOption:P})}}else if((39===t||37===t)&&m.length&&!c.length){var z=39===t;if(d.length){var R=d.slice(-1),F=a(R,1)[0],B=m.indexOf(F),M=m[z?B===m.length-1?B:B+1:B-1],L=!(!z||1!==d.length||m.slice(-1)[0]!==F);(0,y.getIsEmptyValue)(M)||this.setState({lastHighLightedSelectOption:L?"":M,highLightedSelectOptions:L?[]:[M],shiftKeyPressHighLighted:0})}else{var V=z?m:m.slice(-1),K=a(V,1)[0];this.setState({lastHighLightedSelectOption:K,highLightedSelectOptions:[K],shiftKeyPressHighLighted:0})}}}},{key:"handleSelectAll",value:function(e){e&&e.preventDefault();var t=this.handleFilterSuggestions(),n=this.props.selectedOptions,a=t.map(function(e){return e.id});this.handleChange([].concat(I(n),I(a)))}},{key:"handleDeselectAll",value:function(e){e&&e.preventDefault(),this.state.highLightedSelectOptions.length&&this.setState({highLightedSelectOptions:[],lastHighLightedSelectOption:""}),this.handleChange([])}},{key:"handleSelectOption",value:function(e,t,n,a){var o=this.props.selectedOptions;this.handleChange([].concat(I(o),[e]),a)}},{key:"handleRemoveOption",value:function(e){var t=(0,y.getIsEmptyValue)(e)||Array.isArray(e)?e:[e],n=this.props,a=n.selectedOptions,o=n.isReadOnly,s=this.state,i=s.highLightedSelectOptions,r=s.lastHighLightedSelectOption,l=s.shiftKeyPressHighLighted;if(t.length&&!o){for(var c=a.filter(function(e){return-1===t.indexOf(e)}),d=i.filter(function(e){return c.indexOf(e)>=0}),u=!1,p=t.length,m=0;m<p;m++){var h=t[m];if(i.indexOf(h)>=0){u=!0;break}}this.setState({lastHighLightedSelectOption:c.indexOf(r)>=0&&!u?r:"",highLightedSelectOptions:u?[]:d,shiftKeyPressHighLighted:u?0:l}),this.handleChange(c)}this.searchInput&&this.searchInput.focus()}},{key:"handleMouseEnter",value:function(e,t,n,a){a&&a.preventDefault();var o=this.state.hoverOption,s=this.suggestionsOrder.indexOf(e);s!==o&&this.setState({hoverOption:s})}},{key:"handleFetchOptions",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=n[0],s=n[1],i=this.state.isFetchingOptions,r=this._isMounted;if(!i&&o){this.setState({isFetchingOptions:!0});try{return o(s).then(function(){r&&e.setState({isFetchingOptions:!1})},function(){r&&e.setState({isFetchingOptions:!1})})}catch(e){r&&this.setState({isFetchingOptions:!1})}}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e,t){var n=this,a=this.props,o=a.onSearch;!a.isPopupOpen&&t&&this.togglePopup(t);var s=this.state.searchStr,i=(void 0===s?"":s).toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e},function(){e?i&&o&&n.handleSearchOptions():o&&o("")})}},{key:"handleClickSelectedOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this.props.selectedOptions,a=this.state,o=a.highLightedSelectOptions,s=a.lastHighLightedSelectOption,i=t.metaKey,r=t.ctrlKey,l=t.shiftKey;if(t&&l){var c=n.indexOf(s)>=0?n.indexOf(s):0,d=e&&n.indexOf(e)>=0?n.indexOf(e):null;if(d>=0&&d<c)d=[c,c=d][0];var u=(d+=1)?n.slice(c,d):[];d&&this.setState({highLightedSelectOptions:u,lastHighLightedSelectOption:e})}else if(t&&(r||i)){var p=[];o.indexOf(e)>=0?(s=e===s?"":s,p=o.filter(function(t){return t!==e})):(s=e,p=[].concat(I(o),[e])),this.setState({highLightedSelectOptions:p,lastHighLightedSelectOption:s})}else this.setState({highLightedSelectOptions:[e],lastHighLightedSelectOption:e});this.setState({shiftKeyPressHighLighted:0}),this.searchInput&&this.searchInput.focus()}},{key:"handleScroll",value:function(e){var t=this.props.isNextOptions;e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&t&&this.handleScrollFuncCall()}},{key:"handleScrollFuncCall",value:function(){var e=this.props.getNextOptions,t=this.state.searchStr;e&&e(t)}},{key:"handleChange",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.state.optionsNormalize,a=this.props,o=a.onChange,s=a.needToCloseOnSelect,i=a.togglePopup,r=e.length,l=[],c=0;c<r;c++){var d=e[c];l.push(n[d])}o&&o(e,l),this.setState({searchStr:""}),this.searchInput&&this.searchInput.focus(),s&&i(t)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.defaultDropBoxPosition;!t.isReadOnly&&n(e,a?a+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"searchInputRef",value:function(e){var t=this.props.getRef;this.searchInput=e,t&&t(e)}},{key:"selectedOptionContainerRef",value:function(e){var t=this.props.getTargetRef;this.selectedOptionContainer=e,t(e)}},{key:"selectedOptionRef",value:function(e,t){this["selectedOption_"+t]=e}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"handleActive",value:function(e){var t=this.state,n=t.searchStr;t.isActive||this.setState({isActive:!0});var a=(e||{}).target;a&&a.setSelectionRange(a,0);var o=this.props.onFocus;o&&o(n)}},{key:"handleInactive",value:function(){this.state.isActive&&this.setState({isActive:!1})}},{key:"handleInputFocus",value:function(){var e=this.props,t=e.isDisabled,n=e.isReadOnly;this.searchInput&&!t&&!n&&this.searchInput.focus()}},{key:"handleExposedPublicMethods",value:function(){var e=this.props,t=e.getPublicMethods,n=e.openPopupOnly;t&&t({openPopupOnly:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isReadOnly,a=t.needSelectAll,o=t.searchEmptyMessage,i=t.emptyMessage,r=t.noMoreOptionsMessage,y=t.dropBoxSize,C=t.placeHolder,E=t.isPopupOpen,I=t.isPopupReady,k=t.position,A=t.defaultDropBoxPosition,_=t.selectAllText,S=t.getContainerRef,O=t.removeClose,j=t.isAnimate,x=t.animationStyle,N=t.textBoxSize,D=t.variant,T=t.size,P=t.isDisabled,w=t.title,z=t.portalId,R=t.dataId,F=t.isSearching,B=this.state,M=B.selectedOptions,L=B.searchStr,V=B.hoverOption,K=B.highLightedSelectOptions,H=B.options,U=B.isFetchingOptions,Z=B.isActive,q=this.handleFilterSuggestions();return s.default.createElement("div",{className:b.default.wrapper+" "+(P?b.default.disabled:"")+" "+(n?b.default.readOnly:""),"data-id":""+(P?R+"_disabled":n?R+"_readOnly":R),"data-title":P?w:"",onClick:this.handleInputFocus},s.default.createElement(u.Container,{align:"vertical",alignBox:"row",className:b.default.container+" "+b.default[T]+" "+(Z?b.default.active:""),eleRef:this.selectedOptionContainerRef,wrap:!0},M.map(function(t){var a=t.id,o=t.value;return s.default.createElement(u.Box,{className:b.default.tag,key:a+"tag"},s.default.createElement(d.default,{active:K.indexOf(a)>=0,getRef:e.selectedOptionRef,id:a,initial:o,onRemove:e.handleRemoveOption,onSelectTag:n?null:e.handleClickSelectedOption,palette:"danger",text:o}))}),s.default.createElement(u.Box,{flexible:!0},s.default.createElement(c.default,{isDisabled:P,inputRef:this.searchInputRef,needBorder:!1,onBlur:this.handleInactive,onChange:this.handleSearch,onClick:this.handleInputCick,onFocus:this.handleActive,onKeyDown:this.handleKeyDown,placeHolder:M.length>=1?"":C,size:N,value:L,variant:D,dataId:R+"_textBox",isReadOnly:n})),!n&&!P&&M.length>1?s.default.createElement(u.Box,{className:b.default.delete,dataId:R+"_clearIcon","data-title":"clear all",onClick:this.handleDeselectAll},s.default.createElement(v.default,{name:"ZD-delete",size:"15"})):null),n||P||!E?null:s.default.createElement(l.default,{animationStyle:x,boxPosition:k||A+"Center",getRef:S,isActive:I,isAnimate:j,isArrow:!1,onClick:O,portalId:z},s.default.createElement(m.default,{className:b.default.box,onScroll:this.handleScroll},s.default.createElement(p.CardHeader,null,s.default.createElement(g.default,{needSelectAll:a,onSelect:this.handleSelectAll,selectAllText:_,suggestions:q,dataId:R})),s.default.createElement(p.CardContent,{className:y?b.default[y]:"",eleRef:this.suggestionContainerRef},F?s.default.createElement("div",{className:b.default.message},"Searching..."):q.length?s.default.createElement(h.default,{suggestions:q,getRef:this.suggestionItemRef,hoverOption:V,onClick:this.handleSelectOption,onMouseEnter:this.handleMouseEnter}):s.default.createElement(f.default,{emptyMessage:i,isLoading:U,noMoreOptionsMessage:r,options:H,searchEmptyMessage:o,searchString:L,suggestions:q,dataId:R})))))}}]),t}();A.propTypes={animationStyle:i.default.string,closePopupOnly:i.default.func,dataId:i.default.string,defaultDropBoxPosition:i.default.oneOf(["bottom","top","left","right"]),dropBoxSize:i.default.oneOf(["small","medium","large"]),emptyMessage:i.default.string.isRequired,getContainerRef:i.default.func,getNextOptions:i.default.func,getPublicMethods:i.default.func,getRef:i.default.func,getTargetRef:i.default.func,isAnimate:i.default.bool,isDisabled:i.default.bool,isNextOptions:i.default.bool,isPopupOpen:i.default.bool,isPopupOpenOnEnter:i.default.bool,isPopupReady:i.default.bool,isReadOnly:i.default.bool,isSearching:i.default.bool,needLocalSearch:i.default.bool,needSelectAll:i.default.bool,needToCloseOnSelect:i.default.bool,noMoreOptionsMessage:i.default.string,onChange:i.default.func.isRequired,onDropBoxClose:i.default.func,onDropBoxOpen:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,onSearch:i.default.func,openPopupOnly:i.default.func,options:i.default.oneOfType([i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])),i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])}))]).isRequired,placeHolder:i.default.string,portalId:i.default.string,position:i.default.string,prefixText:i.default.string,removeClose:i.default.func,searchDebounceTime:i.default.number,searchEmptyMessage:i.default.string,selectAllText:i.default.string,selectedOptions:i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])).isRequired,size:i.default.oneOf(["medium","xmedium"]),textBoxSize:i.default.oneOf(["small","medium","xmedium"]),textField:i.default.string,title:i.default.string,togglePopup:i.default.func,valueField:i.default.string,variant:i.default.string},A.propTypesDescription={options:" ",placeHolder:" ",onChange:" ",emptyMessage:" ",valueField:" ",textField:" ",onSearch:" ",getRef:" ",onFocus:" ",title:" ",isDisabled:" "},A.defaultProps={animationStyle:"bounce",dataId:"multiSelect",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isAnimate:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needLocalSearch:!0,needSelectAll:!1,needToCloseOnSelect:!1,size:"medium",textBoxSize:"medium",textField:"text",valueField:"id",variant:"default",isSearching:!1},A.displayName="MultiSelect";var _=(0,r.default)(A);_.propTypes=A.propTypes,_.defaultProps=A.defaultProps,t.default=_},"../components/lib/MultiSelect/MultiSelectHeader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=l(n("../components/lib/MultiSelect/MultiSelect.module.css")),r=l(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.dataId,n=e.needSelectAll,a=e.onSelect,s=e.selectAllText,l=e.suggestions,c=e.isGroupMultiSelect;return l.length>1&&n?o.default.createElement("div",{className:i.default.selectAll+" "+(c?i.default.groupStyle:null),onClick:a,"data-id":t+"_selectAll"},o.default.createElement("span",{className:i.default.selectIcon},o.default.createElement(r.default,{name:"ZD-androidd",size:"18"})),o.default.createElement("span",{className:i.default.selectText},s)):null}}]),t}();t.default=c,c.propTypes={dataId:s.default.string,isGroupMultiSelect:s.default.bool,needSelectAll:s.default.bool,onSelect:s.default.func,selectAllText:s.default.string,suggestions:s.default.array},c.defaultProps={isGroupMultiSelect:!1},c.defaultProps={dataId:"MultiSelectHeader"}},"../components/lib/MultiSelect/Suggestions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=d(n("../components/lib/ListItem/ListItem.js")),r=d(n("../components/lib/ListItem/ListItemWithAvatar.js")),l=d(n("../components/lib/ListItem/ListItemWithIcon.js")),c=n("../components/lib/Layout/index.js");function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.suggestions,n=e.getRef,a=e.hoverOption,s=e.onClick,d=e.onMouseEnter,u=e.needTick,p=e.selectedOptions,m=e.activeId,h=e.hoverId,f=e.dataId,g=e.listItemSize;return o.default.createElement(c.Container,{isCover:!1},o.default.createElement(c.Box,{dataId:f+"_Options"},t.map(function(e,t){var c=e.id,f=e.value,b=e.photoURL,v=e.icon,y=e.optionType,C=e.iconSize,E=!!u&&-1!==p.indexOf(c),I=m===c,k=a===t||c===h;return"avatar"===y?o.default.createElement(r.default,{autoHover:!1,getRef:n,highlight:k,id:c,imgSrc:b,key:c+"avatarListItem",name:f,onClick:s,onMouseEnter:d,value:f,title:f,needTick:u,isTick:E,active:I,size:g}):"icon"===y?o.default.createElement(l.default,{autoHover:!1,getRef:n,highlight:k,id:c,key:c+"iconListItem",onClick:s,onMouseEnter:d,value:f,title:f,iconName:v,needTick:u,isTick:E,active:I,iconSize:C,size:g}):o.default.createElement(i.default,{autoHover:!1,getRef:n,highlight:k,id:c,key:c+"listItem",onClick:s,onMouseEnter:d,value:f,title:f,needTick:u,isTick:E,active:I,dataId:f,size:g})})))}}]),t}();t.default=u,u.propTypes={activeId:s.default.oneOfType([s.default.string,s.default.number]),dataId:s.default.string,getRef:s.default.func,hoverId:s.default.oneOfType([s.default.string,s.default.number]),hoverOption:s.default.number,listItemSize:s.default.oneOf(["small","medium","large"]),needTick:s.default.bool,onClick:s.default.func,onMouseEnter:s.default.func,selectedOptions:s.default.array,suggestions:s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),value:s.default.oneOfType([s.default.string,s.default.number]),photoURL:s.default.string,logo:s.default.string,optionType:s.default.string}))}},"../components/lib/Select/Select.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),s=y(o),i=y(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=y(n("../components/lib/Popup/Popup.js")),l=y(n("../components/lib/DropBox/DropBox.js")),c=y(n("../components/lib/TextBoxIcon/TextBoxIcon.js")),d=y(n("../components/lib/TextBox/TextBox.js")),u=n("../components/lib/Card/Card.js"),p=y(u),m=y(n("../components/lib/MultiSelect/Suggestions.js")),h=y(n("../components/lib/MultiSelect/EmptyState.js")),f=y(n("../components/lib/Select/Select.module.css")),g=y(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),b=n("../components/lib/utils/dropDownUtils.js"),v=n("../components/lib/utils/Common.js");function y(e){return e&&e.__esModule?e:{default:e}}var C=[],E=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,b.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,b.makeFormatOptions)(),n.getSelectedValue=(0,b.makeGetSelectedValueText)(),n.selectedFormatOptions={};var a=e.selectedValue,o=e.searchDebounceTime,s=void 0===o?500:o,i=e.isDefaultSelectValue,r=e.autoSelectDebouneTime,l=void 0===r?350:r,c=e.valueField,d=e.textField,u=n.handleFormatOptions(n.props),p=u.allOptions,m=u.normalizedAllOptions,h=u.optionsOrder,f=u.normalizedFormatOptions,g=n.getSelectedValue({optionsOrder:h,selectedValue:a,normalizedFormatOptions:f,selectedFormatOptions:n.selectedFormatOptions,isDefaultSelectValue:i,valueField:c,textField:d}),y=g.selected,C=g.hoverIndex,E=g.selectedValueDetails,I=g.selectedId;g.isSelfValueChanged;return n.state={selected:y,options:p,optionsNormalize:m,hoverIndex:C,searchStr:"",isFetchingOptions:!1,selectedId:I,selectedValueIndex:C},n.optionsOrder=h,n._isMounted=!1,n.normalizedFormatOptions=f,n.allSelectedOptions=E,n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleFilterSuggestions=n.handleFilterSuggestions.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleFetchOptions=n.handleFetchOptions.bind(n),n.handleGetNextOptions=n.handleGetNextOptions.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleSearchOptions=(0,v.debounce)(n.handleSearchOptions.bind(n),s),n.suggestionContainerRef=n.suggestionContainerRef.bind(n),n.suggestionItemRef=n.suggestionItemRef.bind(n),n.searchInputRef=n.searchInputRef.bind(n),n.valueInputRef=n.valueInputRef.bind(n),n.togglePopup=n.togglePopup.bind(n),n.handleSelectFocus=n.handleSelectFocus.bind(n),n.handleFormatOptions=n.handleFormatOptions.bind(n),n.handlePopupClose=n.handlePopupClose.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n.handleValueInputChange=n.handleValueInputChange.bind(n),n.handleChangeOnType=(0,v.debounce)(n.handleChangeOnType.bind(n),l),n.valueInputTypeString="",n.valueInputSearchString="",n.autoSelectSuggestions=[],n.autoSelectIndex=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,n=e.isDefaultSelectValue,a=e.valueField,o=e.textField,s=this.state.hoverIndex,i=this.handleFormatOptions(e),r=i.allOptions,l=i.normalizedAllOptions,c=i.optionsOrder,d=i.normalizedFormatOptions,u=this.selectedFormatOptions,p=this.getSelectedValue({optionsOrder:c,selectedValue:t,normalizedFormatOptions:d,selectedFormatOptions:u,isDefaultSelectValue:n,valueField:a,textField:o}),m=p.selected,h=p.hoverIndex,f=p.selectedValueDetails,g=p.selectedId;p.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(u,f),this.normalizedFormatOptions=d,this.optionsOrder=c,this.setState({options:r,optionsNormalize:l,selected:m,hoverIndex:s||h,selectedId:g,selectedValueIndex:h})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.suggestionContainer,a=this.optionsOrder,o=this.isSelectWithAvatarComponent,s=this.state,i=s.hoverIndex,r=s.searchStr,l=s.selectedValueIndex,c=this.props,d=c.needLocalSearch,u=c.onDropBoxClose,p=c.onDropBoxOpen,m=c.needSearch,h=c.onSearch,f=c.isPopupOpen,g=this["suggestion_"+((0,v.getIsEmptyValue)(a[i])?"":a[i])];f&&(0,v.scrollTo)(n,g),e.isPopupOpen!==f&&(f?(p&&this.handleFetchOptions(p,r),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(m&&this.valueInput&&this.valueInput.focus(),u&&u(),h&&h(""),this.setState({searchStr:o?r:"",hoverIndex:l})));var b=this.props,y=b.isNextOptions,C=b.getNextOptions,E=(f?this.handleFilterSuggestions():[]).length;f&&E<=5&&y&&C&&!d&&this.handleFetchOptions(C,r)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField;return this.formatOptions({options:t,valueField:n,textField:a})}},{key:"handleChange",value:function(e,t,n,a){a&&a.preventDefault&&a.preventDefault();var o=this.props,s=o.onChange,i=o.isReadOnly,r=this.state.optionsNormalize;!i&&s&&s(e,r[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(a)}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.onChange,a=t.isPopupOpen,o=t.onKeyDown,s=t.isPopupOpenOnEnter,i=this.state,r=i.hoverIndex,l=i.optionsNormalize,c=this.handleFilterSuggestions(),d=e.keyCode;if(a||s||o&&o(e),a&&(38===d||40===d)&&e.preventDefault?e.preventDefault():a||40!==d||(e.preventDefault(),this.togglePopup(e)),38===d&&a&&c.length)0===r||(r-=1),this.setState({hoverIndex:r});else if(40===d&&a&&c.length)r===c.length-1||(r===c.length-3&&this.handleGetNextOptions(),r+=1),this.setState({hoverIndex:r});else if(13===d){var u=(c[r]||{}).id;a&&!(0,v.getIsEmptyValue)(u)&&n&&(n(u,l[u]),this.handlePopupClose(e)),!a&&s&&this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,n=this.state.searchStr,a=void 0===n?"":n,o=this.props.onSearch,s=a.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?s&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,n=this.optionsOrder.indexOf(e);t!==n&&this.setState({hoverIndex:n})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,n=e.excludeOptions,a=void 0===n?C:n,o=e.needSearch,s=this.state,i=s.options,r=void 0===i?C:i,l=s.searchStr;return o&&l&&l.trim().length||a&&a.length?(l=l.toLowerCase().replace(/\s+/g,""),this.getFilterSuggestions({options:r,selectedOptions:a,searchStr:l,needSearch:t}).suggestions):r}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.isFetchingOptions,o=void 0!==a&&a,s=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(n).then(function(){s&&t.setState({isFetchingOptions:!1})},function(){s&&t.setState({isFetchingOptions:!1})})}catch(e){s&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,n=e.getNextOptions,a=this.state.searchStr;t&&n&&this.handleFetchOptions(n,a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.isReadOnly,o=t.defaultDropBoxPosition;!a&&n(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(){var e=this.valueInput;e&&e.setSelectionRange(e,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"handleValueInputChange",value:function(e){var t=e.which,n=String.fromCharCode(t),a=this.props,o=a.isPopupOpen,s=a.autoSelectOnType;!o&&s&&(this.valueInputTypeString+=(n||"").trim(),this.handleChangeOnType())}},{key:"handleChangeOnType",value:function(){var e=this,t=this.props.excludeOptions,n=void 0===t?C:t,a=this.state.options,o=void 0===a?C:a,s=this.optionsOrder,i=this.valueInputTypeString;this.valueInputTypeString="";var r=function(){var t=(e.autoSelectSuggestions[e.autoSelectIndex]||{}).id;if(!(0,v.getIsEmptyValue)(t)){e.handleChange(t);var n=s.indexOf(t);e.setState({hoverIndex:n})}};if(i&&i===this.valueInputSearchString)this.autoSelectIndex<this.autoSelectSuggestions.length-1?this.autoSelectIndex+=1:this.autoSelectIndex=0,r();else if(i){this.valueInputSearchString=i;var l=this.getFilterSuggestions({options:o,selectedOptions:n,searchStr:i,needSearch:!0,isStartsWithSearch:!0}).suggestions,c=void 0===l?[]:l;this.autoSelectIndex=0,this.autoSelectSuggestions=c,r()}}},{key:"render",value:function(){var e=this.props,t=e.needSearch,n=e.dropBoxSize,a=e.emptyMessage,o=e.searchEmptyMessage,i=e.needBorder,r=e.needSelectDownIcon,b=e.position,v=e.defaultDropBoxPosition,y=e.getTargetRef,C=e.getContainerRef,E=e.isPopupOpen,I=e.removeClose,k=e.isPopupReady,A=e.animationStyle,_=e.textBoxSize,S=e.textBoxVariant,O=e.searchBoxSize,j=e.searchBoxPlaceHolder,x=e.maxLength,N=e.isDisabled,D=e.title,T=e.size,P=e.placeHolder,w=e.className,z=e.portalId,R=e.isReadOnly,F=e.dataId,B=this.state,M=B.hoverIndex,L=B.selected,V=B.searchStr,K=B.isFetchingOptions,H=B.selectedId,U=B.options,Z=this.handleFilterSuggestions();return s.default.createElement("div",{className:f.default.container+" "+f.default["box_"+T]+" ","data-title":N?D:""},s.default.createElement("div",{className:""+(w||""),onClick:N||R?null:this.togglePopup,ref:y,"data-id":""+(N?F+"_disabled":R?F+"_readOnly":F)},r?s.default.createElement(c.default,{isDisabled:N,iconRotated:E,inputRef:this.valueInputRef,maxLength:x,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:P,isReadOnly:!0,size:_,value:L,variant:S,needReadOnlyStyle:!!R,dataId:F+"_textBox",isClickable:!R&&!N,className:R||N?"":f.default.input,needEffect:!N,onKeyPress:this.handleValueInputChange},s.default.createElement("div",{className:f.default.arrowIcon,"data-id":F+"_downIcon"},s.default.createElement(g.default,{name:"ZD-blockDownArrow",size:"8"}))):s.default.createElement(d.default,{isDisabled:N,inputRef:this.valueInputRef,maxLength:x,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:P,isReadOnly:!0,needEffect:!N,size:_,value:L,variant:S,needReadOnlyStyle:!!R,dataId:F+"_textBox",isClickable:!R&&!N,onKeyPress:this.handleValueInputChange})),R||N||!E?null:s.default.createElement(l.default,{animationStyle:A,boxPosition:b||v+"Center",getRef:C,isActive:k,isAnimate:!0,isArrow:!1,onClick:I,portalId:z,dataId:F+"_suggestions"},s.default.createElement(p.default,{className:f.default.box,onScroll:this.handleScroll},t?s.default.createElement(u.CardHeader,null,s.default.createElement("div",{className:f.default.search+" "+f.default[T]},s.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:x,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:j,size:O,value:V,onClear:this.handleClearSearch,dataId:F+"_search"}))):null,s.default.createElement(u.CardContent,{className:n?f.default[n]:"",eleRef:this.suggestionContainerRef,dataId:F+"_Options"},Z.length?s.default.createElement(m.default,{activeId:H,suggestions:Z,getRef:this.suggestionItemRef,hoverOption:M,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):s.default.createElement(h.default,{emptyMessage:a,isLoading:K,options:U,searchEmptyMessage:o,searchString:V,suggestions:Z,dataId:F})))))}}]),t}();E.propTypes={animationStyle:i.default.string,autoSelectDebouneTime:i.default.number,autoSelectOnType:i.default.bool,className:i.default.string,closePopupOnly:i.default.func,dataId:i.default.string,defaultDropBoxPosition:i.default.oneOf(["bottom","top","left","right"]),dropBoxSize:i.default.oneOf(["small","medium","large"]),emptyMessage:i.default.string,excludeOptions:i.default.array,getContainerRef:i.default.func,getNextOptions:i.default.func,getRef:i.default.func,getTargetRef:i.default.func,isDefaultSelectValue:i.default.bool,isDisabled:i.default.bool,isNextOptions:i.default.bool,isPopupOpen:i.default.bool,isPopupOpenOnEnter:i.default.bool,isPopupReady:i.default.bool,isReadOnly:i.default.bool,maxLength:i.default.string,needBorder:i.default.bool,needLocalSearch:i.default.bool,needSearch:i.default.bool,needSelectDownIcon:i.default.bool,onChange:i.default.func.isRequired,onDropBoxClose:i.default.func,onDropBoxOpen:i.default.func,onKeyDown:i.default.func,onSearch:i.default.func,options:i.default.oneOfType([i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])),i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])}))]).isRequired,placeHolder:i.default.string,portalId:i.default.string,position:i.default.string,removeClose:i.default.func,searchBoxPlaceHolder:i.default.string,searchBoxSize:i.default.string,searchDebounceTime:i.default.number,searchEmptyMessage:i.default.string,selectedValue:i.default.oneOfType([i.default.oneOfType([i.default.string,i.default.number]),i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])})]),size:i.default.oneOf(["small","medium"]),textBoxSize:i.default.string,textBoxVariant:i.default.string,textField:i.default.string,title:i.default.string,togglePopup:i.default.func,valueField:i.default.string},E.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},E.defaultProps={animationStyle:"bounce",autoSelectOnType:!0,dataId:"selectComponent",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},E.displayName="Select";var I=(0,r.default)(E);I.propTypes=E.propTypes,I.defaultProps=E.defaultProps,t.default=I},"../components/lib/Switch/Switch.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),i=l(n("../components/lib/Switch/Switch.module.css")),r=l(n("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.value,s=e.checked,l=e.disabled,c=e.size,d=e.text,u=e.labelSize,p=e.labelPalette,m=e.title,h=e.dataId;return c="small"!==c?"switch_medium":"switch_small",o.default.createElement("span",{className:i.default.container+" "+(l?i.default.disabled:""),"data-title":l?m:""},o.default.createElement("span",{className:i.default[c]},o.default.createElement("input",{type:"checkbox",id:t,className:i.default.input+" "+(s?i.default.checked:""),name:n,value:a,checked:s,disabled:l,onClick:this.onChange,"data-id":h}),o.default.createElement("label",{htmlFor:t,className:i.default.label})),d&&o.default.createElement(r.default,{text:d,palette:p,id:t,size:u,type:"subtitle",onClick:this.onChange}))}}]),t}();t.default=c,c.defaultProps={checked:!1,disabled:!1,labelPalette:"primary",labelSize:"medium",size:"medium"},c.propTypes={checked:s.PropTypes.bool,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,id:s.PropTypes.string.isRequired,labelPalette:s.PropTypes.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.PropTypes.oneOf(["small","medium","large"]),name:s.PropTypes.string,onChange:s.PropTypes.func,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.string,title:s.PropTypes.string,value:s.PropTypes.bool},c.propTypesDescription={checked:" ",disabled:" ",size:" ",id:" ",name:" ",text:" ",labelSize:" ",labelPalette:" ",value:" ",onChange:" ",title:" "}},"../components/lib/Tag/Tag.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),s=d(o),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),r=d(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),l=d(n("../components/lib/Avatar/Avatar.js")),c=d(n("../components/lib/Tag/Tag.module.css"));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.handleRemove=n.handleRemove.bind(n),n.getRef=n.getRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"handleSelect",value:function(e){var t=this.props,n=t.id,a=t.onSelectTag,o=void 0===a?null:a;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),o&&o(n,e)}},{key:"handleRemove",value:function(e){var t=this.props,n=t.onRemove,a=t.id;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),n&&n(a)}},{key:"getRef",value:function(e){var t=this.props,n=t.getRef,a=t.id;n&&n(e,a)}},{key:"render",value:function(){var e=this.props,t=e.imageURL,n=e.hasAvatar,a=e.text,o=e.onRemove,i=e.initial,d=e.active,u=e.size,p=e.rounded,m=e.palette,h=e.disabled,f=e.closePalette,g=e.onSelectTag,b=e.closeTitle,v=e.dataId,y=e.className,C=e.iconName,E=e.iconSize;return s.default.createElement("div",{className:c.default.container+" "+(d?c.default.selected:"")+" "+(o?c.default.effect:"")+"  "+c.default[u]+" "+(p?c.default.lgRadius:c.default.smRadius)+" "+c.default[m]+" "+(h?c.default.disabled:"")+" "+(g?c.default.pointer:"")+" "+(y||""),"data-id":d?v+"_TagSelected":v+"_Tag",onClick:this.handleSelect,ref:this.getRef},n?s.default.createElement("div",{className:c.default.avatar},s.default.createElement(l.default,{name:i,size:"small",src:t})):null,C?s.default.createElement("div",{className:c.default.icon},s.default.createElement(r.default,{name:C,size:E})):null,s.default.createElement("div",{className:c.default.text,"data-title":a},a),o&&s.default.createElement("div",{className:c.default.close+" "+c.default["close"+f],"data-id":v+"_RemoveTag","data-title":b,onClick:this.handleRemove},s.default.createElement(r.default,{isBold:!0,name:"ZD-close2",size:"8"})))}}]),t}();t.default=u,u.defaultProps={active:!1,closePalette:"danger",hasAvatar:!1,palette:"default",rounded:!0,size:"medium",dataId:"tag"},u.propTypes={active:i.PropTypes.bool,className:i.PropTypes.string,closePalette:i.PropTypes.oneOf(["danger","primary"]),closeTitle:i.PropTypes.string,dataId:i.PropTypes.string,disabled:i.PropTypes.bool,getRef:i.PropTypes.func,hasAvatar:i.PropTypes.bool,iconName:i.PropTypes.string,iconSize:i.PropTypes.string,id:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),imageURL:i.PropTypes.string,initial:i.PropTypes.string,onRemove:i.PropTypes.func,onSelectTag:i.PropTypes.func,palette:i.PropTypes.oneOf(["default","danger","secondary","pureDotted","primaryDotted"]),rounded:i.PropTypes.bool,size:i.PropTypes.oneOf(["small","medium"]),text:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number])},u.propTypesDescription={hasAvatar:" ",onRemove:" ",active:" ",onSelectTag:" ",text:" ",imageURL:" ",id:" ",initial:" ",size:" ",rounded:" ",palette:" ",closePalette:" ",disabled:" ",getRef:" ",closeTitle:" "}},"../components/lib/Textarea/Textarea.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(n("../components/lib/Textarea/Textarea.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"onChange",value:function(e){e&&e.preventDefault();var t=this.props.onChange;t&&t(e.target.value,e)}},{key:"onBlur",value:function(e){e&&e.preventDefault();var t=this.props.onBlur;t&&t(e.target.value,e)}},{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.placeHolder,o=e.needBorder,i=e.text,l=e.isDisabled,c=e.resize,d=e.maxLength,u=e.animated,p=e.variant,m=e.getRef,h=e.onFocus,f=e.dataId,g=e.className,b=e.isReadOnly,v=e.needAppearance,y=e.needReadOnlyStyle,C={horizontal:"resizeX",vertical:"resizeY",both:"resizeboth",none:"noresize"},E={};b&&(E.readOnly="readOnly"),l&&(E.disabled="disabled");var I=v?r.default.container+" "+r.default[t]+" "+r.default[p]+" "+(o?r.default.needBorder:r.default.noBorder)+" "+(c?r.default[C[c]]:r.default[C.none])+"  "+(u?r.default.animated:"")+"   "+(l||b?"":r.default.effect)+"   ":""+r.default.basic;return s.default.createElement("textarea",a({className:(g||"")+" "+(b&&y?r.default.readonly:"")+" "+I,placeholder:n},E,{"data-id":f,maxLength:d,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:h,onBlur:this.onBlur,ref:m,value:i}))}}]),t}();t.default=c,c.defaultProps={isDisabled:!1,isReadOnly:!1,dataId:"TextareaComp",needBorder:!0,resize:"none",size:"small",variant:"default",needAppearance:!0,needReadOnlyStyle:!0},c.propTypes={animated:i.default.bool,className:i.default.string,dataId:i.default.string,getRef:i.default.func,isDisabled:i.default.bool,isReadOnly:i.default.bool,maxLength:i.default.oneOfType([i.default.string,i.default.number]),needAppearance:i.default.bool,needBorder:i.default.bool,needReadOnlyStyle:i.default.bool,onBlur:i.default.func,onChange:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,placeHolder:i.default.string,resize:i.default.oneOf(["horizontal","vertical","both","none"]),size:i.default.oneOf(["xsmall","small","medium","large"]),text:i.default.string,variant:i.default.oneOf(["default","primary"])},c.propTypesDescription={needBorder:" ",isDisabled:" ",resize:" ",size:" ",variant:" ",placeHolder:" ",text:" ",onChange:" ",maxLength:" ",animated:" ",getRef:" ",onFocus:" ",onBlur:" "}},"../components/lib/utils/dropDownUtils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetGroupSelectFilterSuggestions=t.makeGetGroupSelectOptions=t.makeObjectConcat=t.makeGetSelectedValueText=t.makeGetMultiSelectSelectedOptions=t.makeFormatOptions=t.extractOptionId=t.optionIdGrouping=t.makeGetMultiSelectFilterSuggestions=t.getPrefixText=t.getOptionType=t.getIconSize=t.getIconName=t.getImageField=t.getTextField=t.getValueField=t.getOptions=t.dummyObj=t.dummyArray=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,s=void 0;try{for(var i,r=e[Symbol.iterator]();!(a=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(o)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),i=n("../components/lib/utils/Common.js");function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=t.dummyArray=[],c=t.dummyObj={},d=t.getOptions=function(e){return e.options||l},u=function(e){return e.optionsOrder||l},p=function(e){return e.selectedOptions||l},m=function(e){return e.searchStr||""},h=t.getValueField=function(e){return e.valueField||""},f=t.getTextField=function(e){return e.textField||""},g=t.getImageField=function(e){return e.imageField||""},b=t.getIconName=function(e){return e.iconName||""},v=t.getIconSize=function(e){return e.iconSize||""},y=t.getOptionType=function(e){return e.optionType||""},C=function(e){return e.needSearch},E=function(e){return e.isDefaultSelectValue},I=function(e){return(0,i.getIsEmptyValue)(e.selectedOptionsLength)?"":e.selectedOptionsLength},k=function(e){return e.normalizedFormatOptions||c},A=function(e){return(0,i.getIsEmptyValue)(e.selectedValue)?"":e.selectedValue},_=function(e){return e.selectedFormatOptions||c},S=t.getPrefixText=function(e){return e.prefixText||""},O=function(e){return e.isStartsWithSearch},j=t.makeGetMultiSelectFilterSuggestions=function(){return(0,s.createSelector)([d,p,m,C,O],function(e,t,n,a,o){var s=[],i=[];return e.forEach(function(e){var r=e.id,l=e.value,c=void 0===l?"":l,d=c.replace?c.replace(/\s+/g,"").toLowerCase():c.toString(),u=n.replace(/\s+/g,"").toLowerCase(),p=!a||(o?d.startsWith(u):-1!==d.indexOf(u));-1===t.indexOf(r)&&p&&(s.push(e),i.push(r))}),{suggestions:s,suggestionIds:i}})},x=t.optionIdGrouping=function(e,t){return(0,i.getIsEmptyValue)(e)?"":(0,i.getIsEmptyValue)(t)?e:("number"==typeof t?"Int":"Str")+"_"+t+"_"+("number"==typeof e?"Int":"Str")+"_"+e},N=(t.extractOptionId=function(e){if((0,i.getIsEmptyValue)(e))return{id:""};if("number"==typeof e)return{id:e};var t=e.split&&e.split("_");if(1===t.length)return t[0];if(4===t.length){var n=o(t,4),a=n[0],s=n[1],r=n[2],l=n[3];return{id:l="Int"===r?Number.parseInt(l):l,groupId:s="Int"===a?Number.parseInt(s):s}}},t.makeFormatOptions=function(){return(0,s.createSelector)([d,h,f,g,S,b,v,y],function(e,t,n,o,s,r,l,c){var d=[],u=[],p={},m={};return e.forEach(function(e){if(!(0,i.getIsEmptyValue)(e)){var h=e.valueField,f=e.textField,g=e.imageField,b=e.optionType,v=e.iconName,y=e.iconSize,C="object"===(void 0===e?"undefined":a(e))?e[h||t]:e,E="object"===(void 0===e?"undefined":a(e))?e[f||n]:e,I="object"===(void 0===e?"undefined":a(e))?e[g||o]:"";if(C=(0,i.getIsEmptyValue)(C)?"":x(C,s),-1===u.indexOf(C)&&!(0,i.getIsEmptyValue)(C)&&!(0,i.getIsEmptyValue)(E)){u.push(C);var k={id:C,value:E,optionType:b||c};o&&(k.photoURL=I),(v||r)&&(k.icon=v||r),(y||l)&&(k.iconSize=y||l),m[C]=k,p[C]=e,d.push(k)}}}),{allOptions:d,normalizedAllOptions:p,normalizedFormatOptions:m,optionsOrder:u}})}),D=(t.makeGetMultiSelectSelectedOptions=function(){return(0,s.createSelector)([p,k,I],function(e,t,n){var a=[],o=[],s={};n=(0,i.getIsEmptyValue)(n)?e.length:n;for(var r=0;r<n;r++){var l=e[r],c=(t[l]||{}).id;-1===o.indexOf(c)&&(0,i.getIsEmptyValue)(c)&&!(0,i.getIsEmptyValue)(l)?a.push({id:l,value:l}):-1!==o.indexOf(c)||(0,i.getIsEmptyValue)(c)||(o.push(c),a.push(t[l]),s[c]=t[l])}return{formatSelectedOptions:a,normalizedSelectedOptions:s,selectedOptionIds:o}})},t.makeGetSelectedValueText=function(){return(0,s.createSelector)([u,k,A,_,E,h,f],function(e,t,n,s,r,l,d){var u=e.indexOf(n),p=!1;(0,i.getIsEmptyValue)(n)&&r&&(n=o(e,1)[0],p=!0);var m,h,f,g=Object.assign({},s,t)[n],b=-1!==u?u:0,v=g?(f=g,(h=n)in(m={})?Object.defineProperty(m,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[h]=f,m):c,y=g||c,C=y.value,E=void 0===C?"":C,I=y.id;if((0,i.getIsEmptyValue)(I))if("object"===(void 0===n?"undefined":a(n))){var k=n[l],A=n[d];v={id:k,value:A},E=A,I=k,b=-1!==(u=e.indexOf(I))?u:0}else E=n,I=n;return{selected:E,hoverIndex:b,selectedValueDetails:v,selectedId:I,isSelfValueChanged:p}})},function(e){return e.obj1||c}),T=function(e){return e.obj2||c},P=(t.makeObjectConcat=function(){return(0,s.createSelector)([D,T],function(e,t){return Object.assign({},e,t)})},function(e){return e.groupedOptions||l}),w=N(),z=(t.makeGetGroupSelectOptions=function(){return(0,s.createSelector)([P],function(e){var t=[],n=[],a={},o={},s=[];return e.forEach(function(e){var l=e.options,c=e.id,d=e.name,u=e.valueField,p=e.textField;if(!(0,i.getIsEmptyValue)(c)&&-1===s.indexOf(c)){s.push(c);var m=w({options:l,valueField:u,textField:p,prefixText:c}),h=m.allOptions,f=m.normalizedAllOptions,g=m.normalizedFormatOptions,b=m.optionsOrder;b.length&&(t.push({id:c,name:d,options:h}),n=[].concat(r(n),r(b)),a=Object.assign({},a,f),o=Object.assign({},o,g))}}),{revampedGroups:t,normalizedAllOptions:a,normalizedFormatOptions:o,allOptionIds:n}})},function(e){return e.revampedGroups}),R=j();t.makeGetGroupSelectFilterSuggestions=function(){return(0,s.createSelector)([z,m,C,O],function(e,t,n,a){var o=[],s=[];return e.forEach(function(e){var i=e.options,l=R({options:i,needSearch:n,searchStr:t,isStartsWithSearch:a}),c=l.suggestions,d=l.suggestionIds;d.length&&(o.push(Object.assign({},e,{options:c})),s=[].concat(r(s),r(d)))}),{suggestionGroups:o,suggestionOptionIds:s}})}},"./src/actions/AgentAction.js":function(e,t,n){"use strict";n.d(t,"k",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"i",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return C}),n.d(t,"a",function(){return E}),n.d(t,"m",function(){return k}),n.d(t,"e",function(){return _}),n.d(t,"g",function(){return S}),n.d(t,"n",function(){return O});n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js");var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),i=n("./src/utils/Common.js"),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),l=n("./src/reducers/selector.js"),c=n("./src/utils/departmentQuery.js"),d=n("./src/constants/index.js"),u=n("./src/constants/agents.js");function p(e){return{types:Object(i.m)("AGENTS_COUNT"),callAPI:function(t){var n=Object(l.t)(t);return Object(s.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return o()({},e,{id:e.agentId})}),{countData:e.data,deptId:n}):{}})}}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e.from=I(e,"from","1"),e.limit=I(e,"limit","100"),e.searchStr=k(e);var n=e.from>1?"AGENT_NEXT":d.R.AGENT;return{types:Object(i.m)(n),callAPI:function(n){var a="/api/v1/agents?orgId="+n.currentOrgId+(t&&"allDepartment"!==t?"&departmentId="+t:"");return a+=E(e,["from","limit","status","isConfirmed","searchStr","profileIds","roleIds"]),Object(s.a)(a).get().then(function(n){if(204!==n.responseStatus){var a=n.data.length<e.limit,s=Object(r.b)(n.data,Object(r.a)(Object(r.c)(d.R.AGENT_L)));return o()(s,{noMoreData:a,depId:t})}return{entities:{noMoreData:!0},result:[]}})}}}function h(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{types:Object(i.m)(t>1?"AGENT_NEXT":d.R.AGENT),callAPI:function(i){return Object(s.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed="+a,!1,{orgId:i.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var a=t.data.length<n,s=Object(r.b)(t.data,Object(r.a)(Object(r.c)(d.R.AGENT_L)));return o()(s,{noMoreData:a,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(i.m)(d.R.AGENT),callAPI:function(n){return Object(s.a)("/api/v1/agents/"+e,!1,{orgId:n.currentOrgId}).get().then(function(e){var n=Object(r.b)(e,Object(r.c)(d.R.AGENT_L));return o()(n,{depId:t})})}}}function g(e){return{types:Object(i.m)(d.R.AGENT),callAPI:function(t){return Object(s.a)("/api/v1/agents/zuid/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(e,Object(r.c)(d.R.AGENT_L))})}}}function b(e,t,n){return{types:Object(i.m)("AGENT_SEARCH"),callAPI:function(a){return Object(s.a)("/api/v1/agents?searchStr=*"+e+"*&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed=true",!1,{orgId:a.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var a=e.data.length<n,s=Object(r.b)(e.data,Object(r.a)(Object(r.c)(d.R.AGENT_L)));return o()(s,{noMoreData:a})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.z,u=arguments[4];return{types:Object(i.m)(d.R.AGENT),callAPI:function(i){var p={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",m=u||Object(l.t)(i),h=u?"&departmentId="+u:Object(c.a)(i,!0),f="/api/v1/agents?"+(p?p+"&":"")+"from="+t+"&limit="+(2*a>200?200:2*a)+(n?"&searchStr=*"+n+"*":"")+h;return Object(s.a)(encodeURI(f),!1,{orgId:i.currentOrgId}).get().then(function(s){return o()({},Object(r.b)(204!==s.responseStatus?s.data:[],Object(r.a)(Object(r.c)(d.R.AGENT_L))),{deptId:m,from:t,limit:a,isNext:!!s.data&&s.data.length>a,searchStr:n,agentType:e})},function(e){throw e})}}}function y(e){return{types:Object(i.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(s.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(204!==e.responseStatus?e.data:[],Object(r.a)(Object(r.c)(d.R.AGENT_L)))})}}}function C(e){return{types:Object(i.m)("TEAM_AGENT"),callAPI:function(t){return Object(s.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(e.members,Object(r.a)(Object(r.c)(d.R.AGENT_L)))})}}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n="";return t.map(function(t){void 0!==e[t]&&(n+="&"+t+"="+e[t])}),n}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2];return void 0!==e[t]?e[t]:n}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=I(e,"searchType","string"),n=e.searchStr;return n&&(n="string*"==t?n+"*":"*string*"==t?"*"+n+"*":n),n}function A(e){var t=e.isConfirmed,n=e.status;switch(n){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===n)return u.b}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=I(e,"from","1"),e.limit=I(e,"limit","100"),e.searchStr=k(e);var t=e.from>1?u.k:u.j;return{types:Object(i.m)(t),callAPI:function(t){var n="/api/v1/agents?orgId="+t.currentOrgId;return n+=E(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(s.a)(n).get().then(function(t){return o()(Object(r.b)(void 0!==t.data?t.data:[],Object(r.a)(Object(r.c)(d.R.AGENT_L))),{status:A(e)})})}}}function S(e,t,n){var a={status:e,isConfirmed:t,includeLightAgent:n};return a.includeLightAgent=I(a,"includeLightAgent",!0),{types:Object(i.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=E(a,["status","isConfirmed","includeLightAgent"]),Object(s.a)(t).get().then(function(e){return o()({},e,{status:A(a)})})}}}function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}},"./src/actions/AgentCollisionActions.js":function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"f",function(){return b});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),i=n("./src/utils/Common.js"),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function l(e){return{types:Object(i.m)("COLLIDING_USERS"),callAPI:function(t,n){return Object(s.a)("/api/v1/tickets/"+e+"/collision?include=author",!1,{orgId:t.currentOrgId}).get().then(function(e){var t=n(),a=Object(r.b)(e.collisionUsers,Object(r.a)(Object(r.c)("collisionUser",{id:"agentId",mapping:{author:Object(r.c)("agent")}}))),s=e.collisionUsers;return s=f(s=s.filter(function(e){return e.agentId&&e.agentId!=t.myInfo.id})),{collisionData:e=o()({},e,{collisionUsers:s,activeUsersLen:s.length}),entities:{agent:a.entities.agent}}})}}}function c(e,t,n){return{types:Object(i.m)("PUBLISH_USERACTION"),callAPI:function(a){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userAction",!1,{orgId:a.currentOrgId}).post("",{actionType:t,instanceId:n}).then(function(e){return e})}}}function d(e,t){return{types:Object(i.m)("CREATE_CHAT"),callAPI:function(n){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:n.currentOrgId}).post("",{actionType:"createChat",agentId:t}).then(function(e){return e})}}}function u(e){return{types:Object(i.m)("CREATE_GROUPCHAT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"createGroupChat"}).then(function(e){return e})}}}function p(e){return{types:Object(i.m)("JOIN_CHAT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"joinChat"}).then(function(e){return e})}}}function m(e){return{types:Object(i.m)("LEAVE_CHAT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"leaveChat"}).then(function(e){return e})}}}function h(e,t){return{types:Object(i.m)("ADD_CHATMEMBERS"),callAPI:function(n){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:n.currentOrgId}).post("",{actionType:"addChatMembers",agentId:t}).then(function(e){return e})}}}function f(e){var t=0,n=0;return e=e.map(function(e,a){var s=Math.floor(a/4);if(n=55*s,0!=a){var i=(a+1)%4-1;t=i<0?165:55*i}return o()(e,{leftPos:t,topPos:n})})}function g(e){return{type:"CLEAR_COLLISION_DATA",data:{ticketId:e}}}function b(){return{types:Object(i.m)("GET_COLLISION_COMPRESS_META"),shouldCallAPI:function(e){return!e.ticketUIStatecollisionCompressMeta},callAPI:function(e){return Object(s.a)("/api/v1/realTime/ticketMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}},"./src/actions/BluePrintActions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"j",function(){return d}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"i",function(){return g});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),i=n("./src/utils/Common.js");function r(e){return{types:Object(i.m)("GET_APPLIED_BLUEPRINT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/blueprint?include=transitionOwnerAgents,transitionOwnerTeams,transitionOwnerDept",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:o()({},e,{transitionData:204==t.responseStatus?"":t})},result:[]}})}}}function l(e,t){return{types:Object(i.m)("GET_TRANSITIONS"),callAPI:function(n){return Object(s.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/form",!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}}function c(e,t,n){return{types:Object(i.m)("PERFORM_TRANSITION"),callAPI:function(a){return Object(s.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/perform",!1,{orgId:a.currentOrgId}).post("",n).then(function(t){return{entities:{ticket:o()({},e,{status:t.updatedState})},result:[]}})}}}function d(e,t,n){return{types:Object(i.m)("VALIDATE_FIELD_UPDATES"),callAPI:function(a){return Object(s.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/validateFieldUpdates",!1,{orgId:a.currentOrgId}).post("",n).then(function(e){return e})}}}function u(e){return{types:Object(i.m)("REVOKE_BLUEPRINT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/revokeBlueprint",!1,{orgId:t.currentOrgId}).post().then(function(t){return{entities:{ticket:o()({},e,{transitionData:""})},result:[]}})}}}function p(){return{type:"OPEN_FLOWCHAT"}}function m(){return{type:"CLOSE_FLOWCHAT"}}function h(e){return{type:"OPEN_TRANSITION_FORM",data:e}}function f(){return{type:"CLOSE_TRANSITION_FORM"}}function g(e){return{type:"TOGGLE_TRANSITION_FORM",data:e}}},"./src/actions/ReplyActions.js":function(e,t,n){"use strict";n.d(t,"f",function(){return f}),n.d(t,"i",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"a",function(){return v}),n.d(t,"j",function(){return y}),n.d(t,"e",function(){return C}),n.d(t,"h",function(){return E}),n.d(t,"g",function(){return I}),n.d(t,"c",function(){return k}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return _}),n.d(t,"k",function(){return S});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),l=n.n(r),c=n("./src/utils/RequestAPI.js"),d=n("./src/utils/Common.js"),u=n("./src/constants/index.js"),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),h=n.n(m);function f(e,t){return{types:Object(d.m)("SAVEDRAFT"),callAPI:function(n,a){return Object(c.a)("/api/v1/tickets/"+e+"/draftReply",!1,{orgId:n.currentOrgId}).post("",t).then(function(t){var n=a(),s=t.id;if(!Object(d.L)(n,e,s)){var r=l()({},s,t),c=i()({},r,n.module.thread),u=n.module.ticket[e].thread||[],p=n.module.ticket[e].conversationIds||[],m=[s].concat(o()(u)),h=[{id:s,type:"thread"}].concat(o()(p));return{data:t,entities:{thread:c,ticket:l()({},e,{thread:m,conversationIds:h})}}}return{data:t}})}}}function g(e,t){return{types:Object(d.m)("SEND_FOR_REVIEW"),callAPI:function(n,a){return Object(c.a)("/api/v1/tickets/"+e+"/threads/"+t+"/sendForReview",!1,{orgId:n.currentOrgId}).post("").then(function(e){return e})}}}function b(e,t,n){return{types:Object(d.m)("UPDATEDRAFT"),callAPI:function(a,o){return Object(c.a)("/api/v1/tickets/"+e+"/draftReply/"+t,!1,{orgId:a.currentOrgId}).patch("",n).then(function(n){var a=o(),s=a.module.ticket[e].conversationIds||[],i=a.module.ticket[e].thread||[];if(s.length){for(var r=0,c=0;c<=s.length;c++)if(s[c].id==t){r=c;break}s.splice(0,0,s.splice(r,1)[0])}else{var d=i.indexOf(t);i.splice(0,0,i.splice(d,1)[0])}return{data:n,entities:{thread:l()({},t,n),ticket:l()({},e,{conversationIds:s,thread:i})}}})}}}function v(e,t,n){return{types:Object(d.m)("TICKET_THREAD_DELETE"),callAPI:function(a,o){return Object(c.a)(e,!1,{orgId:a.currentOrgId}).del().then(function(e){var a=o();return Object(d.L)(a,t,n)?{}:{ticketId:t,threadId:n}})}}}function y(e,t,n){var a=n?"?isPrivate=true":"";return{types:Object(d.m)("SENDREPLY"),callAPI:function(n,s){return Object(c.a)("/api/v1/tickets/"+e+"/sendReply"+a,!1,{orgId:n.currentOrgId}).post("",t).then(function(t){var n=s(),a=t.id;if(!Object(d.L)(n,e,a)){var r=l()({},a,t),c=i()({},r,n.module.thread),u=n.module.ticket[e].thread||[],p=n.module.ticket[e].conversationIds||[],m=[a].concat(o()(u)),h=[{id:a,type:"thread"}].concat(o()(p));return{data:t,entities:{thread:c,ticket:l()({},e,{thread:m,conversationIds:h})}}}return t})}}}function C(e,t,n){return{types:Object(d.m)("RESEND_THREAD"),callAPI:function(a,o){return Object(c.a)(e,!1,{orgId:a.currentOrgId}).post().then(function(e){var a=o();if(!Object(d.L)(a,n,t)){var s=a.module.ticket[n].conversationIds||[],i=a.module.ticket[n].thread||[];if(s.length){for(var r=0,c=0;c<=s.length;c++)if(s[c].id==t){r=c;break}s.splice(0,0,s.splice(r,1)[0])}else{var u=i.indexOf(t);i.splice(0,0,i.splice(u,1)[0])}return{data:e,entities:{thread:l()({},t,e),ticket:l()({},n,{thread:i,conversationIds:s})}}}return e})}}}function E(e,t,n,a){return e=a?e+"&isPrivate=true":e,{types:Object(d.m)("SENDDRAFT"),callAPI:function(a,o){return Object(c.a)(e,!1,{orgId:a.currentOrgId}).post().then(function(e){var a=o(),s=a.module.ticket[t].conversationIds||[],i=a.module.ticket[t].thread||[];if(s.length){for(var r=0,c=0;c<=s.length;c++)if(s[c].id==n){r=c;break}s.splice(0,0,s.splice(r,1)[0])}else{var d=i.indexOf(n);i.splice(0,0,i.splice(d,1)[0])}return{data:e,entities:{thread:l()({},n,e),ticket:l()({},t,{conversationIds:s,thread:i})}}})}}}function I(e){return{types:Object(d.m)("SEARCHCONTACT"),callAPI:function(t,n){return Object(c.a)("/api/v1/contacts/search?limit=10&email="+e+"*",!1,{orgId:t.currentOrgId}).get().then(function(e){return 204==e.responseStatus?{list:[]}:i()(Object(p.b)(e.data,Object(p.a)(Object(p.c)(u.R.CONTACT_L))),{list:e.data})})}}}function k(e){return{types:Object(d.m)("FROMEMAILADDRESS"),shouldCallAPI:function(t){return!h()("departmentSpecificState["+e+"].fromEmailAddress",t).length},callAPI:function(t){return Object(c.a)("/api/v1/mailReplyAddress?departmentId="+e+"&isActive=true",!1,{orgId:t.currentOrgId}).get().then(function(t){return 204!=t.responseStatus?{entities:{},result:[],address:t.data,deptId:e}:{res:t,entity:{},result:[]}})}}}function A(e){return{types:Object(d.m)("HAPPINESS_LINK_HOLDER"),callAPI:function(t){return Object(c.a)("/api/v1/customerHappinessLinkHolder?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return{linkHolder:t.linkHolder,deptId:e}})}}}function _(e){return{types:Object(d.m)("MAIL_CONFIGURATIONS"),shouldCallAPI:function(t){return!h()("departmentSpecificState["+e+"].mailConfigurations.privateThreadConfig",t)},callAPI:function(t){return Object(c.a)("/api/v1/departments/"+e+"/mailConfigurations",!1,{orgId:t.currentOrgId}).get().then(function(t){return{res:t,deptId:e,entity:{},result:[]}})}}}function S(e){return function(t,n){for(var a=n(),o=a.module.ticket[e],s=o.thread,i=void 0===s?[]:s,r=o.conversationIds,c=o.commentCount,d=a.module.thread,u=0,p=0;p<i.length;p++)d[p]&&"DRAFT"!=d[p].status&&(u=1);var m=i[0];if(r){for(var h=0,f=0;f<r.length;f++)"thread"!=r[f].type||m||(m=r[f].id),d[r[f].id]&&"DRAFT"!=d[r[f].id].status&&(h+=1);u=h-parseInt(c)}var g={recentThreadId:m,recentThread:m?a.module.thread[m]:null,threadCount:u};return t({type:"SET_RECENT_THREAD_DATA_SUCCESS",data:{entities:{ticket:l()({},e,g)}}})}}},"./src/actions/TemplateActions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),i=n("./src/constants/index.js"),r=n("./src/utils/Common.js"),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.db;return n=n.trim(),{types:Object(r.m)(i.R.TICKET_TEMPLATE),shouldCallAPI:function(o){if(a)return!0;var s=o.ticketTemplate,i=s.deptId,r=s.searchStr,l=s.from;return e!==i||n!==r||t!==l},callAPI:function(a){var r=a.currentOrgId,d=2*c>100?100:2*c;return Object(s.a)(i.B+"ticketTemplates?from="+t+"&limit="+d+"&departmentId="+e+(n?"&templateName="+n:""),!1,{orgId:r}).get().then(function(a){var s=Object(l.b)(204!==a.responseStatus?a.data:[],Object(l.a)(Object(l.c)(i.R.TICKET_TEMPLATE_L)));return o()({},s,{from:t,limit:c,isNextData:!!a.data&&a.data.length>c,searchStr:n,deptId:e})})},payload:{from:t}}}function d(e){return{types:Object(r.m)("TICKET_TEMPLATE_DETAIL"),callAPI:function(t){var n=t.currentOrgId;return Object(s.a)(i.B+"ticketTemplates/"+e,!1,{orgId:n}).get().then(function(e){return Object(l.b)(e,Object(l.c)(i.R.TICKET_TEMPLATE_L))},function(e){throw e})}}}function u(e,t,n,a,o){var l="departmentId="+e+"&module="+t+"&from="+n+"&limit="+a;return""!=o&&o&&(l+="&searchStr=*"+o+"*"),{types:Object(r.m)("EMAIL_TEMPLATE_LIST"),callAPI:function(e){return Object(s.a)(i.B+"templates?"+l,!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function p(e,t){return{types:Object(r.m)("TEMPLATESFOLDERSLIST"),callAPI:function(n){return Object(s.a)("/api/v1/templates/"+e+"/render?entityId="+t,!1,{orgId:n.currentOrgId}).post("").then(function(e){return{res:e,entity:{},result:[]}})}}}},"./src/components/Image/Image.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Image/Image.module.css"),v=n.n(b),y=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alt,n=e.src,a=e.className,o=e.isCover,s=e.title,i=e.onClick,r=e.dataId;return h.a.createElement("img",{src:n,alt:t,"data-title":s,"data-id":r,className:" "+a+" "+(o?v.a.imgFullSize:v.a.imgMaxFullSize)+" ",onClick:i})}}]),t}(h.a.Component);t.a=y,y.propTypes={alt:g.a.string.isRequired,className:g.a.string,dataId:g.a.string,isCover:g.a.bool,onClick:g.a.func,src:g.a.string.isRequired,title:g.a.string},y.defaultProps={isCover:!1,className:""}},"./src/components/MorePopup/MorePopup.js":function(e,t,n){"use strict";var a,o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(o),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n.n(i),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=n.n(l),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=n.n(p),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=n.n(h),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=n.n(g),v=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(v),C=n("./src/components/MorePopup/MorePopup.module.css"),E=n.n(C),I=n("../components/lib/common/common.module.css"),k=n.n(I),A=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),_=n.n(A),S=n("../components/lib/Popup/Popup.js"),O=n.n(S),j=n("../components/lib/DropBox/DropBox.js"),x=n.n(j),N=n("../components/lib/DropDown/DropDownSeparator.js"),D=n.n(N),T=n("../components/lib/ListItem/ListItemWithIcon.js"),P=n.n(T),w=n("./src/components/setup/timetrack/utils.js"),z=function(e){function t(e){c()(this,t);var n=m()(this,(t.__proto__||r()(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.togglePopup=n.togglePopup.bind(n),n}return f()(t,e),u()(t,[{key:"handleSelect",value:function(e,t,n,a){if(void 0!==this.props.onSelect){var o=this.props;(0,o.onSelect)(e,o.entity)}this.props.togglePopup(a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.boxPosition;Object(w.a)(e),n(e,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isPopupOpen,a=t.onPopupChange;e.isPopupOpen!==n&&a&&a(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=void 0===n?"white":n,o=t.objValues,s=t.Icnsize,i=t.IcnName,r=t.arrowPosition,l=t.position,c=t.right,d=t.widgets,u=void 0===d?[]:d,p=t.onWidgetScroll,m=t.onWidgetSelect,h=t.selectedWidgetId,f=t.arrowRight,g=t.arrowLeft,v=t.size,y=t.left,C=t.isPopupOpen,I=t.isPopupReady,A=t.getTargetRef,S=t.getContainerRef,O=t.dataId,j=t.isArrow,N=t.dataTitle;return s=s||"medium",b.a.createElement("span",{className:k.a.posrel,ref:A,"data-id":O,onClick:this.togglePopup},b.a.createElement("span",{className:E.a.defaultSize+" "+k.a.posrel+" "+E.a[a]},b.a.createElement("span",{"data-title":N},b.a.createElement(_.a,{name:i,size:s}))),C?b.a.createElement(x.a,{isAnimate:!0,isArrow:j,right:c,left:y,isActive:I,size:v,arrowRight:f,arrowLeft:g,boxPosition:l,getRef:S,arrowPosition:r,dataId:O+"list"},o.map(function(t,n){return b.a.createElement(P.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:n,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),o.length&&u.length?b.a.createElement(D.a,null):null,u.length?b.a.createElement("div",{className:E.a.widgetList,onScroll:p},u.map(function(e){var t=e.name,n=e.sanitisedName+"_"+e.installationId;return h!=n?b.a.createElement(P.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:n,id:n,onClick:function(){m(n,e)}}):null})):null):null)}}]),t}(g.Component);z.defaultProps={IcnName:"ZD-more1",size:"small"},z.propTypes=(a={IcnName:y.a.string,Icnsize:y.a.string,arrowLeft:y.a.string,arrowPosition:y.a.string,arrowRight:y.a.string,boxPosition:y.a.string,dataId:y.a.string,dataTitle:y.a.string,entity:y.a.object,getContainerRef:y.a.func},s()(a,"getContainerRef",y.a.func),s()(a,"getTargetRef",y.a.func),s()(a,"isArrow",y.a.bool),s()(a,"isPopupOpen",y.a.bool),s()(a,"isPopupReady",y.a.bool),s()(a,"isScroll",y.a.bool),s()(a,"left",y.a.string),s()(a,"objValues",y.a.array),s()(a,"onPopupChange",y.a.func),s()(a,"onSelect",y.a.func),s()(a,"onWidgetScroll",y.a.func),s()(a,"onWidgetSelect",y.a.func),s()(a,"position",y.a.string),s()(a,"removeClose",y.a.func),s()(a,"right",y.a.string),s()(a,"selectedWidgetId",y.a.string),s()(a,"size",y.a.string),s()(a,"theme",y.a.string),s()(a,"togglePopup",y.a.func),s()(a,"widgets",y.a.array),a),t.a=O()(z)},"./src/components/SearchResults/SearchResults.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/SearchResults/SearchResults.module.css"),v=n.n(b),y=n("../components/lib/Avatar/Avatar.js"),C=n.n(y),E=n("../components/lib/DropBox/DropBox.js"),I=n.n(E),k=n("../components/lib/Layout/index.js"),A=n("./src/utils/Common.js"),_=n("./src/fz-i18n/index.js"),S=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.getScrollContainerRef=n.getScrollContainerRef.bind(n),n.getSelectedItemRef=n.getSelectedItemRef.bind(n),n.onScroll=n.onScroll.bind(n),n.isFetching=!1,n}return p()(t,e),l()(t,[{key:"getScrollContainerRef",value:function(e){this.scrollContainerRef=e}},{key:"getSelectedItemRef",value:function(e){this.selectItemRef=e}},{key:"componentDidUpdate",value:function(){var e=this.props.selectSearchIndex,t=this.scrollContainerRef,n=this.selectItemRef;if(n&&t){var a=n.offsetTop-t.scrollTop,o=n.offsetHeight,s=t.offsetHeight;(a<0||o+a>s)&&(t.scrollTop=0==e?0:t.scrollTop+a)}}},{key:"onScroll",value:function(e){var t=this;if(this.props.fetchData&&!this.isFetching){var n=e.currentTarget;n.scrollHeight<=n.scrollTop+n.offsetHeight&&(this.isFetching=!0,this.props.fetchData().then(function(){t.isFetching=!1},function(){t.isFetching=!1}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.dataId,o=t.orgName,s=(t.selectEmail,t.type),i=t.selectSearchIndex,r=(t.addTag,t.needFixed),l=t.needAvatar,c=t.onSelect;return h.a.createElement(I.a,{onScroll:this.onScroll,isArrow:!1,boxPosition:"bottomCenter",isActive:!0,className:""+(r?v.a.resetDropbox:"")},h.a.createElement("div",{ref:this.getScrollContainerRef,className:l?v.a.agentSearch:v.a.tagsSearch},n.length?n.map(function(t,n){var r=t.id,d=t.name,u=t.email,p=t.isNew,m=t.firstName,f=t.lastName,g=t.photoURL,b=t.newLabel,y=l&&g?g+"?portalname="+o:null;l&&Object(A.g)(m,f);return d=l?Object(A.e)(m,f):d,h.a.createElement(k.Container,{alignBox:"row",align:"vertical",className:v.a.asItem+" "+(i==n?v.a.selectIem:""),onMouseDown:function(){c(t,s)},eleRef:n==i?e.getSelectedItemRef:null,key:n,dataId:a+"_"+r},l?h.a.createElement(k.Box,{className:v.a.imgCont},h.a.createElement(C.a,{src:y,name:d,size:"medium"})):null,h.a.createElement(k.Box,{flexible:!0},h.a.createElement("div",{className:v.a.ashead},p?h.a.createElement("span",{className:v.a.newTag},b):null,d),u?h.a.createElement("div",{className:v.a.asemail},u):null))}):h.a.createElement("div",{className:v.a.searchDiv},_.h.getI18NValue("support.label.searching"))))}}]),t}(h.a.Component);t.a=S,S.propTypes={addTag:g.a.func,data:g.a.array,dataId:g.a.string,fetchData:g.a.oneOfType([g.a.func,g.a.bool]),isPopupOpen:g.a.bool,needAvatar:g.a.bool,orgName:g.a.string,placeholder:g.a.string,removeClose:g.a.func,selectEmail:g.a.func,selectSearchIndex:g.a.number,theme:g.a.string,togglePopup:g.a.func,type:g.a.string},S.defaultProps={data:[],needAvatar:!0}},"./src/components/Subtab/AddPopup/AddPopup.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/AddPopup/AddPopup.css"),v=n.n(b),y=n("../components/lib/Popup/Popup.js"),C=n.n(y),E=n("../components/lib/DropBox/DropBox.js"),I=n.n(E),k=n("../components/lib/ListItem/ListItemWithIcon.js"),A=n.n(k),_=n("../components/lib/DropDown/DropDownHeading.js"),S=n.n(_),O=n("./src/components/Subtab/PlusIcon/PlusIcon.js"),j=n("./src/utils/bind.js"),x=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return j.a.apply(n,["handleSelect","onAddCLick"]),n}return p()(t,e),l()(t,[{key:"handleSelect",value:function(e,t,n,a){var o=this.props,s=(o.objValues,o.onSelect),i=o.closePopupOnly;void 0!==s&&s(t,e),i(a)}},{key:"onAddCLick",value:function(e){var t=this.props,n=t.onAddCLick,a=t.closePopupOnly;n&&n(),a(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.objValues,a=(t.selectedValue,t.title),o=t.heading,s=t.isPopupOpen,i=t.removeClose,r=t.needHeader,l=t.openPopupOnly,c=t.closePopupOnly,d=n.map(function(t,n){var a=t.id,o=t.name,s=t.iconName,i=t.iconSize,r=t.dataId;return h.a.createElement(A.a,{autoHover:!0,value:o,key:n,id:a,iconName:s,iconSize:i,dataId:r,onClick:e.handleSelect})});return h.a.createElement("div",{className:v.a.container,onMouseEnter:l,onMouseLeave:c,onClick:this.onAddCLick,"data-id":"testIdOfAddPopup"},h.a.createElement(O.a,{title:a}),s&&h.a.createElement(I.a,{isActive:!0,size:"small",boxPosition:"bottomRight",arrowPosition:"start",isAnimate:!0,onClick:i,top:"25",left:"-8"},h.a.createElement("div",{className:v.a.dropContainer,"data-id":"AddpopupClick"},!!r&&h.a.createElement("div",{className:v.a.heading},h.a.createElement(S.a,{text:o})),d)))}}]),t}(m.Component);x.propTypes={closePopupOnly:g.a.func,dataId:g.a.string,heading:g.a.string,isPopupOpen:g.a.oneOfType([g.a.func,g.a.bool]),line:g.a.bool,needHeader:g.a.bool,objValues:g.a.array,onAddCLick:g.a.func,onSelect:g.a.func,openPopupOnly:g.a.func,removeClose:g.a.func,selectedFilterValue:g.a.string,selectedValue:g.a.string,title:g.a.string},t.a=C()(x)},"./src/components/Subtab/ApprovalsForm/ApprovalsForm.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(b),y=n("./src/components/Subtab/ApprovalsForm/ApprovalsForm.module.css"),C=n.n(y),E=n("../components/lib/Button/Button.js"),I=n.n(E),k=n("../components/lib/MultiSelect/MultiSelect.js"),A=n.n(k),_=n("../components/lib/TextBox/TextBox.js"),S=n.n(_),O=n("../components/lib/Textarea/Textarea.js"),j=n.n(O),x=n("./src/fz-i18n/index.js"),N=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.state={},n.onApproverChange=n.onApproverChange.bind(n),n.addApproval=n.addApproval.bind(n),n}return h()(t,e),d()(t,[{key:"onApproverChange",value:function(e){var t=this.props.onApproverChange;t(e)}},{key:"addApproval",value:function(){var e=this,t=this.props,n=t.subject,a=t.description,s=t.selectedAgents,i=t.createApproval;if(""===n||!s.length)return""===n?this.setState({isSubjectEmpty:!0}):this.setState({isSubjectEmpty:!1}),void(s.length?this.setState({isSelectedAgentsEmpty:!1}):this.setState({isSelectedAgentsEmpty:!0}));this.setState({isSubjectEmpty:!1,isSelectedAgentsEmpty:!1});var r={subject:n,approverIds:s};a&&(r=o()(r,{description:a})),this.setState({isAdding:!0}),i(r).then(function(){e.setState({isAdding:!1})},function(){e.setState({isAdding:!1})})}},{key:"render",value:function(){var e=this.props,t=e.closeForm,n=e.agentsList,a=e.getAgents,o=e.isPeekView,s=e.autoFetch,i=e.isFromBlueprint,r=e.onSubjectChange,l=e.onDescriptionChange,c=e.selectedAgents,d=e.subject,u=e.description,p=this.state,m=p.isSubjectEmpty,h=p.isSelectedAgentsEmpty,f=p.isAdding;return g.a.createElement("div",{className:C.a.addApprove+" "+(i?C.a.bluePrintLayar:"")},g.a.createElement("div",{className:o?C.a.peekapproveForm:C.a.approveForm,"data-id":"approveForm"},g.a.createElement("div",{className:C.a.listForm},g.a.createElement("div",{className:C.a.formTitle},x.h.getI18NValue("support.label.select.approver")),g.a.createElement("div",{className:C.a.formInput},g.a.createElement(A.a,{valueField:"id",textField:"name",selectedOptions:c,options:n,onChange:this.onApproverChange,getNextOptions:a,isNextOptions:s,noMoreOptionsMessage:x.h.getI18NValue("support.label.no.match.found"),emptyMessage:h?x.h.getI18NValue("support.label.empty.approver"):null,dataId:"selectApproval"}))),g.a.createElement("div",{className:C.a.listForm},g.a.createElement("div",{className:C.a.formTitle},x.h.getI18NValue("support.feedback.label.subject")),g.a.createElement("div",{className:C.a.formInput},g.a.createElement(S.a,{onChange:r,dataId:"subjectApproval",value:d,errorMsg:m?x.h.getI18NValue("crm.field.empty.check",[x.h.getI18NValue("support.feedback.label.subject")]):null}))),g.a.createElement("div",{className:C.a.listForm},g.a.createElement("div",null,x.h.getI18NValue("support.feedback.label.description")),g.a.createElement("div",{className:C.a.formInput},g.a.createElement(j.a,{text:u,dataId:"descriptionApproval",animated:!0,resize:"vertical",onChange:l}))),i?null:g.a.createElement("div",{className:C.a.buttonDiv},g.a.createElement("span",null,g.a.createElement(I.a,{text:x.h.getI18NValue("request.actions.submit.for.approval"),palette:"primaryFilled",size:"medium",onClick:this.addApproval,status:f?"loading":"none",dataId:"submitForApprovalButton"})),g.a.createElement("span",{className:C.a.cancelBtn},g.a.createElement(I.a,{text:x.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:t,dataId:"approvalCancelButton"})))))}}]),t}(g.a.Component);t.a=N,N.defaultProps={isFromBlueprint:!1},N.propTypes={agentsList:v.a.oneOfType([v.a.object,v.a.array]),autoFetch:v.a.bool,closeForm:v.a.func,createApproval:v.a.func,description:v.a.string,getAgents:v.a.oneOfType([v.a.func,v.a.bool]),isFromBlueprint:v.a.bool,isPeekView:v.a.bool,onApproverChange:v.a.func,onDescriptionChange:v.a.func,onSubjectChange:v.a.func,selectedAgents:v.a.array,subject:v.a.string}},"./src/components/Subtab/AttachPopup/AttachPopup.module.css":function(e,t,n){e.exports={defaultSize:"zd-attachpopup-defaultSize zd0f647fb073",moreclose:"zd-attachpopup-moreclose",popupDiv:"zd-attachpopup-popupDiv"}},"./src/components/Subtab/AttachmentHeader/SubtabAttachmentHeader.module.css":function(e,t,n){e.exports={container:"zd-subtabattachmentheader-container",attachicn:"zd-subtabattachmentheader-attachicn",plsIcon:"zd-subtabattachmentheader-plsIcon",fileCont:"zd-subtabattachmentheader-fileCont",label:"zd-subtabattachmentheader-label",hide:"zd-subtabattachmentheader-hide"}},"./src/components/Subtab/AttachmentList/AttachmentList.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(b),y=n("./src/components/Subtab/AttachmentList/AttachmentList.module.css"),C=n.n(y),E=n("./src/components/avatar/AvatarIcon/AvatarIcon.js"),I=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=n.n(I),A=n("./src/components/MorePopup/MorePopup.js"),_=n("./src/utils/Attachment.js"),S=n("./src/fz-i18n/index.js"),O=n("./src/utils/bind.js"),j=function(e){function t(e){l()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return O.a.apply(n,["onMoreClick"]),n}return h()(t,e),d()(t,[{key:"getMoreActionList",value:function(e){var t=this.props,n=t.haveEditPermission,a=t.isFromBlueprint,o=t.hasPrivacyMode,s={name:S.h.getI18NValue("support.label.download"),iconName:"ZD-inbox",size:"14"},i=[];if(n||a){if(o){var r=e?{name:S.h.getI18NValue("support.request.markas.private"),iconName:"ZD-invisibleNew",size:"20"}:{name:S.h.getI18NValue("support.request.markas.public"),iconName:"ZD-visibleNew",size:"20"};i.push(r)}var l={name:S.h.getI18NValue("support.permission.delete.comment"),iconName:"ZD-delete2",size:"14"};a?i.push(l):(i.push(s),i.push(l))}else i.push(s);return i}},{key:"onMoreClick",value:function(e,t){var n=this.props,a=n.deleteClick,o=n.updateClick,s=n.orgId;e==S.h.getI18NValue("support.permission.delete.comment")?a([t.id]):e==S.h.getI18NValue("support.request.markas.private")?o(t.id,!1):e==S.h.getI18NValue("support.request.markas.public")?o(t.id,!0):e==S.h.getI18NValue("support.label.download")&&Object(_.c)(t.href,s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.showAttachmentViewer,s=t.orgId,i=t.isPeekView,r=t.isFromBlueprint,l=(t.hasPrivacyMode,g.a.createElement(k.a,{name:"ZD-more",size:"20"})),c=null;return g.a.createElement("div",{className:C.a.prlb20+" "+(r?C.a.bluePrintList:"")},n.map(function(t,d){var u,p=t.isPublic,m=t.size,h=t.creatorName,f=t.href,b=t.id,v=t.name,y=t.createdTime,I=S.h.userDateFormat(new Date(y),{},"lateby","left",!1,function(){return"DD MMM YYYY"}),k=S.h.userDateFormat(new Date(y),{},"lateby","left",!1,function(){return"hh:mm A"});I!=c?c=I:I=null;var O=Object(_.l)(v)||Object(_.i)(v);return g.a.createElement("div",{className:C.a.tickethistoryCont,key:b},g.a.createElement("div",{className:C.a.subDiv,onClick:r?null:O?_.b.bind(e,b,n,function(e){a(e)}):_.n.bind(e,f,s),"data-id":"AttachmentViewer"},g.a.createElement("span",{className:C.a.avtDiv},g.a.createElement(E.a,(u={name:Object(_.d)(v),iconSize:"16",size:"xmedium"},o()(u,"iconSize","16"),o()(u,"size","xmedium"),u))),g.a.createElement("div",{className:i?C.a.peektickHisContent:C.a.tickHisContent,"data-id":"AttachDiv"},r?null:g.a.createElement("div",null,I&&g.a.createElement("div",{className:C.a.dateFont},I),g.a.createElement("div",{className:C.a.timeFont},k)),g.a.createElement("div",null,g.a.createElement("div",{className:C.a.histContent}," ",v," ")),g.a.createElement("span",null,g.a.createElement("span",{className:C.a.ticketListdiv},r?null:[g.a.createElement("span",{className:C.a.ticketHistorylist,key:"name"},h),g.a.createElement("span",{className:C.a.dot,key:"dot"},".")],g.a.createElement("span",{className:C.a.ticketHistorylist},Object(_.f)(m)),p&&g.a.createElement("span",{"data-id":"isPublic"},g.a.createElement("span",{className:C.a.dot},"."),g.a.createElement("span",{className:C.a.ticketHistorylist,"data-id":"AttachStatus"},S.h.getI18NValue("support.request.public"))))))),g.a.createElement("span",{className:C.a.attchMoreicon},r?g.a.createElement("span",{className:C.a.mode},p?S.h.getI18NValue("support.request.public"):S.h.getI18NValue("support.label.private")):null,g.a.createElement(A.a,{objValues:e.getMoreActionList(p),moreIcon:l,listStyle:"alpha",size:"small",onSelect:e.onMoreClick,entity:t,dataId:"threadOption"})))}))}}]),t}(g.a.Component);t.a=j,j.defaultProps={isFromBlueprint:!1},j.propTypes={data:v.a.array,deleteClick:v.a.func,hasPrivacyMode:v.a.bool,haveEditPermission:v.a.bool,isFromBlueprint:v.a.bool,isPeekView:v.a.bool,orgId:v.a.string,showAttachmentViewer:v.a.func,updateClick:v.a.func}},"./src/components/Subtab/AudioMessage/AudioMessage.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/AudioMessage/AudioMessage.module.css"),v=n.n(b),y=n("./src/fz-i18n/index.js"),C=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.state={playingIndex:1},n.play=n.play.bind(n),n.playNext=n.playNext.bind(n),n.pauseOthers=n.pauseOthers.bind(n),n}return p()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var n=document.getElementById("audio"+t);n&&n.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,n){e!=n+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,n=this.props.thread,a=JSON.parse(n.content),o=a.voicemailurl,s=a.recordingurl,i=a.voicemailduration,r=a.recordingduration,l=void 0,c=void 0,d=void 0,u=[],p=0;if(o.startsWith("https://")||s.startsWith("https://"))o.startsWith("https://")?(l=o,c=i,d=y.h.getI18NValue("support.twi.msg.voicemessage")):(l=s,c=r,d=y.h.getI18NValue("support.twi.msg.callrecording"));else{p=(u=JSON.parse(a.recordingurl)).length,l=u[0].url,l=p>2?l:l+u[1].rid;var m=r%3600,f=Math.floor(m/60),g=m%60,b=Math.ceil(g);c=Math.floor(r/3600)+":"+f+":"+b+" (H:M:S)",d=y.h.getI18NValue("support.twi.msg.callrecording")}return h.a.createElement("div",{className:v.a.audioDiv},h.a.createElement("div",{className:v.a.audioHead},h.a.createElement("span",{className:v.a.audioTitle},d),h.a.createElement("span",{className:v.a.audioDur},"( ",y.h.getI18NValue("crm.activities.call.duration"),":",h.a.createElement("span",null,c)," )"),p>2?h.a.createElement("span",null,y.h.getI18NValue("support.label.playing")," ",h.a.createElement("span",null,t),"/",p-1," ",y.h.getI18NValue("support.label.recording")):null),h.a.createElement("div",{className:v.a.audioSource},p>2?u.map(function(t,n){var a=u[n].rid;return a?h.a.createElement("audio",{controls:!0,id:"audio"+n,src:l+a,key:n,className:v.a.audio,onPlay:function(){e.play(n)},onEnded:function(){e.playNext(n)},style:{display:"block"}}):null}):h.a.createElement("audio",{controls:!0,src:l,className:v.a.audio})))}}]),t}(h.a.Component);t.a=C,C.propTypes={thread:g.a.object}},"./src/components/Subtab/CommentActionButton/CommentActionButton.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/CommentActionButton/CommentActionButton.module.css"),v=n.n(b),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=n.n(y),E=n("../components/lib/Switch/Switch.js"),I=n.n(E),k=n("./src/fz-i18n/index.js"),A=n("../components/lib/Layout/index.js"),_=n("../components/lib/Button/Button.js"),S=n.n(_),O=n("./src/components/setup/timetrack/utils.js"),j=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.state={isPopupOpen:!1},n.togglePopup=n.togglePopup.bind(n),n.changeMode=n.changeMode.bind(n),n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"changeMode",value:function(){var e=this.props,t=e.isPublic,n=e.changeMode;n(t?"private":"public")}},{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,n=t.revertIsCommentChanged,a=t.isCommentChanged,o=t.closeComment,s=t.toggleComment,i=t.clearComment,r=t.type,l=t.from,c=t.content,d=void 0===c?"":c,u=t.isPublic,p=t.addComment,m=t.updateComment,f=t.hasPrivacyMode,g=t.havePublicComment,b=t.dataId,y=t.isLoading,E=this.state.isPopupOpen,_="large";"leftPanel"==l&&(_="medium");var j=""==d&&"conversation"!=r;return h.a.createElement(A.Box,{className:v.a.postSubmit},h.a.createElement("span",{className:v.a.sentButton},"edit"==r?h.a.createElement(S.a,{text:k.h.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",onClick:m,status:y?"loading":"none",dataId:"edit_"+b}):g?f?h.a.createElement("span",{className:v.a.commentButton},f?h.a.createElement("div",{className:v.a[_]+" "+(y?"":v.a.isActive)},y?h.a.createElement(S.a,{status:"loading",palette:"primaryFilled",size:"medium",className:v.a.loading}):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:v.a.content,"data-id":b,onClick:p},h.a.createElement("p",{className:v.a.actionType},k.h.getI18NValue("tabs.request.comment")),h.a.createElement("p",{className:v.a.subtitle},u?k.h.getI18NValue("support.request.public"):k.h.getI18NValue("support.department.type.internal"))),h.a.createElement("span",{className:v.a.arrow,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.togglePopup(t)},"data-id":"switchingButton"},h.a.createElement(C.a,{name:"ZD-blockDownArrow",size:"6"})))):h.a.createElement(S.a,{text:k.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,status:y?"loading":"none"}),h.a.createElement("div",{className:v.a.buttonAction+" "+(E?v.a.active:"")+" "+("leftPanel"==l?v.a.commentLeftPopup:" "),onClick:O.a,"data-id":"switchingButton_Options"},h.a.createElement("div",{className:v.a.switchAction,onMouseDown:this.changeMode},h.a.createElement("p",null,h.a.createElement("span",{className:v.a.actionNotify},k.h.getI18NValue("support.request.public")),h.a.createElement("span",{className:v.a.switchbox},h.a.createElement(I.a,{id:"commentPrivate",name:"commentPrivate",size:"small",checked:u,dataId:"switch"}))),h.a.createElement("p",{className:v.a.actionSubtitle},k.h.getI18NValue("support.solutions.comments.display.in.customer.self.service.portal"))))):h.a.createElement(S.a,{text:k.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,status:y?"loading":"none"}):h.a.createElement(S.a,{text:k.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,dataId:"saveButtonId",status:y?"loading":"none"})),h.a.createElement("span",{className:v.a.clearButton},h.a.createElement(S.a,{text:"edit"==r||"task"==l||"conversation"==r&&""==d?k.h.getI18NValue("support.label.cancel"):k.h.getI18NValue("support.request.clear"),palette:"secondary",size:"medium",disabled:j,onClick:function(){"edit"==r||"task"==l?(a&&n&&n(),o()):"conversation"==r?s():i()},dataId:"clearButton"})))}}]),t}(h.a.Component);t.a=j,j.propTypes={addComment:g.a.func,changeMode:g.a.func,clearComment:g.a.func,closeComment:g.a.func,content:g.a.string,dataId:g.a.string,from:g.a.string,hasPrivacyMode:g.a.bool,havePublicComment:g.a.bool,isCommentChanged:g.a.bool,isLoading:g.a.bool,isPublic:g.a.bool,module:g.a.string,revertIsCommentChanged:g.a.func,toggleComment:g.a.func,type:g.a.string,updateComment:g.a.func}},"./src/components/Subtab/CommentBox/CommentBox.js":function(e,t,n){"use strict";(function(e){var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(b),y=n("./src/components/Subtab/CommentBox/CommentBox.module.css"),C=n.n(y),E=n("./src/components/avatar/AvatarThread/AvatarThread.js"),I=n("./src/components/Subtab/UploadList/UploadList.js"),k=n("./src/components/Subtab/CommentActionButton/CommentActionButton.js"),A=n("./src/fz-i18n/index.js"),_=n("./src/utils/Attachment.js"),S=n("./src/utils/Common.js"),O=n("./src/utils/DataStorage.js"),j=n("./src/utils/Editor.js"),x=n("../components/lib/Layout/index.js"),N=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),D=n.n(N),T=n("./src/components/TextEditor/TextEditor.js"),P=n("./src/components/Subtab/UploadPopup/UploadPopup.js"),w=function(t){function n(e){l()(this,n);var t=p()(this,(n.__proto__||i()(n)).call(this,e)),a=t.props,o=a.value,s=a.attachments;return t.state={content:o||"",oldAttachments:s||[],newAttachments:[],isAttachmentUploading:!1,isDragOver:!1,mode:"private",showTools:O.a.getItem("showCommentTools"),isAttachmentModified:!1,isLoading:!1},t._isMounted=!1,t.uploadAttach=t.uploadAttach.bind(t),t.deleleUpload=t.deleleUpload.bind(t),t.removeAttachment=t.removeAttachment.bind(t),t.updateComment=t.updateComment.bind(t),t.clearComment=t.clearComment.bind(t),t.toggleComment=t.toggleComment.bind(t),t.dragEnter=t.dragEnter.bind(t),t.dragLeave=t.dragLeave.bind(t),t.attachDrop=t.attachDrop.bind(t),t.changeMode=t.changeMode.bind(t),t.toggleTools=t.toggleTools.bind(t),t.commentCallback=t.commentCallback.bind(t),t.checkCommentChanged=t.checkCommentChanged.bind(t),t.addComment=t.addComment.bind(t),t.dragAttach=t.dragAttach.bind(t),t.addCloudAttch=t.addCloudAttch.bind(t),t.openCloudAttach=t.openCloudAttach.bind(t),t.closeCloudAttach=t.closeCloudAttach.bind(t),t.closeComment=t.closeComment.bind(t),t}return h()(n,t),d()(n,[{key:"componentWillReceiveProps",value:function(e){e.oldAttachments==this.props.oldAttachments&&e.value==this.props.value&&e.newAttachments==this.props.newAttachments||this.setState({content:e.value||"",oldAttachments:e.oldAttachments||[],newAttachments:e.newAttachments||[]})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"addComment",value:function(){var e=this,t=this.state,n=t.mode,a=t.isCommentAdding,o=this.props,s=o.attachmentIds,i=o.hasAttachments,r=void 0===i||i,l=o.hasPrivacyMode,c=void 0===l||l;if(!a){var d=editor["Comment_"+this.props.id],u=d.mentionsList,p=d.mentionsHandler("val");if(this.isValid(d)){var m="public"==n,h=this.props,f=h.revertIsCommentChanged,g=h.addComment;h.isCommentChanged&&f&&f(),this.setState({isCommentAdding:!0});var b={content:p};r&&(b.attachmentIds=s),c&&(b.isPublic=m),this.setState({isLoading:!0}),g(b,u,function(){e._isMounted&&(e.setState({oldAttachments:[],newAttachments:[],isAttachmentModified:!1,isCommentAdding:!1,mode:"private"}),e.props.setAttachmentIds([]),e.clearComment()),e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:A.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1,isCommentAdding:!1})})}}}},{key:"updateComment",value:function(){var e=this,t=this.props,n=t.id,a=t.value,o=t.revertIsCommentChanged,s=t.isCommentChanged,i=t.updateComment,r=t.attachmentIds,l=editor["Comment_"+n],c=l.mentionsList,d=l.mentionsHandler("val");s&&o&&o(),this.setState({isAttachmentModified:!1}),this.isValid(l)&&(this.setState({isLoading:!0}),i(n,d,r,a,c,function(){e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:A.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1})}))}},{key:"isValid",value:function(t){var n=this.state.isAttachmentUploading,a=this.props.attachmentIds,o=!0,s=t.getContent();return n?(o=!1,this.props.showMessage({type:"alert",message:A.h.getI18NValue("support.attachment.upload.process")})):Object(j.d)(t)&&!a.length?(o=!1,this.props.showConfirmBox({type:"alert",submitText:A.h.getI18NValue("crm.button.ok"),title:A.h.getI18NValue("support.history.operation.label.wfalert"),message:A.h.getI18NValue("support.contact.comment.empty"),isActive:!0,palette:"danger"}).then(function(){deleteComment(id,commentId,e)}).catch(function(){})):s.length>32e3&&(o=!1,this.props.showMessage({type:"alert",message:A.h.getI18NValue("support.comment.limit.exceeded")})),o}},{key:"addCloudAttch",value:function(e,t,n){var a=this,s=this.state,i=s.newAttachments,r=s.oldAttachments.length+i.length+n,l={index:r,href:null,isPreview:!0,name:e.name};this.setState(function(e){var t=o()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,r,function(e,t){var n=a.state.newAttachments.map(function(n){return n.index===t?o()({},n,{percentComplete:e}):n});a.setState({newAttachments:n})}).then(function(e){var t=e.data,n=a.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});a.setState({newAttachments:n});var o=a.props,s=o.attachmentIds,i=o.setAttachmentIds;s.push(t.data.id),i(s);var r=a.props,l=r.isCommentChanged,c=r.setIsCommentChanged;!l&&c&&c(),a.setState({isAttachmentModified:!0})},function(){a.setState(function(e){var t=o()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return r!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,n=this.state,a=n.newAttachments,s=n.oldAttachments.length+a.length,i=e.target?e.target.files:e,r=i.length,l=Object(_.p)(i,s),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:A.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c.length)for(var p=0;p<c.length;p++){var m=c[p];m.isUnSupported&&u({type:"alert",message:A.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),m.isFileNameSizeInvalid&&u({type:"alert",message:A.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),m.isEmpty&&u({type:"alert",message:A.h.getI18NValue("support.request.empty.attachment.message")}),m.isAttachSizeExceeded&&u({type:"alert",message:A.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d.length&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var n=function(n){var a=d[n],i=new FormData;i.append("file",a);var l=s+n,u=Object(_.g)(a,l);t.setState(function(e){var t=o()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(i,l,function(e,n){var a=t.state.newAttachments.map(function(t){return t.index===n?o()({},t,{percentComplete:e}):t});t.setState({newAttachments:a})}).then(function(n){if(n){var a=n.data;e+=1;var o=t.state.newAttachments.map(function(e){return e.index===a.data.index?a.data:e});t.setState({newAttachments:o});var s=t.props,i=s.attachmentIds,l=s.setAttachmentIds;i.push(a.data.id),l(i);var d=t.props,u=d.isCommentChanged,p=d.setIsCommentChanged;!u&&p&&p(),t.setState({isAttachmentModified:!0}),e+c.length==r&&t.setState({isAttachmentUploading:!1})}}).catch(function(e){t.setState(function(t){var n=o()({},t);return n.newAttachments=n.newAttachments.filter(function(t){return e.attachIndex!==t.index}),n})})},a=0;a<d.length;a++)n(a)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(n){var a=o()({},n);a.newAttachments=a.newAttachments.filter(function(t){return e!==t.id});var s=t.props,i=s.isCommentChanged,r=s.setIsCommentChanged,l=s.revertIsCommentChanged;return a.newAttachments.length?(!i&&r&&r(),t.setState({isAttachmentModified:!0})):(i&&l&&l(),t.setState({isAttachmentModified:!1},function(){return[t.checkCommentChanged()]})),a});var n=t.props,a=n.attachmentIds;(0,n.setAttachmentIds)(a.filter(function(t){return e!==t}))})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(n){var a=o()({},n);a.oldAttachments=a.oldAttachments.filter(function(t){return e!==t.id});var s=t.props,i=s.isCommentChanged,r=s.setIsCommentChanged;return!i&&r&&r(),t.setState({isAttachmentModified:!0}),a});var n=this.props,a=n.attachmentIds;(0,n.setAttachmentIds)(a.filter(function(t){return e!==t}))}},{key:"clearComment",value:function(){this.setState({content:""});var e=editor["Comment_"+this.props.id];e.setContent(""),Object(S.S)(e.doc)}},{key:"toggleComment",value:function(){if(""==this.state.content)this.props.toggleComment();else{var e=this.props,t=e.revertIsCommentChanged;e.isCommentChanged&&t&&t(),this.setState({isAttachmentModified:!1}),this.clearComment()}}},{key:"dragEnter",value:function(){this.setState({isDragOver:!0})}},{key:"dragLeave",value:function(){this.setState({isDragOver:!1})}},{key:"attachDrop",value:function(e){var t=e.nativeEvent.dataTransfer;Object(_.j)(t,e)&&(e.preventDefault(),this.uploadAttach(t.files),this.setState({isDragOver:!1})),e.stopPropagation(),this.setState({isDragOver:!1})}},{key:"dragAttach",value:function(e){this.uploadAttach(e)}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?O.a.setItem("showCommentTools",!0):O.a.setItem("showCommentTools",!1)})}},{key:"commentCallback",value:function(e){var t=this,n=this.props.mention,a=(void 0===n?[]:n).map(function(e){var t=e.type,n=e.name,a=e.zuid,o=e.id,s=e.firstName,i=e.lastName,r=e.photoURL,l=Object(S.e)(s,i);return"AGENT"==t?{avatar:r,id:a,name:l,type:"user",value:l}:{id:o,name:n,type:"team",value:n}});e.mentionsHandler("setMentions",a),ZohoDeskEditor._addEvent(e.doc,"keyup",function(){setTimeout(function(){t.checkCommentChanged(e)},1)})}},{key:"checkCommentChanged",value:function(e){e=e||editor["Comment_"+this.props.id];var t=this.props,n=t.value,a=t.type,o=t.isCommentChanged,s=t.setIsCommentChanged,i=t.revertIsCommentChanged,r=this.state.isAttachmentModified,l=e.getContent()||"";"edit"==a?n==l?!r&&o&&i&&i():!o&&s&&s():Object(j.d)(e)?(this.setState({content:""}),!r&&o&&i&&i()):(this.setState({content:l}),!o&&s&&s())}},{key:"openCloudAttach",value:function(){this.setState({isCloudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCloudOpen:!1})}},{key:"closeComment",value:function(){var e=this.props,t=e.id,n=e.closeComment;n(t)}},{key:"render",value:function(){A.h.getI18NValue("support.create.form.label.attachment.mycomputer"),A.h.getI18NValue("support.create.form.label.attachment.cloud");var e=this.props,t=e.type,n=e.orgId,a=e.id,o=e.from,s=e.showAttachmentViewer,i=e.photoURL,r=e.name,l=e.borderStyle,c=e.revertIsCommentChanged,d=e.isCommentChanged,u=e.editorMode,p=void 0===u?"CommentEditor":u,m=e.isFromBlueprint,h=e.hasPrivacyMode,f=void 0===h||h,b=e.hasAttachments,v=void 0===b||b,y=e.isCloudAttchOpen,_=e.CloudAttachmentIframe,S=e.havePublicComment,O=e.needAttachment,j=e.getAutofillContacts,N=e.showMessage,w=this.state,z=w.content,R=void 0===z?"":z,F=w.oldAttachments,B=w.newAttachments,M=w.isDragOver,L=w.mode,V=w.showTools,K=w.isCloudOpen,H=w.isLoading,U={handleAutoFill:!0,needEditorFocus:"feeds"!=o&&!m,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:j,handleInlineDropImage:this.dragAttach},Z="public"==L,q=C.a.postbox;return"leftPanel"==o&&(q=q+" "+C.a.minW319),q="bottom"==l?q+" "+C.a.defaultborder:q+" "+C.a.fullborder,g.a.createElement("div",{className:q+" "+(m?C.a.bluePrintLayar:""),onDragEnter:this.dragEnter,onDragOver:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.attachDrop},M&&g.a.createElement("div",{className:C.a.attachOver},A.h.getI18NValue("support.request.attachment.drop.files")),g.a.createElement("div",{"data-id":"commentBox",className:C.a.postHeader},m?null:g.a.createElement("span",{className:C.a.postAvatar},g.a.createElement(E.a,{src:i,name:r,size:"xsmall",iconName:"conversation"==t&&"ZD-zdeskCommentfilled",borderPalette:"conversation"==t&&"primary",iconColor:"conversation"==t&&"primary",iconSize:"conversation"==t?"8":"10"})),g.a.createElement("div",{className:C.a.commentBox+" "+(V?"":"hideTools")+" "},g.a.createElement(T.a,{id:"Comment_"+a,value:R,editorCallback:this.commentCallback,editorMode:p,editorOptions:U,type:"leftPanel"==o?"mini":"small",border:"borderNone"})),v?g.a.createElement("div",{className:C.a.attachHolder+" "+(V?C.a.attachHolderVisi:"")},g.a.createElement(I.a,{oldAttachments:F,newAttachments:B,orgId:n,deleleUpload:this.deleleUpload,removeAttachment:this.removeAttachment,from:o,showAttachmentViewer:s})):null),g.a.createElement(x.Container,{alignBox:"row",className:"leftPanel"==o?C.a.leftFooter+" "+C.a.postFooter:C.a.postFooter},g.a.createElement(x.Box,{className:C.a.commentOptions},g.a.createElement("span",{className:C.a.listIcon},v&&O?g.a.createElement("span",{className:C.a.attachParent+" "+("edit"==t?C.a.bdrNone+" "+C.a.attchIcn:"leftPanel"==o?C.a.bdrNone+" "+C.a.mt0+" "+C.a.attchIcn:C.a.attchIcn),"data-id":"AttachIcon"},g.a.createElement("label",{className:C.a.fileCont,htmlFor:"commentAttach"+a},g.a.createElement("input",{className:C.a.fileAttch,type:"file",onChange:this.uploadAttach,multiple:"multiple",id:"commentAttach"+a})),g.a.createElement(D.a,{name:"ZD-attachment5",size:"14"}),"leftPanel"==o?g.a.createElement("div",{className:C.a.attchPopup},g.a.createElement(P.a,{labelName:"commentAttachLabel",boxPosition:"bottomRight",onAttchClick:this.uploadAttach,openCloudAttach:this.openCloudAttach})):null):null,v&&"leftPanel"!=o&&O?g.a.createElement("span",{className:C.a.iconCloud,onClick:this.openCloudAttach},g.a.createElement(D.a,{name:"ZD-cloudIcon",size:"12"})):null,g.a.createElement("span",{"data-title":A.h.getI18NValue("support.label.comments.format"),className:C.a.iconAttach,onClick:this.toggleTools},"A"))),m?null:g.a.createElement(k.a,{revertIsCommentChanged:c,isCommentChanged:d,closeComment:this.closeComment,updateComment:this.updateComment,toggleComment:this.toggleComment,clearComment:this.clearComment,type:t,from:o,isPublic:Z,changeMode:this.changeMode,content:R,addComment:this.addComment,hasPrivacyMode:f,havePublicComment:S,isLoading:H,dataId:"saveButtonId"}),y&&K&&_?g.a.createElement(_,{addCloudAttch:this.addCloudAttch,totalLen:F.length+B.length,closeIframe:this.closeCloudAttach,showMessage:N}):null))}}]),n}(g.a.Component);t.a=w,w.propTypes={CloudAttachmentIframe:v.a.node,addComment:v.a.func,attachmentIds:v.a.func,attachments:v.a.object,borderStyle:v.a.string,closeComment:v.a.func,deleleUpload:v.a.func,editorMode:v.a.string,from:v.a.string,getAutofillContacts:v.a.func,hasAttachments:v.a.bool,hasPrivacyMode:v.a.bool,havePublicComment:v.a.bool,id:v.a.string,isCloudAttchOpen:v.a.bool,isCommentChanged:v.a.bool,isFromBlueprint:v.a.bool,mention:v.a.array,name:v.a.string,needAttachment:v.a.bool,newAttachments:v.a.object,oldAttachments:v.a.object,openCloudAttach:v.a.func,orgId:v.a.string,page:v.a.string,photoURL:v.a.string,revertIsCommentChanged:v.a.func,setAttachmentIds:v.a.func,setIsCommentChanged:v.a.func,showAttachmentViewer:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func,toggleComment:v.a.func,type:v.a.string,updateComment:v.a.func,uploadAttach:v.a.func,uploadCloudAttachment:v.a.func,value:v.a.string},w.defaultProps={borderStyle:"bottom",isFromBlueprint:!1,needAttachment:!0}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/Subtab/Loading/Loading.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("./src/components/Subtab/Loading/SubtabLoading.module.css"),g=n.n(f),b=n("../components/lib/Layout/index.js"),v=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(b.Container,{alignBox:"row",align:"both",className:g.a.container},h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}))}}]),t}(h.a.Component);t.a=v},"./src/components/Subtab/PlusIcon/PlusIcon.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/PlusIcon/PlusIcon.module.css"),v=n.n(b),y=n("./src/components/avatar/AvatarIcon/AvatarIcon.js"),C=function(e){function t(e){return i()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.iconName,n=e.iconClass,a=e.iconSize,o=e.palette,s=e.size,i=e.onClick,r=e.title;return h.a.createElement("span",{className:v.a.container,onClick:i,"data-id":"addreqNowbutton","data-title":r},h.a.createElement(y.a,{name:t,iconClass:n,iconSize:a,palette:o,size:s}))}}]),t}(h.a.Component);t.a=C,C.defaultProps={size:"xmedium",iconName:"ZD-plus",palette:"secondary",iconSize:"16",iconClass:"primary"},C.propTypes={iconClass:g.a.string,iconName:g.a.string,iconSize:g.a.string,onClick:g.a.func,palette:g.a.string,size:g.a.string,title:g.a.string}},"./src/components/Subtab/ResolutionForm/ResolutionForm.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/ResolutionForm/ResolutionForm.module.css"),v=n.n(b),y=n("../components/lib/Avatar/Avatar.js"),C=n.n(y),E=n("../components/lib/Textarea/Textarea.js"),I=n.n(E),k=n("../components/lib/Button/Button.js"),A=n.n(k),_=n("../components/lib/CheckBox/CheckBox.js"),S=n.n(_),O=n("./src/fz-i18n/index.js"),j=n("../components/lib/Layout/index.js"),x=n("./src/utils/Common.js"),N=n("./src/utils/bind.js"),D=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return N.a.apply(n,["handleChange","toggleNotifyContact"]),n}return p()(t,e),l()(t,[{key:"handleChange",value:function(e){this.props.onContentChange(e)}},{key:"toggleNotifyContact",value:function(e){this.props.toggleNotifyContact(e)}},{key:"render",value:function(){var e=this.props,t=e.mode,n=e.myInfo,a=e.isPeekView,o=e.moduleMeta,s=(e.resolution,e.clearContent),i=e.closeResolution,r=e.content,l=e.isNotifyContact,c=e.updateResolution,d=e.updateResolutionAndSolution,u=e.isFromBlueprint,p=Object(x.e)(n.firstName,n.lastName);return h.a.createElement("div",{className:v.a.postbox},h.a.createElement("div",{className:v.a.postHeader},u?null:h.a.createElement("span",{className:v.a.postAvatar},h.a.createElement(C.a,{src:n.photoURL,size:"xsmall",name:p})),h.a.createElement("div",{className:u?"":v.a.commentBox},h.a.createElement(I.a,{size:"medium",text:r,placeHolder:O.h.getI18NValue("support.request.actions.resolution.add"),needBorder:!1,onChange:this.handleChange,dataId:"resolutionBox"}))),h.a.createElement(j.Container,{alignBox:"row",className:a?v.a.peekPostfooter:v.a.postFooter+" "+(u?v.a.bluePrintFooter:"")},h.a.createElement(j.Box,{className:v.a.postFleft},h.a.createElement(S.a,{id:"notify",labelPalette:"primary",checked:l,text:O.h.getI18NValue("support.resolution.notify"),onChange:this.toggleNotifyContact,dataId:"notifyContact"})),u?null:h.a.createElement(j.Box,{className:v.a.postSubmit},h.a.createElement(A.a,{text:O.h.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",dataId:"saveButton",onClick:c}),h.a.createElement(A.a,{text:O.h.getI18NValue("support.button.save.as.solution",[o.kbCategory.singularLabel]),palette:"primaryFilled",size:"medium",dataId:"saveAndAddArticleButton",onClick:d}),h.a.createElement(A.a,{text:"edit"==t?O.h.getI18NValue("support.label.cancel"):O.h.getI18NValue("support.request.clear"),size:"medium",palette:"secondary",onClick:"edit"==t?i:s,disabled:"edit"!=t&&!r,dataId:"clearButton"}))))}}]),t}(h.a.Component);t.a=D,D.defaultProps={isFromBlueprint:!1},D.propTypes={clearContent:g.a.func,closeResolution:g.a.func,content:g.a.string,isFromBlueprint:g.a.bool,isNotifyContact:g.a.func,isPeekView:g.a.bool,mode:g.a.string,moduleMeta:g.a.object,myInfo:g.a.object,onContentChange:g.a.func,resolution:g.a.object,toggleNotifyContact:g.a.func,updateResolution:g.a.func,updateResolutionAndSolution:g.a.func}},"./src/components/Subtab/TicketCloseButton/TicketCloseButton.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/TicketCloseButton/TicketCloseButton.module.css"),v=n.n(b),y=n("../components/lib/Layout/index.js"),C=n("../components/lib/Switch/Switch.js"),E=n.n(C),I=n("./src/fz-i18n/index.js"),k=n("../components/lib/Button/Button.js"),A=n.n(k),_=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.closeTicket,n=e.reOpenTicket,a=e.isSpam,o=e.isClosed,s=e.isOnHold,i=e.notSpam,r=e.moduleName,l=e.haveCloseTicketPermission,c=e.isCancel,d=e.onClick,u=e.isCloserNotificationEnable,p=e.toggleCloserNotification,m=!1;l||o||s||(m=!0);var f=u?I.h.getI18NValue("support.survey.lable.last.notification.disable",[r]):I.h.getI18NValue("support.survey.lable.last.notification.enable",[r]);return h.a.createElement(y.Container,{alignBox:"row",align:"vertical",className:v.a.container},c||a||m||o||s?null:h.a.createElement(y.Box,{className:v.a.switch,"data-title":f},h.a.createElement(E.a,{id:"notification",checked:u,onChange:p,dataId:"switch"})),h.a.createElement(y.Box,{flexible:!0},a?h.a.createElement(A.a,{className:v.a.spamButton,onClick:i,needAppearance:!1,dataId:"spamSendButton"},I.h.getI18NValue("support.not.spam")):m?c?h.a.createElement(A.a,{className:v.a.cancelButton,onClick:d,needAppearance:!1,dataId:"CancelBtn"},I.h.getI18NValue("support.label.cancel")):null:h.a.createElement(A.a,{className:v.a.blueBtn,onClick:o||s?n:t,dataId:o||s?"reopen-ticket":"close-ticket",needAppearance:!1},o||s?I.h.getI18NValue("support.label.reopen.req",[r]):I.h.getI18NValue("support.common.set.close.entity",[r]))))}}]),t}(h.a.Component);t.a=_,_.propTypes={closeTicket:g.a.func,haveCloseTicketPermission:g.a.bool,isCancel:g.a.bool,isClosed:g.a.bool,isCloserNotificationEnable:g.a.bool,isOnHold:g.a.bool,isSpam:g.a.bool,moduleName:g.a.string,notSpam:g.a.func,onClick:g.a.func,reOpenTicket:g.a.func,toggleCloserNotification:g.a.func}},"./src/components/Subtab/UploadList/UploadList.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/UploadList/UploadList.module.css"),v=n.n(b),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=n.n(y),E=n("./src/components/Image/Image.js"),I=n("../components/lib/Layout/index.js"),k=n("./src/utils/Attachment.js"),A=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.constructPreviewData=n.constructPreviewData.bind(n),n}return p()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,n=e.indexOf("/api"),a=e.slice(n,e.length);return a+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,n=t.oldAttachments,a=t.newAttachments,o=t.showAttachmentViewer,s=n.length?n.concat(a):a;Object(k.b)(e,s,function(e){o(e)})}},{key:"constructAttachItem",value:function(e,t){var n=e.id,a=e.isPreview,o=e.viewUrl,s=e.href,i=e.name,r=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,u=d.deleleUpload,p=d.removeAttachment,m=o||(a?s:this.constructImgURL(s)),f=Object(k.i)(i),g=Object(k.l)(i)||f,b=Object(k.f)(r),y=Object(k.d)(i),I=g?i+" - ("+b+")":i;return h.a.createElement("div",{className:v.a.upload+" "+(f?v.a.isAudio:"")+" "+(a?v.a.preview:""),"data-title":I},a?h.a.createElement("div",{className:v.a.loader,style:{width:c+"%"}}):null,g?h.a.createElement(E.a,{onClick:!a&&this.constructPreviewData.bind(this,n),src:m,className:v.a.uploadimage+" ",alt:"Uploaded Image"}):h.a.createElement("div",{className:v.a.attachInfo,onClick:this.openNewTab.bind(this,m)},h.a.createElement(C.a,{name:y,iconClass:v.a.fileIcon}),h.a.createElement("span",{className:v.a.attachsize},b)),a?null:h.a.createElement("span",{className:v.a.uploadclose,onClick:a?null:"new"==t?u.bind(this,n):p.bind(this,n),"data-id":"deleteUpload"},h.a.createElement(C.a,{name:"ZD-close"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.oldAttachments,a=t.newAttachments,o=t.from,s=t.isPeekView,i=v.a.attachList;return"leftPanel"==o?i+=" ":"replyEdtior"==o&&(i=s?i+" "+v.a.peekReplyAttach:i+" "+v.a.replyAttach),n&&n.length||a&&a.length?h.a.createElement(I.Container,{alignBox:"row",scroll:"horizontal",className:i,dataId:"attachmentList"},n&&n.length?n.map(function(t,n){return h.a.createElement(I.Box,{key:n},e.constructAttachItem(t,"old"))}):null,a&&a.length?a.map(function(t,n){return h.a.createElement(I.Box,{key:n,dataId:t.name.toLowerCase().replace(".","_")},e.constructAttachItem(t,"new"))}):null):null}}]),t}(h.a.Component);t.a=A,A.propTypes={data:g.a.object,deleleUpload:g.a.func,from:g.a.string,isPeekView:g.a.bool,newAttachments:g.a.array,oldAttachments:g.a.array,orgId:g.a.string,removeAttachment:g.a.func,showAttachmentViewer:g.a.func}},"./src/components/Subtab/UploadPopup/UploadPopup.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("../components/lib/DropBox/DropBox.js"),v=n.n(b),y=n("../components/lib/ListItem/ListItemWithIcon.js"),C=n.n(y),E=n("./src/fz-i18n/index.js"),I=n("./src/components/Subtab/UploadPopup/UploadPopup.css"),k=n.n(I),A=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,n=e.bottom,a=e.left,o=e.onAttchClick,s=e.openCloudAttach,i=e.labelName;return h.a.createElement(v.a,{size:"small",boxPosition:t,isActive:!0,bottom:n,left:a},h.a.createElement("label",{htmlFor:i},h.a.createElement(C.a,{autoHover:!0,value:E.h.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"ZD-emptyfle",dataId:"fileAttach"}),h.a.createElement("input",{className:k.a.fileCont,type:"file",multiple:"multiple",id:i,onChange:o})),h.a.createElement(C.a,{autoHover:!0,value:E.h.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"ZD-cloudicn",onClick:s,dataId:"cloudAttach"}))}}]),t}(m.Component);t.a=A,A.propTypes={bottom:g.a.string,boxPosition:g.a.string,labelName:g.a.string,left:g.a.string,onAttchClick:g.a.func,openCloudAttach:g.a.func}},"./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js":function(e,t,n){"use strict";var a,o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(o),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n.n(i),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=n.n(l),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=n.n(p),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=n.n(h),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=n.n(g),v=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(v),C=n("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),E=n("./src/fz-i18n/index.js"),I=function(e){function t(){return c()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteDraft,n=e.closeAlert,a=e.isActive,o=e.forwardRef;return b.a.createElement(C.a,{isActive:a,title:E.h.getI18NValue("support.request.alert.discard.draft.header"),message:E.h.getI18NValue("crm.confirm.discard.draft"),submitText:E.h.getI18NValue("support.yes"),cancelText:E.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:n,forwardRef:o})}}]),t}(g.Component);t.a=I,I.propTypes=(a={deleteDraft:y.a.func,forwardRef:y.a.object},s()(a,"forwardRef",y.a.object),s()(a,"isActive",y.a.bool),s()(a,"isActive",y.a.bool),s()(a,"moduleMeta",y.a.object),a)},"./src/components/Subtab/bluePrint/TransitionActions/TransitionActions.module.css":function(e,t,n){e.exports={errMsg:"zd-transitionactions-errMsg",errCont:"zd-transitionactions-errCont",moreCont:"zd-transitionactions-moreCont",mode:"zd-transitionactions-mode",switchAction:"zd-transitionactions-switchAction",actionNotify:"zd-transitionactions-actionNotify",actionSubtitle:"zd-transitionactions-actionSubtitle",replyCont:"zd-transitionactions-replyCont",html:"zd-transitionactions-html"}},"./src/components/Subtab/collision/collisionAlert/CollisionReplyAlert/CollisionReplyAlert.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/collision/collisionAlert/collisionAlert.module.css"),v=n.n(b),y=n("./src/components/FreezeLayer/FreezeLayer.js"),C=n("../components/lib/Avatar/Avatar.js"),E=n.n(C),I=n("../components/lib/Button/Button.js"),k=n.n(I),A=n("./src/fz-i18n/index.js"),_=n("./src/utils/Common.js"),S=n("./src/utils/bind.js"),O=n("./src/components/PortalLayer/PortalLayer.js"),j=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return S.a.apply(n,["documentKeyupHandler"]),n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,n=t.replyConfirm,a=t.closeAlert;27===e.keyCode?a():13===e.keyCode&&n()}},{key:"render",value:function(){var e=this.props,t=e.agents,n=e.replyingUsers,a=e.replyConfirm,o=e.closeAlert,s=e.isFromReplyEditor;return h.a.createElement(O.a,{initialState:!0},h.a.createElement(y.a,{align:"both",animationName:"fade",runOnMount:!0},h.a.createElement("div",{className:v.a.popup},h.a.createElement("div",{className:v.a.header},n.map(function(e,n){var a=t[e.agentId];return h.a.createElement("span",{key:n,className:v.a.user},h.a.createElement(E.a,{size:"large",src:a.photoURL,name:a.name||Object(_.e)(a.firstName,a.lastName)}))}),h.a.createElement("p",{className:v.a.information},n.map(function(e,a){var o=t[e.agentId];return a+=1,h.a.createElement("span",{className:v.a.name,key:a},h.a.createElement("span",null,o.name||Object(_.e)(o.firstName,o.lastName)),a===n.length-1?n.length>1?h.a.createElement("span",{className:v.a.name},A.h.getI18NValue("and")):null:a!==n.length?h.a.createElement("span",null,","):null)}),h.a.createElement("span",null," ",s?A.h.getI18NValue("support.label.collision.detection.newagent.replying"):n.length>1?A.h.getI18NValue("support.label.collision.detection.agent.replying",[A.h.getI18NValue("are")]):A.h.getI18NValue("support.label.collision.detection.agent.replying",[A.h.getI18NValue("is")])))),h.a.createElement("div",{className:v.a.footer},h.a.createElement("div",{className:v.a.footerTitle},A.h.getI18NValue("support.label.collision.detection.agent.reply.question")),h.a.createElement("div",null,h.a.createElement(k.a,{text:A.h.getI18NValue("support.yes"),size:"Medium",palette:"primaryFilled",onClick:a}),h.a.createElement("span",{className:v.a.lastButton},h.a.createElement(k.a,{text:A.h.getI18NValue("support.no"),size:"Medium",palette:"secondary",onClick:o})))))))}}]),t}(h.a.Component);t.a=j,j.propTypes={agents:g.a.object,closeAlert:g.a.func,isFromReplyEditor:g.a.bool,replyConfirm:g.a.func,replyingUsers:g.a.array}},"./src/components/TextEditor/TextEditor.js":function(e,t,n){"use strict";(function(e){var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),C=n.n(y),E=n("../components/lib/Layout/index.js"),I=n("./src/utils/editorUtils.js"),k=n("./src/utils/bind.js"),A=(n("./src/components/TextEditor/ZohoDeskEditor_Init.js"),n("./src/components/TextEditor/TextEditor.module.css")),_=n.n(A),S=function(t){function n(e){d()(this,n);var t=h()(this,(n.__proto__||l()(n)).call(this,e));t.state={isEditorLoad:!1};return k.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return g()(n,t),p()(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.id,a=t.value,o=t.editorMode,s=void 0===o?"":o,r=t.editorOptions,l=void 0===r?{}:r,c=t.needEditorFocus,d=void 0===c||c,u=t.mode;if(n&&e.ZohoDeskEditor){var p={id:n,content:a,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:u};p=i()(p,l),ZohoDeskEditor_Init.init(s),ZohoDeskEditor.create&&ZohoDeskEditor.create(p)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.id,a=t.chageEditorContent;t.value;e.isEmptyContent&&editor[n]&&editor[n].setContent(""),e.chageEditorContent!=a&&e.chageEditorContent&&void 0!==a&&editor[n].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,n=e.id,a=editor[n]?editor[n]:{},o=a.getContent?a.getContent():"";Object(I.a)(a)||(o=""),o="plaintext"===a.mode?Object(I.b)(o):o,t&&t(o.trim(),n)}},{key:"editorCallback",value:function(t){var n=this.props.editorCallback;this.setState({isEditorLoad:!0});var a=this.props.id;e.editor=e.editor||{},editor[a]||(editor[a]=t),n&&n(t)}},{key:"handleInlineUpload",value:function(e,t,n,a,o){this.handleUpload(e).then(function(e){var n={};n[0]={url:e,desc:o},t(n,a)},function(){n(a)})}},{key:"handleDropUpload",value:function(e,t,n){this.handleUpload(e).then(function(e){t(e)},function(){n()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,n,a){var o=void 0;"blob"===t?o=e:(o=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(o).then(function(e){n(e)},function(){a()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var n=new FormData;return n.append("file",e),t(n).then(function(e){var t=e.data||{},n=t.data,a=t.orgId,o=n||{},s=o.id,i=o.href;if(s)return i+"?orgId="+a;throw{}},function(e){throw e})}catch(e){return o.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.dataId,a=e.type,o=e.border,s=this.state.isEditorLoad;return v.a.createElement(E.Container,{className:_.a.textEditor+" "+_.a[a]+" "+_.a[o],dataId:n},!s&&v.a.createElement("div",{className:_.a.stencillist9},v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading})),v.a.createElement(E.Box,{flexible:!0,id:t,dataId:n}))}}]),n}(b.Component);t.a=S,S.defaultProps={type:"large",border:"borderTop"},S.propTypes={blurCallback:C.a.func,chageEditorContent:C.a.bool,dataId:C.a.string,editorCallback:C.a.func,editorMode:C.a.string,editorOptions:C.a.object,id:C.a.string,mode:C.a.string,needEditorFocus:C.a.bool,onChange:C.a.func,onFocus:C.a.func,onUpload:C.a.func,value:C.a.string,type:C.a.oneOf(["large","xlarge","medium","small","mini"]),border:C.a.oneOf(["borderTop","borderAll","borderNone"])}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/TextEditor/ZohoDeskEditor_Init.js":function(e,t,n){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0,ZohoDeskEditor_Init.retainOldList=!0;var n=window.location.protocol,a="",o="com",s="",i=".zohostatic.";"US".indexOf("SKY")>-1&&(i=".skydeskstatic.",o="jp"),"US".indexOf("RO")>-1&&(s="-ro"),["LOC","DEV"].indexOf("US")>-1&&(a="local"),ZohoDeskEditor_Init.jsurl=n+"//"+a+"localjs"+s+i+o+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=n+"//"+a+"localcss"+s+i+o+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=n+"//"+a+"localimg"+s+i+o+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var r=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,r(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),r(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",r(6))}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/avatar/AvatarIcon/AvatarIcon.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/avatar/AvatarIcon/AvatarIcon.module.css"),v=n.n(b),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=n.n(y),E=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.size,a=e.iconSize,o=e.iconClass,s=e.onClick,i=e.palette,r=e.dataId,l=e.className,c=e.isIconBold;return h.a.createElement("span",{className:v.a.container+" "+v.a[n]+" "+v.a[i]+" "+(l||""),onClick:s,"data-id":"ZD-chEmail1"===t?"autoId_215":"ZD-chPhone"===t?"autoId_885":r},h.a.createElement(C.a,{name:t,size:a,iconClass:v.a["text_"+o]?v.a["text_"+o]:o||null,isBold:c}))}}]),t}(h.a.Component);t.a=E,E.defaultProps={iconSize:"15",name:"ZD-addAgent",palette:"default",size:"medium",isIconBold:!1},E.propTypes={className:g.a.string,dataId:g.a.string,iconClass:g.a.string,iconSize:g.a.string,isIconBold:g.a.bool,name:g.a.string,onClick:g.a.func,palette:g.a.oneOf(["default","primary","secondary","success","danger"]),size:g.a.string}},"./src/components/avatar/AvatarThread/AvatarThread.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/avatar/AvatarThread/AvatarThread.module.css"),v=n.n(b),y=n("../components/lib/Avatar/Avatar.js"),C=n.n(y),E=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),I=n.n(E),k=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,o=e.iconColor,s=e.iconName,i=e.iconSize,r=e.borderPalette,l=e.onClick,c=e.title,d=e.iconTitle,u=e.onIconClick,p=e.showOnHover,m=e.dataId,f=p?v.a.hover:"";return h.a.createElement("div",{className:v.a.container+" "+f},h.a.createElement(C.a,{src:t,name:n,title:c,size:a,onClick:l,dataId:m}),s&&h.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+r],"data-title":d,"data-id":"Remove Follower"===d&&"removeFollower",onClick:u},h.a.createElement("span",{className:v.a.icon},h.a.createElement(I.a,{name:s,size:i,iconClass:v.a["text_"+o]?v.a["text_"+o]:o}))))}}]),t}(h.a.Component);t.a=k,k.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},k.propTypes={borderPalette:g.a.oneOfType([g.a.string,g.a.bool]),iconColor:g.a.string,iconName:g.a.oneOfType([g.a.string,g.a.bool]),iconSize:g.a.oneOfType([g.a.string,g.a.bool]),iconTitle:g.a.string,name:g.a.string,onClick:g.a.func,onIconClick:g.a.func,showOnHover:g.a.bool,size:g.a.string,src:g.a.string,title:g.a.string}},"./src/components/lookup/Lookup/Lookup.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/FreezeLayer/FreezeLayer.js"),v=n("../components/lib/Layout/index.js"),y=n("./src/components/lookup/Lookup/Lookup.module.css"),C=n.n(y),E=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.elementMedia,a=e.children,o=e.size,s=e.dataId,i=e.forwardRef;return h.a.createElement(b.a,{align:"horizontal",animationName:"fade",childAnimationName:"flyDown",isActive:t,palette:"snow",forwardRef:i},h.a.createElement(v.ResponsiveContainer,{alignBox:"row",className:C.a.container,dataId:"fldValue",elementMedia:n},h.a.createElement("div",{className:C.a.box+" "+C.a["size_"+o],"data-id":s},a)))}}]),t}(m.Component);t.a=E,E.propTypes={children:g.a.node,dataId:g.a.string,elementMedia:g.a.object,isActive:g.a.bool,size:g.a.oneOf(["small","medium"])},E.defaultProps={size:"medium"}},"./src/components/lookup/Section/Section.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("../components/lib/Layout/index.js"),v=n("./src/components/lookup/Section/LookupSection.module.css"),y=n.n(v),C=function(e){function t(e){return i()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alignBox,n=e.className;return h.a.createElement(b.Container,{alignBox:t,className:y.a.section+" "+(n||"")},h.a.createElement(b.Box,{flexible:!0},this.props.children))}}]),t}(m.Component);t.a=C,C.propTypes={alignBox:g.a.string,children:g.a.node,className:g.a.string},C.defaultProps={}},"./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/Lookup/Lookup.js"),v=n("./src/components/lookup/alert/header/AlertHeader/AlertHeader.js"),y=n("../components/lib/Button/Button.js"),C=n.n(y),E=n("./src/components/lookup/Section/Section.js"),I=n("./src/components/FormAction/FormAction.js"),k=n("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.module.css"),A=n.n(k),_=(n("./src/constants/index.js"),function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.documentKeydownHandler=n.documentKeydownHandler.bind(n),n.getButtonRef=n.getButtonRef.bind(n),n}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.documentKeydownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.documentKeydownHandler)}},{key:"documentKeydownHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.onSubmitClick,a=t.onCancelClick,o=t.isActive;27===e.keyCode&&o?a&&a(e):13===e.keyCode&&o&&n&&n(e)}},{key:"getButtonRef",value:function(e){this.okButton=e,this.props.isDefaultFocus&&e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.palette,a=e.size,o=e.type,s=e.title,i=e.message,r=e.confirmationMessage,l=e.submitText,c=e.cancelText,d=e.onSubmitClick,u=e.onCancelClick,p=e.children,m=e.forwardRef;return h.a.createElement(b.a,{isActive:t,size:a,dataId:"alertPopup",forwardRef:m},h.a.createElement(v.a,{title:s,palette:n,iconType:o}),h.a.createElement(E.a,{alignBox:"row",className:A.a.section},h.a.createElement("div",{className:A.a.innerSection},p||h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),r&&h.a.createElement("div",{className:A.a.text},r))),h.a.createElement(I.c,{size:"small",paddingLeftSize:"xsmall"},h.a.createElement(C.a,{text:l,dataId:"alertConfirmButton",onClick:d,palette:"primary"===n?"primaryFilled":"dangerFilled",getRef:this.getButtonRef}),c&&h.a.createElement(C.a,{dataId:"alertCancelButton",text:c,onClick:u,palette:"secondary"}))))}}]),t}(m.Component));t.a=_,_.propTypes={cancelText:g.a.string,children:g.a.node,confirmationMessage:g.a.string,forwardRef:g.a.object,isActive:g.a.bool,isDefaultFocus:g.a.bool,message:g.a.string,onCancelClick:g.a.func,onSubmitClick:g.a.func,palette:g.a.oneOf(["default","primary","danger"]),size:g.a.oneOf(["small","medium"]),submitText:g.a.string,title:g.a.string,type:g.a.oneOf(["delete","alert","remoteAssist","splitTicket"])},_.defaultProps={isActive:!1,palette:"danger",size:"small",type:"alert"}},"./src/components/lookup/alert/header/AlertHeader/AlertHeader.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/header/Title/Title.js"),v=n("../components/lib/Layout/index.js"),y=n("./src/components/lookup/alert/header/AlertHeader/AlertHeader.module.css"),C=n.n(y),E=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),I=n.n(E),k=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.palette,a=e.needIcon,o=e.iconType;return h.a.createElement(v.ResponsiveContainer,{align:"vertical",alignBox:"row",className:C.a.container+" "+C.a[n],elementMedia:{xs:""+C.a.extraSmall},isCover:!1,wrap:"wrap"},a?h.a.createElement("div",{className:C.a.iconContainer},h.a.createElement(I.a,{name:{delete:"ZD-socialDelete",alert:"ZD-exclamationThincircle",remoteAssist:"ZD-taskDemo",splitTicket:"ZD-splitNew",update:"ZD-update"}[o],iconClass:C.a.iconStyle+" "+C.a["icon_"+o]+" "+C.a["text_"+n]})):null,h.a.createElement(v.Box,{flexible:!0},h.a.createElement("div",{className:C.a.title},h.a.createElement(b.a,{text:t,palette:n}))))}}]),t}(m.Component);t.a=k,k.propTypes={iconType:g.a.oneOf(["delete","alert","remoteAssist","splitTicket","update"]),needIcon:g.a.bool,palette:g.a.oneOf(["default","primary","danger"]),title:g.a.string},k.defaultProps={palette:"danger",needIcon:!0,iconType:"alert"}},"./src/components/lookup/header/Title/Title.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/header/Title/LookupTitle.module.css"),v=n.n(b),y=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette;return h.a.createElement("span",{className:v.a.title+" "+v.a[n]},t)}}]),t}(m.PureComponent);t.a=y,y.propTypes={palette:g.a.oneOf(["default","primary","danger"]),text:g.a.string},y.defaultProps={palette:"default"}},"./src/containers/Subtab/ReplyEditor/ReplyEdtior.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),C=n.n(y),E=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),I=n.n(E),k=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),A=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-dom/server.browser.js"),_=n.n(A),S=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),O=n.n(S),j=n("../components/lib/Layout/index.js"),x=n("./src/components/TextEditor/TextEditor.js"),N=n("./src/components/SVG/SVG.js"),D=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,n=e.isSymbol;return C.a.createElement(N.a,{viewBox:"0 0 32 32",name:"PlusIcon",isRender:t,isSymbol:n},C.a.createElement("g",null,C.a.createElement("path",{style:{fill:"#767d89"},d:"M16,2.7c0.4,0,0.7,0.1,0.9,0.4s0.4,0.6,0.4,0.9v10.7H28c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9 c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4H17.3V28c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4 c-0.3-0.3-0.4-0.6-0.4-0.9V17.3H4c-0.4,0-0.7-0.1-0.9-0.4S2.7,16.4,2.7,16s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4h10.7V4 c0-0.4,0.1-0.7,0.4-0.9C15.3,2.8,15.6,2.7,16,2.7z"})))}}]),t}(C.a.Component),T=D;D.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},D.defaultProps={isRender:!0,isSymbol:!1};var P=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,n=e.isSymbol;return C.a.createElement(N.a,{viewBox:"0 0 31 32",name:"SnippetIcon",isRender:t,isSymbol:n},C.a.createElement("g",null,C.a.createElement("path",{d:"M14.4,8.2L15.6,9L16,8.4l-1-0.7l2.5-3.7L11.5,0L8.9,3.8L7.9,3L7.6,3.6l1.2,0.8c-2.3,3-5.9,0.8-6,0.7L2.3,4.9L0,23.8 l16.6-9.3l-0.4-0.3C15.9,13.9,12.6,11.5,14.4,8.2L14.4,8.2z M1.5,22l5.2-7.7c0.3,0.1,0.6,0.2,0.9,0.2c1.2,0,2.1-0.9,2.2-2.1 c0-1.2-0.9-2.1-2.1-2.2c-1.2,0-2.1,0.9-2.2,2.1c0,0.6,0.2,1.2,0.7,1.6L1,21.6L2.8,6c1.2,0.6,4.4,1.7,6.5-1.1l4.5,3 c-1.8,3,0.4,5.6,1.4,6.5L1.5,22L1.5,22z M6.7,13.6c-0.7-0.4-0.8-1.3-0.4-2s1.3-0.8,2-0.4c0.7,0.4,0.8,1.3,0.4,2 c-0.2,0.3-0.5,0.5-0.9,0.6C7.5,13.9,7.1,13.8,6.7,13.6L6.7,13.6z"}),C.a.createElement("path",{style:{fill:"#03A3FE"},d:"M30.9,25c-4.9,0.7-5.4,1.2-5.9,6.7c-0.6-5.4-1.1-6-6.1-6.5c4.9-0.7,5.4-1.2,5.9-6.7 C25.4,23.9,25.9,24.5,30.9,25z M30.3,8.2c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C25.4,7.1,25.8,7.6,30.3,8.2z M16.2,25.7c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C11.3,24.6,11.7,25.1,16.2,25.7z"})))}}]),t}(C.a.Component),w=P;P.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},P.defaultProps={isRender:!0,isSymbol:!1};var z=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,n=e.isSymbol;return C.a.createElement(N.a,{viewBox:"0 0 32 32",name:"TemplateIcon",isRender:t,isSymbol:n},C.a.createElement("g",null,C.a.createElement("path",{d:"M3.6,27.7h5.9v2.8c0,0.8,0.7,1.5,1.5,1.5h17.4c0.8,0,1.5-0.7,1.5-1.5V5.9c0-0.8-0.7-1.5-1.5-1.5h-5.9V1.5 C22.5,0.7,21.8,0,21,0L3.6,0C2.8,0,2.1,0.7,2.1,1.5v24.6C2.1,27,2.8,27.7,3.6,27.7z M28.4,5.7c0.1,0,0.2,0.1,0.2,0.2v24.6 c0,0.1-0.1,0.2-0.2,0.2H11c-0.1,0-0.2-0.1-0.2-0.2V5.9c0-0.1,0.1-0.2,0.2-0.2C11,5.7,28.4,5.7,28.4,5.7z M9.5,16.6v3.1V16.6z M9.5,12v3.3V12z M9.5,7.6v3.2V7.6z M9.5,21v5.3H3.6c-0.1,0-0.2-0.1-0.2-0.2V1.5c0-0.1,0.1-0.2,0.2-0.2H21c0.1,0,0.2,0.1,0.2,0.2 v2.7L11,4.3c-0.8,0-1.5,0.7-1.5,1.5v0.1L9.5,21z M26.9,25.5c0,0.4-0.3,0.7-0.7,0.7H15.7c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7 h10.6C26.6,24.8,26.9,25.1,26.9,25.5z M12.8,21c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,21.7,12.8,21.4,12.8,21L12.8,21z M12.8,16.5c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,17.1,12.8,16.8,12.8,16.5L12.8,16.5z M12.8,12c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,12.6,12.8,12.4,12.8,12L12.8,12z"})))}}]),t}(C.a.Component),R=z;z.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},z.defaultProps={isRender:!0,isSymbol:!1};var F=n("./src/components/Subtab/Composebox/Composebox.module.css"),B=n.n(F),M=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),L=n.n(M),V=n("./src/components/MorePopup/MorePopup.js"),K=n("../components/lib/TextBox/TextBox.js"),H=n.n(K),U=n("./src/components/SearchResults/SearchResults.js"),Z=n("./src/utils/Common.js"),q=n("./src/components/Subtab/TokenList/TokenList.module.css"),W=n.n(q),G=n("./src/utils/EmailValidation.js"),Y=n("./src/fz-i18n/index.js"),$=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={value:"",editedValue:n.props.editedValue||"",selectedIndex:null,errordiv:"",errorIndex:null,editedIndex:n.props.editedIndex||null,selectSearchIndex:-1},n.formatEmailAddress=n.formatEmailAddress.bind(n),n.removeEmail=n.removeEmail.bind(n),n.selectEmail=n.selectEmail.bind(n),n.handleSearchIndex=n.handleSearchIndex.bind(n),n.resetSearchData=n.resetSearchData.bind(n),n}return v()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){e.editedValue==this.props.editedValue&&e.editedIndex==this.props.editedIndex||this.setState({editedValue:e.editedValue,editedIndex:e.editedIndex})}},{key:"handleChange",value:function(e,t){"edit"==e?this.setState({editedValue:t}):this.setState({value:t}),t.length>2?this.props.searchContact(this.props.mode,t):this.resetSearchData()}},{key:"removeEmail",value:function(e){var t=this,n=this.props,a=n.removeEmail,o=n.mode,s=this.state.selectedIndex;null==s&&e?this.setState({selectedIndex:e-1}):(a(s,o,"",function(){t.formInput&&t.formInput.focus()}),this.setState({selectedIndex:e-1}))}},{key:"formatEmailAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.setState({selectedIndex:null});var a=this.props,o=a.mode,s=a.formatEmailAddress,i=a.emailArr,r=a.searchMode,l=a.searchData,c=this.state,d=c.selectSearchIndex,u=c.selectedIndex,p=n.key,m=n.keyCode,h="string"==typeof n?n:n.target.value;if(38==m||40==m)r==o&&"noData"!=l&&this.handleSearchIndex(m);else if(r==o&&"noData"!=l&&13==m&&-1!=d)this.handleSearchIndex(m);else if(8==m&&""==h)this.removeEmail(i.length);else if(13==m&&null!=u)this.props.editEmail(this.state.selectedIndex,this.props.emailArr[this.state.selectedIndex],o,function(){t.editInput.focus(),t.editInput.select()});else{if(this.setState({selectedIndex:null}),""==h)return;(13==m||188==m&&","==p||"focusout"==e)&&(this.resetSearchData(),188==m&&(h=h.substring(0,h.indexOf(","))),s(h,o,function(e){"isValide"==e.type?t.setState({value:""},function(){t.formInput&&t.formInput.focus()}):"isInValide"==e.type?(t.setState({errordiv:"form"}),setTimeout(function(){t.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(t.setState({errorIndex:e.index},function(){t.formInput&&t.formInput.focus()}),setTimeout(function(){t.setState({errorIndex:null})},2e3))}))}}catch(n){console.log(n)}}},{key:"changeEmailAddress",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.props,s=o.mode,i=o.changeEmailAddress,r=o.removeEmail,l=o.searchMode,c=o.searchData,d=a.key,u=a.keyCode,p="string"==typeof a?a:a.target.value;38==u||40==u?l==s&&"noData"!=c&&this.handleSearchIndex(u):l==s&&"noData"!=c&&13==u&&-1!=this.state.selectSearchIndex?this.handleSearchIndex(u):8==u&&""==p?r(e,s,"edit",function(){n.formInput&&n.formInput.focus()}):(13==u||188==u&&","==d||"focusout"==t)&&(this.resetSearchData(),188==u&&(p=p.substring(0,p.indexOf(","))),i(p,e,s,function(e){"isValide"==e.type?n.setState({value:""},function(){n.formInput&&n.formInput.focus()}):"isInValide"==e.type?(n.setState({errordiv:"edit"}),setTimeout(function(){n.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(n.setState({errorIndex:e.index},function(){n.editInput.focus()}),setTimeout(function(){n.setState({errorIndex:null})},2e3))}))}},{key:"editEmail",value:function(e,t,n){var a=this;this.state.selectedIndex==e?this.props.editEmail(e,t,n,function(){a.editInput.focus(),a.editInput.select()}):this.setState({selectedIndex:e})}},{key:"selectEmail",value:function(e,t){var n=e.firstName,a=e.lastName,o=e.email,s=Object(Z.e)(n,a)+"<"+o+">";"edit"==t?(this.setState({editedValue:s,errordiv:""}),this.changeEmailAddress(this.state.editedIndex,"focusout",s)):(this.setState({value:s,errordiv:""}),this.formatEmailAddress("focusout",s)),this.resetSearchData()}},{key:"resetSearchData",value:function(){this.setState({selectSearchIndex:-1}),this.props.closeSearchPopup()}},{key:"handleSearchIndex",value:function(e){var t=this.props.searchData;if(13==e){var n=this.state,a=n.selectSearchIndex,o=n.editedIndex;if(a>-1){var s=t[a],i=s.email,r=s.firstName,l=s.lastName,c=Object(Z.e)(r,l)+"<"+i+">";null==o?(this.setState({value:c,errordiv:""}),this.formatEmailAddress("focusout",c)):(this.setState({editedValue:c,errordiv:""}),this.changeEmailAddress(o,"focusout",c)),this.resetSearchData()}}else 40==e?this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex==t.length-1?0:e.selectSearchIndex+1}}):this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex<=0?t.length-1:e.selectSearchIndex-1}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.emailArr,a=t.mode,o=t.removeEmail,s=t.editedMode,i=t.searchMode,r=t.searchData,l=t.orgName,c=this.state,d=c.value,u=c.editedValue,p=c.selectedIndex,m=c.errordiv,h=c.errorIndex,f=c.editedIndex,g=c.selectSearchIndex;return C.a.createElement(j.Container,{wrap:"wrap",alignBox:"row"},n.map(function(t,n){var c=Object(G.a)(t),d=Object(G.e)(t);return f==n&&a==s?C.a.createElement(j.Box,{shrink:!0,className:W.a.item},C.a.createElement(H.a,{value:u,dataId:"toAddress_"+e.props.orgName,placeHolder:"Enter the Recipients Email Address",className:"edit"==m?W.a.placeholder+" "+W.a.invalideInput:W.a.placeholder,needAppearance:!1,onChange:e.handleChange.bind(e,"edit"),onKeyUp:e.changeEmailAddress.bind(e,n,""),onBlur:e.changeEmailAddress.bind(e,n,"focusout",u),inputRef:function(t){e.editInput=t}}),i==a&&"noData"!=r?C.a.createElement("span",null,C.a.createElement(U.a,{data:r,orgName:l,onSelect:e.selectEmail,type:"edit",selectSearchIndex:g,needFixed:!0,dataId:a+"EmailRequestSearch"})):null):C.a.createElement(j.Box,{className:p==n?W.a.item+" "+W.a.sel:d?W.a.item:W.a.item+" "+W.a.invalide,key:n,id:p,dataId:a+"Request_"+n},C.a.createElement("div",{className:W.a.rlyedr,onClick:e.editEmail.bind(e,n,t,a),"data-id":"close"},C.a.createElement("span",{className:W.a.rlyact},C.a.createElement("span",{className:W.a.rlyclo,onClick:o.bind(e,n,a,"",function(){e.formInput&&e.formInput.focus()})},C.a.createElement(L.a,{name:"ZD-close",size:"17"})),C.a.createElement("span",{className:h==n?W.a.rlymailtxt+" "+W.a.invalideInput:W.a.rlymailtxt},c))))}),a!=s&&C.a.createElement(j.Box,{flexible:!0,className:W.a.item+" "+W.a.inputCont},C.a.createElement(H.a,{type:"text",value:d,placeHolder:Y.h.getI18NValue("support.email.placeholder"),className:"form"==m?W.a.placeholder+" "+W.a.invalideInput:W.a.placeholder,needAppearance:!1,onChange:this.handleChange.bind(this,""),onKeyUp:this.formatEmailAddress.bind(this,""),onBlur:this.formatEmailAddress.bind(this,"focusout"),inputRef:function(t){e.formInput=t},dataId:a+"Email"}),i==a&&"noData"!=r?C.a.createElement(U.a,{data:r,orgName:l,onSelect:this.selectEmail,type:"form",selectSearchIndex:g,needFixed:!0}):null))}}]),t}(C.a.Component),Q=$;$.propTypes={changeEmailAddress:I.a.func,closeSearchPopup:I.a.func,editEmail:I.a.func,editedIndex:I.a.string,editedMode:I.a.string,editedValue:I.a.string,emailArr:I.a.array,formatEmailAddress:I.a.func,mode:I.a.string,orgName:I.a.string,removeEmail:I.a.func,searchContact:I.a.func,searchData:I.a.array,searchMode:I.a.string};var J=n("./src/components/Subtab/FromAddressEmpty/FromAddressEmpty.module.css"),X=n.n(J),ee=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={mode:"Configure"},n._mount=!1,n.refreshAdrress=n.refreshAdrress.bind(n),n.openConfigurePage=n.openConfigurePage.bind(n),n}return v()(t,e),h()(t,[{key:"refreshAdrress",value:function(){var e=this;this.props.getFromEmailAddress(function(){e._mount&&e.setState({mode:"Configure"})})}},{key:"openConfigurePage",value:function(){this.setState({mode:"refresh"})}},{key:"componentDidMount",value:function(){this._mount=!0}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"render",value:function(){var e=this.state.mode,t=this.props,n=t.orgName,a=t.depName;return C.a.createElement("div",null,"Configure"==e?C.a.createElement("a",{className:X.a.alertDiv,onClick:this.openConfigurePage,href:"/agent/"+n+"/"+a+"/setup#setup/channels/fromaddress",target:"_blank"},C.a.createElement("span",{className:X.a.icnExclatn},C.a.createElement(L.a,{name:"ZD-exclamationThincircle"})),C.a.createElement("span",{className:X.a.alertText},Y.h.getI18NValue("support.email.fromaddress.click"))):C.a.createElement("div",{className:X.a.refreshText,onClick:this.refreshAdrress},Y.h.getI18NValue("crm.button.refresh")))}}]),t}(C.a.Component),te=ee;ee.propTypes={depName:I.a.string,getFromEmailAddress:I.a.func,orgName:I.a.string};var ne=n("../components/lib/Select/Select.js"),ae=n.n(ne),oe=n("./src/utils/bind.js"),se=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e)),a=n.props,o=a.toAddress,s=void 0===o?[]:o,i=a.ccAddress,r=void 0===i?[]:i,l=a.bccAddress,c=void 0===l?[]:l;n.state={toArray:s,ccArray:r,bccArray:c,editedMode:"",editedIndex:null,editedValue:"",isCcVisible:!!r.length,isBccVisible:!!c.length,moreData:0};return oe.a.apply(n,["formatEmailAddress","removeEmail","editEmail","changeEmailAddress","showCc","showBcc","constructRecipients","createRecipientCount","hideRecipients","replyActions","handleFromAdressChange"]),n}return v()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.toArray,a=t.ccArray,o=t.bccArray,s=t.isCcVisible,i=t.isBccVisible;e.toAddress==n&&e.ccAddress==a&&e.bccAddress==o||(this.setState({toArray:e.toAddress,ccArray:e.ccAddress,bccArray:e.bccAddress}),s||this.setState({isCcVisible:!!e.ccAddress.length}),i||this.setState({isBccVisible:!!e.bccAddress.length})),e.mode!=this.props.mode&&"forward"==e.mode&&this.setState({isCcVisible:!1}),e.isEditorFocus!=this.props.isEditorFocus&&e.isEditorFocus&&this.setState({isCcVisible:!1,isBccVisible:!1})}},{key:"formatEmailAddress",value:function(e,t,n){for(var a=Object(G.d)(e),o=0;o<a.length;o++){var s=a[o].trim();if(Object(G.e)(s)){var i=this.props.addEmail;if("to"==t){var r=Object(G.c)(this.state.toArray,s);r.isDuplicate?n&&n({type:"duplicate",index:r.index}):(i(s,t),n&&n({type:"isValide"}))}else if("bcc"==t){var l=Object(G.c)(this.state.bccArray,s);l.isDuplicate?n&&n({type:"duplicate",index:l.index}):(i(s,t),n&&n({type:"isValide"}))}else if("cc"==t){var c=Object(G.c)(this.state.ccArray,s);c.isDuplicate?n&&n({type:"duplicate",index:c.index}):(i(s,t),n&&n({type:"isValide"}))}}else n&&n({type:"isInValide"})}}},{key:"changeEmailAddress",value:function(e,t,n,a){if(Object(G.e)(e)){var o=this.props.changeEmail,s=!1;if("to"==n){var i=Object(G.c)(this.state.toArray,e);i.isDuplicate&&i.index!=t?a&&a({type:"duplicate",index:i.index}):(o(e,t,n),s=!0,a&&a({type:"isValide"}))}else if("bcc"==n){var r=Object(G.c)(this.state.bccArray,e);r.isDuplicate&&r.index!=t?a&&a({type:"duplicate",index:r.index}):(o(e,t,n),s=!0,a&&a({type:"isValide"}))}else if("cc"==n){var l=Object(G.c)(this.state.ccArray,e);l.isDuplicate&&l.index!=t?a&&a({type:"duplicate",index:l.index}):(o(e,t,n),s=!0,a&&a({type:"isValide"}))}s&&this.setState({editedMode:"",editedIndex:null,editedValue:""})}else a&&a({type:"isInValide"})}},{key:"editEmail",value:function(e,t,n,a){this.setState({editedIndex:e,editedValue:t,editedMode:n},function(){a&&a()})}},{key:"removeEmail",value:function(e,t,n,a){var o=this.props.removeEmail;"to"==t?o(e,t,function(){a&&a()}):"bcc"==t?o(e,t,function(){a&&a()}):"cc"==t&&o(e,t,function(){a&&a()}),"edit"==n&&this.setState({editedMode:"",editedIndex:null,editedValue:""},function(){a&&a()})}},{key:"showBcc",value:function(){this.setState({isBccVisible:!0})}},{key:"showCc",value:function(){this.setState({isCcVisible:!0})}},{key:"constructSwtichOptions",value:function(e,t){var n=[];if("FACEBOOK"==t||"FACEBOOK_DM"==t)n=[{name:Y.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:Y.h.getI18NValue("support.social.facebook.name"),iconName:"ZD-chFacebook",size:"14"}];else if("TWITTER"==t||"TWITTER_DM"==t)n=[{name:Y.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:Y.h.getI18NValue("support.social.common.tweet"),iconName:"ZD-chTwitter",size:"16"},{name:Y.h.getI18NValue("support.social.common.direct.message"),iconName:"ZD-bubble",size:"16"}];else for(var a=[{label:Y.h.getI18NValue("support.common.request.mail.replyall"),key:"ZD-replyall"},{label:Y.h.getI18NValue("support.common.request.mail.reply"),key:"ZD-reply"},{label:Y.h.getI18NValue("support.common.request.mail.forward"),key:"ZD-forward"}],o=0;o<a.length;o++){var s=a[o],i=s.label,r=s.key;e!=r&&n.push({name:i,iconName:r,size:"13"})}return n}},{key:"constructRecipients",value:function(e,t){for(var n=[],a=e.length-t,o=0;o<a;o++){var s=Object(G.a)(e[o]);n.push(C.a.createElement("span",{className:B.a.recipient,key:o},o==a-1?s:s+","))}return n}},{key:"createRecipientCount",value:function(){var e=this.state,t=e.toArray,n=e.ccArray,a=e.bccArray,o=t.concat(n,a).length;if(o&&this.recipientsCont){for(var s=this.recipientsCont.offsetWidth,i=this.recipientsCont.children,r=0,l=0,c=0;c<i.length;c++)if(s<=(r+=i[c].offsetWidth)){l=o-c;break}this.setState({moreData:l})}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isRecipientsVisible,n=e.inValideArr;t&&!(void 0===n?[]:n).length&&this.createRecipientCount()}},{key:"componentDidUpdate",value:function(e){var t=e.ccAddress,n=void 0===t?[]:t,a=e.bccAddress,o=void 0===a?[]:a,s=e.toAddress,i=void 0===s?[]:s,r=e.isRecipientsVisible;this.props.isRecipientsVisible!=r&&this.props.isRecipientsVisible&&!this.props.inValideArr.length&&this.createRecipientCount(),i.length==this.props.toAddress.length&&n.length==this.props.ccAddress.length&&o.length==this.props.bccAddress.length||!this.props.isRecipientsVisible||this.createRecipientCount()}},{key:"hideRecipients",value:function(){this.setState({moreData:0}),this.props.hideRecipients()}},{key:"replyActions",value:function(e){var t=this.props,n=t.threadId,a=t.content,o=t.thread,s="";e==Y.h.getI18NValue("support.common.request.mail.replyall")?s="replyall":e==Y.h.getI18NValue("support.common.request.mail.reply")?s="reply":e==Y.h.getI18NValue("support.common.request.mail.forward")?s="forward":e==Y.h.getI18NValue("crm.label.email")?s="replyall":e==Y.h.getI18NValue("support.social.facebook.name")&&"FACEBOOK_DM"==o.channel?s="facebookDm":e==Y.h.getI18NValue("support.social.facebook.name")?s="facebook":e==Y.h.getI18NValue("support.social.common.tweet")?s="twitter":e==Y.h.getI18NValue("support.social.common.direct.message")&&(s="twitterDm"),this.props.openEditor(n,a,o,s)}},{key:"handleFromAdressChange",value:function(e){this.setState({selectedFromAddress:e});var t=this.props.fromEmailAddress.filter(function(t){return t.id==e});this.props.changeFromEmailAddress(t[0].address)}},{key:"constructDraftObj",value:function(){var e=this.props,t=e.isDraft,n=e.draftText,a=e.saveDraft,o=e.updateDraft,s=e.deleteDraft,i=e.isCustomChannel,r=e.isFromBlueprint,l=e.thread,c=e.mode,d=e.haveForWardPermissionOnly,u=e.haveMailSendPermission;return C.a.createElement(C.a.Fragment,null,t?C.a.createElement("div",{className:B.a.moreAction+" "+(r?B.a.visHidden:"")},C.a.createElement("span",{onClick:o,"data-id":"saveDraftBtn"},n),C.a.createElement("span",{className:B.a.icnMore},C.a.createElement(V.a,{IcnName:"ZD-down1",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowRight:"24",objValues:[{name:Y.h.getI18NValue("support.common.request.mail.discard.draft"),iconName:"ZD-draftDelete",size:"13"}],onSelect:s}))):C.a.createElement(C.a.Fragment,null,!i&&!r||r&&("FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel)?C.a.createElement("span",{className:B.a.moreAction},C.a.createElement(L.a,{name:"FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel?"ZD-chEmail1":"ZD-"+c,iconClass:B.a.iconSize}),d?null:C.a.createElement("span",{className:B.a.icnMore},C.a.createElement(V.a,{IcnName:"ZD-blockDownArrow",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowLeft:"55",size:"xmini",objValues:this.constructSwtichOptions(c,l.channel),onSelect:this.replyActions}))):null,u&&!r?C.a.createElement("span",{className:B.a.moreAction},C.a.createElement("span",{onClick:a,"data-id":"saveDraftBtn"},n)):null))}},{key:"render",value:function(){var e=this,t=this.props,n=t.fromEmailAddress,a=t.searchContact,o=t.searchMode,s=t.searchData,i=t.orgName,r=t.closeSearchPopup,l=t.isRecipientsVisible,c=t.inValideArr,d=void 0===c?[]:c,u=t.getFromEmailAddress,p=t.haveMailSendPermission,m=t.mailConfigurations,h=t.myInfo,f=t.isFromAddressFetching,g=t.isToEmpty,b=t.isCustomChannel,v=t.depName,y=this.state,E=y.toArray,I=y.editedIndex,k=y.editedValue,A=y.editedMode,_=y.isCcVisible,S=y.isBccVisible,O=y.ccArray,x=y.bccArray,N=y.moreData,D=y.selectedFromAddress,T=m.agentNameInTicketReply,P=Object(Z.e)(h.firstName,h.lastName),w=E.concat(O,x),z=[];return n.map(function(e){var t=T?P:e.displayName;z.push({id:e.id,name:'"'+t+'"<'+e.address+">"})}),D||z[0]&&(D=z[0].id),b?p?C.a.createElement(j.Container,{className:B.a.soloDraft,alignBox:"row"},C.a.createElement(j.Box,{flexible:!0}),this.constructDraftObj()):null:C.a.createElement(j.Container,{className:B.a.container},C.a.createElement(j.Box,{className:B.a.composeRow},C.a.createElement(j.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},C.a.createElement(j.Box,{className:B.a.composeFlabel},Y.h.getI18NValue("label.request.from")),C.a.createElement(j.Box,{className:B.a.fromAddress,flexible:!0,shrink:!0},z.length||f?C.a.createElement(ae.a,{emptyMessage:Y.h.getI18NValue("support.label.no.match.found"),needBorder:!1,needLocalSearch:!0,needSearch:!0,onChange:this.handleFromAdressChange,options:z,selectedValue:D||" ",textField:"name",valueField:"id",dataId:"fromEmailRequest"}):C.a.createElement("div",{className:B.a.fromAlert},C.a.createElement(te,{getFromEmailAddress:u,orgName:i,depName:v}))),C.a.createElement(j.Box,{className:B.a.rightContainer},C.a.createElement("div",{className:B.a.actionCont},this.constructDraftObj())))),l&&w.length&&!d.length?C.a.createElement(j.Box,{onClick:this.hideRecipients},C.a.createElement(j.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},C.a.createElement(j.Box,{className:B.a.composeFlabel},Y.h.getI18NValue("support.request.history.wfalert.recipients")),C.a.createElement(j.Box,{className:B.a.recipientstheme,eleRef:function(t){e.recipientsCont=t},flexible:!0,shrink:!0},this.constructRecipients(w,N),N?C.a.createElement("span",{className:B.a.demomore},N," ",Y.h.getI18NValue("crm.login.more")):null))):C.a.createElement(j.Box,{className:B.a.scrollBox},C.a.createElement(j.Container,{alignBox:"row"},C.a.createElement(j.Box,{flexible:!0},C.a.createElement("div",{className:B.a.composeRow},C.a.createElement(j.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},C.a.createElement(j.Box,{className:B.a.composeFlabel},Y.h.getI18NValue("crm.label.to.email")),C.a.createElement(j.Box,{className:B.a.selectLitetheme,flexible:!0},C.a.createElement(Q,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:r,editedIndex:I,editedMode:A,editedValue:k,editEmail:this.editEmail,emailArr:E,formatEmailAddress:this.formatEmailAddress,mode:"to",orgName:i,removeEmail:this.removeEmail,searchContact:a,searchData:s,searchMode:o}),g?C.a.createElement("div",{className:B.a.emptyErr},Y.h.getI18NValue("support.common.email.validation.message")):null))),_||O.length?C.a.createElement("div",{className:B.a.composeRow},C.a.createElement(j.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},C.a.createElement(j.Box,{className:B.a.composeFlabel},Y.h.getI18NValue("crm.label.cc.email")),C.a.createElement(j.Box,{dataId:"ccEmailRequest",className:B.a.selectLitetheme,flexible:!0},C.a.createElement(Q,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:r,editedIndex:I,editedMode:A,editedValue:k,editEmail:this.editEmail,emailArr:O,formatEmailAddress:this.formatEmailAddress,mode:"cc",orgName:i,removeEmail:this.removeEmail,searchContact:a,searchData:s,searchMode:o})))):null,S||x.length?C.a.createElement("div",{className:B.a.composeRow},C.a.createElement(j.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},C.a.createElement(j.Box,{className:B.a.composeFlabel},Y.h.getI18NValue("crm.label.bcc.email")),C.a.createElement(j.Box,{className:B.a.selectLitetheme,flexible:!0},C.a.createElement(Q,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:r,editedIndex:I,editedMode:A,editedValue:k,editEmail:this.editEmail,emailArr:x,formatEmailAddress:this.formatEmailAddress,mode:"bcc",orgName:i,removeEmail:this.removeEmail,searchContact:a,searchData:s,searchMode:o})))):null),C.a.createElement(j.Box,{className:B.a.rightContainer},l?null:C.a.createElement("div",{className:B.a.replyIcns},_||O.length?null:C.a.createElement("span",{className:B.a.textVal,"data-id":"ccEmail",onClick:this.showCc},Y.h.getI18NValue("crm.label.cc.email")),S||x.length?null:C.a.createElement("span",{className:B.a.textVal,"data-id":"bccEmail",onClick:this.showBcc},Y.h.getI18NValue("crm.label.bcc.email")))))))}}]),t}(C.a.Component),ie=se;se.propTypes={addEmail:I.a.func,bccAddress:I.a.array,ccAddress:I.a.array,changeEmail:I.a.func,changeFromEmailAddress:I.a.func,closeSearchPopup:I.a.func,content:I.a.string,deleteDraft:I.a.func,depName:I.a.string,draftText:I.a.string,fromEmailAddress:I.a.any,getFromEmailAddress:I.a.func,haveForWardPermissionOnly:I.a.bool,haveMailSendPermission:I.a.bool,hideRecipients:I.a.func,iconName:I.a.string,inValideArr:I.a.array,isDraft:I.a.bool,isEditorFocus:I.a.bool,isFromAddressFetching:I.a.bool,isFromBlueprint:I.a.bool,isPeekView:I.a.bool,isRecipientsVisible:I.a.bool,isToEmpty:I.a.bool,mailConfigurations:I.a.object,mode:I.a.string,myInfo:I.a.object,openEditor:I.a.func,orgName:I.a.string,removeEmail:I.a.func,saveDraft:I.a.func,searchContact:I.a.func,searchData:I.a.array,searchMode:I.a.string,thread:I.a.any,threadId:I.a.string,toAddress:I.a.array,updateDraft:I.a.func};var re=n("./src/components/Subtab/ReplyFooter/ReplyFooter.module.css"),le=n.n(re),ce=n("./src/components/Subtab/SendButton/SendButton.module.css"),de=n.n(ce),ue=n("../components/lib/Switch/Switch.js"),pe=n.n(ue),me=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));n.state={isPopupOpen:!1};return oe.a.apply(n,["togglePopup","onActionClick"]),n}return v()(t,e),h()(t,[{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"onActionClick",value:function(){var e=this.props,t=e.isDraft,n=e.sendDraft,a=e.sendReply;t?n():a()}},{key:"render",value:function(){var e=this.props,t=e.sendAndClose,n=(e.isDraft,e.isPrivateThread),a=e.isPrivateButtonEnable,o=e.togglePrivateSwitch,s=e.isStatusLocked,i=(e.havePrivateThreadConfig,e.haveForWardPermissionOnly,e.isSharedTicket),r=e.haveVisibilityChangePer,l=this.state.isPopupOpen?de.a.active:"",c=a?Y.h.getI18NValue("support.request.thread.display.not.helpcenter"):Y.h.getI18NValue("support.request.thread.display.helpcenter"),d=r||!s&&!i;return C.a.createElement(j.Container,{className:de.a.ticketButton,isCover:!1},C.a.createElement("div",{className:de.a.ticketAction},C.a.createElement("div",{className:de.a.content+" "+(d?de.a.haveMore:""),onClick:this.onActionClick,"data-id":"replySendOption"},C.a.createElement("p",{className:de.a.actionType},Y.h.getI18NValue("crm.button.send")),n?C.a.createElement("p",{className:de.a.subtitle},Y.h.getI18NValue("support.request.private.thread")):null),d?C.a.createElement("span",{"data-id":"sendOptionHasMore",className:de.a.arrow,onClick:this.togglePopup},C.a.createElement(L.a,{name:"ZD-blockDownArrow",size:"8"})):null),C.a.createElement("div",{className:de.a.buttonAction+" "+l},r?C.a.createElement("div",{className:de.a.switchAction},C.a.createElement("p",null,C.a.createElement("span",{className:de.a.actionNotify},Y.h.getI18NValue("support.department.type.internal")),C.a.createElement("span",{className:de.a.switchbox},C.a.createElement(pe.a,{id:"private",name:"private",size:"small",checked:a,onChange:o,dataId:"switchButton"}))),C.a.createElement("p",{className:de.a.actionSubtitle},c)):null,s||i?null:C.a.createElement("div",{"data-id":"sendAndCloseOption"},C.a.createElement("span",{className:de.a.secondarybutton,onClick:t},Y.h.getI18NValue("support.request.send.and.close")))))}}]),t}(C.a.Component),he=me;me.propTypes={haveForWardPermissionOnly:I.a.bool,havePrivateThreadConfig:I.a.bool,haveVisibilityChangePer:I.a.bool,isDraft:I.a.bool,isPrivateButtonEnable:I.a.bool,isPrivateThread:I.a.bool,isSharedTicket:I.a.bool,isStatusLocked:I.a.bool,sendAndClose:I.a.func,sendDraft:I.a.func,sendReply:I.a.func,togglePrivateSwitch:I.a.func};var fe=n("./src/components/Subtab/UploadList/UploadList.js"),ge=n("./src/components/Subtab/TicketCloseButton/TicketCloseButton.js"),be=n("./src/components/Subtab/UploadPopup/UploadPopup.js"),ve=n("../components/lib/Button/Button.js"),ye=n.n(ve),Ce=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.closeEdtior,n=e.orgId,a=e.showAttachmentViewer,o=e.openCloudAttach,s=e.closeCloudAttach,i=e.deleleUpload,r=e.uploadAttach,l=e.removeAttachment,c=e.oldAttachments,d=e.newAttachments,u=e.sendDraft,p=e.isDraft,m=e.sendReply,h=e.sendAndClose,f=e.isPrivateThread,g=e.isPrivateButtonEnable,b=e.togglePrivateSwitch,v=e.isPeekView,y=e.haveMailSendPermission,E=e.isStatusLocked,I=e.havePrivateThreadConfig,k=e.isFromBlueprint,A=e.sendForReview,_=e.CloudAttachmentIframe,S=e.isCloudAttchOpen,O=e.addCloudAttch,x=e.haveForWardPermissionOnly,N=e.isSharedTicket,D=e.haveVisibilityChangePer,T=e.isCustomChannel,P=e.acceptsAttachments,w=e.appName,z=e.deleteDraft,R=e.sendCusomChannelReply,F=!0;return T&&!P&&(F=!1),C.a.createElement(j.Container,{alignBox:"row",align:"vertical",className:le.a.mainContainer+" "+(k?le.a.bluePrintLayar:"")},C.a.createElement("div",{className:le.a.shadow}),C.a.createElement(j.Box,{flexible:!0},C.a.createElement(j.Container,{alignBox:"row",dataId:"editorContainer",className:le.a.replyBottom,isCover:!1},F?C.a.createElement(j.Box,{className:le.a.btmDiv},C.a.createElement(j.Container,{className:le.a.attchIcn,align:"vertical",alignBox:"row"},C.a.createElement("label",{htmlFor:"replyAttach"},C.a.createElement(L.a,{name:"ZD-attachment5",size:"16"}),C.a.createElement("input",{className:le.a.fileCont,type:"file",onChange:r,multiple:"multiple",id:"replyAttach","data-id":"replyAttach"})),C.a.createElement("div",{className:le.a.attchPopup},C.a.createElement(be.a,{label:"replyAttachLabel",boxPosition:"topRight",bottom:35,left:5,onAttchClick:r,openCloudAttach:o,dataId:"cloudAttach"})))):null,C.a.createElement(j.Box,{shrink:!0,flexible:!0,className:le.a.uploadImg},C.a.createElement(fe.a,{oldAttachments:c,newAttachments:d,deleleUpload:i,removeAttachment:l,showAttachmentViewer:a,orgId:n,from:"replyEdtior",isPeekView:v,dataId:"uploadList"})),k?null:C.a.createElement(j.Box,{dataId:"send-options"},C.a.createElement(j.Container,{align:"vertical",alignBox:"row",isCover:!1},y?T?C.a.createElement(C.a.Fragment,null,C.a.createElement(ye.a,{palette:"primaryFilled",text:Y.h.getI18NValue("support.common.request.channel.integ.sendvia",[w]),onClick:R,className:le.a.actionBtn,dataId:"discardDraft"}),p?C.a.createElement(ye.a,{palette:"secondary",text:Y.h.getI18NValue("support.common.request.mail.discard.draft",[w]),className:le.a.actionBtn,onClick:z}):null):C.a.createElement("span",{className:le.a.sendBtn},C.a.createElement(he,{sendDraft:u,sendReply:m,sendAndClose:h,isDraft:p,isPrivateThread:f,isPrivateButtonEnable:g,togglePrivateSwitch:b,haveMailSendPermission:y,isStatusLocked:E,havePrivateThreadConfig:I,haveForWardPermissionOnly:x,isSharedTicket:N,haveVisibilityChangePer:D})):C.a.createElement(ye.a,{palette:"primaryFilled",text:Y.h.getI18NValue("support.common.save.and.send.for.review"),onClick:A,className:le.a.actionBtn,dataId:"sendVia"}),C.a.createElement(j.Box,null,C.a.createElement(ge.a,{isCancel:!0,onClick:function(){t()},dataId:"CloseButton"}))))),S&&_?C.a.createElement(_,{addCloudAttch:O,totalLen:c.length+d.length,closeIframe:s}):null))}}]),t}(C.a.Component),Ee=Ce;Ce.propTypes={CloudAttachmentIframe:I.a.node,addCloudAttch:I.a.func,closeCloudAttach:I.a.func,closeEdtior:I.a.func,deleleUpload:I.a.func,deleteDraft:I.a.func,haveForWardPermissionOnly:I.a.bool,haveMailSendPermission:I.a.bool,havePrivateThreadConfig:I.a.bool,haveVisibilityChangePer:I.a.bool,isCloudAttchOpen:I.a.bool,isCustomChannel:I.a.bool,isDraft:I.a.bool,isFromBlueprint:I.a.bool,isPeekView:I.a.bool,isPrivateButtonEnable:I.a.bool,isPrivateThread:I.a.bool,isSharedTicket:I.a.bool,isStatusLocked:I.a.bool,newAttachments:I.a.array,oldAttachments:I.a.array,openCloudAttach:I.a.func,orgId:I.a.string,removeAttachment:I.a.func,sendAndClose:I.a.func,sendDraft:I.a.func,sendForReview:I.a.func,sendReply:I.a.func,showAttachmentViewer:I.a.func,togglePrivateSwitch:I.a.func,uploadAttach:I.a.func};var Ie=n("./src/components/Subtab/ForumFooter/ForumFooter.module.css"),ke=n.n(Ie),Ae=n("../components/lib/DropBox/DropBox.js"),_e=n.n(Ae),Se=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));n.state={draftId:null,statusOpen:!1},n._mount=!1;return oe.a.apply(n,["saveDraft","sendReply","togglePopup"]),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({statusOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"togglePopup",value:function(){this.setState(function(e){return{statusOpen:!e.statusOpen}})}},{key:"onSelect",value:function(e){var t=this.props,n=t.ticketId;(0,t.changeForumStatus)(t.channelRelatedInfo.topicId,e,n),this.togglePopup()}},{key:"sendReply",value:function(){var e=this.props,t=e.isDraft,n=e.editorId,a=e.sendReply,o=e.sendDraft,s=e.updateDraft,i=e.channelRelatedInfo,r=e.showMessage;if(""==i.forumStatus)r({type:"alert",message:Y.h.getI18NValue("support.community.tickettopic.selectstatus")});else{var l=this.state.draftId,c={channel:"FORUMS",content:l?editor[l].getContent():editor[n].getContent()};t?s(function(){o()}):a(c)}}},{key:"saveDraft",value:function(){var e=this,t=this.props,n=t.isDraft,a=t.editorId,o=t.saveDraft,s=t.updateDraft,i=this.state.draftId,r=i?editor[i].getContent():editor[a].getContent();n?s({channel:"FORUMS",content:r},function(){}):o(function(){e.setState({draftId:a})})}},{key:"render",value:function(){var e=this,t=this.state.statusOpen,n=this.props,a=n.closeEdtior,o=n.isDraft,s=n.channelRelatedInfo,i=n.deleteDraft,r=s.topicType,l=s.forumStatus,c=Object(Z.s)(r),d=Y.h.getI18NValue("support.forum.setstatus"),u=!1;return c.forEach(function(e){l==e.value&&(d=e.label,u=!0)}),C.a.createElement(j.Container,{alignBox:"row",className:ke.a.mainContainer},C.a.createElement("div",{className:ke.a.shadow}),C.a.createElement(j.Box,{className:ke.a.forumDiv},"QUESTION"==r||"IDEA"==r||"PROBLEM"==r?C.a.createElement("div",{className:ke.a.forumStatus},C.a.createElement(_e.a,{isAnimate:!0,isArrow:!1,isRadius:!1,size:"default",boxPosition:"topCenter",isActive:t},c.map(function(t,n){var a=t.label,o=t.value,s=a==d;return C.a.createElement("div",{className:ke.a.dropList+" "+(s?ke.a.selected:""),key:n,onClick:e.onSelect.bind(e,o)},a)})),C.a.createElement("div",{className:ke.a.container+" "+(u?ke.a.statusSel:"")},C.a.createElement("span",{className:ke.a.forumstatusText},d),C.a.createElement("span",{className:ke.a.dropDown,onClick:function(t){t.stopPropagation&&t.stopPropagation(),e.togglePopup()}},C.a.createElement(L.a,{name:"ZD-blockDownArrow",size:"8"})))):null),C.a.createElement(j.Box,null,C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Y.h.getI18NValue("support.forums.posttoforums"),palette:"primaryFilled",size:"medium",onClick:this.sendReply})),C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Y.h.getI18NValue("support.common.request.mail.save.draft"),palette:"secondary",size:"medium",onClick:this.saveDraft}),o?C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Y.h.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:i})):null),C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Y.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:a}))))}}]),t}(C.a.Component),Oe=Se;Se.propTypes={changeForumStatus:I.a.func,channelRelatedInfo:I.a.object,closeEdtior:I.a.func,deleteDraft:I.a.func,editorId:I.a.string,isDraft:I.a.bool,saveDraft:I.a.func,sendDraft:I.a.func,sendReply:I.a.func,showMessage:I.a.func,ticketId:I.a.string,updateDraft:I.a.func};var je=n("./src/components/Subtab/SnippetActionPopup/SnippetActionPopup.module.css"),xe=n.n(je),Ne=function(e){function t(){return p()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props.openSnippet;return C.a.createElement("div",{className:xe.a.popup,onMouseUp:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},C.a.createElement(_e.a,{isAnimate:!0,size:"small",isActive:!0,boxPosition:"bottomRight",isArrow:!0,arrowLeft:"15"},C.a.createElement(j.Container,{alignBox:"row",className:xe.a.list,onClick:e.bind(this,"list")},C.a.createElement(j.Box,{className:xe.a.icon},C.a.createElement(w,null)),C.a.createElement(j.Box,{flexible:!0},Y.h.getI18NValue("support.solution.addedit.snippet"))),C.a.createElement(j.Container,{alignBox:"row",className:xe.a.list,onClick:e.bind(this,"form")},C.a.createElement(j.Box,{className:xe.a.icon},C.a.createElement(T,null)),C.a.createElement(j.Box,{flexible:!0},Y.h.getI18NValue("support.module.add",[Y.h.getI18NValue("support.solution.addedit.snippet")])))))}}]),t}(C.a.Component),De=Ne;Ne.propTypes={openSnippet:I.a.func};var Te,Pe=n("./src/components/Subtab/AudioMessage/AudioMessage.js"),we=n("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),ze=n("./src/reducers/selector.js"),Re=n("./src/actions/AttachmentActions.js"),Fe=n("./src/actions/ReplyActions.js"),Be=n("./src/actions/TemplateActions.js"),Me=n("./src/actions/TicketDetailViewAction.js"),Le=n("./src/actions/index.js"),Ve=n("./src/actions/AgentCollisionActions.js"),Ke=n("./src/actions/SnippetActions.js"),He=n("./src/utils/Attachment.js"),Ue=n("./src/utils/Editor.js"),Ze=n("./src/fz-i18n/offset.js"),qe=n("./src/fz-i18n/utils.js"),We=n("./src/components/Subtab/collision/collisionAlert/CollisionReplyAlert/CollisionReplyAlert.js"),Ge=n("./src/containers/asyncComponent.js"),Ye=n("./src/utils/debounce.js"),$e=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),Qe=n.n($e),Je=n("./src/components/Subtab/EmailTemplatePopup/EmailTemplatePopup.module.css"),Xe=n.n(Je),et=n("../components/lib/Card/index.js"),tt=n("./src/components/Subtab/Loading/Loading.js"),nt=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.setInputRef=n.setInputRef.bind(n),n}return v()(t,e),h()(t,[{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.inputRef.focus()},10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.from,a=t.limit,o=t.isFetching,s=t.searchStr,i=t.handleSearch,r=t.templeData,l=t.insertEmailTemplateData,c=t.noMoreData,d=t.fetchData,u=t.handleRefresh,p=Qe()(r),m=p.length;return C.a.createElement("div",{className:Xe.a.popup,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},C.a.createElement(_e.a,{isAnimate:!0,size:"xxlarge",boxPosition:"bottomRight",isActive:!0,arrowLeft:"55"},C.a.createElement(et.Card,{from:n,limit:a,noMoreData:c,fetchData:d,noNeedUpScroll:!0},C.a.createElement(et.CardHeader,{className:Xe.a.viewpopsearch},C.a.createElement(H.a,{placeHolder:Y.h.getI18NValue("crm.label.search"),value:s,onChange:i,inputRef:this.setInputRef})),C.a.createElement(et.CardContent,{className:Xe.a.listCont},m?p.map(function(t,n){var a=r[t],o=a.list,s=void 0===o?[]:o,i=a.name;return s.length?C.a.createElement("div",{key:n},C.a.createElement("div",{className:Xe.a.title},i),s.map(function(t,n){var a=t.templateId,o=t.templateName;return C.a.createElement("div",{className:Xe.a.list,"data-title":o,onClick:l.bind(e,a),key:n},o)}),m!=n+1?C.a.createElement("div",{className:Xe.a.seperate}):null):null}):o?C.a.createElement(tt.a,null):C.a.createElement("div",{className:Xe.a.emptyTxt},C.a.createElement("div",{className:Xe.a.emtyIcon},C.a.createElement(L.a,{name:"ZD-exclamationThincircle"})),Y.h.getI18NValue("support.module.empty.message",[Y.h.getI18NValue("support.request.template")]))),C.a.createElement(et.CardFooter,{className:Xe.a.footer},C.a.createElement("span",{className:Xe.a.footerOption,onClick:u},C.a.createElement("span",{className:Xe.a.updateIcon},C.a.createElement(L.a,{name:"ZD-update",size:"16"})),Y.h.getI18NValue("crm.button.refresh")),C.a.createElement("span",{className:Xe.a.footerOption},C.a.createElement("span",{className:Xe.a.updateIcon},"+"),Y.h.getI18NValue("crm.button.create.new.email.template"))))))}}]),t}(y.Component),at=nt;nt.propTypes=(Te={fetchData:I.a.func,from:I.a.string,handleRefresh:I.a.func,handleSearch:I.a.func},o()(Te,"handleSearch",I.a.func),o()(Te,"insertEmailTemplateData",I.a.func),o()(Te,"isFetching",I.a.bool),o()(Te,"limit",I.a.string),o()(Te,"noMoreData",I.a.bool),o()(Te,"searchStr",I.a.string),o()(Te,"templeData",I.a.object),Te);var ot=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={from:0,limit:50,searchStr:"",templeData:{},templatesList:[]},n.getEmailTemplates=n.getEmailTemplates.bind(n),n.fetchData=n.fetchData.bind(n),n.handleSearch=Object(Ye.a)(n.handleSearch.bind(n),100,!0),n.handleRefresh=n.handleRefresh.bind(n),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.getEmailTemplates(0)}},{key:"getEmailTemplates",value:function(e){var t=this,n=this.state,a=n.limit,o=n.searchStr,s=n.templatesList,i=this.props,r=i.deptId,l=i.getEmailTemplates;return this.setState({isFetching:!0,from:e}),l(r,"tickets",e,a,o).then(function(e){var n=!e.data.length||e.data.length<a,o=e.data.length?s.concat(e.data):s;t.setState({isFetching:!1,noMoreData:n,templatesList:o}),t.constructTemplateData(o)},function(){t.setState({isFetching:!1,noMoreData:!0})})}},{key:"constructTemplateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.length&&e.forEach(function(e){var n=e.folder,a=n.folderId,o=n.folderName,s=(t[a]||{}).list,r=(void 0===s?[]:s).concat([e]),l=i()({},t[a],{list:r,name:o});t[a]=l}),this.setState({templeData:t})}},{key:"handleSearch",value:function(e){var t=this;this.setState({searchStr:e,noMoreData:!1,templatesList:[]},function(){t.getEmailTemplates(0)})}},{key:"fetchData",value:function(e){return this.getEmailTemplates(e)}},{key:"handleRefresh",value:function(){this.handleSearch("")}},{key:"render",value:function(){var e=this.state,t=e.from,n=e.limit,a=e.templeData,o=e.searchStr,s=e.isFetching,i=e.noMoreData,r=this.props.insertEmailTemplateData;return C.a.createElement(at,{from:t,limit:n,noMoreData:i,fetchData:this.fetchData,isFetching:s,templeData:a,searchStr:o,insertEmailTemplateData:r,handleSearch:this.handleSearch,handleRefresh:this.handleRefresh})}}]),t}(y.Component);ot.propTypes={deptId:I.a.string,getEmailTemplates:I.a.func,insertEmailTemplateData:I.a.func};var st,it=Object(k.connect)(function(e,t){return{}},{getEmailTemplates:Be.a})(ot),rt=n("./src/components/PortalLayer/PortalLayer.js"),lt=n("./src/actions/BluePrintActions.js"),ct=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));n.state={newAttachments:[],isAttachmentUploading:!1,draftText:Y.h.getI18NValue("support.common.request.mail.save.draft"),selectedFromAddress:"",searchMode:"",searchData:[],isRecipientsVisible:!0,isPrivateButtonEnable:!0,isTemplateOpen:!1,isSnippetActionOpen:!1},n.draftTimeLimit=6e4;return oe.a.apply(n,["constructEditorData","constructFromAddress","saveDraft","sendForReview","updateDraft","uploadAttach","deleleUpload","removeAttachment","addEmail","changeEmail","removeEmail","getEmailObj","changeFromEmailAddress","sendDraft","searchContact","closeSearchPopup","hideRecipients","editorFocus","editorCallback","sendReply","sendAndClose","togglePrivateSwitch","checkIsPrivateThread","bindKeyDown","insertEmailTemplateData","openSnippet","getFromEmailAddress","hidePopup","createDraftTimer","addCloudAttch","openCloudAttach","closeCloudAttach","constructReplyHeader","blurCallback","deleteDraftConfirmation","deleteDraft","closeAlert","sendCusomChannelReply","handlePortalLayer","closeCollisionAlert"]),n.onCloseDeleteDraft=n.onClosePopup.bind(n,"DeleteDraft"),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.constructEditorData(),this.constructFromAddress(),document.addEventListener("click",this.hidePopup),this.setDefaultFromAddress()}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.state,o=a.toAddress,s=a.ccAddress,i=a.bccAddress;t.toAddress==o&&t.ccAddress==s&&t.bccAddress==i||this.checkIsPrivateThread(),e.replyMode!=this.props.replyMode&&this.setState({ccAddress:[]},function(){n.constructEditorData(function(){n.constructCcAddress()})}),this.props.fromAddress!=e.fromAddress&&this.props.fromAddress.length&&this.setDefaultFromAddress(),e.replyingUsers.length!=this.props.replyingUsers.length&&this.props.replyingUsers.length&&this.setState({alertMode:"collisionReply"})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.state.replyMode;e.replyMode!=n&&this.setState({chageEditorContent:!0},function(){setTimeout(function(){t.setState({chageEditorContent:!1})},100)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePopup)}},{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"setDefaultFromAddress",value:function(){var e=this.props.fromAddress;if(e.length){var t=e[0].address;this.setState({selectedFromAddress:t});var n=this.props.setReplyData;n&&n("fromEmailAddress",t)}}},{key:"constructEditorData",value:function(e){var t=this.props,n=t.solutionAttachments,a=void 0===n?[]:n,o=t.havePrivateThreadConfig,s=t.replyThread,i=void 0===s?{}:s,r=t.replyMode,l=t.contactEmail,c=t.setReplyData,d=i.attachments,u=void 0===d?[]:d,p=i.author,m=void 0===p?{}:p,h=i.fromEmailAddress,f=i.direction,g=i.to,b=void 0===g?[]:g,v=i.cc,y=void 0===v?[]:v,C=i.bcc,E=void 0===C?[]:C,I=i.status,k=i.channel,A=i.visibility;u=a.length?a:u;var _=[];if(((u="editDraft"==r||"forward"==r?u:[]).length||a.length)&&("editDraft"==r||"forward"==r))for(var S=0;S<u.length;S++)_.push(u[S].id);var O=m.email&&"FEEDBACK"!=k?[m.email]:h?[h]:[];"out"==f&&(O=b.length?Object(G.d)(b):[]),O=O.length||i.channel||!l?O:[l],O="forward"!=r?O:[];for(var j=y.length&&"forward"!=r?Object(G.d)(y):[],x=E.length&&"editDraft"==r?Object(G.d)(E):[],N=O.concat(j,x),D=[],T=0;T<O.length;T++)Object(G.e)(O[T])||D.push(T);var P="forward"==r,w=void 0,z=!0;P?(w=!0,z=!1):o?w=-1==N.indexOf(l):(w="private"==A,z=!1),c&&c("toAddress",O),c&&c("ccAddress",j),c&&c("bccAddress",x),c&&c("isPrivateThread",w),this.setState({attachmentIds:_,oldAttachments:u,isDraft:"DRAFT"==I,toAddress:O,ccAddress:j,bccAddress:x,replyMode:r,isPrivateThread:w,inValideArr:D,isRecipientsVisible:O.length,isForwardReply:P,haveVisibilityChangePer:z},function(){e&&e()})}},{key:"constructFromAddress",value:function(){var e=this,t=this.props,n=t.replyThread,a=t.channelRelatedInfo;"FORUMS"==n.channel&&!a.isTopicDeleted||(this.setState({isFromAddressFetching:!0}),this.getFromEmailAddress().then(function(t){var n=function(){e.setState({isFromAddressFetching:!1}),e.constructCcAddress()};t&&t.data.res&&204==t.data.res.responseStatus?e.getFromEmailAddress(!0).then(n):n()}))}},{key:"getFromEmailAddress",value:function(e){var t=this.props,n=t.getFromEmailAddress,a=t.deptId;return n(a=e?"allDepartment":a)}},{key:"constructCcAddress",value:function(){var e=this.props,t=e.haveForWardPermissionOnly,n=e.setReplyData,a=e.mailConfigurations,o=e.fromAddress,s=e.replyMode;if(a.autoCCToMailbox&&!t&&"forward"!=s){var i=this.state.ccAddress;if(-1==i.indexOf(o[0].address)){var r=[].concat(l()(i),[o[0].address],l()(this.constructSecondaryContactEmails()));this.setState({ccAddress:r}),n&&n("ccAddress",r)}}}},{key:"constructSecondaryContactEmails",value:function(){var e=this.props,t=e.secondaryContacts,n=void 0===t?[]:t,a=e.contacts,o=[];n.length&&Object(Z.h)(n,a).forEach(function(e){var t=e.firstName,n=e.lastName,a=e.email,s=Object(Z.e)(t,n);o.push(s+"<"+a+">")});return o}},{key:"hidePopup",value:function(){this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1})}},{key:"checkIsPrivateThread",value:function(){var e=this.state,t=e.toAddress,n=void 0===t?[]:t,a=e.ccAddress,o=void 0===a?[]:a,s=e.bccAddress,i=void 0===s?[]:s,r=e.isForwardReply,l=e.isPrivateButtonEnable,c=this.props,d=c.havePrivateThreadConfig,u=c.contactEmail,p=c.replyThread,m=void 0===p?{}:p,h=c.setReplyData,f=n.concat(o,i),g=!0,b=!0;if(r)g=!0,b=!1;else if(d)if(l)for(var v=0;v<f.length;v++){if(Object(G.b)(f[v])==u){g=!1,b=!1;break}b=!0}else g=!1;else g="private"==m.visibility,b=!1;this.setState({isPrivateThread:g,haveVisibilityChangePer:b}),h&&h("isPrivateThread",g)}},{key:"addEmail",value:function(e,t){var n=this,a=this.props.setReplyData;if("to"==t){var o=[].concat(l()(this.state.toAddress),[e]);this.setState({toAddress:o},function(){n.checkEmailValide()}),a&&a("toAddress",o)}else if("cc"==t){var s=[].concat(l()(this.state.ccAddress),[e]);this.setState({ccAddress:s},function(){n.checkEmailValide()}),a&&a("ccAddress",s)}else if("bcc"==t){var i=[].concat(l()(this.state.bccAddress),[e]);this.setState({bccAddress:i},function(){n.checkEmailValide()}),a&&a("bccAddress",i)}}},{key:"checkEmailValide",value:function(){var e=this.state,t=e.toAddress,n=e.ccAddress,a=e.bccAddress,o=this.props.contact.email;if(o&&this.props.haveForWardPermissionOnly){var s=!0;if(t.forEach(function(e){Object(G.b)(e)==o&&(s=!1)}),s&&n.forEach(function(e){Object(G.b)(e)==o&&(s=!1)}),s&&a.forEach(function(e){Object(G.b)(e)==o&&(s=!1)}),!s){var i=this.props,r=i.showMessage,l=i.moduleMeta;return r({type:"alert",message:Y.h.getI18NValue("support.ticketshare.reply.error",[l.tickets.singularLabel])}),!1}return!0}return!0}},{key:"changeEmail",value:function(e,t,n){var a=this.props.setReplyData;if("to"==n){var o=this.state.inValideArr.filter(function(e){return e!==t});this.setState(function(n){var s=n.toAddress.slice();return s[t]=e,a&&a("toAddress",s),{toAddress:s,inValideArr:o}})}else"cc"==n?this.setState(function(n){var o=n.ccAddress.slice();return o[t]=e,a&&a("ccAddress",o),{ccAddress:o}}):"bcc"==n&&this.setState(function(n){var o=n.bccAddress.slice();return o[t]=e,a&&a("bccAddress",o),{bccAddress:o}})}},{key:"removeEmail",value:function(e,t,n){var a=this.props.setReplyData;if("to"==t){var o=this.state,s=o.toAddress,i=o.inValideArr.filter(function(t){return t!==e});s=[].concat(l()(s.slice(0,e)),l()(s.slice(e+1))),a&&a("toAddress",s),this.setState({toAddress:s,inValideArr:i},function(){n&&n()})}else if("cc"==t){var r=this.state.ccAddress;r=[].concat(l()(r.slice(0,e)),l()(r.slice(e+1))),this.setState({ccAddress:r},function(){n&&n()}),a&&a("ccAddress",r)}else if("bcc"==t){var c=this.state.bccAddress;c=[].concat(l()(c.slice(0,e)),l()(c.slice(e+1))),this.setState({bccAddress:c},function(){n&&n()}),a&&a("bccAddress",c)}}},{key:"openCloudAttach",value:function(){this.setState({isCLoudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCLoudOpen:!1})}},{key:"addCloudAttch",value:function(e,t,n){var a=this,o=this.state,s=o.newAttachments,r=o.oldAttachments.length+s.length+n,l={index:r,href:null,isPreview:!0};this.setState(function(e){var t=i()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,r,function(e,t){var n=a.state.newAttachments.map(function(n){return n.index===t?i()({},n,{percentComplete:e}):n});a.setState({newAttachments:n})}).then(function(e){var t=e.data,n=a.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});a.setState({newAttachments:n}),a.setState(function(e){var n=i()({},e);n.attachmentIds.push(t.data.id);var o=a.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n}),a.state.isDraft?a.updateDraft():a.saveDraft()},function(){a.setState(function(e){var t=i()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return r!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,n=this.state,a=n.newAttachments,o=n.oldAttachments.length+a.length,s=e.target?e.target.files:e,r=s.length,l=Object(He.p)(s,o),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:Y.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c)for(var p=0;p<c.length;p++){var m=c[p];m.isUnSupported&&u({type:"alert",message:Y.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),m.isFileNameSizeInvalid&&u({type:"alert",message:Y.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),m.isEmpty&&u({type:"alert",message:Y.h.getI18NValue("support.request.empty.attachment.message")}),m.isAttachSizeExceeded&&u({type:"alert",message:Y.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var n=function(n){var a=d[n],s=new FormData;s.append("file",a);var l=o+n,u=Object(He.g)(a,l);t.setState(function(e){var t=i()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(s,l,function(e,n){var a=t.state.newAttachments.map(function(t){return t.index===n?i()({},t,{percentComplete:e}):t});t.setState({newAttachments:a})}).then(function(n){var a=n.data;e+=1;var o=t.state.newAttachments.map(function(e){return e.index===a.data.index?a.data:e});t.setState({newAttachments:o}),t.setState(function(e){var n=i()({},e);n.attachmentIds.push(a.data.id);var o=t.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n}),e+c.length==r&&t.setState({isAttachmentUploading:!1})},function(){t.setState(function(e){var t=i()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return l!==e.index}),t})})},a=0;a<d.length;a++)n(a)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(n){var a=i()({},n);a.newAttachments=a.newAttachments.filter(function(t){return e!==t.id}),a.attachmentIds=a.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a})})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(n){var a=i()({},n);a.oldAttachments=a.oldAttachments.filter(function(t){return e!==t.id}),a.attachmentIds=a.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a})}},{key:"getEmailObj",value:function(){var e=this.state,t=e.toAddress,n=e.ccAddress,a=e.bccAddress,o="",s="",i="";if(t.length)for(var r=0;r<t.length;r++)o+=0==r?t[r]:","+t[r];if(n.length)for(var l=0;l<n.length;l++)s+=0==l?n[l]:","+n[l];if(a.length)for(var c=0;c<a.length;c++)i+=0==c?a[c]:","+a[c];return{toArr:o,ccArr:s,bccArr:i}}},{key:"saveDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({draftText:"Saving draft...",isToEmpty:!1});var t=this.props,n=t.editorId,a=t.saveDraft,o=t.revertIsEditorChanged,s=t.isEditorChanged,i=t.isCustomChannel,r=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=editor[n].getContent(),p=this.getEmailObj(),m={channel:"EMAIL",attachmentIds:c,to:p.toArr,cc:p.ccArr,bcc:p.bccArr,fromEmailAddress:d,contentType:"html",content:u};if(i){var h="html",f=r.code;r.replyConfig.contentTypes.includes("text/html")||(h="plaintext"),m={content:u,channel:f,contentType:h,attachmentIds:c}}a(m,function(t){s&&o();var a=Y.h.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:"Saved @ "+a,isDraft:!0,draftId:n})})}}},{key:"sendForReview",value:function(){if(this.checkEmailValide()){var e=this.props,t=(e.ticketId,e.editorId),n=e.saveDraft,a=e.sendForReview,o=e.revertIsEditorChanged,s=e.isEditorChanged,i=e.replyThread,r=e.updateDraft,l=e.isCustomChannel,c=e.channelInfo,d=this.state,u=d.attachmentIds,p=d.selectedFromAddress,m=editor[t].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:u,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:p,contentType:"html",content:m};if(l){var g="html",b=c.code;c.replyConfig.contentTypes.includes("text/html")||(g="plaintext"),f={content:m,channel:b,contentType:g}}"DRAFT"==i.status?r(f,function(e){s&&o(),a()}):n(f,function(e){s&&o(),a()})}}},{key:"updateDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){this.setState({draftText:Y.h.getI18NValue("support.common.request.mail.saving.draft")+"...\n        "});var t=this.props,n=(t.ticketId,t.editorId),a=t.updateDraft,o=t.revertIsEditorChanged,s=t.isEditorChanged,i=t.isCustomChannel,r=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.draftId,p=u?editor[u].getContent():editor[n].getContent(),m=this.getEmailObj(),h={channel:"EMAIL",attachmentIds:c,to:m.toArr,cc:m.ccArr,bcc:m.bccArr,fromEmailAddress:d,contentType:"html",content:p};if(i){var f="html",g=r.code;r.replyConfig.contentTypes.includes("text/html")||(f="plaintext"),h={content:p,channel:g,contentType:f,attachmentIds:c}}a(h,function(t){s&&o();var a=Y.h.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:Y.h.getI18NValue("support.social.saved")+" @ "+a,isDraft:!0,draftId:u||n})})}}},{key:"changeFromEmailAddress",value:function(e){var t=this.props,n=t.haveForWardPermissionOnly;if((t.mailConfigurations||{}).autoCCToMailbox&&!n){var a=this.state,o=a.ccAddress,s=a.selectedFromAddress,i=o.indexOf(s);i>-1?-1==o.indexOf(e)&&(o[i]=e):o.push(e),this.setState({ccAddress:o});var r=this.props.setReplyData;r&&r("ccAddress",o)}this.setState({selectedFromAddress:e});var l=this.props.setReplyData;l&&l("fromEmailAddress",e)}},{key:"sendDraft",value:function(e){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var t=this.props,n=t.editorId,a=t.updateDraft,o=t.sendDraft,s=t.revertIsEditorChanged,i=t.isEditorChanged,r=this.state,l=r.attachmentIds,c=r.selectedFromAddress,d=r.draftId,u=r.isPrivateThread,p=r.isPrivateButtonEnable,m=d?editor[d].getContent():editor[n].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:l,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:c,contentType:"html",content:m},g=u&&p;a(f,function(t){o(g,function(){i&&s(),"function"==typeof e&&e()})})}}},{key:"sendReply",value:function(e,t){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length||this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var n=this.props,a=n.editorId,o=(n.updateDraft,n.sendReply),s=n.replyMode,i=n.revertIsEditorChanged,r=n.isEditorChanged,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.isPrivateThread,p=l.isPrivateButtonEnable,m=editor[a].getContent(),h=this.getEmailObj();o({channel:"EMAIL",attachmentIds:c,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:d,contentType:"html",content:m,isForward:"forward"==s},u&&p,e,function(){r&&i(),"function"==typeof t&&t()})}}},{key:"sendAndClose",value:function(){var e=this.props,t=e.isDraftThread,n=e.closeTicket,a=e.haveEditPermission;t?this.sendDraft(function(){a&&n()}):this.sendReply(!0,function(){a&&n()})}},{key:"sendCusomChannelReply",value:function(){var e=this.props,t=e.editorId,n=e.sendReply,a=e.channelInfo,o=this.state.attachmentIds,s=editor[t].getContent(),i="html",r=a.code;a.replyConfig.contentTypes.includes("text/html")||(i="plaintext"),n({content:s,channel:r,contentType:i,attachmentIds:o})}},{key:"searchContact",value:function(e,t){var n=this;this.setState({searchMode:e}),this.props.searchContact(t).then(function(e){e.data.list.length?n.setState({searchData:e.data.list}):n.setState({searchData:"noData"})})}},{key:"closeSearchPopup",value:function(){this.setState({searchMode:"",searchData:[]})}},{key:"hideRecipients",value:function(){this.setState({isRecipientsVisible:!1})}},{key:"blurCallback",value:function(){this.setState({isEditorFocus:!1})}},{key:"editorFocus",value:function(){var e=this.state.toAddress,t=void 0===e?[]:e;this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1}),t.length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),this.setState({isEditorFocus:!0})}},{key:"editorCallback",value:function(e){var t=this,n=this.props,a=n.ticketId,o=n.publishUserAction,s=n.getSnippetList,i=n.isCustomChannel,r=n.channelInfo;i&&(r.replyConfig.contentTypes.includes("text/html")||e.toolbardiv.querySelectorAll(".KB_Editor_Richtext,.ze_plain")[0].remove());var l=this.state.toAddress;(void 0===l?[]:l).length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),o(a,"reply",WebMessanger.getRawSid&&WebMessanger.getRawSid()),s(),this.bindKeyDown();var c=document.getElementsByClassName("TemplateIcon")[0],d=document.getElementsByClassName("SnippetIcon")[0];c.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isTemplateOpen:!0,isSnippetActionOpen:!1})}),d.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isSnippetActionOpen:!0,isTemplateOpen:!1})})}},{key:"bindKeyDown",value:function(){var e=this,t=this.props.editorId,n=editor[t];n.doc.onkeydown=function(t){var a=t.keyCode,o=t.shiftKey,s=t.altKey,i=t.ctrlKey,r=t.metaKey;if(9===a){t.preventDefault(),t.stopPropagation();for(var l=e.props,c=l.snippetData,d=l.snippets,u=l.ticket,p=l.contact,m=l.account,h=l.agent,f=c.snippetIds,g=[],b=0;b<f.length;b++){d[f[b]]&&g.push(d[f[b]])}var v=Object(Ue.b)(n._getSelection(),n.doc,n,g).content;v=Object(Ue.f)(v,u,p,m,h),n.insertHTML(v)}if(!(o||s||i||r||9==a||20==a||33==a||34==a||37==a||38==a||39==a||40==a)){e.setState({contentModified:!0},function(){e.createDraftTimer()});var y=e.props,C=y.isEditorChanged,E=y.setIsEditorChanged;!C&&E()}}}},{key:"createDraftTimer",value:function(){var e=this;setTimeout(function(){e.state.contentModified&&(e.state.isDraft?e.updateDraft():e.saveDraft(),e.setState({contentModified:!1}))},this.draftTimeLimit)}},{key:"togglePrivateSwitch",value:function(){var e=this;this.setState(function(e){return{isPrivateButtonEnable:!e.isPrivateButtonEnable}},function(){e.checkIsPrivateThread()})}},{key:"insertEmailTemplateData",value:function(e){var t=this,n=this.props,a=n.getTemplateContent,o=(n.editorId,n.ticketId),s=n.isEditorChanged,i=n.setIsEditorChanged;a(e,o).then(function(e){var n=e.data.res.body;new RegExp("<(\"[^\"]*\"|'[^']*'|[^'\">])*>").test(n)||(n=n.replace(/\n/g,"<br/>")),Object(Ue.c)(t.props.editorId,n),t.setState({contentModified:!0},function(){t.createDraftTimer()}),!s&&i(),t.setState({isTemplateOpen:!1})})}},{key:"openSnippet",value:function(e){this.setState({isSnippetActionOpen:!1});var t=this.props,n=t.openSnippet;n(e,t.editorId)}},{key:"constructReplyHeader",value:function(){var e=this.props,t=e.replyThread,n=e.replyMode,a=e.ticket,o=e.ticketId,s=e.editorId,i=e.myInfo,r=e.isCustomChannel,l=t.author,c=t.to,d=t.cc,u=t.from,p=Y.h.userDateFormat(new Date(t.createdTime),{},"lateby","left",!1,function(){return"DDD, DD MMM YYYY HH:mm:ss"}),m=-Ze.a[i.timeZone];m=((m=parseInt(m))<0?"+":"-")+Object(qe.i)(parseInt(Math.abs(m/60)),2)+Object(qe.i)(Math.abs(m%60),2);var h="";if(o!=s){var f=l.email?" < "+l.email+" > ":"",g=r?u:'"'+l.name+'"'+f+" ";"forward"==n?(h="<div><div>============ "+Y.h.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n          <div>"+Y.h.getI18NValue("support.request.from.emailid")+":  "+Object(Z.k)(g)+"<br></div>",Object(Z.k)(c)&&(h+="<div>"+Y.h.getI18NValue("crm.label.to.email")+": "+Object(Z.k)(c)+"<br></div>"),Object(Z.k)(d)&&(h+="<div>"+Y.h.getI18NValue("crm.label.cc.email")+": "+Object(Z.k)(d)+"<br></div>"),h+="<div>"+Y.h.getI18NValue("crm.events.date")+": "+p+" "+m+" <br></div>\n          <div>"+Y.h.getI18NValue("crm.label.subject")+": "+Object(Z.k)(a.subject)+"</div>\n          <div>============ "+Y.h.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n        </div><br>"):h="<div>---- "+Y.h.getI18NValue("support.on")+" "+p+" "+m+" <b> "+Object(Z.k)(g)+" </b> "+Y.h.getI18NValue("suppot.mail.header.wrote")+" ---- <br></div><br>"}return h}},{key:"deleteDraftConfirmation",value:function(){this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.onDeleteDraft(!1)}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"onClosePopup",value:function(e){this["on"+e](!1)}},{key:"closeCollisionAlert",value:function(){var e=this.props,t=e.isFromBlueprint,n=e.closeEdtior,a=e.closeTransitionForm;t?a():n()}},{key:"render",value:function(){var e=this.props,t=e.editorId,n=e.replyContent,a=e.replyThread,o=e.replyMode,s=e.orgName,i=e.orgId,r=e.showAttachmentViewer,l=e.closeEdtior,c=e.openEditor,d=e.signatureObj,u=void 0===d?{}:d,p=e.linkHolder,m=e.solutionContent,h=e.saveDraft,f=e.updateDraft,g=e.isDraftThread,b=e.sendReply,v=e.sendDraft,y=e.replyingUsers,E=e.agents,I=e.ticketId,k=e.isPeekView,A=e.haveMailSendPermission,S=e.channelRelatedInfo,O=e.mailConfigurations,N=e.myInfo,D=e.isStatusLocked,P=e.havePrivateThreadConfig,z=e.isFromBlueprint,F=e.isCloudAttchOpen,B=e.haveForWardPermissionOnly,M=e.isSharedTicket,L=e.uploadAttach,V=e.fromAddress,K=e.isCustomChannel,H=e.channelInfo,U=e.changeForumStatus,q=e.showMessage,W=e.deptId,G=e.depName,Y=this.state,$=Y.newAttachments,Q=Y.oldAttachments,J=Y.draftText,X=Y.toAddress,ee=Y.ccAddress,te=Y.bccAddress,ne=Y.searchMode,ae=Y.searchData,oe=Y.isRecipientsVisible,se=Y.isPrivateThread,re=Y.haveVisibilityChangePer,le=Y.isPrivateButtonEnable,ce=Y.inValideArr,de=Y.isTemplateOpen,ue=Y.isSnippetActionOpen,pe=Y.isCLoudOpen,me=Y.chageEditorContent,he=Y.isEditorFocus,fe=Y.isFromAddressFetching,ge=Y.isToEmpty,be=Y.alertMode,ve=a&&"DRAFT"==a.status,ye="forum"==o&&!S.isTopicDeleted,Ce=H.replyConfig,Ie=H.appName,ke=!0,Ae=!0,_e=void 0;if(K){var Se=Ce.contentTypes,je=Ce.includeQuotedMessage,xe=Ce.acceptsAttachments;Se.includes("text/html")||(_e="plaintext"),Ae=je,ke=xe}var Ne=n;if(""!=Ne&&"<html><body><div></div></body></html>"!=Ne&&!ve){"TWILIO"==a.channel&&Object(Z.I)(a.content)&&(Ne=_.a.renderToStaticMarkup(C.a.createElement(Pe.a,{thread:a})));var Te=this.constructReplyHeader();Ne=Ae?'<br><blockquote style="border-left: 1px dotted #e5e5e5;margin-left:5px;padding-left: 5px;">'+Te+"<div>"+Ne+"</div></blockquote>":""}if(ye)Ne="";else{if(!ve){var ze=u.isActive,Re=u.defaultSignature,Fe=u.customizedSignatures,Be=null;ze&&(Be=Re,(void 0===Fe?[]:Fe).forEach(function(e){var t=e.departmentId,n=e.signature;W==t&&(Be=n)})),Be&&!ve&&(Ne="<br>"+Be+Ne),p&&"forward"!=o&&Ae&&(Ne="<div><br></div><div><br></div>"+p+"<div><br></div>"+Ne+"<div><br></div>")}"string"==typeof m&&(Ne=m+Ne)}return Ne="<div><br></div>"+Ne,C.a.createElement(j.Container,null,C.a.createElement(T,{isRender:!1,isSymbol:!0}),C.a.createElement(w,{isRender:!1,isSymbol:!0}),C.a.createElement(R,{isRender:!1,isSymbol:!0}),ye?null:C.a.createElement(j.Box,null,C.a.createElement(ie,{mode:o,saveDraft:this.saveDraft,updateDraft:this.updateDraft,toAddress:X,bccAddress:te,ccAddress:ee,isDraft:ve,draftText:J,addEmail:this.addEmail,changeEmail:this.changeEmail,removeEmail:this.removeEmail,fromEmailAddress:V,isFromAddressFetching:fe,changeFromEmailAddress:this.changeFromEmailAddress,deleteDraft:this.deleteDraftConfirmation,searchContact:this.searchContact,openEditor:c,threadId:t,content:n,thread:a,searchMode:ne,searchData:ae,orgName:s,closeSearchPopup:this.closeSearchPopup,isRecipientsVisible:oe,hideRecipients:this.hideRecipients,inValideArr:ce,isPeekView:k,getFromEmailAddress:this.getFromEmailAddress,haveMailSendPermission:A,mailConfigurations:O,myInfo:N,isFromBlueprint:z,haveForWardPermissionOnly:B,isEditorFocus:he,isToEmpty:ge,isCustomChannel:K,depName:G})),de||ue?C.a.createElement(j.Box,null,de?C.a.createElement(it,{deptId:W,insertEmailTemplateData:this.insertEmailTemplateData}):ue?C.a.createElement(De,{openSnippet:this.openSnippet}):null):null,C.a.createElement(j.Box,{flexible:!0},C.a.createElement(x.a,{id:t,value:Ne,onFocus:this.editorFocus,editorCallback:this.editorCallback,editorMode:"TicketReply",onUpload:L,chageEditorContent:me,blurCallback:this.blurCallback,mode:_e,dataId:"editorContainer",type:"xlarge",editorOptions:{needEditorFocus:!z}})),C.a.createElement(j.Box,null,ye?z?null:C.a.createElement(Oe,{ticketId:I,changeForumStatus:U,showMessage:q,closeEdtior:l,sendDraft:v,editorId:t,saveDraft:h,deleteDraft:this.deleteDraftConfirmation,updateDraft:f,isDraft:g,sendReply:b,channelRelatedInfo:S,haveMailSendPermission:A}):C.a.createElement(Ee,{isFromBlueprint:z,closeEdtior:l,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,showAttachmentViewer:r,openCloudAttach:this.openCloudAttach,closeCloudAttach:this.closeCloudAttach,orgId:i,newAttachments:$,oldAttachments:Q,removeAttachment:this.removeAttachment,sendDraft:this.sendDraft,isDraft:ve,sendReply:this.sendReply,sendAndClose:this.sendAndClose,isPrivateThread:se,haveVisibilityChangePer:re,isPrivateButtonEnable:le,togglePrivateSwitch:this.togglePrivateSwitch,isPeekView:k,haveMailSendPermission:A,isStatusLocked:D,havePrivateThreadConfig:P,sendForReview:this.sendForReview,isCloudAttchOpen:F&&pe,CloudAttachmentIframe:Ge.n,addCloudAttch:this.addCloudAttch,haveForWardPermissionOnly:B,isSharedTicket:M,isCustomChannel:K,acceptsAttachments:ke,appName:Ie,deleteDraft:this.deleteDraftConfirmation,sendCusomChannelReply:this.sendCusomChannelReply})),C.a.createElement(rt.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},C.a.createElement(we.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})),"collisionReply"==be&&y.length?C.a.createElement(We.a,{agents:E,replyingUsers:y,replyConfirm:this.closeAlert,closeAlert:this.closeCollisionAlert,isFromReplyEditor:!0}):null)}}]),t}(y.Component);ct.defaultProps={isFromBlueprint:!1},ct.propTypes=(st={account:I.a.object,agent:I.a.object,agents:I.a.object,changeForumStatus:I.a.func},o()(st,"changeForumStatus",I.a.func),o()(st,"channelInfo",I.a.object),o()(st,"channelRelatedInfo",I.a.object),o()(st,"closeEdtior",I.a.func),o()(st,"closeTicket",I.a.func),o()(st,"closeTransitionForm",I.a.func),o()(st,"contact",I.a.object),o()(st,"contactEmail",I.a.string),o()(st,"contacts",I.a.object),o()(st,"deleleUpload",I.a.func),o()(st,"deleteDraft",I.a.func),o()(st,"depName",I.a.string),o()(st,"deptId",I.a.string),o()(st,"downloadAttachment",I.a.func),o()(st,"editorId",I.a.string),o()(st,"fromAddress",I.a.array),o()(st,"getFromEmailAddress",I.a.func),o()(st,"getSnippetList",I.a.func),o()(st,"getTemplateContent",I.a.func),o()(st,"haveEditPermission",I.a.bool),o()(st,"haveForWardPermissionOnly",I.a.bool),o()(st,"haveMailSendPermission",I.a.bool),o()(st,"havePrivateThreadConfig",I.a.bool),o()(st,"isCloudAttchOpen",I.a.bool),o()(st,"isCustomChannel",I.a.bool),o()(st,"isDraft",I.a.bool),o()(st,"isDraftThread",I.a.bool),o()(st,"isEditorChanged",I.a.func),o()(st,"isFromBlueprint",I.a.bool),o()(st,"isPeekView",I.a.bool),o()(st,"isSharedTicket",I.a.bool),o()(st,"isStatusLocked",I.a.bool),o()(st,"linkHolder",I.a.string),o()(st,"mailConfigurations",I.a.object),o()(st,"moduleMeta",I.a.object),o()(st,"myInfo",I.a.object),o()(st,"openCloudAttach",I.a.func),o()(st,"openEditor",I.a.func),o()(st,"openSnippet",I.a.func),o()(st,"orgId",I.a.number),o()(st,"orgName",I.a.string),o()(st,"publishUserAction",I.a.func),o()(st,"push",I.a.func),o()(st,"replyMode",I.a.string),o()(st,"replyThread",I.a.object),o()(st,"replyingUsers",I.a.array),o()(st,"revertIsEditorChanged",I.a.func),o()(st,"saveDraft",I.a.func),o()(st,"searchContact",I.a.func),o()(st,"secondaryContacts",I.a.array),o()(st,"sendDraft",I.a.func),o()(st,"sendForReview",I.a.func),o()(st,"sendReply",I.a.func),o()(st,"setIsEditorChanged",I.a.func),o()(st,"setReplyData",I.a.func),o()(st,"showAttachmentViewer",I.a.func),o()(st,"showMessage",I.a.func),o()(st,"signatureObj",I.a.object),o()(st,"snippetData",I.a.object),o()(st,"snippets",I.a.object),o()(st,"solutionAttachments",I.a.array),o()(st,"solutionContent",I.a.string),o()(st,"ticket",I.a.object),o()(st,"ticketId",I.a.string),o()(st,"updateDraft",I.a.func),o()(st,"uploadAttach",I.a.func),o()(st,"uploadCloudAttachment",I.a.func),st);t.a=Object(k.connect)(function(e,t){var n=e.module.ticket[t.ticketId],a=e.module.contact[n.contactId],o=e.myInfo.id,s=e.ticketUIState.isEditorChanged,i=void 0!==s&&s,r=n.departmentId,l=e.module.department[r].sanitizedName,c=e.departmentSpecificState[r],d=c.fromEmailAddress,u=void 0===d?[]:d,p=c.linkHolder,m=c.mailConfigurations,h=u;h=(h=h.length?h:O()("departmentSpecificState.allDepartment.fromEmailAddress",e))&&h.length?h:[];var f=e.myPreferences.signatureObj,g=[],b=(e.collidingData[t.ticketId]||{}).collisionUsers,v=void 0===b?[]:b;if(v.length)for(var y=0;y<v.length;y++)"replying"==v[y].userAction&&v[y].agentId!=o&&g.push(v[y]);return{orgName:e.routing.paramMap.orgName,orgId:Object(ze.T)(e),signatureObj:f,linkHolder:p,collidingData:e.collidingData[t.ticketId],agents:e.module.agent,snippetData:e.snippetData,snippets:e.module.snippet,contact:a,agent:e.module.agent[o],ticket:n,account:e.module.account[a.accountId],isEditorChanged:i,deptId:r,depName:l,fromAddress:h,mailConfigurations:m,havePrivateThreadConfig:m.privateThreadConfig,myInfo:e.myInfo,isCloudAttchOpen:e.isCloudAttchOpen,moduleMeta:e.moduleMeta,contacts:e.module.contact,secondaryContacts:n.secondaryContacts,replyingUsers:g}},{downloadAttachment:Re.e,uploadAttach:Re.k,deleleUpload:Re.d,showAttachmentViewer:Re.i,openCloudAttach:Re.h,getFromEmailAddress:Fe.c,searchContact:Fe.g,publishUserAction:Ve.j,openSnippet:Ke.f,getSnippetList:Ke.d,getTemplateContent:Be.b,setIsEditorChanged:Me.u,revertIsEditorChanged:Me.s,showMessage:Le.Q,uploadCloudAttachment:Re.l,changeForumStatus:Me.a,push:Le.L,closeTransitionForm:lt.b})(ct)},"./src/containers/Subtab/SocialReply/SocialReply.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=n.n(g),v=n("./src/containers/Subtab/SocialReply/SocialReply.module.css"),y=n.n(v),C=n("../components/lib/Textarea/Textarea.js"),E=n.n(C),I=n("../components/lib/Button/Button.js"),k=n.n(I),A=n("./src/components/MorePopup/MorePopup.js"),_=n("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),S=n("./src/fz-i18n/index.js"),O=n("./src/actions/index.js"),j=n("./src/utils/bind.js"),x=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),N=n.n(x),D=n("./src/components/PortalLayer/PortalLayer.js"),T=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e)),a=n.props,s=(a.channel,a.replyThread),r=a.replyMode;n.state={content:"twitter"==r?"@"+s.twitterProfile+" ":n.props.content,tweetLen:"twitterDm"==r?8e3:280,mode:"twitterDm"==r?"twitterDm":"tweet"};return j.a.apply(n,["handleChange","sendDraft","saveDraft","updateDraft","sendReply","constructSwtichOptions","deleteDraftConfirmation","deleteDraft","handlePortalLayer","onCloseDeleteDraft"]),n}return p()(t,e),l()(t,[{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"handleChange",value:function(e){var t=this.props,n=t.channel,a=t.replyMode,o=t.setReplyData;this.setState({content:e});var s="";"TWITTER"==n?(s=280-e.length,this.setState({tweetLen:s})):(s=8e3-e.length,this.setState({tweetLen:s})),o&&o("content",e),""!=s&&(s<0?(o&&o("isMaxLimit",!0),o&&o("maxCount","twitterDm"==a?8e3:280)):o&&o("isMaxLimit",!1))}},{key:"sendDraft",value:function(){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.sendDraft,o=this.state.content;""!=o&&o?(n(),a()):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}},{key:"sendReply",value:function(){if("twitterDm"!=this.state.mode){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.sendReply,o=e.channel,s=this.state,i=s.content,r=s.tweetLen;""!=i&&i?"TWITTER"==o&&r<0?t({type:"alert",message:S.h.getI18NValue("support.social.twitter.reply.limit")}):(n(),a({channel:o="FACEBOOK_DM"==o?"FACEBOOK":o,content:i})):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}}},{key:"saveDraft",value:function(){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.saveDraft,o=e.closeEdtior,s=this.state.content;""!=s&&s?(n(),a({channel:"FACEBOOK",content:s},function(e){o()})):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}},{key:"updateDraft",value:function(){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.updateDraft,o=e.closeEdtior,s=this.state.content;""!=s&&s?(n(),a({channel:"FACEBOOK",content:s},function(e){o()})):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}},{key:"constructSwtichOptions",value:function(e){return"FACEBOOK"==e||"FACEBOOK_DM"==e?[{name:S.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:S.h.getI18NValue("support.social.facebook.name"),iconName:"ZD-chFacebook",size:"14"}]:[{name:S.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"12"},{name:S.h.getI18NValue("support.social.common.tweet"),iconName:"ZD-chTwitter",size:"16"},{name:S.h.getI18NValue("support.social.common.direct.message"),iconName:"ZD-bubble",size:"16"}]}},{key:"deleteDraftConfirmation",value:function(){this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.onDeleteDraft(!1)}},{key:"onCloseDeleteDraft",value:function(){this.onDeleteDraft(!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.content,a=t.tweetLen,o=t.mode,s=(t.alertMode,this.props),i=s.closeEdtior,r=s.isDraft,l=s.channel,c=s.openEditor,d=s.threadId,u=s.replyThread,p=s.haveMailSendPermission,m=s.isFromBlueprint,f=s.haveForWardPermissionOnly;return h.a.createElement("div",null,h.a.createElement("div",{className:y.a.fbContnet+" "+(m?y.a.bluePrintLayar:"")},h.a.createElement("div",{className:y.a.socialIcn},h.a.createElement("div",{className:y.a.chIcon},"twitterDm"==o?h.a.createElement(N.a,{name:"ZD-bubble",iconClass:y.a.bubbleIcon}):h.a.createElement(N.a,{name:"FACEBOOK"==l||"FACEBOOK_DM"==l?"ZD-chFacebook":"ZD-chTwitter",iconClass:y.a.channelIcon})),f?null:h.a.createElement(A.a,{Icnsize:"8",IcnName:"ZD-blockDownArrow",icnStatus:!0,arrowPosition:"topLeft",left:"-53",objValues:this.constructSwtichOptions(l),listStyle:"alpha",boxPosition:"bottomRight",onSelect:function(t){t==S.h.getI18NValue("crm.label.email")?c(d,u.content,u,"replyall"):t==S.h.getI18NValue("support.social.common.direct.message")?(e.setState({mode:"twitterDm",content:"",tweetLen:8e3}),m&&c("","","","twitterDm")):t==S.h.getI18NValue("support.social.common.tweet")&&(e.setState({mode:"tweet",content:"@"+u.twitterProfile+" ",tweetLen:280}),m&&c("","","","tweet"))}})),h.a.createElement("div",{className:y.a.txtArea},h.a.createElement(E.a,{size:m?"xlarge":"medium",placeholder:S.h.getI18NValue("support.request.type.facebook.comment"),text:n,needBorder:!1,onChange:this.handleChange})),"TWITTER"==l&&m?h.a.createElement("span",{className:y.a.tweetLen+" "+(a<0?y.a.limitExcited:null)},a):null),m?null:h.a.createElement("div",{className:y.a.footer},h.a.createElement("div",{className:y.a.optionsCont},p?h.a.createElement(k.a,{text:"twitterDm"==o?S.h.getI18NValue("support.social.send.dm"):"FACEBOOK"==l?S.h.getI18NValue("support.social.post.comment"):"FACEBOOK_DM"==l?S.h.getI18NValue("support.social.replymessage"):S.h.getI18NValue("support.social.post.tweet"),palette:"primaryFilled",size:"medium",onClick:r?this.sendDraft:this.sendReply}):null,"FACEBOOK"==l?h.a.createElement(k.a,{text:S.h.getI18NValue("support.common.request.mail.save.draft"),palette:p?"secondary":"primaryFilled",size:"medium",onClick:r?this.updateDraft:this.saveDraft}):null,r&&"FACEBOOK"==l?h.a.createElement(k.a,{text:S.h.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:this.deleteDraftConfirmation}):null,h.a.createElement(k.a,{text:S.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:i}),"TWITTER"==l?h.a.createElement("span",{className:y.a.tweetLen+" "+(a<0?y.a.limitExcited:null)},a):null)),h.a.createElement(D.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},h.a.createElement(_.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})))}}]),t}(m.Component);T.propTypes={channel:b.a.string,closeEdtior:b.a.func,content:b.a.string,deleteDraft:b.a.func,haveForWardPermissionOnly:b.a.bool,haveMailSendPermission:b.a.bool,hideMessage:b.a.func,isDraft:b.a.bool,isFromBlueprint:b.a.bool,openEditor:b.a.func,replyMode:b.a.string,replyThread:b.a.object,saveDraft:b.a.func,sendDraft:b.a.func,sendReply:b.a.func,setReplyData:b.a.func,showMessage:b.a.func,threadId:b.a.string,updateDraft:b.a.func},t.a=Object(f.connect)(function(e,t){return{id:e.routing.paramMap.moduleId}},{showMessage:O.Q,hideMessage:O.v})(T)},"./src/containers/Subtab/TransitionActionsContainer/TransitionActionsContainer.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),i=n.n(s),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),l=n.n(r),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),p=n.n(u),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),h=n.n(m),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),C=n.n(y),E=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),I=n.n(E),k=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),A=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),_=n.n(A),S=n("./src/actions/AttachmentActions.js"),O=n("./src/actions/AgentAction.js"),j=n("./src/actions/TicketDetailViewAction.js"),x=n("./src/utils/loadResource.js"),N=n("./src/utils/Common.js"),D=n("./src/constants/index.js"),T=n("./src/components/Subtab/bluePrint/FormFields/FormFields.module.css"),P=n.n(T),w=n("./src/components/Subtab/bluePrint/TransitionActions/TransitionActions.module.css"),z=n.n(w),R=n("./src/fz-i18n/index.js"),F=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),B=n.n(F),M=n("./src/components/Subtab/ResolutionForm/ResolutionForm.js"),L=n("./src/components/Subtab/AttachmentHeader/SubtabAttachmentHeader.module.css"),V=n.n(L),K=n("./src/components/Subtab/AttachPopup/AttachPopup.module.css"),H=n.n(K),U=n("../components/lib/Popup/Popup.js"),Z=n.n(U),q=n("./src/components/Subtab/PlusIcon/PlusIcon.js"),W=n("../components/lib/DropBox/DropBox.js"),G=n.n(W),Y=n("../components/lib/ListItem/ListItemWithIcon.js"),$=n.n(Y),Q=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n}return v()(t,e),h()(t,[{key:"handleSelect",value:function(e){this.props.togglePopup(e)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=void 0===t?"white":t,a=e.removeClose,o=e.openPopupOnly,s=e.className;return C.a.createElement("span",{className:H.a.popupDiv,onMouseOver:o},C.a.createElement("span",{className:H.a.defaultSize+" "+H.a[n]},C.a.createElement(q.a,{iconName:"ZD-tpAdd",iconClass:"mtminus2",iconSize:"17",palette:"primary",size:"xmedium"})),C.a.createElement("span",{className:H.a.moreclose+" "+s,onClick:a,onMouseOver:o},C.a.createElement(G.a,{isActive:this.props.isPopupOpen,size:"small"},C.a.createElement("div",null,[{name:"Browse Files",iconName:"ZD-emptyfle",size:"13"},{name:"Attach from Cloud",iconName:"ZD-cloudicn",size:"13"}].map(function(e,t){return C.a.createElement($.a,{value:e.name,key:"attachment-"+t,iconName:e.iconName,autoHover:!0,iconSize:e.size})})))))}}]),t}(y.Component);Q.propTypes={className:I.a.string,isPopupOpen:I.a.bool,objValues:I.a.array,openPopupOnly:I.a.func,position:I.a.string,removeClose:I.a.func,theme:I.a.string,togglePopup:I.a.func};Z()(Q);var J=n("./src/components/Subtab/AddPopup/AddPopup.js"),X=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.onPopupSelect=n.onPopupSelect.bind(n),n.setInputRef=n.setInputRef.bind(n),n.addAttach=n.addAttach.bind(n),n}return v()(t,e),h()(t,[{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"onPopupSelect",value:function(e,t){"cloud"==t?this.props.openCloudAttach():this.inputRef.click()}},{key:"addAttach",value:function(){this.inputRef.click()}},{key:"render",value:function(){var e=this.props.createAttachment;return C.a.createElement("div",{className:V.a.container},C.a.createElement(J.a,{objValues:[{id:"cloud",iconName:"ZD-cloudIcon",iconSize:"12",name:R.h.getI18NValue("support.create.form.label.attachment.cloud")},{id:"file",iconName:"ZD-fileEmpty",iconSize:"14",name:R.h.getI18NValue("support.create.form.label.attachment.mycomputer")}],onSelect:this.onPopupSelect,onAddCLick:this.onPopupSelect}),C.a.createElement("input",{className:V.a.hide,ref:this.setInputRef,"data-id":"deskAttach",type:"file",multiple:"multiple",onChange:e}),C.a.createElement("div",{className:V.a.label,onClick:this.addAttach},R.h.getI18NValue("support.blueprint.label.add.attachment")))}}]),t}(y.Component),ee=X;X.propTypes={createAttachment:I.a.func};var te,ne=n("./src/components/Subtab/AttachmentList/AttachmentList.js"),ae=n("./src/components/Subtab/ApprovalsForm/ApprovalsForm.js"),oe=n("../components/lib/Label/Label.js"),se=n.n(oe),ie=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={isPopupOpen:!1,contentLen:""},n.togglePopup=n.togglePopup.bind(n),n.changeMode=n.changeMode.bind(n),n}return v()(t,e),h()(t,[{key:"togglePopup",value:function(){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}})}},{key:"changeMode",value:function(){var e=this.props,t=e.commentMode,n=e.actionType,a=e.changeCommentMode,o=e.isPublicEnable,s=e.changeReplyMode;"COMMENT"==n?a("private"==t?"public":"private"):"REPLY"==n&&s(!o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.actionType,a=t.myInfo,o=t.moduleMeta,s=t.resolution,i=t.isNotifyContact,r=t.onResolutionChange,l=t.toggleNotifyContact,c=t.errorFields,d=void 0===c?{}:c,u=t.createAttachment,p=t.openCloudAttach,m=t.updateAttachment,h=t.deleteAttachment,f=t.attachments,g=t.approvalSubject,b=t.approvalDescription,v=t.approvalSelectedAgents,y=t.onApprovalSubjectChange,E=t.onApprovalDescriptionChange,I=t.onApprovalApproverChange,k=t.agentsList,A=t.isEditorLoaded,_=t.commentAttachmentIds,S=t.setCommentAttachmentIds,O=t.deptId,j=t.commentMode,x=t.setReplyData,N=t.isPrivateThread,D=t.isPublicEnable,T=t.ticketId,w=t.contactEmail,F=t.replyContent,L=t.replyThread,V=void 0===L?{}:L,K=t.replyMode,H=t.getFieldRef,U=t.BluePrintCommentContainer,Z=t.ReplyEdtior,q=t.SocialReply,W=t.isCustomChannel,Y=t.channelInfo,$=this.state.isPopupOpen,Q=!1;return"FACEBOOK"!=V.channel&&"TWITTER"!=V.channel&&"TWITTER_DM"!=V.channel&&"FACEBOOK_DM"!=V.channel||"replyall"==K||(Q=!0,K=K||("FACEBOOK"==V.channel?"facebook":"FACEBOOK_DM"==V.channel?"facebookDm":"TWITTER_DM"==V.channel?"twitterDm":"twitter")),C.a.createElement("div",{className:P.a.subtabList},C.a.createElement("div",{className:P.a.headerDiv},C.a.createElement("span",{className:P.a.headingName},R.h.getI18NValue("COMMENT"==n?"tabs.request.comment":"APPROVAL"==n?"tabs.request.approval":"REPLY"==n?"support.common.request.mail.replyall":"ATTACHMENT"==n?"support.history.operation.label.attachment":"RESOLUTION"==n?"tabs.request.resolution":"")),"COMMENT"!=n&&"REPLY"!=n||Q?null:C.a.createElement("div",{className:z.a.moreCont,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),N&&e.togglePopup()}},C.a.createElement("div",{className:P.a.subHeading},C.a.createElement("span",{className:z.a.mode},"COMMENT"==n?"private"==j?R.h.getI18NValue("support.label.private"):R.h.getI18NValue("support.request.public"):"REPLY"==n?N&&!D?R.h.getI18NValue("support.request.private.thread"):R.h.getI18NValue("support.request.public.thread"):""),N?C.a.createElement(B.a,{name:"ZD-blockDownArrow",size:"7"}):null,N?C.a.createElement(G.a,{size:"medium",isArrow:!1,boxPosition:"bottomRight",isActive:$},C.a.createElement("div",{className:z.a.switchAction,onClick:this.changeMode},C.a.createElement("p",null,C.a.createElement("span",{className:z.a.actionNotify},"COMMENT"==n?"private"==j?R.h.getI18NValue("support.request.public"):R.h.getI18NValue("support.label.private"):"REPLY"==n?N&&!D?R.h.getI18NValue("support.request.public"):R.h.getI18NValue("support.label.private"):"")),C.a.createElement("p",{className:z.a.actionSubtitle},"COMMENT"==n?"private"==j?R.h.getI18NValue("support.request.thread.display.helpcenter"):R.h.getI18NValue("support.request.thread.display.not.helpcenter"):"REPLY"==n?N&&!D?R.h.getI18NValue("support.request.thread.display.helpcenter"):R.h.getI18NValue("support.request.thread.display.not.helpcenter"):""))):null)),C.a.createElement("div",{className:P.a.contentDiv+" "+(d[n]?z.a.errCont:"")+" "+("REPLY"!=n||Q?"":""+z.a.replyCont),ref:H},"RESOLUTION"==n?C.a.createElement(M.a,{isFromBlueprint:!0,content:s,isNotifyContact:i,myInfo:a,moduleMeta:o,onContentChange:r,toggleNotifyContact:l}):"ATTACHMENT"==n?C.a.createElement(C.a.Fragment,null,C.a.createElement(ee,{createAttachment:u,openCloudAttach:p}),C.a.createElement(ne.a,{isFromBlueprint:!0,hasPrivacyMode:!0,data:f,updateClick:m,deleteClick:h})):"APPROVAL"==n?C.a.createElement(ae.a,{isFromBlueprint:!0,agentsList:k,subject:g,description:b,selectedAgents:v,onSubjectChange:y,onDescriptionChange:E,onApproverChange:I}):"COMMENT"==n?A?C.a.createElement(U,{attachmentIds:_,setAttachmentIds:S,deptId:O}):null:"REPLY"==n&&A?Q?C.a.createElement(q,{isFromBlueprint:!0,content:"",isDraft:!1,channel:V.channel,replyMode:K,threadId:V.id,replyThread:V,haveMailSendPermission:!0,setReplyData:x,openEditor:function(e,t,n,a){x("replyMode",a)}}):C.a.createElement(Z,{isFromBlueprint:!0,isDraftThread:!1,ticketId:T,editorId:"bluePrintReply",replyContent:F,replyThread:V,replyMode:K,solutionContent:"",contactEmail:w,isPeekView:!1,haveEditPermission:!0,haveMailSendPermission:!0,channelRelatedInfo:{},isStatusLocked:!0,setReplyData:x,openEditor:function(e,t,n,a){x("replyMode",a)},isCustomChannel:W,channelInfo:Y}):null,d[n]?C.a.createElement("div",{className:z.a.errMsg},C.a.createElement(se.a,{text:d[n],id:n,size:"medium",palette:"mandatory"})):null)))}}]),t}(y.Component),re=ie;ie.propTypes=(te={actionType:I.a.string,agentsList:I.a.array,approvalDescription:I.a.string},i()(te,"approvalDescription",I.a.string),i()(te,"approvalSelectedAgents",I.a.array),i()(te,"approvalSelectedAgents",I.a.array),i()(te,"approvalSubject",I.a.string),i()(te,"approvalSubject",I.a.string),i()(te,"attachments",I.a.array),i()(te,"attachments",I.a.array),i()(te,"changeCommentMode",I.a.func),i()(te,"changeReplyMode",I.a.func),i()(te,"commentAttachmentIds",I.a.array),i()(te,"commentMode",I.a.string),i()(te,"contactEmail",I.a.string),i()(te,"createAttachment",I.a.func),i()(te,"deleteAttachment",I.a.func),i()(te,"deptId",I.a.string),i()(te,"errorFields",I.a.object),i()(te,"getFieldRef",I.a.func),i()(te,"isEditorLoaded",I.a.bool),i()(te,"isNotifyContact",I.a.bool),i()(te,"isPrivateThread",I.a.bool),i()(te,"isPublicEnable",I.a.bool),i()(te,"isPublicEnable",I.a.bool),i()(te,"moduleMeta",I.a.object),i()(te,"myInfo",I.a.object),i()(te,"onApprovalApproverChange",I.a.func),i()(te,"onApprovalDescriptionChange",I.a.func),i()(te,"onApprovalDescriptionChange",I.a.func),i()(te,"onApprovalSubjectChange",I.a.func),i()(te,"onApprovalSubjectChange",I.a.func),i()(te,"onResolutionChange",I.a.func),i()(te,"openCloudAttach",I.a.func),i()(te,"replyContent",I.a.string),i()(te,"replyMode",I.a.string),i()(te,"replyThread",I.a.object),i()(te,"resolution",I.a.string),i()(te,"setCommentAttachmentIds",I.a.func),i()(te,"setReplyData",I.a.func),i()(te,"ticketId",I.a.string),i()(te,"ticketSubject",I.a.string),i()(te,"toggleNotifyContact",I.a.func),i()(te,"updateAttachment",I.a.func),te);var le,ce=n("./src/components/Subtab/CommentBox/CommentBox.js"),de=n("./src/actions/index.js"),ue=n("./src/utils/debounce.js"),pe=n("./src/containers/asyncComponent.js"),me=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={from:0,limit:25},n.getAutofillContacts=Object(ue.a)(n.getAutofillContacts.bind(n),100,!0),n.getMentions=n.getMentions.bind(n),n.uploadAttach=n.uploadAttach.bind(n),n.deleleUpload=n.deleleUpload.bind(n),n.handleError=n.handleError.bind(n),n}return v()(t,e),h()(t,[{key:"getAutofillContacts",value:function(e,t,n){var a=this,o=this.props,s=o.deptId,i=o.teamsList,r=o.getTeamsList;i.length?this.getMentions(e,t,n):r(s).then(function(){a.getMentions(e,t,n)})}},{key:"getMentions",value:function(e,t,n){var a=this,o=this.props,s=o.deptId,i=o.getAgentsList,r=o.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?r(e,c,d).then(function(o){a.setState({searchAgentList:o.data.result}),a.invokeMentionsCallback(t,n,e)}):(this.invokeMentionsCallback(t,n),i(s,c,d).then(function(){a.invokeMentionsCallback(t,n)}))}},{key:"invokeMentionsCallback",value:function(e,t,n){var a=this.state.searchAgentList,o=this.props,s=o.agentsObject,i=o.teamsObject,r=o.agentsList,l=o.teamsList,c=n?a:r,d=c?c.map(function(e){return s[e]}):[],u=l.map(function(e){return i[e]}),p=n?u.filter(function(e){return-1!=e.name.toLowerCase().indexOf(n.toLowerCase())}):u,m=25*(e-1),h=m+25,f=d.concat(p).map(function(e){var t={};return t.name=e.name,t.value=e.name,t.id=e.zuid||e.id,t.avatar=e.photoURL||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",e.name?e.subTeams?(t.type="team",t.team=Object(N.u)(t.name)):(t.type="user",t.name=e.name,t.value=e.name):(t.name=Object(N.e)(e.firstName,e.lastName),t.type="user",t.value=t.name),t});f.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),f=f.slice(m,h);var g={};g.results=f,g.isMore=f.length>0,t(g)}},{key:"uploadAttach",value:function(e,t,n){var a=this;return this.props.uploadAttach(e,t,function(e,t){n(e,t)}).then(function(e){return e},function(e){throw a.handleError(),{attachIndex:t,err:e}})}},{key:"deleleUpload",value:function(e){var t=this;return this.props.deleleUpload(e).catch(function(){t.handleError()})}},{key:"handleError",value:function(){this.props.showMessage({type:"alert",message:R.h.getI18NValue("support.unable.to.process.your.request")})}},{key:"render",value:function(){var e=this.props,t=e.orgId,n=e.showAttachmentViewer,a=e.showConfirmBox,o=e.showMessage,s=e.attachmentIds,i=e.setAttachmentIds,r=e.openCloudAttach,l=e.isCloudAttchOpen,c=e.uploadCloudAttachment;return C.a.createElement(ce.a,{id:"bluePrintComment",isFromBlueprint:!0,attachmentIds:s,setAttachmentIds:i,getAutofillContacts:this.getAutofillContacts,showConfirmBox:a,showMessage:o,orgId:t,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,showAttachmentViewer:n,CloudAttachmentIframe:pe.n,openCloudAttach:r,isCloudAttchOpen:l,uploadCloudAttachment:c})}}]),t}(C.a.Component);me.propTypes=(le={agentsList:E.PropTypes.array,agentsObject:E.PropTypes.object,attachmentIds:E.PropTypes.array,deleleUpload:E.PropTypes.func},i()(le,"deleleUpload",E.PropTypes.func),i()(le,"deptId",E.PropTypes.string),i()(le,"getAgentsList",E.PropTypes.func),i()(le,"getTeamsList",E.PropTypes.func),i()(le,"isCloudAttchOpen",E.PropTypes.bool),i()(le,"myInfo",E.PropTypes.object),i()(le,"openCloudAttach",E.PropTypes.func),i()(le,"orgId",E.PropTypes.number),i()(le,"searchAgents",E.PropTypes.func),i()(le,"setAttachmentIds",E.PropTypes.func),i()(le,"showAttachmentViewer",E.PropTypes.func),i()(le,"showAttachmentViewer",E.PropTypes.func),i()(le,"showConfirmBox",E.PropTypes.func),i()(le,"showMessage",E.PropTypes.func),i()(le,"teamsList",E.PropTypes.array),i()(le,"teamsObject",E.PropTypes.object),i()(le,"uploadAttach",E.PropTypes.func),i()(le,"uploadCloudAttachment",E.PropTypes.func),le);var he,fe=Object(k.connect)(function(e,t){var n=e.departmentSpecificState[t.deptId];return{teamsList:n?n.teamsList:[],agentsList:e.activeAgents[t.deptId],agentsObject:e.module.agent,teamsObject:e.module.teams,orgId:e.currentOrgId,isCloudAttchOpen:e.isCloudAttchOpen}},{getTeamsList:de.u,getAgentsList:O.h,searchAgents:O.l,showConfirmBox:de.b.showConfirmBox,showMessage:de.Q,uploadAttach:S.k,deleleUpload:S.d,showAttachmentViewer:S.i,openCloudAttach:S.h,uploadCloudAttachment:S.l})(me),ge=n("./src/containers/Subtab/ReplyEditor/ReplyEdtior.js"),be=n("./src/containers/Subtab/SocialReply/SocialReply.js"),ve=function(e){function t(e){p()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={from:0},n.getAgents=n.getAgents.bind(n),n.openCloudAttach=n.openCloudAttach.bind(n),n.closeCloudAttach=n.closeCloudAttach.bind(n),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.actionType,a=t.ticketId,o=t.getThread,s=t.setReplyData;if("COMMENT"==n||"REPLY"==n){var i=[],r=Object(x.a)(D.k,"js","ZohoDeskEditor");i.push(r);var c=this.getReplyThread(),d=l.a.resolve(),u="";c&&!c.content&&"REPLY"==n&&(d=o(a,c.id).then(function(e){return c=e.data.entities.thread[c.id],u=c.content,e})),i.push(d),l.a.all(i).then(function(){s("channel",c&&c.channel),s("threadId",c&&c.id),e.setState({isEditorLoaded:!0,replyContent:u,replyThread:c})})}"APPROVAL"==n&&this.getAgents(this.state.from)}},{key:"getAgents",value:function(e){var t=this.props,n=t.departmentId;(0,t.getAgentsList)(n,e,50)}},{key:"getReplyThread",value:function(){for(var e=this.props,t=e.conversationIds,n=e.threadIds,a=e.threads,o=t||(n||[]),s=void 0,i=0;i<o.length;i++){var r=o[i].id?o[i].id:o[i];if(a[r]&&"DRAFT"!=a[r].status&&"FAILED"!=a[r].status){s=a[r];break}}return s}},{key:"openCloudAttach",value:function(e){this.setState({cloudMode:e,isCloudAttchOpen:!0})}},{key:"closeCloudAttach",value:function(){this.setState({cloudMode:null,isCloudAttchOpen:!1})}},{key:"render",value:function(){var e=this.props,t=e.actionType,n=e.myInfo,a=e.moduleMeta,o=e.resolution,s=e.isNotifyContact,i=e.onResolutionChange,r=e.toggleNotifyContact,l=e.createAttachment,c=e.updateAttachment,d=e.addCloudAttch,u=e.deleteAttachment,p=e.attachments,m=e.approvalSubject,h=e.approvalDescription,f=e.approvalSelectedAgents,g=e.onApprovalSubjectChange,b=e.onApprovalDescriptionChange,v=e.onApprovalApproverChange,y=e.agentIds,E=void 0===y?[]:y,I=e.agents,k=e.commentAttachmentIds,A=e.setCommentAttachmentIds,_=e.departmentId,S=e.commentMode,O=e.changeCommentMode,j=e.setReplyData,x=e.isPrivateThread,D=e.changeReplyMode,T=e.isPublicEnable,P=e.ticketId,w=e.contactEmail,z=e.replyMode,R=e.errorFields,F=e.getFieldRef,B=e.isCustomChannel,M=e.channelInfo,L=this.state,V=L.isEditorLoaded,K=L.replyContent,H=void 0===K?"":K,U=L.replyThread,Z=L.isCloudAttchOpen,q=[];return E.map(function(e){var t=I[e],n=t.isConfirmed,a=t.id,o=t.firstName,s=t.lastName,i=t.photoURL;n&&q.push({id:a,name:Object(N.t)(o,s),photoURL:i})}),C.a.createElement(C.a.Fragment,null,C.a.createElement(re,{actionType:t,myInfo:n,moduleMeta:a,resolution:o,isNotifyContact:s,onResolutionChange:i,toggleNotifyContact:r,createAttachment:l,openCloudAttach:this.openCloudAttach,updateAttachment:c,deleteAttachment:u,attachments:p,approvalSubject:m,approvalDescription:h,approvalSelectedAgents:f,onApprovalSubjectChange:g,onApprovalDescriptionChange:b,onApprovalApproverChange:v,agentsList:q,isEditorLoaded:V,commentAttachmentIds:k,setCommentAttachmentIds:A,deptId:_,commentMode:S,changeCommentMode:O,setReplyData:j,isPrivateThread:x,isPublicEnable:T,changeReplyMode:D,ticketId:P,contactEmail:w,replyContent:H,replyThread:U,replyMode:z,errorFields:R,getFieldRef:F,BluePrintCommentContainer:fe,ReplyEdtior:ge.a,SocialReply:be.a,isCustomChannel:B,channelInfo:M}),Z?C.a.createElement(pe.n,{addCloudAttch:d,isFromAttachTab:!0,closeIframe:this.closeCloudAttach}):null)}}]),t}(y.Component);ve.propTypes=(he={actionType:I.a.string,addCloudAttch:I.a.func,agentIds:I.a.array,agents:I.a.object,approvalDescription:I.a.string,approvalSelectedAgents:I.a.array,approvalSubject:I.a.string,attachments:I.a.array,changeCommentMode:I.a.func,changeReplyMode:I.a.func,channelInfo:I.a.object,commentAttachmentIds:I.a.array,commentMode:I.a.string,contactEmail:I.a.string,conversationIds:I.a.array,createAttachment:I.a.func,deleteAttachment:I.a.func,departmentId:I.a.string},i()(he,"departmentId",I.a.string),i()(he,"errorFields",I.a.object),i()(he,"getAgentsList",I.a.func),i()(he,"getFieldRef",I.a.func),i()(he,"getThread",I.a.func),i()(he,"isCloudAttchOpen",I.a.bool),i()(he,"isCustomChannel",I.a.bool),i()(he,"isNotifyContact",I.a.bool),i()(he,"isPrivateThread",I.a.bool),i()(he,"isPublicEnable",I.a.bool),i()(he,"moduleMeta",I.a.object),i()(he,"myInfo",I.a.object),i()(he,"onApprovalApproverChange",I.a.func),i()(he,"onApprovalDescriptionChange",I.a.func),i()(he,"onApprovalSubjectChange",I.a.func),i()(he,"onResolutionChange",I.a.func),i()(he,"openCloudAttach",I.a.func),i()(he,"replyMode",I.a.string),i()(he,"resolution",I.a.string),i()(he,"setCommentAttachmentIds",I.a.func),i()(he,"setReplyData",I.a.func),i()(he,"threadIds",I.a.array),i()(he,"threads",I.a.object),i()(he,"ticket",I.a.object),i()(he,"ticketId",I.a.string),i()(he,"toggleNotifyContact",I.a.func),i()(he,"updateAttachment",I.a.func),he);t.default=Object(k.connect)(function(e){var t=e.routing.paramMap.moduleId||_()("routing.location.query.peekId",e),n=e.module.ticket[t],a=n.departmentId,s=n.contactId,i=n.thread,r=n.conversationIds,l=n.source,c=void 0===l?{}:l,d=n.channel,u=void 0===d?"":d,p="INTEGRATION"==c.type,m=e.customChannelsInfo[u.toUpperCase()],h=o()(c,m);return{ticketId:t,departmentId:a,myInfo:e.myInfo,moduleMeta:e.moduleMeta,agentIds:e.activeAgents[a],agents:e.module.agent,contactEmail:e.module.contact[s].email,threads:e.module.thread,threadIds:i,conversationIds:r,isCustomChannel:p,channelInfo:h,isCloudAttchOpen:e.isCloudAttchOpen}},{getAgentsList:O.h,getThread:j.k,openCloudAttach:S.h})(ve)},"./src/utils/Attachment.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"l",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"p",function(){return p}),n.d(t,"q",function(){return m}),n.d(t,"m",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"h",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return C}),n.d(t,"n",function(){return E}),n.d(t,"c",function(){return I}),n.d(t,"o",function(){return k}),n.d(t,"g",function(){return A});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),o=n.n(a),s=n("./src/utils/Browser.js"),i=n("./src/fz-i18n/index.js");function r(e){var t=c(e),n=Object(s.a)().toLowerCase()||"",a=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"ZD-filePicture";case"txt":case"rtf":return"ZD-fileText2";case"pdf":return"ZD-filePdf";case"html":case"htm":case"xhtml":return-1!==n.indexOf("chrome")||-1!==n.indexOf("safari")?"ZD-chrome":-1!==n.indexOf("ie")||-1!==n.indexOf("edge")?"ZD-ie":"ZD-firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ZD-ppt";case"rar":case"jar":case"zip":return"ZD-zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==a.indexOf("mac")||-1!==a.indexOf("linux")?"ZD-fileOpenoffice":"ZD-fileWord";case"xml":return"ZD-xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"ZD-fileExcel";case"ics":return"ZD-ics";case"exe":return"ZD-exe";case"sh":case"bin":return"ZD-sh2";case"css":return"ZD-css5";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"ZD-fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"ZD-fileVideo";default:return"ZD-unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&-1!=e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return/jpeg|jpg|png|gif|bmp|ico/i.test(t)}function u(e){var t=c(e);return/mp3|wav|ogg/i.test(t)}function p(e,t){var n={inValidArray:[],validArray:[]};if(t+e.length>10)return n.isCountExceeds=!0,n;for(var a=0;a<e.length;a++){var o=e[a],s=o.name,i=o.size;h(s)?n.inValidArray.push({isUnSupported:!0}):f(s)?n.inValidArray.push({isFileNameSizeInvalid:!0}):0===o.size?n.inValidArray.push({isEmpty:!0}):g(i)?n.inValidArray.push({isAttachSizeExceeded:!0}):n.validArray.push(o)}return n}function m(e,t,n,a){if(t+e.length>10)a(i.h.getI18NValue("support.attachments.count.exceeds",[10]));else for(var o=0;o<e.length;o++){var s=e[o],r=s.name,l=s.size;if(h(r))a(i.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(r))a(i.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==s.size)if(g(l))a(i.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var c=new FormData;c.append("file",s),n&&n(c)}else a(i.h.getI18NValue("support.request.empty.attachment.message"))}}function h(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function g(e){return e>20971520}function b(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function v(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function y(e,t,n){var a={};a.previewData=t.filter(function(e){return!e.isPreview&&(d(e.name)||u(e.name))}),a.previewData.filter(function(t,n){t.id===e&&(a.selectedIndex=n)}),n&&n(a)}function C(e,t,n){var a=e.indexOf("/api"),o=e;return a>-1&&(o=e.slice(a,e.length),o+="?orgId="+t+(n?"&inline=true":"")),o}function E(e,t){window.open(C(e,t,!0))}function I(e,t){window.location.href=C(e,t,!1)}function k(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],u=0;if(a&&l>a-n){var p=i.h.getI18NValue("support.attachments.count.exceeds",[a]);return o.a.resolve({isError:!0,errorI18N:p})}for(var m=0;m<l;m++){var g=e[m],b=g||{},v=b.size,y=void 0===v?0:v,C=b.name,E=void 0===C?"":C;if(u+=y,h(E)){var I=i.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:I,fileName:E,errorType:"fileType"})}else if(f(E)){var k=i.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:k,fileName:E,errorType:"fileNameSize"})}else if(0===y){var A=i.h.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:A,fileName:E,errorType:"emptyFile"})}else d.push(g)}if(!d.length){if(1===c.length){var _=c[0].errorI18N;return o.a.resolve({isError:!0,errorI18N:_})}var S=i.h.getI18NValue("support.unable.to.process.your.request");return o.a.resolve({isError:!0,errorI18N:S})}if(0===u){var O=i.h.getI18NValue("support.request.empty.attachment.message");return o.a.resolve({isError:!0,errorI18N:O})}if(u+r>1024*s*1024){var j=i.h.getI18NValue("support.attachments.size.limit.exceeds",[s]);return o.a.resolve({isError:!0,errorI18N:j})}for(var x=[],N=[],D=[],T=[],P=function(e){var n=d[e];if(t){var a=new FormData;a.append("file",n);var o=e,s=t(a,n,o).then(function(e){var t=(e.data||{}).data,n=void 0===t?{}:t,a=n.id;a&&(x[o]=n,N[o]=a)},function(t){var a=n.name,o=i.h.getI18NValue("support.unable.to.process.your.request");return T.push(e),c.push({errorI18N:o,fileName:a,errorType:"apiError"}),t});D.push(s)}},w=0;w<d.length;w++)P(w);var z={uploadFiles:x,inValidFiles:c,isError:!1,uploadFileIds:N,inValidFilesIndex:T};return o.a.all(D).then(function(){return N.length?z:{isError:!0,errorI18N:i.h.getI18NValue("support.unable.to.process.your.request")}})}function A(e,t){var n=e.name;return{index:t,isPreview:!0,size:e.size,name:n,href:URL.createObjectURL(e)}}},"./src/utils/DataStorage.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),o=n.n(a),s=n("./src/utils/Common.js"),i={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(s.N)(t)?localStorage.setItem(e,o()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var n=localStorage.length,a=new Date,i=0;i<n;i++){var r=localStorage.key(i),l=this.getItemFromStorage(r)||{};l&&l.time&&a>l.expireTime&&this.removeItem(r)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var n=localStorage.key(t),a=this.getItemFromStorage(n);e[n]=a}return e}return this.storage},setItem:function(e,t,n){-1==(n=null==n||null==n?10800:n)&&(n=86400);var a=new Date,o={value:t,expireTime:new Date(a.setSeconds(a.getSeconds()+n))};this.storeItemIntoStorage(e,o)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},"./src/utils/Editor.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c});var a=n("./src/utils/Common.js");function o(e,t){var n=editor[e];n&&t&&n.insertHTML(t)}function s(e){var t=editor[e];if(null!=t){var n=t.getContent();return"<br>"==(n=n.trim())?"":("plaintext"==t.mode&&(n=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(n)),n)}return""}function i(e,t,n,a){var o={content:"",isSnippetExist:!1,triggerWord:""},s="";if(e.modify){var i=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var r=e.toString().toLowerCase().trim(),l=a.filter(function(e){return e.snippetWord.toLowerCase()==r.toLowerCase()});null!=(s=l.length?l[0].expandedContent:"")&&""!=s&&s.length>0?(o.isSnippetExist=!0,o.content=s,o.triggerWord=r.toLowerCase(),i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)):(o.content="&nbsp;&nbsp;&nbsp;&nbsp;",o.triggerWord=r.toLowerCase()),e.removeAllRanges(),e.addRange(i)}else o=function(e,t,n,a){var o="",s=e.getRangeAt(0);s.collapse(!0),s.setStart(e.anchorNode,0),o=s.toString();var i=s.cloneRange(),r=e.anchorNode.textContent,l=/\s+/,c=r.split(l).filter(Boolean),d=o.split(l).filter(Boolean),u="",p="",m={content:"",isSnippetExist:!1,triggerWord:""},h=d[d.length-1];if(""!=h&&void 0!==h){u=c[d.length-1],parseInt(u.length);var f=u.toLowerCase(),g=a.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});p=g.length?g[0].expandedContent:""}if(null!=p&&""!=p&&null!=p){var b=parseInt(u.length-h.length),v=parseInt(o.length);b>0&&(v+=b);var y=parseInt(o.length+b-u.length),C=o.length-o.replace(/\s+$/g,"").length;(y-=C)<0&&(y=0),i.setStart(e.anchorNode,y),i.setEnd(e.focusNode,v),m.isSnippetExist=!0}else p=o;return m.content=p,m.triggerWord=u.toLowerCase(),e.removeAllRanges(),e.addRange(i),m}(e,0,0,a);return o}function r(e,t,n,o,s){for(var i={"${Cases.Contact Name}":Object(a.e)(n.firstName,n.lastName),"${Cases.Email}":n.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":o?o.accountName:"","${Cases.First Name}":n.firstName||"","${Cases.Last Name}":n.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(a.e)(s.firstName,s.lastName),"${User.Email}":s.emailId||"","${User.Phone}":s.phone||"","${User.First Name}":s.firstName||"","${User.Last Name}":s.lastName||"","${User.Mobile}":s.mobile||""},r=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<r.length;l++)e=e.replace(r[l],i[r[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},"./src/utils/EmailValidation.js":function(e,t,n){"use strict";function a(e){e=(e=o(e))?e.trim():e;return/^[\w]([\w\-\.\+\'\&]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(e)}function o(e){var t=e;return-1!==t.indexOf(">")&&-1!==t.indexOf("<")&&(t=t.substring(t.indexOf("<")+1,t.indexOf(">"))),t}function s(e,t){var n=e.trim();if(-1!==n.indexOf(">")&&n.indexOf("<")>0){var a=n;n=n.substring(0,n.indexOf("<")),t||(n=n.replace(/"/g,"")),""==n&&(n=a.substring(a.lastIndexOf("<")+1,a.lastIndexOf(">")))}else n=n.replace(/<|>/g,"");return n}function i(e){var t=0,n=0,o=0,i=(e=e.trim()).indexOf("@",o);if(-1!==i)if(-1!==(o=e.indexOf(",",i))?(n=e.substring(t,o),t=o+1):(n=e.substring(t,e.length),-1),","===n||" "===n)-1;else{if(-1!=n.indexOf(",")){var l=s(n,!0);if(","===l.charAt(l.length-1))return!1;if(!(-1!==l.indexOf('"')&&l.lastIndexOf('"')>0||-1!==l.indexOf("'")&&l.lastIndexOf("'")>0)&&-1!=l.indexOf(",")&&","!=l.substring(0,1))return!1;var c=l.substring(l.indexOf('"')+1,l.lastIndexOf('"'));if(""==c&&(c=l.substring(l.indexOf("'")+1,l.lastIndexOf("'"))),""!=c&&-1==c.indexOf(","))return!1}var d=r(n);if(!a(d=d.trim()))return!1}else if(-1,o<=e.length)return!1;return!0}function r(e){return-1===e.indexOf("<")?e:e.substring(e.lastIndexOf("<")+1,e.lastIndexOf(">"))}function l(e,t){var n=!1,a=-1;if(e.length)for(var o=0;o<e.length;o++){r(e[o])==r(t)&&(n=!0,a=o)}return{isDuplicate:n,index:a}}function c(e){for(var t=[],n=e.indexOf("@"),a=void 0;-1!==n;)-1===(a=e.indexOf(",",n))&&(a=e.length),t.push(e.substring(0,a)),n=(e=e.substring(a+1,e.length)).indexOf("@");return-1===n&&""!==e&&t.push(e),t}n.d(t,"f",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c})},"./src/utils/bind.js":function(e,t,n){"use strict";function a(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach(function(t){e[t]=e[t].bind(e)})}n.d(t,"a",function(){return a})},"./src/utils/editorUtils.js":function(e,t,n){"use strict";function a(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function o(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})}}]);