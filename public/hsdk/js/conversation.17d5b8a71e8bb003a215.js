(window.deskappJsonp=window.deskappJsonp||[]).push([[77],{"../components/lib/AvatarTeam/AvatarTeam.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=c(n("../components/lib/AvatarTeam/AvatarTeam.module.css")),i=c(n("../components/lib/Avatar/Avatar.js")),l=n("../components/lib/utils/dummyFunction.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,s=e.palette,l=e.onClick,c=e.title,d=e.isFilled,u=e.dataId;return o.default.createElement("span",{className:r.default.container+" "+r.default[a]+" "+r.default[s],"data-id":u},o.default.createElement(i.default,{name:n,onClick:l,palette:s,size:a,src:t,title:c}),o.default.createElement("span",{className:r.default.team+" "+(d?r.default.filled:r.default.nofill)}))}}]),t}();t.default=d,d.defaultProps={isFilled:!1,palette:"primary",size:"medium",src:null,title:null,onClick:l.dummyFunction,dataId:"avatarTeamComp"},d.propTypes={dataId:s.default.string,isFilled:s.default.bool,name:s.default.string.isRequired,onClick:s.default.func,palette:s.default.oneOf(["primary","secondary","info"]),size:s.default.oneOf(["small","xsmall","medium","xmedium","large","xlarge"]),src:s.default.string,title:s.default.string},d.propTypesDescription={name:" ",size:" ",src:" ",palette:" ",onClick:" ",title:" ",isFilled:" "}},"../components/lib/Button/Button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(n("../components/lib/Button/Button.module.css")),i=n("../components/lib/utils/dummyFunction.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette,a=e.disabled,s=e.size,i=e.onClick,l=e.rounded,c=e.status,d=e.children,u=e.isBold,m=e.dataId,p=e.needAppearance,h=e.className,f=e.getRef,g=p?r.default[n.toLowerCase()]+" "+(l?r.default.rounded:"")+"   "+(d?r.default["button_"+s.toLowerCase()]:r.default[s.toLowerCase()]):""+r.default.default;return o.default.createElement("button",{className:(h||"")+" "+g+" "+(u?r.default.bold:"")+"  ","data-id":a?m+"_disabled":m,disabled:a||"loading"===c.toLowerCase(),onClick:i,type:"button",ref:f},d||t,"none"!==c&&p&&o.default.createElement("div",{className:r.default.overlay},o.default.createElement("div",{className:"loading"===c.toLowerCase()?r.default.loading:r.default.success},o.default.createElement("div",{className:r.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:i.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:s.default.node,className:s.default.string,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,isBold:s.default.bool,needAppearance:s.default.bool,onClick:s.default.func,palette:s.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:s.default.bool,size:s.default.oneOf(["small","medium","large","xlarge"]),status:s.default.oneOf(["loading","success","none"]),text:s.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/DropDown/DropDownSeparator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=r(n("../components/lib/DropDown/DropDown.module.css"));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){return o.default.createElement("div",{className:s.default.separator})}}]),t}();t.default=i},"../components/lib/Label/Label.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=i(n("../components/lib/Label/Label.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.type,a=e.palette,s=e.size,i=e.clipped,l=e.name,c=e.title,d=e.onClick,u=e.dataId;return o.default.createElement("label",{className:r.default.label+" "+r.default[n]+" "+r.default[s]+" "+r.default[a]+"\n          "+(i?r.default.dotted:"")+" "+(d?r.default.pointer:r.default.cursor),name:l,"data-title":c,"data-id":u,onClick:d},t)}}]),t}();t.default=l,l.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},l.propTypes={clipped:s.default.bool,dataId:s.default.string,name:s.default.string,onClick:s.default.func,palette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:s.default.oneOf(["small","medium","large"]),text:s.default.string,title:s.default.string,type:s.default.oneOf(["title","subtitle"])},l.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/ListItem/ListItemWithAvatar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=u(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=n("../components/lib/Layout/index.js"),i=u(n("../components/lib/ListItem/ListItem.module.css")),l=u(n("../components/lib/Avatar/Avatar.js")),c=u(n("../components/lib/AvatarTeam/AvatarTeam.js")),d=u(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.getRef=n.getRef.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"getRef",value:function(e){this.ele=e;var t=this.props,n=t.index,a=t.getRef,o=t.id;a&&a(e,n,o)}},{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,a=t.id,o=t.value,s=t.index;n&&n(a,o,s,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,n=t.onMouseEnter,a=t.id,o=t.value,s=t.index;n&&n(a,o,s,e)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.size),n=e.active,a=e.highlight,s=e.value,u=e.name,m=e.imgSrc,p=e.autoHover,h=e.isTeam,f=e.palette,g=e.title,b=e.needTick,v=e.isTick,y=e.dataId;return o.default.createElement(r.Container,{isCover:!1,align:"vertical",alignBox:"row",className:i.default.list+" "+i.default[t]+"  "+i.default[f]+"  "+(n?i.default.active:v?i.default.selected:a?i.default.hover:"")+" "+(p?i.default.effect:"")+" "+(b?i.default.withTick:null),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,eleRef:this.getRef,tagName:"li",dataId:(s||y)+"_ListItemWithAvatar"},u||m?o.default.createElement(r.Box,{className:i.default.left},h?o.default.createElement(c.default,{name:u,size:"xsmall",src:m}):o.default.createElement(l.default,{name:u,size:"xsmall",src:m})):null,s?o.default.createElement(r.Box,{flexible:!0,shrink:!0,"data-title":g,className:i.default.value},s):null,v?o.default.createElement("div",{className:i.default.tickIcon},o.default.createElement(d.default,{name:"ZD-ticknew",size:"10"})):null)}}]),t}();t.default=m,m.defaultProps={active:!1,autoHover:!1,highlight:!1,isTeam:!1,isTick:!1,needTick:!1,palette:"default",size:"medium",value:"List",dataId:"listAvatar"},m.propTypes={active:s.default.bool,autoHover:s.default.bool,dataId:s.default.string,getRef:s.default.func,highlight:s.default.bool,id:s.default.oneOfType([s.default.string,s.default.number]),imgSrc:s.default.string,index:s.default.number,isTeam:s.default.bool,isTick:s.default.bool,name:s.default.string,needTick:s.default.bool,onClick:s.default.func,onMouseEnter:s.default.func,palette:s.default.string,size:s.default.string,title:s.default.string,value:s.default.string},m.propTypesDescription={value:" ",onClick:" ",onMouseEnter:" ",active:" ",highlight:" ",autoHover:" ",getRef:" ",palette:" ",id:" ",index:" ",size:" ",imgSrc:" ",title:" "}},"../components/lib/MultiSelect/EmptyState.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=i(n("../components/lib/MultiSelect/MultiSelect.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.emptyMessage,n=e.isLoading,a=e.noMoreOptionsMessage,s=e.options,i=e.searchEmptyMessage,l=e.searchString,c=e.suggestions,d=e.dataId;return n?o.default.createElement("div",{className:r.default.message,"data-id":d+"_Loading"},"Loading..."):l.length&&0===c.length?o.default.createElement("div",{className:r.default.message,"data-id":d+"_srchEmptyMsg"},i||t):0===s.length?o.default.createElement("div",{className:r.default.message,"data-id":d+"_noOptnsMsg"},t):o.default.createElement("div",{className:r.default.message,"data-id":d+"_NoMoreOptionMsg"},a||t)}}]),t}();t.default=l,l.propTypes={dataId:s.default.string,emptyMessage:s.default.string,isLoading:s.default.bool,noMoreOptionsMessage:s.default.string,options:s.default.array,searchEmptyMessage:s.default.string,searchString:s.default.string,suggestions:s.default.array},l.defaultProps={dataId:"empty"}},"../components/lib/MultiSelect/Suggestions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=d(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=d(n("../components/lib/ListItem/ListItem.js")),i=d(n("../components/lib/ListItem/ListItemWithAvatar.js")),l=d(n("../components/lib/ListItem/ListItemWithIcon.js")),c=n("../components/lib/Layout/index.js");function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.suggestions,n=e.getRef,a=e.hoverOption,s=e.onClick,d=e.onMouseEnter,u=e.needTick,m=e.selectedOptions,p=e.activeId,h=e.hoverId,f=e.dataId,g=e.listItemSize;return o.default.createElement(c.Container,{isCover:!1},o.default.createElement(c.Box,{dataId:f+"_Options"},t.map(function(e,t){var c=e.id,f=e.value,b=e.photoURL,v=e.icon,y=e.optionType,C=e.iconSize,E=!!u&&-1!==m.indexOf(c),I=p===c,k=a===t||c===h;return"avatar"===y?o.default.createElement(i.default,{autoHover:!1,getRef:n,highlight:k,id:c,imgSrc:b,key:c+"avatarListItem",name:f,onClick:s,onMouseEnter:d,value:f,title:f,needTick:u,isTick:E,active:I,size:g}):"icon"===y?o.default.createElement(l.default,{autoHover:!1,getRef:n,highlight:k,id:c,key:c+"iconListItem",onClick:s,onMouseEnter:d,value:f,title:f,iconName:v,needTick:u,isTick:E,active:I,iconSize:C,size:g}):o.default.createElement(r.default,{autoHover:!1,getRef:n,highlight:k,id:c,key:c+"listItem",onClick:s,onMouseEnter:d,value:f,title:f,needTick:u,isTick:E,active:I,dataId:f,size:g})})))}}]),t}();t.default=u,u.propTypes={activeId:s.default.oneOfType([s.default.string,s.default.number]),dataId:s.default.string,getRef:s.default.func,hoverId:s.default.oneOfType([s.default.string,s.default.number]),hoverOption:s.default.number,listItemSize:s.default.oneOf(["small","medium","large"]),needTick:s.default.bool,onClick:s.default.func,onMouseEnter:s.default.func,selectedOptions:s.default.array,suggestions:s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),value:s.default.oneOfType([s.default.string,s.default.number]),photoURL:s.default.string,logo:s.default.string,optionType:s.default.string}))}},"../components/lib/Select/Select.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),s=y(o),r=y(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=y(n("../components/lib/Popup/Popup.js")),l=y(n("../components/lib/DropBox/DropBox.js")),c=y(n("../components/lib/TextBoxIcon/TextBoxIcon.js")),d=y(n("../components/lib/TextBox/TextBox.js")),u=n("../components/lib/Card/Card.js"),m=y(u),p=y(n("../components/lib/MultiSelect/Suggestions.js")),h=y(n("../components/lib/MultiSelect/EmptyState.js")),f=y(n("../components/lib/Select/Select.module.css")),g=y(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),b=n("../components/lib/utils/dropDownUtils.js"),v=n("../components/lib/utils/Common.js");function y(e){return e&&e.__esModule?e:{default:e}}var C=[],E=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,b.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,b.makeFormatOptions)(),n.getSelectedValue=(0,b.makeGetSelectedValueText)(),n.selectedFormatOptions={};var a=e.selectedValue,o=e.searchDebounceTime,s=void 0===o?500:o,r=e.isDefaultSelectValue,i=e.autoSelectDebouneTime,l=void 0===i?350:i,c=e.valueField,d=e.textField,u=n.handleFormatOptions(n.props),m=u.allOptions,p=u.normalizedAllOptions,h=u.optionsOrder,f=u.normalizedFormatOptions,g=n.getSelectedValue({optionsOrder:h,selectedValue:a,normalizedFormatOptions:f,selectedFormatOptions:n.selectedFormatOptions,isDefaultSelectValue:r,valueField:c,textField:d}),y=g.selected,C=g.hoverIndex,E=g.selectedValueDetails,I=g.selectedId;g.isSelfValueChanged;return n.state={selected:y,options:m,optionsNormalize:p,hoverIndex:C,searchStr:"",isFetchingOptions:!1,selectedId:I,selectedValueIndex:C},n.optionsOrder=h,n._isMounted=!1,n.normalizedFormatOptions=f,n.allSelectedOptions=E,n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleFilterSuggestions=n.handleFilterSuggestions.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleFetchOptions=n.handleFetchOptions.bind(n),n.handleGetNextOptions=n.handleGetNextOptions.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleSearchOptions=(0,v.debounce)(n.handleSearchOptions.bind(n),s),n.suggestionContainerRef=n.suggestionContainerRef.bind(n),n.suggestionItemRef=n.suggestionItemRef.bind(n),n.searchInputRef=n.searchInputRef.bind(n),n.valueInputRef=n.valueInputRef.bind(n),n.togglePopup=n.togglePopup.bind(n),n.handleSelectFocus=n.handleSelectFocus.bind(n),n.handleFormatOptions=n.handleFormatOptions.bind(n),n.handlePopupClose=n.handlePopupClose.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n.handleValueInputChange=n.handleValueInputChange.bind(n),n.handleChangeOnType=(0,v.debounce)(n.handleChangeOnType.bind(n),l),n.valueInputTypeString="",n.valueInputSearchString="",n.autoSelectSuggestions=[],n.autoSelectIndex=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,n=e.isDefaultSelectValue,a=e.valueField,o=e.textField,s=this.state.hoverIndex,r=this.handleFormatOptions(e),i=r.allOptions,l=r.normalizedAllOptions,c=r.optionsOrder,d=r.normalizedFormatOptions,u=this.selectedFormatOptions,m=this.getSelectedValue({optionsOrder:c,selectedValue:t,normalizedFormatOptions:d,selectedFormatOptions:u,isDefaultSelectValue:n,valueField:a,textField:o}),p=m.selected,h=m.hoverIndex,f=m.selectedValueDetails,g=m.selectedId;m.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(u,f),this.normalizedFormatOptions=d,this.optionsOrder=c,this.setState({options:i,optionsNormalize:l,selected:p,hoverIndex:s||h,selectedId:g,selectedValueIndex:h})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.suggestionContainer,a=this.optionsOrder,o=this.isSelectWithAvatarComponent,s=this.state,r=s.hoverIndex,i=s.searchStr,l=s.selectedValueIndex,c=this.props,d=c.needLocalSearch,u=c.onDropBoxClose,m=c.onDropBoxOpen,p=c.needSearch,h=c.onSearch,f=c.isPopupOpen,g=this["suggestion_"+((0,v.getIsEmptyValue)(a[r])?"":a[r])];f&&(0,v.scrollTo)(n,g),e.isPopupOpen!==f&&(f?(m&&this.handleFetchOptions(m,i),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(p&&this.valueInput&&this.valueInput.focus(),u&&u(),h&&h(""),this.setState({searchStr:o?i:"",hoverIndex:l})));var b=this.props,y=b.isNextOptions,C=b.getNextOptions,E=(f?this.handleFilterSuggestions():[]).length;f&&E<=5&&y&&C&&!d&&this.handleFetchOptions(C,i)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField;return this.formatOptions({options:t,valueField:n,textField:a})}},{key:"handleChange",value:function(e,t,n,a){a&&a.preventDefault&&a.preventDefault();var o=this.props,s=o.onChange,r=o.isReadOnly,i=this.state.optionsNormalize;!r&&s&&s(e,i[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(a)}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.onChange,a=t.isPopupOpen,o=t.onKeyDown,s=t.isPopupOpenOnEnter,r=this.state,i=r.hoverIndex,l=r.optionsNormalize,c=this.handleFilterSuggestions(),d=e.keyCode;if(a||s||o&&o(e),a&&(38===d||40===d)&&e.preventDefault?e.preventDefault():a||40!==d||(e.preventDefault(),this.togglePopup(e)),38===d&&a&&c.length)0===i||(i-=1),this.setState({hoverIndex:i});else if(40===d&&a&&c.length)i===c.length-1||(i===c.length-3&&this.handleGetNextOptions(),i+=1),this.setState({hoverIndex:i});else if(13===d){var u=(c[i]||{}).id;a&&!(0,v.getIsEmptyValue)(u)&&n&&(n(u,l[u]),this.handlePopupClose(e)),!a&&s&&this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,n=this.state.searchStr,a=void 0===n?"":n,o=this.props.onSearch,s=a.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?s&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,n=this.optionsOrder.indexOf(e);t!==n&&this.setState({hoverIndex:n})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,n=e.excludeOptions,a=void 0===n?C:n,o=e.needSearch,s=this.state,r=s.options,i=void 0===r?C:r,l=s.searchStr;return o&&l&&l.trim().length||a&&a.length?(l=l.toLowerCase().replace(/\s+/g,""),this.getFilterSuggestions({options:i,selectedOptions:a,searchStr:l,needSearch:t}).suggestions):i}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.isFetchingOptions,o=void 0!==a&&a,s=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(n).then(function(){s&&t.setState({isFetchingOptions:!1})},function(){s&&t.setState({isFetchingOptions:!1})})}catch(e){s&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,n=e.getNextOptions,a=this.state.searchStr;t&&n&&this.handleFetchOptions(n,a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.isReadOnly,o=t.defaultDropBoxPosition;!a&&n(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(){var e=this.valueInput;e&&e.setSelectionRange(e,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"handleValueInputChange",value:function(e){var t=e.which,n=String.fromCharCode(t),a=this.props,o=a.isPopupOpen,s=a.autoSelectOnType;!o&&s&&(this.valueInputTypeString+=(n||"").trim(),this.handleChangeOnType())}},{key:"handleChangeOnType",value:function(){var e=this,t=this.props.excludeOptions,n=void 0===t?C:t,a=this.state.options,o=void 0===a?C:a,s=this.optionsOrder,r=this.valueInputTypeString;this.valueInputTypeString="";var i=function(){var t=(e.autoSelectSuggestions[e.autoSelectIndex]||{}).id;if(!(0,v.getIsEmptyValue)(t)){e.handleChange(t);var n=s.indexOf(t);e.setState({hoverIndex:n})}};if(r&&r===this.valueInputSearchString)this.autoSelectIndex<this.autoSelectSuggestions.length-1?this.autoSelectIndex+=1:this.autoSelectIndex=0,i();else if(r){this.valueInputSearchString=r;var l=this.getFilterSuggestions({options:o,selectedOptions:n,searchStr:r,needSearch:!0,isStartsWithSearch:!0}).suggestions,c=void 0===l?[]:l;this.autoSelectIndex=0,this.autoSelectSuggestions=c,i()}}},{key:"render",value:function(){var e=this.props,t=e.needSearch,n=e.dropBoxSize,a=e.emptyMessage,o=e.searchEmptyMessage,r=e.needBorder,i=e.needSelectDownIcon,b=e.position,v=e.defaultDropBoxPosition,y=e.getTargetRef,C=e.getContainerRef,E=e.isPopupOpen,I=e.removeClose,k=e.isPopupReady,A=e.animationStyle,_=e.textBoxSize,j=e.textBoxVariant,O=e.searchBoxSize,S=e.searchBoxPlaceHolder,D=e.maxLength,T=e.isDisabled,x=e.title,N=e.size,w=e.placeHolder,P=e.className,z=e.portalId,R=e.isReadOnly,F=e.dataId,B=this.state,M=B.hoverIndex,V=B.selected,L=B.searchStr,Z=B.isFetchingOptions,U=B.selectedId,K=B.options,H=this.handleFilterSuggestions();return s.default.createElement("div",{className:f.default.container+" "+f.default["box_"+N]+" ","data-title":T?x:""},s.default.createElement("div",{className:""+(P||""),onClick:T||R?null:this.togglePopup,ref:y,"data-id":""+(T?F+"_disabled":R?F+"_readOnly":F)},i?s.default.createElement(c.default,{isDisabled:T,iconRotated:E,inputRef:this.valueInputRef,maxLength:D,needBorder:r,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,isReadOnly:!0,size:_,value:V,variant:j,needReadOnlyStyle:!!R,dataId:F+"_textBox",isClickable:!R&&!T,className:R||T?"":f.default.input,needEffect:!T,onKeyPress:this.handleValueInputChange},s.default.createElement("div",{className:f.default.arrowIcon,"data-id":F+"_downIcon"},s.default.createElement(g.default,{name:"ZD-blockDownArrow",size:"8"}))):s.default.createElement(d.default,{isDisabled:T,inputRef:this.valueInputRef,maxLength:D,needBorder:r,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,isReadOnly:!0,needEffect:!T,size:_,value:V,variant:j,needReadOnlyStyle:!!R,dataId:F+"_textBox",isClickable:!R&&!T,onKeyPress:this.handleValueInputChange})),R||T||!E?null:s.default.createElement(l.default,{animationStyle:A,boxPosition:b||v+"Center",getRef:C,isActive:k,isAnimate:!0,isArrow:!1,onClick:I,portalId:z,dataId:F+"_suggestions"},s.default.createElement(m.default,{className:f.default.box,onScroll:this.handleScroll},t?s.default.createElement(u.CardHeader,null,s.default.createElement("div",{className:f.default.search+" "+f.default[N]},s.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:D,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:S,size:O,value:L,onClear:this.handleClearSearch,dataId:F+"_search"}))):null,s.default.createElement(u.CardContent,{className:n?f.default[n]:"",eleRef:this.suggestionContainerRef,dataId:F+"_Options"},H.length?s.default.createElement(p.default,{activeId:U,suggestions:H,getRef:this.suggestionItemRef,hoverOption:M,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):s.default.createElement(h.default,{emptyMessage:a,isLoading:Z,options:K,searchEmptyMessage:o,searchString:L,suggestions:H,dataId:F})))))}}]),t}();E.propTypes={animationStyle:r.default.string,autoSelectDebouneTime:r.default.number,autoSelectOnType:r.default.bool,className:r.default.string,closePopupOnly:r.default.func,dataId:r.default.string,defaultDropBoxPosition:r.default.oneOf(["bottom","top","left","right"]),dropBoxSize:r.default.oneOf(["small","medium","large"]),emptyMessage:r.default.string,excludeOptions:r.default.array,getContainerRef:r.default.func,getNextOptions:r.default.func,getRef:r.default.func,getTargetRef:r.default.func,isDefaultSelectValue:r.default.bool,isDisabled:r.default.bool,isNextOptions:r.default.bool,isPopupOpen:r.default.bool,isPopupOpenOnEnter:r.default.bool,isPopupReady:r.default.bool,isReadOnly:r.default.bool,maxLength:r.default.string,needBorder:r.default.bool,needLocalSearch:r.default.bool,needSearch:r.default.bool,needSelectDownIcon:r.default.bool,onChange:r.default.func.isRequired,onDropBoxClose:r.default.func,onDropBoxOpen:r.default.func,onKeyDown:r.default.func,onSearch:r.default.func,options:r.default.oneOfType([r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number])),r.default.arrayOf(r.default.shape({id:r.default.oneOfType([r.default.string,r.default.number]),text:r.default.oneOfType([r.default.string,r.default.number])}))]).isRequired,placeHolder:r.default.string,portalId:r.default.string,position:r.default.string,removeClose:r.default.func,searchBoxPlaceHolder:r.default.string,searchBoxSize:r.default.string,searchDebounceTime:r.default.number,searchEmptyMessage:r.default.string,selectedValue:r.default.oneOfType([r.default.oneOfType([r.default.string,r.default.number]),r.default.shape({id:r.default.oneOfType([r.default.string,r.default.number]),text:r.default.oneOfType([r.default.string,r.default.number])})]),size:r.default.oneOf(["small","medium"]),textBoxSize:r.default.string,textBoxVariant:r.default.string,textField:r.default.string,title:r.default.string,togglePopup:r.default.func,valueField:r.default.string},E.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},E.defaultProps={animationStyle:"bounce",autoSelectOnType:!0,dataId:"selectComponent",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},E.displayName="Select";var I=(0,i.default)(E);I.propTypes=E.propTypes,I.defaultProps=E.defaultProps,t.default=I},"../components/lib/Switch/Switch.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),r=l(n("../components/lib/Switch/Switch.module.css")),i=l(n("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.value,s=e.checked,l=e.disabled,c=e.size,d=e.text,u=e.labelSize,m=e.labelPalette,p=e.title,h=e.dataId;return c="small"!==c?"switch_medium":"switch_small",o.default.createElement("span",{className:r.default.container+" "+(l?r.default.disabled:""),"data-title":l?p:""},o.default.createElement("span",{className:r.default[c]},o.default.createElement("input",{type:"checkbox",id:t,className:r.default.input+" "+(s?r.default.checked:""),name:n,value:a,checked:s,disabled:l,onClick:this.onChange,"data-id":h}),o.default.createElement("label",{htmlFor:t,className:r.default.label})),d&&o.default.createElement(i.default,{text:d,palette:m,id:t,size:u,type:"subtitle",onClick:this.onChange}))}}]),t}();t.default=c,c.defaultProps={checked:!1,disabled:!1,labelPalette:"primary",labelSize:"medium",size:"medium"},c.propTypes={checked:s.PropTypes.bool,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,id:s.PropTypes.string.isRequired,labelPalette:s.PropTypes.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.PropTypes.oneOf(["small","medium","large"]),name:s.PropTypes.string,onChange:s.PropTypes.func,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.string,title:s.PropTypes.string,value:s.PropTypes.bool},c.propTypesDescription={checked:" ",disabled:" ",size:" ",id:" ",name:" ",text:" ",labelSize:" ",labelPalette:" ",value:" ",onChange:" ",title:" "}},"../components/lib/Textarea/Textarea.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=l(n("../components/lib/Textarea/Textarea.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"onChange",value:function(e){e&&e.preventDefault();var t=this.props.onChange;t&&t(e.target.value,e)}},{key:"onBlur",value:function(e){e&&e.preventDefault();var t=this.props.onBlur;t&&t(e.target.value,e)}},{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.placeHolder,o=e.needBorder,r=e.text,l=e.isDisabled,c=e.resize,d=e.maxLength,u=e.animated,m=e.variant,p=e.getRef,h=e.onFocus,f=e.dataId,g=e.className,b=e.isReadOnly,v=e.needAppearance,y=e.needReadOnlyStyle,C={horizontal:"resizeX",vertical:"resizeY",both:"resizeboth",none:"noresize"},E={};b&&(E.readOnly="readOnly"),l&&(E.disabled="disabled");var I=v?i.default.container+" "+i.default[t]+" "+i.default[m]+" "+(o?i.default.needBorder:i.default.noBorder)+" "+(c?i.default[C[c]]:i.default[C.none])+"  "+(u?i.default.animated:"")+"   "+(l||b?"":i.default.effect)+"   ":""+i.default.basic;return s.default.createElement("textarea",a({className:(g||"")+" "+(b&&y?i.default.readonly:"")+" "+I,placeholder:n},E,{"data-id":f,maxLength:d,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:h,onBlur:this.onBlur,ref:p,value:r}))}}]),t}();t.default=c,c.defaultProps={isDisabled:!1,isReadOnly:!1,dataId:"TextareaComp",needBorder:!0,resize:"none",size:"small",variant:"default",needAppearance:!0,needReadOnlyStyle:!0},c.propTypes={animated:r.default.bool,className:r.default.string,dataId:r.default.string,getRef:r.default.func,isDisabled:r.default.bool,isReadOnly:r.default.bool,maxLength:r.default.oneOfType([r.default.string,r.default.number]),needAppearance:r.default.bool,needBorder:r.default.bool,needReadOnlyStyle:r.default.bool,onBlur:r.default.func,onChange:r.default.func,onFocus:r.default.func,onKeyDown:r.default.func,placeHolder:r.default.string,resize:r.default.oneOf(["horizontal","vertical","both","none"]),size:r.default.oneOf(["xsmall","small","medium","large"]),text:r.default.string,variant:r.default.oneOf(["default","primary"])},c.propTypesDescription={needBorder:" ",isDisabled:" ",resize:" ",size:" ",variant:" ",placeHolder:" ",text:" ",onChange:" ",maxLength:" ",animated:" ",getRef:" ",onFocus:" ",onBlur:" "}},"../components/lib/utils/dropDownUtils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetGroupSelectFilterSuggestions=t.makeGetGroupSelectOptions=t.makeObjectConcat=t.makeGetSelectedValueText=t.makeGetMultiSelectSelectedOptions=t.makeFormatOptions=t.extractOptionId=t.optionIdGrouping=t.makeGetMultiSelectFilterSuggestions=t.getPrefixText=t.getOptionType=t.getIconSize=t.getIconName=t.getImageField=t.getTextField=t.getValueField=t.getOptions=t.dummyObj=t.dummyArray=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,s=void 0;try{for(var r,i=e[Symbol.iterator]();!(a=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),r=n("../components/lib/utils/Common.js");function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=t.dummyArray=[],c=t.dummyObj={},d=t.getOptions=function(e){return e.options||l},u=function(e){return e.optionsOrder||l},m=function(e){return e.selectedOptions||l},p=function(e){return e.searchStr||""},h=t.getValueField=function(e){return e.valueField||""},f=t.getTextField=function(e){return e.textField||""},g=t.getImageField=function(e){return e.imageField||""},b=t.getIconName=function(e){return e.iconName||""},v=t.getIconSize=function(e){return e.iconSize||""},y=t.getOptionType=function(e){return e.optionType||""},C=function(e){return e.needSearch},E=function(e){return e.isDefaultSelectValue},I=function(e){return(0,r.getIsEmptyValue)(e.selectedOptionsLength)?"":e.selectedOptionsLength},k=function(e){return e.normalizedFormatOptions||c},A=function(e){return(0,r.getIsEmptyValue)(e.selectedValue)?"":e.selectedValue},_=function(e){return e.selectedFormatOptions||c},j=t.getPrefixText=function(e){return e.prefixText||""},O=function(e){return e.isStartsWithSearch},S=t.makeGetMultiSelectFilterSuggestions=function(){return(0,s.createSelector)([d,m,p,C,O],function(e,t,n,a,o){var s=[],r=[];return e.forEach(function(e){var i=e.id,l=e.value,c=void 0===l?"":l,d=c.replace?c.replace(/\s+/g,"").toLowerCase():c.toString(),u=n.replace(/\s+/g,"").toLowerCase(),m=!a||(o?d.startsWith(u):-1!==d.indexOf(u));-1===t.indexOf(i)&&m&&(s.push(e),r.push(i))}),{suggestions:s,suggestionIds:r}})},D=t.optionIdGrouping=function(e,t){return(0,r.getIsEmptyValue)(e)?"":(0,r.getIsEmptyValue)(t)?e:("number"==typeof t?"Int":"Str")+"_"+t+"_"+("number"==typeof e?"Int":"Str")+"_"+e},T=(t.extractOptionId=function(e){if((0,r.getIsEmptyValue)(e))return{id:""};if("number"==typeof e)return{id:e};var t=e.split&&e.split("_");if(1===t.length)return t[0];if(4===t.length){var n=o(t,4),a=n[0],s=n[1],i=n[2],l=n[3];return{id:l="Int"===i?Number.parseInt(l):l,groupId:s="Int"===a?Number.parseInt(s):s}}},t.makeFormatOptions=function(){return(0,s.createSelector)([d,h,f,g,j,b,v,y],function(e,t,n,o,s,i,l,c){var d=[],u=[],m={},p={};return e.forEach(function(e){if(!(0,r.getIsEmptyValue)(e)){var h=e.valueField,f=e.textField,g=e.imageField,b=e.optionType,v=e.iconName,y=e.iconSize,C="object"===(void 0===e?"undefined":a(e))?e[h||t]:e,E="object"===(void 0===e?"undefined":a(e))?e[f||n]:e,I="object"===(void 0===e?"undefined":a(e))?e[g||o]:"";if(C=(0,r.getIsEmptyValue)(C)?"":D(C,s),-1===u.indexOf(C)&&!(0,r.getIsEmptyValue)(C)&&!(0,r.getIsEmptyValue)(E)){u.push(C);var k={id:C,value:E,optionType:b||c};o&&(k.photoURL=I),(v||i)&&(k.icon=v||i),(y||l)&&(k.iconSize=y||l),p[C]=k,m[C]=e,d.push(k)}}}),{allOptions:d,normalizedAllOptions:m,normalizedFormatOptions:p,optionsOrder:u}})}),x=(t.makeGetMultiSelectSelectedOptions=function(){return(0,s.createSelector)([m,k,I],function(e,t,n){var a=[],o=[],s={};n=(0,r.getIsEmptyValue)(n)?e.length:n;for(var i=0;i<n;i++){var l=e[i],c=(t[l]||{}).id;-1===o.indexOf(c)&&(0,r.getIsEmptyValue)(c)&&!(0,r.getIsEmptyValue)(l)?a.push({id:l,value:l}):-1!==o.indexOf(c)||(0,r.getIsEmptyValue)(c)||(o.push(c),a.push(t[l]),s[c]=t[l])}return{formatSelectedOptions:a,normalizedSelectedOptions:s,selectedOptionIds:o}})},t.makeGetSelectedValueText=function(){return(0,s.createSelector)([u,k,A,_,E,h,f],function(e,t,n,s,i,l,d){var u=e.indexOf(n),m=!1;(0,r.getIsEmptyValue)(n)&&i&&(n=o(e,1)[0],m=!0);var p,h,f,g=Object.assign({},s,t)[n],b=-1!==u?u:0,v=g?(f=g,(h=n)in(p={})?Object.defineProperty(p,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[h]=f,p):c,y=g||c,C=y.value,E=void 0===C?"":C,I=y.id;if((0,r.getIsEmptyValue)(I))if("object"===(void 0===n?"undefined":a(n))){var k=n[l],A=n[d];v={id:k,value:A},E=A,I=k,b=-1!==(u=e.indexOf(I))?u:0}else E=n,I=n;return{selected:E,hoverIndex:b,selectedValueDetails:v,selectedId:I,isSelfValueChanged:m}})},function(e){return e.obj1||c}),N=function(e){return e.obj2||c},w=(t.makeObjectConcat=function(){return(0,s.createSelector)([x,N],function(e,t){return Object.assign({},e,t)})},function(e){return e.groupedOptions||l}),P=T(),z=(t.makeGetGroupSelectOptions=function(){return(0,s.createSelector)([w],function(e){var t=[],n=[],a={},o={},s=[];return e.forEach(function(e){var l=e.options,c=e.id,d=e.name,u=e.valueField,m=e.textField;if(!(0,r.getIsEmptyValue)(c)&&-1===s.indexOf(c)){s.push(c);var p=P({options:l,valueField:u,textField:m,prefixText:c}),h=p.allOptions,f=p.normalizedAllOptions,g=p.normalizedFormatOptions,b=p.optionsOrder;b.length&&(t.push({id:c,name:d,options:h}),n=[].concat(i(n),i(b)),a=Object.assign({},a,f),o=Object.assign({},o,g))}}),{revampedGroups:t,normalizedAllOptions:a,normalizedFormatOptions:o,allOptionIds:n}})},function(e){return e.revampedGroups}),R=S();t.makeGetGroupSelectFilterSuggestions=function(){return(0,s.createSelector)([z,p,C,O],function(e,t,n,a){var o=[],s=[];return e.forEach(function(e){var r=e.options,l=R({options:r,needSearch:n,searchStr:t,isStartsWithSearch:a}),c=l.suggestions,d=l.suggestionIds;d.length&&(o.push(Object.assign({},e,{options:c})),s=[].concat(i(s),i(d)))}),{suggestionGroups:o,suggestionOptionIds:s}})}},"./src/actions/AgentAction.js":function(e,t,n){"use strict";n.d(t,"k",function(){return m}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"i",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return C}),n.d(t,"a",function(){return E}),n.d(t,"m",function(){return k}),n.d(t,"e",function(){return _}),n.d(t,"g",function(){return j}),n.d(t,"n",function(){return O});n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js");var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),r=n("./src/utils/Common.js"),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),l=n("./src/reducers/selector.js"),c=n("./src/utils/departmentQuery.js"),d=n("./src/constants/index.js"),u=n("./src/constants/agents.js");function m(e){return{types:Object(r.m)("AGENTS_COUNT"),callAPI:function(t){var n=Object(l.t)(t);return Object(s.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return o()({},e,{id:e.agentId})}),{countData:e.data,deptId:n}):{}})}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e.from=I(e,"from","1"),e.limit=I(e,"limit","100"),e.searchStr=k(e);var n=e.from>1?"AGENT_NEXT":d.R.AGENT;return{types:Object(r.m)(n),callAPI:function(n){var a="/api/v1/agents?orgId="+n.currentOrgId+(t&&"allDepartment"!==t?"&departmentId="+t:"");return a+=E(e,["from","limit","status","isConfirmed","searchStr","profileIds","roleIds"]),Object(s.a)(a).get().then(function(n){if(204!==n.responseStatus){var a=n.data.length<e.limit,s=Object(i.b)(n.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return o()(s,{noMoreData:a,depId:t})}return{entities:{noMoreData:!0},result:[]}})}}}function h(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{types:Object(r.m)(t>1?"AGENT_NEXT":d.R.AGENT),callAPI:function(r){return Object(s.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed="+a,!1,{orgId:r.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var a=t.data.length<n,s=Object(i.b)(t.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return o()(s,{noMoreData:a,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(r.m)(d.R.AGENT),callAPI:function(n){return Object(s.a)("/api/v1/agents/"+e,!1,{orgId:n.currentOrgId}).get().then(function(e){var n=Object(i.b)(e,Object(i.c)(d.R.AGENT_L));return o()(n,{depId:t})})}}}function g(e){return{types:Object(r.m)(d.R.AGENT),callAPI:function(t){return Object(s.a)("/api/v1/agents/zuid/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(e,Object(i.c)(d.R.AGENT_L))})}}}function b(e,t,n){return{types:Object(r.m)("AGENT_SEARCH"),callAPI:function(a){return Object(s.a)("/api/v1/agents?searchStr=*"+e+"*&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed=true",!1,{orgId:a.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var a=e.data.length<n,s=Object(i.b)(e.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return o()(s,{noMoreData:a})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.z,u=arguments[4];return{types:Object(r.m)(d.R.AGENT),callAPI:function(r){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=u||Object(l.t)(r),h=u?"&departmentId="+u:Object(c.a)(r,!0),f="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*a>200?200:2*a)+(n?"&searchStr=*"+n+"*":"")+h;return Object(s.a)(encodeURI(f),!1,{orgId:r.currentOrgId}).get().then(function(s){return o()({},Object(i.b)(204!==s.responseStatus?s.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L))),{deptId:p,from:t,limit:a,isNext:!!s.data&&s.data.length>a,searchStr:n,agentType:e})},function(e){throw e})}}}function y(e){return{types:Object(r.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(s.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(204!==e.responseStatus?e.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L)))})}}}function C(e){return{types:Object(r.m)("TEAM_AGENT"),callAPI:function(t){return Object(s.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(e.members,Object(i.a)(Object(i.c)(d.R.AGENT_L)))})}}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n="";return t.map(function(t){void 0!==e[t]&&(n+="&"+t+"="+e[t])}),n}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2];return void 0!==e[t]?e[t]:n}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=I(e,"searchType","string"),n=e.searchStr;return n&&(n="string*"==t?n+"*":"*string*"==t?"*"+n+"*":n),n}function A(e){var t=e.isConfirmed,n=e.status;switch(n){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===n)return u.b}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=I(e,"from","1"),e.limit=I(e,"limit","100"),e.searchStr=k(e);var t=e.from>1?u.k:u.j;return{types:Object(r.m)(t),callAPI:function(t){var n="/api/v1/agents?orgId="+t.currentOrgId;return n+=E(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(s.a)(n).get().then(function(t){return o()(Object(i.b)(void 0!==t.data?t.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L))),{status:A(e)})})}}}function j(e,t,n){var a={status:e,isConfirmed:t,includeLightAgent:n};return a.includeLightAgent=I(a,"includeLightAgent",!0),{types:Object(r.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=E(a,["status","isConfirmed","includeLightAgent"]),Object(s.a)(t).get().then(function(e){return o()({},e,{status:A(a)})})}}}function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}},"./src/actions/AgentCollisionActions.js":function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"f",function(){return b});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),r=n("./src/utils/Common.js"),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function l(e){return{types:Object(r.m)("COLLIDING_USERS"),callAPI:function(t,n){return Object(s.a)("/api/v1/tickets/"+e+"/collision?include=author",!1,{orgId:t.currentOrgId}).get().then(function(e){var t=n(),a=Object(i.b)(e.collisionUsers,Object(i.a)(Object(i.c)("collisionUser",{id:"agentId",mapping:{author:Object(i.c)("agent")}}))),s=e.collisionUsers;return s=f(s=s.filter(function(e){return e.agentId&&e.agentId!=t.myInfo.id})),{collisionData:e=o()({},e,{collisionUsers:s,activeUsersLen:s.length}),entities:{agent:a.entities.agent}}})}}}function c(e,t,n){return{types:Object(r.m)("PUBLISH_USERACTION"),callAPI:function(a){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userAction",!1,{orgId:a.currentOrgId}).post("",{actionType:t,instanceId:n}).then(function(e){return e})}}}function d(e,t){return{types:Object(r.m)("CREATE_CHAT"),callAPI:function(n){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:n.currentOrgId}).post("",{actionType:"createChat",agentId:t}).then(function(e){return e})}}}function u(e){return{types:Object(r.m)("CREATE_GROUPCHAT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"createGroupChat"}).then(function(e){return e})}}}function m(e){return{types:Object(r.m)("JOIN_CHAT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"joinChat"}).then(function(e){return e})}}}function p(e){return{types:Object(r.m)("LEAVE_CHAT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"leaveChat"}).then(function(e){return e})}}}function h(e,t){return{types:Object(r.m)("ADD_CHATMEMBERS"),callAPI:function(n){return Object(s.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:n.currentOrgId}).post("",{actionType:"addChatMembers",agentId:t}).then(function(e){return e})}}}function f(e){var t=0,n=0;return e=e.map(function(e,a){var s=Math.floor(a/4);if(n=55*s,0!=a){var r=(a+1)%4-1;t=r<0?165:55*r}return o()(e,{leftPos:t,topPos:n})})}function g(e){return{type:"CLEAR_COLLISION_DATA",data:{ticketId:e}}}function b(){return{types:Object(r.m)("GET_COLLISION_COMPRESS_META"),shouldCallAPI:function(e){return!e.ticketUIStatecollisionCompressMeta},callAPI:function(e){return Object(s.a)("/api/v1/realTime/ticketMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}},"./src/actions/BluePrintActions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"j",function(){return d}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"i",function(){return g});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),r=n("./src/utils/Common.js");function i(e){return{types:Object(r.m)("GET_APPLIED_BLUEPRINT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/blueprint?include=transitionOwnerAgents,transitionOwnerTeams,transitionOwnerDept",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:o()({},e,{transitionData:204==t.responseStatus?"":t})},result:[]}})}}}function l(e,t){return{types:Object(r.m)("GET_TRANSITIONS"),callAPI:function(n){return Object(s.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/form",!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}}function c(e,t,n){return{types:Object(r.m)("PERFORM_TRANSITION"),callAPI:function(a){return Object(s.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/perform",!1,{orgId:a.currentOrgId}).post("",n).then(function(t){return{entities:{ticket:o()({},e,{status:t.updatedState})},result:[]}})}}}function d(e,t,n){return{types:Object(r.m)("VALIDATE_FIELD_UPDATES"),callAPI:function(a){return Object(s.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/validateFieldUpdates",!1,{orgId:a.currentOrgId}).post("",n).then(function(e){return e})}}}function u(e){return{types:Object(r.m)("REVOKE_BLUEPRINT"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/revokeBlueprint",!1,{orgId:t.currentOrgId}).post().then(function(t){return{entities:{ticket:o()({},e,{transitionData:""})},result:[]}})}}}function m(){return{type:"OPEN_FLOWCHAT"}}function p(){return{type:"CLOSE_FLOWCHAT"}}function h(e){return{type:"OPEN_TRANSITION_FORM",data:e}}function f(){return{type:"CLOSE_TRANSITION_FORM"}}function g(e){return{type:"TOGGLE_TRANSITION_FORM",data:e}}},"./src/actions/CommentActions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return f});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),r=n.n(s),i=n("./src/utils/RequestAPI.js"),l=n("./src/constants/index.js"),c=n("./src/utils/Common.js"),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),u=function(e,t,n,a,s){return{types:Object(c.m)(t.toUpperCase()+"_GET_"+l.R.COMMENT),callAPI:function(c){return Object(i.a)(""+l.B+e+"/"+n+"/comments?sortBy=-commentedTime&from="+a+"&limit="+s+"&include=mentions",!1,{orgId:c.currentOrgId}).get().then(function(e){var s;if(204!=e.responseStatus){var i=r()({id:n},l.R.COMMENT_L,e.data);return o()({},Object(d.b)(i,Object(d.c)(t,{mapping:{comment:Object(d.a)(Object(d.c)(l.R.COMMENT_L))}})),{from:a})}return{entities:(s={},r()(s,l.R.COMMENT_L,{}),r()(s,t,[]),s),from:a}})}}},m=function(e,t,n,a,o){return{types:Object(c.m)(t.toUpperCase()+"_DELETE_"+o),callAPI:function(o,s){return Object(i.a)(""+l.B+e+"/"+n+"/comments/"+a,!1,{orgId:o.currentOrgId}).del().then(function(e){if(200==e.responseStatus){var o=s(),i=!0;if("ticket"==t&&(i=Object(c.F)(o,n,a)),i){var d="0",u=o.module[t][n].commentCount;return(u=parseInt(u))&&(d=u-1),{entities:r()({},t,r()({},n,r()({},l.R.COMMENT_L,[a]))),commentCount:d,result:n}}return e}})}}},p=function(e,t,n,a,s){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return{types:Object(c.m)(t.toUpperCase()+"_ADD_"+s),callAPI:function(s,u){return Object(i.a)(""+l.B+e+"/"+n+"/comments",!1,{orgId:s.currentOrgId}).post("",a).then(function(e){var a=u(),s=e.id,i=!1;if("ticket"==t&&(i=Object(c.F)(a,n,s)),!i){var m,p="1",h=a.module[t][n].commentCount;return(h=parseInt(h))&&h>0&&(p=h+1),{entities:(m={},r()(m,l.R.COMMENT_L,r()({},s,o()({},e,{mention:d}))),r()(m,t,r()({},n,r()({},l.R.COMMENT_L,[s]))),m),commentCount:p,result:n}}return e})}}},h=function(e,t,n,a,s,d){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];return{types:Object(c.m)(t.toUpperCase()+"_UPDATE_"+d),callAPI:function(t){return Object(i.a)(""+l.B+e+"/"+n+"/comments/"+a,!1,{orgId:t.currentOrgId}).patch("",s).then(function(e){return{entities:r()({},l.R.COMMENT_L,r()({},a,o()({},e,{mention:u})))}})}}},f=function(e,t){return{types:Object(c.m)("COMMENTHISTORY"),callAPI:function(n){return Object(i.a)(l.B+"tickets/"+e+"/comments/"+t+"/history",!1,{orgId:n.currentOrgId}).get().then(function(e){return{data:e.data,entities:{},result:[]}})}}}},"./src/actions/ReplyActions.js":function(e,t,n){"use strict";n.d(t,"f",function(){return f}),n.d(t,"i",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"a",function(){return v}),n.d(t,"j",function(){return y}),n.d(t,"e",function(){return C}),n.d(t,"h",function(){return E}),n.d(t,"g",function(){return I}),n.d(t,"c",function(){return k}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return _}),n.d(t,"k",function(){return j});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),l=n.n(i),c=n("./src/utils/RequestAPI.js"),d=n("./src/utils/Common.js"),u=n("./src/constants/index.js"),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),h=n.n(p);function f(e,t){return{types:Object(d.m)("SAVEDRAFT"),callAPI:function(n,a){return Object(c.a)("/api/v1/tickets/"+e+"/draftReply",!1,{orgId:n.currentOrgId}).post("",t).then(function(t){var n=a(),s=t.id;if(!Object(d.L)(n,e,s)){var i=l()({},s,t),c=r()({},i,n.module.thread),u=n.module.ticket[e].thread||[],m=n.module.ticket[e].conversationIds||[],p=[s].concat(o()(u)),h=[{id:s,type:"thread"}].concat(o()(m));return{data:t,entities:{thread:c,ticket:l()({},e,{thread:p,conversationIds:h})}}}return{data:t}})}}}function g(e,t){return{types:Object(d.m)("SEND_FOR_REVIEW"),callAPI:function(n,a){return Object(c.a)("/api/v1/tickets/"+e+"/threads/"+t+"/sendForReview",!1,{orgId:n.currentOrgId}).post("").then(function(e){return e})}}}function b(e,t,n){return{types:Object(d.m)("UPDATEDRAFT"),callAPI:function(a,o){return Object(c.a)("/api/v1/tickets/"+e+"/draftReply/"+t,!1,{orgId:a.currentOrgId}).patch("",n).then(function(n){var a=o(),s=a.module.ticket[e].conversationIds||[],r=a.module.ticket[e].thread||[];if(s.length){for(var i=0,c=0;c<=s.length;c++)if(s[c].id==t){i=c;break}s.splice(0,0,s.splice(i,1)[0])}else{var d=r.indexOf(t);r.splice(0,0,r.splice(d,1)[0])}return{data:n,entities:{thread:l()({},t,n),ticket:l()({},e,{conversationIds:s,thread:r})}}})}}}function v(e,t,n){return{types:Object(d.m)("TICKET_THREAD_DELETE"),callAPI:function(a,o){return Object(c.a)(e,!1,{orgId:a.currentOrgId}).del().then(function(e){var a=o();return Object(d.L)(a,t,n)?{}:{ticketId:t,threadId:n}})}}}function y(e,t,n){var a=n?"?isPrivate=true":"";return{types:Object(d.m)("SENDREPLY"),callAPI:function(n,s){return Object(c.a)("/api/v1/tickets/"+e+"/sendReply"+a,!1,{orgId:n.currentOrgId}).post("",t).then(function(t){var n=s(),a=t.id;if(!Object(d.L)(n,e,a)){var i=l()({},a,t),c=r()({},i,n.module.thread),u=n.module.ticket[e].thread||[],m=n.module.ticket[e].conversationIds||[],p=[a].concat(o()(u)),h=[{id:a,type:"thread"}].concat(o()(m));return{data:t,entities:{thread:c,ticket:l()({},e,{thread:p,conversationIds:h})}}}return t})}}}function C(e,t,n){return{types:Object(d.m)("RESEND_THREAD"),callAPI:function(a,o){return Object(c.a)(e,!1,{orgId:a.currentOrgId}).post().then(function(e){var a=o();if(!Object(d.L)(a,n,t)){var s=a.module.ticket[n].conversationIds||[],r=a.module.ticket[n].thread||[];if(s.length){for(var i=0,c=0;c<=s.length;c++)if(s[c].id==t){i=c;break}s.splice(0,0,s.splice(i,1)[0])}else{var u=r.indexOf(t);r.splice(0,0,r.splice(u,1)[0])}return{data:e,entities:{thread:l()({},t,e),ticket:l()({},n,{thread:r,conversationIds:s})}}}return e})}}}function E(e,t,n,a){return e=a?e+"&isPrivate=true":e,{types:Object(d.m)("SENDDRAFT"),callAPI:function(a,o){return Object(c.a)(e,!1,{orgId:a.currentOrgId}).post().then(function(e){var a=o(),s=a.module.ticket[t].conversationIds||[],r=a.module.ticket[t].thread||[];if(s.length){for(var i=0,c=0;c<=s.length;c++)if(s[c].id==n){i=c;break}s.splice(0,0,s.splice(i,1)[0])}else{var d=r.indexOf(n);r.splice(0,0,r.splice(d,1)[0])}return{data:e,entities:{thread:l()({},n,e),ticket:l()({},t,{conversationIds:s,thread:r})}}})}}}function I(e){return{types:Object(d.m)("SEARCHCONTACT"),callAPI:function(t,n){return Object(c.a)("/api/v1/contacts/search?limit=10&email="+e+"*",!1,{orgId:t.currentOrgId}).get().then(function(e){return 204==e.responseStatus?{list:[]}:r()(Object(m.b)(e.data,Object(m.a)(Object(m.c)(u.R.CONTACT_L))),{list:e.data})})}}}function k(e){return{types:Object(d.m)("FROMEMAILADDRESS"),shouldCallAPI:function(t){return!h()("departmentSpecificState["+e+"].fromEmailAddress",t).length},callAPI:function(t){return Object(c.a)("/api/v1/mailReplyAddress?departmentId="+e+"&isActive=true",!1,{orgId:t.currentOrgId}).get().then(function(t){return 204!=t.responseStatus?{entities:{},result:[],address:t.data,deptId:e}:{res:t,entity:{},result:[]}})}}}function A(e){return{types:Object(d.m)("HAPPINESS_LINK_HOLDER"),callAPI:function(t){return Object(c.a)("/api/v1/customerHappinessLinkHolder?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return{linkHolder:t.linkHolder,deptId:e}})}}}function _(e){return{types:Object(d.m)("MAIL_CONFIGURATIONS"),shouldCallAPI:function(t){return!h()("departmentSpecificState["+e+"].mailConfigurations.privateThreadConfig",t)},callAPI:function(t){return Object(c.a)("/api/v1/departments/"+e+"/mailConfigurations",!1,{orgId:t.currentOrgId}).get().then(function(t){return{res:t,deptId:e,entity:{},result:[]}})}}}function j(e){return function(t,n){for(var a=n(),o=a.module.ticket[e],s=o.thread,r=void 0===s?[]:s,i=o.conversationIds,c=o.commentCount,d=a.module.thread,u=0,m=0;m<r.length;m++)d[m]&&"DRAFT"!=d[m].status&&(u=1);var p=r[0];if(i){for(var h=0,f=0;f<i.length;f++)"thread"!=i[f].type||p||(p=i[f].id),d[i[f].id]&&"DRAFT"!=d[i[f].id].status&&(h+=1);u=h-parseInt(c)}var g={recentThreadId:p,recentThread:p?a.module.thread[p]:null,threadCount:u};return t({type:"SET_RECENT_THREAD_DATA_SUCCESS",data:{entities:{ticket:l()({},e,g)}}})}}},"./src/actions/TemplateActions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("./src/utils/RequestAPI.js"),r=n("./src/constants/index.js"),i=n("./src/utils/Common.js"),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.db;return n=n.trim(),{types:Object(i.m)(r.R.TICKET_TEMPLATE),shouldCallAPI:function(o){if(a)return!0;var s=o.ticketTemplate,r=s.deptId,i=s.searchStr,l=s.from;return e!==r||n!==i||t!==l},callAPI:function(a){var i=a.currentOrgId,d=2*c>100?100:2*c;return Object(s.a)(r.B+"ticketTemplates?from="+t+"&limit="+d+"&departmentId="+e+(n?"&templateName="+n:""),!1,{orgId:i}).get().then(function(a){var s=Object(l.b)(204!==a.responseStatus?a.data:[],Object(l.a)(Object(l.c)(r.R.TICKET_TEMPLATE_L)));return o()({},s,{from:t,limit:c,isNextData:!!a.data&&a.data.length>c,searchStr:n,deptId:e})})},payload:{from:t}}}function d(e){return{types:Object(i.m)("TICKET_TEMPLATE_DETAIL"),callAPI:function(t){var n=t.currentOrgId;return Object(s.a)(r.B+"ticketTemplates/"+e,!1,{orgId:n}).get().then(function(e){return Object(l.b)(e,Object(l.c)(r.R.TICKET_TEMPLATE_L))},function(e){throw e})}}}function u(e,t,n,a,o){var l="departmentId="+e+"&module="+t+"&from="+n+"&limit="+a;return""!=o&&o&&(l+="&searchStr=*"+o+"*"),{types:Object(i.m)("EMAIL_TEMPLATE_LIST"),callAPI:function(e){return Object(s.a)(r.B+"templates?"+l,!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function m(e,t){return{types:Object(i.m)("TEMPLATESFOLDERSLIST"),callAPI:function(n){return Object(s.a)("/api/v1/templates/"+e+"/render?entityId="+t,!1,{orgId:n.currentOrgId}).post("").then(function(e){return{res:e,entity:{},result:[]}})}}}},"./src/actions/TicketCommentActions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return p});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),l=n.n(i),c=n("./src/utils/RequestAPI.js"),d=n("./src/constants/index.js"),u=n("./src/utils/Common.js");function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{types:Object(u.m)("COMMENT_ADD"),callAPI:function(a,s){return Object(c.a)(d.B+"tickets/"+e+"/comments",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=s(),i=t.id;if(!Object(u.F)(a,e,i)){var c,m,p="1",h=a.module.ticket[e],f=h.commentCount,g=h.comment,b=void 0===g?[]:g,v=h.conversationIds,y=void 0===v?[]:v;(f=parseInt(f))&&f>0&&(p=f+1);var C=[i].concat(l()(b)),E=[{type:"comment",id:i}].concat(l()(y));return{entities:(m={},o()(m,d.R.COMMENT_L,o()({},i,r()({},t,{mention:n}))),o()(m,"ticket",o()({},e,(c={},o()(c,d.R.COMMENT_L,C),o()(c,"conversationIds",E),o()(c,"commentCount",p),c))),m)}}return t})}}}function p(e,t){return{types:Object(u.m)("DELETECOMMENT"),callAPI:function(n,a){return Object(c.a)(d.B+"tickets/"+e+"/comments/"+t,!1,{orgId:n.currentOrgId}).del().then(function(n){if(200==n.responseStatus){var s=a();if(Object(u.F)(s,e,t)){var r,i="0",l=s.module.ticket[e],c=l.commentCount,m=l.comment,p=void 0===m?[]:m,h=l.conversationIds,f=void 0===h?[]:h;(c=parseInt(c))&&(i=c-1);var g=[],b=[];return f.length&&(b=f.filter(function(e){return e.id!=t})),p.length&&(g=p.filter(function(e){return e!=t})),{entities:{ticket:o()({},e,(r={},o()(r,d.R.COMMENT_L,g),o()(r,"conversationIds",b),o()(r,"commentCount",i),r))}}}return n}})}}}},"./src/components/Image/Image.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Image/Image.module.css"),v=n.n(b),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alt,n=e.src,a=e.className,o=e.isCover,s=e.title,r=e.onClick,i=e.dataId;return h.a.createElement("img",{src:n,alt:t,"data-title":s,"data-id":i,className:" "+a+" "+(o?v.a.imgFullSize:v.a.imgMaxFullSize)+" ",onClick:r})}}]),t}(h.a.Component);t.a=y,y.propTypes={alt:g.a.string.isRequired,className:g.a.string,dataId:g.a.string,isCover:g.a.bool,onClick:g.a.func,src:g.a.string.isRequired,title:g.a.string},y.defaultProps={isCover:!1,className:""}},"./src/components/MorePopup/MorePopup.js":function(e,t,n){"use strict";var a,o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(o),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(r),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=n.n(l),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=n.n(d),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n.n(m),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=n.n(h),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=n.n(g),v=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(v),C=n("./src/components/MorePopup/MorePopup.module.css"),E=n.n(C),I=n("../components/lib/common/common.module.css"),k=n.n(I),A=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),_=n.n(A),j=n("../components/lib/Popup/Popup.js"),O=n.n(j),S=n("../components/lib/DropBox/DropBox.js"),D=n.n(S),T=n("../components/lib/DropDown/DropDownSeparator.js"),x=n.n(T),N=n("../components/lib/ListItem/ListItemWithIcon.js"),w=n.n(N),P=n("./src/components/setup/timetrack/utils.js"),z=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||i()(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.togglePopup=n.togglePopup.bind(n),n}return f()(t,e),u()(t,[{key:"handleSelect",value:function(e,t,n,a){if(void 0!==this.props.onSelect){var o=this.props;(0,o.onSelect)(e,o.entity)}this.props.togglePopup(a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.boxPosition;Object(P.a)(e),n(e,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isPopupOpen,a=t.onPopupChange;e.isPopupOpen!==n&&a&&a(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=void 0===n?"white":n,o=t.objValues,s=t.Icnsize,r=t.IcnName,i=t.arrowPosition,l=t.position,c=t.right,d=t.widgets,u=void 0===d?[]:d,m=t.onWidgetScroll,p=t.onWidgetSelect,h=t.selectedWidgetId,f=t.arrowRight,g=t.arrowLeft,v=t.size,y=t.left,C=t.isPopupOpen,I=t.isPopupReady,A=t.getTargetRef,j=t.getContainerRef,O=t.dataId,S=t.isArrow,T=t.dataTitle;return s=s||"medium",b.a.createElement("span",{className:k.a.posrel,ref:A,"data-id":O,onClick:this.togglePopup},b.a.createElement("span",{className:E.a.defaultSize+" "+k.a.posrel+" "+E.a[a]},b.a.createElement("span",{"data-title":T},b.a.createElement(_.a,{name:r,size:s}))),C?b.a.createElement(D.a,{isAnimate:!0,isArrow:S,right:c,left:y,isActive:I,size:v,arrowRight:f,arrowLeft:g,boxPosition:l,getRef:j,arrowPosition:i,dataId:O+"list"},o.map(function(t,n){return b.a.createElement(w.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:n,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),o.length&&u.length?b.a.createElement(x.a,null):null,u.length?b.a.createElement("div",{className:E.a.widgetList,onScroll:m},u.map(function(e){var t=e.name,n=e.sanitisedName+"_"+e.installationId;return h!=n?b.a.createElement(w.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:n,id:n,onClick:function(){p(n,e)}}):null})):null):null)}}]),t}(g.Component);z.defaultProps={IcnName:"ZD-more1",size:"small"},z.propTypes=(a={IcnName:y.a.string,Icnsize:y.a.string,arrowLeft:y.a.string,arrowPosition:y.a.string,arrowRight:y.a.string,boxPosition:y.a.string,dataId:y.a.string,dataTitle:y.a.string,entity:y.a.object,getContainerRef:y.a.func},s()(a,"getContainerRef",y.a.func),s()(a,"getTargetRef",y.a.func),s()(a,"isArrow",y.a.bool),s()(a,"isPopupOpen",y.a.bool),s()(a,"isPopupReady",y.a.bool),s()(a,"isScroll",y.a.bool),s()(a,"left",y.a.string),s()(a,"objValues",y.a.array),s()(a,"onPopupChange",y.a.func),s()(a,"onSelect",y.a.func),s()(a,"onWidgetScroll",y.a.func),s()(a,"onWidgetSelect",y.a.func),s()(a,"position",y.a.string),s()(a,"removeClose",y.a.func),s()(a,"right",y.a.string),s()(a,"selectedWidgetId",y.a.string),s()(a,"size",y.a.string),s()(a,"theme",y.a.string),s()(a,"togglePopup",y.a.func),s()(a,"widgets",y.a.array),a),t.a=O()(z)},"./src/components/SearchResults/SearchResults.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/SearchResults/SearchResults.module.css"),v=n.n(b),y=n("../components/lib/Avatar/Avatar.js"),C=n.n(y),E=n("../components/lib/DropBox/DropBox.js"),I=n.n(E),k=n("../components/lib/Layout/index.js"),A=n("./src/utils/Common.js"),_=n("./src/fz-i18n/index.js"),j=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.getScrollContainerRef=n.getScrollContainerRef.bind(n),n.getSelectedItemRef=n.getSelectedItemRef.bind(n),n.onScroll=n.onScroll.bind(n),n.isFetching=!1,n}return m()(t,e),l()(t,[{key:"getScrollContainerRef",value:function(e){this.scrollContainerRef=e}},{key:"getSelectedItemRef",value:function(e){this.selectItemRef=e}},{key:"componentDidUpdate",value:function(){var e=this.props.selectSearchIndex,t=this.scrollContainerRef,n=this.selectItemRef;if(n&&t){var a=n.offsetTop-t.scrollTop,o=n.offsetHeight,s=t.offsetHeight;(a<0||o+a>s)&&(t.scrollTop=0==e?0:t.scrollTop+a)}}},{key:"onScroll",value:function(e){var t=this;if(this.props.fetchData&&!this.isFetching){var n=e.currentTarget;n.scrollHeight<=n.scrollTop+n.offsetHeight&&(this.isFetching=!0,this.props.fetchData().then(function(){t.isFetching=!1},function(){t.isFetching=!1}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.dataId,o=t.orgName,s=(t.selectEmail,t.type),r=t.selectSearchIndex,i=(t.addTag,t.needFixed),l=t.needAvatar,c=t.onSelect;return h.a.createElement(I.a,{onScroll:this.onScroll,isArrow:!1,boxPosition:"bottomCenter",isActive:!0,className:""+(i?v.a.resetDropbox:"")},h.a.createElement("div",{ref:this.getScrollContainerRef,className:l?v.a.agentSearch:v.a.tagsSearch},n.length?n.map(function(t,n){var i=t.id,d=t.name,u=t.email,m=t.isNew,p=t.firstName,f=t.lastName,g=t.photoURL,b=t.newLabel,y=l&&g?g+"?portalname="+o:null;l&&Object(A.g)(p,f);return d=l?Object(A.e)(p,f):d,h.a.createElement(k.Container,{alignBox:"row",align:"vertical",className:v.a.asItem+" "+(r==n?v.a.selectIem:""),onMouseDown:function(){c(t,s)},eleRef:n==r?e.getSelectedItemRef:null,key:n,dataId:a+"_"+i},l?h.a.createElement(k.Box,{className:v.a.imgCont},h.a.createElement(C.a,{src:y,name:d,size:"medium"})):null,h.a.createElement(k.Box,{flexible:!0},h.a.createElement("div",{className:v.a.ashead},m?h.a.createElement("span",{className:v.a.newTag},b):null,d),u?h.a.createElement("div",{className:v.a.asemail},u):null))}):h.a.createElement("div",{className:v.a.searchDiv},_.h.getI18NValue("support.label.searching"))))}}]),t}(h.a.Component);t.a=j,j.propTypes={addTag:g.a.func,data:g.a.array,dataId:g.a.string,fetchData:g.a.oneOfType([g.a.func,g.a.bool]),isPopupOpen:g.a.bool,needAvatar:g.a.bool,orgName:g.a.string,placeholder:g.a.string,removeClose:g.a.func,selectEmail:g.a.func,selectSearchIndex:g.a.number,theme:g.a.string,togglePopup:g.a.func,type:g.a.string},j.defaultProps={data:[],needAvatar:!0}},"./src/components/Subtab/AudioMessage/AudioMessage.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/AudioMessage/AudioMessage.module.css"),v=n.n(b),y=n("./src/fz-i18n/index.js"),C=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.state={playingIndex:1},n.play=n.play.bind(n),n.playNext=n.playNext.bind(n),n.pauseOthers=n.pauseOthers.bind(n),n}return m()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var n=document.getElementById("audio"+t);n&&n.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,n){e!=n+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,n=this.props.thread,a=JSON.parse(n.content),o=a.voicemailurl,s=a.recordingurl,r=a.voicemailduration,i=a.recordingduration,l=void 0,c=void 0,d=void 0,u=[],m=0;if(o.startsWith("https://")||s.startsWith("https://"))o.startsWith("https://")?(l=o,c=r,d=y.h.getI18NValue("support.twi.msg.voicemessage")):(l=s,c=i,d=y.h.getI18NValue("support.twi.msg.callrecording"));else{m=(u=JSON.parse(a.recordingurl)).length,l=u[0].url,l=m>2?l:l+u[1].rid;var p=i%3600,f=Math.floor(p/60),g=p%60,b=Math.ceil(g);c=Math.floor(i/3600)+":"+f+":"+b+" (H:M:S)",d=y.h.getI18NValue("support.twi.msg.callrecording")}return h.a.createElement("div",{className:v.a.audioDiv},h.a.createElement("div",{className:v.a.audioHead},h.a.createElement("span",{className:v.a.audioTitle},d),h.a.createElement("span",{className:v.a.audioDur},"( ",y.h.getI18NValue("crm.activities.call.duration"),":",h.a.createElement("span",null,c)," )"),m>2?h.a.createElement("span",null,y.h.getI18NValue("support.label.playing")," ",h.a.createElement("span",null,t),"/",m-1," ",y.h.getI18NValue("support.label.recording")):null),h.a.createElement("div",{className:v.a.audioSource},m>2?u.map(function(t,n){var a=u[n].rid;return a?h.a.createElement("audio",{controls:!0,id:"audio"+n,src:l+a,key:n,className:v.a.audio,onPlay:function(){e.play(n)},onEnded:function(){e.playNext(n)},style:{display:"block"}}):null}):h.a.createElement("audio",{controls:!0,src:l,className:v.a.audio})))}}]),t}(h.a.Component);t.a=C,C.propTypes={thread:g.a.object}},"./src/components/Subtab/CommentActionButton/CommentActionButton.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/CommentActionButton/CommentActionButton.module.css"),v=n.n(b),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=n.n(y),E=n("../components/lib/Switch/Switch.js"),I=n.n(E),k=n("./src/fz-i18n/index.js"),A=n("../components/lib/Layout/index.js"),_=n("../components/lib/Button/Button.js"),j=n.n(_),O=n("./src/components/setup/timetrack/utils.js"),S=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.state={isPopupOpen:!1},n.togglePopup=n.togglePopup.bind(n),n.changeMode=n.changeMode.bind(n),n}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"changeMode",value:function(){var e=this.props,t=e.isPublic,n=e.changeMode;n(t?"private":"public")}},{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,n=t.revertIsCommentChanged,a=t.isCommentChanged,o=t.closeComment,s=t.toggleComment,r=t.clearComment,i=t.type,l=t.from,c=t.content,d=void 0===c?"":c,u=t.isPublic,m=t.addComment,p=t.updateComment,f=t.hasPrivacyMode,g=t.havePublicComment,b=t.dataId,y=t.isLoading,E=this.state.isPopupOpen,_="large";"leftPanel"==l&&(_="medium");var S=""==d&&"conversation"!=i;return h.a.createElement(A.Box,{className:v.a.postSubmit},h.a.createElement("span",{className:v.a.sentButton},"edit"==i?h.a.createElement(j.a,{text:k.h.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",onClick:p,status:y?"loading":"none",dataId:"edit_"+b}):g?f?h.a.createElement("span",{className:v.a.commentButton},f?h.a.createElement("div",{className:v.a[_]+" "+(y?"":v.a.isActive)},y?h.a.createElement(j.a,{status:"loading",palette:"primaryFilled",size:"medium",className:v.a.loading}):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:v.a.content,"data-id":b,onClick:m},h.a.createElement("p",{className:v.a.actionType},k.h.getI18NValue("tabs.request.comment")),h.a.createElement("p",{className:v.a.subtitle},u?k.h.getI18NValue("support.request.public"):k.h.getI18NValue("support.department.type.internal"))),h.a.createElement("span",{className:v.a.arrow,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.togglePopup(t)},"data-id":"switchingButton"},h.a.createElement(C.a,{name:"ZD-blockDownArrow",size:"6"})))):h.a.createElement(j.a,{text:k.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:m,status:y?"loading":"none"}),h.a.createElement("div",{className:v.a.buttonAction+" "+(E?v.a.active:"")+" "+("leftPanel"==l?v.a.commentLeftPopup:" "),onClick:O.a,"data-id":"switchingButton_Options"},h.a.createElement("div",{className:v.a.switchAction,onMouseDown:this.changeMode},h.a.createElement("p",null,h.a.createElement("span",{className:v.a.actionNotify},k.h.getI18NValue("support.request.public")),h.a.createElement("span",{className:v.a.switchbox},h.a.createElement(I.a,{id:"commentPrivate",name:"commentPrivate",size:"small",checked:u,dataId:"switch"}))),h.a.createElement("p",{className:v.a.actionSubtitle},k.h.getI18NValue("support.solutions.comments.display.in.customer.self.service.portal"))))):h.a.createElement(j.a,{text:k.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:m,status:y?"loading":"none"}):h.a.createElement(j.a,{text:k.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:m,dataId:"saveButtonId",status:y?"loading":"none"})),h.a.createElement("span",{className:v.a.clearButton},h.a.createElement(j.a,{text:"edit"==i||"task"==l||"conversation"==i&&""==d?k.h.getI18NValue("support.label.cancel"):k.h.getI18NValue("support.request.clear"),palette:"secondary",size:"medium",disabled:S,onClick:function(){"edit"==i||"task"==l?(a&&n&&n(),o()):"conversation"==i?s():r()},dataId:"clearButton"})))}}]),t}(h.a.Component);t.a=S,S.propTypes={addComment:g.a.func,changeMode:g.a.func,clearComment:g.a.func,closeComment:g.a.func,content:g.a.string,dataId:g.a.string,from:g.a.string,hasPrivacyMode:g.a.bool,havePublicComment:g.a.bool,isCommentChanged:g.a.bool,isLoading:g.a.bool,isPublic:g.a.bool,module:g.a.string,revertIsCommentChanged:g.a.func,toggleComment:g.a.func,type:g.a.string,updateComment:g.a.func}},"./src/components/Subtab/CommentBox/CommentBox.js":function(e,t,n){"use strict";(function(e){var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(b),y=n("./src/components/Subtab/CommentBox/CommentBox.module.css"),C=n.n(y),E=n("./src/components/avatar/AvatarThread/AvatarThread.js"),I=n("./src/components/Subtab/UploadList/UploadList.js"),k=n("./src/components/Subtab/CommentActionButton/CommentActionButton.js"),A=n("./src/fz-i18n/index.js"),_=n("./src/utils/Attachment.js"),j=n("./src/utils/Common.js"),O=n("./src/utils/DataStorage.js"),S=n("./src/utils/Editor.js"),D=n("../components/lib/Layout/index.js"),T=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),x=n.n(T),N=n("./src/components/TextEditor/TextEditor.js"),w=n("./src/components/Subtab/UploadPopup/UploadPopup.js"),P=function(t){function n(e){l()(this,n);var t=m()(this,(n.__proto__||r()(n)).call(this,e)),a=t.props,o=a.value,s=a.attachments;return t.state={content:o||"",oldAttachments:s||[],newAttachments:[],isAttachmentUploading:!1,isDragOver:!1,mode:"private",showTools:O.a.getItem("showCommentTools"),isAttachmentModified:!1,isLoading:!1},t._isMounted=!1,t.uploadAttach=t.uploadAttach.bind(t),t.deleleUpload=t.deleleUpload.bind(t),t.removeAttachment=t.removeAttachment.bind(t),t.updateComment=t.updateComment.bind(t),t.clearComment=t.clearComment.bind(t),t.toggleComment=t.toggleComment.bind(t),t.dragEnter=t.dragEnter.bind(t),t.dragLeave=t.dragLeave.bind(t),t.attachDrop=t.attachDrop.bind(t),t.changeMode=t.changeMode.bind(t),t.toggleTools=t.toggleTools.bind(t),t.commentCallback=t.commentCallback.bind(t),t.checkCommentChanged=t.checkCommentChanged.bind(t),t.addComment=t.addComment.bind(t),t.dragAttach=t.dragAttach.bind(t),t.addCloudAttch=t.addCloudAttch.bind(t),t.openCloudAttach=t.openCloudAttach.bind(t),t.closeCloudAttach=t.closeCloudAttach.bind(t),t.closeComment=t.closeComment.bind(t),t}return h()(n,t),d()(n,[{key:"componentWillReceiveProps",value:function(e){e.oldAttachments==this.props.oldAttachments&&e.value==this.props.value&&e.newAttachments==this.props.newAttachments||this.setState({content:e.value||"",oldAttachments:e.oldAttachments||[],newAttachments:e.newAttachments||[]})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"addComment",value:function(){var e=this,t=this.state,n=t.mode,a=t.isCommentAdding,o=this.props,s=o.attachmentIds,r=o.hasAttachments,i=void 0===r||r,l=o.hasPrivacyMode,c=void 0===l||l;if(!a){var d=editor["Comment_"+this.props.id],u=d.mentionsList,m=d.mentionsHandler("val");if(this.isValid(d)){var p="public"==n,h=this.props,f=h.revertIsCommentChanged,g=h.addComment;h.isCommentChanged&&f&&f(),this.setState({isCommentAdding:!0});var b={content:m};i&&(b.attachmentIds=s),c&&(b.isPublic=p),this.setState({isLoading:!0}),g(b,u,function(){e._isMounted&&(e.setState({oldAttachments:[],newAttachments:[],isAttachmentModified:!1,isCommentAdding:!1,mode:"private"}),e.props.setAttachmentIds([]),e.clearComment()),e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:A.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1,isCommentAdding:!1})})}}}},{key:"updateComment",value:function(){var e=this,t=this.props,n=t.id,a=t.value,o=t.revertIsCommentChanged,s=t.isCommentChanged,r=t.updateComment,i=t.attachmentIds,l=editor["Comment_"+n],c=l.mentionsList,d=l.mentionsHandler("val");s&&o&&o(),this.setState({isAttachmentModified:!1}),this.isValid(l)&&(this.setState({isLoading:!0}),r(n,d,i,a,c,function(){e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:A.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1})}))}},{key:"isValid",value:function(t){var n=this.state.isAttachmentUploading,a=this.props.attachmentIds,o=!0,s=t.getContent();return n?(o=!1,this.props.showMessage({type:"alert",message:A.h.getI18NValue("support.attachment.upload.process")})):Object(S.d)(t)&&!a.length?(o=!1,this.props.showConfirmBox({type:"alert",submitText:A.h.getI18NValue("crm.button.ok"),title:A.h.getI18NValue("support.history.operation.label.wfalert"),message:A.h.getI18NValue("support.contact.comment.empty"),isActive:!0,palette:"danger"}).then(function(){deleteComment(id,commentId,e)}).catch(function(){})):s.length>32e3&&(o=!1,this.props.showMessage({type:"alert",message:A.h.getI18NValue("support.comment.limit.exceeded")})),o}},{key:"addCloudAttch",value:function(e,t,n){var a=this,s=this.state,r=s.newAttachments,i=s.oldAttachments.length+r.length+n,l={index:i,href:null,isPreview:!0,name:e.name};this.setState(function(e){var t=o()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,i,function(e,t){var n=a.state.newAttachments.map(function(n){return n.index===t?o()({},n,{percentComplete:e}):n});a.setState({newAttachments:n})}).then(function(e){var t=e.data,n=a.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});a.setState({newAttachments:n});var o=a.props,s=o.attachmentIds,r=o.setAttachmentIds;s.push(t.data.id),r(s);var i=a.props,l=i.isCommentChanged,c=i.setIsCommentChanged;!l&&c&&c(),a.setState({isAttachmentModified:!0})},function(){a.setState(function(e){var t=o()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return i!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,n=this.state,a=n.newAttachments,s=n.oldAttachments.length+a.length,r=e.target?e.target.files:e,i=r.length,l=Object(_.p)(r,s),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:A.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c.length)for(var m=0;m<c.length;m++){var p=c[m];p.isUnSupported&&u({type:"alert",message:A.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&u({type:"alert",message:A.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&u({type:"alert",message:A.h.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&u({type:"alert",message:A.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d.length&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var n=function(n){var a=d[n],r=new FormData;r.append("file",a);var l=s+n,u=Object(_.g)(a,l);t.setState(function(e){var t=o()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(r,l,function(e,n){var a=t.state.newAttachments.map(function(t){return t.index===n?o()({},t,{percentComplete:e}):t});t.setState({newAttachments:a})}).then(function(n){if(n){var a=n.data;e+=1;var o=t.state.newAttachments.map(function(e){return e.index===a.data.index?a.data:e});t.setState({newAttachments:o});var s=t.props,r=s.attachmentIds,l=s.setAttachmentIds;r.push(a.data.id),l(r);var d=t.props,u=d.isCommentChanged,m=d.setIsCommentChanged;!u&&m&&m(),t.setState({isAttachmentModified:!0}),e+c.length==i&&t.setState({isAttachmentUploading:!1})}}).catch(function(e){t.setState(function(t){var n=o()({},t);return n.newAttachments=n.newAttachments.filter(function(t){return e.attachIndex!==t.index}),n})})},a=0;a<d.length;a++)n(a)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(n){var a=o()({},n);a.newAttachments=a.newAttachments.filter(function(t){return e!==t.id});var s=t.props,r=s.isCommentChanged,i=s.setIsCommentChanged,l=s.revertIsCommentChanged;return a.newAttachments.length?(!r&&i&&i(),t.setState({isAttachmentModified:!0})):(r&&l&&l(),t.setState({isAttachmentModified:!1},function(){return[t.checkCommentChanged()]})),a});var n=t.props,a=n.attachmentIds;(0,n.setAttachmentIds)(a.filter(function(t){return e!==t}))})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(n){var a=o()({},n);a.oldAttachments=a.oldAttachments.filter(function(t){return e!==t.id});var s=t.props,r=s.isCommentChanged,i=s.setIsCommentChanged;return!r&&i&&i(),t.setState({isAttachmentModified:!0}),a});var n=this.props,a=n.attachmentIds;(0,n.setAttachmentIds)(a.filter(function(t){return e!==t}))}},{key:"clearComment",value:function(){this.setState({content:""});var e=editor["Comment_"+this.props.id];e.setContent(""),Object(j.S)(e.doc)}},{key:"toggleComment",value:function(){if(""==this.state.content)this.props.toggleComment();else{var e=this.props,t=e.revertIsCommentChanged;e.isCommentChanged&&t&&t(),this.setState({isAttachmentModified:!1}),this.clearComment()}}},{key:"dragEnter",value:function(){this.setState({isDragOver:!0})}},{key:"dragLeave",value:function(){this.setState({isDragOver:!1})}},{key:"attachDrop",value:function(e){var t=e.nativeEvent.dataTransfer;Object(_.j)(t,e)&&(e.preventDefault(),this.uploadAttach(t.files),this.setState({isDragOver:!1})),e.stopPropagation(),this.setState({isDragOver:!1})}},{key:"dragAttach",value:function(e){this.uploadAttach(e)}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?O.a.setItem("showCommentTools",!0):O.a.setItem("showCommentTools",!1)})}},{key:"commentCallback",value:function(e){var t=this,n=this.props.mention,a=(void 0===n?[]:n).map(function(e){var t=e.type,n=e.name,a=e.zuid,o=e.id,s=e.firstName,r=e.lastName,i=e.photoURL,l=Object(j.e)(s,r);return"AGENT"==t?{avatar:i,id:a,name:l,type:"user",value:l}:{id:o,name:n,type:"team",value:n}});e.mentionsHandler("setMentions",a),ZohoDeskEditor._addEvent(e.doc,"keyup",function(){setTimeout(function(){t.checkCommentChanged(e)},1)})}},{key:"checkCommentChanged",value:function(e){e=e||editor["Comment_"+this.props.id];var t=this.props,n=t.value,a=t.type,o=t.isCommentChanged,s=t.setIsCommentChanged,r=t.revertIsCommentChanged,i=this.state.isAttachmentModified,l=e.getContent()||"";"edit"==a?n==l?!i&&o&&r&&r():!o&&s&&s():Object(S.d)(e)?(this.setState({content:""}),!i&&o&&r&&r()):(this.setState({content:l}),!o&&s&&s())}},{key:"openCloudAttach",value:function(){this.setState({isCloudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCloudOpen:!1})}},{key:"closeComment",value:function(){var e=this.props,t=e.id,n=e.closeComment;n(t)}},{key:"render",value:function(){A.h.getI18NValue("support.create.form.label.attachment.mycomputer"),A.h.getI18NValue("support.create.form.label.attachment.cloud");var e=this.props,t=e.type,n=e.orgId,a=e.id,o=e.from,s=e.showAttachmentViewer,r=e.photoURL,i=e.name,l=e.borderStyle,c=e.revertIsCommentChanged,d=e.isCommentChanged,u=e.editorMode,m=void 0===u?"CommentEditor":u,p=e.isFromBlueprint,h=e.hasPrivacyMode,f=void 0===h||h,b=e.hasAttachments,v=void 0===b||b,y=e.isCloudAttchOpen,_=e.CloudAttachmentIframe,j=e.havePublicComment,O=e.needAttachment,S=e.getAutofillContacts,T=e.showMessage,P=this.state,z=P.content,R=void 0===z?"":z,F=P.oldAttachments,B=P.newAttachments,M=P.isDragOver,V=P.mode,L=P.showTools,Z=P.isCloudOpen,U=P.isLoading,K={handleAutoFill:!0,needEditorFocus:"feeds"!=o&&!p,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:S,handleInlineDropImage:this.dragAttach},H="public"==V,W=C.a.postbox;return"leftPanel"==o&&(W=W+" "+C.a.minW319),W="bottom"==l?W+" "+C.a.defaultborder:W+" "+C.a.fullborder,g.a.createElement("div",{className:W+" "+(p?C.a.bluePrintLayar:""),onDragEnter:this.dragEnter,onDragOver:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.attachDrop},M&&g.a.createElement("div",{className:C.a.attachOver},A.h.getI18NValue("support.request.attachment.drop.files")),g.a.createElement("div",{"data-id":"commentBox",className:C.a.postHeader},p?null:g.a.createElement("span",{className:C.a.postAvatar},g.a.createElement(E.a,{src:r,name:i,size:"xsmall",iconName:"conversation"==t&&"ZD-zdeskCommentfilled",borderPalette:"conversation"==t&&"primary",iconColor:"conversation"==t&&"primary",iconSize:"conversation"==t?"8":"10"})),g.a.createElement("div",{className:C.a.commentBox+" "+(L?"":"hideTools")+" "},g.a.createElement(N.a,{id:"Comment_"+a,value:R,editorCallback:this.commentCallback,editorMode:m,editorOptions:K,type:"leftPanel"==o?"mini":"small",border:"borderNone"})),v?g.a.createElement("div",{className:C.a.attachHolder+" "+(L?C.a.attachHolderVisi:"")},g.a.createElement(I.a,{oldAttachments:F,newAttachments:B,orgId:n,deleleUpload:this.deleleUpload,removeAttachment:this.removeAttachment,from:o,showAttachmentViewer:s})):null),g.a.createElement(D.Container,{alignBox:"row",className:"leftPanel"==o?C.a.leftFooter+" "+C.a.postFooter:C.a.postFooter},g.a.createElement(D.Box,{className:C.a.commentOptions},g.a.createElement("span",{className:C.a.listIcon},v&&O?g.a.createElement("span",{className:C.a.attachParent+" "+("edit"==t?C.a.bdrNone+" "+C.a.attchIcn:"leftPanel"==o?C.a.bdrNone+" "+C.a.mt0+" "+C.a.attchIcn:C.a.attchIcn),"data-id":"AttachIcon"},g.a.createElement("label",{className:C.a.fileCont,htmlFor:"commentAttach"+a},g.a.createElement("input",{className:C.a.fileAttch,type:"file",onChange:this.uploadAttach,multiple:"multiple",id:"commentAttach"+a})),g.a.createElement(x.a,{name:"ZD-attachment5",size:"14"}),"leftPanel"==o?g.a.createElement("div",{className:C.a.attchPopup},g.a.createElement(w.a,{labelName:"commentAttachLabel",boxPosition:"bottomRight",onAttchClick:this.uploadAttach,openCloudAttach:this.openCloudAttach})):null):null,v&&"leftPanel"!=o&&O?g.a.createElement("span",{className:C.a.iconCloud,onClick:this.openCloudAttach},g.a.createElement(x.a,{name:"ZD-cloudIcon",size:"12"})):null,g.a.createElement("span",{"data-title":A.h.getI18NValue("support.label.comments.format"),className:C.a.iconAttach,onClick:this.toggleTools},"A"))),p?null:g.a.createElement(k.a,{revertIsCommentChanged:c,isCommentChanged:d,closeComment:this.closeComment,updateComment:this.updateComment,toggleComment:this.toggleComment,clearComment:this.clearComment,type:t,from:o,isPublic:H,changeMode:this.changeMode,content:R,addComment:this.addComment,hasPrivacyMode:f,havePublicComment:j,isLoading:U,dataId:"saveButtonId"}),y&&Z&&_?g.a.createElement(_,{addCloudAttch:this.addCloudAttch,totalLen:F.length+B.length,closeIframe:this.closeCloudAttach,showMessage:T}):null))}}]),n}(g.a.Component);t.a=P,P.propTypes={CloudAttachmentIframe:v.a.node,addComment:v.a.func,attachmentIds:v.a.func,attachments:v.a.object,borderStyle:v.a.string,closeComment:v.a.func,deleleUpload:v.a.func,editorMode:v.a.string,from:v.a.string,getAutofillContacts:v.a.func,hasAttachments:v.a.bool,hasPrivacyMode:v.a.bool,havePublicComment:v.a.bool,id:v.a.string,isCloudAttchOpen:v.a.bool,isCommentChanged:v.a.bool,isFromBlueprint:v.a.bool,mention:v.a.array,name:v.a.string,needAttachment:v.a.bool,newAttachments:v.a.object,oldAttachments:v.a.object,openCloudAttach:v.a.func,orgId:v.a.string,page:v.a.string,photoURL:v.a.string,revertIsCommentChanged:v.a.func,setAttachmentIds:v.a.func,setIsCommentChanged:v.a.func,showAttachmentViewer:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func,toggleComment:v.a.func,type:v.a.string,updateComment:v.a.func,uploadAttach:v.a.func,uploadCloudAttachment:v.a.func,value:v.a.string},P.defaultProps={borderStyle:"bottom",isFromBlueprint:!1,needAttachment:!0}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/Subtab/CommentsList/CommentsList.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/CommentsList/CommentsList.module.css"),v=n.n(b),y=n("./src/components/avatar/AvatarThread/AvatarThread.js"),C=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),E=n.n(C),I=n("./src/fz-i18n/index.js"),k=n("./src/components/Subtab/ThreadAttachments/ThreadAttachments.js"),A=n("./src/components/MorePopup/MorePopup.js"),_=n("./src/utils/Common.js"),j=n("./src/utils/loadResource.js"),O=n("./src/constants/index.js"),S=n("../components/lib/Layout/index.js"),D=(n("./src/components/Link/Link.js"),function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.state={editedId:"conversation"==n.props.page?n.props.editedId:""},n.attachRef={},n.closeComment=n.closeComment.bind(n),n.editComment=n.editComment.bind(n),n.updateComment=n.updateComment.bind(n),n.focusOnAttachments=n.focusOnAttachments.bind(n),n.setAttachmentRef=n.setAttachmentRef.bind(n),n.openMentionAgent=n.openMentionAgent.bind(n),n.showCommentHistory=n.showCommentHistory.bind(n),n}return m()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){e.editedId!=this.props.editedId&&this.setState({editedId:e.editedId})}},{key:"showCommentHistory",value:function(e){var t=this.props.showCommentHistory;t(e)}},{key:"setAttachmentRef",value:function(e,t){this.attachRef[t]=e}},{key:"constructMoreObj",value:function(){var e=this.props,t=e.haveCommentEditPermission,n=e.haveCommentDeletePermission,a=[];return t&&a.splice(0,0,{name:I.h.getI18NValue("crm.label.edit"),iconName:"ZD-pen2",size:"14"}),n&&a.splice(t?1:0,0,{name:I.h.getI18NValue("support.permission.delete.comment"),iconName:"ZD-delete2",size:"14"}),a}},{key:"editComment",value:function(e){var t=this,n=function(){var n=t.props,a=n.page,o=n.editComment;"conversation"==a?o(e):t.setState({editedId:e})};"undefined"==typeof ZohoDeskEditor?Object(j.a)(O.k,"js","ZohoDeskEditor").then(n):n()}},{key:"closeComment",value:function(){var e=this.props,t=e.page,n=e.closeComment;"conversation"==t?n():this.setState({editedId:""})}},{key:"updateComment",value:function(e,t,n,a,o,s,r){var i=this,l=this.props,c=l.updateComment,d=l.hasAttachments,u={content:t};(void 0===d||d)&&(u.attachmentIds=n),c(e,u,a,o,function(e){i.closeComment(),s&&s(e)},function(e){r&&r(e)})}},{key:"focusOnAttachments",value:function(e){Object(_.l)(this.props.scrollCont,this.attachRef[e].offsetTop-10)}},{key:"replaceMentions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];return t.length&&(e=e.replace(/zsu[@[a-z]+(#|:).+?]zsu/g,function(e,a){var o=e,s=e.split("zsu[")[1].slice(0,-4);if(0==s.indexOf("@")){if(-1!==s.indexOf("user")){for(var r=s.replace("@user#","").replace("@user:","").split("_")[0],i={},l=0;l<t.length;l++)r!=t[l].zuid&&r!=t[l].id||(i=t[l]);var c=i,d=c.id,u=c.name,m=c.firstName,p=c.lastName,h=u||Object(_.e)(m,p);return n?h:'<a class="'+v.a.mention+'" data-agent-id="'+(n?null:d)+'" >'+h+"</a>"}for(var f=s.replace("@team#","").replace("@team:","").split("_")[0],g={},b=0;b<t.length;b++)f==t[b].id&&(g=t[b]);return n?g.name:"<a class="+v.a.mention+">"+g.name+"</a>"}if(0==s.indexOf("#")&&-1==s.indexOf("activity")){var y=s.split(":"),C=y[0],E=y[2];return n?C:"<a class="+v.a.mention+" href='#Cases/dv/"+E+'\' onclick="return false">'+C+"</a>"}return o})),e}},{key:"openMentionAgent",value:function(e){e.preventDefault();var t=e.target.getAttribute("data-agent-id");t&&this.props.openAgent(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.comments,a=t.orgId,o=t.page,s=t.deleteComment,r=t.uploadAttach,i=t.deleleUpload,l=t.from,c=t.showAttachmentViewer,d=t.downloadAttachment,u=t.setIsCommentChanged,m=t.revertIsCommentChanged,p=t.isCommentChanged,f=t.isAdminUser,g=t.hasPrivacyMode,b=void 0===g||g,C=t.haveCommentEditPermission,_=t.haveCommentDeletePermission,j=t.currentUserId,O=t.hasAttachments,D=void 0===O||O,T=t.CommentBoxContainer,x=t.isReadOnly,N=t.openAgent,w=t.departmentId,P=this.state.editedId,z=h.a.createElement(E.a,{name:"ZD-more",size:"20"}),R=v.a.tname;return"leftPanel"==l&&(R=R+" "+v.a.mw100),n.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],g=t.id,O=t.commenter,F=t.commenterId,B=t.attachments,M=t.content,V=t.mention,L=t.isPublic,Z=t.commentedTime,U=t.modifiedTime,K=O||{},H=K.name,W=K.photoURL,q=K.type,G=(F==j||f)&&(C||_);return g===P?h.a.createElement(T,{id:g,isCommentChanged:p,setIsCommentChanged:u,revertIsCommentChanged:m,key:"comment"+P,type:"edit",attachments:B,value:e.replaceMentions(M,V,!0),mention:V,orgId:a,closeComment:e.closeComment,page:o,uploadAttach:r,deleleUpload:i,updateComment:e.updateComment,showAttachmentViewer:c,hasAttachments:D,hasPrivacyMode:b,dataId:"commentListEdited_"+g,departmentId:w}):h.a.createElement(S.Container,{isCover:!1,alignBox:"row",className:"leftPanel"==l?v.a.leftList+" "+v.a.threadList:v.a.threadList,key:n,id:g,dataId:"commentList_"+g},h.a.createElement(S.Box,{className:v.a.cleft},h.a.createElement(y.a,{name:H,src:"null"!=W?W:null,size:"xmedium",iconName:"comment"!=o&&"task"!=l&&"ZD-zdeskCommentfilled",borderPalette:"comment"!=o&&"primary",iconColor:"comment"!=o&&"primary",iconSize:"comment"!=o?"8":"10",onClick:function(){"AGENT"==q&&N&&N(F)}})),h.a.createElement("div",{className:v.a.cRight},h.a.createElement("div",null,h.a.createElement("span",{className:R,"data-title":H,onClick:function(){"AGENT"==q&&N&&N(F)}},H),h.a.createElement("span",{className:v.a.prithrlist},b&&"leftPanel"!=l&&"task"!=l&&h.a.createElement("span",null,L?h.a.createElement("span",{className:v.a.thrdate},h.a.createElement(I.c,{i18NKey:"support.request.public"})):h.a.createElement("span",{className:v.a.thrdate},h.a.createElement(I.c,{i18NKey:"support.label.private"}))),h.a.createElement("span",{className:v.a.thrdate},h.a.createElement(I.e,{to:Z,format:function(e){var t=e.years,n=e.days,a=e.months;e.hours;return 0==t&&0==n&&0==a?"hh:mm A":0==t&&n<7&&0==a?"ddd DD MMM":0==t&&a>1?"DD MMM":"DD MMM YYYY"},ago:"ago",later:"late"})),U&&"leftPanel"!=l&&h.a.createElement("span",{className:v.a.thrdate+" "+v.a.editTxt,onClick:e.showCommentHistory.bind(e,g),"data-id":"CommentHistory","data-title":I.h.getI18NValue("support.request.history.commented.showhistory")},h.a.createElement(I.c,{i18NKey:"support.request.history.commented.editedtext"})))),h.a.createElement("div",{className:"leftPanel"==l&&v.a.mt12},h.a.createElement("p",{className:v.a.thrdPlain,onClick:e.openMentionAgent,dangerouslySetInnerHTML:{__html:e.replaceMentions(M,V)}})),B&&B.length?h.a.createElement("div",{className:v.a.attachCont,ref:function(t){e.setAttachmentRef(t,g)}},h.a.createElement(k.a,{data:B,downloadAttachment:d,showAttachmentViewer:c,orgId:a,size:"leftPanel"==l?"small":"medium",from:l})):null),h.a.createElement(S.Box,{className:v.a.moreOptions},"leftPanel"!=l&&G&&!x?h.a.createElement("span",{className:v.a.rgt+" "+v.a.more},h.a.createElement(A.a,{objValues:e.constructMoreObj(),moreIcon:z,Icnsize:"16",onSelect:function(t){"Edit"==t?e.editComment(g):"Delete"==t&&s(g)},dataId:"commentMorePoup",listStyle:"alpha"})):null,"leftPanel"!=l&&B&&B.length?h.a.createElement("span",{"data-title":I.h.getI18NValue("support.attachments"),className:v.a.rgt+" "+v.a.posrel,onClick:function(){e.focusOnAttachments(g)}},h.a.createElement("span",{className:v.a.mailicn},h.a.createElement(E.a,{name:"ZD-attachment5",size:"11"})),h.a.createElement("span",{className:v.a.attachCount},B.length)):null))})}}]),t}(h.a.Component));t.a=D,D.propTypes={CommentBoxContainer:g.a.node,closeComment:g.a.func,comments:g.a.array,currentUserId:g.a.string,deleleUpload:g.a.func,deleteComment:g.a.func,departmentId:g.a.string,downloadAttachment:g.a.func,editComment:g.a.func,editedId:g.a.string,focusOnAttachments:g.a.func,from:g.a.string,getThread:g.a.func,hasAttachments:g.a.bool,hasPrivacyMode:g.a.bool,haveCommentDeletePermission:g.a.bool,haveCommentEditPermission:g.a.bool,isAdminUser:g.a.bool,isCommentChanged:g.a.bool,isReadOnly:g.a.bool,name:g.a.string,openAgent:g.a.func,orgId:g.a.string,page:g.a.string,photoURL:g.a.string,renderCommentHistory:g.a.func,revertIsCommentChanged:g.a.func,scrollCont:g.a.object,setIsCommentChanged:g.a.func,showAttachmentViewer:g.a.func,showConfirmBox:g.a.func,showMessage:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func,showCommentHistory:g.a.func}},"./src/components/Subtab/Loading/Loading.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("./src/components/Subtab/Loading/SubtabLoading.module.css"),g=n.n(f),b=n("../components/lib/Layout/index.js"),v=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(b.Container,{alignBox:"row",align:"both",className:g.a.container},h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}),h.a.createElement(b.Box,{className:g.a.dot}))}}]),t}(h.a.Component);t.a=v},"./src/components/Subtab/ThreadAttachments/ThreadAttachments.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/ThreadAttachments/ThreadAttachments.module.css"),v=n.n(b),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=n.n(y),E=n("./src/utils/Attachment.js"),I=n("./src/components/Link/Link.js"),k=n("./src/fz-i18n/index.js"),A=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.orgId,o=t.showAttachmentViewer,s=t.size,r=t.neNeedToDownload,i=t.dataId,l=Object(E.h)(n);return h.a.createElement("div",null,h.a.createElement("div",{className:v.a.AttachCount,"data-id":i},h.a.createElement("span",{className:v.a.mr6},n.length),h.a.createElement("span",null,h.a.createElement(k.c,{i18NKey:n.length>1?"label.attachments":"support.feedback.attachment"})),h.a.createElement("span",{className:v.a.ml6},"(",Object(E.f)(l),")")),n.map(function(t,i){var l=t.name,c=t.downloadUrl,d=t.href,u=t.id,m=t.viewUrl,p=t.size,f=Object(E.l)(l)||Object(E.i)(l);return c=c||d,h.a.createElement("div",{className:v.a.docspan,key:i,onClick:r?null:f?E.b.bind(e,u,n,function(e){o(e)}):E.n.bind(e,m||d,a),"data-id":1===n.length?"threadAttch":"threadAttch_"+i},h.a.createElement("span",{className:v.a.attachment+" "+v.a[s]},h.a.createElement("div",{className:v.a.attachleft},h.a.createElement(C.a,{name:Object(E.d)(l),iconClass:v.a.attachIcon})),h.a.createElement("div",{className:v.a.attachright},h.a.createElement("span",{className:v.a.atatchName,"data-title":l},l),h.a.createElement("span",{className:v.a.attachSize},Object(E.f)(p))),r?null:h.a.createElement(I.a,{target:"_self",href:Object(E.a)(c,a),className:v.a.attachDownload,title:k.h.getI18NValue("support.label.download")},h.a.createElement(C.a,{name:"ZD-downloadNew",iconClass:v.a.downIcon}))))}))}}]),t}(h.a.Component);t.a=A,A.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},A.defaultProps={size:"medium"}},"./src/components/Subtab/ThreadsList/ThreadsList.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(b),y=n("./src/components/Subtab/ThreadsList/ThreadsList.module.css"),C=n.n(y),E=n("./src/components/avatar/AvatarThread/AvatarThread.js"),I=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=n.n(I),A=n("./src/fz-i18n/index.js"),_=n("./src/utils/ChannelIconMapping.js"),j=n("./src/utils/Common.js"),O=n("./src/utils/bind.js"),S=n("./src/constants/index.js"),D=n("./src/components/Subtab/ThreadAttachments/ThreadAttachments.js"),T=n("./src/components/MorePopup/MorePopup.js"),x=n("./src/components/Subtab/zia/SentimentAspects/SentimentAspects.module.css"),N=n.n(x),w=n("../components/lib/DropBox/DropBox.js"),P=n.n(w),z=n("../components/lib/Popup/Popup.js"),R=n.n(z),F=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.sentiment,n=e.aspects,a=e.openPopupOnly,o=e.closePopupOnly,s=e.isPopupOpen,r=e.removeClose,i=Object(j.y)(t),l=i.icon,c=i.name,d=c.toLowerCase(),u="positive"===d?N.a.botPositive:"negative"===d?N.a.botNegative:N.a.botNeutral;return g.a.createElement("div",{className:N.a.container,onMouseEnter:a,onMouseLeave:o,onClick:r},g.a.createElement(k.a,{name:l,iconClass:N.a.iconSize}),s?g.a.createElement(P.a,{isAnimate:!0,size:"mlarge",boxPosition:"bottomRight",isActive:!0,left:"-20",onClick:r},g.a.createElement("div",{className:N.a.pop},g.a.createElement("p",{className:N.a.header},A.h.getI18NValue("support.zia.sentiment.label")),g.a.createElement("p",{className:N.a[l]+" "+N.a.sentiment+" "+u},c),n&&n.length?g.a.createElement(g.a.Fragment,null,g.a.createElement("p",{className:N.a.header},A.h.getI18NValue("support.zia.thread.sentiment.aspects")),g.a.createElement("p",{className:N.a.f12},n.join(", "),".")):null,g.a.createElement("span",{className:N.a.waterMark},g.a.createElement(k.a,{name:l})))):null)}}]),t}(g.a.Component);F.propTypes={aspects:v.a.array,closePopupOnly:v.a.func,isPopupOpen:v.a.bool,openPopupOnly:v.a.func,removeClose:v.a.func,sentiment:v.a.string};var B=R()(F),M=n("./src/components/Subtab/zia/KeyWords/KeyWords.module.css"),V=n.n(M),L=function(e){function t(e){return l()(this,t),m()(this,(t.__proto__||r()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.keyWords,n=e.openPopupOnly,a=e.closePopupOnly,o=e.isPopupOpen,s=e.removeClose;return g.a.createElement("div",{className:V.a.container,onMouseEnter:n,onMouseLeave:a,onClick:s},g.a.createElement(k.a,{iconClass:V.a.hashIcon,name:"ZD-botHash"}),o?g.a.createElement(P.a,{isAnimate:!0,size:"mlarge",boxPosition:"bottomRight",isActive:!0,left:"-20",onClick:s},g.a.createElement("div",{className:V.a.pop},g.a.createElement("div",{className:V.a.posrel},g.a.createElement("p",{className:V.a.header},A.h.getI18NValue("support.zia.thread.keyword.lable")),g.a.createElement("div",{className:V.a.content},t.map(function(e,t){return g.a.createElement("p",{className:V.a.keyword,key:t},e)}))))):null)}}]),t}(g.a.Component);L.propTypes={closePopupOnly:v.a.func,isPopupOpen:v.a.bool,keyWords:v.a.array,openPopupOnly:v.a.func,removeClose:v.a.func};var Z=R()(L),U=n("./src/components/Subtab/AudioMessage/AudioMessage.js"),K=n("./src/components/Subtab/RecipientsInfo/RecipientsInfo.module.css"),H=n.n(K),W=n("../components/lib/Layout/index.js"),q=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"constructEmailList",value:function(e){for(var t=e.split(","),n=[],a=0;a<t.length;a++)n.push(g.a.createElement("span",{className:H.a.mr10,key:a},a==t.length-1?t[a]:t[a]+","));return n}},{key:"render",value:function(){var e=this.props,t=e.from,n=e.to,a=e.cc,o=e.bcc;return g.a.createElement("div",{className:H.a.container},g.a.createElement(W.Container,{alignBox:"row",className:H.a.list,isCover:!1},g.a.createElement(W.Box,{className:H.a.label},A.h.getI18NValue("label.request.from")),g.a.createElement(W.Box,{flexible:!0,className:H.a.value},t)),n?g.a.createElement(W.Container,{alignBox:"row",className:H.a.list},g.a.createElement(W.Box,{className:H.a.label},A.h.getI18NValue("label.request.to")),g.a.createElement(W.Box,{flexible:!0,className:H.a.value},this.constructEmailList(n))):null,a?g.a.createElement(W.Container,{alignBox:"row",className:H.a.list},g.a.createElement(W.Box,{className:H.a.label},A.h.getI18NValue("crm.label.cc.email")),g.a.createElement(W.Box,{flexible:!0,className:H.a.value},this.constructEmailList(a))):null,o?g.a.createElement("div",{className:H.a.list},g.a.createElement("span",{className:H.a.label},A.h.getI18NValue("crm.label.bcc.email")),g.a.createElement("span",{className:H.a.value},this.constructEmailList(o))):null)}}]),t}(f.Component),G=q;q.propTypes={bcc:v.a.string,cc:v.a.string,from:v.a.string,to:v.a.string};var Q=n("./src/utils/DataStorage.js"),$=n("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),Y=n("./src/components/Subtab/alert/DeleteThreadAlertPopup/DeleteThreadAlertPopup.js"),J=n("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),X=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.splitTicket,n=e.moduleMeta,a=e.closeAlert,o=e.isActive,s=e.forwardRef;return g.a.createElement(J.a,{isActive:o,type:"splitTicket",title:A.h.getI18NValue("support.request.alert.split.ticket.header",[n.tickets.singularLabel]),message:A.h.getI18NValue("crm.confirm.split.request",[n.tickets.singularLabel]),submitText:A.h.getI18NValue("support.yes"),cancelText:A.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a,forwardRef:s})}}]),t}(f.Component),ee=X;X.propTypes={closeAlert:v.a.func,forwardRef:v.a.object,isActive:v.a.bool,moduleMeta:v.a.object,splitTicket:v.a.func};var te=n("./src/components/Link/Link.js"),ne=n("./src/components/PortalLayer/PortalLayer.js"),ae=function(e){function t(e){l()(this,t);var n=m()(this,(t.__proto__||r()(t)).call(this,e));n.state={openedThreads:[n.props.latestThreadId],openedQuotedContentThreads:[],isRecipientsOpen:Q.a.getItem("isRecipientsOpen"),recipientsOpenArr:[],recipientsCloseArr:[],openedTruncatedId:[]},n.attachRef={};return O.a.apply(n,["openThread","replyActions","constructMoreObj","toggleRecipients","onContainerCLick","setContentRef","openTruncatedContant","constructDirectionChanellObj","deleteDraftConfirmation","deleteDraft","deleteFailedThreadConfirmation","deleteFailedThread","splitTicketConfirmation","splitTicket","toggleQuotedContent","setAttachmentRef","handlePortalLayer"]),n.onCloseDeleteDraft=n.onClosePopup.bind(n,"DeleteDraft"),n.onCloseDeleteThread=n.onClosePopup.bind(n,"DeleteThread"),n.onCloseSplitTicket=n.onClosePopup.bind(n,"SplitTicket"),n}return h()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){e.latestThreadId!=this.props.latestThreadId&&this.setState({openedThreads:[e.latestThreadId]})}},{key:"setAttachmentRef",value:function(e,t){this.attachRef[t]=e}},{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"openThread",value:function(e,t,n,a){var o=this;"true"==n&&a.stopPropagation();var s=this.state.openedThreads.indexOf(e),r=!1;if(-1==s)t?(this.state.openedThreads.push(e),"true"==n&&(r=!0)):this.props.getThread(e,function(){o.state.openedThreads.push(e),o.setState({openedThreads:o.state.openedThreads},function(){"true"==n&&setTimeout(function(){Object(j.l)(o.props.scrollCont,o.attachRef[e].offsetTop-20)},100)})});else{if("true"==n)return void Object(j.l)(this.props.scrollCont,this.attachRef[e].offsetTop-20);this.state.openedThreads.splice(s,1)}this.setState({openedThreads:this.state.openedThreads},function(){setTimeout(function(){r&&Object(j.l)(o.props.scrollCont,o.attachRef[e].offsetTop-20)},100)})}},{key:"toggleQuotedContent",value:function(e){var t=this.state.openedQuotedContentThreads.indexOf(e);-1==t?this.state.openedQuotedContentThreads.push(e):this.state.openedQuotedContentThreads.splice(t,1),this.setState({openedQuotedContentThreads:this.state.openedQuotedContentThreads})}},{key:"openTruncatedContant",value:function(e){var t=this,n=e.id,a=e.fullContentURL;this.props.getFullContent(a,n).then(function(){t.setState({openedTruncatedId:[].concat(o()(t.state.openedTruncatedId),[n])})})}},{key:"replyActions",value:function(e,t,n,a,o){t=o?t+o:t;var s=this.props,r=s.orgName,i=s.sanitizedDeptName,l=s.moduleMeta,c=s.ticketId,d=s.openJiraForm,u=s.openBugTrackerForm,m=s.bugName,p="";if(a==A.h.getI18NValue("crm.button.reply"))p="FACEBOOK_DM"==n.channel?"facebookDm":"reply";else if(a==A.h.getI18NValue("support.common.request.mail.replyall"))p="replyall";else if(a==A.h.getI18NValue("support.label.thread.forward.title"))p="forward";else if(a==A.h.getI18NValue("crm.post.reply"))"FACEBOOK"==n.channel?p="facebook":"FORUMS"==n.channel?p="forum":"TWITTER"==n.channel?p="twitter":"TWITTER_DM"==n.channel&&(p="twitterDm");else if(a==A.h.getI18NValue("support.common.request.mail.edit.draft"))p="FACEBOOK"==n.channel?"facebook":"FORUMS"==n.channel?"forum":"editDraft";else{if(a==A.h.getI18NValue("support.common.request.mail.discard.draft")){var h=n.actions[0].href;return void this.deleteDraftConfirmation(h,e)}if(a==A.h.getI18NValue("support.label.thread.delete")){var f=n.actions[0].href;return void this.deleteFailedThreadConfirmation(f,e)}if(a==A.h.getI18NValue("support.split.as.new",l.tickets.singularLabel))return void this.splitTicketConfirmation(e);if(a==A.h.getI18NValue("support.integ.jira.file.a.bug"))return void d(n.isDescriptionThread?null:e);if(a==A.h.getI18NValue("support.bug.integ.file",[m]))return void u({type:"bugTracker",ticketId:c,bugName:m,id:n.isDescriptionThread?null:e,threadId:e});if(a==A.h.getI18NValue("support.label.print"))return void window.open(S.x+"/"+r+"/"+i+"/"+l.tickets.sanitizedName+"/details/"+c+"/thread/"+e+"?action=print");if(a==A.h.getI18NValue("support.show.original"))return void window.open(S.x+"/"+r+"/"+i+"/"+l.tickets.sanitizedName+"/details/"+c+"/thread/"+e+"?action=showOriginal&devURL=https://gokul-pt2772.tsi.zohocorpin.com:9090","winName","width=750,height=700");if(a==A.h.getI18NValue("support.mail.label.resend")){var g=n.actions[1].href;return void this.props.resendFailedThread(g,e)}if(a==A.h.getI18NValue("support.common.request.mail.send.draft")){var b=n.to.split(","),v=n.bcc.split(","),y=n.cc.split(","),C=-1==b.concat(y,v).indexOf(this.props.contactEmail);return void this.props.sendDraft(C,function(){},n)}}this.props.openEditor(e,t,n,p)}},{key:"deleteDraftConfirmation",value:function(e,t){this.setState({deleteUrl:e,deleteId:t}),this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){var e=this.state,t=e.deleteUrl,n=e.deleteId;this.props.deleteDraft(t,n),this.onDeleteDraft(!1)}},{key:"deleteFailedThreadConfirmation",value:function(e,t){this.setState({deleteUrl:e,deleteId:t}),this.onDeleteThread(!0)}},{key:"deleteFailedThread",value:function(){var e=this.state,t=e.deleteUrl,n=e.deleteId;this.props.deleteFailedThread(t,n),this.onDeleteThread(!1)}},{key:"splitTicketConfirmation",value:function(e){this.setState({splitThreadId:e}),this.onSplitTicket(!0)}},{key:"splitTicket",value:function(){var e=this.state.splitThreadId;this.props.splitTicket(e),this.onSplitTicket(!1)}},{key:"onClosePopup",value:function(e){this["on"+e](!1),this.setState({deleteId:null,deleteUrl:null,splitThreadId:null})}},{key:"constructMoreObj",value:function(e){var t=this.props,n=t.haveMailSendPermission,a=t.haveJiraBugCreatePer,o=t.haveBugCreatePer,s=t.bugName,r=t.haveForWardPermissionOnly,i=t.isReadOnly,l=t.isSpam,c=t.threadCount,d="in"==e.direction&&!e.isDescriptionThread&&!r&&1!=parseInt(c),u=!n||i||l?[]:[{name:A.h.getI18NValue("crm.button.reply"),iconName:"ZD-reply",size:"12"},{name:A.h.getI18NValue("support.common.request.mail.replyall"),iconName:"ZD-replyall",size:"12"},{name:A.h.getI18NValue("support.label.thread.forward.title"),iconName:"ZD-forward",size:"12"}];if(u=r?[u[2]]:u,"DRAFT"!=e.status||l?"FAILED"!=e.status||l?"FACEBOOK"!=e.channel&&"FACEBOOK_DM"!=e.channel&&"TWITTER"!=e.channel&&"TWITTER_DM"!=e.channel&&"FORUMS"!=e.channel||l||(u=!n||r||i?[]:[{name:"FACEBOOK_DM"==e.channel?A.h.getI18NValue("crm.button.reply"):A.h.getI18NValue("crm.post.reply"),iconName:"ZD-reply",size:"12"}]):u=n&&!i?[{name:A.h.getI18NValue("support.mail.label.resend"),iconName:"ZD-zdresend",size:"15"},{name:A.h.getI18NValue("support.label.thread.delete"),iconName:"ZD-close1",size:"15"}]:[]:(u=n&&!i?[{name:A.h.getI18NValue("support.common.request.mail.edit.draft"),iconName:"ZD-editdDraft",size:"16"},{name:A.h.getI18NValue("support.common.request.mail.discard.draft"),iconName:"ZD-draftDelete",size:"16"},{name:A.h.getI18NValue("support.common.request.mail.send.draft"),iconName:"ZD-replyDraft",size:"16"}]:[],u=r?[u[0]]:u),"FAILED"!=e.status){var m=[{name:A.h.getI18NValue("support.show.original"),iconName:"ZD-originalView",size:"16"},{name:A.h.getI18NValue("support.label.print"),iconName:"ZD-printing2",size:"16"}];!d||i||l||m.splice(0,0,{name:A.h.getI18NValue("support.split.as.new",this.props.moduleMeta.tickets.singularLabel),iconName:"ZD-splitNew",size:"16"}),!a||"DRAFT"==e.status||i||l||m.splice(d?1:0,0,{name:A.h.getI18NValue("support.integ.jira.file.a.bug"),iconClass:C.a.jiraIcon}),!o||"DRAFT"==e.status||i||l||m.splice(d?1:0,0,{name:A.h.getI18NValue("support.bug.integ.file",[s]),iconName:"ZD-buginfo",size:"14"}),u=u.concat(m)}return u}},{key:"toggleRecipients",value:function(e){var t=this.state,n=t.recipientsCloseArr,a=t.recipientsOpenArr;t.isRecipientsOpen?n.includes(e)?this.setState({recipientsCloseArr:this.state.recipientsCloseArr.filter(function(t){return t!==e})}):this.setState({recipientsCloseArr:[].concat(o()(this.state.recipientsCloseArr),[e])}):a.includes(e)?this.setState({recipientsOpenArr:this.state.recipientsOpenArr.filter(function(t){return t!==e})}):this.setState({recipientsOpenArr:[].concat(o()(this.state.recipientsOpenArr),[e])}),Q.a.getItem("isRecipientsOpen")?Q.a.setItem("isRecipientsOpen",!1):Q.a.setItem("isRecipientsOpen",!0)}},{key:"setContentRef",value:function(e){this.contentRef=e}},{key:"onContainerCLick",value:function(e){if("IMG"==e.target.tagName){for(var t=[],n=0,a=this.contentRef.querySelectorAll("img"),o=0;o<a.length;o++)t.push({viewUrl:a[o].src,index:o}),e.target==a[o]&&(n=o);this.props.showAttachmentViewer({previewData:t,selectedIndex:n})}}},{key:"constructDirectionChanellObj",value:function(e){var t=e.channel,n=e.direction,a=e.status,o=e.isForward,s="ZD-chEmailOut",r=A.h.getI18NValue("support.label.thread.outgoing.email.title");return"FEEDBACK"==t?s="ZD-chFeedback":"DRAFT"==a?(s="ZD-chEmailDft",r=A.h.getI18NValue("support.label.thread.support.draft.title")):o?(s="ZD-chEmailFwd",r=A.h.getI18NValue("support.common.request.mail.forward")):"in"==n&&(s="ZD-chEmailIn",r=A.h.getI18NValue("support.label.thread.incoming.email.title")),{iconName:s,title:r}}},{key:"render",value:function(){var e=this,t=this.props,n=t.threads,a=t.orgName,o=t.showAttachmentViewer,s=t.widgets,r=t.selectedWidgetId,i=t.onWidgetScroll,l=t.onWidgetSelect,c=t.ticketChannel,d=t.moduleMeta,u=t.customChannelsInfo,m=t.openAgent,p=this.state,h=p.openedThreads,f=p.openedQuotedContentThreads,b=p.isRecipientsOpen,v=p.recipientsOpenArr,y=p.recipientsCloseArr,I=p.openedTruncatedId,O=(p.alertMode,g.a.createElement(k.a,{name:"ZD-more",iconClass:C.a.iconSize}));return g.a.createElement("div",null,n.map(function(t){var n=t.id,d=t.author,p=t.createdTime,S=t.direction,x=t.status,N=t.channel,w=t.isForward,P=t.content,z=t.visibility,R=t.channelRelatedInfo,F=t.hasAttach,M=t.attachmentCount,V=t.from,L=t.to,K=t.cc,H=t.bcc,q=t.summary,Q=t.attachments,$=t.sentiment,Y=t.aspects,J=t.keyWords,X=t.isContentTruncated,ee=t.isDescriptionThread,ne=t.source,ae=t.quotedContent,oe=ne&&"INTEGRATION"==ne.type;oe||(oe=u[N]&&"INTEGRATION"==u[N].type,ne=u[N]),p=A.h.userDateFormat(new Date(p),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}),S="DRAFT"==x?"dft":"FAILED"==x?"failed":"FEEDBACK"==N?"feedback":w?"fwd":S;var se=Object(_.b)(S),re=-1!=h.indexOf(n),ie=-1==I.indexOf(n)&&X,le=d.email,ce=d.name,de=d.photoURL,ue=d.type,me=d.id,pe='"'+ce+'"'+(le=le?" < "+le+" > ":""),he=b;"Forums"==c?he=!1:y.includes(n)?he=!1:v.includes(n)&&(he=!0);var fe=c.toLowerCase()!=N.toLowerCase()&&!ee&&"OFFLINE_CHAT"!=N&&"ONLINE_CHAT"!=N,ge=e.constructDirectionChanellObj(t),be=-1!=f.indexOf(n),ve=ne||{},ye=ve.permalink,Ce=ve.appName;return g.a.createElement("div",{className:(re?C.a.bgWhite:"")+" "+C.a.threadList,key:n,id:n,"data-id":"ThreadDiscrip"},g.a.createElement("div",{className:C.a.cleft},g.a.createElement(E.a,{src:de,name:ce,size:"xmedium",iconName:se.icon,borderPalette:se.bordercolor,iconColor:se.color,iconSize:se.size,onClick:function(){"AGENT"==ue&&m&&m(me)}})),g.a.createElement("div",{className:C.a.cright,onClick:e.onContainerCLick,ref:e.setContentRef},g.a.createElement("div",{className:C.a.poiter},g.a.createElement(W.Container,{alignBox:"row",align:"vertical",isCover:!1,onClick:e.openThread.bind(e,n,P)},g.a.createElement(W.Box,null,g.a.createElement(W.Container,{alignBox:"row",align:"vertical"},g.a.createElement(W.Box,{className:C.a.tname,"data-title":ce,onClick:function(){"AGENT"==ue&&m&&m(me)}},ce),$?g.a.createElement(W.Box,null,g.a.createElement(B,{sentiment:$,aspects:Y})):null,g.a.createElement(W.Box,{className:C.a.prithrlist},g.a.createElement(W.Container,{alignBox:"row",align:"vertical"},"DRAFT"==x?g.a.createElement("span",{className:C.a.draftText},A.h.getI18NValue("support.history.operation.label.draft")," ","@"):"private"==z?g.a.createElement("span",{className:C.a.thrdate},A.h.getI18NValue("support.department.type.internal")," ","."):R&&R.isDeleted?g.a.createElement("span",{className:C.a.thrdate,"data-title":A.h.getI18NValue("support.forums.deletedinforums")},A.h.getI18NValue("support.community.tickettopic.responsedeleted")," ","."):null,g.a.createElement("span",{className:C.a.thrdate},p),R&&R.isBestSolution?g.a.createElement("span",{className:C.a.thrdate+" "+C.a.bestAns},A.h.getI18NValue("support.badgification.badge.creditname.postbestanswer")):null,oe?g.a.createElement("span",{className:C.a.viaChannel,"data-title":N},A.h.getI18NValue("support.common.request.channel.integ.via")," ",ye?g.a.createElement(te.a,{className:C.a.channelName,href:ye,target:"_blank"},Ce):Ce):null,"Forums"!=c?g.a.createElement("span",{className:C.a.recipientsCont+" "+(he?"":C.a.recipientsHide),onClick:function(t){t.stopPropagation(),e.toggleRecipients(n)},"data-title":he?A.h.getI18NValue("crm.button.hide.recipients"):A.h.getI18NValue("crm.button.show.recipients")},g.a.createElement(k.a,{name:"ZD-down",iconClass:C.a.iconDown})):null)),J?g.a.createElement(W.Box,{className:C.a.keyWord},g.a.createElement(Z,{keyWords:J})):null)),g.a.createElement(W.Box,{flexible:!0},g.a.createElement(W.Container,{className:C.a.rightMore,alignBox:"row",align:"vertical"},fe?g.a.createElement(W.Box,{className:C.a.otherChanell},g.a.createElement(k.a,{name:ge.iconName,title:ge.title})):null,F?g.a.createElement(W.Box,{className:" "+C.a.posrel,onClick:e.openThread.bind(e,n,P,"true"),"data-title":A.h.getI18NValue("support.attachments")},g.a.createElement("span",{className:C.a.mailicn},g.a.createElement(k.a,{name:"ZD-attachment5"})),g.a.createElement("span",{className:C.a.attachmentCount},M)):null,g.a.createElement(W.Box,{className:C.a.more},g.a.createElement(T.a,{objValues:e.constructMoreObj(t),onSelect:function(a){e.replyActions(n,P,t,a,ae)},size:"small",moreIcon:O,Icnsize:"16",listStyle:"alpha",widgets:s,selectedWidgetId:r,onWidgetScroll:i,onWidgetSelect:l}))))),he?g.a.createElement(G,{from:oe?V:pe,to:L,cc:K,bcc:H}):null,g.a.createElement("div",{onClick:e.openThread.bind(e,n,P)},!re&&"TWILIO"!=N&&"TELEPHONY"!=N&&g.a.createElement("p",{className:C.a.thrdPlain,dangerouslySetInnerHTML:{__html:Object(j.k)(q)}}))),re&&("TWILIO"!=N&&"TELEPHONY"!=N||!Object(j.I)(P)?g.a.createElement("span",null,g.a.createElement("p",{className:C.a.thrdPlain+" "+C.a.quotedContent,dangerouslySetInnerHTML:{__html:P},onMouseOver:function(e){e.stopPropagation()}}),ie?g.a.createElement("div",{className:C.a.cntntOvrLd},g.a.createElement("span",{className:C.a.cntntOvrLdSpn},"["," ",A.h.getI18NValue("support.label.threads.truncated")," ","]"),g.a.createElement("span",{className:C.a.cntOvrLdLnk,onClick:e.openTruncatedContant.bind(e,t)},A.h.getI18NValue("support.label.threads.showfullcont"))):null,ae?g.a.createElement(k.a,{name:"ZD-zdeskEllipsis",iconClass:C.a.quotedIcon+" "+(be?C.a.isOpened:""),onClick:e.toggleQuotedContent.bind(e,n)}):null,be?g.a.createElement("p",{className:C.a.thrdPlain+" "+C.a.quotedContent,dangerouslySetInnerHTML:{__html:ae},onMouseOver:function(e){e.stopPropagation()}}):null):g.a.createElement(U.a,{thread:t}))),Q&&Q.length&&re?g.a.createElement("div",{className:C.a.attachCont,ref:function(t){e.setAttachmentRef(t,n)}},g.a.createElement(D.a,{data:Q,downloadAttachment:e.props.downloadAttachment,showAttachmentViewer:o,orgName:a,dataId:"attachList_"+n})):null)}),g.a.createElement(ne.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},g.a.createElement($.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})),g.a.createElement(ne.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteThread"},g.a.createElement(Y.a,{closeAlert:this.onCloseDeleteThread,deleteThread:this.deleteFailedThread})),g.a.createElement(ne.a,{saveUpdateFunction:this.handlePortalLayer,name:"SplitTicket"},g.a.createElement(ee,{closeAlert:this.onCloseSplitTicket,splitTicket:this.splitTicket,moduleMeta:d})))}}]),t}(g.a.Component);t.a=ae;ae.propTypes={bugName:v.a.string,contactEmail:v.a.string,deleteDraft:v.a.func,deleteFailedThread:v.a.func,downloadAttachment:v.a.func,getFullContent:v.a.func,getThread:v.a.func,haveBugCreatePer:v.a.bool,haveForWardPermissionOnly:v.a.bool,haveJiraBugCreatePer:v.a.bool,haveMailSendPermission:v.a.bool,isReadOnly:v.a.bool,isSpam:v.a.bool,latestThreadId:v.a.string,moduleMeta:v.a.object,onWidgetScroll:v.a.func,onWidgetSelect:v.a.func,openBugTrackerForm:v.a.func,openEditor:v.a.func,openJiraForm:v.a.func,orgName:v.a.string,resendFailedThread:v.a.func,sanitizedDeptName:v.a.string,scrollCont:v.a.object,selectedWidgetId:v.a.string,sendDraft:v.a.func,showAttachmentViewer:v.a.func,splitTicket:v.a.func,threads:v.a.array,ticketChannel:v.a.string,ticketId:v.a.string,widgets:v.a.array}},"./src/components/Subtab/TicketCloseButton/TicketCloseButton.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/TicketCloseButton/TicketCloseButton.module.css"),v=n.n(b),y=n("../components/lib/Layout/index.js"),C=n("../components/lib/Switch/Switch.js"),E=n.n(C),I=n("./src/fz-i18n/index.js"),k=n("../components/lib/Button/Button.js"),A=n.n(k),_=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.closeTicket,n=e.reOpenTicket,a=e.isSpam,o=e.isClosed,s=e.isOnHold,r=e.notSpam,i=e.moduleName,l=e.haveCloseTicketPermission,c=e.isCancel,d=e.onClick,u=e.isCloserNotificationEnable,m=e.toggleCloserNotification,p=!1;l||o||s||(p=!0);var f=u?I.h.getI18NValue("support.survey.lable.last.notification.disable",[i]):I.h.getI18NValue("support.survey.lable.last.notification.enable",[i]);return h.a.createElement(y.Container,{alignBox:"row",align:"vertical",className:v.a.container},c||a||p||o||s?null:h.a.createElement(y.Box,{className:v.a.switch,"data-title":f},h.a.createElement(E.a,{id:"notification",checked:u,onChange:m,dataId:"switch"})),h.a.createElement(y.Box,{flexible:!0},a?h.a.createElement(A.a,{className:v.a.spamButton,onClick:r,needAppearance:!1,dataId:"spamSendButton"},I.h.getI18NValue("support.not.spam")):p?c?h.a.createElement(A.a,{className:v.a.cancelButton,onClick:d,needAppearance:!1,dataId:"CancelBtn"},I.h.getI18NValue("support.label.cancel")):null:h.a.createElement(A.a,{className:v.a.blueBtn,onClick:o||s?n:t,dataId:o||s?"reopen-ticket":"close-ticket",needAppearance:!1},o||s?I.h.getI18NValue("support.label.reopen.req",[i]):I.h.getI18NValue("support.common.set.close.entity",[i]))))}}]),t}(h.a.Component);t.a=_,_.propTypes={closeTicket:g.a.func,haveCloseTicketPermission:g.a.bool,isCancel:g.a.bool,isClosed:g.a.bool,isCloserNotificationEnable:g.a.bool,isOnHold:g.a.bool,isSpam:g.a.bool,moduleName:g.a.string,notSpam:g.a.func,onClick:g.a.func,reOpenTicket:g.a.func,toggleCloserNotification:g.a.func}},"./src/components/Subtab/UploadList/UploadList.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/UploadList/UploadList.module.css"),v=n.n(b),y=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=n.n(y),E=n("./src/components/Image/Image.js"),I=n("../components/lib/Layout/index.js"),k=n("./src/utils/Attachment.js"),A=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.constructPreviewData=n.constructPreviewData.bind(n),n}return m()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,n=e.indexOf("/api"),a=e.slice(n,e.length);return a+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,n=t.oldAttachments,a=t.newAttachments,o=t.showAttachmentViewer,s=n.length?n.concat(a):a;Object(k.b)(e,s,function(e){o(e)})}},{key:"constructAttachItem",value:function(e,t){var n=e.id,a=e.isPreview,o=e.viewUrl,s=e.href,r=e.name,i=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,u=d.deleleUpload,m=d.removeAttachment,p=o||(a?s:this.constructImgURL(s)),f=Object(k.i)(r),g=Object(k.l)(r)||f,b=Object(k.f)(i),y=Object(k.d)(r),I=g?r+" - ("+b+")":r;return h.a.createElement("div",{className:v.a.upload+" "+(f?v.a.isAudio:"")+" "+(a?v.a.preview:""),"data-title":I},a?h.a.createElement("div",{className:v.a.loader,style:{width:c+"%"}}):null,g?h.a.createElement(E.a,{onClick:!a&&this.constructPreviewData.bind(this,n),src:p,className:v.a.uploadimage+" ",alt:"Uploaded Image"}):h.a.createElement("div",{className:v.a.attachInfo,onClick:this.openNewTab.bind(this,p)},h.a.createElement(C.a,{name:y,iconClass:v.a.fileIcon}),h.a.createElement("span",{className:v.a.attachsize},b)),a?null:h.a.createElement("span",{className:v.a.uploadclose,onClick:a?null:"new"==t?u.bind(this,n):m.bind(this,n),"data-id":"deleteUpload"},h.a.createElement(C.a,{name:"ZD-close"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.oldAttachments,a=t.newAttachments,o=t.from,s=t.isPeekView,r=v.a.attachList;return"leftPanel"==o?r+=" ":"replyEdtior"==o&&(r=s?r+" "+v.a.peekReplyAttach:r+" "+v.a.replyAttach),n&&n.length||a&&a.length?h.a.createElement(I.Container,{alignBox:"row",scroll:"horizontal",className:r,dataId:"attachmentList"},n&&n.length?n.map(function(t,n){return h.a.createElement(I.Box,{key:n},e.constructAttachItem(t,"old"))}):null,a&&a.length?a.map(function(t,n){return h.a.createElement(I.Box,{key:n,dataId:t.name.toLowerCase().replace(".","_")},e.constructAttachItem(t,"new"))}):null):null}}]),t}(h.a.Component);t.a=A,A.propTypes={data:g.a.object,deleleUpload:g.a.func,from:g.a.string,isPeekView:g.a.bool,newAttachments:g.a.array,oldAttachments:g.a.array,orgId:g.a.string,removeAttachment:g.a.func,showAttachmentViewer:g.a.func}},"./src/components/Subtab/UploadPopup/UploadPopup.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("../components/lib/DropBox/DropBox.js"),v=n.n(b),y=n("../components/lib/ListItem/ListItemWithIcon.js"),C=n.n(y),E=n("./src/fz-i18n/index.js"),I=n("./src/components/Subtab/UploadPopup/UploadPopup.css"),k=n.n(I),A=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,n=e.bottom,a=e.left,o=e.onAttchClick,s=e.openCloudAttach,r=e.labelName;return h.a.createElement(v.a,{size:"small",boxPosition:t,isActive:!0,bottom:n,left:a},h.a.createElement("label",{htmlFor:r},h.a.createElement(C.a,{autoHover:!0,value:E.h.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"ZD-emptyfle",dataId:"fileAttach"}),h.a.createElement("input",{className:k.a.fileCont,type:"file",multiple:"multiple",id:r,onChange:o})),h.a.createElement(C.a,{autoHover:!0,value:E.h.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"ZD-cloudicn",onClick:s,dataId:"cloudAttach"}))}}]),t}(p.Component);t.a=A,A.propTypes={bottom:g.a.string,boxPosition:g.a.string,labelName:g.a.string,left:g.a.string,onAttchClick:g.a.func,openCloudAttach:g.a.func}},"./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js":function(e,t,n){"use strict";var a,o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(o),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(r),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=n.n(l),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=n.n(d),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=n.n(m),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=n.n(h),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=n.n(g),v=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(v),C=n("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),E=n("./src/fz-i18n/index.js"),I=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||i()(t)).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteDraft,n=e.closeAlert,a=e.isActive,o=e.forwardRef;return b.a.createElement(C.a,{isActive:a,title:E.h.getI18NValue("support.request.alert.discard.draft.header"),message:E.h.getI18NValue("crm.confirm.discard.draft"),submitText:E.h.getI18NValue("support.yes"),cancelText:E.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:n,forwardRef:o})}}]),t}(g.Component);t.a=I,I.propTypes=(a={deleteDraft:y.a.func,forwardRef:y.a.object},s()(a,"forwardRef",y.a.object),s()(a,"isActive",y.a.bool),s()(a,"isActive",y.a.bool),s()(a,"moduleMeta",y.a.object),a)},"./src/components/Subtab/alert/DeleteThreadAlertPopup/DeleteThreadAlertPopup.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),v=n("./src/fz-i18n/index.js"),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteThread,n=e.closeAlert,a=e.isActive,o=e.forwardRef;return h.a.createElement(b.a,{isActive:a,title:v.h.getI18NValue("support.history.operation.label.wfalert"),message:v.h.getI18NValue("support.failedmail.remove"),submitText:v.h.getI18NValue("crm.button.delete"),cancelText:v.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:n,forwardRef:o})}}]),t}(p.Component);t.a=y,y.propTypes={deleteThread:g.a.func,forwardRef:g.a.object,isActive:g.a.bool,moduleMeta:g.a.object}},"./src/components/Subtab/collision/collisionAlert/CollisionReplyAlert/CollisionReplyAlert.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/Subtab/collision/collisionAlert/collisionAlert.module.css"),v=n.n(b),y=n("./src/components/FreezeLayer/FreezeLayer.js"),C=n("../components/lib/Avatar/Avatar.js"),E=n.n(C),I=n("../components/lib/Button/Button.js"),k=n.n(I),A=n("./src/fz-i18n/index.js"),_=n("./src/utils/Common.js"),j=n("./src/utils/bind.js"),O=n("./src/components/PortalLayer/PortalLayer.js"),S=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return j.a.apply(n,["documentKeyupHandler"]),n}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,n=t.replyConfirm,a=t.closeAlert;27===e.keyCode?a():13===e.keyCode&&n()}},{key:"render",value:function(){var e=this.props,t=e.agents,n=e.replyingUsers,a=e.replyConfirm,o=e.closeAlert,s=e.isFromReplyEditor;return h.a.createElement(O.a,{initialState:!0},h.a.createElement(y.a,{align:"both",animationName:"fade",runOnMount:!0},h.a.createElement("div",{className:v.a.popup},h.a.createElement("div",{className:v.a.header},n.map(function(e,n){var a=t[e.agentId];return h.a.createElement("span",{key:n,className:v.a.user},h.a.createElement(E.a,{size:"large",src:a.photoURL,name:a.name||Object(_.e)(a.firstName,a.lastName)}))}),h.a.createElement("p",{className:v.a.information},n.map(function(e,a){var o=t[e.agentId];return a+=1,h.a.createElement("span",{className:v.a.name,key:a},h.a.createElement("span",null,o.name||Object(_.e)(o.firstName,o.lastName)),a===n.length-1?n.length>1?h.a.createElement("span",{className:v.a.name},A.h.getI18NValue("and")):null:a!==n.length?h.a.createElement("span",null,","):null)}),h.a.createElement("span",null," ",s?A.h.getI18NValue("support.label.collision.detection.newagent.replying"):n.length>1?A.h.getI18NValue("support.label.collision.detection.agent.replying",[A.h.getI18NValue("are")]):A.h.getI18NValue("support.label.collision.detection.agent.replying",[A.h.getI18NValue("is")])))),h.a.createElement("div",{className:v.a.footer},h.a.createElement("div",{className:v.a.footerTitle},A.h.getI18NValue("support.label.collision.detection.agent.reply.question")),h.a.createElement("div",null,h.a.createElement(k.a,{text:A.h.getI18NValue("support.yes"),size:"Medium",palette:"primaryFilled",onClick:a}),h.a.createElement("span",{className:v.a.lastButton},h.a.createElement(k.a,{text:A.h.getI18NValue("support.no"),size:"Medium",palette:"secondary",onClick:o})))))))}}]),t}(h.a.Component);t.a=S,S.propTypes={agents:g.a.object,closeAlert:g.a.func,isFromReplyEditor:g.a.bool,replyConfirm:g.a.func,replyingUsers:g.a.array}},"./src/components/TextEditor/TextEditor.js":function(e,t,n){"use strict";(function(e){var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),C=n.n(y),E=n("../components/lib/Layout/index.js"),I=n("./src/utils/editorUtils.js"),k=n("./src/utils/bind.js"),A=(n("./src/components/TextEditor/ZohoDeskEditor_Init.js"),n("./src/components/TextEditor/TextEditor.module.css")),_=n.n(A),j=function(t){function n(e){d()(this,n);var t=h()(this,(n.__proto__||l()(n)).call(this,e));t.state={isEditorLoad:!1};return k.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return g()(n,t),m()(n,[{key:"componentDidMount",value:function(){var t=this.props,n=t.id,a=t.value,o=t.editorMode,s=void 0===o?"":o,i=t.editorOptions,l=void 0===i?{}:i,c=t.needEditorFocus,d=void 0===c||c,u=t.mode;if(n&&e.ZohoDeskEditor){var m={id:n,content:a,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:u};m=r()(m,l),ZohoDeskEditor_Init.init(s),ZohoDeskEditor.create&&ZohoDeskEditor.create(m)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.id,a=t.chageEditorContent;t.value;e.isEmptyContent&&editor[n]&&editor[n].setContent(""),e.chageEditorContent!=a&&e.chageEditorContent&&void 0!==a&&editor[n].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,n=e.id,a=editor[n]?editor[n]:{},o=a.getContent?a.getContent():"";Object(I.a)(a)||(o=""),o="plaintext"===a.mode?Object(I.b)(o):o,t&&t(o.trim(),n)}},{key:"editorCallback",value:function(t){var n=this.props.editorCallback;this.setState({isEditorLoad:!0});var a=this.props.id;e.editor=e.editor||{},editor[a]||(editor[a]=t),n&&n(t)}},{key:"handleInlineUpload",value:function(e,t,n,a,o){this.handleUpload(e).then(function(e){var n={};n[0]={url:e,desc:o},t(n,a)},function(){n(a)})}},{key:"handleDropUpload",value:function(e,t,n){this.handleUpload(e).then(function(e){t(e)},function(){n()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,n,a){var o=void 0;"blob"===t?o=e:(o=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(o).then(function(e){n(e)},function(){a()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var n=new FormData;return n.append("file",e),t(n).then(function(e){var t=e.data||{},n=t.data,a=t.orgId,o=n||{},s=o.id,r=o.href;if(s)return r+"?orgId="+a;throw{}},function(e){throw e})}catch(e){return o.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.dataId,a=e.type,o=e.border,s=this.state.isEditorLoad;return v.a.createElement(E.Container,{className:_.a.textEditor+" "+_.a[a]+" "+_.a[o],dataId:n},!s&&v.a.createElement("div",{className:_.a.stencillist9},v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading}),v.a.createElement("div",{className:_.a.stencilLoading})),v.a.createElement(E.Box,{flexible:!0,id:t,dataId:n}))}}]),n}(b.Component);t.a=j,j.defaultProps={type:"large",border:"borderTop"},j.propTypes={blurCallback:C.a.func,chageEditorContent:C.a.bool,dataId:C.a.string,editorCallback:C.a.func,editorMode:C.a.string,editorOptions:C.a.object,id:C.a.string,mode:C.a.string,needEditorFocus:C.a.bool,onChange:C.a.func,onFocus:C.a.func,onUpload:C.a.func,value:C.a.string,type:C.a.oneOf(["large","xlarge","medium","small","mini"]),border:C.a.oneOf(["borderTop","borderAll","borderNone"])}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/TextEditor/ZohoDeskEditor_Init.js":function(e,t,n){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0,ZohoDeskEditor_Init.retainOldList=!0;var n=window.location.protocol,a="",o="com",s="",r=".zohostatic.";"US".indexOf("SKY")>-1&&(r=".skydeskstatic.",o="jp"),"US".indexOf("RO")>-1&&(s="-ro"),["LOC","DEV"].indexOf("US")>-1&&(a="local"),ZohoDeskEditor_Init.jsurl=n+"//"+a+"localjs"+s+r+o+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=n+"//"+a+"localcss"+s+r+o+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=n+"//"+a+"localimg"+s+r+o+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var i=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,i(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),i(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",i(6))}}).call(this,n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/avatar/AvatarThread/AvatarThread.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/avatar/AvatarThread/AvatarThread.module.css"),v=n.n(b),y=n("../components/lib/Avatar/Avatar.js"),C=n.n(y),E=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),I=n.n(E),k=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,o=e.iconColor,s=e.iconName,r=e.iconSize,i=e.borderPalette,l=e.onClick,c=e.title,d=e.iconTitle,u=e.onIconClick,m=e.showOnHover,p=e.dataId,f=m?v.a.hover:"";return h.a.createElement("div",{className:v.a.container+" "+f},h.a.createElement(C.a,{src:t,name:n,title:c,size:a,onClick:l,dataId:p}),s&&h.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+i],"data-title":d,"data-id":"Remove Follower"===d&&"removeFollower",onClick:u},h.a.createElement("span",{className:v.a.icon},h.a.createElement(I.a,{name:s,size:r,iconClass:v.a["text_"+o]?v.a["text_"+o]:o}))))}}]),t}(h.a.Component);t.a=k,k.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},k.propTypes={borderPalette:g.a.oneOfType([g.a.string,g.a.bool]),iconColor:g.a.string,iconName:g.a.oneOfType([g.a.string,g.a.bool]),iconSize:g.a.oneOfType([g.a.string,g.a.bool]),iconTitle:g.a.string,name:g.a.string,onClick:g.a.func,onIconClick:g.a.func,showOnHover:g.a.bool,size:g.a.string,src:g.a.string,title:g.a.string}},"./src/components/lookup/Lookup/Lookup.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/FreezeLayer/FreezeLayer.js"),v=n("../components/lib/Layout/index.js"),y=n("./src/components/lookup/Lookup/Lookup.module.css"),C=n.n(y),E=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.elementMedia,a=e.children,o=e.size,s=e.dataId,r=e.forwardRef;return h.a.createElement(b.a,{align:"horizontal",animationName:"fade",childAnimationName:"flyDown",isActive:t,palette:"snow",forwardRef:r},h.a.createElement(v.ResponsiveContainer,{alignBox:"row",className:C.a.container,dataId:"fldValue",elementMedia:n},h.a.createElement("div",{className:C.a.box+" "+C.a["size_"+o],"data-id":s},a)))}}]),t}(p.Component);t.a=E,E.propTypes={children:g.a.node,dataId:g.a.string,elementMedia:g.a.object,isActive:g.a.bool,size:g.a.oneOf(["small","medium"])},E.defaultProps={size:"medium"}},"./src/components/lookup/Section/Section.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("../components/lib/Layout/index.js"),v=n("./src/components/lookup/Section/LookupSection.module.css"),y=n.n(v),C=function(e){function t(e){return r()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alignBox,n=e.className;return h.a.createElement(b.Container,{alignBox:t,className:y.a.section+" "+(n||"")},h.a.createElement(b.Box,{flexible:!0},this.props.children))}}]),t}(p.Component);t.a=C,C.propTypes={alignBox:g.a.string,children:g.a.node,className:g.a.string},C.defaultProps={}},"./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/Lookup/Lookup.js"),v=n("./src/components/lookup/alert/header/AlertHeader/AlertHeader.js"),y=n("../components/lib/Button/Button.js"),C=n.n(y),E=n("./src/components/lookup/Section/Section.js"),I=n("./src/components/FormAction/FormAction.js"),k=n("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.module.css"),A=n.n(k),_=(n("./src/constants/index.js"),function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e));return n.documentKeydownHandler=n.documentKeydownHandler.bind(n),n.getButtonRef=n.getButtonRef.bind(n),n}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.documentKeydownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.documentKeydownHandler)}},{key:"documentKeydownHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.onSubmitClick,a=t.onCancelClick,o=t.isActive;27===e.keyCode&&o?a&&a(e):13===e.keyCode&&o&&n&&n(e)}},{key:"getButtonRef",value:function(e){this.okButton=e,this.props.isDefaultFocus&&e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.palette,a=e.size,o=e.type,s=e.title,r=e.message,i=e.confirmationMessage,l=e.submitText,c=e.cancelText,d=e.onSubmitClick,u=e.onCancelClick,m=e.children,p=e.forwardRef;return h.a.createElement(b.a,{isActive:t,size:a,dataId:"alertPopup",forwardRef:p},h.a.createElement(v.a,{title:s,palette:n,iconType:o}),h.a.createElement(E.a,{alignBox:"row",className:A.a.section},h.a.createElement("div",{className:A.a.innerSection},m||h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),i&&h.a.createElement("div",{className:A.a.text},i))),h.a.createElement(I.c,{size:"small",paddingLeftSize:"xsmall"},h.a.createElement(C.a,{text:l,dataId:"alertConfirmButton",onClick:d,palette:"primary"===n?"primaryFilled":"dangerFilled",getRef:this.getButtonRef}),c&&h.a.createElement(C.a,{dataId:"alertCancelButton",text:c,onClick:u,palette:"secondary"}))))}}]),t}(p.Component));t.a=_,_.propTypes={cancelText:g.a.string,children:g.a.node,confirmationMessage:g.a.string,forwardRef:g.a.object,isActive:g.a.bool,isDefaultFocus:g.a.bool,message:g.a.string,onCancelClick:g.a.func,onSubmitClick:g.a.func,palette:g.a.oneOf(["default","primary","danger"]),size:g.a.oneOf(["small","medium"]),submitText:g.a.string,title:g.a.string,type:g.a.oneOf(["delete","alert","remoteAssist","splitTicket"])},_.defaultProps={isActive:!1,palette:"danger",size:"small",type:"alert"}},"./src/components/lookup/alert/header/AlertHeader/AlertHeader.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/header/Title/Title.js"),v=n("../components/lib/Layout/index.js"),y=n("./src/components/lookup/alert/header/AlertHeader/AlertHeader.module.css"),C=n.n(y),E=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),I=n.n(E),k=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.palette,a=e.needIcon,o=e.iconType;return h.a.createElement(v.ResponsiveContainer,{align:"vertical",alignBox:"row",className:C.a.container+" "+C.a[n],elementMedia:{xs:""+C.a.extraSmall},isCover:!1,wrap:"wrap"},a?h.a.createElement("div",{className:C.a.iconContainer},h.a.createElement(I.a,{name:{delete:"ZD-socialDelete",alert:"ZD-exclamationThincircle",remoteAssist:"ZD-taskDemo",splitTicket:"ZD-splitNew",update:"ZD-update"}[o],iconClass:C.a.iconStyle+" "+C.a["icon_"+o]+" "+C.a["text_"+n]})):null,h.a.createElement(v.Box,{flexible:!0},h.a.createElement("div",{className:C.a.title},h.a.createElement(b.a,{text:t,palette:n}))))}}]),t}(p.Component);t.a=k,k.propTypes={iconType:g.a.oneOf(["delete","alert","remoteAssist","splitTicket","update"]),needIcon:g.a.bool,palette:g.a.oneOf(["default","primary","danger"]),title:g.a.string},k.defaultProps={palette:"danger",needIcon:!0,iconType:"alert"}},"./src/components/lookup/header/Title/Title.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n.n(f),b=n("./src/components/lookup/header/Title/LookupTitle.module.css"),v=n.n(b),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette;return h.a.createElement("span",{className:v.a.title+" "+v.a[n]},t)}}]),t}(p.PureComponent);t.a=y,y.propTypes={palette:g.a.oneOf(["default","primary","danger"]),text:g.a.string},y.defaultProps={palette:"default"}},"./src/containers/Subtab/CommentBox/CommentBox.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),b=n("./src/components/Subtab/CommentBox/CommentBox.js"),v=n("./src/reducers/selector.js"),y=n("./src/utils/debounce.js"),C=n("./src/utils/Common.js"),E=n("./src/actions/index.js"),I=n("./src/actions/AgentAction.js"),k=n("./src/actions/AttachmentActions.js"),A=n("./src/containers/asyncComponent.js"),_=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e)),a=[],s=n.props.attachments;if(s&&s.length)for(var i=0;i<s.length;i++)a.push(s[i].id);return n.state={from:0,limit:25,attachmentIds:a},n.getAutofillContacts=Object(y.a)(n.getAutofillContacts.bind(n),100,!0),n.getMentions=n.getMentions.bind(n),n.setAttachmentIds=n.setAttachmentIds.bind(n),n}return m()(t,e),l()(t,[{key:"setAttachmentIds",value:function(e){this.setState({attachmentIds:e})}},{key:"getAutofillContacts",value:function(e,t,n){var a=this,o=this.props,s=o.deptId,r=o.teamsList,i=o.getTeamsList;r.length?this.getMentions(e,t,n):i(s).then(function(){a.getMentions(e,t,n)})}},{key:"getMentions",value:function(e,t,n){var a=this,o=this.props,s=o.deptId,r=o.getAgentsList,i=o.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?i(e,c,d).then(function(o){a.setState({searchAgentList:o.data.result}),a.invokeMentionsCallback(t,n,e)}):(this.invokeMentionsCallback(t,n),r(s,c,d).then(function(){a.invokeMentionsCallback(t,n)}))}},{key:"invokeMentionsCallback",value:function(e,t,n){for(var a=this.state.searchAgentList,o=this.props,s=o.agentsObject,r=o.teamsObject,i=o.agentsList,l=o.teamsList,c=n?a:i,d=c?c.map(function(e){return s[e]}):[],u=l.map(function(e){return r[e]}),m=n?u.filter(function(e){return-1!=e.name.toLowerCase().indexOf(n.toLowerCase())}):u,p=d.concat(m),h=25*(e-1),f=h+25,g=[],b=0;b<p.length;b++){var v=p[b],y=v.id,E=v.zuid,I=v.name,k=v.isConfirmed,A=v.photoURL,_=v.firstName,j=v.lastName;if(v.subTeams){var O={id:y,name:I,value:I,type:"team",team:Object(C.u)(I)};g.push(O)}else if(k){var S={id:E,userId:y,avatar:A||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(C.e)(_,j),value:I,type:"user"};g.push(S)}}g.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),g=g.slice(h,f);var D={};D.results=g,D.isMore=g.length>0,t(D)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.orgId,a=e.id,o=e.from,s=e.showAttachmentViewer,r=(e.photoURL,e.name,e.borderStyle),i=e.isPeekView,l=e.value,c=e.revertIsCommentChanged,d=e.setIsCommentChanged,u=e.isCommentChanged,m=e.addComment,p=e.uploadAttach,f=e.deleleUpload,g=e.toggleComment,v=e.updateComment,y=e.closeComment,E=e.showConfirmBox,I=e.showMessage,k=e.page,_=e.oldAttachments,j=e.newAttachments,O=e.attachments,S=e.editorMode,D=e.myInfo,T=e.hasAttachments,x=e.hasPrivacyMode,N=e.openCloudAttach,w=e.isCloudAttchOpen,P=e.mention,z=e.isLightAgent,R=e.havePublicComment,F=e.uploadCloudAttachment,B=e.needAttachment;return h.a.createElement(b.a,{id:a,orgId:n,value:l,from:o,page:k,type:t,addComment:m,updateComment:v,closeComment:y,toggleComment:g,oldAttachments:_,newAttachments:j,attachments:O,uploadAttach:p,deleleUpload:f,showAttachmentViewer:s,isPeekView:i,isCommentChanged:u,setIsCommentChanged:d,revertIsCommentChanged:c,showConfirmBox:E,showMessage:I,borderStyle:r,getAutofillContacts:this.getAutofillContacts,editorMode:S,photoURL:D.photoURL,name:Object(C.e)(D.firstName,D.lastName),setAttachmentIds:this.setAttachmentIds,attachmentIds:this.state.attachmentIds,hasAttachments:T,hasPrivacyMode:x,openCloudAttach:N,isCloudAttchOpen:w,CloudAttachmentIframe:A.n,mention:P,havePublicComment:R&&!z,uploadCloudAttachment:F,needAttachment:B})}}]),t}(h.a.Component);_.propTypes={addComment:f.PropTypes.func,agentsList:f.PropTypes.array,agentsObject:f.PropTypes.object,attachments:f.PropTypes.object,borderStyle:f.PropTypes.string,closeComment:f.PropTypes.func,deleleUpload:f.PropTypes.func,deptId:f.PropTypes.string,editorMode:f.PropTypes.string,from:f.PropTypes.string,getAgentsList:f.PropTypes.func,getTeamsList:f.PropTypes.func,hasAttachments:f.PropTypes.bool,hasPrivacyMode:f.PropTypes.bool,havePublicComment:f.PropTypes.bool,id:f.PropTypes.string,isCloudAttchOpen:f.PropTypes.bool,isCommentChanged:f.PropTypes.bool,isLightAgent:f.PropTypes.bool,isPeekView:f.PropTypes.bool,mention:f.PropTypes.array,myInfo:f.PropTypes.object,needAttachment:f.PropTypes.bool,newAttachments:f.PropTypes.object,oldAttachments:f.PropTypes.object,openCloudAttach:f.PropTypes.func,orgId:f.PropTypes.string,page:f.PropTypes.string,revertIsCommentChanged:f.PropTypes.func,searchAgents:f.PropTypes.func,setIsCommentChanged:f.PropTypes.func,showAttachmentViewer:f.PropTypes.func,showConfirmBox:f.PropTypes.func,showMessage:f.PropTypes.func,teamsList:f.PropTypes.array,teamsObject:f.PropTypes.object,toggleComment:f.PropTypes.func,type:f.PropTypes.string,updateComment:f.PropTypes.func,uploadAttach:f.PropTypes.func,uploadCloudAttachment:f.PropTypes.func,value:f.PropTypes.string},t.a=Object(g.connect)(function(e,t){var n=t.departmentId?t.departmentId:Object(v.t)(e),a=e.myInfo,o=e.module,s=e.isCloudAttchOpen,r=e.activeAgents,i=e.departmentSpecificState,l=Object(C.c)(a.profileId,o.profile);return{deptId:n,teamsList:i[n].teamsList,agentsList:r[n],agentsObject:o.agent,teamsObject:o.teams,myInfo:a,isCloudAttchOpen:s,isLightAgent:l}},{getTeamsList:E.u,getAgentsList:I.h,searchAgents:I.l,showConfirmBox:E.b.showConfirmBox,showMessage:E.Q,openCloudAttach:k.h,uploadCloudAttachment:k.l})(_)},"./src/containers/Subtab/Conversation/Conversation.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),C=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),E=n.n(C),I=n("./src/containers/Subtab/Conversation/Conversation.module.css"),k=n.n(I),A=n("./src/actions/TicketDetailViewAction.js"),_=n("./src/actions/CommentActions.js"),j=n("./src/actions/TicketCommentActions.js"),O=n("./src/actions/AttachmentActions.js"),S=n("./src/actions/index.js"),D=n("./src/actions/ExtensionsActions.js"),T=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/extends.js"),x=n.n(T),N=n("./src/components/Subtab/ThreadsList/ThreadsList.js"),w=n("./src/components/Subtab/CommentsList/CommentsList.js"),P=n("./src/utils/bind.js"),z=function(e){function t(e){l()(this,t);var n=m()(this,(t.__proto__||r()(t)).call(this,e));n.state={editedId:""};return P.a.apply(n,["editComment","closeComment"]),n}return h()(t,e),d()(t,[{key:"editComment",value:function(e){this.setState({editedId:e})}},{key:"closeComment",value:function(){this.setState({editedId:""})}},{key:"render",value:function(){var e=this,t=this.props.data,n=this.state.editedId;return t.map(function(t,a){return"comment"==t.type||t.commenterId?g.a.createElement("div",{key:a},g.a.createElement(w.a,x()({page:"conversation",comments:[t]},e.props,{editedId:n,editComment:e.editComment,closeComment:e.closeComment}))):g.a.createElement("div",{key:a},g.a.createElement(N.a,x()({threads:[t]},e.props)))})}}]),t}(g.a.Component),R=z;z.propTypes={data:v.a.array};var F,B=n("./src/containers/Subtab/CommentBox/CommentBox.js"),M=n("./src/components/Subtab/Loading/Loading.js"),V=n("./src/containers/Subtab/SocialReply/SocialReply.js"),L=n("./src/containers/Subtab/ReplyEditor/ReplyEdtior.js"),Z=n("../components/lib/Card/index.js"),U=n("./src/fz-i18n/index.js"),K=n("./src/utils/Common.js"),H=n("./src/containers/asyncComponent.js"),W=n("./src/components/PortalLayer/PortalLayer.js"),q=n("./src/components/lookup/Lookup/Lookup.js"),G=function(e){function t(e){l()(this,t);var n=m()(this,(t.__proto__||r()(t)).call(this,e));n.state={from:1,limit:15,isFetchDone:!1,isQueryDone:!1,commentId:null},n._mount=!1;return P.a.apply(n,["getThread","deleteComment","addComment","uploadAttach","deleleUpload","updateComment","fetchData","handleError","showCommentHistory","handlePortalLayer","hideCommentHistory"]),n}return h()(t,e),d()(t,[{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"showCommentHistory",value:function(e){this.setState({commentId:e}),this.onCommentHistory(!0)}},{key:"hideCommentHistory",value:function(){this.onCommentHistory(!1)}},{key:"componentDidMount",value:function(){this._mount=!0,this.fetchData(this.state.from);var e=this.props,t=e.id,n=e.havePrivateThreadConfig,a=e.getLatestThread;void 0!==n&&a(t,!n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,a=t.havePrivateThreadConfig,o=t.getLatestThread;e.id!=this.props.id&&(this.fetchData(this.state.from),o(n,!a),this.setState({isFetchFailure:!1,from:1,limit:15,isFetchDone:!1,isQueryDone:!1})),e.havePrivateThreadConfig!=a&&o(n,!a)}},{key:"componentWillReceiveProps",value:function(e){if(e.needToOpenEditor&&this.state.isQueryDone){this.props.closeEditorState();var t=this.props,n=t.recentThread,a=t.recentThreadId,o=t.openEditor,s=t.id;n?"DRAFT"==n.status?o(a,n.content,n,"FACEBOOK"==n.channel?"facebook":"FORUMS"==n.channel?"forum":"editDraft"):"FAILED"!=n.status&&("FACEBOOK"==n.channel||"TWITTER"==n.channel||"FACEBOOK_DM"==n.channel||"FORUMS"==n.channel?o(a,n.content,n,"FACEBOOK"==n.channel?"facebook":"FACEBOOK_DM"==n.channel?"facebookDm":"FORUMS"==n.channel?"forum":"twitter"):o(a,n.content,n,"replyall")):o(s," ","","replyall")}if(e.needToOpenComment){var r=this.props,i=r.toggleComment,l=r.closeCommentState;i(),l()}}},{key:"componentWillUnmount",value:function(){this._mount=!1;var e=this.props,t=e.isConvCommentOpen,n=e.toggleComment;t&&n()}},{key:"fetchData",value:function(e){var t=this,n=this.props,a=n.id,o=n.getConversation,s=n.isConversationQuerySent,r=this.state.limit;return o(a,e,r).then(function(n){if(t._mount){var a=n.data.noMoreData;t.setState({from:e,noMoreData:a,isFetchDone:!0})}t.setState({isQueryDone:!0}),s()},function(e){t.setState({isFetchFailure:!0})})}},{key:"getThread",value:function(e,t){var n=this.props,a=n.id,o=n.getThread;o(a,e).then(function(e){t&&t(e.data.entities)})}},{key:"deleteComment",value:function(e){var t=this.props,n=t.id,a=t.deleteTicketComment;(0,t.showConfirmBox)({type:"delete",submitText:U.h.getI18NValue("crm.button.delete"),cancelText:U.h.getI18NValue("support.label.cancel"),title:U.h.getI18NValue("support.label.delete.comment"),message:U.h.getI18NValue("support.task.label.comment.delete"),isActive:!0,palette:"danger"}).then(function(){a(n,e)}).catch(function(){})}},{key:"addComment",value:function(e,t,n,a){var o=this.props,s=o.id,r=o.addTicketComment,i=o.toggleComment;(0,o.zAppHookEvent)("ticket.comment",{ticketId:s,content:e.content,isPublic:e.isPublic},function(){r(s,e,t).then(function(e){i(),n&&n(e)},function(e){a&&a(e)})})}},{key:"updateComment",value:function(e,t,n,a,o,s){var r=this.props,i=r.id,l=r.updateComment;(0,r.zAppHookEvent)("ticket.comment.edit",{commentId:e,oldContent:n,newContent:t.content,ticketId:i},function(){l("tickets","ticket",i,e,t,"CONVERSATION",a).then(function(e){o&&o(e)},function(e){s&&s(e)})})}},{key:"handleError",value:function(){this.props.showMessage({type:"alert",message:U.h.getI18NValue("support.unable.to.process.your.request")})}},{key:"uploadAttach",value:function(e,t,n){var a=this;return this.props.uploadAttach(e,t,function(e,t){n(e,t)}).then(function(e){return e},function(e){throw a.handleError(),{attachIndex:t,err:e}})}},{key:"deleleUpload",value:function(e){var t=this;return this.props.deleleUpload(e).catch(function(){t.handleError()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.moduleMeta,a=t.orgId,o=t.isConvCommentOpen,s=t.toggleComment,r=t.showAttachmentViewer,i=t.isEdtiorOpen,l=t.closeEdtior,c=t.openEditor,d=t.editorId,u=t.replyContent,m=t.replyThread,p=t.replyMode,h=t.deleteDraft,f=t.updateDraft,b=t.saveDraft,v=t.sendForReview,y=t.sendDraft,C=t.sendReply,E=t.solutionContent,I=t.solutionAttachments,A=t.contactEmail,_=t.thread,j=t.comment,O=t.conversationIds,S=t.myInfo,D=t.isPeekView,T=t.deleteFailedThread,x=t.resendFailedThread,N=t.recentThreadId,w=t.id,P=t.splitTicket,z=t.sanitizedDeptName,F=t.orgName,U=t.widgets,G=t.selectedWidgetId,Q=t.onWidgetScroll,$=t.onWidgetSelect,Y=t.closeTicket,J=t.haveEditPermission,X=t.haveMailSendPermission,ee=t.channelRelatedInfo,te=t.setIsCommentChanged,ne=t.revertIsCommentChanged,ae=t.isCommentChanged,oe=t.showConfirmBox,se=t.showMessage,re=t.isAdminUser,ie=t.haveCommentEditPermission,le=t.haveCommentDeletePermission,ce=t.currentUserId,de=t.haveJiraBugCreatePer,ue=t.openJiraForm,me=t.bugName,pe=t.haveBugCreatePer,he=t.openBugTrackerForm,fe=t.isStatusLocked,ge=t.haveForWardPermissionOnly,be=t.isReadOnly,ve=t.isSharedTicket,ye=t.getFullContent,Ce=t.ticketChannel,Ee=t.isSpam,Ie=t.isCustomChannel,ke=t.channelInfo,Ae=t.customChannelsInfo,_e=t.threadCount,je=t.downloadAttachment,Oe=t.openAgentDv,Se=t.departmentId,De=this.state,Te=De.isFetchDone,xe=De.from,Ne=De.limit,we=De.noMoreData,Pe=De.isFetchFailure,ze=De.commentId,Re=[];if(O)for(var Fe=0;Fe<O.length;Fe++){var Be=O[Fe].type,Me=O[Fe].id,Ve="thread"==Be?_[Me]:j[Me];Ve&&Re.push(Ve)}var Le=m&&"DRAFT"==m.status;return i&&"facebook"!=p&&"facebookDm"!=p&&"twitter"!=p&&"twitterDm"!=p?g.a.createElement(L.a,{isDraftThread:Le,ticketId:this.props.id,closeEdtior:l,editorId:d,replyContent:u,replyThread:m,replyMode:p,deleteDraft:h,updateDraft:f,saveDraft:b,sendForReview:v,sendDraft:y,sendReply:C,openEditor:c,solutionContent:E,solutionAttachments:I,contactEmail:A,isPeekView:D,closeTicket:Y,haveEditPermission:J,haveMailSendPermission:X,channelRelatedInfo:ee,isStatusLocked:fe,haveForWardPermissionOnly:ge,isSharedTicket:ve,isCustomChannel:Ie,channelInfo:ke}):Re.length?g.a.createElement(Z.Card,{needToFetch:!0,from:xe,limit:Ne,noMoreData:we,fetchData:this.fetchData,noNeedUpScroll:!0},g.a.createElement(Z.CardHeader,null,!i||"facebook"!=p&&"facebookDm"!=p&&"twitter"!=p&&"twitterDm"!=p?o?g.a.createElement(B.a,{id:w,addComment:this.addComment,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,orgId:a,toggleComment:s,showAttachmentViewer:r,type:"conversation",isPeekView:D,isCommentChanged:ae,setIsCommentChanged:te,revertIsCommentChanged:ne,havePublicComment:!ge&&!be,departmentId:Se}):null:g.a.createElement(V.a,{closeEdtior:l,sendForReview:v,updateDraft:f,content:Le?u:"",isDraft:Le,deleteDraft:h,sendDraft:y,sendReply:C,channel:m.channel,openEditor:c,threadId:d,replyThread:m,replyMode:p,haveMailSendPermission:X,haveForWardPermissionOnly:ge,saveDraft:b})),g.a.createElement(Z.CardContent,{eleRef:function(t){e.scrollCont=t},className:k.a.threadScroll},g.a.createElement(R,{data:Re,getThread:this.getThread,addComment:this.addComment,downloadAttachment:je,deleteComment:this.deleteComment,updateComment:this.updateComment,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,orgId:a,showAttachmentViewer:r,openEditor:c,deleteDraft:h,deleteFailedThread:T,resendFailedThread:x,sendDraft:y,contactEmail:A,photoURL:S.photoURL,name:Object(K.e)(S.firstName,S.lastName),scrollCont:this.scrollCont,isPeekView:D,latestThreadId:N,ticketId:w,moduleMeta:n,splitTicket:P,sanitizedDeptName:z,orgName:F,widgets:U,selectedWidgetId:G,onWidgetScroll:Q,onWidgetSelect:$,haveMailSendPermission:X,isCommentChanged:ae,setIsCommentChanged:te,revertIsCommentChanged:ne,showConfirmBox:oe,showMessage:se,isAdminUser:re,haveCommentEditPermission:ie,haveCommentDeletePermission:le,currentUserId:ce,haveJiraBugCreatePer:de,openJiraForm:ue,bugName:me,haveBugCreatePer:pe,openBugTrackerForm:he,CommentBoxContainer:B.a,haveForWardPermissionOnly:ge,isReadOnly:be,getFullContent:ye,ticketChannel:Ce,isSpam:Ee,customChannelsInfo:Ae,threadCount:_e,openAgent:Oe,departmentId:Se,showCommentHistory:this.showCommentHistory}),g.a.createElement(W.a,{saveUpdateFunction:this.handlePortalLayer,name:"CommentHistory"},g.a.createElement(q.a,null,g.a.createElement(H.p,{commentId:ze,hideCommentHistory:this.hideCommentHistory}))))):o?g.a.createElement(B.a,{addComment:this.addComment,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,orgId:a,toggleComment:s,showAttachmentViewer:r,type:"conversation",isPeekView:D,isCommentChanged:ae,setIsCommentChanged:te,revertIsCommentChanged:ne,havePublicComment:!ge&&!be}):Pe?g.a.createElement("div",null,"Unable To Proccess your request"):Te?null:g.a.createElement(M.a,null)}}]),t}(f.Component);G.propTypes=(F={addTicketComment:v.a.func,bugName:v.a.string,channelInfo:v.a.object,channelRelatedInfo:v.a.object,closeCommentState:v.a.func,closeEditorState:v.a.func,closeEdtior:v.a.func,closeTicket:v.a.func,comment:v.a.object,contactEmail:v.a.string,conversationIds:v.a.array,currentUserId:v.a.string,customChannelsInfo:v.a.object,deleleUpload:v.a.func,deleteDraft:v.a.func,deleteFailedThread:v.a.func,departmentId:v.a.string},o()(F,"departmentId",v.a.string),o()(F,"downloadAttachment",v.a.func),o()(F,"getConversation",v.a.func),o()(F,"getFullContent",v.a.func),o()(F,"getLatestThread",v.a.func),o()(F,"getThread",v.a.func),o()(F,"haveBugCreatePer",v.a.bool),o()(F,"haveCommentDeletePermission",v.a.bool),o()(F,"haveCommentEditPermission",v.a.bool),o()(F,"haveEditPermission",v.a.bool),o()(F,"haveForWardPermissionOnly",v.a.bool),o()(F,"haveJiraBugCreatePer",v.a.bool),o()(F,"haveMailSendPermission",v.a.bool),o()(F,"havePrivateThreadConfig",v.a.bool),o()(F,"id",v.a.string),o()(F,"isAdminUser",v.a.bool),o()(F,"isCommentChanged",v.a.bool),o()(F,"isConvCommentOpen",v.a.bool),o()(F,"isConversationQuerySent",v.a.func),o()(F,"isCustomChannel",v.a.bool),o()(F,"isEdtiorOpen",v.a.bool),o()(F,"isPeekView",v.a.bool),o()(F,"isReadOnly",v.a.bool),o()(F,"isSharedTicket",v.a.bool),o()(F,"isSpam",v.a.bool),o()(F,"isStatusLocked",v.a.bool),o()(F,"moduleMeta",v.a.object),o()(F,"myInfo",v.a.object),o()(F,"needToOpenEditor",v.a.bool),o()(F,"onWidgetScroll",v.a.func),o()(F,"onWidgetSelect",v.a.func),o()(F,"openBugTrackerForm",v.a.func),o()(F,"openEditor",v.a.func),o()(F,"openJiraForm",v.a.func),o()(F,"orgId",v.a.string),o()(F,"orgName",v.a.string),o()(F,"recentThread",v.a.object),o()(F,"recentThreadId",v.a.string),o()(F,"replyMode",v.a.string),o()(F,"resendFailedThread",v.a.func),o()(F,"revertIsCommentChanged",v.a.func),o()(F,"sanitizedDeptName",v.a.string),o()(F,"saveDraft",v.a.func),o()(F,"selectedWidgetId",v.a.string),o()(F,"sendDraft",v.a.func),o()(F,"sendForReview",v.a.func),o()(F,"sendReply",v.a.func),o()(F,"setIsCommentChanged",v.a.func),o()(F,"showAttachmentViewer",v.a.func),o()(F,"showConfirmBox",v.a.func),o()(F,"showMessage",v.a.func),o()(F,"solutionAttachments",v.a.array),o()(F,"solutionContent",v.a.oneOfType([v.a.string,v.a.object])),o()(F,"splitTicket",v.a.func),o()(F,"thread",v.a.object),o()(F,"threadCount",v.a.string),o()(F,"ticketChannel",v.a.string),o()(F,"ticketSubject",v.a.string),o()(F,"toggleComment",v.a.func),o()(F,"updateComment",v.a.func),o()(F,"updateDraft",v.a.func),o()(F,"uploadAttach",v.a.func),o()(F,"widgets",v.a.array),o()(F,"zAppHookEvent",v.a.func),F);t.default=Object(y.connect)(function(e,t){var n=e.ticketUIState.isCommentChanged,a=void 0!==n&&n;return{thread:e.module.thread,comment:e.module.comment,conversationIds:e.module.ticket[t.id].conversationIds,moduleMeta:e.moduleMeta,orgId:e.currentOrgId,myInfo:e.myInfo,sanitizedDeptName:e.routing.paramMap.deptName,orgName:e.routing.paramMap.orgName,needToOpenEditor:E()("UIState.peekState.needToOpenEditor",e),needToOpenComment:E()("UIState.peekState.needToOpenComment",e),isCommentChanged:a,customChannelsInfo:e.customChannelsInfo}},{getConversation:A.f,getThread:A.k,getLatestThread:A.i,downloadAttachment:O.e,uploadAttach:O.k,deleleUpload:O.d,deleteTicketComment:j.b,addTicketComment:j.a,updateComment:_.e,showAttachmentViewer:O.i,zAppHookEvent:D.l,closeEditorState:A.c,closeCommentState:A.b,setIsCommentChanged:A.t,revertIsCommentChanged:A.r,showConfirmBox:S.b.showConfirmBox,showMessage:S.Q,getFullContent:A.g,openAgentDv:S.E})(G)},"./src/containers/Subtab/Conversation/Conversation.module.css":function(e,t,n){e.exports={threadScroll:"zd-conversation-threadScroll"}},"./src/containers/Subtab/ReplyEditor/ReplyEdtior.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),g=n.n(f),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),v=n.n(b),y=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),C=n.n(y),E=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),I=n.n(E),k=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),A=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-dom/server.browser.js"),_=n.n(A),j=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),O=n.n(j),S=n("../components/lib/Layout/index.js"),D=n("./src/components/TextEditor/TextEditor.js"),T=n("./src/components/SVG/SVG.js"),x=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,n=e.isSymbol;return C.a.createElement(T.a,{viewBox:"0 0 32 32",name:"PlusIcon",isRender:t,isSymbol:n},C.a.createElement("g",null,C.a.createElement("path",{style:{fill:"#767d89"},d:"M16,2.7c0.4,0,0.7,0.1,0.9,0.4s0.4,0.6,0.4,0.9v10.7H28c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9 c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4H17.3V28c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4 c-0.3-0.3-0.4-0.6-0.4-0.9V17.3H4c-0.4,0-0.7-0.1-0.9-0.4S2.7,16.4,2.7,16s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4h10.7V4 c0-0.4,0.1-0.7,0.4-0.9C15.3,2.8,15.6,2.7,16,2.7z"})))}}]),t}(C.a.Component),N=x;x.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},x.defaultProps={isRender:!0,isSymbol:!1};var w=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,n=e.isSymbol;return C.a.createElement(T.a,{viewBox:"0 0 31 32",name:"SnippetIcon",isRender:t,isSymbol:n},C.a.createElement("g",null,C.a.createElement("path",{d:"M14.4,8.2L15.6,9L16,8.4l-1-0.7l2.5-3.7L11.5,0L8.9,3.8L7.9,3L7.6,3.6l1.2,0.8c-2.3,3-5.9,0.8-6,0.7L2.3,4.9L0,23.8 l16.6-9.3l-0.4-0.3C15.9,13.9,12.6,11.5,14.4,8.2L14.4,8.2z M1.5,22l5.2-7.7c0.3,0.1,0.6,0.2,0.9,0.2c1.2,0,2.1-0.9,2.2-2.1 c0-1.2-0.9-2.1-2.1-2.2c-1.2,0-2.1,0.9-2.2,2.1c0,0.6,0.2,1.2,0.7,1.6L1,21.6L2.8,6c1.2,0.6,4.4,1.7,6.5-1.1l4.5,3 c-1.8,3,0.4,5.6,1.4,6.5L1.5,22L1.5,22z M6.7,13.6c-0.7-0.4-0.8-1.3-0.4-2s1.3-0.8,2-0.4c0.7,0.4,0.8,1.3,0.4,2 c-0.2,0.3-0.5,0.5-0.9,0.6C7.5,13.9,7.1,13.8,6.7,13.6L6.7,13.6z"}),C.a.createElement("path",{style:{fill:"#03A3FE"},d:"M30.9,25c-4.9,0.7-5.4,1.2-5.9,6.7c-0.6-5.4-1.1-6-6.1-6.5c4.9-0.7,5.4-1.2,5.9-6.7 C25.4,23.9,25.9,24.5,30.9,25z M30.3,8.2c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C25.4,7.1,25.8,7.6,30.3,8.2z M16.2,25.7c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C11.3,24.6,11.7,25.1,16.2,25.7z"})))}}]),t}(C.a.Component),P=w;w.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},w.defaultProps={isRender:!0,isSymbol:!1};var z=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,n=e.isSymbol;return C.a.createElement(T.a,{viewBox:"0 0 32 32",name:"TemplateIcon",isRender:t,isSymbol:n},C.a.createElement("g",null,C.a.createElement("path",{d:"M3.6,27.7h5.9v2.8c0,0.8,0.7,1.5,1.5,1.5h17.4c0.8,0,1.5-0.7,1.5-1.5V5.9c0-0.8-0.7-1.5-1.5-1.5h-5.9V1.5 C22.5,0.7,21.8,0,21,0L3.6,0C2.8,0,2.1,0.7,2.1,1.5v24.6C2.1,27,2.8,27.7,3.6,27.7z M28.4,5.7c0.1,0,0.2,0.1,0.2,0.2v24.6 c0,0.1-0.1,0.2-0.2,0.2H11c-0.1,0-0.2-0.1-0.2-0.2V5.9c0-0.1,0.1-0.2,0.2-0.2C11,5.7,28.4,5.7,28.4,5.7z M9.5,16.6v3.1V16.6z M9.5,12v3.3V12z M9.5,7.6v3.2V7.6z M9.5,21v5.3H3.6c-0.1,0-0.2-0.1-0.2-0.2V1.5c0-0.1,0.1-0.2,0.2-0.2H21c0.1,0,0.2,0.1,0.2,0.2 v2.7L11,4.3c-0.8,0-1.5,0.7-1.5,1.5v0.1L9.5,21z M26.9,25.5c0,0.4-0.3,0.7-0.7,0.7H15.7c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7 h10.6C26.6,24.8,26.9,25.1,26.9,25.5z M12.8,21c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,21.7,12.8,21.4,12.8,21L12.8,21z M12.8,16.5c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,17.1,12.8,16.8,12.8,16.5L12.8,16.5z M12.8,12c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,12.6,12.8,12.4,12.8,12L12.8,12z"})))}}]),t}(C.a.Component),R=z;z.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},z.defaultProps={isRender:!0,isSymbol:!1};var F=n("./src/components/Subtab/Composebox/Composebox.module.css"),B=n.n(F),M=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),V=n.n(M),L=n("./src/components/MorePopup/MorePopup.js"),Z=n("../components/lib/TextBox/TextBox.js"),U=n.n(Z),K=n("./src/components/SearchResults/SearchResults.js"),H=n("./src/utils/Common.js"),W=n("./src/components/Subtab/TokenList/TokenList.module.css"),q=n.n(W),G=n("./src/utils/EmailValidation.js"),Q=n("./src/fz-i18n/index.js"),$=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={value:"",editedValue:n.props.editedValue||"",selectedIndex:null,errordiv:"",errorIndex:null,editedIndex:n.props.editedIndex||null,selectSearchIndex:-1},n.formatEmailAddress=n.formatEmailAddress.bind(n),n.removeEmail=n.removeEmail.bind(n),n.selectEmail=n.selectEmail.bind(n),n.handleSearchIndex=n.handleSearchIndex.bind(n),n.resetSearchData=n.resetSearchData.bind(n),n}return v()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){e.editedValue==this.props.editedValue&&e.editedIndex==this.props.editedIndex||this.setState({editedValue:e.editedValue,editedIndex:e.editedIndex})}},{key:"handleChange",value:function(e,t){"edit"==e?this.setState({editedValue:t}):this.setState({value:t}),t.length>2?this.props.searchContact(this.props.mode,t):this.resetSearchData()}},{key:"removeEmail",value:function(e){var t=this,n=this.props,a=n.removeEmail,o=n.mode,s=this.state.selectedIndex;null==s&&e?this.setState({selectedIndex:e-1}):(a(s,o,"",function(){t.formInput&&t.formInput.focus()}),this.setState({selectedIndex:e-1}))}},{key:"formatEmailAddress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.setState({selectedIndex:null});var a=this.props,o=a.mode,s=a.formatEmailAddress,r=a.emailArr,i=a.searchMode,l=a.searchData,c=this.state,d=c.selectSearchIndex,u=c.selectedIndex,m=n.key,p=n.keyCode,h="string"==typeof n?n:n.target.value;if(38==p||40==p)i==o&&"noData"!=l&&this.handleSearchIndex(p);else if(i==o&&"noData"!=l&&13==p&&-1!=d)this.handleSearchIndex(p);else if(8==p&&""==h)this.removeEmail(r.length);else if(13==p&&null!=u)this.props.editEmail(this.state.selectedIndex,this.props.emailArr[this.state.selectedIndex],o,function(){t.editInput.focus(),t.editInput.select()});else{if(this.setState({selectedIndex:null}),""==h)return;(13==p||188==p&&","==m||"focusout"==e)&&(this.resetSearchData(),188==p&&(h=h.substring(0,h.indexOf(","))),s(h,o,function(e){"isValide"==e.type?t.setState({value:""},function(){t.formInput&&t.formInput.focus()}):"isInValide"==e.type?(t.setState({errordiv:"form"}),setTimeout(function(){t.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(t.setState({errorIndex:e.index},function(){t.formInput&&t.formInput.focus()}),setTimeout(function(){t.setState({errorIndex:null})},2e3))}))}}catch(n){console.log(n)}}},{key:"changeEmailAddress",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.props,s=o.mode,r=o.changeEmailAddress,i=o.removeEmail,l=o.searchMode,c=o.searchData,d=a.key,u=a.keyCode,m="string"==typeof a?a:a.target.value;38==u||40==u?l==s&&"noData"!=c&&this.handleSearchIndex(u):l==s&&"noData"!=c&&13==u&&-1!=this.state.selectSearchIndex?this.handleSearchIndex(u):8==u&&""==m?i(e,s,"edit",function(){n.formInput&&n.formInput.focus()}):(13==u||188==u&&","==d||"focusout"==t)&&(this.resetSearchData(),188==u&&(m=m.substring(0,m.indexOf(","))),r(m,e,s,function(e){"isValide"==e.type?n.setState({value:""},function(){n.formInput&&n.formInput.focus()}):"isInValide"==e.type?(n.setState({errordiv:"edit"}),setTimeout(function(){n.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(n.setState({errorIndex:e.index},function(){n.editInput.focus()}),setTimeout(function(){n.setState({errorIndex:null})},2e3))}))}},{key:"editEmail",value:function(e,t,n){var a=this;this.state.selectedIndex==e?this.props.editEmail(e,t,n,function(){a.editInput.focus(),a.editInput.select()}):this.setState({selectedIndex:e})}},{key:"selectEmail",value:function(e,t){var n=e.firstName,a=e.lastName,o=e.email,s=Object(H.e)(n,a)+"<"+o+">";"edit"==t?(this.setState({editedValue:s,errordiv:""}),this.changeEmailAddress(this.state.editedIndex,"focusout",s)):(this.setState({value:s,errordiv:""}),this.formatEmailAddress("focusout",s)),this.resetSearchData()}},{key:"resetSearchData",value:function(){this.setState({selectSearchIndex:-1}),this.props.closeSearchPopup()}},{key:"handleSearchIndex",value:function(e){var t=this.props.searchData;if(13==e){var n=this.state,a=n.selectSearchIndex,o=n.editedIndex;if(a>-1){var s=t[a],r=s.email,i=s.firstName,l=s.lastName,c=Object(H.e)(i,l)+"<"+r+">";null==o?(this.setState({value:c,errordiv:""}),this.formatEmailAddress("focusout",c)):(this.setState({editedValue:c,errordiv:""}),this.changeEmailAddress(o,"focusout",c)),this.resetSearchData()}}else 40==e?this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex==t.length-1?0:e.selectSearchIndex+1}}):this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex<=0?t.length-1:e.selectSearchIndex-1}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.emailArr,a=t.mode,o=t.removeEmail,s=t.editedMode,r=t.searchMode,i=t.searchData,l=t.orgName,c=this.state,d=c.value,u=c.editedValue,m=c.selectedIndex,p=c.errordiv,h=c.errorIndex,f=c.editedIndex,g=c.selectSearchIndex;return C.a.createElement(S.Container,{wrap:"wrap",alignBox:"row"},n.map(function(t,n){var c=Object(G.a)(t),d=Object(G.e)(t);return f==n&&a==s?C.a.createElement(S.Box,{shrink:!0,className:q.a.item},C.a.createElement(U.a,{value:u,dataId:"toAddress_"+e.props.orgName,placeHolder:"Enter the Recipients Email Address",className:"edit"==p?q.a.placeholder+" "+q.a.invalideInput:q.a.placeholder,needAppearance:!1,onChange:e.handleChange.bind(e,"edit"),onKeyUp:e.changeEmailAddress.bind(e,n,""),onBlur:e.changeEmailAddress.bind(e,n,"focusout",u),inputRef:function(t){e.editInput=t}}),r==a&&"noData"!=i?C.a.createElement("span",null,C.a.createElement(K.a,{data:i,orgName:l,onSelect:e.selectEmail,type:"edit",selectSearchIndex:g,needFixed:!0,dataId:a+"EmailRequestSearch"})):null):C.a.createElement(S.Box,{className:m==n?q.a.item+" "+q.a.sel:d?q.a.item:q.a.item+" "+q.a.invalide,key:n,id:m,dataId:a+"Request_"+n},C.a.createElement("div",{className:q.a.rlyedr,onClick:e.editEmail.bind(e,n,t,a),"data-id":"close"},C.a.createElement("span",{className:q.a.rlyact},C.a.createElement("span",{className:q.a.rlyclo,onClick:o.bind(e,n,a,"",function(){e.formInput&&e.formInput.focus()})},C.a.createElement(V.a,{name:"ZD-close",size:"17"})),C.a.createElement("span",{className:h==n?q.a.rlymailtxt+" "+q.a.invalideInput:q.a.rlymailtxt},c))))}),a!=s&&C.a.createElement(S.Box,{flexible:!0,className:q.a.item+" "+q.a.inputCont},C.a.createElement(U.a,{type:"text",value:d,placeHolder:Q.h.getI18NValue("support.email.placeholder"),className:"form"==p?q.a.placeholder+" "+q.a.invalideInput:q.a.placeholder,needAppearance:!1,onChange:this.handleChange.bind(this,""),onKeyUp:this.formatEmailAddress.bind(this,""),onBlur:this.formatEmailAddress.bind(this,"focusout"),inputRef:function(t){e.formInput=t},dataId:a+"Email"}),r==a&&"noData"!=i?C.a.createElement(K.a,{data:i,orgName:l,onSelect:this.selectEmail,type:"form",selectSearchIndex:g,needFixed:!0}):null))}}]),t}(C.a.Component),Y=$;$.propTypes={changeEmailAddress:I.a.func,closeSearchPopup:I.a.func,editEmail:I.a.func,editedIndex:I.a.string,editedMode:I.a.string,editedValue:I.a.string,emailArr:I.a.array,formatEmailAddress:I.a.func,mode:I.a.string,orgName:I.a.string,removeEmail:I.a.func,searchContact:I.a.func,searchData:I.a.array,searchMode:I.a.string};var J=n("./src/components/Subtab/FromAddressEmpty/FromAddressEmpty.module.css"),X=n.n(J),ee=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={mode:"Configure"},n._mount=!1,n.refreshAdrress=n.refreshAdrress.bind(n),n.openConfigurePage=n.openConfigurePage.bind(n),n}return v()(t,e),h()(t,[{key:"refreshAdrress",value:function(){var e=this;this.props.getFromEmailAddress(function(){e._mount&&e.setState({mode:"Configure"})})}},{key:"openConfigurePage",value:function(){this.setState({mode:"refresh"})}},{key:"componentDidMount",value:function(){this._mount=!0}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"render",value:function(){var e=this.state.mode,t=this.props,n=t.orgName,a=t.depName;return C.a.createElement("div",null,"Configure"==e?C.a.createElement("a",{className:X.a.alertDiv,onClick:this.openConfigurePage,href:"/agent/"+n+"/"+a+"/setup#setup/channels/fromaddress",target:"_blank"},C.a.createElement("span",{className:X.a.icnExclatn},C.a.createElement(V.a,{name:"ZD-exclamationThincircle"})),C.a.createElement("span",{className:X.a.alertText},Q.h.getI18NValue("support.email.fromaddress.click"))):C.a.createElement("div",{className:X.a.refreshText,onClick:this.refreshAdrress},Q.h.getI18NValue("crm.button.refresh")))}}]),t}(C.a.Component),te=ee;ee.propTypes={depName:I.a.string,getFromEmailAddress:I.a.func,orgName:I.a.string};var ne=n("../components/lib/Select/Select.js"),ae=n.n(ne),oe=n("./src/utils/bind.js"),se=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e)),a=n.props,o=a.toAddress,s=void 0===o?[]:o,r=a.ccAddress,i=void 0===r?[]:r,l=a.bccAddress,c=void 0===l?[]:l;n.state={toArray:s,ccArray:i,bccArray:c,editedMode:"",editedIndex:null,editedValue:"",isCcVisible:!!i.length,isBccVisible:!!c.length,moreData:0};return oe.a.apply(n,["formatEmailAddress","removeEmail","editEmail","changeEmailAddress","showCc","showBcc","constructRecipients","createRecipientCount","hideRecipients","replyActions","handleFromAdressChange"]),n}return v()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.toArray,a=t.ccArray,o=t.bccArray,s=t.isCcVisible,r=t.isBccVisible;e.toAddress==n&&e.ccAddress==a&&e.bccAddress==o||(this.setState({toArray:e.toAddress,ccArray:e.ccAddress,bccArray:e.bccAddress}),s||this.setState({isCcVisible:!!e.ccAddress.length}),r||this.setState({isBccVisible:!!e.bccAddress.length})),e.mode!=this.props.mode&&"forward"==e.mode&&this.setState({isCcVisible:!1}),e.isEditorFocus!=this.props.isEditorFocus&&e.isEditorFocus&&this.setState({isCcVisible:!1,isBccVisible:!1})}},{key:"formatEmailAddress",value:function(e,t,n){for(var a=Object(G.d)(e),o=0;o<a.length;o++){var s=a[o].trim();if(Object(G.e)(s)){var r=this.props.addEmail;if("to"==t){var i=Object(G.c)(this.state.toArray,s);i.isDuplicate?n&&n({type:"duplicate",index:i.index}):(r(s,t),n&&n({type:"isValide"}))}else if("bcc"==t){var l=Object(G.c)(this.state.bccArray,s);l.isDuplicate?n&&n({type:"duplicate",index:l.index}):(r(s,t),n&&n({type:"isValide"}))}else if("cc"==t){var c=Object(G.c)(this.state.ccArray,s);c.isDuplicate?n&&n({type:"duplicate",index:c.index}):(r(s,t),n&&n({type:"isValide"}))}}else n&&n({type:"isInValide"})}}},{key:"changeEmailAddress",value:function(e,t,n,a){if(Object(G.e)(e)){var o=this.props.changeEmail,s=!1;if("to"==n){var r=Object(G.c)(this.state.toArray,e);r.isDuplicate&&r.index!=t?a&&a({type:"duplicate",index:r.index}):(o(e,t,n),s=!0,a&&a({type:"isValide"}))}else if("bcc"==n){var i=Object(G.c)(this.state.bccArray,e);i.isDuplicate&&i.index!=t?a&&a({type:"duplicate",index:i.index}):(o(e,t,n),s=!0,a&&a({type:"isValide"}))}else if("cc"==n){var l=Object(G.c)(this.state.ccArray,e);l.isDuplicate&&l.index!=t?a&&a({type:"duplicate",index:l.index}):(o(e,t,n),s=!0,a&&a({type:"isValide"}))}s&&this.setState({editedMode:"",editedIndex:null,editedValue:""})}else a&&a({type:"isInValide"})}},{key:"editEmail",value:function(e,t,n,a){this.setState({editedIndex:e,editedValue:t,editedMode:n},function(){a&&a()})}},{key:"removeEmail",value:function(e,t,n,a){var o=this.props.removeEmail;"to"==t?o(e,t,function(){a&&a()}):"bcc"==t?o(e,t,function(){a&&a()}):"cc"==t&&o(e,t,function(){a&&a()}),"edit"==n&&this.setState({editedMode:"",editedIndex:null,editedValue:""},function(){a&&a()})}},{key:"showBcc",value:function(){this.setState({isBccVisible:!0})}},{key:"showCc",value:function(){this.setState({isCcVisible:!0})}},{key:"constructSwtichOptions",value:function(e,t){var n=[];if("FACEBOOK"==t||"FACEBOOK_DM"==t)n=[{name:Q.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:Q.h.getI18NValue("support.social.facebook.name"),iconName:"ZD-chFacebook",size:"14"}];else if("TWITTER"==t||"TWITTER_DM"==t)n=[{name:Q.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:Q.h.getI18NValue("support.social.common.tweet"),iconName:"ZD-chTwitter",size:"16"},{name:Q.h.getI18NValue("support.social.common.direct.message"),iconName:"ZD-bubble",size:"16"}];else for(var a=[{label:Q.h.getI18NValue("support.common.request.mail.replyall"),key:"ZD-replyall"},{label:Q.h.getI18NValue("support.common.request.mail.reply"),key:"ZD-reply"},{label:Q.h.getI18NValue("support.common.request.mail.forward"),key:"ZD-forward"}],o=0;o<a.length;o++){var s=a[o],r=s.label,i=s.key;e!=i&&n.push({name:r,iconName:i,size:"13"})}return n}},{key:"constructRecipients",value:function(e,t){for(var n=[],a=e.length-t,o=0;o<a;o++){var s=Object(G.a)(e[o]);n.push(C.a.createElement("span",{className:B.a.recipient,key:o},o==a-1?s:s+","))}return n}},{key:"createRecipientCount",value:function(){var e=this.state,t=e.toArray,n=e.ccArray,a=e.bccArray,o=t.concat(n,a).length;if(o&&this.recipientsCont){for(var s=this.recipientsCont.offsetWidth,r=this.recipientsCont.children,i=0,l=0,c=0;c<r.length;c++)if(s<=(i+=r[c].offsetWidth)){l=o-c;break}this.setState({moreData:l})}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isRecipientsVisible,n=e.inValideArr;t&&!(void 0===n?[]:n).length&&this.createRecipientCount()}},{key:"componentDidUpdate",value:function(e){var t=e.ccAddress,n=void 0===t?[]:t,a=e.bccAddress,o=void 0===a?[]:a,s=e.toAddress,r=void 0===s?[]:s,i=e.isRecipientsVisible;this.props.isRecipientsVisible!=i&&this.props.isRecipientsVisible&&!this.props.inValideArr.length&&this.createRecipientCount(),r.length==this.props.toAddress.length&&n.length==this.props.ccAddress.length&&o.length==this.props.bccAddress.length||!this.props.isRecipientsVisible||this.createRecipientCount()}},{key:"hideRecipients",value:function(){this.setState({moreData:0}),this.props.hideRecipients()}},{key:"replyActions",value:function(e){var t=this.props,n=t.threadId,a=t.content,o=t.thread,s="";e==Q.h.getI18NValue("support.common.request.mail.replyall")?s="replyall":e==Q.h.getI18NValue("support.common.request.mail.reply")?s="reply":e==Q.h.getI18NValue("support.common.request.mail.forward")?s="forward":e==Q.h.getI18NValue("crm.label.email")?s="replyall":e==Q.h.getI18NValue("support.social.facebook.name")&&"FACEBOOK_DM"==o.channel?s="facebookDm":e==Q.h.getI18NValue("support.social.facebook.name")?s="facebook":e==Q.h.getI18NValue("support.social.common.tweet")?s="twitter":e==Q.h.getI18NValue("support.social.common.direct.message")&&(s="twitterDm"),this.props.openEditor(n,a,o,s)}},{key:"handleFromAdressChange",value:function(e){this.setState({selectedFromAddress:e});var t=this.props.fromEmailAddress.filter(function(t){return t.id==e});this.props.changeFromEmailAddress(t[0].address)}},{key:"constructDraftObj",value:function(){var e=this.props,t=e.isDraft,n=e.draftText,a=e.saveDraft,o=e.updateDraft,s=e.deleteDraft,r=e.isCustomChannel,i=e.isFromBlueprint,l=e.thread,c=e.mode,d=e.haveForWardPermissionOnly,u=e.haveMailSendPermission;return C.a.createElement(C.a.Fragment,null,t?C.a.createElement("div",{className:B.a.moreAction+" "+(i?B.a.visHidden:"")},C.a.createElement("span",{onClick:o,"data-id":"saveDraftBtn"},n),C.a.createElement("span",{className:B.a.icnMore},C.a.createElement(L.a,{IcnName:"ZD-down1",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowRight:"24",objValues:[{name:Q.h.getI18NValue("support.common.request.mail.discard.draft"),iconName:"ZD-draftDelete",size:"13"}],onSelect:s}))):C.a.createElement(C.a.Fragment,null,!r&&!i||i&&("FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel)?C.a.createElement("span",{className:B.a.moreAction},C.a.createElement(V.a,{name:"FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel?"ZD-chEmail1":"ZD-"+c,iconClass:B.a.iconSize}),d?null:C.a.createElement("span",{className:B.a.icnMore},C.a.createElement(L.a,{IcnName:"ZD-blockDownArrow",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowLeft:"55",size:"xmini",objValues:this.constructSwtichOptions(c,l.channel),onSelect:this.replyActions}))):null,u&&!i?C.a.createElement("span",{className:B.a.moreAction},C.a.createElement("span",{onClick:a,"data-id":"saveDraftBtn"},n)):null))}},{key:"render",value:function(){var e=this,t=this.props,n=t.fromEmailAddress,a=t.searchContact,o=t.searchMode,s=t.searchData,r=t.orgName,i=t.closeSearchPopup,l=t.isRecipientsVisible,c=t.inValideArr,d=void 0===c?[]:c,u=t.getFromEmailAddress,m=t.haveMailSendPermission,p=t.mailConfigurations,h=t.myInfo,f=t.isFromAddressFetching,g=t.isToEmpty,b=t.isCustomChannel,v=t.depName,y=this.state,E=y.toArray,I=y.editedIndex,k=y.editedValue,A=y.editedMode,_=y.isCcVisible,j=y.isBccVisible,O=y.ccArray,D=y.bccArray,T=y.moreData,x=y.selectedFromAddress,N=p.agentNameInTicketReply,w=Object(H.e)(h.firstName,h.lastName),P=E.concat(O,D),z=[];return n.map(function(e){var t=N?w:e.displayName;z.push({id:e.id,name:'"'+t+'"<'+e.address+">"})}),x||z[0]&&(x=z[0].id),b?m?C.a.createElement(S.Container,{className:B.a.soloDraft,alignBox:"row"},C.a.createElement(S.Box,{flexible:!0}),this.constructDraftObj()):null:C.a.createElement(S.Container,{className:B.a.container},C.a.createElement(S.Box,{className:B.a.composeRow},C.a.createElement(S.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},C.a.createElement(S.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("label.request.from")),C.a.createElement(S.Box,{className:B.a.fromAddress,flexible:!0,shrink:!0},z.length||f?C.a.createElement(ae.a,{emptyMessage:Q.h.getI18NValue("support.label.no.match.found"),needBorder:!1,needLocalSearch:!0,needSearch:!0,onChange:this.handleFromAdressChange,options:z,selectedValue:x||" ",textField:"name",valueField:"id",dataId:"fromEmailRequest"}):C.a.createElement("div",{className:B.a.fromAlert},C.a.createElement(te,{getFromEmailAddress:u,orgName:r,depName:v}))),C.a.createElement(S.Box,{className:B.a.rightContainer},C.a.createElement("div",{className:B.a.actionCont},this.constructDraftObj())))),l&&P.length&&!d.length?C.a.createElement(S.Box,{onClick:this.hideRecipients},C.a.createElement(S.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},C.a.createElement(S.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("support.request.history.wfalert.recipients")),C.a.createElement(S.Box,{className:B.a.recipientstheme,eleRef:function(t){e.recipientsCont=t},flexible:!0,shrink:!0},this.constructRecipients(P,T),T?C.a.createElement("span",{className:B.a.demomore},T," ",Q.h.getI18NValue("crm.login.more")):null))):C.a.createElement(S.Box,{className:B.a.scrollBox},C.a.createElement(S.Container,{alignBox:"row"},C.a.createElement(S.Box,{flexible:!0},C.a.createElement("div",{className:B.a.composeRow},C.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},C.a.createElement(S.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("crm.label.to.email")),C.a.createElement(S.Box,{className:B.a.selectLitetheme,flexible:!0},C.a.createElement(Y,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:i,editedIndex:I,editedMode:A,editedValue:k,editEmail:this.editEmail,emailArr:E,formatEmailAddress:this.formatEmailAddress,mode:"to",orgName:r,removeEmail:this.removeEmail,searchContact:a,searchData:s,searchMode:o}),g?C.a.createElement("div",{className:B.a.emptyErr},Q.h.getI18NValue("support.common.email.validation.message")):null))),_||O.length?C.a.createElement("div",{className:B.a.composeRow},C.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},C.a.createElement(S.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("crm.label.cc.email")),C.a.createElement(S.Box,{dataId:"ccEmailRequest",className:B.a.selectLitetheme,flexible:!0},C.a.createElement(Y,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:i,editedIndex:I,editedMode:A,editedValue:k,editEmail:this.editEmail,emailArr:O,formatEmailAddress:this.formatEmailAddress,mode:"cc",orgName:r,removeEmail:this.removeEmail,searchContact:a,searchData:s,searchMode:o})))):null,j||D.length?C.a.createElement("div",{className:B.a.composeRow},C.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},C.a.createElement(S.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("crm.label.bcc.email")),C.a.createElement(S.Box,{className:B.a.selectLitetheme,flexible:!0},C.a.createElement(Y,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:i,editedIndex:I,editedMode:A,editedValue:k,editEmail:this.editEmail,emailArr:D,formatEmailAddress:this.formatEmailAddress,mode:"bcc",orgName:r,removeEmail:this.removeEmail,searchContact:a,searchData:s,searchMode:o})))):null),C.a.createElement(S.Box,{className:B.a.rightContainer},l?null:C.a.createElement("div",{className:B.a.replyIcns},_||O.length?null:C.a.createElement("span",{className:B.a.textVal,"data-id":"ccEmail",onClick:this.showCc},Q.h.getI18NValue("crm.label.cc.email")),j||D.length?null:C.a.createElement("span",{className:B.a.textVal,"data-id":"bccEmail",onClick:this.showBcc},Q.h.getI18NValue("crm.label.bcc.email")))))))}}]),t}(C.a.Component),re=se;se.propTypes={addEmail:I.a.func,bccAddress:I.a.array,ccAddress:I.a.array,changeEmail:I.a.func,changeFromEmailAddress:I.a.func,closeSearchPopup:I.a.func,content:I.a.string,deleteDraft:I.a.func,depName:I.a.string,draftText:I.a.string,fromEmailAddress:I.a.any,getFromEmailAddress:I.a.func,haveForWardPermissionOnly:I.a.bool,haveMailSendPermission:I.a.bool,hideRecipients:I.a.func,iconName:I.a.string,inValideArr:I.a.array,isDraft:I.a.bool,isEditorFocus:I.a.bool,isFromAddressFetching:I.a.bool,isFromBlueprint:I.a.bool,isPeekView:I.a.bool,isRecipientsVisible:I.a.bool,isToEmpty:I.a.bool,mailConfigurations:I.a.object,mode:I.a.string,myInfo:I.a.object,openEditor:I.a.func,orgName:I.a.string,removeEmail:I.a.func,saveDraft:I.a.func,searchContact:I.a.func,searchData:I.a.array,searchMode:I.a.string,thread:I.a.any,threadId:I.a.string,toAddress:I.a.array,updateDraft:I.a.func};var ie=n("./src/components/Subtab/ReplyFooter/ReplyFooter.module.css"),le=n.n(ie),ce=n("./src/components/Subtab/SendButton/SendButton.module.css"),de=n.n(ce),ue=n("../components/lib/Switch/Switch.js"),me=n.n(ue),pe=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));n.state={isPopupOpen:!1};return oe.a.apply(n,["togglePopup","onActionClick"]),n}return v()(t,e),h()(t,[{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"onActionClick",value:function(){var e=this.props,t=e.isDraft,n=e.sendDraft,a=e.sendReply;t?n():a()}},{key:"render",value:function(){var e=this.props,t=e.sendAndClose,n=(e.isDraft,e.isPrivateThread),a=e.isPrivateButtonEnable,o=e.togglePrivateSwitch,s=e.isStatusLocked,r=(e.havePrivateThreadConfig,e.haveForWardPermissionOnly,e.isSharedTicket),i=e.haveVisibilityChangePer,l=this.state.isPopupOpen?de.a.active:"",c=a?Q.h.getI18NValue("support.request.thread.display.not.helpcenter"):Q.h.getI18NValue("support.request.thread.display.helpcenter"),d=i||!s&&!r;return C.a.createElement(S.Container,{className:de.a.ticketButton,isCover:!1},C.a.createElement("div",{className:de.a.ticketAction},C.a.createElement("div",{className:de.a.content+" "+(d?de.a.haveMore:""),onClick:this.onActionClick,"data-id":"replySendOption"},C.a.createElement("p",{className:de.a.actionType},Q.h.getI18NValue("crm.button.send")),n?C.a.createElement("p",{className:de.a.subtitle},Q.h.getI18NValue("support.request.private.thread")):null),d?C.a.createElement("span",{"data-id":"sendOptionHasMore",className:de.a.arrow,onClick:this.togglePopup},C.a.createElement(V.a,{name:"ZD-blockDownArrow",size:"8"})):null),C.a.createElement("div",{className:de.a.buttonAction+" "+l},i?C.a.createElement("div",{className:de.a.switchAction},C.a.createElement("p",null,C.a.createElement("span",{className:de.a.actionNotify},Q.h.getI18NValue("support.department.type.internal")),C.a.createElement("span",{className:de.a.switchbox},C.a.createElement(me.a,{id:"private",name:"private",size:"small",checked:a,onChange:o,dataId:"switchButton"}))),C.a.createElement("p",{className:de.a.actionSubtitle},c)):null,s||r?null:C.a.createElement("div",{"data-id":"sendAndCloseOption"},C.a.createElement("span",{className:de.a.secondarybutton,onClick:t},Q.h.getI18NValue("support.request.send.and.close")))))}}]),t}(C.a.Component),he=pe;pe.propTypes={haveForWardPermissionOnly:I.a.bool,havePrivateThreadConfig:I.a.bool,haveVisibilityChangePer:I.a.bool,isDraft:I.a.bool,isPrivateButtonEnable:I.a.bool,isPrivateThread:I.a.bool,isSharedTicket:I.a.bool,isStatusLocked:I.a.bool,sendAndClose:I.a.func,sendDraft:I.a.func,sendReply:I.a.func,togglePrivateSwitch:I.a.func};var fe=n("./src/components/Subtab/UploadList/UploadList.js"),ge=n("./src/components/Subtab/TicketCloseButton/TicketCloseButton.js"),be=n("./src/components/Subtab/UploadPopup/UploadPopup.js"),ve=n("../components/lib/Button/Button.js"),ye=n.n(ve),Ce=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.closeEdtior,n=e.orgId,a=e.showAttachmentViewer,o=e.openCloudAttach,s=e.closeCloudAttach,r=e.deleleUpload,i=e.uploadAttach,l=e.removeAttachment,c=e.oldAttachments,d=e.newAttachments,u=e.sendDraft,m=e.isDraft,p=e.sendReply,h=e.sendAndClose,f=e.isPrivateThread,g=e.isPrivateButtonEnable,b=e.togglePrivateSwitch,v=e.isPeekView,y=e.haveMailSendPermission,E=e.isStatusLocked,I=e.havePrivateThreadConfig,k=e.isFromBlueprint,A=e.sendForReview,_=e.CloudAttachmentIframe,j=e.isCloudAttchOpen,O=e.addCloudAttch,D=e.haveForWardPermissionOnly,T=e.isSharedTicket,x=e.haveVisibilityChangePer,N=e.isCustomChannel,w=e.acceptsAttachments,P=e.appName,z=e.deleteDraft,R=e.sendCusomChannelReply,F=!0;return N&&!w&&(F=!1),C.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:le.a.mainContainer+" "+(k?le.a.bluePrintLayar:"")},C.a.createElement("div",{className:le.a.shadow}),C.a.createElement(S.Box,{flexible:!0},C.a.createElement(S.Container,{alignBox:"row",dataId:"editorContainer",className:le.a.replyBottom,isCover:!1},F?C.a.createElement(S.Box,{className:le.a.btmDiv},C.a.createElement(S.Container,{className:le.a.attchIcn,align:"vertical",alignBox:"row"},C.a.createElement("label",{htmlFor:"replyAttach"},C.a.createElement(V.a,{name:"ZD-attachment5",size:"16"}),C.a.createElement("input",{className:le.a.fileCont,type:"file",onChange:i,multiple:"multiple",id:"replyAttach","data-id":"replyAttach"})),C.a.createElement("div",{className:le.a.attchPopup},C.a.createElement(be.a,{label:"replyAttachLabel",boxPosition:"topRight",bottom:35,left:5,onAttchClick:i,openCloudAttach:o,dataId:"cloudAttach"})))):null,C.a.createElement(S.Box,{shrink:!0,flexible:!0,className:le.a.uploadImg},C.a.createElement(fe.a,{oldAttachments:c,newAttachments:d,deleleUpload:r,removeAttachment:l,showAttachmentViewer:a,orgId:n,from:"replyEdtior",isPeekView:v,dataId:"uploadList"})),k?null:C.a.createElement(S.Box,{dataId:"send-options"},C.a.createElement(S.Container,{align:"vertical",alignBox:"row",isCover:!1},y?N?C.a.createElement(C.a.Fragment,null,C.a.createElement(ye.a,{palette:"primaryFilled",text:Q.h.getI18NValue("support.common.request.channel.integ.sendvia",[P]),onClick:R,className:le.a.actionBtn,dataId:"discardDraft"}),m?C.a.createElement(ye.a,{palette:"secondary",text:Q.h.getI18NValue("support.common.request.mail.discard.draft",[P]),className:le.a.actionBtn,onClick:z}):null):C.a.createElement("span",{className:le.a.sendBtn},C.a.createElement(he,{sendDraft:u,sendReply:p,sendAndClose:h,isDraft:m,isPrivateThread:f,isPrivateButtonEnable:g,togglePrivateSwitch:b,haveMailSendPermission:y,isStatusLocked:E,havePrivateThreadConfig:I,haveForWardPermissionOnly:D,isSharedTicket:T,haveVisibilityChangePer:x})):C.a.createElement(ye.a,{palette:"primaryFilled",text:Q.h.getI18NValue("support.common.save.and.send.for.review"),onClick:A,className:le.a.actionBtn,dataId:"sendVia"}),C.a.createElement(S.Box,null,C.a.createElement(ge.a,{isCancel:!0,onClick:function(){t()},dataId:"CloseButton"}))))),j&&_?C.a.createElement(_,{addCloudAttch:O,totalLen:c.length+d.length,closeIframe:s}):null))}}]),t}(C.a.Component),Ee=Ce;Ce.propTypes={CloudAttachmentIframe:I.a.node,addCloudAttch:I.a.func,closeCloudAttach:I.a.func,closeEdtior:I.a.func,deleleUpload:I.a.func,deleteDraft:I.a.func,haveForWardPermissionOnly:I.a.bool,haveMailSendPermission:I.a.bool,havePrivateThreadConfig:I.a.bool,haveVisibilityChangePer:I.a.bool,isCloudAttchOpen:I.a.bool,isCustomChannel:I.a.bool,isDraft:I.a.bool,isFromBlueprint:I.a.bool,isPeekView:I.a.bool,isPrivateButtonEnable:I.a.bool,isPrivateThread:I.a.bool,isSharedTicket:I.a.bool,isStatusLocked:I.a.bool,newAttachments:I.a.array,oldAttachments:I.a.array,openCloudAttach:I.a.func,orgId:I.a.string,removeAttachment:I.a.func,sendAndClose:I.a.func,sendDraft:I.a.func,sendForReview:I.a.func,sendReply:I.a.func,showAttachmentViewer:I.a.func,togglePrivateSwitch:I.a.func,uploadAttach:I.a.func};var Ie=n("./src/components/Subtab/ForumFooter/ForumFooter.module.css"),ke=n.n(Ie),Ae=n("../components/lib/DropBox/DropBox.js"),_e=n.n(Ae),je=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));n.state={draftId:null,statusOpen:!1},n._mount=!1;return oe.a.apply(n,["saveDraft","sendReply","togglePopup"]),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({statusOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"togglePopup",value:function(){this.setState(function(e){return{statusOpen:!e.statusOpen}})}},{key:"onSelect",value:function(e){var t=this.props,n=t.ticketId;(0,t.changeForumStatus)(t.channelRelatedInfo.topicId,e,n),this.togglePopup()}},{key:"sendReply",value:function(){var e=this.props,t=e.isDraft,n=e.editorId,a=e.sendReply,o=e.sendDraft,s=e.updateDraft,r=e.channelRelatedInfo,i=e.showMessage;if(""==r.forumStatus)i({type:"alert",message:Q.h.getI18NValue("support.community.tickettopic.selectstatus")});else{var l=this.state.draftId,c={channel:"FORUMS",content:l?editor[l].getContent():editor[n].getContent()};t?s(function(){o()}):a(c)}}},{key:"saveDraft",value:function(){var e=this,t=this.props,n=t.isDraft,a=t.editorId,o=t.saveDraft,s=t.updateDraft,r=this.state.draftId,i=r?editor[r].getContent():editor[a].getContent();n?s({channel:"FORUMS",content:i},function(){}):o(function(){e.setState({draftId:a})})}},{key:"render",value:function(){var e=this,t=this.state.statusOpen,n=this.props,a=n.closeEdtior,o=n.isDraft,s=n.channelRelatedInfo,r=n.deleteDraft,i=s.topicType,l=s.forumStatus,c=Object(H.s)(i),d=Q.h.getI18NValue("support.forum.setstatus"),u=!1;return c.forEach(function(e){l==e.value&&(d=e.label,u=!0)}),C.a.createElement(S.Container,{alignBox:"row",className:ke.a.mainContainer},C.a.createElement("div",{className:ke.a.shadow}),C.a.createElement(S.Box,{className:ke.a.forumDiv},"QUESTION"==i||"IDEA"==i||"PROBLEM"==i?C.a.createElement("div",{className:ke.a.forumStatus},C.a.createElement(_e.a,{isAnimate:!0,isArrow:!1,isRadius:!1,size:"default",boxPosition:"topCenter",isActive:t},c.map(function(t,n){var a=t.label,o=t.value,s=a==d;return C.a.createElement("div",{className:ke.a.dropList+" "+(s?ke.a.selected:""),key:n,onClick:e.onSelect.bind(e,o)},a)})),C.a.createElement("div",{className:ke.a.container+" "+(u?ke.a.statusSel:"")},C.a.createElement("span",{className:ke.a.forumstatusText},d),C.a.createElement("span",{className:ke.a.dropDown,onClick:function(t){t.stopPropagation&&t.stopPropagation(),e.togglePopup()}},C.a.createElement(V.a,{name:"ZD-blockDownArrow",size:"8"})))):null),C.a.createElement(S.Box,null,C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Q.h.getI18NValue("support.forums.posttoforums"),palette:"primaryFilled",size:"medium",onClick:this.sendReply})),C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Q.h.getI18NValue("support.common.request.mail.save.draft"),palette:"secondary",size:"medium",onClick:this.saveDraft}),o?C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Q.h.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:r})):null),C.a.createElement("span",{className:ke.a.postButton},C.a.createElement(ye.a,{text:Q.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:a}))))}}]),t}(C.a.Component),Oe=je;je.propTypes={changeForumStatus:I.a.func,channelRelatedInfo:I.a.object,closeEdtior:I.a.func,deleteDraft:I.a.func,editorId:I.a.string,isDraft:I.a.bool,saveDraft:I.a.func,sendDraft:I.a.func,sendReply:I.a.func,showMessage:I.a.func,ticketId:I.a.string,updateDraft:I.a.func};var Se=n("./src/components/Subtab/SnippetActionPopup/SnippetActionPopup.module.css"),De=n.n(Se),Te=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props.openSnippet;return C.a.createElement("div",{className:De.a.popup,onMouseUp:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},C.a.createElement(_e.a,{isAnimate:!0,size:"small",isActive:!0,boxPosition:"bottomRight",isArrow:!0,arrowLeft:"15"},C.a.createElement(S.Container,{alignBox:"row",className:De.a.list,onClick:e.bind(this,"list")},C.a.createElement(S.Box,{className:De.a.icon},C.a.createElement(P,null)),C.a.createElement(S.Box,{flexible:!0},Q.h.getI18NValue("support.solution.addedit.snippet"))),C.a.createElement(S.Container,{alignBox:"row",className:De.a.list,onClick:e.bind(this,"form")},C.a.createElement(S.Box,{className:De.a.icon},C.a.createElement(N,null)),C.a.createElement(S.Box,{flexible:!0},Q.h.getI18NValue("support.module.add",[Q.h.getI18NValue("support.solution.addedit.snippet")])))))}}]),t}(C.a.Component),xe=Te;Te.propTypes={openSnippet:I.a.func};var Ne,we=n("./src/components/Subtab/AudioMessage/AudioMessage.js"),Pe=n("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),ze=n("./src/reducers/selector.js"),Re=n("./src/actions/AttachmentActions.js"),Fe=n("./src/actions/ReplyActions.js"),Be=n("./src/actions/TemplateActions.js"),Me=n("./src/actions/TicketDetailViewAction.js"),Ve=n("./src/actions/index.js"),Le=n("./src/actions/AgentCollisionActions.js"),Ze=n("./src/actions/SnippetActions.js"),Ue=n("./src/utils/Attachment.js"),Ke=n("./src/utils/Editor.js"),He=n("./src/fz-i18n/offset.js"),We=n("./src/fz-i18n/utils.js"),qe=n("./src/components/Subtab/collision/collisionAlert/CollisionReplyAlert/CollisionReplyAlert.js"),Ge=n("./src/containers/asyncComponent.js"),Qe=n("./src/utils/debounce.js"),$e=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),Ye=n.n($e),Je=n("./src/components/Subtab/EmailTemplatePopup/EmailTemplatePopup.module.css"),Xe=n.n(Je),et=n("../components/lib/Card/index.js"),tt=n("./src/components/Subtab/Loading/Loading.js"),nt=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.setInputRef=n.setInputRef.bind(n),n}return v()(t,e),h()(t,[{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.inputRef.focus()},10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.from,a=t.limit,o=t.isFetching,s=t.searchStr,r=t.handleSearch,i=t.templeData,l=t.insertEmailTemplateData,c=t.noMoreData,d=t.fetchData,u=t.handleRefresh,m=Ye()(i),p=m.length;return C.a.createElement("div",{className:Xe.a.popup,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},C.a.createElement(_e.a,{isAnimate:!0,size:"xxlarge",boxPosition:"bottomRight",isActive:!0,arrowLeft:"55"},C.a.createElement(et.Card,{from:n,limit:a,noMoreData:c,fetchData:d,noNeedUpScroll:!0},C.a.createElement(et.CardHeader,{className:Xe.a.viewpopsearch},C.a.createElement(U.a,{placeHolder:Q.h.getI18NValue("crm.label.search"),value:s,onChange:r,inputRef:this.setInputRef})),C.a.createElement(et.CardContent,{className:Xe.a.listCont},p?m.map(function(t,n){var a=i[t],o=a.list,s=void 0===o?[]:o,r=a.name;return s.length?C.a.createElement("div",{key:n},C.a.createElement("div",{className:Xe.a.title},r),s.map(function(t,n){var a=t.templateId,o=t.templateName;return C.a.createElement("div",{className:Xe.a.list,"data-title":o,onClick:l.bind(e,a),key:n},o)}),p!=n+1?C.a.createElement("div",{className:Xe.a.seperate}):null):null}):o?C.a.createElement(tt.a,null):C.a.createElement("div",{className:Xe.a.emptyTxt},C.a.createElement("div",{className:Xe.a.emtyIcon},C.a.createElement(V.a,{name:"ZD-exclamationThincircle"})),Q.h.getI18NValue("support.module.empty.message",[Q.h.getI18NValue("support.request.template")]))),C.a.createElement(et.CardFooter,{className:Xe.a.footer},C.a.createElement("span",{className:Xe.a.footerOption,onClick:u},C.a.createElement("span",{className:Xe.a.updateIcon},C.a.createElement(V.a,{name:"ZD-update",size:"16"})),Q.h.getI18NValue("crm.button.refresh")),C.a.createElement("span",{className:Xe.a.footerOption},C.a.createElement("span",{className:Xe.a.updateIcon},"+"),Q.h.getI18NValue("crm.button.create.new.email.template"))))))}}]),t}(y.Component),at=nt;nt.propTypes=(Ne={fetchData:I.a.func,from:I.a.string,handleRefresh:I.a.func,handleSearch:I.a.func},o()(Ne,"handleSearch",I.a.func),o()(Ne,"insertEmailTemplateData",I.a.func),o()(Ne,"isFetching",I.a.bool),o()(Ne,"limit",I.a.string),o()(Ne,"noMoreData",I.a.bool),o()(Ne,"searchStr",I.a.string),o()(Ne,"templeData",I.a.object),Ne);var ot=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));return n.state={from:0,limit:50,searchStr:"",templeData:{},templatesList:[]},n.getEmailTemplates=n.getEmailTemplates.bind(n),n.fetchData=n.fetchData.bind(n),n.handleSearch=Object(Qe.a)(n.handleSearch.bind(n),100,!0),n.handleRefresh=n.handleRefresh.bind(n),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.getEmailTemplates(0)}},{key:"getEmailTemplates",value:function(e){var t=this,n=this.state,a=n.limit,o=n.searchStr,s=n.templatesList,r=this.props,i=r.deptId,l=r.getEmailTemplates;return this.setState({isFetching:!0,from:e}),l(i,"tickets",e,a,o).then(function(e){var n=!e.data.length||e.data.length<a,o=e.data.length?s.concat(e.data):s;t.setState({isFetching:!1,noMoreData:n,templatesList:o}),t.constructTemplateData(o)},function(){t.setState({isFetching:!1,noMoreData:!0})})}},{key:"constructTemplateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.length&&e.forEach(function(e){var n=e.folder,a=n.folderId,o=n.folderName,s=(t[a]||{}).list,i=(void 0===s?[]:s).concat([e]),l=r()({},t[a],{list:i,name:o});t[a]=l}),this.setState({templeData:t})}},{key:"handleSearch",value:function(e){var t=this;this.setState({searchStr:e,noMoreData:!1,templatesList:[]},function(){t.getEmailTemplates(0)})}},{key:"fetchData",value:function(e){return this.getEmailTemplates(e)}},{key:"handleRefresh",value:function(){this.handleSearch("")}},{key:"render",value:function(){var e=this.state,t=e.from,n=e.limit,a=e.templeData,o=e.searchStr,s=e.isFetching,r=e.noMoreData,i=this.props.insertEmailTemplateData;return C.a.createElement(at,{from:t,limit:n,noMoreData:r,fetchData:this.fetchData,isFetching:s,templeData:a,searchStr:o,insertEmailTemplateData:i,handleSearch:this.handleSearch,handleRefresh:this.handleRefresh})}}]),t}(y.Component);ot.propTypes={deptId:I.a.string,getEmailTemplates:I.a.func,insertEmailTemplateData:I.a.func};var st,rt=Object(k.connect)(function(e,t){return{}},{getEmailTemplates:Be.a})(ot),it=n("./src/components/PortalLayer/PortalLayer.js"),lt=n("./src/actions/BluePrintActions.js"),ct=function(e){function t(e){m()(this,t);var n=g()(this,(t.__proto__||d()(t)).call(this,e));n.state={newAttachments:[],isAttachmentUploading:!1,draftText:Q.h.getI18NValue("support.common.request.mail.save.draft"),selectedFromAddress:"",searchMode:"",searchData:[],isRecipientsVisible:!0,isPrivateButtonEnable:!0,isTemplateOpen:!1,isSnippetActionOpen:!1},n.draftTimeLimit=6e4;return oe.a.apply(n,["constructEditorData","constructFromAddress","saveDraft","sendForReview","updateDraft","uploadAttach","deleleUpload","removeAttachment","addEmail","changeEmail","removeEmail","getEmailObj","changeFromEmailAddress","sendDraft","searchContact","closeSearchPopup","hideRecipients","editorFocus","editorCallback","sendReply","sendAndClose","togglePrivateSwitch","checkIsPrivateThread","bindKeyDown","insertEmailTemplateData","openSnippet","getFromEmailAddress","hidePopup","createDraftTimer","addCloudAttch","openCloudAttach","closeCloudAttach","constructReplyHeader","blurCallback","deleteDraftConfirmation","deleteDraft","closeAlert","sendCusomChannelReply","handlePortalLayer","closeCollisionAlert"]),n.onCloseDeleteDraft=n.onClosePopup.bind(n,"DeleteDraft"),n}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.constructEditorData(),this.constructFromAddress(),document.addEventListener("click",this.hidePopup),this.setDefaultFromAddress()}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.state,o=a.toAddress,s=a.ccAddress,r=a.bccAddress;t.toAddress==o&&t.ccAddress==s&&t.bccAddress==r||this.checkIsPrivateThread(),e.replyMode!=this.props.replyMode&&this.setState({ccAddress:[]},function(){n.constructEditorData(function(){n.constructCcAddress()})}),this.props.fromAddress!=e.fromAddress&&this.props.fromAddress.length&&this.setDefaultFromAddress(),e.replyingUsers.length!=this.props.replyingUsers.length&&this.props.replyingUsers.length&&this.setState({alertMode:"collisionReply"})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.state.replyMode;e.replyMode!=n&&this.setState({chageEditorContent:!0},function(){setTimeout(function(){t.setState({chageEditorContent:!1})},100)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePopup)}},{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"setDefaultFromAddress",value:function(){var e=this.props.fromAddress;if(e.length){var t=e[0].address;this.setState({selectedFromAddress:t});var n=this.props.setReplyData;n&&n("fromEmailAddress",t)}}},{key:"constructEditorData",value:function(e){var t=this.props,n=t.solutionAttachments,a=void 0===n?[]:n,o=t.havePrivateThreadConfig,s=t.replyThread,r=void 0===s?{}:s,i=t.replyMode,l=t.contactEmail,c=t.setReplyData,d=r.attachments,u=void 0===d?[]:d,m=r.author,p=void 0===m?{}:m,h=r.fromEmailAddress,f=r.direction,g=r.to,b=void 0===g?[]:g,v=r.cc,y=void 0===v?[]:v,C=r.bcc,E=void 0===C?[]:C,I=r.status,k=r.channel,A=r.visibility;u=a.length?a:u;var _=[];if(((u="editDraft"==i||"forward"==i?u:[]).length||a.length)&&("editDraft"==i||"forward"==i))for(var j=0;j<u.length;j++)_.push(u[j].id);var O=p.email&&"FEEDBACK"!=k?[p.email]:h?[h]:[];"out"==f&&(O=b.length?Object(G.d)(b):[]),O=O.length||r.channel||!l?O:[l],O="forward"!=i?O:[];for(var S=y.length&&"forward"!=i?Object(G.d)(y):[],D=E.length&&"editDraft"==i?Object(G.d)(E):[],T=O.concat(S,D),x=[],N=0;N<O.length;N++)Object(G.e)(O[N])||x.push(N);var w="forward"==i,P=void 0,z=!0;w?(P=!0,z=!1):o?P=-1==T.indexOf(l):(P="private"==A,z=!1),c&&c("toAddress",O),c&&c("ccAddress",S),c&&c("bccAddress",D),c&&c("isPrivateThread",P),this.setState({attachmentIds:_,oldAttachments:u,isDraft:"DRAFT"==I,toAddress:O,ccAddress:S,bccAddress:D,replyMode:i,isPrivateThread:P,inValideArr:x,isRecipientsVisible:O.length,isForwardReply:w,haveVisibilityChangePer:z},function(){e&&e()})}},{key:"constructFromAddress",value:function(){var e=this,t=this.props,n=t.replyThread,a=t.channelRelatedInfo;"FORUMS"==n.channel&&!a.isTopicDeleted||(this.setState({isFromAddressFetching:!0}),this.getFromEmailAddress().then(function(t){var n=function(){e.setState({isFromAddressFetching:!1}),e.constructCcAddress()};t&&t.data.res&&204==t.data.res.responseStatus?e.getFromEmailAddress(!0).then(n):n()}))}},{key:"getFromEmailAddress",value:function(e){var t=this.props,n=t.getFromEmailAddress,a=t.deptId;return n(a=e?"allDepartment":a)}},{key:"constructCcAddress",value:function(){var e=this.props,t=e.haveForWardPermissionOnly,n=e.setReplyData,a=e.mailConfigurations,o=e.fromAddress,s=e.replyMode;if(a.autoCCToMailbox&&!t&&"forward"!=s){var r=this.state.ccAddress;if(-1==r.indexOf(o[0].address)){var i=[].concat(l()(r),[o[0].address],l()(this.constructSecondaryContactEmails()));this.setState({ccAddress:i}),n&&n("ccAddress",i)}}}},{key:"constructSecondaryContactEmails",value:function(){var e=this.props,t=e.secondaryContacts,n=void 0===t?[]:t,a=e.contacts,o=[];n.length&&Object(H.h)(n,a).forEach(function(e){var t=e.firstName,n=e.lastName,a=e.email,s=Object(H.e)(t,n);o.push(s+"<"+a+">")});return o}},{key:"hidePopup",value:function(){this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1})}},{key:"checkIsPrivateThread",value:function(){var e=this.state,t=e.toAddress,n=void 0===t?[]:t,a=e.ccAddress,o=void 0===a?[]:a,s=e.bccAddress,r=void 0===s?[]:s,i=e.isForwardReply,l=e.isPrivateButtonEnable,c=this.props,d=c.havePrivateThreadConfig,u=c.contactEmail,m=c.replyThread,p=void 0===m?{}:m,h=c.setReplyData,f=n.concat(o,r),g=!0,b=!0;if(i)g=!0,b=!1;else if(d)if(l)for(var v=0;v<f.length;v++){if(Object(G.b)(f[v])==u){g=!1,b=!1;break}b=!0}else g=!1;else g="private"==p.visibility,b=!1;this.setState({isPrivateThread:g,haveVisibilityChangePer:b}),h&&h("isPrivateThread",g)}},{key:"addEmail",value:function(e,t){var n=this,a=this.props.setReplyData;if("to"==t){var o=[].concat(l()(this.state.toAddress),[e]);this.setState({toAddress:o},function(){n.checkEmailValide()}),a&&a("toAddress",o)}else if("cc"==t){var s=[].concat(l()(this.state.ccAddress),[e]);this.setState({ccAddress:s},function(){n.checkEmailValide()}),a&&a("ccAddress",s)}else if("bcc"==t){var r=[].concat(l()(this.state.bccAddress),[e]);this.setState({bccAddress:r},function(){n.checkEmailValide()}),a&&a("bccAddress",r)}}},{key:"checkEmailValide",value:function(){var e=this.state,t=e.toAddress,n=e.ccAddress,a=e.bccAddress,o=this.props.contact.email;if(o&&this.props.haveForWardPermissionOnly){var s=!0;if(t.forEach(function(e){Object(G.b)(e)==o&&(s=!1)}),s&&n.forEach(function(e){Object(G.b)(e)==o&&(s=!1)}),s&&a.forEach(function(e){Object(G.b)(e)==o&&(s=!1)}),!s){var r=this.props,i=r.showMessage,l=r.moduleMeta;return i({type:"alert",message:Q.h.getI18NValue("support.ticketshare.reply.error",[l.tickets.singularLabel])}),!1}return!0}return!0}},{key:"changeEmail",value:function(e,t,n){var a=this.props.setReplyData;if("to"==n){var o=this.state.inValideArr.filter(function(e){return e!==t});this.setState(function(n){var s=n.toAddress.slice();return s[t]=e,a&&a("toAddress",s),{toAddress:s,inValideArr:o}})}else"cc"==n?this.setState(function(n){var o=n.ccAddress.slice();return o[t]=e,a&&a("ccAddress",o),{ccAddress:o}}):"bcc"==n&&this.setState(function(n){var o=n.bccAddress.slice();return o[t]=e,a&&a("bccAddress",o),{bccAddress:o}})}},{key:"removeEmail",value:function(e,t,n){var a=this.props.setReplyData;if("to"==t){var o=this.state,s=o.toAddress,r=o.inValideArr.filter(function(t){return t!==e});s=[].concat(l()(s.slice(0,e)),l()(s.slice(e+1))),a&&a("toAddress",s),this.setState({toAddress:s,inValideArr:r},function(){n&&n()})}else if("cc"==t){var i=this.state.ccAddress;i=[].concat(l()(i.slice(0,e)),l()(i.slice(e+1))),this.setState({ccAddress:i},function(){n&&n()}),a&&a("ccAddress",i)}else if("bcc"==t){var c=this.state.bccAddress;c=[].concat(l()(c.slice(0,e)),l()(c.slice(e+1))),this.setState({bccAddress:c},function(){n&&n()}),a&&a("bccAddress",c)}}},{key:"openCloudAttach",value:function(){this.setState({isCLoudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCLoudOpen:!1})}},{key:"addCloudAttch",value:function(e,t,n){var a=this,o=this.state,s=o.newAttachments,i=o.oldAttachments.length+s.length+n,l={index:i,href:null,isPreview:!0};this.setState(function(e){var t=r()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,i,function(e,t){var n=a.state.newAttachments.map(function(n){return n.index===t?r()({},n,{percentComplete:e}):n});a.setState({newAttachments:n})}).then(function(e){var t=e.data,n=a.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});a.setState({newAttachments:n}),a.setState(function(e){var n=r()({},e);n.attachmentIds.push(t.data.id);var o=a.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n}),a.state.isDraft?a.updateDraft():a.saveDraft()},function(){a.setState(function(e){var t=r()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return i!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,n=this.state,a=n.newAttachments,o=n.oldAttachments.length+a.length,s=e.target?e.target.files:e,i=s.length,l=Object(Ue.p)(s,o),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:Q.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c)for(var m=0;m<c.length;m++){var p=c[m];p.isUnSupported&&u({type:"alert",message:Q.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&u({type:"alert",message:Q.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&u({type:"alert",message:Q.h.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&u({type:"alert",message:Q.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var n=function(n){var a=d[n],s=new FormData;s.append("file",a);var l=o+n,u=Object(Ue.g)(a,l);t.setState(function(e){var t=r()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(s,l,function(e,n){var a=t.state.newAttachments.map(function(t){return t.index===n?r()({},t,{percentComplete:e}):t});t.setState({newAttachments:a})}).then(function(n){var a=n.data;e+=1;var o=t.state.newAttachments.map(function(e){return e.index===a.data.index?a.data:e});t.setState({newAttachments:o}),t.setState(function(e){var n=r()({},e);n.attachmentIds.push(a.data.id);var o=t.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n}),e+c.length==i&&t.setState({isAttachmentUploading:!1})},function(){t.setState(function(e){var t=r()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return l!==e.index}),t})})},a=0;a<d.length;a++)n(a)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(n){var a=r()({},n);a.newAttachments=a.newAttachments.filter(function(t){return e!==t.id}),a.attachmentIds=a.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a})})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(n){var a=r()({},n);a.oldAttachments=a.oldAttachments.filter(function(t){return e!==t.id}),a.attachmentIds=a.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a})}},{key:"getEmailObj",value:function(){var e=this.state,t=e.toAddress,n=e.ccAddress,a=e.bccAddress,o="",s="",r="";if(t.length)for(var i=0;i<t.length;i++)o+=0==i?t[i]:","+t[i];if(n.length)for(var l=0;l<n.length;l++)s+=0==l?n[l]:","+n[l];if(a.length)for(var c=0;c<a.length;c++)r+=0==c?a[c]:","+a[c];return{toArr:o,ccArr:s,bccArr:r}}},{key:"saveDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({draftText:"Saving draft...",isToEmpty:!1});var t=this.props,n=t.editorId,a=t.saveDraft,o=t.revertIsEditorChanged,s=t.isEditorChanged,r=t.isCustomChannel,i=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=editor[n].getContent(),m=this.getEmailObj(),p={channel:"EMAIL",attachmentIds:c,to:m.toArr,cc:m.ccArr,bcc:m.bccArr,fromEmailAddress:d,contentType:"html",content:u};if(r){var h="html",f=i.code;i.replyConfig.contentTypes.includes("text/html")||(h="plaintext"),p={content:u,channel:f,contentType:h,attachmentIds:c}}a(p,function(t){s&&o();var a=Q.h.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:"Saved @ "+a,isDraft:!0,draftId:n})})}}},{key:"sendForReview",value:function(){if(this.checkEmailValide()){var e=this.props,t=(e.ticketId,e.editorId),n=e.saveDraft,a=e.sendForReview,o=e.revertIsEditorChanged,s=e.isEditorChanged,r=e.replyThread,i=e.updateDraft,l=e.isCustomChannel,c=e.channelInfo,d=this.state,u=d.attachmentIds,m=d.selectedFromAddress,p=editor[t].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:u,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:m,contentType:"html",content:p};if(l){var g="html",b=c.code;c.replyConfig.contentTypes.includes("text/html")||(g="plaintext"),f={content:p,channel:b,contentType:g}}"DRAFT"==r.status?i(f,function(e){s&&o(),a()}):n(f,function(e){s&&o(),a()})}}},{key:"updateDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){this.setState({draftText:Q.h.getI18NValue("support.common.request.mail.saving.draft")+"...\n        "});var t=this.props,n=(t.ticketId,t.editorId),a=t.updateDraft,o=t.revertIsEditorChanged,s=t.isEditorChanged,r=t.isCustomChannel,i=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.draftId,m=u?editor[u].getContent():editor[n].getContent(),p=this.getEmailObj(),h={channel:"EMAIL",attachmentIds:c,to:p.toArr,cc:p.ccArr,bcc:p.bccArr,fromEmailAddress:d,contentType:"html",content:m};if(r){var f="html",g=i.code;i.replyConfig.contentTypes.includes("text/html")||(f="plaintext"),h={content:m,channel:g,contentType:f,attachmentIds:c}}a(h,function(t){s&&o();var a=Q.h.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:Q.h.getI18NValue("support.social.saved")+" @ "+a,isDraft:!0,draftId:u||n})})}}},{key:"changeFromEmailAddress",value:function(e){var t=this.props,n=t.haveForWardPermissionOnly;if((t.mailConfigurations||{}).autoCCToMailbox&&!n){var a=this.state,o=a.ccAddress,s=a.selectedFromAddress,r=o.indexOf(s);r>-1?-1==o.indexOf(e)&&(o[r]=e):o.push(e),this.setState({ccAddress:o});var i=this.props.setReplyData;i&&i("ccAddress",o)}this.setState({selectedFromAddress:e});var l=this.props.setReplyData;l&&l("fromEmailAddress",e)}},{key:"sendDraft",value:function(e){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var t=this.props,n=t.editorId,a=t.updateDraft,o=t.sendDraft,s=t.revertIsEditorChanged,r=t.isEditorChanged,i=this.state,l=i.attachmentIds,c=i.selectedFromAddress,d=i.draftId,u=i.isPrivateThread,m=i.isPrivateButtonEnable,p=d?editor[d].getContent():editor[n].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:l,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:c,contentType:"html",content:p},g=u&&m;a(f,function(t){o(g,function(){r&&s(),"function"==typeof e&&e()})})}}},{key:"sendReply",value:function(e,t){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length||this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var n=this.props,a=n.editorId,o=(n.updateDraft,n.sendReply),s=n.replyMode,r=n.revertIsEditorChanged,i=n.isEditorChanged,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.isPrivateThread,m=l.isPrivateButtonEnable,p=editor[a].getContent(),h=this.getEmailObj();o({channel:"EMAIL",attachmentIds:c,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:d,contentType:"html",content:p,isForward:"forward"==s},u&&m,e,function(){i&&r(),"function"==typeof t&&t()})}}},{key:"sendAndClose",value:function(){var e=this.props,t=e.isDraftThread,n=e.closeTicket,a=e.haveEditPermission;t?this.sendDraft(function(){a&&n()}):this.sendReply(!0,function(){a&&n()})}},{key:"sendCusomChannelReply",value:function(){var e=this.props,t=e.editorId,n=e.sendReply,a=e.channelInfo,o=this.state.attachmentIds,s=editor[t].getContent(),r="html",i=a.code;a.replyConfig.contentTypes.includes("text/html")||(r="plaintext"),n({content:s,channel:i,contentType:r,attachmentIds:o})}},{key:"searchContact",value:function(e,t){var n=this;this.setState({searchMode:e}),this.props.searchContact(t).then(function(e){e.data.list.length?n.setState({searchData:e.data.list}):n.setState({searchData:"noData"})})}},{key:"closeSearchPopup",value:function(){this.setState({searchMode:"",searchData:[]})}},{key:"hideRecipients",value:function(){this.setState({isRecipientsVisible:!1})}},{key:"blurCallback",value:function(){this.setState({isEditorFocus:!1})}},{key:"editorFocus",value:function(){var e=this.state.toAddress,t=void 0===e?[]:e;this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1}),t.length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),this.setState({isEditorFocus:!0})}},{key:"editorCallback",value:function(e){var t=this,n=this.props,a=n.ticketId,o=n.publishUserAction,s=n.getSnippetList,r=n.isCustomChannel,i=n.channelInfo;r&&(i.replyConfig.contentTypes.includes("text/html")||e.toolbardiv.querySelectorAll(".KB_Editor_Richtext,.ze_plain")[0].remove());var l=this.state.toAddress;(void 0===l?[]:l).length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),o(a,"reply",WebMessanger.getRawSid&&WebMessanger.getRawSid()),s(),this.bindKeyDown();var c=document.getElementsByClassName("TemplateIcon")[0],d=document.getElementsByClassName("SnippetIcon")[0];c.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isTemplateOpen:!0,isSnippetActionOpen:!1})}),d.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isSnippetActionOpen:!0,isTemplateOpen:!1})})}},{key:"bindKeyDown",value:function(){var e=this,t=this.props.editorId,n=editor[t];n.doc.onkeydown=function(t){var a=t.keyCode,o=t.shiftKey,s=t.altKey,r=t.ctrlKey,i=t.metaKey;if(9===a){t.preventDefault(),t.stopPropagation();for(var l=e.props,c=l.snippetData,d=l.snippets,u=l.ticket,m=l.contact,p=l.account,h=l.agent,f=c.snippetIds,g=[],b=0;b<f.length;b++){d[f[b]]&&g.push(d[f[b]])}var v=Object(Ke.b)(n._getSelection(),n.doc,n,g).content;v=Object(Ke.f)(v,u,m,p,h),n.insertHTML(v)}if(!(o||s||r||i||9==a||20==a||33==a||34==a||37==a||38==a||39==a||40==a)){e.setState({contentModified:!0},function(){e.createDraftTimer()});var y=e.props,C=y.isEditorChanged,E=y.setIsEditorChanged;!C&&E()}}}},{key:"createDraftTimer",value:function(){var e=this;setTimeout(function(){e.state.contentModified&&(e.state.isDraft?e.updateDraft():e.saveDraft(),e.setState({contentModified:!1}))},this.draftTimeLimit)}},{key:"togglePrivateSwitch",value:function(){var e=this;this.setState(function(e){return{isPrivateButtonEnable:!e.isPrivateButtonEnable}},function(){e.checkIsPrivateThread()})}},{key:"insertEmailTemplateData",value:function(e){var t=this,n=this.props,a=n.getTemplateContent,o=(n.editorId,n.ticketId),s=n.isEditorChanged,r=n.setIsEditorChanged;a(e,o).then(function(e){var n=e.data.res.body;new RegExp("<(\"[^\"]*\"|'[^']*'|[^'\">])*>").test(n)||(n=n.replace(/\n/g,"<br/>")),Object(Ke.c)(t.props.editorId,n),t.setState({contentModified:!0},function(){t.createDraftTimer()}),!s&&r(),t.setState({isTemplateOpen:!1})})}},{key:"openSnippet",value:function(e){this.setState({isSnippetActionOpen:!1});var t=this.props,n=t.openSnippet;n(e,t.editorId)}},{key:"constructReplyHeader",value:function(){var e=this.props,t=e.replyThread,n=e.replyMode,a=e.ticket,o=e.ticketId,s=e.editorId,r=e.myInfo,i=e.isCustomChannel,l=t.author,c=t.to,d=t.cc,u=t.from,m=Q.h.userDateFormat(new Date(t.createdTime),{},"lateby","left",!1,function(){return"DDD, DD MMM YYYY HH:mm:ss"}),p=-He.a[r.timeZone];p=((p=parseInt(p))<0?"+":"-")+Object(We.i)(parseInt(Math.abs(p/60)),2)+Object(We.i)(Math.abs(p%60),2);var h="";if(o!=s){var f=l.email?" < "+l.email+" > ":"",g=i?u:'"'+l.name+'"'+f+" ";"forward"==n?(h="<div><div>============ "+Q.h.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n          <div>"+Q.h.getI18NValue("support.request.from.emailid")+":  "+Object(H.k)(g)+"<br></div>",Object(H.k)(c)&&(h+="<div>"+Q.h.getI18NValue("crm.label.to.email")+": "+Object(H.k)(c)+"<br></div>"),Object(H.k)(d)&&(h+="<div>"+Q.h.getI18NValue("crm.label.cc.email")+": "+Object(H.k)(d)+"<br></div>"),h+="<div>"+Q.h.getI18NValue("crm.events.date")+": "+m+" "+p+" <br></div>\n          <div>"+Q.h.getI18NValue("crm.label.subject")+": "+Object(H.k)(a.subject)+"</div>\n          <div>============ "+Q.h.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n        </div><br>"):h="<div>---- "+Q.h.getI18NValue("support.on")+" "+m+" "+p+" <b> "+Object(H.k)(g)+" </b> "+Q.h.getI18NValue("suppot.mail.header.wrote")+" ---- <br></div><br>"}return h}},{key:"deleteDraftConfirmation",value:function(){this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.onDeleteDraft(!1)}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"onClosePopup",value:function(e){this["on"+e](!1)}},{key:"closeCollisionAlert",value:function(){var e=this.props,t=e.isFromBlueprint,n=e.closeEdtior,a=e.closeTransitionForm;t?a():n()}},{key:"render",value:function(){var e=this.props,t=e.editorId,n=e.replyContent,a=e.replyThread,o=e.replyMode,s=e.orgName,r=e.orgId,i=e.showAttachmentViewer,l=e.closeEdtior,c=e.openEditor,d=e.signatureObj,u=void 0===d?{}:d,m=e.linkHolder,p=e.solutionContent,h=e.saveDraft,f=e.updateDraft,g=e.isDraftThread,b=e.sendReply,v=e.sendDraft,y=e.replyingUsers,E=e.agents,I=e.ticketId,k=e.isPeekView,A=e.haveMailSendPermission,j=e.channelRelatedInfo,O=e.mailConfigurations,T=e.myInfo,x=e.isStatusLocked,w=e.havePrivateThreadConfig,z=e.isFromBlueprint,F=e.isCloudAttchOpen,B=e.haveForWardPermissionOnly,M=e.isSharedTicket,V=e.uploadAttach,L=e.fromAddress,Z=e.isCustomChannel,U=e.channelInfo,K=e.changeForumStatus,W=e.showMessage,q=e.deptId,G=e.depName,Q=this.state,$=Q.newAttachments,Y=Q.oldAttachments,J=Q.draftText,X=Q.toAddress,ee=Q.ccAddress,te=Q.bccAddress,ne=Q.searchMode,ae=Q.searchData,oe=Q.isRecipientsVisible,se=Q.isPrivateThread,ie=Q.haveVisibilityChangePer,le=Q.isPrivateButtonEnable,ce=Q.inValideArr,de=Q.isTemplateOpen,ue=Q.isSnippetActionOpen,me=Q.isCLoudOpen,pe=Q.chageEditorContent,he=Q.isEditorFocus,fe=Q.isFromAddressFetching,ge=Q.isToEmpty,be=Q.alertMode,ve=a&&"DRAFT"==a.status,ye="forum"==o&&!j.isTopicDeleted,Ce=U.replyConfig,Ie=U.appName,ke=!0,Ae=!0,_e=void 0;if(Z){var je=Ce.contentTypes,Se=Ce.includeQuotedMessage,De=Ce.acceptsAttachments;je.includes("text/html")||(_e="plaintext"),Ae=Se,ke=De}var Te=n;if(""!=Te&&"<html><body><div></div></body></html>"!=Te&&!ve){"TWILIO"==a.channel&&Object(H.I)(a.content)&&(Te=_.a.renderToStaticMarkup(C.a.createElement(we.a,{thread:a})));var Ne=this.constructReplyHeader();Te=Ae?'<br><blockquote style="border-left: 1px dotted #e5e5e5;margin-left:5px;padding-left: 5px;">'+Ne+"<div>"+Te+"</div></blockquote>":""}if(ye)Te="";else{if(!ve){var ze=u.isActive,Re=u.defaultSignature,Fe=u.customizedSignatures,Be=null;ze&&(Be=Re,(void 0===Fe?[]:Fe).forEach(function(e){var t=e.departmentId,n=e.signature;q==t&&(Be=n)})),Be&&!ve&&(Te="<br>"+Be+Te),m&&"forward"!=o&&Ae&&(Te="<div><br></div><div><br></div>"+m+"<div><br></div>"+Te+"<div><br></div>")}"string"==typeof p&&(Te=p+Te)}return Te="<div><br></div>"+Te,C.a.createElement(S.Container,null,C.a.createElement(N,{isRender:!1,isSymbol:!0}),C.a.createElement(P,{isRender:!1,isSymbol:!0}),C.a.createElement(R,{isRender:!1,isSymbol:!0}),ye?null:C.a.createElement(S.Box,null,C.a.createElement(re,{mode:o,saveDraft:this.saveDraft,updateDraft:this.updateDraft,toAddress:X,bccAddress:te,ccAddress:ee,isDraft:ve,draftText:J,addEmail:this.addEmail,changeEmail:this.changeEmail,removeEmail:this.removeEmail,fromEmailAddress:L,isFromAddressFetching:fe,changeFromEmailAddress:this.changeFromEmailAddress,deleteDraft:this.deleteDraftConfirmation,searchContact:this.searchContact,openEditor:c,threadId:t,content:n,thread:a,searchMode:ne,searchData:ae,orgName:s,closeSearchPopup:this.closeSearchPopup,isRecipientsVisible:oe,hideRecipients:this.hideRecipients,inValideArr:ce,isPeekView:k,getFromEmailAddress:this.getFromEmailAddress,haveMailSendPermission:A,mailConfigurations:O,myInfo:T,isFromBlueprint:z,haveForWardPermissionOnly:B,isEditorFocus:he,isToEmpty:ge,isCustomChannel:Z,depName:G})),de||ue?C.a.createElement(S.Box,null,de?C.a.createElement(rt,{deptId:q,insertEmailTemplateData:this.insertEmailTemplateData}):ue?C.a.createElement(xe,{openSnippet:this.openSnippet}):null):null,C.a.createElement(S.Box,{flexible:!0},C.a.createElement(D.a,{id:t,value:Te,onFocus:this.editorFocus,editorCallback:this.editorCallback,editorMode:"TicketReply",onUpload:V,chageEditorContent:pe,blurCallback:this.blurCallback,mode:_e,dataId:"editorContainer",type:"xlarge",editorOptions:{needEditorFocus:!z}})),C.a.createElement(S.Box,null,ye?z?null:C.a.createElement(Oe,{ticketId:I,changeForumStatus:K,showMessage:W,closeEdtior:l,sendDraft:v,editorId:t,saveDraft:h,deleteDraft:this.deleteDraftConfirmation,updateDraft:f,isDraft:g,sendReply:b,channelRelatedInfo:j,haveMailSendPermission:A}):C.a.createElement(Ee,{isFromBlueprint:z,closeEdtior:l,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,showAttachmentViewer:i,openCloudAttach:this.openCloudAttach,closeCloudAttach:this.closeCloudAttach,orgId:r,newAttachments:$,oldAttachments:Y,removeAttachment:this.removeAttachment,sendDraft:this.sendDraft,isDraft:ve,sendReply:this.sendReply,sendAndClose:this.sendAndClose,isPrivateThread:se,haveVisibilityChangePer:ie,isPrivateButtonEnable:le,togglePrivateSwitch:this.togglePrivateSwitch,isPeekView:k,haveMailSendPermission:A,isStatusLocked:x,havePrivateThreadConfig:w,sendForReview:this.sendForReview,isCloudAttchOpen:F&&me,CloudAttachmentIframe:Ge.n,addCloudAttch:this.addCloudAttch,haveForWardPermissionOnly:B,isSharedTicket:M,isCustomChannel:Z,acceptsAttachments:ke,appName:Ie,deleteDraft:this.deleteDraftConfirmation,sendCusomChannelReply:this.sendCusomChannelReply})),C.a.createElement(it.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},C.a.createElement(Pe.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})),"collisionReply"==be&&y.length?C.a.createElement(qe.a,{agents:E,replyingUsers:y,replyConfirm:this.closeAlert,closeAlert:this.closeCollisionAlert,isFromReplyEditor:!0}):null)}}]),t}(y.Component);ct.defaultProps={isFromBlueprint:!1},ct.propTypes=(st={account:I.a.object,agent:I.a.object,agents:I.a.object,changeForumStatus:I.a.func},o()(st,"changeForumStatus",I.a.func),o()(st,"channelInfo",I.a.object),o()(st,"channelRelatedInfo",I.a.object),o()(st,"closeEdtior",I.a.func),o()(st,"closeTicket",I.a.func),o()(st,"closeTransitionForm",I.a.func),o()(st,"contact",I.a.object),o()(st,"contactEmail",I.a.string),o()(st,"contacts",I.a.object),o()(st,"deleleUpload",I.a.func),o()(st,"deleteDraft",I.a.func),o()(st,"depName",I.a.string),o()(st,"deptId",I.a.string),o()(st,"downloadAttachment",I.a.func),o()(st,"editorId",I.a.string),o()(st,"fromAddress",I.a.array),o()(st,"getFromEmailAddress",I.a.func),o()(st,"getSnippetList",I.a.func),o()(st,"getTemplateContent",I.a.func),o()(st,"haveEditPermission",I.a.bool),o()(st,"haveForWardPermissionOnly",I.a.bool),o()(st,"haveMailSendPermission",I.a.bool),o()(st,"havePrivateThreadConfig",I.a.bool),o()(st,"isCloudAttchOpen",I.a.bool),o()(st,"isCustomChannel",I.a.bool),o()(st,"isDraft",I.a.bool),o()(st,"isDraftThread",I.a.bool),o()(st,"isEditorChanged",I.a.func),o()(st,"isFromBlueprint",I.a.bool),o()(st,"isPeekView",I.a.bool),o()(st,"isSharedTicket",I.a.bool),o()(st,"isStatusLocked",I.a.bool),o()(st,"linkHolder",I.a.string),o()(st,"mailConfigurations",I.a.object),o()(st,"moduleMeta",I.a.object),o()(st,"myInfo",I.a.object),o()(st,"openCloudAttach",I.a.func),o()(st,"openEditor",I.a.func),o()(st,"openSnippet",I.a.func),o()(st,"orgId",I.a.number),o()(st,"orgName",I.a.string),o()(st,"publishUserAction",I.a.func),o()(st,"push",I.a.func),o()(st,"replyMode",I.a.string),o()(st,"replyThread",I.a.object),o()(st,"replyingUsers",I.a.array),o()(st,"revertIsEditorChanged",I.a.func),o()(st,"saveDraft",I.a.func),o()(st,"searchContact",I.a.func),o()(st,"secondaryContacts",I.a.array),o()(st,"sendDraft",I.a.func),o()(st,"sendForReview",I.a.func),o()(st,"sendReply",I.a.func),o()(st,"setIsEditorChanged",I.a.func),o()(st,"setReplyData",I.a.func),o()(st,"showAttachmentViewer",I.a.func),o()(st,"showMessage",I.a.func),o()(st,"signatureObj",I.a.object),o()(st,"snippetData",I.a.object),o()(st,"snippets",I.a.object),o()(st,"solutionAttachments",I.a.array),o()(st,"solutionContent",I.a.string),o()(st,"ticket",I.a.object),o()(st,"ticketId",I.a.string),o()(st,"updateDraft",I.a.func),o()(st,"uploadAttach",I.a.func),o()(st,"uploadCloudAttachment",I.a.func),st);t.a=Object(k.connect)(function(e,t){var n=e.module.ticket[t.ticketId],a=e.module.contact[n.contactId],o=e.myInfo.id,s=e.ticketUIState.isEditorChanged,r=void 0!==s&&s,i=n.departmentId,l=e.module.department[i].sanitizedName,c=e.departmentSpecificState[i],d=c.fromEmailAddress,u=void 0===d?[]:d,m=c.linkHolder,p=c.mailConfigurations,h=u;h=(h=h.length?h:O()("departmentSpecificState.allDepartment.fromEmailAddress",e))&&h.length?h:[];var f=e.myPreferences.signatureObj,g=[],b=(e.collidingData[t.ticketId]||{}).collisionUsers,v=void 0===b?[]:b;if(v.length)for(var y=0;y<v.length;y++)"replying"==v[y].userAction&&v[y].agentId!=o&&g.push(v[y]);return{orgName:e.routing.paramMap.orgName,orgId:Object(ze.T)(e),signatureObj:f,linkHolder:m,collidingData:e.collidingData[t.ticketId],agents:e.module.agent,snippetData:e.snippetData,snippets:e.module.snippet,contact:a,agent:e.module.agent[o],ticket:n,account:e.module.account[a.accountId],isEditorChanged:r,deptId:i,depName:l,fromAddress:h,mailConfigurations:p,havePrivateThreadConfig:p.privateThreadConfig,myInfo:e.myInfo,isCloudAttchOpen:e.isCloudAttchOpen,moduleMeta:e.moduleMeta,contacts:e.module.contact,secondaryContacts:n.secondaryContacts,replyingUsers:g}},{downloadAttachment:Re.e,uploadAttach:Re.k,deleleUpload:Re.d,showAttachmentViewer:Re.i,openCloudAttach:Re.h,getFromEmailAddress:Fe.c,searchContact:Fe.g,publishUserAction:Le.j,openSnippet:Ze.f,getSnippetList:Ze.d,getTemplateContent:Be.b,setIsEditorChanged:Me.u,revertIsEditorChanged:Me.s,showMessage:Ve.Q,uploadCloudAttachment:Re.l,changeForumStatus:Me.a,push:Ve.L,closeTransitionForm:lt.b})(ct)},"./src/containers/Subtab/SocialReply/SocialReply.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(p),f=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=n.n(g),v=n("./src/containers/Subtab/SocialReply/SocialReply.module.css"),y=n.n(v),C=n("../components/lib/Textarea/Textarea.js"),E=n.n(C),I=n("../components/lib/Button/Button.js"),k=n.n(I),A=n("./src/components/MorePopup/MorePopup.js"),_=n("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),j=n("./src/fz-i18n/index.js"),O=n("./src/actions/index.js"),S=n("./src/utils/bind.js"),D=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),T=n.n(D),x=n("./src/components/PortalLayer/PortalLayer.js"),N=function(e){function t(e){r()(this,t);var n=d()(this,(t.__proto__||o()(t)).call(this,e)),a=n.props,s=(a.channel,a.replyThread),i=a.replyMode;n.state={content:"twitter"==i?"@"+s.twitterProfile+" ":n.props.content,tweetLen:"twitterDm"==i?8e3:280,mode:"twitterDm"==i?"twitterDm":"tweet"};return S.a.apply(n,["handleChange","sendDraft","saveDraft","updateDraft","sendReply","constructSwtichOptions","deleteDraftConfirmation","deleteDraft","handlePortalLayer","onCloseDeleteDraft"]),n}return m()(t,e),l()(t,[{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"handleChange",value:function(e){var t=this.props,n=t.channel,a=t.replyMode,o=t.setReplyData;this.setState({content:e});var s="";"TWITTER"==n?(s=280-e.length,this.setState({tweetLen:s})):(s=8e3-e.length,this.setState({tweetLen:s})),o&&o("content",e),""!=s&&(s<0?(o&&o("isMaxLimit",!0),o&&o("maxCount","twitterDm"==a?8e3:280)):o&&o("isMaxLimit",!1))}},{key:"sendDraft",value:function(){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.sendDraft,o=this.state.content;""!=o&&o?(n(),a()):t({type:"alert",message:j.h.getI18NValue("support.social.reply.empty")})}},{key:"sendReply",value:function(){if("twitterDm"!=this.state.mode){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.sendReply,o=e.channel,s=this.state,r=s.content,i=s.tweetLen;""!=r&&r?"TWITTER"==o&&i<0?t({type:"alert",message:j.h.getI18NValue("support.social.twitter.reply.limit")}):(n(),a({channel:o="FACEBOOK_DM"==o?"FACEBOOK":o,content:r})):t({type:"alert",message:j.h.getI18NValue("support.social.reply.empty")})}}},{key:"saveDraft",value:function(){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.saveDraft,o=e.closeEdtior,s=this.state.content;""!=s&&s?(n(),a({channel:"FACEBOOK",content:s},function(e){o()})):t({type:"alert",message:j.h.getI18NValue("support.social.reply.empty")})}},{key:"updateDraft",value:function(){var e=this.props,t=e.showMessage,n=e.hideMessage,a=e.updateDraft,o=e.closeEdtior,s=this.state.content;""!=s&&s?(n(),a({channel:"FACEBOOK",content:s},function(e){o()})):t({type:"alert",message:j.h.getI18NValue("support.social.reply.empty")})}},{key:"constructSwtichOptions",value:function(e){return"FACEBOOK"==e||"FACEBOOK_DM"==e?[{name:j.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:j.h.getI18NValue("support.social.facebook.name"),iconName:"ZD-chFacebook",size:"14"}]:[{name:j.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"12"},{name:j.h.getI18NValue("support.social.common.tweet"),iconName:"ZD-chTwitter",size:"16"},{name:j.h.getI18NValue("support.social.common.direct.message"),iconName:"ZD-bubble",size:"16"}]}},{key:"deleteDraftConfirmation",value:function(){this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.onDeleteDraft(!1)}},{key:"onCloseDeleteDraft",value:function(){this.onDeleteDraft(!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.content,a=t.tweetLen,o=t.mode,s=(t.alertMode,this.props),r=s.closeEdtior,i=s.isDraft,l=s.channel,c=s.openEditor,d=s.threadId,u=s.replyThread,m=s.haveMailSendPermission,p=s.isFromBlueprint,f=s.haveForWardPermissionOnly;return h.a.createElement("div",null,h.a.createElement("div",{className:y.a.fbContnet+" "+(p?y.a.bluePrintLayar:"")},h.a.createElement("div",{className:y.a.socialIcn},h.a.createElement("div",{className:y.a.chIcon},"twitterDm"==o?h.a.createElement(T.a,{name:"ZD-bubble",iconClass:y.a.bubbleIcon}):h.a.createElement(T.a,{name:"FACEBOOK"==l||"FACEBOOK_DM"==l?"ZD-chFacebook":"ZD-chTwitter",iconClass:y.a.channelIcon})),f?null:h.a.createElement(A.a,{Icnsize:"8",IcnName:"ZD-blockDownArrow",icnStatus:!0,arrowPosition:"topLeft",left:"-53",objValues:this.constructSwtichOptions(l),listStyle:"alpha",boxPosition:"bottomRight",onSelect:function(t){t==j.h.getI18NValue("crm.label.email")?c(d,u.content,u,"replyall"):t==j.h.getI18NValue("support.social.common.direct.message")?(e.setState({mode:"twitterDm",content:"",tweetLen:8e3}),p&&c("","","","twitterDm")):t==j.h.getI18NValue("support.social.common.tweet")&&(e.setState({mode:"tweet",content:"@"+u.twitterProfile+" ",tweetLen:280}),p&&c("","","","tweet"))}})),h.a.createElement("div",{className:y.a.txtArea},h.a.createElement(E.a,{size:p?"xlarge":"medium",placeholder:j.h.getI18NValue("support.request.type.facebook.comment"),text:n,needBorder:!1,onChange:this.handleChange})),"TWITTER"==l&&p?h.a.createElement("span",{className:y.a.tweetLen+" "+(a<0?y.a.limitExcited:null)},a):null),p?null:h.a.createElement("div",{className:y.a.footer},h.a.createElement("div",{className:y.a.optionsCont},m?h.a.createElement(k.a,{text:"twitterDm"==o?j.h.getI18NValue("support.social.send.dm"):"FACEBOOK"==l?j.h.getI18NValue("support.social.post.comment"):"FACEBOOK_DM"==l?j.h.getI18NValue("support.social.replymessage"):j.h.getI18NValue("support.social.post.tweet"),palette:"primaryFilled",size:"medium",onClick:i?this.sendDraft:this.sendReply}):null,"FACEBOOK"==l?h.a.createElement(k.a,{text:j.h.getI18NValue("support.common.request.mail.save.draft"),palette:m?"secondary":"primaryFilled",size:"medium",onClick:i?this.updateDraft:this.saveDraft}):null,i&&"FACEBOOK"==l?h.a.createElement(k.a,{text:j.h.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:this.deleteDraftConfirmation}):null,h.a.createElement(k.a,{text:j.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:r}),"TWITTER"==l?h.a.createElement("span",{className:y.a.tweetLen+" "+(a<0?y.a.limitExcited:null)},a):null)),h.a.createElement(x.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},h.a.createElement(_.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})))}}]),t}(p.Component);N.propTypes={channel:b.a.string,closeEdtior:b.a.func,content:b.a.string,deleteDraft:b.a.func,haveForWardPermissionOnly:b.a.bool,haveMailSendPermission:b.a.bool,hideMessage:b.a.func,isDraft:b.a.bool,isFromBlueprint:b.a.bool,openEditor:b.a.func,replyMode:b.a.string,replyThread:b.a.object,saveDraft:b.a.func,sendDraft:b.a.func,sendReply:b.a.func,setReplyData:b.a.func,showMessage:b.a.func,threadId:b.a.string,updateDraft:b.a.func},t.a=Object(f.connect)(function(e,t){return{id:e.routing.paramMap.moduleId}},{showMessage:O.Q,hideMessage:O.v})(N)},"./src/utils/Attachment.js":function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"l",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"p",function(){return m}),n.d(t,"q",function(){return p}),n.d(t,"m",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"h",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return C}),n.d(t,"n",function(){return E}),n.d(t,"c",function(){return I}),n.d(t,"o",function(){return k}),n.d(t,"g",function(){return A});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),o=n.n(a),s=n("./src/utils/Browser.js"),r=n("./src/fz-i18n/index.js");function i(e){var t=c(e),n=Object(s.a)().toLowerCase()||"",a=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"ZD-filePicture";case"txt":case"rtf":return"ZD-fileText2";case"pdf":return"ZD-filePdf";case"html":case"htm":case"xhtml":return-1!==n.indexOf("chrome")||-1!==n.indexOf("safari")?"ZD-chrome":-1!==n.indexOf("ie")||-1!==n.indexOf("edge")?"ZD-ie":"ZD-firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ZD-ppt";case"rar":case"jar":case"zip":return"ZD-zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==a.indexOf("mac")||-1!==a.indexOf("linux")?"ZD-fileOpenoffice":"ZD-fileWord";case"xml":return"ZD-xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"ZD-fileExcel";case"ics":return"ZD-ics";case"exe":return"ZD-exe";case"sh":case"bin":return"ZD-sh2";case"css":return"ZD-css5";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"ZD-fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"ZD-fileVideo";default:return"ZD-unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&-1!=e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return/jpeg|jpg|png|gif|bmp|ico/i.test(t)}function u(e){var t=c(e);return/mp3|wav|ogg/i.test(t)}function m(e,t){var n={inValidArray:[],validArray:[]};if(t+e.length>10)return n.isCountExceeds=!0,n;for(var a=0;a<e.length;a++){var o=e[a],s=o.name,r=o.size;h(s)?n.inValidArray.push({isUnSupported:!0}):f(s)?n.inValidArray.push({isFileNameSizeInvalid:!0}):0===o.size?n.inValidArray.push({isEmpty:!0}):g(r)?n.inValidArray.push({isAttachSizeExceeded:!0}):n.validArray.push(o)}return n}function p(e,t,n,a){if(t+e.length>10)a(r.h.getI18NValue("support.attachments.count.exceeds",[10]));else for(var o=0;o<e.length;o++){var s=e[o],i=s.name,l=s.size;if(h(i))a(r.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(i))a(r.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==s.size)if(g(l))a(r.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var c=new FormData;c.append("file",s),n&&n(c)}else a(r.h.getI18NValue("support.request.empty.attachment.message"))}}function h(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function g(e){return e>20971520}function b(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function v(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function y(e,t,n){var a={};a.previewData=t.filter(function(e){return!e.isPreview&&(d(e.name)||u(e.name))}),a.previewData.filter(function(t,n){t.id===e&&(a.selectedIndex=n)}),n&&n(a)}function C(e,t,n){var a=e.indexOf("/api"),o=e;return a>-1&&(o=e.slice(a,e.length),o+="?orgId="+t+(n?"&inline=true":"")),o}function E(e,t){window.open(C(e,t,!0))}function I(e,t){window.location.href=C(e,t,!1)}function k(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],u=0;if(a&&l>a-n){var m=r.h.getI18NValue("support.attachments.count.exceeds",[a]);return o.a.resolve({isError:!0,errorI18N:m})}for(var p=0;p<l;p++){var g=e[p],b=g||{},v=b.size,y=void 0===v?0:v,C=b.name,E=void 0===C?"":C;if(u+=y,h(E)){var I=r.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:I,fileName:E,errorType:"fileType"})}else if(f(E)){var k=r.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:k,fileName:E,errorType:"fileNameSize"})}else if(0===y){var A=r.h.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:A,fileName:E,errorType:"emptyFile"})}else d.push(g)}if(!d.length){if(1===c.length){var _=c[0].errorI18N;return o.a.resolve({isError:!0,errorI18N:_})}var j=r.h.getI18NValue("support.unable.to.process.your.request");return o.a.resolve({isError:!0,errorI18N:j})}if(0===u){var O=r.h.getI18NValue("support.request.empty.attachment.message");return o.a.resolve({isError:!0,errorI18N:O})}if(u+i>1024*s*1024){var S=r.h.getI18NValue("support.attachments.size.limit.exceeds",[s]);return o.a.resolve({isError:!0,errorI18N:S})}for(var D=[],T=[],x=[],N=[],w=function(e){var n=d[e];if(t){var a=new FormData;a.append("file",n);var o=e,s=t(a,n,o).then(function(e){var t=(e.data||{}).data,n=void 0===t?{}:t,a=n.id;a&&(D[o]=n,T[o]=a)},function(t){var a=n.name,o=r.h.getI18NValue("support.unable.to.process.your.request");return N.push(e),c.push({errorI18N:o,fileName:a,errorType:"apiError"}),t});x.push(s)}},P=0;P<d.length;P++)w(P);var z={uploadFiles:D,inValidFiles:c,isError:!1,uploadFileIds:T,inValidFilesIndex:N};return o.a.all(x).then(function(){return T.length?z:{isError:!0,errorI18N:r.h.getI18NValue("support.unable.to.process.your.request")}})}function A(e,t){var n=e.name;return{index:t,isPreview:!0,size:e.size,name:n,href:URL.createObjectURL(e)}}},"./src/utils/ChannelIconMapping.js":function(e,t,n){"use strict";function a(e,t){var n=void 0,a="";return e?"OFFLINE_CHAT"==(n=e.channel)?a="missed":e.isDraft?a="draft":e.isForward?a="forward":"in"===e.direction?a="incoming":"out"===e.direction&&(a="outgoing"):(n=t||"",a="default"),{channelName:n,action:a}}function o(e){return{in:{icon:"ZD-emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"ZD-emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"ZD-pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"ZD-emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"ZD-feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"ZD-zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"ZD-notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function s(){return{EMAIL:{default:"ZD-chEmail1",incoming:"ZD-chEmailIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chEmailMis"},FACEBOOK:{default:"ZD-chFacebook",incoming:"ZD-chFacebookIn",outgoing:"ZD-chFacebookOut",draft:"ZD-chFacebookDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chFacebookMis"},FACEBOOK_DM:{default:"ZD-chFacebookDmOut",incoming:"ZD-chFacebookDmOut",outgoing:"ZD-chFacebookDmOut",draft:"ZD-chFacebookDmOut",forward:"ZD-chFacebookDmOut",forwardDraft:"ZD-chFacebookDmOut",missed:""},TWITTER:{default:"ZD-chTwitter",incoming:"ZD-chTwitterIn",outgoing:"ZD-chTwitterOut",draft:"ZD-chTwitterDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chTwitterMis"},FORUMS:{default:"ZD-chForums",incoming:"ZD-chForumsIn",outgoing:"ZD-chForumsOut",draft:"ZD-chForumsDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chForumsMis"},CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},OFFLINE_CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},ONLINE_CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},PHONE:{default:"ZD-activityCalls",incoming:"ZD-chPhoneIn",outgoing:"ZD-chPhoneOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chPhoneMis"},WEB:{default:"ZD-chWeb",incoming:"ZD-chWebIn",out:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chWebMis"},CUSTOMERPORTAL:{default:"ZD-chWeb",incoming:"ZD-chWebIn",out:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chWebMis"},FEEDBACK:{default:"ZD-chFeedback",incoming:"ZD-chFeedback",out:"ZD-chFeedbackOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chFeedbackMis"}}}n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s})},"./src/utils/DataStorage.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),o=n.n(a),s=n("./src/utils/Common.js"),r={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(s.N)(t)?localStorage.setItem(e,o()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var n=localStorage.length,a=new Date,r=0;r<n;r++){var i=localStorage.key(r),l=this.getItemFromStorage(i)||{};l&&l.time&&a>l.expireTime&&this.removeItem(i)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var n=localStorage.key(t),a=this.getItemFromStorage(n);e[n]=a}return e}return this.storage},setItem:function(e,t,n){-1==(n=null==n||null==n?10800:n)&&(n=86400);var a=new Date,o={value:t,expireTime:new Date(a.setSeconds(a.getSeconds()+n))};this.storeItemIntoStorage(e,o)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},"./src/utils/Editor.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c});var a=n("./src/utils/Common.js");function o(e,t){var n=editor[e];n&&t&&n.insertHTML(t)}function s(e){var t=editor[e];if(null!=t){var n=t.getContent();return"<br>"==(n=n.trim())?"":("plaintext"==t.mode&&(n=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(n)),n)}return""}function r(e,t,n,a){var o={content:"",isSnippetExist:!1,triggerWord:""},s="";if(e.modify){var r=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var i=e.toString().toLowerCase().trim(),l=a.filter(function(e){return e.snippetWord.toLowerCase()==i.toLowerCase()});null!=(s=l.length?l[0].expandedContent:"")&&""!=s&&s.length>0?(o.isSnippetExist=!0,o.content=s,o.triggerWord=i.toLowerCase(),r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)):(o.content="&nbsp;&nbsp;&nbsp;&nbsp;",o.triggerWord=i.toLowerCase()),e.removeAllRanges(),e.addRange(r)}else o=function(e,t,n,a){var o="",s=e.getRangeAt(0);s.collapse(!0),s.setStart(e.anchorNode,0),o=s.toString();var r=s.cloneRange(),i=e.anchorNode.textContent,l=/\s+/,c=i.split(l).filter(Boolean),d=o.split(l).filter(Boolean),u="",m="",p={content:"",isSnippetExist:!1,triggerWord:""},h=d[d.length-1];if(""!=h&&void 0!==h){u=c[d.length-1],parseInt(u.length);var f=u.toLowerCase(),g=a.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});m=g.length?g[0].expandedContent:""}if(null!=m&&""!=m&&null!=m){var b=parseInt(u.length-h.length),v=parseInt(o.length);b>0&&(v+=b);var y=parseInt(o.length+b-u.length),C=o.length-o.replace(/\s+$/g,"").length;(y-=C)<0&&(y=0),r.setStart(e.anchorNode,y),r.setEnd(e.focusNode,v),p.isSnippetExist=!0}else m=o;return p.content=m,p.triggerWord=u.toLowerCase(),e.removeAllRanges(),e.addRange(r),p}(e,0,0,a);return o}function i(e,t,n,o,s){for(var r={"${Cases.Contact Name}":Object(a.e)(n.firstName,n.lastName),"${Cases.Email}":n.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":o?o.accountName:"","${Cases.First Name}":n.firstName||"","${Cases.Last Name}":n.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(a.e)(s.firstName,s.lastName),"${User.Email}":s.emailId||"","${User.Phone}":s.phone||"","${User.First Name}":s.firstName||"","${User.Last Name}":s.lastName||"","${User.Mobile}":s.mobile||""},i=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<i.length;l++)e=e.replace(i[l],r[i[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},"./src/utils/EmailValidation.js":function(e,t,n){"use strict";function a(e){e=(e=o(e))?e.trim():e;return/^[\w]([\w\-\.\+\'\&]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(e)}function o(e){var t=e;return-1!==t.indexOf(">")&&-1!==t.indexOf("<")&&(t=t.substring(t.indexOf("<")+1,t.indexOf(">"))),t}function s(e,t){var n=e.trim();if(-1!==n.indexOf(">")&&n.indexOf("<")>0){var a=n;n=n.substring(0,n.indexOf("<")),t||(n=n.replace(/"/g,"")),""==n&&(n=a.substring(a.lastIndexOf("<")+1,a.lastIndexOf(">")))}else n=n.replace(/<|>/g,"");return n}function r(e){var t=0,n=0,o=0,r=(e=e.trim()).indexOf("@",o);if(-1!==r)if(-1!==(o=e.indexOf(",",r))?(n=e.substring(t,o),t=o+1):(n=e.substring(t,e.length),-1),","===n||" "===n)-1;else{if(-1!=n.indexOf(",")){var l=s(n,!0);if(","===l.charAt(l.length-1))return!1;if(!(-1!==l.indexOf('"')&&l.lastIndexOf('"')>0||-1!==l.indexOf("'")&&l.lastIndexOf("'")>0)&&-1!=l.indexOf(",")&&","!=l.substring(0,1))return!1;var c=l.substring(l.indexOf('"')+1,l.lastIndexOf('"'));if(""==c&&(c=l.substring(l.indexOf("'")+1,l.lastIndexOf("'"))),""!=c&&-1==c.indexOf(","))return!1}var d=i(n);if(!a(d=d.trim()))return!1}else if(-1,o<=e.length)return!1;return!0}function i(e){return-1===e.indexOf("<")?e:e.substring(e.lastIndexOf("<")+1,e.lastIndexOf(">"))}function l(e,t){var n=!1,a=-1;if(e.length)for(var o=0;o<e.length;o++){i(e[o])==i(t)&&(n=!0,a=o)}return{isDuplicate:n,index:a}}function c(e){for(var t=[],n=e.indexOf("@"),a=void 0;-1!==n;)-1===(a=e.indexOf(",",n))&&(a=e.length),t.push(e.substring(0,a)),n=(e=e.substring(a+1,e.length)).indexOf("@");return-1===n&&""!==e&&t.push(e),t}n.d(t,"f",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c})},"./src/utils/bind.js":function(e,t,n){"use strict";function a(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach(function(t){e[t]=e[t].bind(e)})}n.d(t,"a",function(){return a})},"./src/utils/editorUtils.js":function(e,t,n){"use strict";function a(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function o(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})}}]);