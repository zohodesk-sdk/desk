(window.deskappJsonp=window.deskappJsonp||[]).push([[34],{"../components/lib/Tab/Tab.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=c(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=n("../components/lib/Layout/index.js"),s=c(n("../components/lib/Tab/Tab.module.css"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.click=n.click.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"click",value:function(e){var t=e.currentTarget,n=this.props,a=n.onSelect,o=n.id,r=n.onClick;a(o,t.offsetLeft,t.offsetWidth),r&&r()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.selectedTab,o=e.style,i=e.type,c=e.hookClass,u=e.text,d=e.children,m=e.className,p=e.isAnimate,f=e.needBorder,b=e.dataId,h=e.title,g=e.getActiveRef,v=e.activeClass,T=e.needAppearance,y=e.href,j=e.isLink,_={active:"active",tab:"tab"};"alpha"===i?_={active:"alphaActive",tab:"tabAlpha"}:"beta"===i?_={active:"betaActive",tab:"tabBeta"}:"gamma"===i?_={active:"gammaActive",tab:"tabGamma"}:"delta"===i?_={active:"deltaActive",tab:"tabDelta"}:"zeta"===i&&(_={active:"zetaActive",tab:"tabZeta"});var O={};return j&&(O.href=y),r.default.createElement(l.Box,a({tagName:j?"a":"div",className:"\n          tab_Hook "+(c?s.default.block:"")+"\n          "+s.default.tab+" "+(f&&!p&&T?" "+s.default.border:"")+" "+(t===n?(T?s.default[_.active]+" "+(f&&!p?s.default[_.active+"_border"]:""):"")+" "+(v||""):T?""+s.default[_.tab]:"")+" "+(m||"")+" ",dataId:b+"_Tab",onClick:this.click,style:o,eleRef:g.bind(this,t),"data-title":h||u,adjust:!0},O),r.default.createElement(l.Container,{alignBox:"row",align:"both"},u&&r.default.createElement(l.Box,{flexible:!0,adjust:!0,className:s.default.tabText+" "+(c||"")},u),d?r.default.createElement(l.Box,{shrink:!0},d):null))}}]),t}();t.default=u,u.defaultProps={dataId:"tabMenu"},u.propTypes={activeClass:i.default.string,children:i.default.oneOfType([i.default.element,i.default.string]),className:i.default.string,dataId:i.default.string,getActiveRef:i.default.func,hookClass:i.default.string,href:i.default.string,id:i.default.string,isAnimate:i.default.bool,isLink:i.default.bool,needAppearance:i.default.bool,needBorder:i.default.bool,onClick:i.default.func,onSelect:i.default.func,selectedTab:i.default.string,style:i.default.object,text:i.default.string,title:i.default.string,type:i.default.string}},"../components/lib/Tab/TabContent.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=s(n("../components/lib/Tab/TabContent.module.css")),l=n("../components/lib/Layout/index.js");function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.scroll,a=e.dataId;return o.default.createElement(l.Container,{className:i.default.container,scroll:n,dataId:a+"_TabContent"},t)}}]),t}();t.default=c,c.defaultProps={dataId:"tabContent"},c.propTypes={children:r.default.node,dataId:r.default.string,scroll:r.default.oneOf(["vertical","horizontal","both","none"])}},"../components/lib/Tab/TabContentWrapper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),i=(a=r)&&a.__esModule?a:{default:a},l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),s=n("../components/lib/Layout/index.js");var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,a=e.children,o=e.selectedTab,r=e.dataId;return i.default.createElement(s.Box,{flexible:!0,style:t,dataId:r,className:n},i.default.Children.map(a,function(e){if(e.props.id===o)return e}))}}]),t}();t.default=c,c.propTypes={children:l.PropTypes.node,className:l.PropTypes.string,dataId:l.PropTypes.string,selectedTab:l.PropTypes.string,style:l.PropTypes.object}},"../components/lib/Tab/TabWrapper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=n("../components/lib/Layout/index.js");function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.defaultTab,o=e.hookToDisableInternalState;return n.state={selectedTabInternal:o?null:a||0},n.setSelectedTab=n.setSelectedTab.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"setSelectedTab",value:function(e){var t=this.props,n=t.hookToDisableInternalState,a=t.onSelect;n||this.setState({selectedTabInternal:e}),a&&a(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,a=t.isAnimate,r=t.needTabBorder,l=t.needBorder,s=t.needPadding,c=t.hookToDisableInternalState,u=t.needAppearance,d=t.align,m=t.children,p=t.defaultTab,f=this.state.selectedTabInternal,b=o.default.Children.map(m,function(t){return o.default.cloneElement(t,{selectedTab:c?p:f,onSelect:e.setSelectedTab,type:n,isAnimate:a,needTabBorder:r,needBorder:l,needPadding:s,needAppearance:u,hookToDisableInternalState:c,align:d})});return o.default.createElement(i.Container,{alignBox:"vertical"===d?"column":"row"},b)}}]),t}();t.default=s,s.propTypes={align:r.default.oneOf(["vertical","horizontal"]),children:r.default.node,defaultTab:r.default.string,hookToDisableInternalState:r.default.bool,isAnimate:r.default.bool,needAppearance:r.default.bool,needBorder:r.default.bool,needPadding:r.default.bool,needTabBorder:r.default.bool,onSelect:r.default.func,type:r.default.oneOf(["alpha","beta","delta","gamma","zeta"])},s.defaultProps={hookToDisableInternalState:!1,isAnimate:!1,needBorder:!0,needPadding:!0,needTabBorder:!1,type:"alpha",align:"vertical",needAppearance:!0}},"../components/lib/Tab/Tabs.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=m(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=m(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=n("../components/lib/utils/Common.js"),l=n("../components/lib/Layout/index.js"),s=m(n("../components/lib/Tab/Tab.js")),c=m(n("../components/lib/DropBox/DropBox.js")),u=m(n("../components/lib/Tab/Tabs.module.css")),d=m(n("../components/lib/Tab/Tab.module.css"));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={width:e.width||window.innerWidth,menuStatus:!1,count:null},n.setSelectedTab=n.setSelectedTab.bind(n),n.onResize=n.onResize.bind(n),n.onMenuToggle=n.onMenuToggle.bind(n),n.handleClick=n.handleClick.bind(n),n.getHighlightRef=n.getHighlightRef.bind(n),n.getTabsRef=n.getTabsRef.bind(n),n.onMenuClick=n.onMenuClick.bind(n),n.getActiveRef=n.getActiveRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isResponsive,n=e.type,a=e.isAnimate,o=e.needTabBorder,r=e.selectedTab;if("none"!==n){if(t&&this.responsiveTab(),a&&o){var i=this[r];i&&this.moveHighlight(i.offsetLeft,i.offsetWidth)}window.addEventListener("resize",this.onResize)}window.addEventListener("click",this.handleClick)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isResponsive,n=e.type,a=e.isAnimate,o=e.needTabBorder,r=e.selectedTab,i=this.props.selectedTab;if("none"!==n&&i!=r&&(t&&this.responsiveTab(),a&&o)){var l=this[r];this.moveHighlight(l.offsetLeft,l.offsetWidth)}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isResponsive,a=t.children,r=this.state.count;n&&(o.default.Children.count(a)!==o.default.Children.count(e.children)?this.setState({count:null}):null===r&&this.responsiveTab())}},{key:"componentWillUnmount",value:function(){"none"!==this.props.type&&window.removeEventListener("resize",this.onResize),window.removeEventListener("click",this.handleClick)}},{key:"getHighlightRef",value:function(e){this.highlight=e}},{key:"getTabsRef",value:function(e){this.tabsEle=e}},{key:"moveHighlight",value:function(e,t){var n=this.highlight;n&&(n.style.left=(0,i.remConvert)(e)+"rem",n.style.width=(0,i.remConvert)(t)+"rem")}},{key:"setSelectedTab",value:function(e,t,n){var a=this.props,o=a.isAnimate,r=a.needTabBorder,i=a.onSelect;a.hookToDisableInternalState||o&&r&&this.moveHighlight(t,n),i(e)}},{key:"onMenuToggle",value:function(){var e=this.state.menuStatus;this.setState({menuStatus:!e})}},{key:"onResize",value:function(e){var t=this,n=this.props.isResponsive;this.tabsEle&&n&&(e?setTimeout(function(){t.setState({count:null})},e):this.setState({count:null}))}},{key:"handleClick",value:function(){this.setState({menuStatus:!1})}},{key:"responsiveTab",value:function(){if(this.tabsEle){for(var e=this.tabsEle.offsetWidth,t=this.tabsEle.querySelectorAll(".tab_Hook"),n=0,a=0;a<t.length&&!(e-t[a].offsetWidth<=80);a++)n=a+1,e-=t[a].offsetWidth;this.setState({width:this.tabsEle.offsetWidth,count:n})}}},{key:"getActiveRef",value:function(e,t){this[e]=t}},{key:"onMenuClick",value:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),this.onMenuToggle()}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,a=t.style,r=t.isAnimate,i=t.needTabBorder,s=t.className,m=t.needBorder,p=t.needPadding,f=t.children,b=t.selectedTab,h=t.dataId,g=t.highlightClass,v=t.align,T=t.needAppearance,y=t.childType,j=[],_=[],O=[],E=this.state,k=E.width,C=E.count,I=E.menuStatus,A=null;return o.default.Children.forEach(f,function(t,a){t&&t.type===y?null===C||a<C-1||"none"===n?(k-=120,j.push(o.default.cloneElement(t,{onSelect:e.setSelectedTab,selectedTab:b,type:n,needBorder:i,isAnimate:r,key:a,needAppearance:T,getActiveRef:e.getActiveRef}))):k&&(t.props.id===b?A=t:t.props.id&&_.push(t)):O.push(t)}),A?j.push(o.default.cloneElement(A,{onSelect:this.setSelectedTab,selectedTab:b,type:n,needBorder:i,isAnimate:r,getActiveRef:this.getActiveRef,needAppearance:T})):_.length&&(j.push(o.default.cloneElement(_[0],{onSelect:this.setSelectedTab,selectedTab:b,type:n,needBorder:i,isAnimate:r,getActiveRef:this.getActiveRef,needAppearance:T})),_.shift()),(_=_.map(function(t,a){return o.default.createElement("div",{className:"dchild",key:a},o.default.cloneElement(t,{onSelect:e.setSelectedTab,selectedTab:b,type:n,hookClass:d.default.text,needBorder:i,isAnimate:r,key:a,getActiveRef:e.getActiveRef,needAppearance:T}))})).length&&j.push(o.default.createElement("div",{className:u.default.menu+" "+d.default.tab+" "+d.default["tab"+n.charAt(0).toUpperCase()+n.slice(1)],onClick:this.onMenuClick},o.default.createElement("span",{className:u.default.menuIconContainer},o.default.createElement("div",{className:u.default.menuIconPath1}),o.default.createElement("div",{className:u.default.menuIconPath2})),o.default.createElement(c.default,{isActive:I,isAnimate:!0,right:"-8",size:"medium"},o.default.createElement("div",{className:u.default.menuBox},_)))),o.default.createElement(l.Box,null,o.default.createElement(l.Container,{alignBox:"vertical"===v?"row":"column",className:u.default.tab+"  "+(s||"")+" "+(T?u.default[n]+" "+(m?u.default[n+"_border"]:"")+" "+(p?u.default[n+"_padding"]:""):""),style:a},r&&i&&T&&o.default.createElement("div",{className:u.default.highlight+" "+(g||"")+" "+(r?u.default.lineAnimate:""),ref:this.getHighlightRef,"data-id":h}),o.default.createElement(l.Box,{eleRef:this.getTabsRef,flexible:!0},o.default.createElement(l.Container,{alignBox:"vertical"===v?"row":"column"},j)),O.length?o.default.createElement(l.Box,null,O):null))}}]),t}();t.default=p,p.propTypes={children:r.default.array,className:r.default.string,dataId:r.default.string,hookToDisableInternalState:r.default.bool,isAnimate:r.default.bool,isResponsive:r.default.bool,needBorder:r.default.bool,needPadding:r.default.bool,needTabBorder:r.default.bool,onSelect:r.default.func,selectedTab:r.default.string,style:r.default.object,type:r.default.string,width:r.default.number,highlightClass:r.default.string,align:r.default.oneOf(["vertical","horizontal"]),needAppearance:r.default.bool},p.defaultProps={isAnimate:!1,isResponsive:!0,needTabBorder:!1,type:"alpha",dataId:"highlight",align:"horizontal",childType:s.default}},"../components/lib/Tab/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("../components/lib/Tab/TabWrapper.js");Object.defineProperty(t,"TabWrapper",{enumerable:!0,get:function(){return s(a).default}});var o=n("../components/lib/Tab/TabContentWrapper.js");Object.defineProperty(t,"TabContentWrapper",{enumerable:!0,get:function(){return s(o).default}});var r=n("../components/lib/Tab/TabContent.js");Object.defineProperty(t,"TabContent",{enumerable:!0,get:function(){return s(r).default}});var i=n("../components/lib/Tab/Tabs.js");Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return s(i).default}});var l=n("../components/lib/Tab/Tab.js");function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Tab",{enumerable:!0,get:function(){return s(l).default}})},"./src/actions/AgentAction.js":function(e,t,n){"use strict";n.d(t,"k",function(){return m}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return h}),n.d(t,"l",function(){return g}),n.d(t,"i",function(){return v}),n.d(t,"d",function(){return T}),n.d(t,"f",function(){return y}),n.d(t,"a",function(){return j}),n.d(t,"m",function(){return O}),n.d(t,"e",function(){return k}),n.d(t,"g",function(){return C}),n.d(t,"n",function(){return I});n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js");var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),r=n("./src/utils/RequestAPI.js"),i=n("./src/utils/Common.js"),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),s=n("./src/reducers/selector.js"),c=n("./src/utils/departmentQuery.js"),u=n("./src/constants/index.js"),d=n("./src/constants/agents.js");function m(e){return{types:Object(i.m)("AGENTS_COUNT"),callAPI:function(t){var n=Object(s.t)(t);return Object(r.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return o()({},e,{id:e.agentId})}),{countData:e.data,deptId:n}):{}})}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e.from=_(e,"from","1"),e.limit=_(e,"limit","100"),e.searchStr=O(e);var n=e.from>1?"AGENT_NEXT":u.R.AGENT;return{types:Object(i.m)(n),callAPI:function(n){var a="/api/v1/agents?orgId="+n.currentOrgId+(t&&"allDepartment"!==t?"&departmentId="+t:"");return a+=j(e,["from","limit","status","isConfirmed","searchStr","profileIds","roleIds"]),Object(r.a)(a).get().then(function(n){if(204!==n.responseStatus){var a=n.data.length<e.limit,r=Object(l.b)(n.data,Object(l.a)(Object(l.c)(u.R.AGENT_L)));return o()(r,{noMoreData:a,depId:t})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{types:Object(i.m)(t>1?"AGENT_NEXT":u.R.AGENT),callAPI:function(i){return Object(r.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed="+a,!1,{orgId:i.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var a=t.data.length<n,r=Object(l.b)(t.data,Object(l.a)(Object(l.c)(u.R.AGENT_L)));return o()(r,{noMoreData:a,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function b(e,t){return{types:Object(i.m)(u.R.AGENT),callAPI:function(n){return Object(r.a)("/api/v1/agents/"+e,!1,{orgId:n.currentOrgId}).get().then(function(e){var n=Object(l.b)(e,Object(l.c)(u.R.AGENT_L));return o()(n,{depId:t})})}}}function h(e){return{types:Object(i.m)(u.R.AGENT),callAPI:function(t){return Object(r.a)("/api/v1/agents/zuid/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.b)(e,Object(l.c)(u.R.AGENT_L))})}}}function g(e,t,n){return{types:Object(i.m)("AGENT_SEARCH"),callAPI:function(a){return Object(r.a)("/api/v1/agents?searchStr=*"+e+"*&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed=true",!1,{orgId:a.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var a=e.data.length<n,r=Object(l.b)(e.data,Object(l.a)(Object(l.c)(u.R.AGENT_L)));return o()(r,{noMoreData:a})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.z,d=arguments[4];return{types:Object(i.m)(u.R.AGENT),callAPI:function(i){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=d||Object(s.t)(i),f=d?"&departmentId="+d:Object(c.a)(i,!0),b="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*a>200?200:2*a)+(n?"&searchStr=*"+n+"*":"")+f;return Object(r.a)(encodeURI(b),!1,{orgId:i.currentOrgId}).get().then(function(r){return o()({},Object(l.b)(204!==r.responseStatus?r.data:[],Object(l.a)(Object(l.c)(u.R.AGENT_L))),{deptId:p,from:t,limit:a,isNext:!!r.data&&r.data.length>a,searchStr:n,agentType:e})},function(e){throw e})}}}function T(e){return{types:Object(i.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(r.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.b)(204!==e.responseStatus?e.data:[],Object(l.a)(Object(l.c)(u.R.AGENT_L)))})}}}function y(e){return{types:Object(i.m)("TEAM_AGENT"),callAPI:function(t){return Object(r.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.b)(e.members,Object(l.a)(Object(l.c)(u.R.AGENT_L)))})}}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n="";return t.map(function(t){void 0!==e[t]&&(n+="&"+t+"="+e[t])}),n}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2];return void 0!==e[t]?e[t]:n}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_(e,"searchType","string"),n=e.searchStr;return n&&(n="string*"==t?n+"*":"*string*"==t?"*"+n+"*":n),n}function E(e){var t=e.isConfirmed,n=e.status;switch(n){case d.a:return d.a;case d.d:return d.d;case d.c:return d.c;default:if(void 0!==t&&!t)return d.l;if(void 0===n)return d.b}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=_(e,"from","1"),e.limit=_(e,"limit","100"),e.searchStr=O(e);var t=e.from>1?d.k:d.j;return{types:Object(i.m)(t),callAPI:function(t){var n="/api/v1/agents?orgId="+t.currentOrgId;return n+=j(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(r.a)(n).get().then(function(t){return o()(Object(l.b)(void 0!==t.data?t.data:[],Object(l.a)(Object(l.c)(u.R.AGENT_L))),{status:E(e)})})}}}function C(e,t,n){var a={status:e,isConfirmed:t,includeLightAgent:n};return a.includeLightAgent=_(a,"includeLightAgent",!0),{types:Object(i.m)(d.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=j(a,["status","isConfirmed","includeLightAgent"]),Object(r.a)(t).get().then(function(e){return o()({},e,{status:E(a)})})}}}function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:d.m,data:{isEnabled:e}}}},"./src/actions/roleAction.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),i=n("./src/utils/RequestAPI.js"),l=n("./src/utils/Common.js"),s=n("./src/constants/index.js");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Z,a=arguments[3];return{types:Object(l.m)(s.R.ROLE),callAPI:function(l){var c=2*n>500?500:2*n;return Object(i.a)("/api/v1/roles?from="+e+"&limit="+c+(t?"&searchStr=*"+t+"*":"")+(a?"&isVisible=true":""),!1,{orgId:l.currentOrgId}).get().then(function(a){return o()({},Object(r.b)(204!==a.responseStatus?a.data:[],Object(r.a)(Object(r.c)(s.R.ROLE_L))),{from:e,limit:n,isNext:!!a.data&&a.data.length>n,searchStr:t})},function(e){throw e})}}}function u(e){return{types:Object(l.m)("ROLE"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(i.a)("/api/v1/rolesByIds?roleIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(204!==e.responseStatus?e.data:[],Object(r.a)(Object(r.c)(s.R.ROLE_L)))})}}}},"./src/components/layout/SetupDetailLayout/index.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(r),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),s=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(p),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),h=n.n(b),g=n("../components/lib/Layout/index.js"),v=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),T=n.n(v),y=n("./src/components/layout/SetupDetailLayout/SetupDetailLayout.module.css"),j=n.n(y),_=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.state={isHelpInfoOpen:!1},n.toggleHelpInfo=n.toggleHelpInfo.bind(n),n}return m()(t,e),s()(t,[{key:"toggleHelpInfo",value:function(){var e=this.state.isHelpInfoOpen;this.setState({isHelpInfoOpen:!e})}},{key:"render",value:function(){var e=this,t=this.state.isHelpInfoOpen,n=this.props,a=n.children,o=n.needHelpInfo,r=n.getHelpInfo,i=n.helpInfoTitle;return f.a.createElement(g.Container,{isScrollAttribute:!0},f.a.Children.map(a,function(t){return t&&t.type==E?f.a.cloneElement(t,{openHelpInfo:e.toggleHelpInfo,needHelpInfo:o}):t}),r?f.a.createElement(g.Box,{className:j.a.popup+" "+(t?j.a.open:j.a.close)},f.a.createElement(g.Container,null,f.a.createElement(g.Box,null,f.a.createElement(g.Container,{alignBox:"row",align:"vertical",className:j.a.infoHeader},f.a.createElement(g.Box,{className:j.a.infoIcon},f.a.createElement(T.a,{name:"ZD-info31"})),f.a.createElement(g.Box,{flexible:!0,className:j.a.infoText},i),f.a.createElement(g.Box,null,f.a.createElement("span",{onClick:this.toggleHelpInfo,className:j.a.infoClose},f.a.createElement(T.a,{name:"ZD-close"}))))),f.a.createElement(g.Box,{flexible:!0,scroll:"vertical",className:j.a.infoFooter},r()))):null)}}]),t}(f.a.Component),O=_;_.propTypes={children:h.a.element,getHelpInfo:h.a.func,helpInfoTitle:h.a.string,needHelpInfo:h.a.bool},_.defaultProps={helpInfoTitle:"Page Tips",needHelpInfo:!1};var E=function(e){function t(e){return i()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.needBack,a=e.onBackClick,o=e.openHelpInfo,r=e.needHelpInfo,i=e.needHelpInfoWrapper,l=e.getLeftPlaceHolder,s=e.getRightPlaceHolder,c=e.leftClassName,u=e.rightClassName,d=e.isCustomizedHeader,m=e.headerCustomStyle;return f.a.createElement(g.Box,{className:!0===d?m:j.a.header},f.a.createElement(g.Container,{alignBox:"row",align:"vertical"},f.a.createElement(g.Box,{className:j.a.back},n?f.a.createElement("span",{className:j.a.backIcon,onClick:a},f.a.createElement(T.a,{name:"ZD-back"})):null),f.a.createElement(g.Box,{flexible:!l&&!s,className:j.a.title},t),l?f.a.createElement(g.Box,{flexible:!0,shrink:!0,adjust:!!s,className:c},f.a.createElement(g.Container,{align:"vertical",alignBox:"row"},l())):null,s?f.a.createElement(g.Box,{flexible:!0,shrink:!0,adjust:!!l,className:u},f.a.createElement(g.Container,{align:"vertical",alignBox:"row",className:j.a.rightPanel},s())):null,r?f.a.createElement(g.Box,null,i?f.a.createElement("span",{className:j.a.helpInfoCont},f.a.createElement("span",{className:j.a.helpInfo,onClick:o},f.a.createElement(T.a,{name:"ZD-info31"}))):f.a.createElement("span",{className:j.a.helpInfo+" "+j.a.mr15,onClick:o},f.a.createElement(T.a,{name:"ZD-info31"}))):null))}}]),t}(p.Component);E.propTypes={getLeftPlaceHolder:h.a.func,getRightPlaceHolder:h.a.func,headerCustomStyle:h.a.object,isCustomizedHeader:h.a.bool,leftClassName:h.a.string,needBack:h.a.bool,needHelpInfo:h.a.bool,needHelpInfoWrapper:h.a.bool,onBackClick:h.a.func,openHelpInfo:h.a.func,rightClassName:h.a.string,title:h.a.string},E.defaultProps={needBack:!1,needHelpInfo:!1,needHelpInfoWrapper:!1};var k=function(e){function t(e){return i()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.needPadding,a=e.className;return f.a.createElement(g.Box,{flexible:!0,scroll:"vertical",className:(a||"")+" "+j.a.content+" "+(n?j.a.padding:"")+" ",isScrollAttribute:!0},t)}}]),t}(p.Component);k.propTypes={children:h.a.element,className:h.a.bool,needPadding:h.a.bool},k.defaultProps={needPadding:!0};var C=function(e){function t(e){return i()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.children;return f.a.createElement(g.Box,null,e)}}]),t}(p.Component);C.propTypes={children:h.a.element},n.d(t,"b",function(){return O}),n.d(t,"d",function(){return E}),n.d(t,"c",function(){return C}),n.d(t,"a",function(){return k})},"./src/components/setup/UserControl/TeamMembers/TeamMembers.module.css":function(e,t,n){e.exports={teamAlign:"zd-teammembers-teamAlign",girdAlign:"zd-teammembers-girdAlign zd7f7ad86055",memberList:"zd-teammembers-memberList",sourceList:"zd-teammembers-sourceList",notificationList:"zd-teammembers-notificationList",teamSection:"zd-teammembers-teamSection",contSec:"zd-teammembers-contSec",title:"zd-teammembers-title zdbce71b4599 zdccf2edd024 zd6063afa107",subTitle:"zd-teammembers-subTitle",mailTxt:"zd-teammembers-mailTxt zd6063afa107",textLimit:"zd-teammembers-textLimit zd6063afa107 zd1e6829acb8",dotted:"zd-teammembers-dotted zd6063afa107",contTxt:"zd-teammembers-contTxt zd6063afa107",teamPart:"zd-teammembers-teamPart"}},"./src/components/setup/UserControl/TeamMembersSection/TeamMembersSection.module.css":function(e,t,n){e.exports={teamMemberList:"zd-teammemberssection-teamMemberList",teamAlign:"zd-teammemberssection-teamAlign",teamTitle:"zd-teammemberssection-teamTitle",teamTabList:"zd-teammemberssection-teamTabList",more:"zd-teammemberssection-more",moreTxt:"zd-teammemberssection-moreTxt"}},"./src/components/setup/UserControl/TeamsDetailTitle/TeamsDetailTitle.module.css":function(e,t,n){e.exports={container:"zd-teamsdetailtitle-container",title:"zd-teamsdetailtitle-title zd6063afa107",description:"zd-teamsdetailtitle-description",editIcon:"zd-teamsdetailtitle-editIcon",deleteIcon:"zd-teamsdetailtitle-deleteIcon"}},"./src/components/setup/UserControl/TeamsSourceTitle/TeamsSourceTitle.module.css":function(e,t,n){e.exports={title:"zd-teamssourcetitle-title zd6063afa107",agentcount:"zd-teamssourcetitle-agentcount",plusIcon:"zd-teamssourcetitle-plusIcon"}},"./src/containers/Setup/Organization/teams/TeamsDetailContainer.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=n.n(r),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(l),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=n.n(p),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=n.n(b),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=n.n(g),T=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),y=n("../components/lib/Layout/index.js"),j=(n("./src/containers/Setup/SetupPageContainer.module.css"),n("./src/reducers/selector.js")),_=n("./src/actions/AgentAction.js"),O=n("./src/actions/index.js"),E=n("./src/actions/roleAction.js"),k=(n("./src/components/DepartmentPopup/DepartmentPopup.js"),n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js")),C=n.n(k),I=n("./src/components/setup/UserControl/TeamsDetailTitle/TeamsDetailTitle.module.css"),A=n.n(I),S=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),x=n.n(S),N=function(e){function t(e){return s()(this,t),m()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description;e.edit,e.error;return h.a.createElement(y.Container,{className:A.a.container,alignBox:"row",align:"vertical",isCover:!1},h.a.createElement(y.Box,{flexible:!0},h.a.createElement("div",{className:A.a.title},t),h.a.createElement("div",{className:A.a.description},n)),h.a.createElement(y.Box,null,h.a.createElement("span",{className:A.a.editIcon},h.a.createElement(x.a,{name:"ZD-pen2"})),h.a.createElement("span",{className:A.a.deleteIcon},h.a.createElement(x.a,{name:"ZD-socialDelete"}))))}}]),t}(h.a.Component),P=N;N.propTypes=C()({description:v.a.string,edit:v.a.string,error:v.a.string,title:v.a.string},"title",v.a.string);var z=n("./src/components/setup/UserControl/TeamMembersSection/TeamMembersSection.module.css"),B=n.n(z),w=n("./src/components/layout/SetupDetailLayout/index.js"),L=n("../components/lib/Tab/index.js"),R=n("./src/components/setup/UserControl/TeamMembers/TeamMembers.module.css"),D=n.n(R),M=n("../components/lib/Avatar/Avatar.js"),H=n.n(M),W=function(e){function t(e){return s()(this,t),m()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.name,a=e.src,o=(e.mail,e.contactname),r=e.view,i=e.isHover,l=e.description;return h.a.createElement(y.Box,{className:""+("memberview"==r?D.a.memberList:"notificationview"==r?D.a.notificationList:D.a.sourceList)},h.a.createElement(y.Container,{alignBox:"row",className:D.a.girdAlign+" "+(i?D.a.teamSection:"")},h.a.createElement(y.Box,null,h.a.createElement(H.a,{name:n,src:a,size:"xmedium"})),h.a.createElement(y.Box,{flexible:!0,className:D.a.contSec},t&&h.a.createElement("span",{className:D.a.title},t),l&&h.a.createElement("span",{className:D.a.mailTxt+" "+(o?D.a.dotted:D.a.textLimit)},l),o&&h.a.createElement("span",{className:D.a.contTxt},o))))}}]),t}(h.a.Component),G=W;W.propTypes={contactname:v.a.string,description:v.a.string,isHover:v.a.bool,mail:v.a.string,name:v.a.string,src:v.a.string,title:v.a.string,view:v.a.string},W.defaultProps={listType:"teamview"},W.defaultProps={listType:"teamview"};var U=n("./src/components/setup/UserControl/TeamsSourceTitle/TeamsSourceTitle.module.css"),Z=n.n(U),V=function(e){function t(e){return s()(this,t),m()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.count;return h.a.createElement(y.Container,{isCover:!1},h.a.createElement("div",{className:Z.a.title},h.a.createElement("span",null,t),h.a.createElement("span",{className:Z.a.agentcount},n),h.a.createElement("span",{className:Z.a.plusIcon},h.a.createElement(x.a,{name:"ZD-plus",size:"14"}))))}}]),t}(h.a.Component),q=V;V.propTypes={count:v.a.string,title:v.a.string};var J=function(e){function t(e){s()(this,t);var n=m()(this,(t.__proto__||i()(t)).call(this,e));return n.state={tab:"member"},n}return f()(t,e),u()(t,[{key:"tabs",value:function(e){this.setState({tab:e})}},{key:"getTeamSource",value:function(e,t){return"agent"==e?t.map(function(e){return h.a.createElement(G,{key:e.emailId,title:e.name,name:e.name,src:e.photoURL,description:e.emailId,contactname:"CEO",view:"memberview"})}):t.map(function(e,t){return h.a.createElement(G,{key:t,title:e.name,name:e.name,description:e.description,view:"teamview"})})}},{key:"render",value:function(){var e=this.props,t=e.headerTitle,n=e.needBack,a=e.onBackClick,o=(e.getLeftPlaceHolder,e.teamName),r=e.description,i=e.derivedAgents,l=e.agents,s=e.onClickTeamSources,c=e.subTeams,u=e.roles,d=e.rolesWithSubordinates,m=this.getTeamSource("agent",i),p=this.getTeamSource("agent",l),f=this.getTeamSource("subTeams",c),b=this.getTeamSource("roles",u),g=this.getTeamSource("rolesWithSub",d);return h.a.createElement(w.b,{getHelpInfo:function(){},needHelpInfo:!0},h.a.createElement(w.d,{title:t,needBack:n,onBackClick:a}),h.a.createElement(P,{title:o,description:r}),h.a.createElement(w.a,{needPadding:!1},h.a.createElement(L.TabWrapper,{defaultTab:this.state.tab,type:"delta",needTabBorder:!0,isAnimate:!0,onSelect:this.tabs.bind(this)},h.a.createElement(L.Tabs,{isResponsive:!1,needPadding:!1,className:B.a.tapSection},h.a.createElement(L.Tab,{id:"member",text:"Team Members",className:B.a.teamTabList}),h.a.createElement(L.Tab,{id:"sources",text:"Team Sources",className:B.a.teamTabList,onClick:s})),h.a.createElement(L.TabContentWrapper,null,h.a.createElement(L.TabContent,{id:"member"},h.a.createElement(y.Container,{scroll:"vertical",wrap:"wrap",isCover:!1},h.a.createElement(y.Box,{className:B.a.agentAlign},m))),h.a.createElement(L.TabContent,{id:"sources"},h.a.createElement(y.Container,{alignBox:"column",scroll:"vertical"},h.a.createElement(y.Box,{className:B.a.teamAlign},h.a.createElement(y.Container,{wrap:"wrap",isCover:!1},h.a.createElement("div",{className:B.a.teamTitle},h.a.createElement(q,{title:"Agents",count:"0"})),p)),h.a.createElement(y.Box,{className:B.a.teamAlign},h.a.createElement(y.Container,{wrap:"wrap",isCover:!1},h.a.createElement("div",{className:B.a.teamTitle},h.a.createElement(q,{title:"Teams",count:"0"})),f)),h.a.createElement(y.Box,{className:B.a.teamAlign},h.a.createElement(y.Container,{wrap:"wrap",isCover:!1},h.a.createElement("div",{className:B.a.teamTitle},h.a.createElement(q,{title:"Roles",count:"0"})),b)),h.a.createElement(y.Box,{className:B.a.teamAlign},h.a.createElement(y.Container,{wrap:"wrap",isCover:!1},h.a.createElement("div",{className:B.a.teamTitle},h.a.createElement(q,{title:"Roles & Subordinates",count:"0"})),g))))))))}}]),t}(h.a.Component),Q=J;J.propTypes={agents:v.a.array,derivedAgents:v.a.array,description:v.a.string,getLeftPlaceHolder:v.a.func,headerTitle:v.a.string,needBack:v.a.bool,onBackClick:v.a.func,onClickTeamSources:v.a.func,roles:v.a.array,rolesWithSubordinates:v.a.array,subTeams:v.a.array,teamName:v.a.string};var X=n("./src/utils/Common.js"),F=function(e){function t(e){s()(this,t);var n=m()(this,(t.__proto__||i()(t)).call(this,e));return n.onBackClick=n.onBackClick.bind(n),n.onClickTeamSources=n.onClickTeamSources.bind(n),n.state={agentLoaded:!1},n}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getTeams(this.props.teamId).then(function(t){e.props.getAgentsByTeam(e.props.teamId).then(function(){e.setState({agentLoaded:!0})})})}},{key:"getAgentObject",value:function(e){var t=this.props,n=t.agentsObj,a=t.namePattern,o=[];return e.map(function(e){var t=n[e];t&&o.push({name:Object(X.f)(a,t.firstName,t.lastName),photoURL:t.photoURL,emailId:t.emailId})}),o}},{key:"getTeamsObject",value:function(e){var t=this.props.teamsObj,n=[];return e.map(function(e){var a=t[e];a&&n.push({name:a.name,description:a.description})}),n}},{key:"getRolesObject",value:function(e){var t=this.props.rolesObj,n=[];return e.map(function(e){var a=t[e];a&&n.push({name:a.name,description:a.description})}),n}},{key:"onBackClick",value:function(){var e=this.props.paramMap,t=e.setupModule,n=void 0===t?"":t,a=e.orgName,o=e.deptName,r=e.setupSubOrDepOrModuleName;this.props.push({pathname:"/"+a+"/"+o+"/setup/"+n+"/"+r+"/list"})}},{key:"onClickTeamSources",value:function(){var e=this.props.teamObj,t=e.subTeams,n=void 0===t?[]:t,a=e.roles,r=void 0===a?[]:a,i=e.rolesWithSubordinates,l=void 0===i?[]:i,s=this.props,c=(s.teamId,s.depId),u=s.teamsIdList,d=[].concat(o()(r),o()(l));n.length>0&&!u.length&&this.props.getTeamsList(c).then(function(){console.log("scuccess")}),d.length>0&&this.props.getRoleDetails(d).then()}},{key:"render",value:function(){var e={headerName:"Teams",needBack:!0,onBackClick:this.onBackClick},t=this.props.teamObj||{},n=t.name,a=void 0===n?"":n,o=t.description,r=void 0===o?"":o,i=t.derivedAgents,l=void 0===i?[]:i,s=t.agents,c=void 0===s?[]:s,u=t.subTeams,d=void 0===u?[]:u,m=t.roles,p=void 0===m?[]:m,f=t.rolesWithSubordinates,b=void 0===f?[]:f,g=this.getAgentObject(l),v=this.getAgentObject(c),T=this.getTeamsObject(d),y=this.getRolesObject(p),j=this.getRolesObject(b);return h.a.createElement(Q,{headerTitle:e.headerName,needBack:e.needBack,onBackClick:e.onBackClick,getLeftPlaceHolder:this.getLeftPlaceHolder,teamName:a,description:r,derivedAgents:this.state.agentLoaded?g:[],agents:this.state.agentLoaded?v:[],subTeams:T,roles:y,rolesWithSubordinates:j,onClickTeamSources:this.onClickTeamSources})}}]),t}(b.Component);F.propTypes={agentsObj:v.a.Object,depId:v.a.string,getAgentsByTeam:v.a.func,getRoleDetails:v.a.func,getTeams:v.a.func,getTeamsList:v.a.func,namePattern:v.a.any,paramMap:v.a.shape({setupModule:v.a.string,orgName:v.a.string,deptName:v.a.array,setupSubOrDepOrModuleName:v.a.string}),push:v.a.func,rolesObj:v.a.Object,teamId:v.a.string,teamObj:v.a.Object,teamsIdList:v.a.array,teamsObj:v.a.Object};var $={getTeams:O.t,push:O.L,getTeamsList:O.u,getRoleDetails:E.a,getAgentsByTeam:_.f};t.default=Object(T.connect)(function(e,t){var n=e.routing.paramMap,a=e.departmentMapper[n.setupSubOrDepOrModuleName],o=n.id,r=Object(j.jb)(e,o),i=Object(j.f)(e),l=Object(j.Q)(e);return{depId:a,teamObj:r,teamId:o,teamsObj:e.module.teams,teamsIdList:e.departmentSpecificState[a]&&e.departmentSpecificState[a].teamsList||[],paramMap:n,namePattern:l,agentsObj:i,rolesObj:e.module.role}},$)(F)}}]);