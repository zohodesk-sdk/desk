(window.deskappJsonp=window.deskappJsonp||[]).push([[114],{"../components/lib/Label/Label.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(n("../components/lib/Label/Label.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.type,a=e.palette,s=e.size,l=e.clipped,i=e.name,u=e.title,c=e.onClick,p=e.dataId;return o.default.createElement("label",{className:r.default.label+" "+r.default[n]+" "+r.default[s]+" "+r.default[a]+"\n          "+(l?r.default.dotted:"")+" "+(c?r.default.pointer:r.default.cursor),name:i,"data-title":u,"data-id":p,onClick:c},t)}}]),t}();t.default=i,i.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},i.propTypes={clipped:s.default.bool,dataId:s.default.string,name:s.default.string,onClick:s.default.func,palette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:s.default.oneOf(["small","medium","large"]),text:s.default.string,title:s.default.string,type:s.default.oneOf(["title","subtitle"])},i.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/Switch/Switch.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),r=i(n("../components/lib/Switch/Switch.module.css")),l=i(n("../components/lib/Label/Label.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.value,s=e.checked,i=e.disabled,u=e.size,c=e.text,p=e.labelSize,d=e.labelPalette,m=e.title,f=e.dataId;return u="small"!==u?"switch_medium":"switch_small",o.default.createElement("span",{className:r.default.container+" "+(i?r.default.disabled:""),"data-title":i?m:""},o.default.createElement("span",{className:r.default[u]},o.default.createElement("input",{type:"checkbox",id:t,className:r.default.input+" "+(s?r.default.checked:""),name:n,value:a,checked:s,disabled:i,onClick:this.onChange,"data-id":f}),o.default.createElement("label",{htmlFor:t,className:r.default.label})),c&&o.default.createElement(l.default,{text:c,palette:d,id:t,size:p,type:"subtitle",onClick:this.onChange}))}}]),t}();t.default=u,u.defaultProps={checked:!1,disabled:!1,labelPalette:"primary",labelSize:"medium",size:"medium"},u.propTypes={checked:s.PropTypes.bool,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,id:s.PropTypes.string.isRequired,labelPalette:s.PropTypes.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.PropTypes.oneOf(["small","medium","large"]),name:s.PropTypes.string,onChange:s.PropTypes.func,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.string,title:s.PropTypes.string,value:s.PropTypes.bool},u.propTypesDescription={checked:" ",disabled:" ",size:" ",id:" ",name:" ",text:" ",labelSize:" ",labelPalette:" ",value:" ",onChange:" ",title:" "}},"./src/components/RadarApp/RadarApp.module.css":function(e,t,n){e.exports={section:"zd-radarapp-section",title:"zd-radarapp-title",subTitle:"zd-radarapp-subTitle",scanContainer:"zd-radarapp-scanContainer",appImg:"zd-radarapp-appImg zdaf255f5b1a",scanImg:"zd-radarapp-scanImg zd974bba0ffc",moreTxt:"zd-radarapp-moreTxt"}},"./src/components/Subtab/Loading/Loading.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),i=n.n(l),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),d=n.n(p),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(m),h=n("./src/components/Subtab/Loading/SubtabLoading.module.css"),b=n.n(h),g=n("../components/lib/Layout/index.js"),y=function(e){function t(){return r()(this,t),c()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return f.a.createElement(g.Container,{alignBox:"row",align:"both",className:b.a.container},f.a.createElement(g.Box,{className:b.a.dot}),f.a.createElement(g.Box,{className:b.a.dot}),f.a.createElement(g.Box,{className:b.a.dot}),f.a.createElement(g.Box,{className:b.a.dot}),f.a.createElement(g.Box,{className:b.a.dot}),f.a.createElement(g.Box,{className:b.a.dot}))}}]),t}(f.a.Component);t.a=y},"./src/components/UserInfo/UserInfo.module.css":function(e,t,n){e.exports={dinblk:"zd-userinfo-dinblk",pointer:"zd-userinfo-pointer",signOutTxt:"zd-userinfo-signOutTxt zd-userinfo-dinblk",btnContainer:"zd-userinfo-btnContainer zd-userinfo-dinblk zd-userinfo-pointer",closeContainer:"zd-userinfo-closeContainer zd-userinfo-pointer",header:"zd-userinfo-header",infoArea:"zd-userinfo-infoArea",maxw80:"zd-userinfo-maxw80",ringlogin:"zd-userinfo-ringlogin",userName:"zd-userinfo-userName zd-userinfo-maxw80 zd6063afa107",mailId:"zd-userinfo-mailId zd-userinfo-userName zd-userinfo-maxw80 zd6063afa107",seperatorLine:"zd-userinfo-seperatorLine",linkProfile:"zd-userinfo-linkProfile zd-userinfo-dinblk zd-userinfo-pointer",mt20:"zd-userinfo-mt20",editionContainer:"zd-userinfo-editionContainer",upgradeBox:"zd-userinfo-upgradeBox",expireUpgradeBox:"zd-userinfo-expireUpgradeBox",upgradeLeft:"zd-userinfo-upgradeLeft zdcef62dc1e6",normalEdition:"zd-userinfo-normalEdition zd6063afa107 zdbce71b4599 zdccf2edd024",expireEdition:"zd-userinfo-expireEdition zd6063afa107 zdbce71b4599 zdccf2edd024",subscribeButton:"zd-userinfo-subscribeButton",subscribeTxt:"zd-userinfo-subscribeTxt",upgradeTxt:"zd-userinfo-upgradeTxt",expiresIn:"zd-userinfo-expiresIn",extendTrail:"zd-userinfo-extendTrail",footerLink:"zd-userinfo-footerLink zd6063afa107 zd-userinfo-pointer",pl5:"zd-userinfo-pl5",footerLinkIcon:"zd-userinfo-footerLinkIcon",container:"zd-userinfo-container zdc4b505a7b0 zd934260ce09",footerContainer:"zd-userinfo-footerContainer zdc4b505a7b0 zd934260ce09 zd7f7ad86055",profileLinks:"zd-userinfo-profileLinks zdc4b505a7b0 zd934260ce09",raderContainer:"zd-userinfo-raderContainer"}},"./src/components/UserInfoStatus/UserInfoStatus.module.css":function(e,t,n){e.exports={statusbox:"zd-userinfostatus-statusbox",statusType:"zd-userinfostatus-statusType zd6063afa107",statusMode:"zd-userinfostatus-statusMode",speakerIcon:"zd-userinfostatus-speakerIcon",iconSize:"zd-userinfostatus-iconSize",iconSpeaker:"zd-userinfostatus-iconSpeaker",iconClose:"zd-userinfostatus-iconClose",danger:"zd-userinfostatus-danger",default:"zd-userinfostatus-default",success:"zd-userinfostatus-success",active:"zd-userinfostatus-active",pl10:"zd-userinfostatus-pl10"}},"./src/containers/MyInfoContainer/MyInfoContainer.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=n.n(s),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(l),u=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),c=n.n(u),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(p),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=n.n(m),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=n.n(h),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(g),N=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),S=n("./src/actions/index.js"),E=n("./src/utils/RequestAPI.js"),v=n("./src/utils/Common.js"),k=n("./src/constants/index.js");var C=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/extends.js"),z=n.n(C),P=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),x=n.n(P),I=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),_=n.n(I),j=n("./src/components/UserInfo/UserInfo.module.css"),T=n.n(j),L=n("../components/lib/Card/index.js"),w=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),O=n.n(w),M=n("./src/components/avatar/AvatarStatus/AvatarStatus.js"),D=n("./src/components/Link/Link.js"),R=n("./src/components/UserInfoStatus/UserInfoStatus.module.css"),A=n.n(R),B=n("../components/lib/Layout/index.js"),H=n("../components/lib/Switch/Switch.js"),U=n.n(H),V=n("./src/fz-i18n/index.js"),Z=n("./src/components/dropdown/ToggleDropDown/ToggleDropDown.js"),F=function(e){function t(e){return i()(this,t),d()(this,(t.__proto__||r()(t)).call(this,e))}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.isSwitch,n=e.checked,a=e.onChange,o=e.title,s=e.isSpeakerIcon,r=e.isMute,l=e.onMute,i=e.iconName,u=e.options,c=e.palette,p=e.onSelect,d=e.value,m=e.getLeftPanel,f=e.getRightPanel,h=e.active;return b.a.createElement(B.Container,{alignBox:"row",className:A.a.statusbox+" "+(h?A.a.active:""),align:"between"},b.a.createElement(B.Box,{shrink:!0},b.a.createElement(B.Container,{alignBox:"row",align:"vertical"},i&&b.a.createElement(O.a,{name:i,iconClass:A.a.iconSize}),o&&b.a.createElement(B.Box,{flexible:!0,shrink:!0,className:A.a.statusType},V.h.getI18NValue(""+o)),m&&m,s?b.a.createElement("span",{className:A.a.speakerIcon,onClick:l},b.a.createElement(O.a,{name:r?"ZD-mute1New":"ZD-speakerNew",iconSize:"10"})):null)),t&&b.a.createElement(B.Box,{className:A.a.switchContainer},b.a.createElement(U.a,{id:"mail_status",checked:n,onChange:a})),u&&b.a.createElement(B.Box,{shrink:!0,className:A.a.statusMode},b.a.createElement(Z.a,{options:u,className:A.a[c],value:d,keyName:"value",onClick:p,boxSize:"small"})),f&&f)}}]),t}(b.a.Component),J=F;F.docs={componentGroup:"Molecule"},F.propTypes={active:y.a.bool,checked:y.a.bool,getLeftPanel:y.a.object,getRightPanel:y.a.object,iconName:y.a.string,isMute:y.a.bool,isSpeakerIcon:y.a.bool,isSwitch:y.a.bool,onChange:y.a.func,onMute:y.a.func,onSelect:y.a.func,options:y.a.array,palette:y.a.string,title:y.a.string,value:y.a.string};var G=n("./src/components/RadarApp/RadarApp.module.css"),W=n.n(G),Y=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),c()(t,[{key:"render",value:function(){var e=V.h.getI18NValue,t=this.props.link;return b.a.createElement(B.Container,{className:W.a.section,alignBox:"row",isCover:!1,align:"vertical"},b.a.createElement(B.Box,{flexible:!0},b.a.createElement("div",{className:W.a.title},e("support.radar.logout.title")),b.a.createElement("div",{className:W.a.subTitle},b.a.createElement("span",null,e("support.radar.logout.app.text")),b.a.createElement(D.a,{href:t,className:W.a.moreTxt,target:"_blank"},e("support.label.know.more")))),b.a.createElement(B.Box,null,b.a.createElement(B.Container,{align:"both",isCover:!1,className:W.a.scanContainer},b.a.createElement("span",{className:W.a.appImg}),b.a.createElement("span",{className:W.a.scanImg}))))}}]),t}(b.a.Component),X=Y;Y.propTypes={link:y.a.string};var q=n("../components/lib/Popup/Popup.js"),K=n.n(q),Q=n("./src/telephony/constants/index.js"),$=Q.f.DND,ee=Q.f.PREFERENCE,te=Q.f.BUSY,ne={dnd:"support.rc.status.dnd",online:"support.md.label.online",offline:"support.md.label.offline",busy:"support.twi.busy",login:"support.rc.label.login",logout:"support.topmenu.logout",phone:"Phone",ringCentral:"support.label.ring.central",amazonConnect:"support.label.amazon.connect",preference:"support.setup.label.community-preferences",ph:"support.twi.onphone",web:"support.twi.onclient"},ae=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||r()(t)).call(this,e)),a=n.props.channelPreferences,o=a.mailStatus,s=a.chatStatus;return n.state={agentStatus:void 0,chatStatus:s,mailStatus:o},n.telephonyJSX=n.telephonyJSX.bind(n),n.chatStatusHandler=n.chatStatusHandler.bind(n),n.mailStatusHandler=n.mailStatusHandler.bind(n),n.phoneStatusHandler=n.phoneStatusHandler.bind(n),n.agentStatusHandler=n.agentStatusHandler.bind(n),n.checkAgentStatus=n.checkAgentStatus.bind(n),n.statusHandler=n.statusHandler.bind(n),n.telephonyStatusOptions=n.telephonyStatusOptions.bind(n),n.telephonyLoginHandler=n.telephonyLoginHandler.bind(n),n.phoneModeHandler=n.phoneModeHandler.bind(n),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.checkAgentStatus()}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,o=a.phoneStatus,s=a.channelPreferences,r=this.state,l=r.chatStatus,i=r.mailStatus;s.mailStatus!==i&&this.setState({mailStatus:s.mailStatus},function(){n.checkAgentStatus()}),o===e.phoneStatus&&l===t.chatStatus&&i===t.mailStatus||this.checkAgentStatus()}},{key:"mailStatusHandler",value:function(e){this.statusHandler("mailStatus",e)}},{key:"phoneStatusHandler",value:function(e){var t=this.props,n=t.updateChannelStatus,a=t.showRCPreference,o=t.telephony,s=t.phoneMode,r=t.updateLilyStatus;e!==ee?o.telephonyProviderName===Q.b?r(o.channelStatus.options[e]):n(s,e):a(o.telephonyProviderName)}},{key:"chatStatusHandler",value:function(e){this.statusHandler("chatStatus",e)}},{key:"statusHandler",value:function(e,t){var n=this;this.state[e]!==t&&(0,this.props.updateChannelPreferences)(o()({},e,"chatStatus"===e?t===k.p:t)).then(function(){n.setState(o()({},e,t))})}},{key:"checkAgentStatus",value:function(){var e=this.state,t=e.chatStatus,n=e.mailStatus,a=this.props.phoneStatus;t===k.p||n===k.p||a===k.p?this.setState({agentStatus:!0}):this.setState({agentStatus:!1})}},{key:"agentStatusHandler",value:function(e){var t=this,n=this.props,a=n.updateOverallChannelPreferences,o=n.updateChannelStatus,s=n.phoneMode,r=n.telephony,l=e?k.p:k.o;a({status:l}).then(function(){t.setState({agentStatus:e,mailStatus:l,chatStatus:l})}),r.telephonyProviderName===Q.c&&(e||(l=$),r.channelStatus.status===k.o)||o(s,l)}},{key:"expiresInHandler",value:function(e){return e<1?V.h.getI18NValue("support.license.trial.expired"):1===e?V.h.getI18NValue("support.license.trial.expires.today.alert"):V.h.getI18NValue("support.license.trial.expiry.alert",[e])}},{key:"phoneUIName",value:function(e){switch(e){case Q.d:return ne.phone;case Q.c:return ne.ringCentral;case Q.b:return ne.amazonConnect}}},{key:"telephonyStatusOptions",value:function(e){var t=this.props.telephony;if(e===Q.d)return[{iconName:"ZD-telephone",value:V.h.getI18NValue(ne.online),id:k.p},{iconName:"ZD-telephone",value:V.h.getI18NValue(ne.busy),id:te},{iconName:"ZD-telephone",value:V.h.getI18NValue(ne.offline),id:k.o}];if(e===Q.c)return[{iconName:"ZD-phone",value:V.h.getI18NValue(ne.online),id:k.p},{iconName:"ZD-phone",value:V.h.getI18NValue(ne.dnd),id:$},{iconName:"ZD-dPref",value:V.h.getI18NValue(ne.preference),id:ee},{iconName:"ZD-powerButton",value:V.h.getI18NValue(ne.logout),id:k.o}];if(e===Q.b){var n=t.channelStatus.options,a=[];return n&&a.push.apply(a,_()(x()(n).map(function(e){return{iconName:"ZD-telephone",value:e,id:e}})).concat([{iconName:"ZD-dPref",value:V.h.getI18NValue(ne.preference),id:ee}])),a}}},{key:"phoneModeHandler",value:function(e){var t=this.props;(0,t.updateChannelStatus)(e,t.phoneStatus)}},{key:"telephonyLoginHandler",value:function(){var e=this.props,t=e.telephony;(0,e.loginTelephony)(t.telephonyProviderName)}},{key:"telephonyJSX",value:function(){var e=this.props,t=e.telephony,n=e.phoneMode,a=e.phoneStatus;if(t){var o=t.telephonyProviderName;if(!o)return null;var s=b.a.createElement(Z.a,{iconName:n===Q.e.PHONE?"ZD-callOut2":"ZD-phone",iconSize:"14",needTick:!0,value:ne.phone,boxSize:"small",options:[{iconName:"ZD-telephone",value:V.h.getI18NValue(ne.ph),id:Q.e.PHONE,isActive:n===Q.e.PHONE},{iconName:"ZD-chWeb",value:V.h.getI18NValue(ne.web),id:Q.e.WEB,isActive:n===Q.e.WEB}],onClick:this.phoneModeHandler}),r=o===Q.d?{getLeftPanel:s}:{title:this.phoneUIName(o),iconName:"ZD-phone"};return b.a.createElement("div",{className:T.a.statusbox},b.a.createElement("span",{className:T.a.statusMode},o===Q.c&&a===k.o||o===Q.b&&!a?b.a.createElement(J,{iconName:"ZD-phone",title:this.phoneUIName(o),getRightPanel:b.a.createElement("span",{className:T.a.ringlogin,onClick:this.telephonyLoginHandler},"Login")}):b.a.createElement(J,z()({},r,{onSelect:this.phoneStatusHandler,value:o===Q.b||"DND"===a?"Available"===a?V.h.getI18NValue(ne.online):a:V.h.getI18NValue(ne[a.toLowerCase()]),options:this.telephonyStatusOptions(o),palette:a===k.p?"success":a===$||a===k.o?"danger":"default"}))))}}},{key:"render",value:function(){var e=this.props,t=(e.status,e.photoUrl),n=e.userName,a=e.mailId,o=e.profileName,s=e.roleName,r=e.onSignout,l=e.onMyProfile,i=e.onPreference,u=e.onMyPortal,c=e.editionText,p=e.expiresIn,d=e.trialExpire,m=e.closeMyInfo,f=e.deskUrls,h=e.isChatEnabled,g=this.state,y=g.mailStatus,N=g.agentStatus,S=g.chatStatus,E=[{text:V.h.getI18NValue("support.myinfo.myprofile"),onClick:l},{text:V.h.getI18NValue("support.setup.label.mypreference"),onClick:i},{text:V.h.getI18NValue("support.label.myportal"),onClick:u}],v=[{text:"support.myinfo.mobileapps",href:f.mobileUrl,iconSize:"13",iconName:"ZD-mobile"},{text:"support.topmenu.help",href:f.helpUrl,iconSize:"16",iconName:"ZD-helpRound"},{text:"support.setup.my.zoho.account",href:f.accountUrl,iconSize:"12",iconName:"ZD-newtab"}];return b.a.createElement(L.Card,null,b.a.createElement(L.CardHeader,null,b.a.createElement("div",{className:T.a.container},b.a.createElement("span",{className:T.a.btnContainer,onClick:r},b.a.createElement("span",{className:T.a.dinblk},b.a.createElement(O.a,{name:"ZD-powerButton",size:"16"})),b.a.createElement("span",{className:T.a.signOutTxt},V.h.getI18NValue("support.label.signout"))),b.a.createElement("span",{className:T.a.closeContainer,onClick:m},b.a.createElement(O.a,{name:"ZD-close",size:"25"})))),b.a.createElement(L.CardContent,{isScrollAttribute:!0},b.a.createElement("div",{className:T.a.infoArea},b.a.createElement("div",{className:T.a.header},b.a.createElement(M.a,{src:t,name:n,size:"large",state:N?"online":"offline"}),b.a.createElement("div",{className:T.a.userName},n),b.a.createElement("div",{className:T.a.mailId},a),b.a.createElement("div",{className:T.a.mailId},b.a.createElement("span",null,s)," - ",b.a.createElement("span",null,o)),b.a.createElement("div",{className:T.a.seperatorLine},"______"),b.a.createElement("div",{className:T.a.profileLinks},E.map(function(e,t){return b.a.createElement("span",{className:T.a.linkProfile,onClick:e.onClick,key:"link-"+t},e.text)}))),b.a.createElement("div",{className:T.a.mt20},b.a.createElement(J,{title:"crm.security.user.status",iconName:"ZD-newuser",isSwitch:!0,checked:N,onChange:this.agentStatusHandler,active:!0}),b.a.createElement(J,{title:"support.common.reply.mail",iconName:"ZD-mailO",value:V.h.getI18NValue(ne[y.toLowerCase()]),onSelect:this.mailStatusHandler,options:[{iconName:"ZD-chEmail",value:V.h.getI18NValue(ne.online),id:k.p},{iconName:"ZD-chEmail",value:V.h.getI18NValue(ne.offline),id:k.o}],palette:y===k.p?"success":"danger"}),this.telephonyJSX(),h&&b.a.createElement(J,{options:[{iconName:"ZD-chatMessage",value:V.h.getI18NValue(ne.online),id:k.p},{iconName:"ZD-chatMessage",value:V.h.getI18NValue(ne.offline),id:k.o}],isSpeakerIcon:!0,isMute:!0,onMute:function(){},iconName:"ZD-chatMessage",title:"support.singular.name.Chat",palette:S===k.p?"success":"danger",value:V.h.getI18NValue("support.md.label."+S.toLowerCase()),onSelect:this.chatStatusHandler})))),b.a.createElement(L.CardFooter,null,b.a.createElement("div",{className:T.a.raderContainer},b.a.createElement(X,{link:f.radarUrl})),b.a.createElement("div",{className:T.a.editionContainer},d?b.a.createElement(B.Container,{className:T.a.expireUpgradeBox,align:"vertical",alignBox:"row"},b.a.createElement(B.Box,{className:T.a.upgradeLeft},b.a.createElement("div",{className:T.a.expireEdition},c),c!==V.h.getI18NValue("support.license.edition.free")&&b.a.createElement("div",{className:T.a.expiresIn},this.expiresInHandler(p),b.a.createElement("span",{className:T.a.extendTrail},V.h.getI18NValue("support.trial.extension.label")))),b.a.createElement(B.Box,{className:T.a.subscribeButton},b.a.createElement(D.a,{href:"#",className:T.a.upgradeTxt},V.h.getI18NValue("crm.store.upgrade")))):b.a.createElement(B.Container,{className:T.a.upgradeBox,align:"vertical",alignBox:"row"},b.a.createElement(B.Box,{className:T.a.upgradeLeft},b.a.createElement("div",{className:T.a.normalEdition},c)),b.a.createElement(B.Box,{className:T.a.subscribeButton},b.a.createElement(D.a,{href:"#",className:T.a.subscribeTxt},V.h.getI18NValue("support.subscriptions.subscribe.sms.addon")))),b.a.createElement("div",{className:T.a.footerContainer},v.map(function(e,t){return b.a.createElement(D.a,{className:T.a.footerLink,href:V.h.getI18NValue(e.href),target:"_blank",key:t},b.a.createElement("span",{className:T.a.footerLinkIcon},b.a.createElement(O.a,{name:e.iconName,size:e.iconSize})),b.a.createElement("span",{className:T.a.pl5},V.h.getI18NValue(e.text)))})))))}}]),t}(h.Component);ae.propTypes={channelPreferences:y.a.object,closeMyInfo:y.a.func,deskUrls:y.a.object,editionText:y.a.string,expiresIn:y.a.number,isChatEnabled:y.a.bool,isPopupOpen:y.a.bool,mailId:y.a.string,onMyPortal:y.a.func,onMyProfile:y.a.func,onPreference:y.a.func,onSignout:y.a.func,phoneMode:y.a.string,phoneStatus:y.a.string,photoUrl:y.a.string,profileName:y.a.string,removeClose:y.a.func,roleName:y.a.string,status:y.a.bool,telephony:y.a.object,trialExpire:y.a.bool,updateChannelPreferences:y.a.func,updateChannelStatus:y.a.func,updateOverallChannelPreferences:y.a.func,userName:y.a.string};var oe=K()(ae),se=n("./src/reducers/selector.js"),re=n("./src/actions/portalAction.js"),le=n("./src/components/Subtab/Loading/Loading.js"),ie=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),ue=n.n(ie),ce=n("./src/telephony/actions/ChannelPreferences.js"),pe=function(e){function t(e){i()(this,t);var n=d()(this,(t.__proto__||r()(t)).call(this,e));return n.state={isFetching:!0},n.onSignout=n.onSignout.bind(n),n.onMyPortals=n.onMyPortals.bind(n),n.onMyProfile=n.onMyProfile.bind(n),n.onPreference=n.onPreference.bind(n),n.fullName=n.fullName.bind(n),n.editionText=n.editionText.bind(n),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getChannelPreferences)().then(function(){return e.setState({isFetching:!1})})}},{key:"onSignout",value:function(){document.location.href="/support/logout.sas"}},{key:"onPreference",value:function(){var e=this.props,t=e.orgName,n=e.deptName,a=e.push,o=e.closeMyInfo;a({pathname:"/"+t+"/"+n+"/setup/personal-settings/my-preferences/details"}),o()}},{key:"onMyProfile",value:function(){var e=this.props,t=e.orgName,n=e.deptName,a=e.push,o=e.closeMyInfo;a({pathname:"/"+t+"/"+n+"/setup/personal-settings/my-info/details"}),o()}},{key:"onHrefClick",value:function(e){var t=this.props,n=t.orgName,a=t.deptName,o=t.push,s=t.closeMyInfo;o({pathname:"/"+n+"/"+a+"/"+e}),s()}},{key:"onMyPortals",value:function(){(0,this.props.openMyPortal)(!0)}},{key:"editionText",value:function(){var e=V.h.getI18NValue,t=this.props.license.licenseType,n=k.L.ENTERPRISE,a=k.L.ENTERPRISE_2019,o=k.L.FREE,s=k.L.FREE_2019,r=k.L.PROFESSIONAL,l=k.L.PROFESSIONAL_2019,i=k.L.STANDARD,u=k.L.STANDARD_2019;return[n,a].includes(t)?e("support.license.edition.enterprise"):[r,l].includes(t)?e("support.license.edition.professional"):[o,s].includes(t)?e("support.license.edition.free"):[i,u].includes(t)?e("support.license.edition.standard"):this.capitalize(t)}},{key:"capitalize",value:function(e){return e[0]+e.slice(1).toLowerCase()}},{key:"fullName",value:function(){var e=this.props.myInfo;return"FIRST_NAME"===e.namePattern[0]?e.firstName+" "+e.lastName:e.lastName+" "+e.firstName}},{key:"render",value:function(){var e=this.props,t=e.myInfo,n=e.myProfile,a=e.closeMyInfo,o=e.myRole,s=e.channelPreferences,r=e.updateChannelPreferences,l=e.updateOverallChannelPreferences,i=e.license,u=e.deskUrls,c=e.telephony,p=e.updateChannelStatus,d=e.phoneMode,m=e.phoneStatus,f=e.loginTelephony,h=e.showRCPreference,g=e.updateLilyStatus;if(this.state.isFetching)return b.a.createElement(le.a,null);var y=new Date(i.expiryDate),N=new Date,S=Math.floor((y-N)/864e5);return b.a.createElement(oe,{status:s.isOnline,photoUrl:t.photoURL,userName:this.fullName(),mailId:t.emailId,profileName:n.name,roleName:o.name,onSignout:this.onSignout,onMyProfile:this.onMyProfile,onPreference:this.onPreference,onMyPortal:this.onMyPortals,editionText:this.editionText(),expiresIn:S,trialExpire:i.inTrial,closeMyInfo:a,channelPreferences:s,updateChannelPreferences:r,updateOverallChannelPreferences:l,deskUrls:u,isChatEnabled:t.associatedChatDepartmentIds.length>0,telephony:c,updateChannelStatus:p,phoneMode:d,phoneStatus:m,loginTelephony:f,showRCPreference:h,updateLilyStatus:g})}}]),t}(h.Component);pe.propTypes=o()({channelPreferences:y.a.object,closeMyInfo:y.a.func,deptName:y.a.string,deskUrls:y.a.object,getChannelPreferences:y.a.func,license:y.a.object,loginTelephony:y.a.func,myInfo:y.a.object,myProfile:y.a.object,myRole:y.a.object,openMyPortal:y.a.func,orgName:y.a.string,push:y.a.func,showRCPreference:y.a.func,telephony:y.a.object,updateChannelPreferences:y.a.func,updateChannelStatus:y.a.func,updateLilyStatus:y.a.func,updateOverallChannelPreferences:y.a.func},"updateOverallChannelPreferences",y.a.func);t.default=Object(N.connect)(function(e){return{orgName:e.routing.paramMap.orgName,deptName:e.routing.paramMap.deptName,orgId:""+e.currentOrgId,deptId:Object(se.t)(e),myInfo:e.myInfo,myProfile:e.module.profile[e.myInfo.profileId],myRole:e.module.role[e.myInfo.roleId],channelPreferences:e.channelPreferences,license:e.license,deskUrls:e.deskUrls,telephony:e.telephony,phoneStatus:ue()("telephony.channelStatus.status",e),phoneMode:ue()("telephony.channelStatus.mode",e)}},{getChannelPreferences:function(){return{types:Object(v.m)("GET_CHANNEL_PREFERENCES"),callAPI:function(e){return Object(E.a)(k.B+"myChannelPreferences",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}},openMyPortal:re.e,push:S.L,updateChannelPreferences:function(e){return{types:Object(v.m)("UPDATE_CHANNEL_PREFERENCES"),callAPI:function(t){return Object(E.a)(k.B+"myChannelPreferences",!1,{orgId:t.currentOrgId}).post("",e).then(function(){return e})}}},updateOverallChannelPreferences:function(e){return{types:Object(v.m)("UPDATE_OVERALL_PREFERENCE"),callAPI:function(t){return Object(E.a)(k.B+"myChannelPreferences/markAll",!1,{orgId:t.currentOrgId}).post("",e).then(function(){return e.status})}}},updateChannelStatus:ce.e,loginTelephony:ce.c,showRCPreference:ce.d,updateLilyStatus:ce.f})(pe)},"./src/telephony/actions/ChannelPreferences.js":function(e,t,n){"use strict";n.d(t,"e",function(){return p}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"f",function(){return b});var a=n("./src/telephony/constants/index.js"),o=a.a.MIDDLEWARE,s=a.a.UPDATE_STATUS,r=a.a.LOGIN_TELEPHONY,l=a.a.SHOW_RC_PREFERENCE,i=a.a.GET_LILY_STATUS,u=a.a.GET_LILY_STATUS_LIST,c=a.a.UPDATE_LILY_STATUS;function p(e,t){return{type:o+"/"+s,data:{mode:e,status:t}}}function d(e){return{type:o+"/"+r,data:e}}function m(e){return{type:o+"/"+l,data:e}}function f(e){return{type:o+"/"+i,data:e}}function h(e){return{type:o+"/"+u,data:e}}function b(e){return{type:o+"/"+c,data:e}}}}]);