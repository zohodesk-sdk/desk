(window.deskappJsonp=window.deskappJsonp||[]).push([[30,140],{"../components/lib/AvatarTeam/AvatarTeam.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=c(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=c(a("../components/lib/AvatarTeam/AvatarTeam.module.css")),r=c(a("../components/lib/Avatar/Avatar.js")),l=a("../components/lib/utils/dummyFunction.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.name,n=e.size,i=e.palette,l=e.onClick,c=e.title,d=e.isFilled,u=e.dataId;return o.default.createElement("span",{className:s.default.container+" "+s.default[n]+" "+s.default[i],"data-id":u},o.default.createElement(r.default,{name:a,onClick:l,palette:i,size:n,src:t,title:c}),o.default.createElement("span",{className:s.default.team+" "+(d?s.default.filled:s.default.nofill)}))}}]),t}();t.default=d,d.defaultProps={isFilled:!1,palette:"primary",size:"medium",src:null,title:null,onClick:l.dummyFunction,dataId:"avatarTeamComp"},d.propTypes={dataId:i.default.string,isFilled:i.default.bool,name:i.default.string.isRequired,onClick:i.default.func,palette:i.default.oneOf(["primary","secondary","info"]),size:i.default.oneOf(["small","xsmall","medium","xmedium","large","xlarge"]),src:i.default.string,title:i.default.string},d.propTypesDescription={name:" ",size:" ",src:" ",palette:" ",onClick:" ",title:" ",isFilled:" "}},"../components/lib/Button/Button.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(a("../components/lib/Button/Button.module.css")),r=a("../components/lib/utils/dummyFunction.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.palette,n=e.disabled,i=e.size,r=e.onClick,l=e.rounded,c=e.status,d=e.children,u=e.isBold,p=e.dataId,m=e.needAppearance,h=e.className,f=e.getRef,g=m?s.default[a.toLowerCase()]+" "+(l?s.default.rounded:"")+"   "+(d?s.default["button_"+i.toLowerCase()]:s.default[i.toLowerCase()]):""+s.default.default;return o.default.createElement("button",{className:(h||"")+" "+g+" "+(u?s.default.bold:"")+"  ","data-id":n?p+"_disabled":p,disabled:n||"loading"===c.toLowerCase(),onClick:r,type:"button",ref:f},d||t,"none"!==c&&m&&o.default.createElement("div",{className:s.default.overlay},o.default.createElement("div",{className:"loading"===c.toLowerCase()?s.default.loading:s.default.success},o.default.createElement("div",{className:s.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:r.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:i.default.node,className:i.default.string,dataId:i.default.string,disabled:i.default.bool,getRef:i.default.func,isBold:i.default.bool,needAppearance:i.default.bool,onClick:i.default.func,palette:i.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:i.default.bool,size:i.default.oneOf(["small","medium","large","xlarge"]),status:i.default.oneOf(["loading","success","none"]),text:i.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/CheckBox/CheckBox.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(a("../components/lib/CheckBox/CheckBox.module.css")),r=l(a("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,i=e.disabled,l=e.palette,c=e.text,d=e.labelPalette,u=e.active,p=e.labelSize,m=e.getRef,h=e.dataId,f=u?s.default[l+"_active"]:"",g=i?s.default.disabled:s.default.pointer;return o.default.createElement("span",{className:s.default.container+" "+g+" "+(c?s.default.layout:s.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:s.default.input+" "+(n?s.default.checked:""),name:a,checked:n,disabled:i,ref:m}),o.default.createElement("label",{className:s.default["label_"+l]+" "+f+" "+(c?s.default.layoutshrink:""),onClick:this.onChange,"data-id":h},o.default.createElement("span",null)),c&&o.default.createElement("span",{className:s.default.text},o.default.createElement(r.default,{text:c,palette:d,id:t,size:p,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:i.default.bool,checked:i.default.bool,dataId:i.default.string,disabled:i.default.bool,getRef:i.default.func,id:i.default.string,labelPalette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:i.default.oneOf(["small","medium","large"]),name:i.default.string,onChange:i.default.func,palette:i.default.oneOf(["primary","danger"]),text:i.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},"../components/lib/Label/Label.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=r(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=r(a("../components/lib/Label/Label.module.css"));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.type,n=e.palette,i=e.size,r=e.clipped,l=e.name,c=e.title,d=e.onClick,u=e.dataId;return o.default.createElement("label",{className:s.default.label+" "+s.default[a]+" "+s.default[i]+" "+s.default[n]+"\n          "+(r?s.default.dotted:"")+" "+(d?s.default.pointer:s.default.cursor),name:l,"data-title":c,"data-id":u,onClick:d},t)}}]),t}();t.default=l,l.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},l.propTypes={clipped:i.default.bool,dataId:i.default.string,name:i.default.string,onClick:i.default.func,palette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:i.default.oneOf(["small","medium","large"]),text:i.default.string,title:i.default.string,type:i.default.oneOf(["title","subtitle"])},l.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/ListItem/ListItemWithAvatar.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=u(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=u(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=a("../components/lib/Layout/index.js"),r=u(a("../components/lib/ListItem/ListItem.module.css")),l=u(a("../components/lib/Avatar/Avatar.js")),c=u(a("../components/lib/AvatarTeam/AvatarTeam.js")),d=u(a("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.getRef=a.getRef.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"getRef",value:function(e){this.ele=e;var t=this.props,a=t.index,n=t.getRef,o=t.id;n&&n(e,a,o)}},{key:"handleClick",value:function(e){var t=this.props,a=t.onClick,n=t.id,o=t.value,i=t.index;a&&a(n,o,i,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,a=t.onMouseEnter,n=t.id,o=t.value,i=t.index;a&&a(n,o,i,e)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.size),a=e.active,n=e.highlight,i=e.value,u=e.name,p=e.imgSrc,m=e.autoHover,h=e.isTeam,f=e.palette,g=e.title,v=e.needTick,b=e.isTick,w=e.dataId;return o.default.createElement(s.Container,{isCover:!1,align:"vertical",alignBox:"row",className:r.default.list+" "+r.default[t]+"  "+r.default[f]+"  "+(a?r.default.active:b?r.default.selected:n?r.default.hover:"")+" "+(m?r.default.effect:"")+" "+(v?r.default.withTick:null),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,eleRef:this.getRef,tagName:"li",dataId:(i||w)+"_ListItemWithAvatar"},u||p?o.default.createElement(s.Box,{className:r.default.left},h?o.default.createElement(c.default,{name:u,size:"xsmall",src:p}):o.default.createElement(l.default,{name:u,size:"xsmall",src:p})):null,i?o.default.createElement(s.Box,{flexible:!0,shrink:!0,"data-title":g,className:r.default.value},i):null,b?o.default.createElement("div",{className:r.default.tickIcon},o.default.createElement(d.default,{name:"ZD-ticknew",size:"10"})):null)}}]),t}();t.default=p,p.defaultProps={active:!1,autoHover:!1,highlight:!1,isTeam:!1,isTick:!1,needTick:!1,palette:"default",size:"medium",value:"List",dataId:"listAvatar"},p.propTypes={active:i.default.bool,autoHover:i.default.bool,dataId:i.default.string,getRef:i.default.func,highlight:i.default.bool,id:i.default.oneOfType([i.default.string,i.default.number]),imgSrc:i.default.string,index:i.default.number,isTeam:i.default.bool,isTick:i.default.bool,name:i.default.string,needTick:i.default.bool,onClick:i.default.func,onMouseEnter:i.default.func,palette:i.default.string,size:i.default.string,title:i.default.string,value:i.default.string},p.propTypesDescription={value:" ",onClick:" ",onMouseEnter:" ",active:" ",highlight:" ",autoHover:" ",getRef:" ",palette:" ",id:" ",index:" ",size:" ",imgSrc:" ",title:" "}},"../components/lib/MultiSelect/EmptyState.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=r(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=r(a("../components/lib/MultiSelect/MultiSelect.module.css"));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"render",value:function(){var e=this.props,t=e.emptyMessage,a=e.isLoading,n=e.noMoreOptionsMessage,i=e.options,r=e.searchEmptyMessage,l=e.searchString,c=e.suggestions,d=e.dataId;return a?o.default.createElement("div",{className:s.default.message,"data-id":d+"_Loading"},"Loading..."):l.length&&0===c.length?o.default.createElement("div",{className:s.default.message,"data-id":d+"_srchEmptyMsg"},r||t):0===i.length?o.default.createElement("div",{className:s.default.message,"data-id":d+"_noOptnsMsg"},t):o.default.createElement("div",{className:s.default.message,"data-id":d+"_NoMoreOptionMsg"},n||t)}}]),t}();t.default=l,l.propTypes={dataId:i.default.string,emptyMessage:i.default.string,isLoading:i.default.bool,noMoreOptionsMessage:i.default.string,options:i.default.array,searchEmptyMessage:i.default.string,searchString:i.default.string,suggestions:i.default.array},l.defaultProps={dataId:"empty"}},"../components/lib/MultiSelect/Suggestions.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=d(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=d(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=d(a("../components/lib/ListItem/ListItem.js")),r=d(a("../components/lib/ListItem/ListItemWithAvatar.js")),l=d(a("../components/lib/ListItem/ListItemWithIcon.js")),c=a("../components/lib/Layout/index.js");function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"render",value:function(){var e=this.props,t=e.suggestions,a=e.getRef,n=e.hoverOption,i=e.onClick,d=e.onMouseEnter,u=e.needTick,p=e.selectedOptions,m=e.activeId,h=e.hoverId,f=e.dataId,g=e.listItemSize;return o.default.createElement(c.Container,{isCover:!1},o.default.createElement(c.Box,{dataId:f+"_Options"},t.map(function(e,t){var c=e.id,f=e.value,v=e.photoURL,b=e.icon,w=e.optionType,y=e.iconSize,S=!!u&&-1!==p.indexOf(c),k=m===c,C=n===t||c===h;return"avatar"===w?o.default.createElement(r.default,{autoHover:!1,getRef:a,highlight:C,id:c,imgSrc:v,key:c+"avatarListItem",name:f,onClick:i,onMouseEnter:d,value:f,title:f,needTick:u,isTick:S,active:k,size:g}):"icon"===w?o.default.createElement(l.default,{autoHover:!1,getRef:a,highlight:C,id:c,key:c+"iconListItem",onClick:i,onMouseEnter:d,value:f,title:f,iconName:b,needTick:u,isTick:S,active:k,iconSize:y,size:g}):o.default.createElement(s.default,{autoHover:!1,getRef:a,highlight:C,id:c,key:c+"listItem",onClick:i,onMouseEnter:d,value:f,title:f,needTick:u,isTick:S,active:k,dataId:f,size:g})})))}}]),t}();t.default=u,u.propTypes={activeId:i.default.oneOfType([i.default.string,i.default.number]),dataId:i.default.string,getRef:i.default.func,hoverId:i.default.oneOfType([i.default.string,i.default.number]),hoverOption:i.default.number,listItemSize:i.default.oneOf(["small","medium","large"]),needTick:i.default.bool,onClick:i.default.func,onMouseEnter:i.default.func,selectedOptions:i.default.array,suggestions:i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),value:i.default.oneOfType([i.default.string,i.default.number]),photoURL:i.default.string,logo:i.default.string,optionType:i.default.string}))}},"../components/lib/Radio/Radio.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(a("../components/lib/Radio/Radio.module.css")),r=l(a("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=a.handleChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"handleChange",value:function(e){var t=this.props,a=t.onChange,n=t.value;a&&a(n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.value,i=e.checked,l=e.disabled,c=e.text,d=e.labelPalette,u=e.active,p=e.size,m=e.labelSize,h=e.dataId,f=l?s.default.disabled:s.default.pointer,g=u?s.default.active:"";return o.default.createElement("span",{className:s.default.container+" "+f+" "+(c?s.default.layout:s.default.basic),onClick:this.handleChange,"data-id":h},o.default.createElement("input",{type:"radio",id:t,className:s.default.input+"  "+(i?s.default.checked:""),name:a,value:n,checked:i,disabled:l}),o.default.createElement("label",{className:g+" "+s.default[p]+" "+(c?s.default.layoutshrink:"")}),c&&o.default.createElement("span",{className:s.default.text},o.default.createElement(r.default,{text:c,palette:d,size:m,type:"title",clipped:!0})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",size:"medium",dataId:"RadioComp"},c.propTypes={active:i.default.bool,checked:i.default.bool,dataId:i.default.string,disabled:i.default.bool,id:i.default.string,labelPalette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:i.default.oneOf(["small","medium","large"]),name:i.default.string,onChange:i.default.func,size:i.default.oneOf(["small","medium"]),text:i.default.string,value:i.default.string},c.propTypesDescription={checked:" ",disabled:" ",active:" ",labelPalette:" ",id:" ",name:" ",value:" ",text:" ",size:" ",labelSize:" ",onChange:" "}},"../components/lib/Select/Select.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),i=w(o),s=w(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=w(a("../components/lib/Popup/Popup.js")),l=w(a("../components/lib/DropBox/DropBox.js")),c=w(a("../components/lib/TextBoxIcon/TextBoxIcon.js")),d=w(a("../components/lib/TextBox/TextBox.js")),u=a("../components/lib/Card/Card.js"),p=w(u),m=w(a("../components/lib/MultiSelect/Suggestions.js")),h=w(a("../components/lib/MultiSelect/EmptyState.js")),f=w(a("../components/lib/Select/Select.module.css")),g=w(a("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),v=a("../components/lib/utils/dropDownUtils.js"),b=a("../components/lib/utils/Common.js");function w(e){return e&&e.__esModule?e:{default:e}}var y=[],S=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFilterSuggestions=(0,v.makeGetMultiSelectFilterSuggestions)(),a.formatOptions=(0,v.makeFormatOptions)(),a.getSelectedValue=(0,v.makeGetSelectedValueText)(),a.selectedFormatOptions={};var n=e.selectedValue,o=e.searchDebounceTime,i=void 0===o?500:o,s=e.isDefaultSelectValue,r=e.autoSelectDebouneTime,l=void 0===r?350:r,c=e.valueField,d=e.textField,u=a.handleFormatOptions(a.props),p=u.allOptions,m=u.normalizedAllOptions,h=u.optionsOrder,f=u.normalizedFormatOptions,g=a.getSelectedValue({optionsOrder:h,selectedValue:n,normalizedFormatOptions:f,selectedFormatOptions:a.selectedFormatOptions,isDefaultSelectValue:s,valueField:c,textField:d}),w=g.selected,y=g.hoverIndex,S=g.selectedValueDetails,k=g.selectedId;g.isSelfValueChanged;return a.state={selected:w,options:p,optionsNormalize:m,hoverIndex:y,searchStr:"",isFetchingOptions:!1,selectedId:k,selectedValueIndex:y},a.optionsOrder=h,a._isMounted=!1,a.normalizedFormatOptions=f,a.allSelectedOptions=S,a.handleChange=a.handleChange.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleFilterSuggestions=a.handleFilterSuggestions.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleFetchOptions=a.handleFetchOptions.bind(a),a.handleGetNextOptions=a.handleGetNextOptions.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleSearchOptions=(0,b.debounce)(a.handleSearchOptions.bind(a),i),a.suggestionContainerRef=a.suggestionContainerRef.bind(a),a.suggestionItemRef=a.suggestionItemRef.bind(a),a.searchInputRef=a.searchInputRef.bind(a),a.valueInputRef=a.valueInputRef.bind(a),a.togglePopup=a.togglePopup.bind(a),a.handleSelectFocus=a.handleSelectFocus.bind(a),a.handleFormatOptions=a.handleFormatOptions.bind(a),a.handlePopupClose=a.handlePopupClose.bind(a),a.handleClearSearch=a.handleClearSearch.bind(a),a.handleValueInputChange=a.handleValueInputChange.bind(a),a.handleChangeOnType=(0,b.debounce)(a.handleChangeOnType.bind(a),l),a.valueInputTypeString="",a.valueInputSearchString="",a.autoSelectSuggestions=[],a.autoSelectIndex=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,a=e.isDefaultSelectValue,n=e.valueField,o=e.textField,i=this.state.hoverIndex,s=this.handleFormatOptions(e),r=s.allOptions,l=s.normalizedAllOptions,c=s.optionsOrder,d=s.normalizedFormatOptions,u=this.selectedFormatOptions,p=this.getSelectedValue({optionsOrder:c,selectedValue:t,normalizedFormatOptions:d,selectedFormatOptions:u,isDefaultSelectValue:a,valueField:n,textField:o}),m=p.selected,h=p.hoverIndex,f=p.selectedValueDetails,g=p.selectedId;p.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(u,f),this.normalizedFormatOptions=d,this.optionsOrder=c,this.setState({options:r,optionsNormalize:l,selected:m,hoverIndex:i||h,selectedId:g,selectedValueIndex:h})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.suggestionContainer,n=this.optionsOrder,o=this.isSelectWithAvatarComponent,i=this.state,s=i.hoverIndex,r=i.searchStr,l=i.selectedValueIndex,c=this.props,d=c.needLocalSearch,u=c.onDropBoxClose,p=c.onDropBoxOpen,m=c.needSearch,h=c.onSearch,f=c.isPopupOpen,g=this["suggestion_"+((0,b.getIsEmptyValue)(n[s])?"":n[s])];f&&(0,b.scrollTo)(a,g),e.isPopupOpen!==f&&(f?(p&&this.handleFetchOptions(p,r),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(m&&this.valueInput&&this.valueInput.focus(),u&&u(),h&&h(""),this.setState({searchStr:o?r:"",hoverIndex:l})));var v=this.props,w=v.isNextOptions,y=v.getNextOptions,S=(f?this.handleFilterSuggestions():[]).length;f&&S<=5&&w&&y&&!d&&this.handleFetchOptions(y,r)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,a=e.valueField,n=e.textField;return this.formatOptions({options:t,valueField:a,textField:n})}},{key:"handleChange",value:function(e,t,a,n){n&&n.preventDefault&&n.preventDefault();var o=this.props,i=o.onChange,s=o.isReadOnly,r=this.state.optionsNormalize;!s&&i&&i(e,r[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,a=t.onChange,n=t.isPopupOpen,o=t.onKeyDown,i=t.isPopupOpenOnEnter,s=this.state,r=s.hoverIndex,l=s.optionsNormalize,c=this.handleFilterSuggestions(),d=e.keyCode;if(n||i||o&&o(e),n&&(38===d||40===d)&&e.preventDefault?e.preventDefault():n||40!==d||(e.preventDefault(),this.togglePopup(e)),38===d&&n&&c.length)0===r||(r-=1),this.setState({hoverIndex:r});else if(40===d&&n&&c.length)r===c.length-1||(r===c.length-3&&this.handleGetNextOptions(),r+=1),this.setState({hoverIndex:r});else if(13===d){var u=(c[r]||{}).id;n&&!(0,b.getIsEmptyValue)(u)&&a&&(a(u,l[u]),this.handlePopupClose(e)),!n&&i&&this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,a=this.state.searchStr,n=void 0===a?"":a,o=this.props.onSearch,i=n.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?i&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,a=this.optionsOrder.indexOf(e);t!==a&&this.setState({hoverIndex:a})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,a=e.excludeOptions,n=void 0===a?y:a,o=e.needSearch,i=this.state,s=i.options,r=void 0===s?y:s,l=i.searchStr;return o&&l&&l.trim().length||n&&n.length?(l=l.toLowerCase().replace(/\s+/g,""),this.getFilterSuggestions({options:r,selectedOptions:n,searchStr:l,needSearch:t}).suggestions):r}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.isFetchingOptions,o=void 0!==n&&n,i=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(a).then(function(){i&&t.setState({isFetchingOptions:!1})},function(){i&&t.setState({isFetchingOptions:!1})})}catch(e){i&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,a=e.getNextOptions,n=this.state.searchStr;t&&a&&this.handleFetchOptions(a,n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.isReadOnly,o=t.defaultDropBoxPosition;!n&&a(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,a){this["suggestion_"+a]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(){var e=this.valueInput;e&&e.setSelectionRange(e,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"handleValueInputChange",value:function(e){var t=e.which,a=String.fromCharCode(t),n=this.props,o=n.isPopupOpen,i=n.autoSelectOnType;!o&&i&&(this.valueInputTypeString+=(a||"").trim(),this.handleChangeOnType())}},{key:"handleChangeOnType",value:function(){var e=this,t=this.props.excludeOptions,a=void 0===t?y:t,n=this.state.options,o=void 0===n?y:n,i=this.optionsOrder,s=this.valueInputTypeString;this.valueInputTypeString="";var r=function(){var t=(e.autoSelectSuggestions[e.autoSelectIndex]||{}).id;if(!(0,b.getIsEmptyValue)(t)){e.handleChange(t);var a=i.indexOf(t);e.setState({hoverIndex:a})}};if(s&&s===this.valueInputSearchString)this.autoSelectIndex<this.autoSelectSuggestions.length-1?this.autoSelectIndex+=1:this.autoSelectIndex=0,r();else if(s){this.valueInputSearchString=s;var l=this.getFilterSuggestions({options:o,selectedOptions:a,searchStr:s,needSearch:!0,isStartsWithSearch:!0}).suggestions,c=void 0===l?[]:l;this.autoSelectIndex=0,this.autoSelectSuggestions=c,r()}}},{key:"render",value:function(){var e=this.props,t=e.needSearch,a=e.dropBoxSize,n=e.emptyMessage,o=e.searchEmptyMessage,s=e.needBorder,r=e.needSelectDownIcon,v=e.position,b=e.defaultDropBoxPosition,w=e.getTargetRef,y=e.getContainerRef,S=e.isPopupOpen,k=e.removeClose,C=e.isPopupReady,I=e.animationStyle,E=e.textBoxSize,D=e.textBoxVariant,N=e.searchBoxSize,x=e.searchBoxPlaceHolder,P=e.maxLength,T=e.isDisabled,A=e.title,_=e.size,F=e.placeHolder,O=e.className,B=e.portalId,z=e.isReadOnly,j=e.dataId,V=this.state,R=V.hoverIndex,M=V.selected,L=V.searchStr,K=V.isFetchingOptions,H=V.selectedId,U=V.options,W=this.handleFilterSuggestions();return i.default.createElement("div",{className:f.default.container+" "+f.default["box_"+_]+" ","data-title":T?A:""},i.default.createElement("div",{className:""+(O||""),onClick:T||z?null:this.togglePopup,ref:w,"data-id":""+(T?j+"_disabled":z?j+"_readOnly":j)},r?i.default.createElement(c.default,{isDisabled:T,iconRotated:S,inputRef:this.valueInputRef,maxLength:P,needBorder:s,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:F,isReadOnly:!0,size:E,value:M,variant:D,needReadOnlyStyle:!!z,dataId:j+"_textBox",isClickable:!z&&!T,className:z||T?"":f.default.input,needEffect:!T,onKeyPress:this.handleValueInputChange},i.default.createElement("div",{className:f.default.arrowIcon,"data-id":j+"_downIcon"},i.default.createElement(g.default,{name:"ZD-blockDownArrow",size:"8"}))):i.default.createElement(d.default,{isDisabled:T,inputRef:this.valueInputRef,maxLength:P,needBorder:s,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:F,isReadOnly:!0,needEffect:!T,size:E,value:M,variant:D,needReadOnlyStyle:!!z,dataId:j+"_textBox",isClickable:!z&&!T,onKeyPress:this.handleValueInputChange})),z||T||!S?null:i.default.createElement(l.default,{animationStyle:I,boxPosition:v||b+"Center",getRef:y,isActive:C,isAnimate:!0,isArrow:!1,onClick:k,portalId:B,dataId:j+"_suggestions"},i.default.createElement(p.default,{className:f.default.box,onScroll:this.handleScroll},t?i.default.createElement(u.CardHeader,null,i.default.createElement("div",{className:f.default.search+" "+f.default[_]},i.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:P,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:x,size:N,value:L,onClear:this.handleClearSearch,dataId:j+"_search"}))):null,i.default.createElement(u.CardContent,{className:a?f.default[a]:"",eleRef:this.suggestionContainerRef,dataId:j+"_Options"},W.length?i.default.createElement(m.default,{activeId:H,suggestions:W,getRef:this.suggestionItemRef,hoverOption:R,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):i.default.createElement(h.default,{emptyMessage:n,isLoading:K,options:U,searchEmptyMessage:o,searchString:L,suggestions:W,dataId:j})))))}}]),t}();S.propTypes={animationStyle:s.default.string,autoSelectDebouneTime:s.default.number,autoSelectOnType:s.default.bool,className:s.default.string,closePopupOnly:s.default.func,dataId:s.default.string,defaultDropBoxPosition:s.default.oneOf(["bottom","top","left","right"]),dropBoxSize:s.default.oneOf(["small","medium","large"]),emptyMessage:s.default.string,excludeOptions:s.default.array,getContainerRef:s.default.func,getNextOptions:s.default.func,getRef:s.default.func,getTargetRef:s.default.func,isDefaultSelectValue:s.default.bool,isDisabled:s.default.bool,isNextOptions:s.default.bool,isPopupOpen:s.default.bool,isPopupOpenOnEnter:s.default.bool,isPopupReady:s.default.bool,isReadOnly:s.default.bool,maxLength:s.default.string,needBorder:s.default.bool,needLocalSearch:s.default.bool,needSearch:s.default.bool,needSelectDownIcon:s.default.bool,onChange:s.default.func.isRequired,onDropBoxClose:s.default.func,onDropBoxOpen:s.default.func,onKeyDown:s.default.func,onSearch:s.default.func,options:s.default.oneOfType([s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])),s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])}))]).isRequired,placeHolder:s.default.string,portalId:s.default.string,position:s.default.string,removeClose:s.default.func,searchBoxPlaceHolder:s.default.string,searchBoxSize:s.default.string,searchDebounceTime:s.default.number,searchEmptyMessage:s.default.string,selectedValue:s.default.oneOfType([s.default.oneOfType([s.default.string,s.default.number]),s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])})]),size:s.default.oneOf(["small","medium"]),textBoxSize:s.default.string,textBoxVariant:s.default.string,textField:s.default.string,title:s.default.string,togglePopup:s.default.func,valueField:s.default.string},S.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},S.defaultProps={animationStyle:"bounce",autoSelectOnType:!0,dataId:"selectComponent",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},S.displayName="Select";var k=(0,r.default)(S);k.propTypes=S.propTypes,k.defaultProps=S.defaultProps,t.default=k},"../components/lib/Tab/Tab.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=c(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=c(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=a("../components/lib/Layout/index.js"),l=c(a("../components/lib/Tab/Tab.module.css"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.click=a.click.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"click",value:function(e){var t=e.currentTarget,a=this.props,n=a.onSelect,o=a.id,i=a.onClick;n(o,t.offsetLeft,t.offsetWidth),i&&i()}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.selectedTab,o=e.style,s=e.type,c=e.hookClass,d=e.text,u=e.children,p=e.className,m=e.isAnimate,h=e.needBorder,f=e.dataId,g=e.title,v=e.getActiveRef,b=e.activeClass,w=e.needAppearance,y=e.href,S=e.isLink,k={active:"active",tab:"tab"};"alpha"===s?k={active:"alphaActive",tab:"tabAlpha"}:"beta"===s?k={active:"betaActive",tab:"tabBeta"}:"gamma"===s?k={active:"gammaActive",tab:"tabGamma"}:"delta"===s?k={active:"deltaActive",tab:"tabDelta"}:"zeta"===s&&(k={active:"zetaActive",tab:"tabZeta"});var C={};return S&&(C.href=y),i.default.createElement(r.Box,n({tagName:S?"a":"div",className:"\n          tab_Hook "+(c?l.default.block:"")+"\n          "+l.default.tab+" "+(h&&!m&&w?" "+l.default.border:"")+" "+(t===a?(w?l.default[k.active]+" "+(h&&!m?l.default[k.active+"_border"]:""):"")+" "+(b||""):w?""+l.default[k.tab]:"")+" "+(p||"")+" ",dataId:f+"_Tab",onClick:this.click,style:o,eleRef:v.bind(this,t),"data-title":g||d,adjust:!0},C),i.default.createElement(r.Container,{alignBox:"row",align:"both"},d&&i.default.createElement(r.Box,{flexible:!0,adjust:!0,className:l.default.tabText+" "+(c||"")},d),u?i.default.createElement(r.Box,{shrink:!0},u):null))}}]),t}();t.default=d,d.defaultProps={dataId:"tabMenu"},d.propTypes={activeClass:s.default.string,children:s.default.oneOfType([s.default.element,s.default.string]),className:s.default.string,dataId:s.default.string,getActiveRef:s.default.func,hookClass:s.default.string,href:s.default.string,id:s.default.string,isAnimate:s.default.bool,isLink:s.default.bool,needAppearance:s.default.bool,needBorder:s.default.bool,onClick:s.default.func,onSelect:s.default.func,selectedTab:s.default.string,style:s.default.object,text:s.default.string,title:s.default.string,type:s.default.string}},"../components/lib/Tab/TabContent.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(a("../components/lib/Tab/TabContent.module.css")),r=a("../components/lib/Layout/index.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.scroll,n=e.dataId;return o.default.createElement(r.Container,{className:s.default.container,scroll:a,dataId:n+"_TabContent"},t)}}]),t}();t.default=c,c.defaultProps={dataId:"tabContent"},c.propTypes={children:i.default.node,dataId:i.default.string,scroll:i.default.oneOf(["vertical","horizontal","both","none"])}},"../components/lib/Tab/TabContentWrapper.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),s=(n=i)&&n.__esModule?n:{default:n},r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),l=a("../components/lib/Layout/index.js");var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,n=e.children,o=e.selectedTab,i=e.dataId;return s.default.createElement(l.Box,{flexible:!0,style:t,dataId:i,className:a},s.default.Children.map(n,function(e){if(e.props.id===o)return e}))}}]),t}();t.default=c,c.propTypes={children:r.PropTypes.node,className:r.PropTypes.string,dataId:r.PropTypes.string,selectedTab:r.PropTypes.string,style:r.PropTypes.object}},"../components/lib/Tab/TabWrapper.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=r(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=a("../components/lib/Layout/index.js");function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.defaultTab,o=e.hookToDisableInternalState;return a.state={selectedTabInternal:o?null:n||0},a.setSelectedTab=a.setSelectedTab.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"setSelectedTab",value:function(e){var t=this.props,a=t.hookToDisableInternalState,n=t.onSelect;a||this.setState({selectedTabInternal:e}),n&&n(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.isAnimate,i=t.needTabBorder,r=t.needBorder,l=t.needPadding,c=t.hookToDisableInternalState,d=t.needAppearance,u=t.align,p=t.children,m=t.defaultTab,h=this.state.selectedTabInternal,f=o.default.Children.map(p,function(t){return o.default.cloneElement(t,{selectedTab:c?m:h,onSelect:e.setSelectedTab,type:a,isAnimate:n,needTabBorder:i,needBorder:r,needPadding:l,needAppearance:d,hookToDisableInternalState:c,align:u})});return o.default.createElement(s.Container,{alignBox:"vertical"===u?"column":"row"},f)}}]),t}();t.default=l,l.propTypes={align:i.default.oneOf(["vertical","horizontal"]),children:i.default.node,defaultTab:i.default.string,hookToDisableInternalState:i.default.bool,isAnimate:i.default.bool,needAppearance:i.default.bool,needBorder:i.default.bool,needPadding:i.default.bool,needTabBorder:i.default.bool,onSelect:i.default.func,type:i.default.oneOf(["alpha","beta","delta","gamma","zeta"])},l.defaultProps={hookToDisableInternalState:!1,isAnimate:!1,needBorder:!0,needPadding:!0,needTabBorder:!1,type:"alpha",align:"vertical",needAppearance:!0}},"../components/lib/Tab/Tabs.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=p(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),i=p(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=a("../components/lib/utils/Common.js"),r=a("../components/lib/Layout/index.js"),l=p(a("../components/lib/Tab/Tab.js")),c=p(a("../components/lib/DropBox/DropBox.js")),d=p(a("../components/lib/Tab/Tabs.module.css")),u=p(a("../components/lib/Tab/Tab.module.css"));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={width:e.width||window.innerWidth,menuStatus:!1,count:null},a.setSelectedTab=a.setSelectedTab.bind(a),a.onResize=a.onResize.bind(a),a.onMenuToggle=a.onMenuToggle.bind(a),a.handleClick=a.handleClick.bind(a),a.getHighlightRef=a.getHighlightRef.bind(a),a.getTabsRef=a.getTabsRef.bind(a),a.onMenuClick=a.onMenuClick.bind(a),a.getActiveRef=a.getActiveRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isResponsive,a=e.type,n=e.isAnimate,o=e.needTabBorder,i=e.selectedTab;if("none"!==a){if(t&&this.responsiveTab(),n&&o){var s=this[i];s&&this.moveHighlight(s.offsetLeft,s.offsetWidth)}window.addEventListener("resize",this.onResize)}window.addEventListener("click",this.handleClick)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isResponsive,a=e.type,n=e.isAnimate,o=e.needTabBorder,i=e.selectedTab,s=this.props.selectedTab;if("none"!==a&&s!=i&&(t&&this.responsiveTab(),n&&o)){var r=this[i];this.moveHighlight(r.offsetLeft,r.offsetWidth)}}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isResponsive,n=t.children,i=this.state.count;a&&(o.default.Children.count(n)!==o.default.Children.count(e.children)?this.setState({count:null}):null===i&&this.responsiveTab())}},{key:"componentWillUnmount",value:function(){"none"!==this.props.type&&window.removeEventListener("resize",this.onResize),window.removeEventListener("click",this.handleClick)}},{key:"getHighlightRef",value:function(e){this.highlight=e}},{key:"getTabsRef",value:function(e){this.tabsEle=e}},{key:"moveHighlight",value:function(e,t){var a=this.highlight;a&&(a.style.left=(0,s.remConvert)(e)+"rem",a.style.width=(0,s.remConvert)(t)+"rem")}},{key:"setSelectedTab",value:function(e,t,a){var n=this.props,o=n.isAnimate,i=n.needTabBorder,s=n.onSelect;n.hookToDisableInternalState||o&&i&&this.moveHighlight(t,a),s(e)}},{key:"onMenuToggle",value:function(){var e=this.state.menuStatus;this.setState({menuStatus:!e})}},{key:"onResize",value:function(e){var t=this,a=this.props.isResponsive;this.tabsEle&&a&&(e?setTimeout(function(){t.setState({count:null})},e):this.setState({count:null}))}},{key:"handleClick",value:function(){this.setState({menuStatus:!1})}},{key:"responsiveTab",value:function(){if(this.tabsEle){for(var e=this.tabsEle.offsetWidth,t=this.tabsEle.querySelectorAll(".tab_Hook"),a=0,n=0;n<t.length&&!(e-t[n].offsetWidth<=80);n++)a=n+1,e-=t[n].offsetWidth;this.setState({width:this.tabsEle.offsetWidth,count:a})}}},{key:"getActiveRef",value:function(e,t){this[e]=t}},{key:"onMenuClick",value:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),this.onMenuToggle()}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.style,i=t.isAnimate,s=t.needTabBorder,l=t.className,p=t.needBorder,m=t.needPadding,h=t.children,f=t.selectedTab,g=t.dataId,v=t.highlightClass,b=t.align,w=t.needAppearance,y=t.childType,S=[],k=[],C=[],I=this.state,E=I.width,D=I.count,N=I.menuStatus,x=null;return o.default.Children.forEach(h,function(t,n){t&&t.type===y?null===D||n<D-1||"none"===a?(E-=120,S.push(o.default.cloneElement(t,{onSelect:e.setSelectedTab,selectedTab:f,type:a,needBorder:s,isAnimate:i,key:n,needAppearance:w,getActiveRef:e.getActiveRef}))):E&&(t.props.id===f?x=t:t.props.id&&k.push(t)):C.push(t)}),x?S.push(o.default.cloneElement(x,{onSelect:this.setSelectedTab,selectedTab:f,type:a,needBorder:s,isAnimate:i,getActiveRef:this.getActiveRef,needAppearance:w})):k.length&&(S.push(o.default.cloneElement(k[0],{onSelect:this.setSelectedTab,selectedTab:f,type:a,needBorder:s,isAnimate:i,getActiveRef:this.getActiveRef,needAppearance:w})),k.shift()),(k=k.map(function(t,n){return o.default.createElement("div",{className:"dchild",key:n},o.default.cloneElement(t,{onSelect:e.setSelectedTab,selectedTab:f,type:a,hookClass:u.default.text,needBorder:s,isAnimate:i,key:n,getActiveRef:e.getActiveRef,needAppearance:w}))})).length&&S.push(o.default.createElement("div",{className:d.default.menu+" "+u.default.tab+" "+u.default["tab"+a.charAt(0).toUpperCase()+a.slice(1)],onClick:this.onMenuClick},o.default.createElement("span",{className:d.default.menuIconContainer},o.default.createElement("div",{className:d.default.menuIconPath1}),o.default.createElement("div",{className:d.default.menuIconPath2})),o.default.createElement(c.default,{isActive:N,isAnimate:!0,right:"-8",size:"medium"},o.default.createElement("div",{className:d.default.menuBox},k)))),o.default.createElement(r.Box,null,o.default.createElement(r.Container,{alignBox:"vertical"===b?"row":"column",className:d.default.tab+"  "+(l||"")+" "+(w?d.default[a]+" "+(p?d.default[a+"_border"]:"")+" "+(m?d.default[a+"_padding"]:""):""),style:n},i&&s&&w&&o.default.createElement("div",{className:d.default.highlight+" "+(v||"")+" "+(i?d.default.lineAnimate:""),ref:this.getHighlightRef,"data-id":g}),o.default.createElement(r.Box,{eleRef:this.getTabsRef,flexible:!0},o.default.createElement(r.Container,{alignBox:"vertical"===b?"row":"column"},S)),C.length?o.default.createElement(r.Box,null,C):null))}}]),t}();t.default=m,m.propTypes={children:i.default.array,className:i.default.string,dataId:i.default.string,hookToDisableInternalState:i.default.bool,isAnimate:i.default.bool,isResponsive:i.default.bool,needBorder:i.default.bool,needPadding:i.default.bool,needTabBorder:i.default.bool,onSelect:i.default.func,selectedTab:i.default.string,style:i.default.object,type:i.default.string,width:i.default.number,highlightClass:i.default.string,align:i.default.oneOf(["vertical","horizontal"]),needAppearance:i.default.bool},m.defaultProps={isAnimate:!1,isResponsive:!0,needTabBorder:!1,type:"alpha",dataId:"highlight",align:"horizontal",childType:l.default}},"../components/lib/Tab/index.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("../components/lib/Tab/TabWrapper.js");Object.defineProperty(t,"TabWrapper",{enumerable:!0,get:function(){return l(n).default}});var o=a("../components/lib/Tab/TabContentWrapper.js");Object.defineProperty(t,"TabContentWrapper",{enumerable:!0,get:function(){return l(o).default}});var i=a("../components/lib/Tab/TabContent.js");Object.defineProperty(t,"TabContent",{enumerable:!0,get:function(){return l(i).default}});var s=a("../components/lib/Tab/Tabs.js");Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return l(s).default}});var r=a("../components/lib/Tab/Tab.js");function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Tab",{enumerable:!0,get:function(){return l(r).default}})},"../components/lib/Textarea/Textarea.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(a("../components/lib/Textarea/Textarea.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.onKeyDown=a.onKeyDown.bind(a),a.onBlur=a.onBlur.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"onChange",value:function(e){e&&e.preventDefault();var t=this.props.onChange;t&&t(e.target.value,e)}},{key:"onBlur",value:function(e){e&&e.preventDefault();var t=this.props.onBlur;t&&t(e.target.value,e)}},{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.placeHolder,o=e.needBorder,s=e.text,l=e.isDisabled,c=e.resize,d=e.maxLength,u=e.animated,p=e.variant,m=e.getRef,h=e.onFocus,f=e.dataId,g=e.className,v=e.isReadOnly,b=e.needAppearance,w=e.needReadOnlyStyle,y={horizontal:"resizeX",vertical:"resizeY",both:"resizeboth",none:"noresize"},S={};v&&(S.readOnly="readOnly"),l&&(S.disabled="disabled");var k=b?r.default.container+" "+r.default[t]+" "+r.default[p]+" "+(o?r.default.needBorder:r.default.noBorder)+" "+(c?r.default[y[c]]:r.default[y.none])+"  "+(u?r.default.animated:"")+"   "+(l||v?"":r.default.effect)+"   ":""+r.default.basic;return i.default.createElement("textarea",n({className:(g||"")+" "+(v&&w?r.default.readonly:"")+" "+k,placeholder:a},S,{"data-id":f,maxLength:d,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:h,onBlur:this.onBlur,ref:m,value:s}))}}]),t}();t.default=c,c.defaultProps={isDisabled:!1,isReadOnly:!1,dataId:"TextareaComp",needBorder:!0,resize:"none",size:"small",variant:"default",needAppearance:!0,needReadOnlyStyle:!0},c.propTypes={animated:s.default.bool,className:s.default.string,dataId:s.default.string,getRef:s.default.func,isDisabled:s.default.bool,isReadOnly:s.default.bool,maxLength:s.default.oneOfType([s.default.string,s.default.number]),needAppearance:s.default.bool,needBorder:s.default.bool,needReadOnlyStyle:s.default.bool,onBlur:s.default.func,onChange:s.default.func,onFocus:s.default.func,onKeyDown:s.default.func,placeHolder:s.default.string,resize:s.default.oneOf(["horizontal","vertical","both","none"]),size:s.default.oneOf(["xsmall","small","medium","large"]),text:s.default.string,variant:s.default.oneOf(["default","primary"])},c.propTypesDescription={needBorder:" ",isDisabled:" ",resize:" ",size:" ",variant:" ",placeHolder:" ",text:" ",onChange:" ",maxLength:" ",animated:" ",getRef:" ",onFocus:" ",onBlur:" "}},"../components/lib/utils/dropDownUtils.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetGroupSelectFilterSuggestions=t.makeGetGroupSelectOptions=t.makeObjectConcat=t.makeGetSelectedValueText=t.makeGetMultiSelectSelectedOptions=t.makeFormatOptions=t.extractOptionId=t.optionIdGrouping=t.makeGetMultiSelectFilterSuggestions=t.getPrefixText=t.getOptionType=t.getIconSize=t.getIconName=t.getImageField=t.getTextField=t.getValueField=t.getOptions=t.dummyObj=t.dummyArray=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(n=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(o)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),s=a("../components/lib/utils/Common.js");function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var l=t.dummyArray=[],c=t.dummyObj={},d=t.getOptions=function(e){return e.options||l},u=function(e){return e.optionsOrder||l},p=function(e){return e.selectedOptions||l},m=function(e){return e.searchStr||""},h=t.getValueField=function(e){return e.valueField||""},f=t.getTextField=function(e){return e.textField||""},g=t.getImageField=function(e){return e.imageField||""},v=t.getIconName=function(e){return e.iconName||""},b=t.getIconSize=function(e){return e.iconSize||""},w=t.getOptionType=function(e){return e.optionType||""},y=function(e){return e.needSearch},S=function(e){return e.isDefaultSelectValue},k=function(e){return(0,s.getIsEmptyValue)(e.selectedOptionsLength)?"":e.selectedOptionsLength},C=function(e){return e.normalizedFormatOptions||c},I=function(e){return(0,s.getIsEmptyValue)(e.selectedValue)?"":e.selectedValue},E=function(e){return e.selectedFormatOptions||c},D=t.getPrefixText=function(e){return e.prefixText||""},N=function(e){return e.isStartsWithSearch},x=t.makeGetMultiSelectFilterSuggestions=function(){return(0,i.createSelector)([d,p,m,y,N],function(e,t,a,n,o){var i=[],s=[];return e.forEach(function(e){var r=e.id,l=e.value,c=void 0===l?"":l,d=c.replace?c.replace(/\s+/g,"").toLowerCase():c.toString(),u=a.replace(/\s+/g,"").toLowerCase(),p=!n||(o?d.startsWith(u):-1!==d.indexOf(u));-1===t.indexOf(r)&&p&&(i.push(e),s.push(r))}),{suggestions:i,suggestionIds:s}})},P=t.optionIdGrouping=function(e,t){return(0,s.getIsEmptyValue)(e)?"":(0,s.getIsEmptyValue)(t)?e:("number"==typeof t?"Int":"Str")+"_"+t+"_"+("number"==typeof e?"Int":"Str")+"_"+e},T=(t.extractOptionId=function(e){if((0,s.getIsEmptyValue)(e))return{id:""};if("number"==typeof e)return{id:e};var t=e.split&&e.split("_");if(1===t.length)return t[0];if(4===t.length){var a=o(t,4),n=a[0],i=a[1],r=a[2],l=a[3];return{id:l="Int"===r?Number.parseInt(l):l,groupId:i="Int"===n?Number.parseInt(i):i}}},t.makeFormatOptions=function(){return(0,i.createSelector)([d,h,f,g,D,v,b,w],function(e,t,a,o,i,r,l,c){var d=[],u=[],p={},m={};return e.forEach(function(e){if(!(0,s.getIsEmptyValue)(e)){var h=e.valueField,f=e.textField,g=e.imageField,v=e.optionType,b=e.iconName,w=e.iconSize,y="object"===(void 0===e?"undefined":n(e))?e[h||t]:e,S="object"===(void 0===e?"undefined":n(e))?e[f||a]:e,k="object"===(void 0===e?"undefined":n(e))?e[g||o]:"";if(y=(0,s.getIsEmptyValue)(y)?"":P(y,i),-1===u.indexOf(y)&&!(0,s.getIsEmptyValue)(y)&&!(0,s.getIsEmptyValue)(S)){u.push(y);var C={id:y,value:S,optionType:v||c};o&&(C.photoURL=k),(b||r)&&(C.icon=b||r),(w||l)&&(C.iconSize=w||l),m[y]=C,p[y]=e,d.push(C)}}}),{allOptions:d,normalizedAllOptions:p,normalizedFormatOptions:m,optionsOrder:u}})}),A=(t.makeGetMultiSelectSelectedOptions=function(){return(0,i.createSelector)([p,C,k],function(e,t,a){var n=[],o=[],i={};a=(0,s.getIsEmptyValue)(a)?e.length:a;for(var r=0;r<a;r++){var l=e[r],c=(t[l]||{}).id;-1===o.indexOf(c)&&(0,s.getIsEmptyValue)(c)&&!(0,s.getIsEmptyValue)(l)?n.push({id:l,value:l}):-1!==o.indexOf(c)||(0,s.getIsEmptyValue)(c)||(o.push(c),n.push(t[l]),i[c]=t[l])}return{formatSelectedOptions:n,normalizedSelectedOptions:i,selectedOptionIds:o}})},t.makeGetSelectedValueText=function(){return(0,i.createSelector)([u,C,I,E,S,h,f],function(e,t,a,i,r,l,d){var u=e.indexOf(a),p=!1;(0,s.getIsEmptyValue)(a)&&r&&(a=o(e,1)[0],p=!0);var m,h,f,g=Object.assign({},i,t)[a],v=-1!==u?u:0,b=g?(f=g,(h=a)in(m={})?Object.defineProperty(m,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[h]=f,m):c,w=g||c,y=w.value,S=void 0===y?"":y,k=w.id;if((0,s.getIsEmptyValue)(k))if("object"===(void 0===a?"undefined":n(a))){var C=a[l],I=a[d];b={id:C,value:I},S=I,k=C,v=-1!==(u=e.indexOf(k))?u:0}else S=a,k=a;return{selected:S,hoverIndex:v,selectedValueDetails:b,selectedId:k,isSelfValueChanged:p}})},function(e){return e.obj1||c}),_=function(e){return e.obj2||c},F=(t.makeObjectConcat=function(){return(0,i.createSelector)([A,_],function(e,t){return Object.assign({},e,t)})},function(e){return e.groupedOptions||l}),O=T(),B=(t.makeGetGroupSelectOptions=function(){return(0,i.createSelector)([F],function(e){var t=[],a=[],n={},o={},i=[];return e.forEach(function(e){var l=e.options,c=e.id,d=e.name,u=e.valueField,p=e.textField;if(!(0,s.getIsEmptyValue)(c)&&-1===i.indexOf(c)){i.push(c);var m=O({options:l,valueField:u,textField:p,prefixText:c}),h=m.allOptions,f=m.normalizedAllOptions,g=m.normalizedFormatOptions,v=m.optionsOrder;v.length&&(t.push({id:c,name:d,options:h}),a=[].concat(r(a),r(v)),n=Object.assign({},n,f),o=Object.assign({},o,g))}}),{revampedGroups:t,normalizedAllOptions:n,normalizedFormatOptions:o,allOptionIds:a}})},function(e){return e.revampedGroups}),z=x();t.makeGetGroupSelectFilterSuggestions=function(){return(0,i.createSelector)([B,m,y,N],function(e,t,a,n){var o=[],i=[];return e.forEach(function(e){var s=e.options,l=z({options:s,needSearch:a,searchStr:t,isStartsWithSearch:n}),c=l.suggestions,d=l.suggestionIds;d.length&&(o.push(Object.assign({},e,{options:c})),i=[].concat(r(i),r(d)))}),{suggestionGroups:o,suggestionOptionIds:i}})}},"./src/actions/AgentAction.js":function(e,t,a){"use strict";a.d(t,"k",function(){return p}),a.d(t,"j",function(){return m}),a.d(t,"h",function(){return h}),a.d(t,"b",function(){return f}),a.d(t,"c",function(){return g}),a.d(t,"l",function(){return v}),a.d(t,"i",function(){return b}),a.d(t,"d",function(){return w}),a.d(t,"f",function(){return y}),a.d(t,"a",function(){return S}),a.d(t,"m",function(){return C}),a.d(t,"e",function(){return E}),a.d(t,"g",function(){return D}),a.d(t,"n",function(){return N});a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js");var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=a.n(n),i=a("./src/utils/RequestAPI.js"),s=a("./src/utils/Common.js"),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),l=a("./src/reducers/selector.js"),c=a("./src/utils/departmentQuery.js"),d=a("./src/constants/index.js"),u=a("./src/constants/agents.js");function p(e){return{types:Object(s.m)("AGENTS_COUNT"),callAPI:function(t){var a=Object(l.t)(t);return Object(i.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return o()({},e,{id:e.agentId})}),{countData:e.data,deptId:a}):{}})}}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e.from=k(e,"from","1"),e.limit=k(e,"limit","100"),e.searchStr=C(e);var a=e.from>1?"AGENT_NEXT":d.R.AGENT;return{types:Object(s.m)(a),callAPI:function(a){var n="/api/v1/agents?orgId="+a.currentOrgId+(t&&"allDepartment"!==t?"&departmentId="+t:"");return n+=S(e,["from","limit","status","isConfirmed","searchStr","profileIds","roleIds"]),Object(i.a)(n).get().then(function(a){if(204!==a.responseStatus){var n=a.data.length<e.limit,i=Object(r.b)(a.data,Object(r.a)(Object(r.c)(d.R.AGENT_L)));return o()(i,{noMoreData:n,depId:t})}return{entities:{noMoreData:!0},result:[]}})}}}function h(e,t,a){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{types:Object(s.m)(t>1?"AGENT_NEXT":d.R.AGENT),callAPI:function(s){return Object(i.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+a+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:s.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<a,i=Object(r.b)(t.data,Object(r.a)(Object(r.c)(d.R.AGENT_L)));return o()(i,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(s.m)(d.R.AGENT),callAPI:function(a){return Object(i.a)("/api/v1/agents/"+e,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=Object(r.b)(e,Object(r.c)(d.R.AGENT_L));return o()(a,{depId:t})})}}}function g(e){return{types:Object(s.m)(d.R.AGENT),callAPI:function(t){return Object(i.a)("/api/v1/agents/zuid/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(e,Object(r.c)(d.R.AGENT_L))})}}}function v(e,t,a){return{types:Object(s.m)("AGENT_SEARCH"),callAPI:function(n){return Object(i.a)("/api/v1/agents?searchStr=*"+e+"*&from="+t+"&limit="+a+"&status=ACTIVE&isConfirmed=true",!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<a,i=Object(r.b)(e.data,Object(r.a)(Object(r.c)(d.R.AGENT_L)));return o()(i,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.z,u=arguments[4];return{types:Object(s.m)(d.R.AGENT),callAPI:function(s){var p={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",m=u||Object(l.t)(s),h=u?"&departmentId="+u:Object(c.a)(s,!0),f="/api/v1/agents?"+(p?p+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(a?"&searchStr=*"+a+"*":"")+h;return Object(i.a)(encodeURI(f),!1,{orgId:s.currentOrgId}).get().then(function(i){return o()({},Object(r.b)(204!==i.responseStatus?i.data:[],Object(r.a)(Object(r.c)(d.R.AGENT_L))),{deptId:m,from:t,limit:n,isNext:!!i.data&&i.data.length>n,searchStr:a,agentType:e})},function(e){throw e})}}}function w(e){return{types:Object(s.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(i.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(204!==e.responseStatus?e.data:[],Object(r.a)(Object(r.c)(d.R.AGENT_L)))})}}}function y(e){return{types:Object(s.m)("TEAM_AGENT"),callAPI:function(t){return Object(i.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.b)(e.members,Object(r.a)(Object(r.c)(d.R.AGENT_L)))})}}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a="";return t.map(function(t){void 0!==e[t]&&(a+="&"+t+"="+e[t])}),a}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return void 0!==e[t]?e[t]:a}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=k(e,"searchType","string"),a=e.searchStr;return a&&(a="string*"==t?a+"*":"*string*"==t?"*"+a+"*":a),a}function I(e){var t=e.isConfirmed,a=e.status;switch(a){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===a)return u.b}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=k(e,"from","1"),e.limit=k(e,"limit","100"),e.searchStr=C(e);var t=e.from>1?u.k:u.j;return{types:Object(s.m)(t),callAPI:function(t){var a="/api/v1/agents?orgId="+t.currentOrgId;return a+=S(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(i.a)(a).get().then(function(t){return o()(Object(r.b)(void 0!==t.data?t.data:[],Object(r.a)(Object(r.c)(d.R.AGENT_L))),{status:I(e)})})}}}function D(e,t,a){var n={status:e,isConfirmed:t,includeLightAgent:a};return n.includeLightAgent=k(n,"includeLightAgent",!0),{types:Object(s.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=S(n,["status","isConfirmed","includeLightAgent"]),Object(i.a)(t).get().then(function(e){return o()({},e,{status:I(n)})})}}}function N(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}},"./src/actions/Social/AddActions.js":function(e,t,a){"use strict";a.d(t,"i",function(){return g}),a.d(t,"h",function(){return v}),a.d(t,"d",function(){return b}),a.d(t,"c",function(){return w}),a.d(t,"e",function(){return y}),a.d(t,"a",function(){return S}),a.d(t,"k",function(){return k}),a.d(t,"l",function(){return C}),a.d(t,"n",function(){return I}),a.d(t,"m",function(){return E}),a.d(t,"b",function(){return D}),a.d(t,"o",function(){return N}),a.d(t,"g",function(){return x}),a.d(t,"j",function(){return P}),a.d(t,"f",function(){return T});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/slicedToArray.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),d=a.n(c),u=a("./src/utils/RequestAPI.js"),p=a("./src/constants/SocialConstants.js"),m=a("./src/utils/Common.js"),h=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),f=a("./src/constants/index.js");a("./src/fz-i18n/index.js");function g(e,t,a,n,o,i,s){var r="";switch(t){case"like":r="facebook"===o?"FB_POST_LIKE":"TWI_LIKE";break;case"unlike":r="facebook"===o?"FB_POST_UNLIKE":"TWI_UNLIKE";break;case"retweet":r="TWI_RETWEET";break;case"undoRetweet":r="TWI_UNDORETWEET";break;case"comment":r="FB_COMMENT";break;case"feedDelete":r="FEED_DELETE";break;case"ticketDelete":r="TICKET_DELETE";break;case"message":r="ADD_MESSAGE";break;case"cmtCountMfy":r="FB_CMTCOUNT_MODIFY";break;case"getcomment":r="FB_GETCOMMENTS";break;default:r="FEED_LIKE"}return{types:Object(m.m)(p.a[r]),callAPI:function(n,o){return Object(u.a)(e,!1,{orgId:n.currentOrgId}).post("",a).then(function(e){var a=[],s=!1,r=o().socialStatus,c=r.channel,u=(r.channelMode,r.getFeedsMode,r.channelId),p=n.module.fbposts||[],m=n.module.tweets||[],g="facebook"===c?p:m,v=d()(g),b=g[i]||{};b=l()({},b);var w="";if(void 0===b.id&&"twitter"===c){var y=n.twitter[u].retweetIdArray,S={};y.map(function(e){return g[e]}).map(function(e){var t=e.retweeted_status;t.id===i&&(S=l()({},t),w=e.id)}),b=S}var k="facebook"===c?"likes":"favorites",C="facebook"===c?"canLike":"canFavorite",I=b.retweeted_status;if("like"===t||"unlike"===t){s=!0,"facebook"===c?"like"===t?102:103:110;var E=b.retweeted_status;if(null!=E){var D=(E=l()({},E))[k];(D=l()({},D))[C]=!D[C];var N=parseInt(D.count);D.count=!0===D[C]?N-1:N+1,E[k]=D,b.retweeted_status=E}else{var x=b[k];(x=l()({},x))[C]=!x[C];var P=parseInt(x.count);x.count=!0===x[C]?P-1:P+1,b[k]=x}a=b}if("retweet"===t||"undoRetweet"===t){if(null!=I&&"retweet"===t){var T=(I=l()({},I)).retweets;T.canRetweet=!T.canRetweet;var A=parseInt(T.count);T.count=!0===T.canRetweet?A-1:A+1,I.retweets=T,b=I}else{var _=b.retweets;_.canRetweet=!_.canRetweet;var F=parseInt(_.count),O=_.canRetweet;_.count=!0===O?F-1:F+1,O||(b.ticket="",b.retweeted_status=b),b.retweets=_}a=b}var B=v.map(function(e){return g[e]});B=l()([],B);if(s){var z="facebook"===c?"POSTS_L":"TWEETS_L";if(""!=w){var j=l()({},g[w]);j.retweeted_status=a,a=j}return Object(h.b)([a],Object(h.a)(Object(h.c)(f.R[z])))}},function(e){return{apiError:!0}})}}}function v(e,t,a,n){var o="/api/v1/socialBrands/"+e+"/"+a+"/"+t+"/convertAsTicket?departmentId="+n;return{types:Object(m.m)(p.a.CONVERT_TICKET),callAPI:function(e,n){return Object(u.a)(o,!1,{orgId:e.currentOrgId}).post().then(function(e){var o=n().module;o=l()({},o);var i="facebookPosts"===a?"POSTS_L":"facebookConversations"===a?"CONVERSATIONS_L":"twitterPosts"===a?"TWEETS_L":"CONVERSATIONS_L",s=o[f.R[i]],r=(s=l()({},s))[t];(r=l()({},r)).ticket=e;var c=Object(h.b)([r],Object(h.a)(Object(h.c)(f.R[i])));return l()(c,{ticket:e})},function(e){return{apiError:!0}})}}}function b(e,t,a,n,o,i,r){var c="facebook"===t?"ADD_NEWPOST":"ADD_NEWTWEET",d="facebook"===t?"facebookPosts":"twitterPosts",g="/api/v1/socialBrands/"+e+"/"+d+"?message="+encodeURIComponent(n);i&&null!=r&&(g="/api/v1/socialBrands/"+e+"/"+d+"/"+r+"?message="+encodeURIComponent(n)+"&type=post");var v=null!=o&&0!=o.length?"attach":"post";return o=void 0===o?"":o,{types:Object(m.m)(p.a[c]),callAPI:function(e,n){return Object(u.a)(g,!1,{orgId:e.currentOrgId})[v](o).then(function(e){var o=e.data,r=n(),c=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,l()(a,e)},d=(c(r.module),c(r.socialStatus)),u="facebook"===t?"POSTS_L":"TWEETS_L",p=f.R[u],m=r.facebook,g=r.twitter,v=c("facebook"===t?m:g),b=c(v[a]);if(null!=e.error)return l()(s()({},t,v),{newFeed:e},{newSocialStatus:d});var w=o.id,y="facebook"===t?"pagePost":"posts",S=c(b[y],!0),k=!i||i&&S.length>1;if(k&&(S.unshift(w),b[y]=S,v[a]=b),d.isCommentBoxOpen=!1,d.isPopupOpen=!1,k){var C=Object(h.b)([o],Object(h.a)(Object(h.c)(p)));return l()(s()({},t,v),C,{newFeed:o},{newSocialStatus:d})}return l()(s()({},t,v),{newFeed:o},{newSocialStatus:d})},function(e){return{apiError:!0}})}}}function w(e,t,a,n,o,i){var s="facebook"===t?"ADD_NEWCOMMENT":"ADD_NEWTWEET",r="facebook"===t?"facebookPosts":"twitterPosts",c="/api/v1/socialBrands/"+e+"/"+r+"/"+a+"?message="+n;null!=i&&""!=i&&(c="/api/v1/socialBrands/"+e+"/"+r+"/"+a+"/comments/"+i+"?message="+n);var d=null!=o&&0!=o.length?"attach":"post";return o=void 0===o?"":o,{types:Object(m.m)(p.a[s]),callAPI:function(e,t){return Object(u.a)(c,!1,{orgId:e.currentOrgId})[d](o).then(function(e){var n=e.data,o=t(),s=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,e=l()(a,e)},r=s(o.module),c=s(r.fbposts),d=s(c[a]),u=s(d.comment),p=s(u.data,!0);if(""!=i&&null!=i){var m=[];p.map(function(e){if((e=s(e)).id===i){var t=s(e.replies),a=s(t.data,!0);a.unshift(n),t.data=a,e.replies=t}m.push(e)}),u.data=m,d.comment=u}else{p.unshift(n),u.data=p,d.comment=u;var g=s(d.replies);s(g.data);g.count=p.length,g.data=p,d.replies=g}var v=Object(h.b)([d],Object(h.a)(Object(h.c)(f.R.POSTS_L))),b=s(o.socialStatus);return b.isCommentBoxOpen=!1,b.isPopupOpen=!1,l()(v,{cmtRes:e},{newSocialStatus:b})},function(e){return{apiError:!0}})}}}function y(e,t,a,n,o,i){var r="facebook"===t?"ADD_FBMESSAGE":"ADD_TWITTERMESSAGE",c=null!=o&&0!=o.length?"attach":"post";o=void 0===o?"":o;return{types:Object(m.m)(p.a[r]),callAPI:function(r,d){return Object(u.a)(e,!1,{orgId:r.currentOrgId})[c](o).then(function(e){var o=void 0===e.id,r=d(),c=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,e=l()(a,e)},u=c(r.module),p=c(r.socialStatus);p.isCommentBoxOpen=!1,p.isPopupOpen=!1;var m,g,v,b,w,y=c(r.convMessageData);o&&(m=i.attchedStateData,g=i.cTextData,v=i.contactInfo,b=i.selectedChannelInfo,(w={}).author=b,w.createdTime=new Date,w.id=(new Date).getTime(),w.message=g,w.to=v,w.resend=!0,w.resendLoad=!1,w.attachments=m,e=w);var S=null!=n&&""!=n;if(S){var k=c(u[f.R.CONVERSATIONS_L]);c(k[n]).cnvId=e;var C=c(y[n],!0),I=e.id;C.push(I),y[n]=C}if(S){var E=Object(h.b)([e],Object(h.a)(Object(h.c)(f.R.MESSAGES_L))),D=Object(h.b)([e],Object(h.a)(Object(h.c)(f.R.CONVERSATIONS_L,{id:"conversationId"}))),N="facebook"===t?r.facebook:r.twitter;N=c(N);var x=c(N[a]),P=c(x.conversations,!0),T=[n];P.map(function(e){e!=n&&T.push(e)}),x.conversations=T,N[a]=x;var A=l()({},E.entities,D.entities);return l()({},{entities:A},s()({},t,N),{msgData:y},{msgRes:e},{newSocialStatus:p})}return l()({msgData:y},{msgRes:e},{newSocialStatus:p})},function(e){return{apiError:!0}})}}}function S(e){return{types:Object(m.m)(p.a.ADD_NEWBRAND),callAPI:function(t,a){return Object(u.a)("/api/v1/socialBrands",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){var t=a(),n=e.id,o=function(e,t){var a="array"===t?[]:{};return e=void 0===e?a:e,e=l()(a,e)}(t.brandsData,"array");o.push(n);var i=Object(h.b)([e],Object(h.a)(Object(h.c)(f.R.BRANDS_L)));return l()(i,{brandData:e},{brandsArray:o})},function(e){return{apiError:!0}})}}}function k(e){return{types:Object(m.m)(p.a.IMPORT_NEWBRAND),callAPI:function(t,a){return Object(u.a)(e,!1,{orgId:t.currentOrgId}).post().then(function(e){var t=e.data,n=1===t.length,o=a(),i=function(e,t){var a="array"===t?[]:{};return e=void 0===e?a:e,e=l()(a,e)},s=i(o.module),r=(i(s.brands),i(o.brandsData,"array"));if(n){var c=t[0].id;r.push(c)}else t.map(function(e){var t=e.id;r.push(t)});var d=Object(h.b)(t,Object(h.a)(Object(h.c)(f.R.BRANDS_L)));return l()(d,{brandsData:r},{importedData:e})},function(e){return{apiError:!0}})}}}function C(e,t,a,n,o,i,s){var r="/api/v1/socialBrands/"+e+"/facebookPosts/"+("replysreply"===i?s:a)+"/like",c="replysreply"===i?"FACEBOOK_CMT":"FACEBOOK_REPLY";return c="like"===n?c+"_LIKE":c+"_UNLIKE",{types:Object(m.m)(p.a[c]),callAPI:function(e,c){return Object(u.a)(r,!1,{orgId:e.currentOrgId}).post("",o).then(function(e){var o=c(),r=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,e=l()(a,e)},d=r(o.module),u=r(d.fbposts),p=r(u[t]),m=r(p.comment),g=r(m.data,!0),v=[];return g.map(function(e){var t=r(e);if("reply"===i&&t.id===a){var o=r(t.likes);o.canLike="like"!==n;var l=+o.count;o.count="like"===n?l+1:l-1,t.likes=o}else if("replysreply"===i){var c=r(t.replies),d=r(c.data,!0),u=[];d.map(function(e){var t=r(e);if(t.id===s){var a=r(t.likes);a.canLike="like"!==n;var o=+a.count;a.count="like"===n?o+1:o-1,t.likes=a}u.push(t)}),c.data=u,t.replies=c}v.push(t)}),m.data=v,p.comment=m,Object(h.b)([p],Object(h.a)(Object(h.c)(f.R.POSTS_L)))},function(e){return{apiError:!0}})}}}function I(e,t,a){var n="post"===t?"ADDBRANDSETTINGS":"UPDATEBRANDSETTINGS";return{types:Object(m.m)(p.a[n]),callAPI:function(n,o){return Object(u.a)(e,!1,{orgId:n.currentOrgId})[t]("",a).then(function(e){return e},function(e){return{apiError:!0}})}}}function E(e,t){return{types:Object(m.m)(p.a.UPDATEBRAND),callAPI:function(a,n){return Object(u.a)(e,!1,{orgId:a.currentOrgId}).patch("",t).then(function(e){n(),e.id;var t=Object(h.b)([e],Object(h.a)(Object(h.c)(f.R.BRANDS_L)));return l()(t,{brandData:e})},function(e){return{apiError:!0}})}}}function D(e){var t=Object(m.m)(p.a.BRAND_CHANNEL_UPDATE),a=o()(t,3),n=(a[0],a[1]);a[2];return{type:n,data:{res:e,id:e.id,module:f.R.BRANDS_L}}}function N(e,t){return{types:Object(m.m)(p.a.ADD_BRAND_IMAGE),callAPI:function(a,n){return Object(u.a)(e,!1,{orgId:a.currentOrgId}).attach(t).then(function(e){return e},function(e){return{apiError:!0}})}}}function x(e,t,a,n){return{types:Object(m.m)(p.a.ADD_CONTACT_SOCIAL),callAPI:function(o,i){return Object(u.a)("/support/"+e+"/Social.do?mode=addSocialContact&profileId="+a+"&network="+n+"&brandId="+t,!1,{orgId:o.currentOrgId}).post().then(function(e){return{res:e}},function(e){return{apiError:!0}})}}}function P(e,t,a,n){var o="follow"===n?"FOLLOW_TWIACCOUNT":"UNFOLLOW_TWIACCOUNT";return{types:Object(m.m)(p.a[o]),callAPI:function(o,i){return Object(u.a)("/support/"+e+"/Social.do?mode=followTwitterUser&profileId="+a+"&brandId="+t+"&action="+n,!1,{orgId:o.currentOrgId}).post("",actionJson).then(function(e){return{res:e}},function(e){return{apiError:!0}})}}}function T(e,t){return{types:Object(m.m)(p.a.ADD_NEW_PAGE),callAPI:function(a,n){return Object(u.a)(e,!1,{orgId:a.currentOrgId}).post("",t).then(function(e){return{res:e}},function(e){return{apiError:!0}})}}}},"./src/actions/Social/DeleteActions.js":function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return m}),a.d(t,"f",function(){return h}),a.d(t,"c",function(){return f});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=a.n(n),i=a("./src/utils/RequestAPI.js"),s=a("./src/constants/SocialConstants.js"),r=a("./src/utils/Common.js"),l=a("./src/constants/index.js"),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function d(e){var t="/api/v1/socialBrands/"+e;return{types:Object(r.m)(s.a.BRAND_DELETE),callAPI:function(a,n){return Object(i.a)(t,!1,{orgId:a.currentOrgId}).del().then(function(t){var a=n(),i=a.module,s=a.brandsData,r=[];s.map(function(t){t!=e&&r.push(t)}),i=o()({},i);var c,d=(c=i[l.R.BRANDS_L],void delete(c=o()({},c))[e]);return o()({brands:d},{brandsData:r},{status:t})},function(e){return{apiError:!0}})}}}function u(e,t,a,n){var d="/api/v1/socialBrands/"+e;return{types:Object(r.m)(s.a.BRAND_CHANNEL_UPDATE),callAPI:function(s,r){return Object(i.a)(d,!1,{orgId:s.currentOrgId}).patch("",t).then(function(t){var i=r(),s=function(e,t){return e=o()({},e),t&&delete e[a],e},d=s(i.module,!1),u=i.facebook,p=i.twitter,m="facebook"===n?u[a]:p[a];m=void 0===m?[]:m;var h=s(u,!0),f=s(p,!0),g=s(d.brands),v=s(g[e]),b=v.channels,w=[];b.map(function(e){e.network!=n&&w.push(e)}),v.channels=w;Object(c.b)([v],Object(c.a)(Object(c.c)(l.R.BRANDS_L)));var y={};return y.id=e,y.module=l.R.BRANDS_L,y.res=t,y.facebookObj=h,y.twitterObj=f,y},function(e){return{apiError:!0}})}}}function p(e,t,a,n){var d="/api/v1/socialBrands/"+e+"/"+("facebook"===t?"facebookPosts":"twitterPosts")+"/"+n,u="facebook"===t?"POST_DELETE":"TWEET_DELETE";return{types:Object(r.m)(s.a[u]),callAPI:function(e,s){return Object(i.a)(d,!1,{orgId:e.currentOrgId}).del().then(function(e){var i=s(),r=i.socialStatus.getFeedsMode,d=function(e,t,a){var i=!0===a?[]:{};if(e=void 0===e?i:e,e=o()(i,e),!a){var s=e[n];t&&null!=s&&delete e[n]}return e},u=d(i.module,!1),p=d(u.fbposts,"facebook"===t),m=d(u.tweets,"twitter"===t),h="facebook"===t?p:m,f="facebook"===t?"POSTS_L":"TWEETS_L",g=i.facebook,v=i.twitter;g=d(g),v=d(v);var b=function(e,t){var n=d(d(t)[a],!1,!0),o=[];return d(n[r],!1,!0).map(function(t){t!=e&&o.push(t)}),n[r]=o,t[a]=n,t},w=b(n,g),y=b(n,v),S=Object(c.b)(h,Object(c.a)(Object(c.c)(l.R[f])));return o()(S,{facebook:w},{twitter:y})},function(e){return{apiError:!0}})}}}function m(e,t,a,n){var d="string"==typeof a?[a]:a,u={ticketIds:n="string"==typeof n?[n]:n};return{types:Object(r.m)(s.a.SOCIALTICKET_DELETE),callAPI:function(t,a){return Object(i.a)("/api/v1/tickets/moveToTrash",!0,{orgId:t.currentOrgId}).post("",u).then(function(t){var n=a(),i=[],s=function e(t,a){return t=void 0===t?{}:t,t=o()({},t),a&&d.map(function(a){var n=e(t[a]);n.ticket="",i.push(n)}),t},r=s(n.module,!1),u=(s(r.fbposts,"facebook"===e),s(r.tweets,"twitter"===e),"facebook"===e?"POSTS_L":"TWEETS_L");return Object(c.b)(i,Object(c.a)(Object(c.c)(l.R[u])))},function(e){return{apiError:!0}})}}}function h(e,t,a,n,d){var u="string"==typeof n?[n]:n,p={ids:d="string"==typeof d?[d]:d,isSpam:!0};return{types:Object(r.m)(s.a.SPAM_SOCIALTICKET),callAPI:function(e,a){return Object(i.a)("/api/v1/tickets/markSpam",!1,{orgId:e.currentOrgId}).post("",p).then(function(e){var n=a(),i=[],s=function e(t,a){return t=void 0===t?{}:t,t=o()({},t),a&&u.map(function(a){var n=e(t[a]);n.ticket="",i.push(n)}),t},r=s(n.module,!1),d=(s(r.fbposts,"facebook"===t),s(r.tweets,"twitter"===t),"facebook"===t?"POSTS_L":"TWEETS_L");return Object(c.b)(i,Object(c.a)(Object(c.c)(l.R[d])))},function(e){return{apiError:!0}})}}}function f(e){return{types:Object(r.m)(s.a.DELETE_BRAND_IMAGE),callAPI:function(t,a){return Object(i.a)(e,!1,{orgId:t.currentOrgId}).del().then(function(e){return{apiError:!1}},function(e){return{apiError:!0}})}}}},"./src/actions/Social/GetActions.js":function(e,t,a){"use strict";a.d(t,"e",function(){return b}),a.d(t,"k",function(){return w}),a.d(t,"o",function(){return y}),a.d(t,"n",function(){return S}),a.d(t,"g",function(){return k}),a.d(t,"f",function(){return C}),a.d(t,"i",function(){return I}),a.d(t,"p",function(){return E}),a.d(t,"d",function(){return D}),a.d(t,"m",function(){return N}),a.d(t,"l",function(){return x}),a.d(t,"a",function(){return P}),a.d(t,"c",function(){return T}),a.d(t,"j",function(){return A}),a.d(t,"h",function(){return _}),a.d(t,"b",function(){return F});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/array/from.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/set.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),p=a.n(u),m=a("./src/utils/RequestAPI.js"),h=a("./src/constants/SocialConstants.js"),f=a("./src/utils/Common.js"),g=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),v=a("./src/constants/index.js");function b(e,t,a){var n="allDepartment"===e?"/api/v1/socialBrands":"/api/v1/socialBrands?departmentId="+e;return{types:Object(f.m)(h.a.FETCH_BRANDS),callAPI:function(e,a){return Object(m.a)(n,!1,{orgId:e.currentOrgId}).get().then(function(e){var a=e.data,n={},o=0!=a.length;if(o){var i=a[0];(void 0===t||""===t)&&a.map(function(e){e.id===t&&(i=e)});var s=i.id,r=i.channels,l="",c="",d="";if(0!=r.length){var u=r[0];d="facebook"===(l=u.network)?"pagePost":"mentions",c="facebook"===l?u.pageId:u.accountId}n={channel:l,channelId:c,channelMode:"post",brandId:s,getFeedsMode:d,ticketFilterMode:"all",selPostId:"",isCommentBoxOpen:!1,isPopupOpen:!1}}return p()({},Object(g.b)(e.data,Object(g.a)(Object(g.c)(v.R.BRANDS_L))),{changedStatus:n},{showLeftMenu:o})},function(e){return p()({},Object(g.b)([],Object(g.a)(Object(g.c)(v.R.BRANDS_L))),{changedStatus:{}},{showLeftMenu:!1},{apiError:!0})})}}}function w(e){return{types:Object(f.m)(h.a.FETCH_SOCIALBRANDS),callAPI:function(t){return Object(m.a)("/support/"+t.routing.paramMap.orgName+"/Social.do?mode=getBrandsOfPortal&portalId="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function y(e){return{types:Object(f.m)(h.a.FETCH_SOCIALPORTALS),callAPI:function(e){return Object(m.a)("/support/"+e.routing.paramMap.orgName+"/Social.do?mode=getSocialPortals",!1,{orgId:e.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function S(e,t,a,n,o,i,s){var r={pagepost:"pagePost",mentionedpost:"mentionedPost",visitorpost:"visitorPost",posts:"posts",mentions:"mentions",conversations:"conversations"}[t.toLowerCase()],l="pagePost"===r?"FETCH_FACEBOOK_POSTS":"mentionedPost"===r?"FETCH_FACEBOOK_MENTIONS":"visitorPost"===r?"FETCH_FACEBOOK_VISITOR":"posts"===r?"FETCH_TWITTER_TWEETS":"FETCH_TWITTER_MENTIONS",c="facebook"===a?"facebookPosts":"twitterPosts",d="facebook"===a?"POSTS_L":"TWEETS_L",u="/api/v1/socialBrands/"+e+"/"+c+"?type="+r,b=null!=i&&""!=i&&"twitter"===a;null!=o&&""!=o&&(u=u+"&cursor="+encodeURIComponent(o)),b&&(u=s,l=""!=o&&null!=o?"SEARCH_TWEETS_MORE":"SEARCH_TWEETS"),"message"!==r&&"conversations"!==r||(l="facebook"===a?"FETCH_FACEBOOK_CONVERSATIONS":"FETCH_TWITTER_CONVERSATIONS",d="CONVERSATIONS_L",u="/api/v1/socialBrands/"+e+"/"+(c="facebook"===a?"facebookConversations":"twitterConversations"),null!=o&&""!=o&&(u="/api/v1/socialBrands/"+e+"/"+c+"?cursor="+o,l+="_MORE"));var w="message"===r||"conversations"===r;return{types:Object(f.m)(h.a[l]),callAPI:function(t,s){return Object(m.a)(u,!1,{orgId:t.currentOrgId}).get().then(function(l){var c=l.data,u=l.cursor,m=w?"conversationId":"id",h=Object(g.b)(c,Object(g.a)(Object(g.c)(v.R[d],{id:m}))),f=h.result,y=s(),S=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,e=p()(a,e)},k=S(y[a]),C=k[n]||{},I={},E=[];if(0!=c.length&&c.map(function(e){var t=e.author,a=t.id;I[a]=t;var n=e.retweeted_status;if(null!=n&&""!=n&&E.push(e.id),w){var o=e.to,i=o.id;I[i]=o}}),null!=o&&""!=o){var D=S(!0===b?C[i]:C[r],!0);f.map(function(e){-1===D.indexOf(e)&&D.push(e)}),f=D}if(C[!0===b?i:!0===w?"conversations":r]=f,"twitter"===a){var N=S(C.retweetIdArray,!0);N=N.concat(E),C.retweetIdArray=N}k[n]=C;var x=t.handleAuthors,P=S(t.socialStatus),T={channel:a,channelId:n,channelMode:!0===w?"message":"post",brandId:e,getFeedsMode:r,ticketFilterMode:"all",selPostId:"",isCommentBoxOpen:!1,isPopupOpen:!1,isSearchMode:b,searchValue:i},A=p()(P,T),_=p()(x,I),F=S(y.socialCursors),O=n;return F[O=!0===b?O+"_"+i:O+"_"+r]=u,{entities:h.entities,result:h.result,cursor:u,postObj:k,newStoreAuthors:_,newSocialStatus:A,cursorsOfSocial:F}},function(t){return{apiError:!0,newSocialStatus:{channel:a,channelId:n,channelMode:!0===w?"message":"post",brandId:e,getFeedsMode:r,ticketFilterMode:"all",selPostId:"",isCommentBoxOpen:!1,isPopupOpen:!1,isSearchMode:b,searchValue:i}}})}}}function k(e,t,a){var n="/api/v1/socialBrands/"+e+"/facebookPosts/"+t+"/comments",o="FETCH_FACEBOOK_COMMENTS";return null!=a&&(n="/api/v1/socialBrands/"+e+"/facebookPosts/"+t+"/comments?cursor="+encodeURIComponent(a),o="FETCH_FACEBOOK_COMMENTS_MORE"),{types:Object(f.m)(h.a[o]),callAPI:function(e,a){return Object(m.a)(n,!1,{orgId:e.currentOrgId}).get().then(function(e){var n,o,i=e.data,s=e.cursor,r=a(),l=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,e=p()(a,e)},c=l(r.module),d=l(c.fbposts),u=l(d[t]),m=l(u.comment),h=l(m.data,!0),f=l(h);if(0!=h.length){var b=[],w={},y=[],S=[];i.map(function(e){var t=e.id;y.push(t),w[t]=e}),h.map(function(e){var t=e.id;b.push(t),-1!=y.indexOf(t)&&(e=w[t]),S.push(e)}),i.map(function(e){-1===b.indexOf(e.id)&&S.push(e)}),f=S}else f=i;n=f,(o=p()([],n)).sort(function(e,t){return new Date(e.createdTime)-new Date(t.createdTime)}),f=o.reverse(),m.data=f,m.cursor=s,u.comment=m;var k=u.replies,C=(k=p()({},k)).data,I={},E=k.count,D=f.length;if(+E<D&&(k.count=D.toString(),u.replies=k),void 0===s&&0!=D){var N=f[0],x=N.createdTime;if(null!=C){var P=C[0].createdTime;new Date(P)>new Date(x)&&(k.data=[N]),I=k}else I={data:[N],count:f.length};u.replies=I}var T=l(r.socialCursors);T[t+"_comments"]=s;var A=Object(g.b)([u],Object(g.a)(Object(g.c)(v.R.POSTS_L)));return p()(T,A,{compoRes:e})},function(e){return{apiError:!0}})}}}function C(e,t,a,n){return n=encodeURIComponent(d()(n)),{types:Object(f.m)(h.a.FETCH_FACEBOOK_REPLIES),callAPI:function(o,i){return Object(m.a)("/api/v1/socialBrands/"+e+"/facebookPosts/"+t+"/comments/"+a+"/replies?cursor="+n,!1,{orgId:o.currentOrgId}).get().then(function(e){var n=e.data,o=e.cursor,s=i(),r=function(e,t){var a=!0===t?[]:{};return e=void 0===e?a:e,e=p()(a,e)},l=r(s.module),c=r(l.fbposts),d=r(c[t]),u=r(d.comment),m=r(u.data,!0),h=[];m.map(function(e){var t=r(e);if(t.id===a){var i=r(t.replies),s=r(i.data,!0);s=s.concat(n),i.data=s,i.cursor=o,t.replies=i}h.push(t)}),u.data=h,d.comment=u;var f=r(s.socialCursors);f[t+"_comments"]=o;var b=Object(g.b)([d],Object(g.a)(Object(g.c)(v.R.POSTS_L)));return p()(f,b,{compoRes:e})},function(e){return{apiError:!0}})}}}function I(e,t,a,n){var i="facebook"===a?"FETCH_FACEBOOK_MESSAGES":"FETCH_TWITTER_MESSAGES";return{types:Object(f.m)(h.a[i]),callAPI:function(a,n){return Object(m.a)(e,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=e.data,i=n(),r=(i=p()({},i)).convMessageData,c=r[t],d=Object(g.b)(a,Object(g.a)(Object(g.c)(v.R.MESSAGES_L))),u=d.result;if(null!=c){var m=c.concat(u),h=new l.a(m);u=s()(h)}r[t]=u;var f=o()({},t,u);return p()(d,{msgData:f},{resData:e})},function(e){return{apiError:!0}})}}}function E(e,t){var a="/api/v1/socialBrands/"+e+"/twitterPosts/"+t;return{types:Object(f.m)(h.a.GET_REPLYTWEET),callAPI:function(e){return Object(m.a)(a,!1,{orgId:e.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function D(e,t){return{types:Object(f.m)(h.a.FETCH_BRAND_STATS),callAPI:function(t,a){return Object(m.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function N(e,t,a,n){var o="/support/"+e+"/Social.do?mode=getUserTweets&brandId="+t+"&profileId="+a;return""!=n&&null!=n&&(o="/support/"+e+"/Social.do?mode=getUserTweets&brandId="+t+"&profileId="+a+"&cursor="+encodeURIComponent(n)),{types:Object(f.m)(h.a.FETCH_PROFILE_TIMELINE),callAPI:function(e,t){return Object(m.a)(o,!1,{orgId:e.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function x(e,t,a,n,o){var i="facebook"===t?"getFacebookProfile":"getTwitterProfile",s="/support/"+e+"/Social.do?mode="+i+"&brandId="+a+"&profileId="+n;return"twitter"===t&&(s="/support/"+e+"/Social.do?mode="+i+"&brandId="+a+"&profileId="+n+"&profileName="+o),{types:Object(f.m)(h.a.FETCH_PROFILE),callAPI:function(e,t){return Object(m.a)(s,!1,{orgId:e.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function P(e){return function(t){t({type:h.a.BRAND_LIST_SWITCH,data:{newSocialStatus:e}})}}function T(e){return{types:Object(f.m)(h.a.FETCH_BRAND_SETTINGS),callAPI:function(t){return Object(m.a)("/api/v1/socialBrands/"+e+"/settings",!1,{orgId:t.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function A(e){return{types:Object(f.m)(h.a.FETCH_BRAND_SETTINGS),callAPI:function(t){return Object(m.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function _(e){return{types:Object(f.m)(h.a.FETCH_INTERACTIONS),callAPI:function(t){return Object(m.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}function F(e){return{types:Object(f.m)(h.a.CHECK_LIMIT_OF_BRANDS),callAPI:function(t){return Object(m.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e},function(e){return{apiError:!0}})}}}},"./src/components/DotSeparator/DotSeparator.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("./src/components/DotSeparator/DotSeparator.module.css"),b=a.n(v),w=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.type,n=e.palette,o=e.wrap,i=e.shrink,s=e.aligndirection,r=t.filter(function(e){return null!=e}),l=0;return h.a.createElement("div",{className:b.a.container+" "+b.a[s]+" "+(o?b.a.wrap:"")},r.map(function(e,t){if(e)return r.length-1==t||"column"==s?e&&h.a.createElement("span",{className:""+(i?b.a.shrink:""),key:l++},e):e&&h.a.createElement(h.a.Fragment,{key:t},h.a.createElement("span",{className:i?b.a.shrink:"",key:l++},e),h.a.createElement("span",{className:b.a.separator+" "+b.a[n]+" "+b.a[a]+" ",key:l++},"slash"==a?"/":"arrow"==a?">":"comma"==a?",":""))}))}}]),t}(h.a.Component);t.a=w,w.defaultProps={palette:"default",type:"dot",wrap:!1,shrink:!1},w.propTypes={aligndirection:g.a.string,children:g.a.any,palette:g.a.oneOf(["default","primary","secondary"]),shrink:g.a.bool,type:g.a.oneOf(["dot","slash","arrow","comma","none"]),wrap:g.a.bool}},"./src/components/ExternalLink/ExternalLink.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("./src/components/ExternalLink/ExternalLink.module.css"),b=a.n(v),w=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.href,a=e.title,n=e.target,o=e.className,i=e.children,s=e.rel,r=(e.download,e.dataTestid);return h.a.createElement("a",{href:t,target:n,className:b.a.link+" "+(o||""),"data-title":a,rel:s,dataId:r},i)}}]),t}(h.a.Component);t.a=w,w.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},w.propTypes={className:g.a.string,href:g.a.string,isDownload:g.a.bool,rel:g.a.string,target:g.a.oneOf(["_blank","_self"]),text:g.a.string,title:g.a.string}},"./src/components/Image/Image.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("./src/components/Image/Image.module.css"),b=a.n(v),w=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alt,a=e.src,n=e.className,o=e.isCover,i=e.title,s=e.onClick,r=e.dataId;return h.a.createElement("img",{src:a,alt:t,"data-title":i,"data-id":r,className:" "+n+" "+(o?b.a.imgFullSize:b.a.imgMaxFullSize)+" ",onClick:s})}}]),t}(h.a.Component);t.a=w,w.propTypes={alt:g.a.string.isRequired,className:g.a.string,dataId:g.a.string,isCover:g.a.bool,onClick:g.a.func,src:g.a.string.isRequired,title:g.a.string},w.defaultProps={isCover:!1,className:""}},"./src/components/ListVirtualizer/ListVirtualizer.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/extends.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),g=a.n(f),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=a.n(v),w=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),y=a.n(w),S=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),k=a.n(S),C=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),I=a.n(C),E=a("./src/constants/index.js"),D=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),N=a.n(D),x="vertical";function P(e,t,a){for(var n=a,o=0,i=void 0,s=void 0,r=void 0;void 0===r;){if(i=n-o,s=Math.floor(i/2)+o,1===i){r=o;break}var l=e(s);if(l>t)n=s;else{if(!(l<t)){r=s;break}o=s}}return r}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e>t?t:e>a?e:a}function A(e,t,a){return a.reduce(function(a,n){if(void 0===t[n])return a;var o=e[n]!==t[n];return e[n]=t[n],o||a},!1)}function _(e,t,a){return Math.max(e.marginBottom,a.marginTop)-Math.max(e.marginBottom,t.marginTop)}var F=function(){function e(t){h()(this,e);var a=t.elementsCount,n=t.defaultSizeOfElement,o=t.isMarginMerge;this.elementsCount=a,this.isMarginMerge=o||!1,this.defaultSizeOfElement=n,this.sizeAndPositionOfElements=[],this.sizeAndPositionOfElements[-1]={size:0,marginTop:0,marginBottom:0,offset:0},this.getOffsetValueOfElement=this.getOffsetValueOfElement.bind(this),this.getScrollLength=this.getScrollLength.bind(this),this.preAllocateSizeAndPositionForNewElements=this.preAllocateSizeAndPositionForNewElements.bind(this),this.isElementVisibleOnViewport=this.isElementVisibleOnViewport.bind(this),this.preAllocateSizeAndPositionForNewElements(0),this.minSizeIndex=0,this.isNeedReCalculateMinSize=!0}return g()(e,[{key:"getSizeAndPositionOfElement",value:function(e){return this.sizeAndPositionOfElements[e]||!1}},{key:"preAllocateSizeAndPositionForNewElements",value:function(e){for(var t=this.elementsCount,a=this.sizeAndPositionOfElements,n=this.defaultSizeOfElement,o=e;o<t;o++){var i=a[o-1],s=i.size,r=i.offset,l=i.marginBottom;a[o]={size:n.size,offset:r+s+l,marginTop:n.marginTop,marginBottom:n.marginBottom,isUpdated:!1}}a.length=t}},{key:"setElementsCount",value:function(e){var t=this.elementsCount;e<0||e>Math.floor(e)||e!==t&&(this.isNeedReCalculateMinSize=!0,this.elementsCount=this.sizeAndPositionOfElements.length=e,t<e&&this.preAllocateSizeAndPositionForNewElements(t))}},{key:"setPosition",value:function(e,t){var a=this.sizeAndPositionOfElements[e],n=this.sizeAndPositionOfElements[e-1],o=this.sizeAndPositionOfElements[e+1],i=t.size-a.size,s=void 0,r=void 0;return this.isMarginMerge?(s=_(n,a,t),r=o?_(a,o,t):0):(s=t.marginTop-a.marginTop,r=t.marginBottom-a.marginTop),a.size=t.size,a.marginTop=t.marginTop,a.marginBottom=t.marginBottom,a.isUpdated=!0,a.offset+=s,this.sizeAndPositionOfElements[e]=a,i+s+r}},{key:"updateElementSize",value:function(e,t){if(!(e>=this.elementsCount)){var a=this.sizeAndPositionOfElements[this.minSizeIndex].size,n=this.setPosition(e,t);if(!n)return 0;a>t.size?this.minSizeIndex=e:this.minSizeIndex===e&&(this.isNeedReCalculateMinSize=!0);for(var o=e+1;o<this.elementsCount;o++)this.sizeAndPositionOfElements[o].offset+=n;return n}}},{key:"getScrollLength",value:function(){var e=this.sizeAndPositionOfElements[this.elementsCount-1],t=e.size;return e.offset+t+e.marginBottom}},{key:"reCalculateMinSizeIndex",value:function(){this.isNeedReCalculateMinSize&&(this.isNeedReCalculateMinSize=!1,this.minSizeIndex=this.sizeAndPositionOfElements.reduce(function(e,t,a,n){return t.isUpdated&&t.size<n[e].size?a:e},0))}},{key:"getMinSizeOfElement",value:function(){return 0===this.elementsCount?0:(this.reCalculateMinSizeIndex(),this.getSizeAndPositionOfElement(this.minSizeIndex).size)}},{key:"getOffsetValueOfElement",value:function(e){return this.sizeAndPositionOfElements[e].offset}},{key:"isElementVisibleOnViewport",value:function(e,t,a){var n=this.getSizeAndPositionOfElement(e).offset;return n>=a&&n<a+t}},{key:"setDefaultSizeOfElement",value:function(e){return A(this.defaultSizeOfElement,e,["size","marginTop","marginBottom"])}},{key:"getVisibleRange",value:function(e,t){if(!this.elementsCount)return{isEmpty:!0};var a=this.elementsCount,n=P(this.getOffsetValueOfElement,t,a),o=P(this.getOffsetValueOfElement,t+e,a);return{from:n=T(n,a,0),to:o=T(o,a-1,-1)}}}]),e}(),O=function(){function e(t){h()(this,e),this.elementsCount=t.elementsCount,this.isMarginMerge=t.isMarginMerge||!1,this.defaultSizeOfElement=t.defaultSizeOfElement,this.getScrollLength=this.getScrollLength.bind(this),this.isElementVisibleOnViewport=this.isElementVisibleOnViewport.bind(this)}return g()(e,[{key:"setDefaultSizeOfElement",value:function(e){return A(this.defaultSizeOfElement,e,["size","marginTop","marginBottom"])}},{key:"getDefaultSizeOfElement",value:function(){var e=this.defaultSizeOfElement,t=e.size,a=e.marginTop,n=e.marginBottom;return t+(this.isMarginMerge?Math.max(a,n):a+n)}},{key:"getMinSizeOfElement",value:function(){return this.getDefaultSizeOfElement()}},{key:"getSizeAndPositionOfElement",value:function(e){var t=this.elementsCount,a=this.defaultSizeOfElement;return!(t<=e)&&{size:a.size,marginTop:a.marginTop,marginBottom:a.marginBottom,offset:this.getDefaultSizeOfElement()*e}}},{key:"preAllocateSizeAndPositionForNewElements",value:function(){return!1}},{key:"setElementsCount",value:function(e){if(e<0||e>Math.floor(e))return!1;var t=this.elementsCount!==e;return this.elementsCount=e,t}},{key:"updateElementSize",value:function(){return 0}},{key:"getScrollLength",value:function(){return this.elementsCount*this.getDefaultSizeOfElement()}},{key:"isElementVisibleOnViewport",value:function(e,t,a){var n=this.getSizeAndPositionOfElement(e).offset;return n>=a&&n<a+t}},{key:"getVisibleRange",value:function(e,t){if(!this.elementsCount)return{isEmpty:!0};var a=this.elementsCount,n=this.getDefaultSizeOfElement(),o=Math.floor(t/n),i=Math.floor((t+e)/n);return{from:o=T(o,a,0),to:i=T(i,a-1,-1)}}}]),e}(),B=["height","width","marginTop","marginBottom","marginLeft","marginRight"],z=["scrollDirection","isElementsFixedHeight","isElementsFixedWidth"],j=["elementsCount","containerHeight","containerWidth"];function V(e,t){return e?{size:t.height,marginTop:t.marginTop,marginBottom:t.marginBottom}:{size:t.width,marginTop:t.marginLeft,marginBottom:t.marginRight}}var R=function(){function e(t){h()(this,e);var a=t.elementsCount,n=t.scrollDirection,o=t.containerHeight,i=t.containerWidth,s=t.onVisibleCountChange,r=t.isElementsFixedHeight,l=t.isElementsFixedWidth;this.getTotalHeight=this.getTotalHeight.bind(this),this.getVisibleCount=this.getVisibleCount.bind(this),this.getTotalWidth=this.getTotalWidth.bind(this),this.getSizeAndPositionOfElement=this.getSizeAndPositionOfElement.bind(this),this.isElementVisibleOnViewport=this.isElementVisibleOnViewport.bind(this),this.elementsCount=a,this.onVisibleCountChange=s,this.scrollDirection=n,this.isElementsFixedHeight=r,this.isElementsFixedWidth=l,this.containerHeight=o,this.containerWidth=i,this.defaultSize={height:1,width:1,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0},this.scrollTop=0,this.scrollLeft=0,this.IsNeedToReCalculateElementsRange=!0,this.isInitalDefaultSizeOfElementUpdated=!1,this.currentElementsRange={from:0,to:0,viewportRange:{from:0,to:0}},this.hugeUpdateOnSelf()}return g()(e,[{key:"setScrollOffset",value:function(e,t){this.scrollTop=e,this.scrollLeft=t,this.IsNeedToReCalculateElementsRange=!0}},{key:"reCalculateElementsRange",value:function(){if(this.IsNeedToReCalculateElementsRange){var e=this.containerHeight,t=this.containerWidth,a=this.elementsCount,n=this.delta,o=this.positionManager,i=this.scrollTop,s=this.scrollLeft,r=this.visibleCount,l=this.overScanCount,c=this.isVertical;if(this.IsNeedToReCalculateElementsRange=!1,a){var d=c?o.getVisibleRange(e,i):o.getVisibleRange(t,s),u=d.from*n,p=T(d.to*n,a-1),m=T(a-r),h=T(u-l,m),f=T(h+r-1,a-1);this.currentElementsRange={isEmpty:!1,from:h,to:f,viewportRange:{from:u,to:p}}}else this.currentElementsRange={isEmpty:!0,from:0,to:0,viewportRange:{from:0,to:0}}}}},{key:"hugeUpdateOnSelf",value:function(){this.isVertical=this.scrollDirection===x;var e=this["isElementsFixed"+(this.isVertical?"Height":"Width")]?O:F;this.updateVisibleCount(),this.positionManager=new e({defaultSizeOfElement:V(this.isVertical,this.defaultSize),elementsCount:Math.ceil(this.elementsCount/this.delta)})}},{key:"updateVisibleCount",value:function(){var e=this.containerHeight,t=this.containerWidth,a=this.defaultSize,n=this.elementsCount,o=this.isVertical,i=void 0,s=void 0,r=t/a.width||1,l=e/a.height||1;o?(s=Math.floor(r),i=Math.ceil(l)):(s=Math.floor(l),i=Math.ceil(r));var c=s=s>1?s:1;i=this.isInitalDefaultSizeOfElementUpdated?i*s+2*c+n%s:1;var d=this.visibleCount!==i;this.delta=s,this.overScanCount=c,this.visibleCount=i,d&&(this.IsNeedToReCalculateElementsRange=!0,this.onVisibleCountChange&&this.onVisibleCountChange())}},{key:"getSizeAndPositionOfElement",value:function(e){var t=this.defaultSize,a=this.isVertical,n=this.delta,o=Math.floor(e/n),i=this.positionManager.getSizeAndPositionOfElement(o),s=i.offset,r=i.size;return a?{offsetTop:s,offsetLeft:e%n*t.width,height:r,width:t.width}:{offsetTop:e%n*t.height,offsetLeft:s,height:t.height,width:r}}},{key:"updateConfig",value:function(e){var t=A(this,e,z),a=A(this,e,j),n=!0;if(t)this.hugeUpdateOnSelf();else if(a){this.updateVisibleCount();var o=this.elementsCount,i=this.delta;this.positionManager.setElementsCount(Math.ceil(o/i))}else n=!1;return n&&(this.IsNeedToReCalculateElementsRange=!0),n}},{key:"reset",value:function(){return this.IsNeedToReCalculateElementsRange=!0,this.positionManager.preAllocateSizeAndPositionForNewElements(0)}},{key:"setDefaultSizeOfElement",value:function(e){if(!A(this.defaultSize,e,B))return!1;this.positionManager.setDefaultSizeOfElement(V(this.isVertical,e)),this.isInitalDefaultSizeOfElementUpdated||this.positionManager.preAllocateSizeAndPositionForNewElements(1),this.isInitalDefaultSizeOfElementUpdated=!0,this.updateVisibleCount()}},{key:"updateDefaultSize",value:function(e){var t=this.isVertical,a=this.positionManager.getMinSizeOfElement();this.defaultSize.height=e.height,this.defaultSize.width=e.width,this.defaultSize[t?"height":"width"]=a;var n=this.positionManager.setDefaultSizeOfElement({size:a,marginTop:0,marginBottom:0});return this.isInitalDefaultSizeOfElementUpdated||this.positionManager.preAllocateSizeAndPositionForNewElements(1),this.isInitalDefaultSizeOfElementUpdated=!0,n&&this.updateVisibleCount(),n}},{key:"updateElementSize",value:function(e,t){var a=this.delta,n=this.isVertical,o=this.positionManager,i=Math.floor(e/a),s=o.updateElementSize(i,V(n,t));return this.updateDefaultSize(t),s}},{key:"getTotalHeight",value:function(){var e=this.positionManager.getScrollLength();return this.isVertical?e:this.containerHeight}},{key:"getTotalWidth",value:function(){var e=this.positionManager.getScrollLength();return this.isVertical?this.containerWidth:e}},{key:"isElementVisibleOnViewport",value:function(e){var t=this.containerHeight,a=this.containerWidth,n=this.isVertical,o=this.scrollTop,i=this.scrollLeft,s=this.delta,r=this.positionManager,l=Math.floor(e/s);return n?r.isElementVisibleOnViewport(l,t,o):r.isElementVisibleOnViewport(l,a,i)}},{key:"getVisibleCount",value:function(){return this.visibleCount-2*this.overScanCount}},{key:"getViewportElementsRange",value:function(){this.reCalculateElementsRange();var e=this.currentElementsRange.viewportRange,t=e.from,a=e.to;return{isEmpty:this.currentElementsRange.isEmpty,viewportFromIndexOfElement:t,viewportToIndexOfElement:a}}},{key:"getVisibleRange",value:function(){this.reCalculateElementsRange();var e=this.currentElementsRange;return{isEmpty:e.isEmpty,from:e.from,to:e.to}}}]),e}(),M=!!window.ResizeObserver,L={childList:!0,attributes:!0,subtree:!0,characterData:!0},K={attributes:!0},H=function(){function e(t,a){h()(this,e),this.handler=t,this.isMarginUnderObservetion=a,this.targetNode=null,this.mutationObserverInstance=new window.MutationObserver(this.handler),M&&(this.resizeObserverInstance=new window.ResizeObserver(this.handler))}return g()(e,[{key:"observe",value:function(e,t){this.targetNode=e,e.addEventListener("transitionend",this.handler),this.isMarginUnderObservetion=t,M?(this.resizeObserverInstance.observe(e),t&&this.mutationObserverInstance.observe(e,K)):this.mutationObserverInstance.observe(e,L)}},{key:"replaceObservationElement",value:function(e){this.disconnect(),this.observe(e,this.isMarginUnderObservetion)}},{key:"disconnect",value:function(){this.targetNode&&this.targetNode.removeEventListener("transitionend",this.handler),M&&this.resizeObserverInstance.disconnect(),this.mutationObserverInstance.disconnect()}}]),e}(),U=function(e,t){var a=void 0;return function(){for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];clearTimeout(a),a=setTimeout(function(){return e.apply(void 0,o)},t)}},W=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),q=a.n(W);function Z(e,t){return parseFloat(e[t],10)}var G=function(e){function t(e){h()(this,t);var a=b()(this,(t.__proto__||p()(t)).call(this,e));return a.state={isScrolling:!1,index:-1},a.handleDimensionChangesOfElement=a.handleDimensionChangesOfElement.bind(a),a.storeDOMReferenceOfElement=a.storeDOMReferenceOfElement.bind(a),a.observerInstance=new H(a.handleDimensionChangesOfElement,!0),a.elementDOMRef=null,a.size=null,a}return y()(t,e),g()(t,[{key:"updateWithDelay",value:function(e,t){var a=this;window.cancelAnimationFrame(this.requestId),this.requestId=window.requestAnimationFrame(function(){return a.setState({isScrolling:e,index:t})})}},{key:"handleDimensionChangesOfElement",value:function(){var e=this.props,t=e.updateElementSize,a=e.index;if(this.elementDOMRef){var n=this.elementDOMRef,o=window.getComputedStyle(n),i=n.getBoundingClientRect(),s=i.height,r=i.width,l=s+Z(o,"marginTop")+Z(o,"marginBottom"),c=r+Z(o,"marginLeft")+Z(o,"marginRight");this.size={height:l,width:c,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0},t(a,this.size)}}},{key:"addObserver",value:function(){this.observerInstance.observe(this.elementDOMRef)}},{key:"removeObserver",value:function(){this.observerInstance.disconnect()}},{key:"storeDOMReferenceOfElement",value:function(e){this.elementDOMRef!==e&&(this.elementDOMRef=e,this.removeObserver(),e&&this.canAddDimensionObserverForElement()&&(this.addObserver(),this.handleDimensionChangesOfElement()))}},{key:"canAddDimensionObserverForElement",value:function(){var e=this.props,t=e.isElementsFixedHeight,a=e.isElementsFixedWidth,n=e.isDimensionOfElementunderObeservation;return!t||!a||n}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.updateElementSize,n=t.index,o=t.isScrolling;n!==e.index&&this.size&&a(n,this.size),!window.ResizeObserver&&!o&&this.canAddDimensionObserverForElement()&&this.handleDimensionChangesOfElement()}},{key:"shouldComponentUpdate",value:function(e){var t=e.isScrolling,a=e.index,n=this.props.index;return!t||n!==a}},{key:"render",value:function(){var e=this.props.elementRenderer,t=this.state,a=t.isScrolling,n=t.index;return window.cancelAnimationFrame(this.requestId),e({index:n,ref:this.storeDOMReferenceOfElement,isScrolling:a,style:{order:n}})}},{key:"componentWillUnmount",value:function(){this.removeObserver(),this.size=null}}]),t}(k.a.Component),Y=G;G.getDerivedStateFromProps=function(e){return{isScrolling:e.isScrolling,index:e.index}},G.defaultProps={isScrolling:!1},G.propTypes={elementRenderer:I.a.func.isRequired,index:I.a.number.isRequired,isDimensionOfElementunderObeservation:I.a.bool.isRequired,isElementsFixedHeight:I.a.bool.isRequired,isElementsFixedWidth:I.a.bool.isRequired,isScrolling:I.a.bool,updateElementSize:I.a.func.isRequired};var J=a("./node_modules/@zohodesk/virtualizer/es/Virtualizer/Virtualizer.css"),Q=a.n(J),X={isEmpty:!0,isScrolling:!1,fromIndexOfElement:0,toIndexOfElement:0};var $=I.a.oneOfType([I.a.string,I.a.func,I.a.instanceOf(k.a.Component)]),ee={containerType:$,elementRenderer:I.a.func.isRequired,elementsCount:I.a.number.isRequired,emptyContainerRenderer:I.a.func,getExposedPublicMethods:I.a.func,isElementsFixedHeight:I.a.bool,isElementsFixedWidth:I.a.bool,loadingElementRenderer:I.a.func,onScroll:I.a.func,onScrollThresholdReach:I.a.func,reusable:I.a.bool,scrollDebounceDelay:I.a.number,scrollDirection:I.a.string,scrollThreshold:I.a.number,virtualElementType:$},te=N()(ee);function ae(e,t,a){return{order:e,height:t,minHeight:t,maxHeight:t,width:a,minWidth:a,maxWidth:a}}var ne=function(e){function t(e){h()(this,t);var a=b()(this,(t.__proto__||p()(t)).call(this,e));a._updateElementSize=a._updateElementSize.bind(a),a._handleScroll=a._handleScroll.bind(a),a._getSingleElement=a._getSingleElement.bind(a),a._storeContainerReferenceInVirtualizer=a._storeContainerReferenceInVirtualizer.bind(a),a._handleContainerResize=a._handleContainerResize.bind(a),a.getSizeAndPositionOfElement=a.getSizeAndPositionOfElement.bind(a),a._updateRenderElementsRange=a._updateRenderElementsRange.bind(a),a._triggerVisibilityChangeEventsToElement=a._triggerVisibilityChangeEventsToElement.bind(a),a.subscribeElementsToVisibilityChange=a.subscribeElementsToVisibilityChange.bind(a),a.unSubscribeElementsToVisibilityChange=a.unSubscribeElementsToVisibilityChange.bind(a),a.getContainer=a.getContainer.bind(a),a.reset=a.reset.bind(a),a.scrollToIndex=a.scrollToIndex.bind(a),a.isElementVisibleOnViewport=a.isElementVisibleOnViewport.bind(a),a.adjustScrollPositionDuringInsertion=a.adjustScrollPositionDuringInsertion.bind(a),a.adjustScrollPositionDuringDeletion=a.adjustScrollPositionDuringDeletion.bind(a),a.getVisibleCount=a.getVisibleCount.bind(a),a.handleScrollStop=a.handleScrollStop.bind(a),a.handleVisibleCountChange=a.handleVisibleCountChange.bind(a);var n=e.elementsCount,o=e.isElementsFixedHeight,i=e.isElementsFixedWidth,s=e.scrollDebounceDelay,r=e.scrollDirection,l=new R({elementsCount:n,isElementsFixedHeight:o,isElementsFixedWidth:i,onVisibleCountChange:a.handleVisibleCountChange,containerHeight:1,containerWidth:1,scrollDirection:r});return a.state={isScrolling:!1,positionHandlerInstance:l},a._triggerVisibilityChangeEventsToElement=U(a._triggerVisibilityChangeEventsToElement,s),a.handleScrollStopWithDebounce=U(a.handleScrollStop,s),a.observerInstance=new H(a._handleContainerResize),a.elementsSubscribedToVisibilityChanges={},a.container=null,a.isScrollBottomEventNotified=!1,a.__isVirtualiserInstanceExists=!1,a}return y()(t,e),g()(t,[{key:"handleVisibleCountChange",value:function(){if(this.__isVirtualiserInstanceExists){var e=this.state.isScrolling;this._updateRenderElementsRange(e)}}},{key:"_updateElementSize",value:function(e,t){if(-1!==e){var a=this.state.positionHandlerInstance,n=a.isElementsFixedWidth,o=a.isElementsFixedHeight,i=a.visibleCount;n&&o?e%i==0&&a.setDefaultSizeOfElement(t):a.updateElementSize(e,t)}}},{key:"subscribeElementsToVisibilityChange",value:function(e,t){this.__isVirtualiserInstanceExists&&(this.elementsSubscribedToVisibilityChanges[e]?this.elementsSubscribedToVisibilityChanges[e].push(t):this.elementsSubscribedToVisibilityChanges[e]=[t])}},{key:"_triggerVisibilityChangeEventsToElement",value:function(){if(this.__isVirtualiserInstanceExists){var e=this.currentViewPortRange,t=e.isEmpty,a=e.viewportFromIndexOfElement,n=e.viewportToIndexOfElement;if(!t)for(var o=this.state,i=o.fromIndexOfElement,s=o.toIndexOfElement,r=void 0,l=i;l<=s;l++)a<=l&&n>=l&&(r=this.elementsSubscribedToVisibilityChanges[l])&&r.forEach(function(e){return e&&e()})}}},{key:"unSubscribeElementsToVisibilityChange",value:function(e,t){if(this.__isVirtualiserInstanceExists){var a=this.elementsSubscribedToVisibilityChanges;a[e]&&(a[e]=a[e].filter(function(e){return e!==t}))}}},{key:"getChildContext",value:function(){return{subscribeElementsToVisibilityChange:this.subscribeElementsToVisibilityChange,unSubscribeElementsToVisibilityChange:this.unSubscribeElementsToVisibilityChange}}},{key:"_getSizeOfDummyElements",value:function(e,t){var a=this.state.positionHandlerInstance,n=a.isVertical,o=a.elementsCount,i=a.containerWidth,s=a.containerHeight,r=a.getSizeAndPositionOfElement,l=a.getTotalHeight,c=a.getTotalWidth,d=r(e),u=r(t),p=void 0,m=void 0;return n?(p=ae(-1,d.offsetTop,i),m=ae(o,l()-(u.offsetTop+u.height),i)):(p=ae(-1,s,d.offsetLeft),m=ae(o,s,c()-(u.offsetLeft+u.width))),{topDummyElementStyle:p,bottomDummyElementStyle:m}}},{key:"_checkAndSetState",value:function(e){var t=this.state,a=t.fromIndexOfElement,n=t.toIndexOfElement,o=t.isEmpty,i=e.fromIndexOfElement,s=e.toIndexOfElement,r=e.isScrolling,l=e.isEmpty;r&&a===i&&n===s&&o===l||this.setState(e)}},{key:"_updateRenderElementsRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.state.positionHandlerInstance.getVisibleRange(),a=t.from,n=t.to,o=t.isEmpty,i=X;o||(i={fromIndexOfElement:a,toIndexOfElement:n,isScrolling:e,isEmpty:!1}),this._checkAndSetState(i)}},{key:"shouldComponentUpdate",value:function(e,t){var a=this.state,n=a.fromIndexOfElement,o=a.toIndexOfElement,i=a.isEmpty,s=t.fromIndexOfElement,r=t.toIndexOfElement,l=t.isScrolling,c=t.isEmpty;return!l||n!==s||o!==r||i!==c}},{key:"_handleContainerResize",value:function(){var e=this.container,t=e.clientHeight,a=e.clientWidth,n=this.state.positionHandlerInstance,o=n.containerHeight,i=n.containerWidth;if(t!==o||a!==i){var s={containerHeight:t,containerWidth:a};n.updateConfig(s),this._updateViewPortRange()}}},{key:"_updateViewPortRange",value:function(){var e=this.state.positionHandlerInstance;this.currentViewPortRange=e.getViewportElementsRange(),this._triggerVisibilityChangeEventsToElement()}},{key:"handleScrollStop",value:function(){this.setState({isScrolling:!1})}},{key:"_handleScroll",value:function(e){if(this.container){this.handleScrollStopWithDebounce();var t=this.props.onScroll,a=this.container,n=a.scrollTop,o=a.scrollLeft,i=this.state.positionHandlerInstance,s=i.isVertical,r=i.scrollTop,l=i.scrollLeft,c=(s?r<n:l<o)?"FORWARD":"BACKWARD";i.setScrollOffset(Math.ceil(n),Math.ceil(o)),this._updateRenderElementsRange(!0);var d=i.getVisibleRange(),u=d.isEmpty,p=d.from,m=d.to,h=i.getViewportElementsRange();if(!u){var f={direction:c,scrollTop:n,scrollLeft:o,viewportRange:{from:h.viewportFromIndexOfElement,to:h.viewportToIndexOfElement},from:p,to:m},g=this.props,v=g.onScrollThresholdReach,b=g.elementsCount,w=g.scrollThreshold;!this.isScrollBottomEventNotified&&b&&b<=m+1+w&&(this.isScrollBottomEventNotified=!0,v(f)),t(f,e)}}}},{key:"getSizeAndPositionOfElement",value:function(e){return this.state.positionHandlerInstance.getSizeAndPositionOfElement(e)}},{key:"_storeContainerReferenceInVirtualizer",value:function(e){if(this.container!==e){var t=this.container;this.container=e;var a={passive:!0};t&&(t.removeEventListener("scroll",this._handleScroll,a),this.observerInstance.disconnect()),this.container&&(this.container.addEventListener("scroll",this._handleScroll,a),this.container.classList.add(Q.a.virtualizer),this.observerInstance.observe(e))}}},{key:"_getSingleElement",value:function(e,t){var a=this.props,n=a.elementRenderer,o=a.isElementsFixedHeight,i=a.isElementsFixedWidth,s=this.state,r=s.isScrolling,l=s.positionHandlerInstance,c=l.isVertical,d=l.visibleCount;return k.a.createElement(Y,{key:"item - "+t,index:e,isDimensionOfElementunderObeservation:e%d==0,elementRenderer:n,isElementsFixedHeight:o,isElementsFixedWidth:i,isVertical:c,updateElementSize:this._updateElementSize,isScrolling:r})}},{key:"_getCurrentElements",value:function(){var e=this.props.reusable,t=this.state,a=t.fromIndexOfElement,n=void 0===a?0:a,o=t.positionHandlerInstance,i=o.elementsCount,s=o.visibleCount;return function(e,t,a,n){for(var o=e%t,i=e-o,s=i+t,r=[],l=0;l<t;l++){var c=a?(o>l?s:i)+l:l+e,d=a?l:c;r.push(n(c,d))}return r}(n,Math.min(i,s),e,this._getSingleElement)}},{key:"_renderLoadingElement",value:function(){var e=this.props,t=e.loadingElementRenderer,a=e.elementsCount;return this.isScrollBottomEventNotified?t({order:a}):null}},{key:"_renderVirtualizedElementsWithDummyElementsAndLoadingStatus",value:function(){var e=this.props.virtualElementType,t=this.state,a=t.fromIndexOfElement,n=t.toIndexOfElement,o=this._getSizeOfDummyElements(a,n),i=o.topDummyElementStyle,s=o.bottomDummyElementStyle,r=this._getCurrentElements(),l=this._renderLoadingElement();return[].concat(k.a.createElement(e,{key:"topDummyElement",style:i}),r,l?k.a.createElement(k.a.Fragment,{key:"loadingElement"},l):null,k.a.createElement(e,{key:"bottomDummyElement",style:s}))}},{key:"render",value:function(){var e,t,a=this.props,n=a.containerType,o=a.emptyContainerRenderer,i=this.state.isEmpty,s=(e=this.props,t=te,N()(e).reduce(function(a,n){return-1===t.indexOf(n)&&(a[n]=e[n]),a},{}));return s["string"==typeof n?"ref":"eleRef"]=this._storeContainerReferenceInVirtualizer,k.a.createElement(n,s,i?o():this._renderVirtualizedElementsWithDummyElementsAndLoadingStatus())}},{key:"getContainer",value:function(){return this.__isVirtualiserInstanceExists?this.container:null}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.__isVirtualiserInstanceExists){var t=this.state.positionHandlerInstance,a=t.scrollTop,n=t.scrollLeft;this.isScrollBottomEventNotified=!1,t.reset(),!e||0===a&&0===n?this._updateRenderElementsRange():this.container&&(this.container.scrollTop=0,this.container.scrollLeft=0),this.setState({isScrolling:!1})}}},{key:"isElementVisibleOnViewport",value:function(e){return this.state.positionHandlerInstance.isElementVisibleOnViewport(e)}},{key:"getScrollOffsetToIndex",value:function(e,t){var a=this.state.positionHandlerInstance,n=a.isVertical,o=this.container,i=o.clientWidth,s=o.clientHeight,r=a.getSizeAndPositionOfElement(e),l=r.offsetTop,c=r.offsetLeft,d=r.height,u=r.width,p=void 0;switch(t){case"top":p=l;break;case"left":p=c;break;case"bottom":p=l-s+d;break;case"right":p=c-i+u;break;default:p=n?l+t:c+t}return p}},{key:"scrollToIndex",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.__isVirtualiserInstanceExists){var n=this.state.positionHandlerInstance,o=n.isVertical,i=n.scrollTop,s=n.scrollLeft,r=this.getScrollOffsetToIndex(e,t);if(o?i!==r:s!==r){var l=a.duration,c=a.onComplete,d=a.cancelOnUserAction,u=a.speed;this.container&&function(e){var t=e.endPoint,a=void 0===t?0:t,n=e.speed,o=void 0===n?500:n,i=e.isVertical,s=void 0===i||i,r=e.duration,l=void 0===r?null:r,c=e.onComplete,d=void 0!==c&&c,u=e.cancelOnUserAction,p=void 0!==u&&u,m=e.element,h=s?"scrollTop":"scrollLeft",f=m[h],g=a-f,v=Date.now(),b=null,w=Math.abs(Math.round(g/1e3*o));l>=0&&w>l&&(w=l);var y=void 0,S=function(){m.removeEventListener("wheel",y),m.removeEventListener("touchstart",y),p?(m.removeEventListener("keydown",y),m.removeEventListener("mousedown",y)):m.removeEventListener("scroll",y)};p?(y=function(){S(),cancelAnimationFrame(b)},m.addEventListener("keydown",y),m.addEventListener("mousedown",y)):(y=function(e){e.preventDefault()},m.addEventListener("scroll",y)),m.addEventListener("wheel",y),m.addEventListener("touchstart",y);b=requestAnimationFrame(function e(){var t=Date.now()-v,n=t/w-1,o=n*n*n+1,i=Math.round(f+g*o);t<w&&i!==a?(m[h]=i,b=requestAnimationFrame(e)):(m[h]=a,cancelAnimationFrame(b),S(),"function"==typeof d&&d())})}({endPoint:r,element:this.container,duration:l,isVertical:o,onComplete:c,cancelOnUserAction:d,speed:u})}}}},{key:"_getScrollValue",value:function(e){var t=this.state.positionHandlerInstance,a=this.currentViewPortRange.viewportFromIndexOfElement,n=t.isVertical,o=e.filter(function(e){return e<=a}),i=n?"height":"width";return o.reduce(function(e,a){return e+(t.getSizeAndPositionOfElement(a)||{})[i]},0)}},{key:"adjustScrollPosition",value:function(e,t){if(this.__isVirtualiserInstanceExists){var a=this.state.positionHandlerInstance,n=a.isVertical,o=a.scrollTop,i=a.scrollLeft,s=this._getScrollValue(e)*(t?-1:1);n?this.container.scrollTop=o+s:this.container.scrollLeft=i+s}}},{key:"adjustScrollPositionDuringInsertion",value:function(e){this.adjustScrollPosition(e,!1)}},{key:"adjustScrollPositionDuringDeletion",value:function(e){this.adjustScrollPosition(e,!0)}},{key:"getVisibleCount",value:function(){return this.__isVirtualiserInstanceExists?this.state.positionHandlerInstance.getVisibleCount():0}},{key:"componentDidMount",value:function(){this.__isVirtualiserInstanceExists=!0,(0,this.props.getExposedPublicMethods)({adjustScrollPositionDuringInsertion:this.adjustScrollPositionDuringInsertion,adjustScrollPositionDuringDeletion:this.adjustScrollPositionDuringDeletion,getVisibleCount:this.getVisibleCount,scrollToIndex:this.scrollToIndex,reset:this.reset,getContainer:this.getContainer,getSizeAndPositionOfElement:this.getSizeAndPositionOfElement,isElementVisibleOnViewport:this.isElementVisibleOnViewport}),this._handleContainerResize()}},{key:"componentDidUpdate",value:function(e){this._updateViewPortRange();var t=this.props,a=t.elementsCount,n=t.scrollDebounceDelay;a!==e.elementsCount&&(this.isScrollBottomEventNotified=!1),n!==e.scrollDebounceDelay&&(this.handleScrollStopWithDebounce=U(this.handleScrollStop,n))}},{key:"componentWillUnmount",value:function(){this.__isVirtualiserInstanceExists=!1,this.elementsSubscribedToVisibilityChanges=null,this.observerInstance.disconnect()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.positionHandlerInstance;if(t.prevProps===e)return null;var n={scrollDirection:e.scrollDirection,isElementsFixedHeight:e.isElementsFixedHeight,isElementsFixedWidth:e.isElementsFixedWidth,elementsCount:e.elementsCount>0?e.elementsCount:0};a.updateConfig(n);var o=a.getVisibleRange(),i=o.from,s=o.to,r=o.isEmpty,c=X;return r||(c={fromIndexOfElement:i,toIndexOfElement:s,isScrolling:!1,isEmpty:!1}),l()({},c,{prevProps:e})}}]),t}(k.a.Component),oe=ne;ne.displayName="Virtualizer",ne.childContextTypes={subscribeElementsToVisibilityChange:I.a.func,unSubscribeElementsToVisibilityChange:I.a.func};var ie=function(){return null};ne.defaultProps={containerType:"div",emptyContainerRenderer:ie,getExposedPublicMethods:ie,onScrollThresholdReach:ie,loadingElementRenderer:ie,onScroll:ie,isElementsFixedHeight:!0,isElementsFixedWidth:!0,reusable:!1,scrollThreshold:1,scrollDebounceDelay:100,scrollDirection:x,virtualElementType:"div"},ne.propTypes=ee;var se={},re=function(e){function t(e){h()(this,t);var a=b()(this,(t.__proto__||p()(t)).call(this,e));return a.state={src:"",index:-1,isVisible:!1,isDownloaded:!1},a.handleSubscribe=a.handleSubscribe.bind(a),a.__isMounted=!0,a}return y()(t,e),g()(t,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"downLoadIamge",value:function(e){var t=this;!se[e]?function(e){return new q.a(function(t,a){var n=new Image;n.src=e,e||t(n),"function"==typeof n.decode?n.decode().then(function(){return t(n)}).catch(function(e){a(e)}):(n.onload=function(){return t(n)},n.onerror=function(e){return a(e)})})}(e).then(function(){var a=t.props.src;se[e]=!0,t.__isMounted&&e===a&&t.setState({isDownloaded:!0})}).catch(function(e){throw e}):this.setState({isDownloaded:!0})}},{key:"handleSubscribe",value:function(){var e=this.state,t=e.isDownloaded,a=e.index,n=e.src;this.unSubscribe(a),this.setState({isVisible:!0}),!t&&this.downLoadIamge(n)}},{key:"render",value:function(){var e=this.state,t=e.isVisible,a=e.isDownloaded,n=this.props;return(0,n.imageRender)({isVisible:t,src:n.src,isDownloaded:a})}},{key:"addSubscribe",value:function(e){(0,this.context.subscribeElementsToVisibilityChange)(e,this.handleSubscribe)}},{key:"unSubscribe",value:function(e){(0,this.context.unSubscribeElementsToVisibilityChange)(e,this.handleSubscribe)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.index,o=a.src,i=e.src,s=e.index;if(s!==n)this.unSubscribe(s),this.addSubscribe(n);else if(i!==o){var r=!!se[o];t.isVisible&&!r&&this.downLoadIamge(o)}}},{key:"componentDidMount",value:function(){var e=this.props.index;this.addSubscribe(e)}},{key:"componentWillUnmount",value:function(){this.__isMounted=!1;var e=this.props.index;this.unSubscribe(e)}}]),t}(k.a.Component);re.getDerivedStateFromProps=function(e,t){var a=e.index,n=e.src,o=t.src,i=t.index,s=!!se[n];return i!==a?{isVisible:!1,isDownloaded:s,index:a,src:n}:o!==n?{isDownloaded:s,src:n}:null},re.contextTypes={subscribeElementsToVisibilityChange:I.a.func.isRequired,unSubscribeElementsToVisibilityChange:I.a.func.isRequired},re.propTypes={imageRender:I.a.func.isRequired,index:I.a.number.isRequired,src:I.a.string.isRequired};var le=a("./src/utils/debounce.js"),ce=function(e){function t(e){h()(this,t);var a=b()(this,(t.__proto__||p()(t)).call(this,e));return a.onReachBoundary=a.onReachBoundary.bind(a),a.getPublicMethods=a.getPublicMethods.bind(a),a.onScroll=a.onScroll.bind(a),a.renderRow=a.renderRow.bind(a),a.onScroll=Object(le.a)(a.onScroll,700),a}return y()(t,e),g()(t,[{key:"renderRow",value:function(e){var t=e.index,a=e.ref,n=e.style;return this.props.renderRow({index:t,ref:a,style:n})}},{key:"getPublicMethods",value:function(e){var t=this.props.getPublicMethods,a=e.getSizeAndPositionOfElement;this.getSizeAndPositionOfElement=a,e.getSizeForIndex=a,t&&t(e)}},{key:"onScroll",value:function(e,t){var a=this.props,n=a.onScroll,o=(a.name,a.routingState),i=void 0===o?{}:o,r=E.l.SESSION_STORE_KEY,c=e.viewportRange.from,u=this.getSizeAndPositionOfElement(c).offsetTop,p=e.scrollTop-u,m=d()({},i.key,{extraOffset:p,index:c}),h=JSON.parse(sessionStorage.getItem(r)||"{}"),f=l()({},h,m);sessionStorage.setItem(r,s()(f)),n&&n()}},{key:"onReachBoundary",value:function(e){var t=this.props.onReachBoundary,a=E.l,n=e.to,o=e.direction===a.FORWARD_KEY;t&&t({scrollType:o?"forward":"backward",pageType:"fetch",fetchRecordIndex:n})}},{key:"render",value:function(){var e,t=this.props,a=t.containerClassName,n=t.itemsCount,i=t.throbberGetter,s=t.estimatedItemSize,r=t.overScanCount,l=t.component,c=t.className,u=t.isElementsFixedHeight,p=t.isElementsFixedWidth,m=t.scrollDirection,h=t.emptyViewGetter,f=t.dataId,g=t.containerProps;return k.a.createElement(oe,o()((e={isElementsFixedHeight:u,isElementsFixedWidth:p,className:a,elementRenderer:this.renderRow,elementsCount:n,loadingElementRenderer:i,estimatedItemSize:s,onScroll:this.onScroll,scrollThreshold:r,onScrollThresholdReach:this.onReachBoundary,containerType:l},d()(e,"className",c),d()(e,"getExposedPublicMethods",this.getPublicMethods),d()(e,"scrollDirection",m),d()(e,"emptyContainerRenderer",h),d()(e,"dataId",f),e),g))}}]),t}(S.Component);t.a=ce;ce.propTypes={className:I.a.string,component:I.a.elementType,containerClassName:I.a.string,containerProps:I.a.object,dataId:I.a.string,emptyViewGetter:I.a.node,estimatedItemSize:I.a.number,getPublicMethods:I.a.func,isElementsFixedHeight:I.a.bool,isElementsFixedWidth:I.a.bool,itemsCount:I.a.number,name:I.a.string,onReachBoundary:I.a.func,onScroll:I.a.func,overScanCount:I.a.number,renderRow:I.a.func,routingState:I.a.object,scrollDirection:I.a.oneOf(["vertical","horizontal"]),throbberGetter:I.a.func},ce.defaultProps={dataId:"dataList"}},"./src/components/Social/AttachmentsView/AttachmentsView.module.css":function(e,t,a){e.exports={container:"zd-attachmentsview-container",section:"zd-attachmentsview-section",header:"zd-attachmentsview-header",title:"zd-attachmentsview-title zd6063afa107",pagination:"zd-attachmentsview-pagination",menu:"zd-attachmentsview-menu",menuIcon:"zd-attachmentsview-menuIcon",iconnewtab:"zd-attachmentsview-iconnewtab",iconinappclose:"zd-attachmentsview-iconinappclose",iconzoomin:"zd-attachmentsview-iconzoomin",iconzoomout:"zd-attachmentsview-iconzoomout",imageContainer:"zd-attachmentsview-imageContainer",image:"zd-attachmentsview-image",imgMWH:"zd-attachmentsview-imgMWH",mauto:"zd-attachmentsview-mauto",moreIcon:"zd-attachmentsview-moreIcon",iconpulldown:"zd-attachmentsview-iconpulldown",iconarrows1:"zd-attachmentsview-iconarrows1",footer:"zd-attachmentsview-footer",footerOpen:"zd-attachmentsview-footerOpen",attachmentsContainer:"zd-attachmentsview-attachmentsContainer zd26201135e6 zdcded585cf4",pvImgCon_type3:"zd-attachmentsview-pvImgCon_type3 zd26201135e6 zdcded585cf4",authorinfo:"zd-attachmentsview-authorinfo zd6063afa107",attachments:"zd-attachmentsview-attachments",selectedAttachment:"zd-attachmentsview-selectedAttachment",attachment:"zd-attachmentsview-attachment",attachmentImage:"zd-attachmentsview-attachmentImage",zoomed:"zd-attachmentsview-zoomed",notZommed:"zd-attachmentsview-notZommed",ovrflauto:"zd-attachmentsview-ovrflauto zd26201135e6 zdcded585cf4",previousArrow:"zd-attachmentsview-previousArrow",arrowContainer:"zd-attachmentsview-arrowContainer",nextArrow:"zd-attachmentsview-nextArrow",iconarrowright3:"zd-attachmentsview-iconarrowright3",iconarrowleft3:"zd-attachmentsview-iconarrowleft3",SocialUserPhoto:"zd-attachmentsview-SocialUserPhoto",authorName:"zd-attachmentsview-authorName"}},"./src/components/Social/BrandInfo/BrandInfo.module.css":function(e,t,a){e.exports={container:"zd-brandinfo-container",avatar:"zd-brandinfo-avatar",title:"zd-brandinfo-title",SocialInfoSubtitle:"zd-brandinfo-SocialInfoSubtitle",subtitleText:"zd-brandinfo-subtitleText"}},"./src/components/Social/BrandsFeedsView/BrandsFeedsView.module.css":function(e,t,a){e.exports={SocialLeftList:"zd-brandsfeedsview-SocialLeftList zd934260ce09",SocialListOpenIcon:"zd-brandsfeedsview-SocialListOpenIcon",rotateClass:"zd-brandsfeedsview-rotateClass",defaultClass:"zd-brandsfeedsview-defaultClass",SocialleftpanelFbTwit:"zd-brandsfeedsview-SocialleftpanelFbTwit",SocialleftpanelFb:"zd-brandsfeedsview-SocialleftpanelFb",w100:"zd-brandsfeedsview-w100",posab:"zd-brandsfeedsview-posab",newtktcnt:"zd-brandsfeedsview-newtktcnt",notify:"zd-brandsfeedsview-notify",SocialleftpanelMsg:"zd-brandsfeedsview-SocialleftpanelMsg",messengersvgIcon:"zd-brandsfeedsview-messengersvgIcon",SocialleftpanelTwit:"zd-brandsfeedsview-SocialleftpanelTwit",SocialleftpaneldMsg:"zd-brandsfeedsview-SocialleftpaneldMsg",SocialPageLayout:"zd-brandsfeedsview-SocialPageLayout zd55aafb17fe",SocialFbTwitSel:"zd-brandsfeedsview-SocialFbTwitSel",boxitag:"zd-brandsfeedsview-boxitag"}},"./src/components/Social/ButtonWithIcon/ButtonWithIcon.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("../components/lib/Layout/index.js"),b=a("./src/components/Social/ButtonWithIcon/ButtonWithIcon.module.css"),w=a.n(b),y=a("./src/fz-i18n/index.js"),S=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.text,n=e.onClick,o=e.children,i=e.id;return h.a.createElement(v.Container,{alignBox:"row",align:"both",isCover:!1,className:""+w.a[t],dataId:i,onClick:n},h.a.createElement("span",{className:w.a.icon},o),h.a.createElement(y.c,{i18NKey:a}))}}]),t}(h.a.Component);t.a=S,S.propTypes={children:g.a.any,id:g.a.string,onClick:g.a.func.isRequired,text:g.a.string,type:g.a.string},S.defaultProps={type:"type1",id:"id"}},"./src/components/Social/ChannelStats/ChannelStats.module.css":function(e,t,a){e.exports={title:"zd-channelstats-title",row:"zd-channelstats-row zd934260ce09",actionPragraph:"zd-channelstats-actionPragraph",actionCount:"zd-channelstats-actionCount",SocialInfo:"zd-channelstats-SocialInfo",text:"zd-channelstats-text",count:"zd-channelstats-count"}},"./src/components/Social/Comments/SocialComments.module.css":function(e,t,a){e.exports={Social_DedailImgSpan:"zd-socialcomments-Social_DedailImgSpan zd391bc5a95f",imgClass:"zd-socialcomments-imgClass",Social_DedailImgDiv:"zd-socialcomments-Social_DedailImgDiv",SocialCommentListingDiv:"zd-socialcomments-SocialCommentListingDiv",pb20:"zd-socialcomments-pb20",SocialUserPhoto:"zd-socialcomments-SocialUserPhoto",ml28:"zd-socialcomments-ml28",NewFBCommentDiv:"zd-socialcomments-NewFBCommentDiv",cmttextmore:"zd-socialcomments-cmttextmore",cmttext:"zd-socialcomments-cmttext",cmtmoreclick:"zd-socialcomments-cmtmoreclick",likeSpan:"zd-socialcomments-likeSpan",FBLikecircle:"zd-socialcomments-FBLikecircle",SocialDedailbottom:"zd-socialcomments-SocialDedailbottom",SocialFbColor:"zd-socialcomments-SocialFbColor",renotLiked:"zd-socialcomments-renotLiked",reliked:"zd-socialcomments-reliked",upldboxes:"zd-socialcomments-upldboxes",fileclose:"zd-socialcomments-fileclose",hide:"zd-socialcomments-hide",show:"zd-socialcomments-show",SocialCommentListing:"zd-socialcomments-SocialCommentListing",ml40:"zd-socialcomments-ml40",icon_ic_social_reply:"zd-socialcomments-icon_ic_social_reply",SocialCommentRply:"zd-socialcomments-SocialCommentRply",SocialCommentRplyInput:"zd-socialcomments-SocialCommentRplyInput",NewPostAttach:"zd-socialcomments-NewPostAttach",photoImage:"zd-socialcomments-photoImage",inpFile:"zd-socialcomments-inpFile",svLoadpnt:"zd-socialcomments-svLoadpnt",spinloading:"zd-socialcomments-spinloading",rotate:"zd-socialcomments-rotate",SocialCommentType:"zd-socialcomments-SocialCommentType",DirectMessageDiv:"zd-socialcomments-DirectMessageDiv",DirectMessage:"zd-socialcomments-DirectMessage",FBCmntMore:"zd-socialcomments-FBCmntMore",SocialUserComment:"zd-socialcomments-SocialUserComment",SocialPostSmily:"zd-socialcomments-SocialPostSmily",iconclosee:"zd-socialcomments-iconclosee",imagePreview:"zd-socialcomments-imagePreview"}},"./src/components/Social/ConvertTicketPopup/ConvertTicketPopup.module.css":function(e,t,a){e.exports={SocialAssignTicNew:"zd-convertticketpopup-SocialAssignTicNew",AssignTicNewMain:"zd-convertticketpopup-AssignTicNewMain zd26201135e6 zdcded585cf4",AssignTicNewMinHight:"zd-convertticketpopup-AssignTicNewMinHight",SocialDedailbottom:"zd-convertticketpopup-SocialDedailbottom zd6063afa107",AssignTicNewStatus:"zd-convertticketpopup-AssignTicNewStatus",AssignTicketID:"zd-convertticketpopup-AssignTicketID zd6063afa107",SocialconvertDetail:"zd-convertticketpopup-SocialconvertDetail",SocialportalChangeDpt:"zd-convertticketpopup-SocialportalChangeDpt zd6063afa107",TicketIdSvg:"zd-convertticketpopup-TicketIdSvg",AssignTicNewLabel:"zd-convertticketpopup-AssignTicNewLabel",NewDeptFixed:"zd-convertticketpopup-NewDeptFixed zd6063afa107"}},"./src/components/Social/DropDownCustom/CustomDropDown.module.css":function(e,t,a){e.exports={dropli:"zd-customdropdown-dropli",dropli_sel:"zd-customdropdown-dropli_sel",show:"zd-customdropdown-show",hide:"zd-customdropdown-hide",isnot_hovered:"zd-customdropdown-isnot_hovered",socislFiltIcons:"zd-customdropdown-socislFiltIcons",ddText:"zd-customdropdown-ddText zd6063afa107",container:"zd-customdropdown-container"}},"./src/components/Social/EmptyFeedContainer/EmptyFeedContainer.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=a.n(f),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(v),w=a("./src/fz-i18n/index.js"),y=a("./src/components/Social/EmptyFeedContainer/EmptyFeedContainer.module.css"),S=a.n(y),k=a("../components/lib/Button/Button.js"),C=a.n(k),I=a("../components/lib/Layout/index.js"),E=a("./src/utils/Common.js"),D=function(e){function t(e){l()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.state={isChannelConnectPopup:!1,accountPopupData:{}},a.getAccData=a.getAccData.bind(a),a.emptyActions=a.emptyActions.bind(a),a.getText=a.getText.bind(a),a.goToSetupPage=a.goToSetupPage.bind(a),a}return h()(t,e),d()(t,[{key:"goToSetupPage",value:function(){this.props.addAccData()}},{key:"getAccData",value:function(){var e=this.props.brandData,t=this.state.accountPopupData;e=o()({},e);var a=t.channelInfo,n=e.channels,i=o()([],n);i.push(a),e.channels=i,this.props.addAccData(e.id,"twitter",e)}},{key:"emptyActions",value:function(){var e=this.props,t=e.brandData,a=e.feedsAs,n=e.hasExpired,o=e.feedError,i=e.componentFor;if(o||"noProfile"===i)this.props.refreshContent();else if(!0===n){var s="twitter"===a?t.twitterAuthURL:t.facebookAuthURL;window.open(s,a,"location=0,status=0,width=700,height=500,left=300,top=100")}}},{key:"getText",value:function(){var e=this.props,t=e.emptyCompoentCode,a=e.brandData;a=void 0===a?{}:a;var n=Object(E.w)("tickets",!1,"sing_module").tickets||"Ticket",o={100:{title:"support.social.createnew",subTitle:"support.social.noposts"},101:{title:"support.social.nodata",subTitle:"support.social.noposts.ticket",values:[n]},102:{title:"support.social.nodata",subTitle:"support.social.noposts.withoutticket",values:[n]},103:{title:"support.social.nodata",subTitle:"support.social.notaggedposts",values:[n]},104:{title:"support.social.nodata",subTitle:"support.social.notaggedposts.ticket",values:[n]},105:{title:"support.social.nodata",subTitle:"support.social.notaggedposts.withoutticket",values:[n]},106:{title:"support.social.nodata",subTitle:"support.social.novisitorposts"},107:{title:"support.social.nodata",subTitle:"support.social.novisitorposts.ticket",values:[n]},108:{title:"support.social.nodata",subTitle:"support.social.novisitorposts.withoutticket",values:[n]},109:{title:"support.social.createnew",subTitle:"support.social.notweets"},110:{title:"support.social.nodata",subTitle:"support.social.notweets.ticket",values:[n]},111:{title:"support.social.nodata",subTitle:"support.social.notweets.withoutticket",values:[n]},112:{title:"support.social.nodata",subTitle:"support.social.nomentions"},113:{title:"support.social.nodata",subTitle:"support.social.nomentions.ticket",values:[n]},114:{title:"support.social.nodata",subTitle:"support.social.nomentions.withoutticket",values:[n]},115:{title:"support.social.nodata",subTitle:"support.social.noconvertsation"},116:{title:"support.social.nodata",subTitle:"support.social.noconvertsation.ticket",values:[n]},117:{title:"support.social.nodata",subTitle:"support.social.noconvertsation.withoutticket",values:[n]},118:{title:"support.social.add",subTitle:"support.social.brand.channel.adddesc",values:[a.brandName]},119:{title:"support.social.oops",subTitle:"support.social.oops.desc"},120:{title:"support.social.brand.nodata.title",subTitle:"support.social.brand.nodata.desc"},121:{title:"support.social.contact.notfound",subTitle:"support.social.contact.adddesc"},122:{title:"support.social.brand.import.nodata.title",subTitle:"support.social.brand.nodata.desc"},123:{title:"support.social.nodata",subTitle:"support.social.nomessages"},124:{title:"support.social.oops",subTitle:"support.social.oops.wrongdesc"},125:{title:"support.social.reauthenticate",subTitle:"support.social.reauthenticate.desc"},126:{title:"support.social.brand.nochannel",subTitle:"support.social.brand.nochannel.desc"},127:{title:"support.social.nodata",subTitle:"support.social.nointeractions.desc"}}[t];return o=void 0===o?{title:"support.social.oops",subTitle:"support.social.oops.desc"}:o}},{key:"render",value:function(){var e=this.props,t=e.componentFor,a=e.noChannelFound,n=(e.brandData,e.feedsAs,e.hasExpired),o=e.feedError,i=this.state,s=(i.isChannelConnectPopup,i.accountPopupData,this.getText()),r=s.title,l=s.subTitle,c=s.values;c=void 0===c?[]:c;return g.a.createElement(I.Container,{align:"both",className:S.a.container,dataId:"emptyFeedContainerWrapper"},-1===["retweetslist_more"].indexOf(t)&&g.a.createElement("span",{className:S.a[-1!=["noProfile","brandInfo_error"].indexOf(t)?"emptynoprodata":-1!=["post","message","pagepost","mentionedPost","visitorPost","mentions","posts"].indexOf(t)?"emptynofeed":"moduleFail"===t?"errorOnLoad":"emptynobrand"]}),g.a.createElement(w.c,{tag:"div",className:S.a.title,i18NKey:r,values:c}),g.a.createElement(w.c,{tag:"div",className:S.a.description,i18NKey:l,values:c}),(!0===o||!0===n||!0===a||"noProfile"===t)&&g.a.createElement("div",{className:S.a.buttonCont},!0===a&&!1===n?g.a.createElement(C.a,{text:w.h.getI18NValue("support.social.brand.configchannel"),palette:"primaryFilled",isBold:!0,rounded:!1,size:"medium",status:"none",disabled:!1,onClick:this.goToSetupPage,dataId:"emptyBtntype1"}):g.a.createElement(C.a,{text:w.h.getI18NValue(!0===n?"ReAuthenticate":"noProfile"===t&&!1===o?"support.social.contact.add":"crm.button.refresh"),palette:"primaryFilled",isBold:!0,rounded:!1,size:"medium",status:"none",disabled:!1,onClick:this.emptyActions,dataId:"emptyBtntype2"})))}}]),t}(g.a.Component);t.a=D,D.defaultProps={emptyCompoentCode:119},D.propTypes={accountPopupData:b.a.object,addAccData:b.a.func,brandData:b.a.object,componentFor:b.a.string.isRequired,emptyCompoentCode:b.a.number.isRequired,feedError:b.a.bool,feedsAs:b.a.string,hasExpired:b.a.bool,noChannelFound:b.a.bool,refreshContent:b.a.func,showMessage:b.a.func}},"./src/components/Social/ErrorContainer/ErrorContainer.module.css":function(e,t,a){e.exports={container:"zd-errorcontainer-container",link:"zd-errorcontainer-link"}},"./src/components/Social/Feed/Feed.module.css":function(e,t,a){e.exports={popuptop:"zd-feed-popuptop",depPopuptop:"zd-feed-depPopuptop",popuptopconvert:"zd-feed-popuptopconvert",SocialPopupDropdown:"zd-feed-SocialPopupDropdown",feedsdelete:"zd-feed-feedsdelete",DownMoreIcon:"zd-feed-DownMoreIcon",socialSpamIcon:"zd-feed-socialSpamIcon",SocialcontainerList:"zd-feed-SocialcontainerList",isHovered:"zd-feed-isHovered",SocialcontainerMainDiv:"zd-feed-SocialcontainerMainDiv",Socialcheckbox:"zd-feed-Socialcheckbox",SocialDedail:"zd-feed-SocialDedail",avatar:"zd-feed-avatar",box:"zd-feed-box",posrel:"zd-feed-posrel",SocialRightBdr:"zd-feed-SocialRightBdr",newTicketAssignDiv:"zd-feed-newTicketAssignDiv",right0:"zd-feed-right0",right20:"zd-feed-right20",NewTickHover:"zd-feed-NewTickHover",NewTickSvg:"zd-feed-NewTickSvg",NewTickArwSvg:"zd-feed-NewTickArwSvg",twBtn:"zd-feed-twBtn zd-buttonwithicon-twBtn",fbBtn:"zd-feed-fbBtn zd-buttonwithicon-fbBtn",FBTicketID:"zd-feed-FBTicketID",depidnoaccess:"zd-feed-depidnoaccess",moreact:"zd-feed-moreact",listAction:"zd-feed-listAction",textstyle:"zd-feed-textstyle zd6063afa107",mr15:"zd-feed-mr15",f14:"zd-feed-f14",aTagClass:"zd-feed-aTagClass",fbcolor:"zd-feed-fbcolor",twicolor:"zd-feed-twicolor",fbContainer:"zd-feed-fbContainer",twiContainer:"zd-feed-twiContainer",SocialDedailbottom:"zd-feed-SocialDedailbottom",MsgInOutIcon:"zd-feed-MsgInOutIcon",msgreceiveIcon:"zd-feed-msgreceiveIcon",msgsentIcon:"zd-feed-msgsentIcon",SocialMsgAttach:"zd-feed-SocialMsgAttach",SocialDedailMessageReply:"zd-feed-SocialDedailMessageReply",SocialDedailMessage:"zd-feed-SocialDedailMessage zd6063afa107",mr20:"zd-feed-mr20",aTag:"zd-feed-aTag",SocialDedailVideoDiv:"zd-feed-SocialDedailVideoDiv",image:"zd-feed-image zd391bc5a95f",FeedsRightcontainerList:"zd-feed-FeedsRightcontainerList",retweeted:"zd-feed-retweeted",feedauthorname:"zd-feed-feedauthorname",SocialDedailAns:"zd-feed-SocialDedailAns",Social_DedailAns_more:"zd-feed-Social_DedailAns_more",SocialcontainerFooter:"zd-feed-SocialcontainerFooter",SocialLikeCmdShare:"zd-feed-SocialLikeCmdShare",twiReply:"zd-feed-twiReply",twiRetweet:"zd-feed-twiRetweet",twiLike:"zd-feed-twiLike",IconHoverspan:"zd-feed-IconHoverspan",curdefault:"zd-feed-curdefault",Topshare:"zd-feed-Topshare",SocialLikeresult:"zd-feed-SocialLikeresult",FBLikecircle:"zd-feed-FBLikecircle",HoverTwitLike:"zd-feed-HoverTwitLike",twitIconposition:"zd-feed-twitIconposition",portalChange:"zd-feed-portalChange",SocialportalChangeDpt:"zd-feed-SocialportalChangeDpt zd6063afa107",SocialportalChangeButton:"zd-feed-SocialportalChangeButton zdc4b505a7b0 zd55aafb17fe",SocialPopupDiv:"zd-feed-SocialPopupDiv",liked:"zd-feed-liked",notLiked:"zd-feed-notLiked",NewLikeSvg:"zd-feed-NewLikeSvg",Topfour:"zd-feed-Topfour",twinotLiked:"zd-feed-twinotLiked",Retwitoff:"zd-feed-Retwitoff",Retwit:"zd-feed-Retwit",opacity1:"zd-feed-opacity1",SocialDedailHead:"zd-feed-SocialDedailHead",msgFeed:"zd-feed-msgFeed",itag:"zd-feed-itag",twinotLike:"zd-feed-twinotLike",SocialDedailImgDiv:"zd-feed-SocialDedailImgDiv",feedsOther:"zd-feed-feedsOther",convertrotate:"zd-feed-convertrotate",rotation:"zd-feed-rotation"}},"./src/components/Social/FeedActions/FeedActions.js":function(e,t,a){"use strict";(function(e){var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),g=a.n(f),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=a.n(v),w=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=a.n(w),S=a("./src/fz-i18n/index.js"),k=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=a.n(k),I=a("../components/lib/Avatar/Avatar.js"),E=a.n(I),D=a("../components/lib/Layout/index.js"),N=a("./src/components/Image/Image.js"),x=a("./src/components/Social/FeedActions/FeedActions.module.css"),P=a.n(x),T=a("./src/components/Social/socialCommon.js"),A=function(t){function a(e){d()(this,a);var t=h()(this,(a.__proto__||l()(a)).call(this,e));return t.state={actionAs:"none",selectedAction:[],ticketUpdateJson:{},selectedField:"",selectedFieldvalue:"",selectedFtype:"text"},t.getTicketUpdateContainer=t.getTicketUpdateContainer.bind(t),t.closeActions=t.closeActions.bind(t),t}return g()(a,t),p()(a,[{key:"changeState",value:function(t,a){var n=this.state.selectedAction,o=s()([],n),i=o.indexOf(t);if(-1===i?o.push(t):-1!=i&&(o=o.splice(0,i),t="none"),"update"!==t)this.props.selectedFeedActions(t);else{var r=ZCache.getDeptBasedData("Mass Update Fields");if(null==r&&(r=ZCache.getDeptBasedData("Mass Update Fields")),null==r[e]){var l=contextName+"/"+portalName+"DWRutil.do?dwrMode=getMassUpdateFields&module="+encodeURIComponent("Cases");jQuery.getJSON(l,function(t){r[e]=t,this.getTicketUpdateContainer(0)})}else null!=r[e]&&this.getTicketUpdateContainer(0)}}},{key:"getTicketUpdateContainer",value:function(t){var a,n,o,i,s,r,l,c={}[e];a=c.fieldUitype.split(","),n=c.fieldId.split(","),o=c.fieldLabel.split("~~"),i=c.fieldLen.split(","),s=c.fieldName.split(","),r=c.fieldTableName.split(","),l=c.fieldDatatype.split(",");var d=o[t];a[t];this.setState({ticketUpdateJson:{fieldUitype:a,fieldId:n,fieldLabel:o,fieldLen:i,fieldName:s,fieldTableName:r,fieldDatatype:l},selectedField:d})}},{key:"closeActions",value:function(){this.props.closeAction()}},{key:"render",value:function(){var e=this.state,t=e.actionAs,a=e.selectedAction,n=this.props,i=n.selectedFeeds,s=(n.selectAll,n.selectedFeedsData),r=n.permissions,l=o()(i).length,c=[];s.map(function(e,t){c.push(b.a.createElement(_,{feedData:e}))});var d=r.haveEditPermission,u=r.haveDeletePermission,p=Object(T.d)("SocialMultiSelectScrolDiv");return b.a.createElement("div",{className:P.a.SocialMultiSelectPopup+" "+P.a.SocialRightAnimate},b.a.createElement("span",{className:P.a.iconicsocialclose,"data-id":"close_feed_actions",onClick:this.closeActions},b.a.createElement(C.a,{name:"ZD-socialClose",iconClass:P.a.closeTag})),b.a.createElement("div",{className:P.a[p]},b.a.createElement("div",{className:P.a.SocialMultiSelectCircle},b.a.createElement(D.Container,{alignBox:"column",align:"both",isCover:!1,className:P.a.circle},b.a.createElement("span",{className:P.a.SocialMultiCount},l),b.a.createElement("span",{className:P.a.SocialMultiText},"Selected")),b.a.createElement(D.Container,{alignBox:"row",isCover:!1,align:"vertical",className:P.a.SocialMultiSelectCircleAll},!0===d&&b.a.createElement("span",{title:S.h.getI18NValue("support.social.feed.ticket.spam"),"data-id":"feed_action_spam",onClick:this.changeState.bind(this,"spam")},b.a.createElement(C.a,{name:"ZD-exclamataryThick",iconClass:"spam"===t||-1!=a.indexOf("spam")?"":P.a.notSelect})),!0===u&&b.a.createElement("span",{title:S.h.getI18NValue("support.social.delete"),"data-id":"feed_action_delete",onClick:this.changeState.bind(this,"delete")},b.a.createElement(C.a,{name:"ZD-deletecircle",iconClass:P.a.iconsocialdelete+" "+(-1!=a.indexOf("delete")?"":P.a.notSelect)})))),b.a.createElement("div",{className:P.a.SocialAssignUserList},c)))}}]),a}(b.a.Component);t.a=A,A.propTypes={closeAction:y.a.func,permissions:y.a.object,selectAll:y.a.bool,selectedFeedActions:y.a.func,selectedFeeds:y.a.object,selectedFeedsData:y.a.array};var _=function(e){function t(){return d()(this,t),h()(this,(t.__proto__||l()(t)).apply(this,arguments))}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this.props.feedData,t=e.ticket,a=e.message,n=e.author,o=e.attachments;if(void 0!==t){var i="";""!=a&&null!=a&&(i=(i=a.split("<br/>").join("")).slice(0,30));var s="",r=!0;null!=o&&(r=!1,s=o[0].href,s=b.a.createElement(N.a,{src:""+s})),i=""!==a&&void 0!==a||0==o.length?i:s;var l=t.ticketNumber,c=n.name,d=Object(T.g)(c);return b.a.createElement(D.Container,{alignBox:"row",align:"vertical",className:P.a.SocialAssignUserListing},b.a.createElement("div",{className:P.a.w80},b.a.createElement("span",{className:P.a.lstellips},b.a.createElement("span",{className:P.a.reqsubject},"#",l),!0===r?b.a.createElement("span",{className:P.a.text,dangerouslySetInnerHTML:{__html:i}}):b.a.createElement("span",null,i)),b.a.createElement("span",{className:P.a.Socialtimelist},b.a.createElement(S.c,{i18NKey:"support.social.feed.postedby",values:[c],tag:"span"}))),b.a.createElement("div",null,b.a.createElement(E.a,{src:n.href,name:d,shape:"circle",size:"xsmall"})))}}}]),t}(b.a.Component);_.propTypes={feedData:y.a.object}}).call(this,a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/Social/FeedActions/FeedActions.module.css":function(e,t,a){e.exports={SocialMultiSelectPopup:"zd-feedactions-SocialMultiSelectPopup",SocialRightAnimate:"zd-feedactions-SocialRightAnimate",iconicsocialclose:"zd-feedactions-iconicsocialclose",closeTag:"zd-feedactions-closeTag",SocialMultiSelectScrolDiv:"zd-feedactions-SocialMultiSelectScrolDiv zd26201135e6 zdcded585cf4",circle:"zd-feedactions-circle zd391bc5a95f",SocialMultiCount:"zd-feedactions-SocialMultiCount",SocialMultiText:"zd-feedactions-SocialMultiText",SocialMultiSelectCircleAll:"zd-feedactions-SocialMultiSelectCircleAll zd78baec58b8",iconsocialdelete:"zd-feedactions-iconsocialdelete",SocialAssignUserList:"zd-feedactions-SocialAssignUserList",SocialAssignUserListing:"zd-feedactions-SocialAssignUserListing zd934260ce09",w80:"zd-feedactions-w80",lstellips:"zd-feedactions-lstellips zd6063afa107",reqsubject:"zd-feedactions-reqsubject",text:"zd-feedactions-text",Socialtimelist:"zd-feedactions-Socialtimelist",notSelect:"zd-feedactions-notSelect",SocialMultiSelectCircle:"zd-feedactions-SocialMultiSelectCircle"}},"./src/components/Social/FeedsContainer/FeedsContainer.module.css":function(e,t,a){e.exports={Socialrightpanellisting:"zd-feedscontainer-Socialrightpanellisting zde09903aedc zdcded585cf4",TwitterLoadMoreDiv:"zd-feedscontainer-TwitterLoadMoreDiv",TwitterLoadMore:"zd-feedscontainer-TwitterLoadMore"}},"./src/components/Social/ImageWithIcon/ImageWithIcon.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),b=a.n(v),w=a("../components/lib/Avatar/Avatar.js"),y=a.n(w),S=a("./src/components/Social/ImageWithIcon/ImageWithIcon.module.css"),k=a.n(S),C=a("../components/lib/Layout/index.js"),I=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.iconName,a=e.iconclassName,n=e.imageSrc,o=e.imageSize,i=e.imageText,s=e.iconWrapperStyle;return h.a.createElement("div",{className:k.a.container,"data-id":"imageWithIconEle"},h.a.createElement(y.a,{src:n,shape:"circle",size:o,name:i}),h.a.createElement(C.Container,{align:"both",isCover:!1,className:k.a.iconWrapper+" "+s},h.a.createElement(b.a,{name:t,iconClass:a})))}}]),t}(h.a.Component);t.a=I,I.propTypes={iconName:g.a.string,iconWrapperStyle:g.a.object,iconclassName:g.a.string,imageSize:g.a.string,imageSrc:g.a.string,imageText:g.a.string}},"./src/components/Social/IntractionFeed/IntractionFeed.module.css":function(e,t,a){e.exports={SocialInteractDedail:"zd-intractionfeed-SocialInteractDedail",SocialUserPhoto:"zd-intractionfeed-SocialUserPhoto",ml55:"zd-intractionfeed-ml55",SocialInteractDedailDiv:"zd-intractionfeed-SocialInteractDedailDiv",SocialInteractTitle:"zd-intractionfeed-SocialInteractTitle",mention:"zd-intractionfeed-mention",SocialInteractDisc:"zd-intractionfeed-SocialInteractDisc"}},"./src/components/Social/Intractions/Intractions.module.css":function(e,t,a){e.exports={mr20:"zd-intractions-mr20",aTag:"zd-intractions-aTag",SocialDedailVideoDiv:"zd-intractions-SocialDedailVideoDiv",hwimage:"zd-intractions-hwimage",intractionmsgtextmore:"zd-intractions-intractionmsgtextmore",instractiondview:"zd-intractions-instractiondview zdc4b505a7b0 zd0e82d39138",intractionhead:"zd-intractions-intractionhead",intraction_fb:"zd-intractions-intraction_fb",intraction_twitter:"zd-intractions-intraction_twitter",intractionheadtext:"zd-intractions-intractionheadtext",intractionback:"zd-intractions-intractionback",SocialInteractList:"zd-intractions-SocialInteractList zd26201135e6 zdcded585cf4",IntractMorediv:"zd-intractions-IntractMorediv",IntractMoreSpan:"zd-intractions-IntractMoreSpan",SocialInteractDedail:"zd-intractions-SocialInteractDedail",SocialDedailImgDiv:"zd-intractions-SocialDedailImgDiv"}},"./src/components/Social/Loading/LoadingNew.js":function(e,t,a){"use strict";a.d(t,"d",function(){return C}),a.d(t,"b",function(){return I}),a.d(t,"c",function(){return E}),a.d(t,"e",function(){return D}),a.d(t,"f",function(){return N}),a.d(t,"a",function(){return x}),a.d(t,"g",function(){return P}),a.d(t,"h",function(){return T});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("./src/components/Social/Loading/SocialLoading.module.css"),b=a.n(v),w=a("../components/lib/Stencils/Stencils.js"),y=a.n(w),S=a("../components/lib/Layout/index.js"),k=function(){for(var e=[],t=0;t<2;t++)e.push(h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground+" "+b.a.SocialLineRightNew},h.a.createElement(y.a,{size:"default"})));return e};var C=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.loadingFor,a=e.animateCount,n="listMessages"===t||"listTweets"===t||"listPosts"===t;return h.a.createElement("div",{className:b.a.SocialCenterAnimate},!0===n&&h.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:b.a.SocialHeaderLoading},h.a.createElement("span",{className:b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.headRightspan},h.a.createElement("span",{className:b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),function(e,t){var a=[];t=void 0===t?2:+t;for(var n=["tweet","tweets","post","posts","listPosts","listTweets","messages","message"],o="reply"===e,i=0;i<t;i++)a.push(h.a.createElement(S.Container,{alignBox:"column",key:i+"_listLoading",className:b.a[!0===o?"SocialCenterAnimateDiv_Reply":"SocialCenterAnimateDiv"]},h.a.createElement(S.Container,{alignBox:"row"},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:!0===o?"medium":"large",shape:"circle"})),h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement("div",{className:b.a.descContainer},-1!=n.indexOf(e)&&k()),"listMessage"===e&&h.a.createElement("div",{className:b.a.MgsMenuLoad+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"}))));return a}(t,a))}}]),t}(m.Component),I=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:b.a.SocialLeftSiteLoading},h.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:b.a.SocialLftLoadDiv},h.a.createElement(y.a,{shape:"circle",size:"medium"}),h.a.createElement("div",{className:b.a.SocialLineNewRight},h.a.createElement(y.a,{size:"small"}))),h.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:b.a.SocialLftLoadDiv},h.a.createElement(y.a,{shape:"circle",size:"medium"}),h.a.createElement("div",{className:b.a.SocialLineNewRight},h.a.createElement(y.a,{size:"small"}))),h.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:b.a.SocialLftLoadDiv},h.a.createElement(y.a,{shape:"circle",size:"medium"}),h.a.createElement("div",{className:b.a.SocialLineNewRight},h.a.createElement(y.a,{size:"small"}))),h.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:b.a.SocialLftLoadDiv},h.a.createElement(y.a,{shape:"circle",size:"medium"}),h.a.createElement("div",{className:b.a.SocialLineNewRight},h.a.createElement(y.a,{size:"small"}))))}}]),t}(m.Component),E=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.loadingFor,a=e.animateCount;return h.a.createElement(S.Container,{alignBox:"row",className:b.a.SocialPageLayout},h.a.createElement(S.Box,{flexible:!0,className:b.a.SocialContainers1},h.a.createElement(C,{loadingFor:t,animateCount:a})),h.a.createElement("div",{className:b.a.SocialContainersInfo},h.a.createElement(x,null)))}}]),t}(m.Component),D=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return"moremsg"===this.props.loadingFor?h.a.createElement("div",{className:b.a.socialMsgLoadingrplist},h.a.createElement("div",{className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement("div",{className:b.a.socialMsgLoadingRight},h.a.createElement("div",{className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement("div",{className:b.a.SocialLineRight+" "+b.a.ml50},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))))):h.a.createElement("div",{className:b.a.socialMsgLoadingList},h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialLineRight+" "+b.a.ml50},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialLineRight+" "+b.a.ml50},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement("div",{className:b.a.socialMsgLoadingRight},h.a.createElement(S.Container,{alignBox:"row",align:"right",className:b.a.socialMsgLoadingHead},h.a.createElement(S.Container,{align:"bottom",className:b.a.SocialLineRight+" "+b.a.ml50},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement(S.Container,{alignBox:"row",align:"right",className:b.a.socialMsgLoadingHead},h.a.createElement(S.Container,{align:"bottom",className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"}))),h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})))),h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialLineRight+" "+b.a.ml50},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialMsgLoadingHead},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))))}}]),t}(m.Component),N=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:b.a.socialprofileLoadingDiv},h.a.createElement(S.Container,{align:"vertical",className:b.a.socialprofileLoading},h.a.createElement("div",{className:b.a.SocialCircleprofile+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement(S.Container,{align:"vertical",className:b.a.SocialLineRight+" "+b.a.socialDivprofileLoad},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:b.a.SocialHeaderLoading},h.a.createElement("span",{className:b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"}))),h.a.createElement("div",{className:b.a.socialprofileLoadinglist},h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement(S.Container,{alignBox:"row",className:b.a.SocialLineRightDiv+" "+b.a.socialprofilelistCirc},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement(S.Box,{flexible:!0,className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))))),h.a.createElement("div",{className:b.a.socialprofileLoadinglist},h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialprofilelistCirc},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement(S.Box,{flexible:!0,className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))))),h.a.createElement("div",{className:b.a.socialprofileLoadinglist},h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement(S.Container,{alignBox:"row",className:b.a.socialprofilelistCirc},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement(S.Box,{flexible:!0,className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))))))}}]),t}(m.Component),x=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:b.a.SocialRtSiteLoadAnimateDiv},h.a.createElement("div",{className:b.a.portalcustomisationanimatedbackground+" "+b.a.SocialLoadTitle},h.a.createElement(y.a,{size:"default"})),h.a.createElement(S.Container,{alignBox:"row"},h.a.createElement("div",{className:b.a.SocialCircleLeft+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"large",shape:"circle"})),h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground},h.a.createElement(y.a,{size:"default"})))),h.a.createElement("div",{className:b.a.SocialLineRight},h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground+" "+b.a.LoadRtMar+" "+b.a.mt50},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground+" "+b.a.LoadRtMar},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialLineRightDiv+" "+b.a.portalcustomisationanimatedbackground+" "+b.a.LoadRtMar},h.a.createElement(y.a,{size:"default"}))))}}]),t}(m.Component),P=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:b.a.SocialSetupLoader},h.a.createElement("div",{className:b.a.SocialSetupLoaderHeader+" "+b.a.SocialGettingLoaderHeader},h.a.createElement("div",{className:b.a.SocialSetupLoaderBtn},h.a.createElement("span",{className:b.a.SocialSetupLoaderHeaderdiv},h.a.createElement(y.a,{size:"default",palette:"secondary"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderHeaderdiv},h.a.createElement(y.a,{size:"default"}))),h.a.createElement("div",{className:b.a.SocialSetupLoaderHeaderdiv+" "+b.a.w250},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderHeaderdiv+" "+b.a.w200},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderHeaderspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderHeaderspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderBtnbtm},h.a.createElement("span",{className:b.a.SocialSetupLoaderHeaderdiv},h.a.createElement(y.a,{size:"default"})))),h.a.createElement("div",{className:b.a.SocialSetupLoaderMain},h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"}))))}}]),t}(m.Component),T=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:b.a.SocialSetupLoaderMain},h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"})),h.a.createElement("div",{className:b.a.SocialSetupLoaderMaindiv},h.a.createElement(y.a,{size:"default"})),h.a.createElement("span",{className:b.a.SocialSetupLoaderMainspan},h.a.createElement(y.a,{size:"default"})))}}]),t}(m.Component);C.propTypes={animateCount:g.a.string,loadingFor:g.a.string},E.propTypes={animateCount:g.a.string,loadingFor:g.a.string},D.propTypes={loadingFor:g.a.string}},"./src/components/Social/MessageConatiner/MessageConatiner.module.css":function(e,t,a){e.exports={attachspan:"zd-messageconatiner-attachspan",imageDiv:"zd-messageconatiner-imageDiv",upldboxes:"zd-messageconatiner-upldboxes",fileclose:"zd-messageconatiner-fileclose",tal:"zd-messageconatiner-tal",iconclosee:"zd-messageconatiner-iconclosee",imagePreview:"zd-messageconatiner-imagePreview",SocialFullViewMessageConversationTime:"zd-messageconatiner-SocialFullViewMessageConversationTime",SocialUserPhoto:"zd-messageconatiner-SocialUserPhoto",SocialFullViewMessageTxt:"zd-messageconatiner-SocialFullViewMessageTxt",msgconversationlinew:"zd-messageconatiner-msgconversationlinew",rubberBand:"zd-messageconatiner-rubberBand",messageUl:"zd-messageconatiner-messageUl",SocialDedailImgDiv:"zd-messageconatiner-SocialDedailImgDiv",texttime:"zd-messageconatiner-texttime",SocialFullViewMessageConversationRight:"zd-messageconatiner-SocialFullViewMessageConversationRight zd6a964a11a5 zdfae2ecc1ac",msgtextDiv:"zd-messageconatiner-msgtextDiv",msgResendTextDiv:"zd-messageconatiner-msgResendTextDiv",messgeviewdiv:"zd-messageconatiner-messgeviewdiv",msgsendTextDiv:"zd-messageconatiner-msgsendTextDiv",svLoadNewDiv:"zd-messageconatiner-svLoadNewDiv zde07a357202",spinloading:"zd-messageconatiner-spinloading",rotate:"zd-messageconatiner-rotate",SocialsvgIcon:"zd-messageconatiner-SocialsvgIcon",MsgResendIcon:"zd-messageconatiner-MsgResendIcon",container:"zd-messageconatiner-container",SocialFullViewMessageHead:"zd-messageconatiner-SocialFullViewMessageHead",SocialFullViewMessageConversation:"zd-messageconatiner-SocialFullViewMessageConversation",footer:"zd-messageconatiner-footer",textAreaUserPhoto:"zd-messageconatiner-textAreaUserPhoto",msglen:"zd-messageconatiner-msglen",msglenerr:"zd-messageconatiner-msglenerr",msglendef:"zd-messageconatiner-msglendef",textareaTag:"zd-messageconatiner-textareaTag",SocialPostSmily:"zd-messageconatiner-SocialPostSmily",NewPostAttach:"zd-messageconatiner-NewPostAttach",camera:"zd-messageconatiner-camera",inpFile:"zd-messageconatiner-inpFile",SendIconDiv:"zd-messageconatiner-SendIconDiv",svLoadpnt:"zd-messageconatiner-svLoadpnt zde07a357202",atchimgfle:"zd-messageconatiner-atchimgfle zda1b8d8ce9f zdcded585cf4",SocialAttachLayer:"zd-messageconatiner-SocialAttachLayer",sendIconfb:"zd-messageconatiner-sendIconfb",sendIconcolorfb:"zd-messageconatiner-sendIconcolorfb",sendIconcolortwitter:"zd-messageconatiner-sendIconcolortwitter",sendIcontwitter:"zd-messageconatiner-sendIcontwitter",SocialFullViewMessageCon:"zd-messageconatiner-SocialFullViewMessageCon zd26201135e6 zdcded585cf4",SocialFullViewMessageConversationLeft:"zd-messageconatiner-SocialFullViewMessageConversationLeft zd6a964a11a5",msgconversationli:"zd-messageconatiner-msgconversationli zd6a964a11a5",msgconversationlisameuser:"zd-messageconatiner-msgconversationlisameuser",msgconversationlinewsort:"zd-messageconatiner-msgconversationlinewsort"}},"./src/components/Social/MessageConatiner/MsgTextEmojis.js":function(e,t,a){"use strict";function n(){return{names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":(":"cry",":-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"&#x1f642;",smile:"&#x1f60a;",frown:"&#x1f61e;",winktongue:"&#x1f61c;",poop:"&#x1f4a9;",tongue:"&#x1f61b;",slightgrin:"&#x1f600;",grin:"&#x1f603;",gasp:"&#x1f62e;",wink:"&#x1f609;",glasses:"&#x1f60e;",grumpy:"&#x1f620;",unsure:"&#x1f615;",cry:"&#x1f622;",devil:"&#x1f608;",angel:"&#x1f607;",kiss:"&#x1f617;",winkkiss:"&#x1f618;",heart:"&hearts;",kiki:"&#x1f60a;",expressionless:"&#x1f611;",squint:"&#x1f610;",upset:"&#x1f620;",persevere:"&#x1f623;",penguin:"&#x1f427;",flushface:"&#x1f633;",crying:"&#x1f62d;",flushkiss:"&#x1f61a;",sweating:"&#x1f613;",like:"&#x1f44d",dislike:"&#x1f44e;"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"}}}a.d(t,"a",function(){return n})},"./src/components/Social/MessageContactHeader/MessageContactHeader.css":function(e,t,a){e.exports={SocialDedailsDiv:"zd-messagecontactheader-SocialDedailsDiv",posrel:"zd-messagecontactheader-posrel",SocialDedailtopatag:"zd-messagecontactheader-SocialDedailtopatag",NewTapTicket:"zd-messagecontactheader-NewTapTicket",NewTapTicketIcon:"zd-messagecontactheader-NewTapTicketIcon",depidnoaccess:"zd-messagecontactheader-depidnoaccess",SocialDedailMessage:"zd-messagecontactheader-SocialDedailMessage zd6063afa107",posab:"zd-messagecontactheader-posab",newtktcnt:"zd-messagecontactheader-newtktcnt",notify:"zd-messagecontactheader-notify"}},"./src/components/Social/NewPostContainer/NewPostContainer.module.css":function(e,t,a){e.exports={container:"zd-newpostcontainer-container",header:"zd-newpostcontainer-header",textArea:"zd-newpostcontainer-textArea",count:"zd-newpostcontainer-count",attachments:"zd-newpostcontainer-attachments zd26201135e6 zdcded585cf4",attachment:"zd-newpostcontainer-attachment",closeIconContainer:"zd-newpostcontainer-closeIconContainer",closeIcon:"zd-newpostcontainer-closeIcon",image:"zd-newpostcontainer-image",footer:"zd-newpostcontainer-footer",buttonContainer:"zd-newpostcontainer-buttonContainer",hide:"zd-newpostcontainer-hide",camera:"zd-newpostcontainer-camera",fbBtn:"zd-newpostcontainer-fbBtn zd-buttonwithicon-fbBtn",twBtn:"zd-newpostcontainer-twBtn zd-buttonwithicon-twBtn",errorMessage:"zd-newpostcontainer-errorMessage",rubberBand:"zd-newpostcontainer-rubberBand"}},"./src/components/Social/PostView/PostView.module.css":function(e,t,a){e.exports={attachatag:"zd-postview-attachatag",attachspan1:"zd-postview-attachspan1 zd391bc5a95f",wh100:"zd-postview-wh100",upldboxes:"zd-postview-upldboxes",fileclose:"zd-postview-fileclose",itag:"zd-postview-itag",imagePreview:"zd-postview-imagePreview",SocialUserPhoto:"zd-postview-SocialUserPhoto",ml50:"zd-postview-ml50",posrel:"zd-postview-posrel",SocialDedailtopatag:"zd-postview-SocialDedailtopatag",fbcolor:"zd-postview-fbcolor",twicolor:"zd-postview-twicolor",fbContainer:"zd-postview-fbContainer",twiContainer:"zd-postview-twiContainer",SocialDedailbottom:"zd-postview-SocialDedailbottom",TweetCmnt:"zd-postview-TweetCmnt",SocialRightBdr:"zd-postview-SocialRightBdr",iconInfo:"zd-postview-iconInfo",SocialFullViewMain:"zd-postview-SocialFullViewMain zdcef62dc1e6 zde09903aedc zdcded585cf4",SocialDedail:"zd-postview-SocialDedail",SocialDedailviews:"zd-postview-SocialDedailviews",ml55:"zd-postview-ml55",mr60:"zd-postview-mr60",NewTapTicket:"zd-postview-NewTapTicket",NewTapTicketIcon:"zd-postview-NewTapTicketIcon",SocialDedailAns:"zd-postview-SocialDedailAns",SocialcontainerFooter:"zd-postview-SocialcontainerFooter",IconHoverFb:"zd-postview-IconHoverFb",liked:"zd-postview-liked",NewLikeSvg:"zd-postview-NewLikeSvg",curdefault:"zd-postview-curdefault",SocialLikeresult:"zd-postview-SocialLikeresult",FBLikecircle:"zd-postview-FBLikecircle",HoverTwitLike:"zd-postview-HoverTwitLike",twitIconposition:"zd-postview-twitIconposition",SocialDedailComments:"zd-postview-SocialDedailComments",SocialCommentsWrite:"zd-postview-SocialCommentsWrite",NewPostAttach:"zd-postview-NewPostAttach",photoImage:"zd-postview-photoImage",inpFile:"zd-postview-inpFile",textareaTag:"zd-postview-textareaTag",SocialAttachLayer:"zd-postview-SocialAttachLayer",atchimgfle:"zd-postview-atchimgfle zda1b8d8ce9f zdcded585cf4",TextLenghtCount:"zd-postview-TextLenghtCount",SocialCommentType:"zd-postview-SocialCommentType zd55aafb17fe",btnCont:"zd-postview-btnCont",DMsgSpan:"zd-postview-DMsgSpan",twBtn:"zd-postview-twBtn zd-buttonwithicon-twBtn",fbBtn:"zd-postview-fbBtn zd-buttonwithicon-fbBtn",SocialCommentListingDiv:"zd-postview-SocialCommentListingDiv",SocialCommentListing:"zd-postview-SocialCommentListing",SocialLikeCmdShare:"zd-postview-SocialLikeCmdShare",footerspan:"zd-postview-footerspan",twiReply:"zd-postview-twiReply",twiRetweet:"zd-postview-twiRetweet",twiLike:"zd-postview-twiLike",iconicsocialfbpost:"zd-postview-iconicsocialfbpost",SocialCommentTextArea:"zd-postview-SocialCommentTextArea",SocialPostSmily:"zd-postview-SocialPostSmily",SocialUserComment:"zd-postview-SocialUserComment",SocialTweetListing:"zd-postview-SocialTweetListing",notLiked:"zd-postview-notLiked",twinotLike:"zd-postview-twinotLike",SocialDedailHead:"zd-postview-SocialDedailHead",TweetCmntMore:"zd-postview-TweetCmntMore",TweetMoreIcn:"zd-postview-TweetMoreIcn",twinotLiked:"zd-postview-twinotLiked",Retwitoff:"zd-postview-Retwitoff",Retwit:"zd-postview-Retwit",iconclosee:"zd-postview-iconclosee",SocialTwitterMainDiv:"zd-postview-SocialTwitterMainDiv",Topfour:"zd-postview-Topfour",depidnoaccess:"zd-postview-depidnoaccess",rdobtn:"zd-postview-rdobtn"}},"./src/components/Social/ProfileInforLIComponent/ProfileInforLIComponent.module.css":function(e,t,a){e.exports={SocialUserAddress:"zd-profileinforlicomponent-SocialUserAddress",mb30:"zd-profileinforlicomponent-mb30",SocialUserinfo:"zd-profileinforlicomponent-SocialUserinfo",itag:"zd-profileinforlicomponent-itag",Socialinfocontent:"zd-profileinforlicomponent-Socialinfocontent",SocialinfocontentLeft:"zd-profileinforlicomponent-SocialinfocontentLeft"}},"./src/components/Social/SocialHeader/SocialHeader.module.css":function(e,t,a){e.exports={iconicsocialallfeeds:"zd-socialheader-iconicsocialallfeeds",iconicsocialprofilenormal:"zd-socialheader-iconicsocialprofilenormal",iconvisitorPost:"zd-socialheader-iconvisitorPost",container:"zd-socialheader-container zd934260ce09",socialrightpanelleft:"zd-socialheader-socialrightpanelleft zdcef62dc1e6",w100:"zd-socialheader-w100",socialcheckbox:"zd-socialheader-socialcheckbox",socialTopName:"zd-socialheader-socialTopName zd6063afa107",filtercontentDiv:"zd-socialheader-filtercontentDiv",zssolfilterspan:"zd-socialheader-zssolfilterspan",filtertxtvalue:"zd-socialheader-filtertxtvalue",TwitRefreshsvgIcon:"zd-socialheader-TwitRefreshsvgIcon",filtClose:"zd-socialheader-filtClose",socialsearchfeed:"zd-socialheader-socialsearchfeed",iconicsocialsearch2:"zd-socialheader-iconicsocialsearch2",SearchcloseIcon:"zd-socialheader-SearchcloseIcon",input:"zd-socialheader-input",socialTopRightBtn:"zd-socialheader-socialTopRightBtn",socialfeedCate:"zd-socialheader-socialfeedCate",cursor:"zd-socialheader-cursor",iconicsocialarrowfill:"zd-socialheader-iconicsocialarrowfill",suggestionul:"zd-socialheader-suggestionul",fz2c0GP:"zd-socialheader-fz2c0GP",socialNewFilterIcon:"zd-socialheader-socialNewFilterIcon",NewFilterIcon:"zd-socialheader-NewFilterIcon",socialPopupDropdown:"zd-socialheader-socialPopupDropdown",FeedsContainerslideUp3hQpW:"zd-socialheader-FeedsContainerslideUp3hQpW",socialFiltDiv:"zd-socialheader-socialFiltDiv",moreact:"zd-socialheader-moreact",btnCont:"zd-socialheader-btnCont",hoverd:"zd-socialheader-hoverd"}},"./src/components/Social/SocialImage/SocialImage.module.css":function(e,t,a){e.exports={stencil:"zd-socialimage-stencil",socialCircleLeft:"zd-socialimage-socialCircleLeft",loadingimg:"zd-socialimage-loadingimg",portalcustomisationanimatedbackground:"zd-socialimage-portalcustomisationanimatedbackground",placeHolderShimmer:"zd-socialimage-placeHolderShimmer"}},"./src/components/Social/SocialPostDetailView/SocialPostDetailView.module.css":function(e,t,a){e.exports={RightTabBtn:"zd-socialpostdetailview-RightTabBtn",SocialRightTabBtn:"zd-socialpostdetailview-SocialRightTabBtn",headerTitleIcon:"zd-socialpostdetailview-headerTitleIcon",messengersvgIcon:"zd-socialpostdetailview-messengersvgIcon",messageBox:"zd-socialpostdetailview-messageBox",wrapperTab:"zd-socialpostdetailview-wrapperTab",tabs:"zd-socialpostdetailview-tabs",tab:"zd-socialpostdetailview-tab",intractionsvg:"zd-socialpostdetailview-intractionsvg",h100:"zd-socialpostdetailview-h100",closeTag:"zd-socialpostdetailview-closeTag",activeTab:"zd-socialpostdetailview-activeTab"}},"./src/components/Social/SocialRightPannel/SocialRightPannel.module.css":function(e,t,a){e.exports={SocialContainersInfo:"zd-socialrightpannel-SocialContainersInfo zd26201135e6 zdcded585cf4",SocialContainersInfoheader:"zd-socialrightpannel-SocialContainersInfoheader",hide:"zd-socialrightpannel-hide"}},"./src/components/Social/SupportCommnetBox/SupportCommnetBox.module.css":function(e,t,a){e.exports={mentions_input_box:"zd-supportcommnetbox-mentions_input_box"}},"./src/components/Social/Unauthorized/Unauthorized.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("./src/fz-i18n/index.js"),b=a("./src/components/Social/Unauthorized/Unauthorized.module.css"),w=a.n(b),y=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),S=a.n(y),k=a("./src/components/Link/Link.js"),C=a("../components/lib/Layout/index.js"),I=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.errorFor,a=e.errorCase,n="";switch(t){case"url":n="support.access.data.error";break;case"user":n="support.access.user.error";break;case"edition":n="support.access.user.edition.error";break;case"socialedition":n="support.access.user.socialedition.error";break;default:n="support.access.user.error"}n=v.h.getI18NValue(n,a);return h.a.createElement("div",{className:w.a.container,"data-id":"unauthorizedWrapper"},h.a.createElement(C.Container,{alignBox:"row",align:"vertical"},h.a.createElement(S.a,{name:"ZD-exclamationLightborder",iconClass:w.a.alertIcon,size:"sizeinherit"}),h.a.createElement("div",{className:w.a.title},v.h.getI18NValue("support.history.operation.label.wfalert"))),h.a.createElement("div",{className:w.a.description},n,-1!=["socialedition"].indexOf(t)&&h.a.createElement("span",null,h.a.createElement(k.a,{className:w.a.link,href:"SupportUI.CurrentPortal.getSubscriptionURL()",target:"_blank"},v.h.getI18NValue("support.social.upgrade.to.enterprise.plan")))),h.a.createElement("div",{className:w.a.line}))}}]),t}(h.a.Component);t.a=I,I.propTypes={errorCase:g.a.string.isRequired,errorFor:g.a.string.isRequired}},"./src/components/Social/UserProfile/UserProfile.module.css":function(e,t,a){e.exports={SocialFullViewProfile:"zd-userprofile-SocialFullViewProfile zd26201135e6 zdcded585cf4",SocialNewUsrPrfle:"zd-userprofile-SocialNewUsrPrfle",SocialUserProfile:"zd-userprofile-SocialUserProfile",SocialUserPhoto:"zd-userprofile-SocialUserPhoto",fbIconWrapperClass:"zd-userprofile-fbIconWrapperClass",twiIconWrapperClass:"zd-userprofile-twiIconWrapperClass",floaticn:"zd-userprofile-floaticn",SocialUserProfileName:"zd-userprofile-SocialUserProfileName",SocialUserFollowbody:"zd-userprofile-SocialUserFollowbody",infotitleText:"zd-userprofile-infotitleText",infotext:"zd-userprofile-infotext",SocialUserAddressDiv:"zd-userprofile-SocialUserAddressDiv",SocialinfoTitles:"zd-userprofile-SocialinfoTitles",SocialOtherinfo:"zd-userprofile-SocialOtherinfo",mb20:"zd-userprofile-mb20",TwitterLoadMoreDiv:"zd-userprofile-TwitterLoadMoreDiv",TwitterLoadMore:"zd-userprofile-TwitterLoadMore",TwitFollowBtn:"zd-userprofile-TwitFollowBtn",twBtn:"zd-userprofile-twBtn zd-buttonwithicon-twBtn",timelineerror:"zd-userprofile-timelineerror",pname:"zd-userprofile-pname",fbclr:"zd-userprofile-fbclr",twiclr:"zd-userprofile-twiclr"}},"./src/components/Social/socialCommon.js":function(e,t,a){"use strict";(function(e){a.d(t,"i",function(){return g}),a.d(t,"j",function(){return v}),a.d(t,"e",function(){return b}),a.d(t,"g",function(){return w}),a.d(t,"o",function(){return y}),a.d(t,"f",function(){return S}),a.d(t,"p",function(){return k}),a.d(t,"a",function(){return C}),a.d(t,"l",function(){return I}),a.d(t,"k",function(){return E}),a.d(t,"m",function(){return N}),a.d(t,"b",function(){return P}),a.d(t,"c",function(){return T}),a.d(t,"d",function(){return A}),a.d(t,"n",function(){return _}),a.d(t,"h",function(){return F});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),l=a.n(r),c=a("./src/components/Social/socialCommon.module.css"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),p=a.n(u),m=a("./src/fz-i18n/index.js"),h=a("./src/components/ExternalLink/ExternalLink.js"),f=a("./src/components/Social/MessageConatiner/MsgTextEmojis.js");function g(e,t){var a=new Date(e);return t=void 0===t?new Date:t,(new Date(t)-a)/1e3}function v(e,t){var a,n,o,i;if(1===(a=e,n=t,o=Date.parse(a),i=Date.parse(n)-o,Math.floor(i/864e5)))return!0}function b(e,t,a,n,o,i){return e=void 0===e?new Date:e,m.h.userDateFormat(e,t,a,n,o,i)}function w(e){var t=(e=void 0===e?"":e).split(" ").join(""),a="";return 0===t.length?a:a=1===t.length?t[0]:""+t[0]+t[1]}function y(e,t,a,n,o){if("departments"!==e){var i=a.paramMap,s=i.deptName,r=i.orgName,l=i.setupModule,c=i.moduleName,d=l;"module"===e&&(d=c);var u="/"+r+"/"+s+"/setup/"+d+"/brands",p=void 0;switch(t="configBrand"===t||"listView"===t?"home":t){case"home":p=u;break;case"createBrand":p=u+"/new";break;case"importBrand":p=u+"/import";break;case"dViewfacebook":p=u+"/"+o+"/facebook";break;case"dViewtwitter":p=u+"/"+o+"/twitter";break;case"dViewInfoBrand":p=u+"/"+o+"/info";break;case"dVieweditBrand":p=u+"/"+o+"/edit";break;case"moduleSocial":p="Socials";break;default:p=u}n({pathname:p})}}function S(e){return e=void 0===e?(new Date).getTime():new Date(e),m.h.userDateFormat(e,{today:{key:"today",params:["hh","mm","ss"]},yesterday:{key:"yesterday",params:["hh","mm","ss"]},tomorrow:{key:"tomorrow",params:["hh","mm","ss"]},others:function(){return"hh mm a"}},"ago","later",!1,function(){return"DD MMM YYYY hh:mm a"})}function k(){return p.a.createElement("div",{className:d.a.hide},p.a.createElement("svg",null,p.a.createElement("symbol",{viewBox:"0 0 26 26",id:"sendMsgIcon"},p.a.createElement("path",{d:"M21.928,4.735c-0.09-0.06-0.18-0.09-0.3-0.03L4.18,12.813C4.06,12.843,4,12.933,4,13.053c0,0.09,0.06,0.21,0.15,0.24 l4.955,2.432c0.09,0.03,0.21,0.03,0.27-0.03l4.805-3.604l-3.754,3.874c-0.06,0.06-0.09,0.12-0.09,0.21l0.36,4.865 c0.03,0.27,0.36,0.39,0.541,0.18l2.583-3.033l3.243,1.562c0.06,0.03,0.15,0.03,0.21,0s0.12-0.09,0.15-0.18l4.565-14.565 C22.018,4.915,21.988,4.795,21.928,4.735z"})),p.a.createElement("symbol",{viewBox:"0 0 32 32",id:"MsgResend"},p.a.createElement("g",null,p.a.createElement("path",{d:"M18.143,3.143C11.043,3.143,5.286,8.9,5.286,16H1l5.715,5.714L12.429,16H8.143c0-5.521,4.479-10,10-10s10,4.479,10,10 s-4.479,10-10,10c-2.164,0-4.157-0.693-5.8-1.864l-2.022,2.05c2.172,1.671,4.878,2.671,7.821,2.671C25.243,28.857,31,23.1,31,16 S25.243,3.143,18.143,3.143L18.143,3.143z"}))),p.a.createElement("symbol",{viewBox:"0 0 32 32",id:"AddContactIcon"},p.a.createElement("path",{d:"M16.938,24.602c0-2.448,1.259-4.6,3.163-5.851h-9.479c-4.147,0-7.509,3.362-7.509,7.509v1.342c0,1.657,1.343,3,3,3h14.233 C18.307,29.379,16.938,27.153,16.938,24.602z M16,1.398c-4.171,0-7.552,3.381-7.552,7.552s3.381,7.552,7.552,7.552 s7.552-3.381,7.552-7.552S20.171,1.398,16,1.398z"}),p.a.createElement("path",{d:"M23.938,19.102c-3.038,0-5.5,2.462-5.5,5.5s2.462,5.5,5.5,5.5s5.5-2.462,5.5-5.5S26.975,19.102,23.938,19.102z M26.25,25.061h-1.854v1.854c0,0.253-0.205,0.458-0.458,0.458s-0.458-0.205-0.458-0.458v-1.854h-1.854 c-0.253,0-0.458-0.205-0.458-0.458c0-0.253,0.205-0.458,0.458-0.458h1.854V22.29c0-0.253,0.205-0.458,0.458-0.458 s0.458,0.205,0.458,0.458v1.854h1.854c0.253,0,0.458,0.205,0.458,0.458C26.708,24.856,26.503,25.061,26.25,25.061z"})),p.a.createElement("symbol",{className:d.a.SocialsvgIcon,id:"messenger",x:"0px",y:"0px",viewBox:"0 0 16 16"},p.a.createElement("path",{d:"M8,1C4.134,1,1,3.901,1,7.481c0,2.04,1.018,3.859,2.608,5.047V15l2.383-1.308c0.636,0.176,1.31,0.271,2.008,0.271 c3.866,0,7-2.902,7-6.481C15,3.901,11.866,1,8,1z M8.696,9.728L6.913,7.827L3.435,9.728l3.826-4.062l1.826,1.901l3.435-1.901 L8.696,9.728z"})),p.a.createElement("symbol",{id:"SLike",viewBox:"0 0 32 32"},p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("path",{d:"M18.368,31c-1.696,0.001-3.36-0.268-4.994-0.531l-1.037-0.165c-1.702-0.262-3.16-0.786-4.336-1.558 c-0.555-0.366-0.885-0.99-0.885-1.67V14.897c0-1.124,0.512-2.212,1.402-2.986c0.029-0.027,4.76-4.41,6.076-9.205 c0.359-1.308,1.841-1.992,3.446-1.593c1.794,0.446,3.428,2.264,2.772,5.197c-0.356,1.485-0.463,3.407-0.059,3.927 c0.029,0.038,0.042,0.053,0.13,0.055l0,0c1.382,0.022,2.735,0.066,4.089,0.365c2.877,0.632,4.137,2.31,3.745,4.987 c-0.537,3.67-1.38,7.437-2.501,11.193c-0.722,2.414-2.8,3.265-4.3,3.696C20.718,30.874,19.534,31,18.368,31z M17.138,2.964 c-0.348,0-0.611,0.112-0.652,0.262c-1.468,5.346-6.45,9.957-6.662,10.15C9.337,13.8,9.08,14.335,9.08,14.897v12.177 c0.938,0.646,2.135,1.07,3.558,1.29l1.051,0.167c2.657,0.426,5.166,0.833,7.687,0.112c1.726-0.496,2.612-1.203,2.959-2.369 c1.096-3.666,1.916-7.339,2.441-10.917c0.206-1.408-0.091-2.315-2.225-2.784c-1.176-0.259-2.371-0.297-3.698-0.318l0,0 c-0.674-0.011-1.245-0.293-1.65-0.816c-1.194-1.544-0.46-4.912-0.301-5.573c0.393-1.754-0.432-2.624-1.335-2.849 C17.416,2.98,17.272,2.964,17.138,2.964z"})),p.a.createElement("g",null,p.a.createElement("rect",{x:"3.213",y:"13.954",width:"1.963",height:"14.535"})))))),p.a.createElement("symbol",{id:"SComment",viewBox:"0 0 32 32"},p.a.createElement("path",{d:"M25.463,4.041c1.35,0,2.444,1.095,2.444,2.447V19.73c0,1.351-1.095,2.447-2.444,2.447H14.092L9.13,25.91v-3.733H6.537 c-1.349,0-2.444-1.095-2.444-2.444V6.489c0-1.352,1.095-2.447,2.444-2.447H25.463 M25.463,2H6.537C4.063,2,2.051,4.014,2.051,6.489 v13.243c0,2.473,2.012,4.486,4.486,4.486h0.552v1.692V30l3.269-2.459l4.417-3.323h10.689c2.473,0,4.486-2.013,4.486-4.488V6.489 C29.949,4.014,27.937,2,25.463,2L25.463,2z"})),p.a.createElement("symbol",{id:"SLikeFill",viewBox:"0 0 32 32"},p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("path",{d:"M18.368,31c-1.696,0.001-3.36-0.268-4.994-0.531l-1.037-0.165c-1.702-0.262-3.16-0.786-4.336-1.558 c-0.555-0.366-0.885-0.99-0.885-1.67V14.897c0-1.124,0.512-2.212,1.402-2.986c0.029-0.027,4.76-4.41,6.076-9.205 c0.359-1.308,1.841-1.992,3.446-1.593c1.794,0.446,3.428,2.264,2.772,5.197c-0.356,1.485-0.463,3.407-0.059,3.927 c0.029,0.038,0.042,0.053,0.13,0.055l0,0c1.382,0.022,2.735,0.066,4.089,0.365c2.877,0.632,4.137,2.31,3.745,4.987 c-0.537,3.67-1.38,7.437-2.501,11.193c-0.722,2.414-2.8,3.265-4.3,3.696C20.718,30.874,19.534,31,18.368,31z"})),p.a.createElement("g",null,p.a.createElement("rect",{x:"3.213",y:"13.954",width:"1.963",height:"14.535"})))))),p.a.createElement("symbol",{id:"SCommentTime",viewBox:"0 0 32 32"},p.a.createElement("g",null,p.a.createElement("g",null,p.a.createElement("polygon",{points:"10.497,19.919 9.28,18.703 13.043,14.94 13.043,8.595 14.763,8.595 14.763,15.653 \t\t"})),p.a.createElement("path",{d:"M14.73,26.437c-0.274,0.02-0.548,0.042-0.827,0.042c-6.166,0-11.183-5.017-11.183-11.183S7.737,4.114,13.903,4.114 c5.579,0,10.204,4.112,11.036,9.462h1.738C25.832,7.273,20.434,2.393,13.903,2.393C6.788,2.393,1,8.181,1,15.296 S6.788,28.2,13.903,28.2c0.619,0,1.224-0.059,1.82-0.144C15.272,27.609,14.928,27.056,14.73,26.437z"}),p.a.createElement("g",null,p.a.createElement("path",{d:"M19.684,29.607v-2.641h-0.74c-1.075,0-1.95-0.875-1.95-1.951v-7.071c0-1.076,0.874-1.952,1.95-1.952h10.106 c1.075,0,1.951,0.876,1.951,1.952v7.07c0,1.076-0.875,1.951-1.951,1.951h-5.856L19.684,29.607z M18.944,17.282 c-0.364,0-0.659,0.297-0.659,0.662v7.071c0,0.364,0.296,0.66,0.659,0.66h2.03v1.346l1.788-1.346h6.288 c0.364,0,0.66-0.297,0.66-0.661v-7.07c0-0.365-0.297-0.662-0.66-0.662H18.944z"})))),p.a.createElement("symbol",{id:"STicketId_Icon",viewBox:"0 0 32 32"},p.a.createElement("g",null,p.a.createElement("path",{d:"M16.475,10.842l0.969,0.966l0.967-0.966l-0.967-0.966L16.475,10.842z M18.332,12.699l0.969,0.967l0.967-0.967l-0.967-0.966 L18.332,12.699z M20.192,14.557l0.966,0.966l0.969-0.966l-0.969-0.969L20.192,14.557z M23.312,17.083l0.668-0.67l-0.966-0.969 l-0.966,0.969l0.793,0.795C22.991,17.141,23.152,17.123,23.312,17.083z M26.688,9.213l-0.485,0.485 c-0.529,0.531-1.236,0.822-1.993,0.822c-0.755,0-1.461-0.291-1.991-0.822c-1.098-1.1-1.098-2.887,0-3.983l0.485-0.487L18.475,1 L1,18.477l4.228,4.228l0.485-0.483c0.531-0.531,1.238-0.824,1.993-0.824c0.753,0,1.461,0.293,1.989,0.824 c0.533,0.531,0.826,1.24,0.826,1.991c0,0.753-0.293,1.461-0.826,1.993L9.211,26.69L13.523,31l2.549-2.549 c-0.192-0.114-0.394-0.21-0.553-0.368c-0.177-0.18-0.286-0.398-0.405-0.609l-1.591,1.591l-2.414-2.414l0.088-0.129 c1.092-1.653,0.869-3.87-0.533-5.27c-0.788-0.788-1.84-1.225-2.96-1.225c-0.826,0-1.624,0.24-2.308,0.692l-0.129,0.088l-2.332-2.33 l15.54-15.54l2.33,2.33l-0.088,0.13c-1.094,1.652-0.871,3.868,0.531,5.268c0.794,0.79,1.845,1.227,2.962,1.227 c0.826,0,1.624-0.24,2.306-0.693l0.13-0.088l2.416,2.414l-3.818,3.818c0.212,0.12,0.43,0.23,0.606,0.406 c0.163,0.166,0.254,0.367,0.365,0.559L31,13.525L26.688,9.213z M17.791,15.174l-0.967-0.967l-5.094,5.096l0.967,0.967 L17.791,15.174z M14.617,8.986l0.969,0.966l0.967-0.966l-0.967-0.967L14.617,8.986z M9.252,16.828l0.969,0.966l5.093-5.094 l-0.966-0.967L9.252,16.828z"}),p.a.createElement("g",null,p.a.createElement("path",{d:"M21,17.971c-3.033,0-5.5,2.467-5.5,5.5c0,3.033,2.467,5.5,5.5,5.5s5.5-2.467,5.5-5.5C26.5,20.438,24.033,17.971,21,17.971 L21,17.971z M24.158,22.542l-3.456,3.455c-0.147,0.147-0.342,0.228-0.55,0.228c-0.208,0-0.403-0.081-0.55-0.228l-1.761-1.761 c-0.147-0.147-0.228-0.342-0.228-0.55c0-0.208,0.081-0.403,0.228-0.55c0.147-0.147,0.342-0.228,0.55-0.228 c0.208,0,0.403,0.081,0.55,0.228l1.211,1.211l2.905-2.905c0.147-0.147,0.342-0.228,0.55-0.228c0.208,0,0.403,0.081,0.55,0.228 C24.462,21.745,24.462,22.238,24.158,22.542L24.158,22.542z M24.158,22.542"})))),p.a.createElement("symbol",{id:"FBnewshare",viewBox:"0 0 32 32"},p.a.createElement("g",null,p.a.createElement("path",{d:"M3.414,28.994c-0.042,0-0.083-0.004-0.125-0.013c-0.276-0.055-0.486-0.28-0.52-0.56C2.75,28.266,1.075,12.919,17.505,9.846 V3.657c0-0.267,0.163-0.507,0.412-0.604c0.248-0.098,0.531-0.034,0.713,0.161l10.492,11.222c0.233,0.25,0.233,0.638,0,0.888 L18.63,26.542c-0.182,0.194-0.465,0.257-0.713,0.16c-0.249-0.098-0.412-0.338-0.412-0.604v-6.273 c-0.129-0.011-0.307-0.018-0.548-0.018c-2.995,0-8.664,1.15-12.976,8.854C3.865,28.869,3.646,28.994,3.414,28.994z M18.806,5.304 v5.087c0,0.318-0.23,0.589-0.544,0.641C5.982,13.079,4.168,21.998,4.002,26.147c4.465-6.597,9.94-7.642,12.955-7.642 c1.097,0,1.54,0.126,1.756,0.497c0.062,0.106,0.092,0.235,0.09,0.364h0.003v5.084l8.952-9.573L18.806,5.304z"}))),p.a.createElement("symbol",{id:"ticketOnly",viewBox:"0 0 22 22"},p.a.createElement("path",{d:"M13.527,11.722l0.542,0.542l0.542-0.542l-0.542-0.542L13.527,11.722z M10.097,14.069l0.542,0.542l1.354-1.354l-0.542-0.542 L10.097,14.069z M11.361,10.639l-2.347,2.347l0.542,0.542l2.347-2.347L11.361,10.639z M13.257,10.368l-0.542,0.542l0.542,0.542 l0.542-0.542L13.257,10.368z M12.444,9.555l-0.542,0.542l0.542,0.542l0.542-0.542L12.444,9.555z M11.632,9.826l0.542-0.542 l-0.542-0.542L11.09,9.285L11.632,9.826z M15.676,8.454l-0.271,0.271c-0.448,0.448-1.177,0.448-1.625,0 c-0.448-0.448-0.448-1.177,0-1.625l0.271-0.271l-1.968-1.968L4.32,12.625l1.968,1.968l0.271-0.271c0.448-0.448,1.177-0.448,1.625,0 c0.448,0.448,0.448,1.177,0,1.625l-0.271,0.271l2.004,2.004l7.763-7.763L15.676,8.454z M8.969,16.19 c0.491-0.743,0.41-1.756-0.244-2.41s-1.667-0.735-2.41-0.244l-0.912-0.912l6.68-6.68l0.912,0.912 c-0.491,0.743-0.41,1.756,0.244,2.41c0.654,0.654,1.667,0.735,2.41,0.244l0.948,0.948l-6.68,6.68L8.969,16.19z M10.278,9.555 l-2.347,2.347l0.542,0.542l2.347-2.347L10.278,9.555z M11.361,8.472l-0.542-0.542l-0.542,0.542l0.542,0.542L11.361,8.472z"})),p.a.createElement("symbol",{id:"ArrowOnly",viewBox:"0 0 22 22"},p.a.createElement("path",{d:"M20.975,10.289c-0.021-0.29-0.265-0.51-0.562-0.487c-0.29,0.021-0.508,0.272-0.487,0.562 c0.102,1.425-0.133,2.818-0.696,4.14c-1.934,4.538-7.202,6.656-11.738,4.723c-4.538-1.934-6.657-7.2-4.723-11.738 c1.933-4.538,7.198-6.656,11.738-4.722c0.425,0.181,0.828,0.405,1.219,0.648l-1.274,1.253l4.551,1.261l-1.183-4.572l-1.327,1.305 c-0.5-0.328-1.02-0.628-1.573-0.863C9.847-0.362,3.961,2.005,1.8,7.077c-2.162,5.072,0.207,10.957,5.279,13.119 c1.26,0.537,2.589,0.806,3.918,0.806c1.263,0,2.527-0.243,3.734-0.728c2.477-0.997,4.419-2.9,5.466-5.356 C20.818,13.461,21.088,11.86,20.975,10.289z"})),p.a.createElement("symbol",{id:"interactionsvg",viewBox:"0 0 32 32"},p.a.createElement("path",{d:"M17.83,31c-0.225,0-0.444-0.071-0.634-0.204l-9.268-6.742l9.263-6.738c0.188-0.138,0.41-0.21,0.641-0.21 c0.349,0,0.678,0.168,0.88,0.451c0.171,0.232,0.241,0.521,0.195,0.81c-0.045,0.288-0.202,0.541-0.439,0.711l-5.34,3.885h7.633 c4.244,0,7.696-3.452,7.696-7.697c0-0.601,0.488-1.091,1.086-1.091c0.601,0,1.091,0.49,1.091,1.091c0,5.446-4.428,9.878-9.873,9.878 h-7.633l5.342,3.887c0.235,0.167,0.39,0.418,0.437,0.706c0.045,0.288-0.024,0.576-0.197,0.812C18.508,30.834,18.185,31,17.83,31z M2.457,17.823c-0.601,0-1.091-0.49-1.091-1.091c0-5.446,4.428-9.878,9.873-9.878h7.637L13.53,2.967 c-0.235-0.17-0.39-0.422-0.436-0.71c-0.045-0.287,0.023-0.573,0.195-0.808C13.492,1.168,13.822,1,14.17,1 c0.23,0,0.45,0.071,0.638,0.205l9.268,6.739l-9.266,6.738c-0.178,0.134-0.401,0.207-0.638,0.207c-0.35,0-0.68-0.167-0.884-0.447 c-0.171-0.234-0.241-0.523-0.195-0.811c0.045-0.288,0.202-0.541,0.439-0.711l5.343-3.885h-7.637c-4.242,0-7.693,3.452-7.693,7.697 C3.546,17.333,3.058,17.823,2.457,17.823z"}))))}function C(e){var t=e.attachedData,a=e.attachedFilesArray,n=e.limit,o=e.files,i=o.length+t.length,r=!0;if(t.length<n&&i<=n){o.length;t=l()([],t);for(var c=0,d=o.length;c<d;c++){var u=o[c],p=URL.createObjectURL(u),m={id:(new Date).getTime()+c,href:p,name:u.name};t.push(m)}a=l()([],a),a=[].concat(s()(a),s()(o)),r=!1}return{attachedData:t,attachedFilesArray:a,showPop:r}}function I(e){var t=e.attachedData,a=e.attachedFilesArray,n=e.aId,o=[],i=[],s=[];return t.filter(function(e,t){var a=e.id;e.href;a!=n&&(o.push(e),s.push(t))}),a.filter(function(e,t){s.map(function(a,n){n===t&&i.push(e)})}),{attachedData:o,attachedFilesArray:i}}function E(e,t){if(null!=e){var a=e.split("/");if(-1!=a.indexOf("uploads")){var n=a.indexOf("uploads");return"/api/v1/uploads/"+a[n+1]+"/content?orgId="+t+"&inline=true"}return e}}e.socialJson={};var D=!1;function N(e){D=e}e.isPopupOpen=function(){return D};var x=!1;function P(e){x=e}function T(e,t){return!0}function A(e){return e}function _(){var e=[];e.push(m.h.getI18NValue("The revamped Social module in Zoho Desk simplifies social media management and ensures better organization of your social accounts by introducing significant improvements. Earlier, different social media accounts of a brand/organization were not organized in a single unit. This area has been addressed in the revamped module, wherein social media accounts are grouped into organizing units called brands.")),e.push(m.h.getI18NValue("A portal can have multiple brands but each brand can have only one Facebook page and one Twitter handle linked to it. You can create brands in Zoho Desk or import existing brands from Zoho Social."));return e.push(p.a.createElement("div",null,p.a.createElement(h.a,{href:"https://help.zoho.com/portal/kb/articles/setting-up-the-revamped-social-module#Creating_a_Brand",className:d.a.artical_link},m.h.getI18NValue("Creating a Brand")),p.a.createElement(h.a,{href:"https://help.zoho.com/portal/kb/articles/setting-up-the-revamped-social-module#Importing_a_Brand_from_Zoho_Social",className:d.a.artical_link},m.h.getI18NValue("Importing a Brand")),p.a.createElement(h.a,{href:"https://help.zoho.com/portal/kb/articles/working-with-the-revamped-social-module#Automatically_Converting_Posts_into_Tickets",className:d.a.artical_link},m.h.getI18NValue("Automatically Converting Posts into Tickets")))),e}function F(e){var t=Object(f.a)(),a=t.names;return a=l()({},a),o()(a).map(function(a){if(-1!=e.split(" ").indexOf(a)){var n=t.emote2emojis[t.names[a]];e=e.split(a).join(n)}}),e}e.commentBoxStatus=function(){return x}}).call(this,a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/layout/ListPageLayout/ListPageLayout.js":function(e,t,a){"use strict";a.d(t,"c",function(){return k}),a.d(t,"b",function(){return C}),a.d(t,"a",function(){return I});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("../components/lib/Card/index.js"),b=a("../components/lib/Layout/index.js"),w=a("./src/components/layout/ListPageLayout/ListPageLayout.module.css"),y=a.n(w),S=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.dataId;return h.a.createElement(v.Card,{className:""+y.a.container,dataId:a},t)}}]),t}(h.a.Component);t.d=S,S.propTypes={children:g.a.element,dataId:g.a.string};var k=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=(e.isScroll,e.children),a=e.needPadding;return h.a.createElement(v.CardHeader,{className:y.a[!0===a?"leftPadding":"padding0"]},h.a.createElement(h.a.Fragment,null,t))}}]),t}(m.Component);k.propTypes={children:g.a.element,isScroll:g.a.bool,needPadding:g.a.bool},k.defaultProps={isScroll:!1,needPadding:!0};var C=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.children;return h.a.createElement(v.CardFooter,{className:""+y.a.footer},e)}}]),t}(m.Component);C.propTypes={children:g.a.element};var I=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.scroll,n=e.eleRef,o=e.className,i=e.needPadding,s=e.dataId,r=e.alignBox,l=e.isCover;return h.a.createElement(v.CardContent,{scroll:a,className:(i?y.a.content:"")+" "+(o||""),eleRef:n,dataId:s},h.a.createElement(b.ResponsiveContainer,{alignBox:r,elementMedia:{},wrap:"row"==r?"wrap":"nowrap",isCover:l},t))}}]),t}(m.Component);I.propTypes={alignBox:g.a.oneOf(["row","column"]),children:g.a.element,className:g.a.string,dataId:g.a.string,eleRef:g.a.func,isCover:g.a.bool,needPadding:g.a.bool,scroll:g.a.string},I.defaultProps={scroll:"vertical",needPadding:!0,alignBox:"column",isCover:!0};var E=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={responsiveView:""},a.getResponsiveView=a.getResponsiveView.bind(a),a}return p()(t,e),l()(t,[{key:"getResponsiveView",value:function(e){this.state.responsiveView!=e&&this.setState({responsiveView:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.scroll,o=t.eleRef,i=t.className,s=t.needPadding,r=t.dataId;return h.a.createElement(v.CardContent,{scroll:n,className:(s?y.a.content:"")+" "+(i||""),eleRef:o,dataId:r},h.a.createElement(b.ResponsiveContainer,{alignBox:"column",elementMedia:{},onCallBack:this.getResponsiveView},h.a.Children.map(a,function(t){return t?h.a.cloneElement(t,{responsiveView:e.state.responsiveView}):null})))}}]),t}(m.Component);E.propTypes={children:g.a.element,className:g.a.string,dataId:g.a.string,eleRef:g.a.func,needPadding:g.a.bool,scroll:g.a.string},E.defaultProps={scroll:"vertical",needPadding:!0}},"./src/components/layout/SetupDetailLayout/index.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("../components/lib/Layout/index.js"),b=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),w=a.n(b),y=a("./src/components/layout/SetupDetailLayout/SetupDetailLayout.module.css"),S=a.n(y),k=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isHelpInfoOpen:!1},a.toggleHelpInfo=a.toggleHelpInfo.bind(a),a}return p()(t,e),l()(t,[{key:"toggleHelpInfo",value:function(){var e=this.state.isHelpInfoOpen;this.setState({isHelpInfoOpen:!e})}},{key:"render",value:function(){var e=this,t=this.state.isHelpInfoOpen,a=this.props,n=a.children,o=a.needHelpInfo,i=a.getHelpInfo,s=a.helpInfoTitle;return h.a.createElement(v.Container,{isScrollAttribute:!0},h.a.Children.map(n,function(t){return t&&t.type==I?h.a.cloneElement(t,{openHelpInfo:e.toggleHelpInfo,needHelpInfo:o}):t}),i?h.a.createElement(v.Box,{className:S.a.popup+" "+(t?S.a.open:S.a.close)},h.a.createElement(v.Container,null,h.a.createElement(v.Box,null,h.a.createElement(v.Container,{alignBox:"row",align:"vertical",className:S.a.infoHeader},h.a.createElement(v.Box,{className:S.a.infoIcon},h.a.createElement(w.a,{name:"ZD-info31"})),h.a.createElement(v.Box,{flexible:!0,className:S.a.infoText},s),h.a.createElement(v.Box,null,h.a.createElement("span",{onClick:this.toggleHelpInfo,className:S.a.infoClose},h.a.createElement(w.a,{name:"ZD-close"}))))),h.a.createElement(v.Box,{flexible:!0,scroll:"vertical",className:S.a.infoFooter},i()))):null)}}]),t}(h.a.Component),C=k;k.propTypes={children:g.a.element,getHelpInfo:g.a.func,helpInfoTitle:g.a.string,needHelpInfo:g.a.bool},k.defaultProps={helpInfoTitle:"Page Tips",needHelpInfo:!1};var I=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.needBack,n=e.onBackClick,o=e.openHelpInfo,i=e.needHelpInfo,s=e.needHelpInfoWrapper,r=e.getLeftPlaceHolder,l=e.getRightPlaceHolder,c=e.leftClassName,d=e.rightClassName,u=e.isCustomizedHeader,p=e.headerCustomStyle;return h.a.createElement(v.Box,{className:!0===u?p:S.a.header},h.a.createElement(v.Container,{alignBox:"row",align:"vertical"},h.a.createElement(v.Box,{className:S.a.back},a?h.a.createElement("span",{className:S.a.backIcon,onClick:n},h.a.createElement(w.a,{name:"ZD-back"})):null),h.a.createElement(v.Box,{flexible:!r&&!l,className:S.a.title},t),r?h.a.createElement(v.Box,{flexible:!0,shrink:!0,adjust:!!l,className:c},h.a.createElement(v.Container,{align:"vertical",alignBox:"row"},r())):null,l?h.a.createElement(v.Box,{flexible:!0,shrink:!0,adjust:!!r,className:d},h.a.createElement(v.Container,{align:"vertical",alignBox:"row",className:S.a.rightPanel},l())):null,i?h.a.createElement(v.Box,null,s?h.a.createElement("span",{className:S.a.helpInfoCont},h.a.createElement("span",{className:S.a.helpInfo,onClick:o},h.a.createElement(w.a,{name:"ZD-info31"}))):h.a.createElement("span",{className:S.a.helpInfo+" "+S.a.mr15,onClick:o},h.a.createElement(w.a,{name:"ZD-info31"}))):null))}}]),t}(m.Component);I.propTypes={getLeftPlaceHolder:g.a.func,getRightPlaceHolder:g.a.func,headerCustomStyle:g.a.object,isCustomizedHeader:g.a.bool,leftClassName:g.a.string,needBack:g.a.bool,needHelpInfo:g.a.bool,needHelpInfoWrapper:g.a.bool,onBackClick:g.a.func,openHelpInfo:g.a.func,rightClassName:g.a.string,title:g.a.string},I.defaultProps={needBack:!1,needHelpInfo:!1,needHelpInfoWrapper:!1};var E=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.needPadding,n=e.className;return h.a.createElement(v.Box,{flexible:!0,scroll:"vertical",className:(n||"")+" "+S.a.content+" "+(a?S.a.padding:"")+" ",isScrollAttribute:!0},t)}}]),t}(m.Component);E.propTypes={children:g.a.element,className:g.a.bool,needPadding:g.a.bool},E.defaultProps={needPadding:!0};var D=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.children;return h.a.createElement(v.Box,null,e)}}]),t}(m.Component);D.propTypes={children:g.a.element},a.d(t,"b",function(){return C}),a.d(t,"d",function(){return I}),a.d(t,"c",function(){return D}),a.d(t,"a",function(){return E})},"./src/containers/SocialModuleContainer/SetupContainer.js":function(e,t,a){"use strict";a.r(t);var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),b=a("./src/reducers/selector.js"),w=a("./src/actions/Social/GetActions.js"),y=a("./src/actions/Social/AddActions.js"),S=a("./src/actions/Social/DeleteActions.js"),k=a("./src/actions/index.js"),C=a("./src/fz-i18n/index.js"),I=a("./src/components/Social/socialCommon.js"),E=a("../components/lib/Button/Button.js"),D=a.n(E),N=a("../components/lib/Layout/index.js"),x=a("./src/components/Social/SocialGettingStarted/SocialGettingStarted.module.css"),P=a.n(x),T=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),A=a.n(T),_=a("./src/components/Social/ConfigureBrand/ConfigureBrand.module.css"),F=a.n(_),O=a("./src/components/Social/ButtonWithIcon/ButtonWithIcon.js"),B=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a}return p()(t,e),l()(t,[{key:"handleClick",value:function(){this.props.brandAction(this.props.action)}},{key:"render",value:function(){var e=this.props.actionText;e=C.h.getI18NValue(e);var t=this.props.iconName,a=e+"_btn",n=this.props,o=n.headText;n.descText;return o=C.h.getI18NValue(o),h.a.createElement("div",{className:F.a.container,"data-id":"configureBrandWrapper"},h.a.createElement(C.c,{tag:"span",className:F.a.title,i18NKey:"support.setup.social.actonbrand",values:o}),h.a.createElement(C.c,{tag:"div",className:F.a.description,i18NKey:this.props.descText}),h.a.createElement("div",null,h.a.createElement(O.a,{id:a,type:"type1",text:e,onClick:this.handleClick},h.a.createElement(A.a,{name:t}))))}}]),t}(h.a.Component),z=B;B.propTypes={action:g.a.string.isRequired,actionText:g.a.string.isRequired,brandAction:g.a.func.isRequired,descText:g.a.string,headText:g.a.string,iconName:g.a.string.isRequired};var j=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.portalBrandDatalist,t=this,a=function(){return h.a.createElement(z,{headText:"support.setup.social.create",descText:"support.setup.social.create.desc",actionText:"support.setup.social.create",iconName:"ZD-plus",action:"createBrand",brandAction:t.props.getBrandCreateForm})};Object(I.d)("ss_IntegPage"),Object(I.n)();return h.a.createElement("div",null,!1,h.a.createElement("div",{className:P.a.ss_IntegPage},h.a.createElement("div",{className:P.a.sslandingimgcont},h.a.createElement("div",{className:P.a.sslandingimg})),h.a.createElement("div",null,h.a.createElement("div",{className:P.a.ssintegratediv},h.a.createElement(N.Container,{align:"horizontal",isCover:!1},a(),h.a.createElement(z,{headText:"support.setup.social.import",descText:"support.setup.social.import.desc",actionText:"support.setup.social.import",iconName:"arrowDown",action:"importBrand",brandAction:this.props.getBrandCreateForm}))),0!=e.length&&h.a.createElement("div",{className:P.a.ImportInfoDiv},h.a.createElement(A.a,{iconClass:P.a.ImportInfoIcon,name:"ZD-markSpam"}),h.a.createElement(C.c,{className:P.a.text,i18NKey:"support.setup.social.import.exsitingtext",isHtml:!0})))))}}]),t}(h.a.Component),V=j;j.propTypes={getBrandCreateForm:g.a.func,portalBrandDatalist:g.a.array};var R=a("./src/components/Social/GetStarted/GetStarted.module.css"),M=a.n(R),L=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(N.Container,null,h.a.createElement(N.Box,{flexible:!0},h.a.createElement("div",{className:M.a.ssgetingstart},h.a.createElement(N.Container,{alignBox:"row",align:"vertical",className:M.a.ssheaderDiv},h.a.createElement(N.Box,{flexible:!0},h.a.createElement(C.c,{tag:"div",className:M.a.SSinformatinHead,i18NKey:"support.setup.social.gstd.title"}),h.a.createElement(C.c,{tag:"div",className:M.a.ssheadisc,i18NKey:"support.setup.social.gstd.desc"}),h.a.createElement("div",{className:M.a.sssocialenable},h.a.createElement(D.a,{text:C.h.getI18NValue("support.setup.social.gstd.start"),onClick:this.props.getStart}))),h.a.createElement("span",{className:M.a.sslandingimg})),h.a.createElement("div",{className:M.a.ssgetingstartFlowchartdiv},h.a.createElement("div",{className:M.a.ssgetingstartFlowchart})))))}}]),t}(m.Component),K=L;L.propTypes={getStart:g.a.func};var H=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),U=a.n(H),W=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/typeof.js"),q=a.n(W),Z=a("./src/components/Social/ImportBrand/ImportBrand.module.css"),G=a.n(Z),Y=a("./src/components/Social/Brand/Brand.module.css"),J=a.n(Y),Q=a("../components/lib/CheckBox/CheckBox.js"),X=a.n(Q),$=a("../components/lib/Avatar/Avatar.js"),ee=a.n($),te=a("./src/components/Social/BrandFbTwiDetailview/BrandFbTwiDetailview.css"),ae=a.n(te),ne=a("./src/components/Social/ImageWithIcon/ImageWithIcon.js"),oe=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"addSSaccount",value:function(e,t,a,n){n.nativeEvent.stopImmediatePropagation(),this.props.popupaction(!0,e,a,t)}},{key:"goToDetailView",value:function(e,t,a){a.nativeEvent.stopImmediatePropagation(),this.props.detailview(t,e)}},{key:"deleteSSacc",value:function(e,t,a){a.nativeEvent.stopImmediatePropagation(),this.props.brandDelAction(e,t,!0)}},{key:"render",value:function(){var e=this.props,t=e.channalAcc,a=e.accdetails,n=e.brandId,o=e.accConnection,i=e.authoUrl,s=e.listingFor,r=void 0,l=void 0;var c=o;!0===c?l="@"+(r="facebook"!=t?a.accountName:a.pageName):"facebook"===t?(r="Facebook",l="support.setup.social.brandslist.fb.desc"):"twitter"===t&&(r="Twitter",l="support.setup.social.brandslist.twitter.desc");var d=C.h.getI18NValue(l,[""]),u={facebook:{socialfontname:"ZD-socialFb",socialfontclass:"iconsocialfacebook",iconWrapperClass:"fbIconWrapper",iconConatiner:"fbIconContainer"},twitter:{socialfontname:"ZD-socialTwitter",socialfontclass:"icontwitter",iconWrapperClass:"twiIconWrapper",iconConatiner:"twiIconContainer"}},p=u[t].socialfontname,m=u[t].socialfontclass,f=u[t].iconWrapperClass,g=u[t].iconConatiner,v=a.href,b=a.hasExpired;b=void 0!==b&&b,v=null!=v&&""!=v?v:"";var w=Object(I.g)(r);return h.a.createElement(N.Container,{alignBox:"row",align:"vertical",className:ae.a.container,dataId:"brandchl_list"+n+t},!0===c?h.a.createElement("div",{className:ae.a.avatar},h.a.createElement(ne.a,{iconName:p,iconclassName:ae.a[m],imageSrc:v,imageText:w,imageSize:"xmedium",iconWrapperStyle:ae.a[f]})):h.a.createElement(N.Container,{align:"both",className:ae.a.logo+" "+ae.a[g]},h.a.createElement(A.a,{name:p,iconClass:ae.a[m]})),h.a.createElement(N.Box,{flexible:!0,className:ae.a.section},h.a.createElement("span",{className:ae.a.title},r),h.a.createElement("div",{className:ae.a.description},d)),!0===b?h.a.createElement("span",{className:ae.a.iconauthendicate,"data-id":"brand_channel_reauthendicate",onClick:this.addSSaccount.bind(this,i,n,t)},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-exclamationThincircle"})):!0===c?"list"===s?h.a.createElement("div",{className:ae.a.sshvrIcons},h.a.createElement("span",{className:ae.a.ilefttag,"data-id":"brand_channel_settings",onClick:this.goToDetailView.bind(this,n,t)},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-toprightseting"})),h.a.createElement("span",{className:ae.a.ilefttag,"data-id":"brand_channel_delete",onClick:this.deleteSSacc.bind(this,n,t)},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-socialDelete"}))):h.a.createElement("div",{className:ae.a.aligniconplus},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-tickNew1"})):"list"===s?h.a.createElement("span",{className:ae.a.aligniconplus,"data-id":"brand_channel_addaccount",onClick:this.addSSaccount.bind(this,i,n,t)},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-circlePlus3"})):h.a.createElement("div",{className:ae.a.sshvrIcons},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-tickNew1"})))}}]),t}(h.a.Component),ie=oe;oe.propTypes={accConnection:g.a.bool.isRequired,accdetails:g.a.object,authoUrl:g.a.string,brandDelAction:g.a.func,brandId:g.a.string,channalAcc:g.a.string,detailview:g.a.func,listingFor:g.a.string.isRequired,popupaction:g.a.func};var se=a("./src/images/socialbrand-default.png"),re=a.n(se),le=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isShowConfirm:!1,deleteFun:function(){},confirmFor:""},a.deleteAccount=a.deleteAccount.bind(a),a.deleteBrand=a.deleteBrand.bind(a),a.checkBoxSelect=a.checkBoxSelect.bind(a),a}return p()(t,e),l()(t,[{key:"gotoEditView",value:function(e,t,a){this.props.brandDetailview(e,t)}},{key:"checkBoxSelect",value:function(e,t){this.props.checkBoxChange(e,t)}},{key:"deleteBrand",value:function(e,t){var a=this,n=this.props,o=n.stateShowConfirmBox,i=n.brandDelAction;t?this.setState({isShowConfirm:!0,confirmFor:"brand",deleteFun:function(){a.setState({isShowConfirm:!1}),a.deleteBrand(e,!1)}},function(){o("brand",a.state.deleteFun)}):i(e)}},{key:"deleteAccount",value:function(e,t,a){var n=this,o=this.props,i=o.stateShowConfirmBox,s=o.brandAccDel;if(a)this.setState({isShowConfirm:!0,confirmFor:t,deleteFun:function(){n.setState({isShowConfirm:!1}),n.deleteAccount(e,t,!1)}},function(){i(t,n.state.deleteFun)});else{var r=this.props.brandData,l=r.departmentId,c="",d=(r=U()({},r)).channels.filter(function(e,a){if(t!=e.network)return e;c=e.id});r.channels=d,s(r,"listView",l,t,c)}}},{key:"render",value:function(){var e=this.props,t=e.brandData,a=e.makeBlur,n=e.listingFor,o=e.isSelected,i=e.reactFrom,s=e.getDepartmentName,r=e.currentOrgId,l=void 0,c=t.channels,d=t.departmentId,u={},p={},m=!1,f=!1,g={};if(0!=c.length)for(var v=0,b=c.length;v<b;v++){var w=c[v];"facebook"===w.network&&(u=w,null!=w.accountId&&(l=!0,null!=w.pageId&&(m=!0),!0===w.hasExpired&&(g.facebook=!0))),"twitter"===w.network&&(p=w,f=!0,!0===w.hasExpired&&(g.twitter=!0))}var y=!1===m?t.facebookAuthURL:!0===g.facebook?t.facebookAuthURL:"",S=!1===f?t.twitterAuthURL:!0===g.twitter?t.twitterAuthURL:"",k=t.href,E=t.brandName,D=t.description;k=void 0===k?re.a:k,k=Object(I.k)(k,r);var N=C.h.getI18NValue("support.setup.social.brand"),x=t.id,P=Object(I.g)(E),T="importlist"===n?!0===a?"inActive":o?"importListActive":"importList":"departments"===i?"departmentView":"brandContainer";return h.a.createElement("div",{className:J.a[T],ref:"brand_ele"+x,"data-id":"brand_ele"+x},"list"===n&&h.a.createElement("span",{title:C.h.getI18NValue("support.delete",N),className:J.a.delete+" "+J.a.ssediticon,"data-id":"delete_brand",onClick:this.deleteBrand.bind(this,x,!0)},h.a.createElement(A.a,{iconClass:J.a.deleteIcon,size:"xsmall",name:"ZD-socialDelete"})),"list"===n&&h.a.createElement("span",{title:C.h.getI18NValue("support.module.edit",N),className:J.a.edit+" "+J.a.ssediticon,"data-id":"edit_brand",onClick:this.gotoEditView.bind(this,"editBrand",x)},h.a.createElement(A.a,{size:"xsmall",name:"ZD-pen2"})),1!=a&&"importlist"===n&&h.a.createElement("div",{className:J.a.Socialcheckbox+" "+J.a[!0===o?"selectedIcon":"ssediticon"]},h.a.createElement(X.a,{id:x,checked:o,onChange:this.checkBoxSelect.bind(this,!o,x)})),h.a.createElement("div",{className:J.a.ssBrandLinkHead},h.a.createElement("div",{className:J.a.avatar},h.a.createElement(ee.a,{name:P,src:k,size:"large",shape:"circle"})),h.a.createElement("div",{className:J.a.ssintegratetitle},E),h.a.createElement("div",{className:J.a.ssdisc,dangerouslySetInnerHTML:{__html:D}}),"-1"!=d&&null!=d&&h.a.createElement("div",{className:J.a.ssdisc},h.a.createElement(C.c,{i18NKey:"support.setup.social.conf.form.asdep",title:C.h.getI18NValue("support.setup.social.conf.form.asdep")}),h.a.createElement("span",{className:J.a.BBdepName},s(d)))),h.a.createElement(ie,{channalAcc:"facebook",brandId:t.id,accdetails:u,accConnection:m,authoUrl:y,isFbchannelAdded:l,popupaction:this.props.popupaction,detailview:this.props.brandDetailview,brandDelAction:this.deleteAccount,listingFor:n}),h.a.createElement(ie,{channalAcc:"twitter",brandId:t.id,accdetails:p,accConnection:f,authoUrl:S,popupaction:this.props.popupaction,detailview:this.props.brandDetailview,brandDelAction:this.deleteAccount,listingFor:n}))}}]),t}(h.a.Component),ce=le;le.propTypes={brandAccDel:g.a.func,brandBasicActions:g.a.func,brandData:g.a.object.isRequired,brandDelAction:g.a.func,brandDetailview:g.a.func,checkBoxChange:g.a.func,currentOrgId:g.a.string.isRequired,departments:g.a.object,getDepartmentName:g.a.func,isSelected:g.a.bool,listingFor:g.a.string.isRequired,makeBlur:g.a.bool,popupaction:g.a.func,reactFrom:g.a.string,showConfirmBox:g.a.func,stateShowConfirmBox:g.a.func};var de=a("./src/components/GenericDropDown/GenericDropDown.module.css"),ue=a.n(de),pe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={showDropDown:!1},a.onSelect=a.onSelect.bind(a),a.onToggleShow=a.onToggleShow.bind(a),a.hideList=a.hideList.bind(a),a}return p()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){e.showList!=this.state.showDropDown&&this.setState({showDropDown:e.showList})}},{key:"hideList",value:function(){this.setState({showDropDown:!1})}},{key:"onSelect",value:function(e){var t=e.currentTarget.getAttribute("id");void 0!==this.props.onSelect&&this.props.onSelect(t),this.hideList()}},{key:"onToggleShow",value:function(){this.setState(function(e){return{showDropDown:!e.showDropDown}})}},{key:"render",value:function(){var e=this,t=this.state.showDropDown,a=this.props.options,n=this.props.value,o=this.props.arrowAlign,i=this.props.dropDownAlign,s=this.props.dropDownContainer,r=this.props.rightIcon,l=this.props.isRightIconAlign,c=this.props.labelKey,d=this.props.valueKey,u=this.props.type,p="type1"==u?"":"contentFStyle",m="type1"==u?"defaultContStyle1":"defaultContStyle",f="type1"==u?"defaultContSelStyle1":"defaultContSelStyle",g=void 0;g="string"==typeof n?h.a.createElement("span",{onClick:this.onToggleShow,className:ue.a[p]},n):h.a.createElement("span",{onClick:this.onToggleShow},n);var v,b=void 0;void 0!==a&&null!=a&&(b=a.map(function(t,a){return"string"==typeof t?h.a.createElement("div",{onClick:e.onSelect,className:t===n?ue.a[f]:ue.a[m],id:t,key:t},h.a.createElement("span",null,t)):"object"===(void 0===t?"undefined":q()(t))?h.a.createElement("div",{onClick:e.onSelect,className:t===n?ue.a[f]:ue.a[m],id:t[d],key:t[d]},h.a.createElement("span",null,t[c])):h.a.createElement("span",{onClick:e.hideList,key:a},t)})),v=h.a.createElement("div",{className:ue.a.coverStyle},b);var w=h.a.createElement("div",{className:ue.a.drpdn_con},s||v),y=h.a.createElement("div",{className:t?ue.a.dropD+" "+ue.a[i]:ue.a.dropD+" "+ue.a[i]+" "+ue.a.dispNone},h.a.createElement("i",{className:ue.a.moreActArrow+" more-act-arrow"}),w);return h.a.createElement("div",{tabIndex:"0",className:ue.a.desk_dropdown,onBlur:this.hideList},h.a.createElement("div",{className:ue.a.topContentDiv},h.a.createElement("div",{className:ue.a[o]+" "+ue.a.posrel},g,l?null:y)),h.a.createElement("div",{className:ue.a.topIcon+" "+ue.a[o]},h.a.createElement("div",{onClick:this.onToggleShow},r||h.a.createElement(A.a,{name:"ZD-arrow",size:"8"})),l?y:null),h.a.createElement("div",{className:ue.a.noFloat}))}}]),t}(h.a.Component),me=pe;pe.defaultProps={arrowAlign:"arrow_center",dropDownAlign:"drpCon_center"},pe.propTypes={arrowAlign:g.a.string,dropDownAlign:g.a.string,dropDownContainer:g.a.element,isRightIconAlign:g.a.bool,labelKey:g.a.string,onSelect:g.a.func,options:g.a.arrayOf(g.a.oneOfType([g.a.string,g.a.object,g.a.element])),rightIcon:g.a.element,showList:g.a.bool,type:g.a.string,value:g.a.oneOfType([g.a.string,g.a.element]).isRequired,valueKey:g.a.string};var he=a("./src/components/Social/EmptyFeedContainer/EmptyFeedContainer.js"),fe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={portalId:"",portalName:"",brandsData:[],selectedBrands:[],isImported:!1,isLoading:!0,isImporting:!1,brandsCursor:"",brandsFetchError:!1,layoutPopup:!1,popUpAction:""},a.checkBoxChange=a.checkBoxChange.bind(a),a.importBrands=a.importBrands.bind(a),a.changePortal=a.changePortal.bind(a),a.clearSelectedBrands=a.clearSelectedBrands.bind(a),a.getPortalBrands=a.getPortalBrands.bind(a),a.getMorePortalBrands=a.getMorePortalBrands.bind(a),a.layoutPopupAction=a.layoutPopupAction.bind(a),a}return p()(t,e),l()(t,[{key:"layoutPopupAction",value:function(){this.setState({layoutPopup:!1})}},{key:"getMorePortalBrands",value:function(){var e=this.state,t=e.portalId,a=e.portalName,n=e.isImported;""!=e.brandsCursor&&this.getPortalBrands(t,a,n)}},{key:"getPortalBrands",value:function(e,t,a){var n=this.state,o=n.brandsData,i=n.brandsCursor,s=this.state.portalId,r=this.props,l=r.orgName,c=r.getPortalBrands,d="/support/"+l+"/Social.do?mode=getBrandsOfPortal&portalId="+e;""!=i&&s===e&&(d="/support/"+l+"/Social.do?mode=getBrandsOfPortal&portalId="+e+"&cursor="+i);var u=this;c(d).then(function(n){var r=n.data,l=r.data,c=r.cursor;if(!0===r.success){if(c=void 0===c?"":c,0===l.length)return void u.setState({portalId:e,brandsCursor:"",brandsData:[],portalName:t,isImported:a,isLoading:!1,brandsFetchError:!1,layoutPopup:!0,popUpAction:"1",selectedBrands:[]});""!=i&&s===e&&(c=o.cancat(l)),u.setState({portalId:e,brandsCursor:c,brandsData:l,portalName:t,isImported:a,isLoading:!1,brandsFetchError:!1,selectedBrands:[]})}else u.setState({portalId:e,brandsData:[],portalName:t,isImported:a,isLoading:!1,brandsFetchError:!0,layoutPopup:!0,popUpAction:"3",selectedBrands:[]})},function(e){u.setState({isLoading:!1,brandsFetchError:!0,layoutPopup:!0,popUpAction:"4",selectedBrands:[]})})}},{key:"componentDidMount",value:function(){var e=this.props.portalBrandsData,t=e.brandsData||[];if(0!=t.length){var a=t.cursor||"",n=e.portal,o=e.selectedPortalId,i=void 0,s=void 0;n.map(function(e,t){e.portalId===o&&(i=e.portalName,s=e.isLinkedPortal)}),this.setState({portalId:o,brandsCursor:a,brandsData:t,portalName:i,isImported:s,isLoading:!1,brandsFetchError:!1})}else this.setState({brandsCursor:"",brandsData:[],isLoading:!1,brandsFetchError:!1})}},{key:"changePortal",value:function(e){var t=this.props.portalBrandsData,a=null!=t&&null!=t.portal?t.portal:[],n=void 0,o=void 0,i=void 0;0!=a.length&&(a.map(function(t,a){t.portalId===e&&(n=t.portalId,o=t.portalName,i=void 0!==t.isLinkedPortal&&t.isLinkedPortal)}),this.getPortalBrands(n,o,i))}},{key:"importBrands",value:function(){var e=this,t=this.state,a=t.selectedBrands,n=t.portalId,o=t.isImporting,i=this.props,s=i.crntDepId,r=i.showMessage,l=i.orgName,c=i.importNewBrand;o||(0!==a.length?(this.setState({isImporting:!0}),c("/support/"+l+"/Social.do?mode=importBrands&portalId="+n+"&brandIds="+a).then(function(t){var a=t.data.importedData.data;e.setState({isImporting:!1}),"object"===(void 0===t?"undefined":q()(t))&&null!=a&&0!=a.length?(r({type:"success",message:C.h.getI18NValue("support.setup.social.import.success")}),e.props.brandDataModify("importBrand","listView",a,s)):r({type:"alert",message:C.h.getI18NValue("support.setup.social.import.fail")})},function(t){e.setState({isImporting:!1}),r({type:"alert",message:C.h.getI18NValue("support.setup.social.import.fail")})})):r({type:"info",message:"select Brands"}))}},{key:"checkBoxChange",value:function(e,t){var a=this.state,n=a.selectedBrands;if(!a.isImporting){var o=(n=U()([],n)).indexOf(t);-1===o?n.push(t):n.splice(o,1),this.setState({selectedBrands:n})}}},{key:"clearSelectedBrands",value:function(){this.state.isImporting||this.setState({selectedBrands:[]})}},{key:"render",value:function(){var e=this.props,t=e.portalBrandsData,a=e.supportJson,n=t.portal,o=this.state,i=o.brandsData,s=(o.portalId,o.portalName),r=o.selectedBrands,l=o.isImported,c=o.isLoading,d=o.brandsCursor,u=o.brandsFetchError,p=(o.layoutPopup,o.popUpAction,[]),m=!1,f=this,g=a.from;0!=i.length&&i.map(function(e,t){var a=e.id,n=e.isImported;m=!1===m&&(!1===n||void 0===n)||m;var o=-1!==r.indexOf(a);p.push(h.a.createElement(ce,{key:t,listingFor:"importlist",isSelected:o,brandData:e,makeBlur:n,reactFrom:g,checkBoxChange:f.checkBoxChange}))});var v=r.length,b=v<=0?C.h.getI18NValue("support.solution.notifying.clear.message"):C.h.getI18NValue("support.setup.social.import.clearcount",v),w=h.a.createElement("span",null,h.a.createElement("span",null,s),h.a.createElement(A.a,{name:"ZD-upArrow",iconClass:G.a.iconicsocialarrowfill})),y=!0===u?"brands_list_error":"brands_list",S=Object(I.d)("ssimportBody");Object(I.n)();return h.a.createElement(N.Container,{className:G.a.ssimportPage,dataId:"imageWithIconEle"},h.a.createElement("div",{className:G.a.setupheader},h.a.createElement("span",{"data-id":"import_backbtn",onClick:this.props.goToListView},h.a.createElement(A.a,{name:"ZD-back",iconClass:G.a.ssbrandmain})),h.a.createElement(C.c,{tag:"div",className:G.a.ssBackIcon,i18NKey:"support.setup.social.import.choose"}),0!=i.length&&!0===m&&h.a.createElement("div",null,v>0&&h.a.createElement("span",{className:G.a.btnCont},h.a.createElement("div",{className:G.a.ssImportBTN},h.a.createElement(D.a,{text:b,onClick:this.clearSelectedBrands})),h.a.createElement("div",{className:G.a.ssImportClear},h.a.createElement(O.a,{text:C.h.getI18NValue("support.setup.social.import"),onClick:this.importBrands},h.a.createElement(A.a,{name:"ZD-arrowDown"})))),1!=l&&n.length>1&&h.a.createElement("div",{className:G.a.ssImportClear},h.a.createElement(me,{options:n,value:w,onSelect:this.changePortal,labelKey:"portalName",valueKey:"portalId",customWidthClass:"mt5w200",dropDownAlign:"drpCon_social",arrowAlign:"arrow_social"})))),0!=n.length?0===i.length&&!1===c?h.a.createElement(he.a,{componentFor:y,emptyCompoentCode:122}):h.a.createElement(N.Box,{flexible:!0,scroll:"vertical",className:G.a.ssimportlistBody+" "+G.a[S]},p,""!=d&&h.a.createElement("i",{"data-id":"more_imbrands",onClick:this.getMorePortalBrands},h.a.createElement(C.c,{i18NKey:"support.setup.social.import.more"}))):h.a.createElement(he.a,{componentFor:y,emptyCompoentCode:122}))}}]),t}(h.a.Component),ge=fe;fe.propTypes={brandDataModify:g.a.func,crntDepId:g.a.string,getPortalBrands:g.a.func,goToListView:g.a.func,importNewBrand:g.a.func,orgName:g.a.string,portalBrandsData:g.a.object,showMessage:g.a.func,supportJson:g.a.object};var ve=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),be=a.n(ve),we=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),ye=a.n(we),Se=a("./src/components/Social/CreateBrand/CreateBrand.module.css"),ke=a.n(Se),Ce=a("../components/lib/Label/Label.js"),Ie=a.n(Ce),Ee=a("../components/lib/Select/Select.js"),De=a.n(Ee),Ne=a("../components/lib/TextBox/TextBox.js"),xe=a.n(Ne),Pe=a("../components/lib/Textarea/Textarea.js"),Te=a.n(Pe),Ae=a("./src/utils/Common.js"),_e=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=e.brandName,i=e.departmentId,r=e.desc,l=e.imageUrl,c=e.asform,u=e.brandId,p=e.mode,m=e.currentOrgId,h=void 0===l?re.a:Object(I.k)(l,m);return i=void 0===i?"add"===p?curntDepId:"-1":i,a.state={name:n||"",departmentId:i||"-1",description:r||"",imageUrl:h,logoFileId:"",asform:c,brandId:u||(new Date).getTime(),nameError:"",descError:"",isApiProcess:!1,showDelete:""!=l&&null!=l},a.textBoxFunc=a.textBoxFunc.bind(a),a.SelectFunc=a.SelectFunc.bind(a),a.validateStateData=a.validateStateData.bind(a),a.collectBrandData=a.collectBrandData.bind(a),a.keyUpValidation=a.keyUpValidation.bind(a),a.getErrormsg=a.getErrormsg.bind(a),a.cancelForm=a.cancelForm.bind(a),a.makeBrandActionAPIcall=a.makeBrandActionAPIcall.bind(a),a.deletePic=a.deletePic.bind(a),a.changeToEdit=a.changeToEdit.bind(a),a.callParentHeightChange=a.callParentHeightChange.bind(a),a}return p()(t,e),l()(t,[{key:"callParentHeightChange",value:function(e){"dVieweditBrand"===this.props.componentFrom&&this.props.setFooter(e)}},{key:"changeToEdit",value:function(e){var t=this,a=this.state,n=a.isApiProcess,o=a.asform,i=a.brandId,s=this.props,r=s.isSupportFrom,l=s.routing,c=s.push;if(!n)return!1===o?(this.setState({asform:!0},function(){"image"===e&&t.bImagefile.click(),t.callParentHeightChange(!0)}),void Object(I.o)(r,"dVieweditBrand",l,c,i)):void("image"===e&&this.bImagefile.click())}},{key:"textBoxFunc",value:function(e,t){var a=this,n=this.state,o=n.asform,i=n.brandId,s=this.props,r=s.isSupportFrom,l=s.routing,c=s.push;Object(I.b)(!0),o?this.setState(ye()({},t,e)):this.setState({asform:!0},function(){a.setState(ye()({},t,e)),Object(I.o)(r,"dVieweditBrand",l,c,i),a.callParentHeightChange(!0)})}},{key:"SelectFunc",value:function(e){this.textBoxFunc(e,"departmentId")}},{key:"getErrormsg",value:function(e,t){var a=void 0;switch(e){case"empty":a="support.social.feed.empty";break;case"alreadythere":a="entered "+t+" is alreadt there !!!";break;case"regexFail":a="support.setup.social.create.error.specialchar";break;case"maxi":a="support.social.feed.text.limitexceed";break;default:a=""}return a=C.h.getI18NValue(a)}},{key:"keyUpValidation",value:function(){var e=this.state,t=e.name,a=e.description,n=this.validateStateData(!0,a,!1,300),o=this.validateStateData(!1,t,!1,300);if(0!=o.isValid&&this.setState({nameError:""}),0!=n.isValid&&this.setState({descError:""}),!1===o.isValid&&!1===n.isValid){var i=this.getErrormsg(o.reason,"Name"),s=this.getErrormsg(n.reason,"Description");this.setState({nameError:i,descError:s})}else if(!1===o.isValid){var r=this.getErrormsg(o.reason,"Name");this.setState({nameError:r})}else if(!1===n.isValid){var l=this.getErrormsg(n.reason,"Description");this.setState({descError:l})}}},{key:"makeBrandActionAPIcall",value:function(e,t){t=U()({},t);var a=this,n=t,o=n.brandName,i=n.description,s=n.attachmentId,r=n.departmentId,l=null!=r?r:"-1";this.setState({isApiProcess:!0});var c=this.props,d=c.showMessage,u=c.componentFrom,p=c.addNewBrand,m=c.routing,h=c.push,f=function(e){a.setState({asform:!0,isApiProcess:!1},function(){a.callParentHeightChange(!0)}),e=void 0===e?C.h.getI18NValue("support.social.internalerror"):e,d({type:"alert",message:e})};if("add"!==e){if("edit"===e){var g=this.state.brandId,v=this.props,b=v.isSupportFrom,w=v.updateBrand,y=Object(Ae.B)()+"/v1/socialBrands/"+g,S={};S.brandName=o,S.description=i,"-1"!=l&&null!=l&&null!=l&&(S.departmentId=l);var k=this.props.editBrandData.channels;S.channels=k,null!=s&&""!=s&&(S.attachmentId=s);a.props.departmentId;w(y,S).then(function(e){var t=e.data,n=t.message,o=t.apiError;if(void 0===n&&void 0===o){Object(I.b)(!1);var i="dVieweditBrand",s=t.departmentId,r=a.props.curntDepId;null!=s&&"0"!=s&&r!=s&&"-1"!=r&&(t={},i="configBrand"),a.props.formSave("updateBrandData",t,i,l,g),a.setState({asform:!1,isApiProcess:!1},function(){var e="<b>"+t.brandName+"</b>";Object(I.o)(b,"dViewInfoBrand",m,h,g);var n=C.h.getI18NValue("support.setup.social.brand.update.success",e);d({type:"success",message:n}),a.callParentHeightChange(!1)})}else f(n)})}}else{Object(Ae.B)();p(t).then(function(e){var t=e.data,n=t.brandData;if(null==t.apiError){var o=n.message;if(void 0===o){(n=U()({},n)).channels=[];var i="<b>"+n.brandName+"</b>";Object(I.b)(!1),d({type:"success",message:C.h.getI18NValue("support.setup.social.brand.create",i)}),a.props.formSave("addNewBrand",n,u,l)}else f(o)}else f()})}}},{key:"imageUpdateInState",value:function(e){e.persist();var t=e.target.files,a=t[0];if(Object(I.b)(!0),null!=a){var n=this,o=this.state.logoFileId;if(this.validateStateData(!1,a,!0)){if(""!=o)return void this.deletePic(!0,e);(new FormData).append("file",a);var i=this.props,s=i.showMessage,r=i.imageActions,l=i.currentOrgId;r.uploadImage(Object(Ae.B)()+"/v1/uploads",t).then(function(e){var t=e.data,a=t.id,o=t.href;if(null!=t.apiError){var i=C.h.getI18NValue("support.social.internalerror");s({type:"alert",message:i})}var r=Object(I.k)(o,l);n.setState({logoFileId:a,imageUrl:r,showDelete:!0})}),document.querySelector("input[type=file]").value=""}else document.querySelector("input[type=file]").value=""}}},{key:"deletePic",value:function(e,t,a){var n=this.state.logoFileId,o=this;if(""!==n){var i=this.props,s=i.showMessage,r="/api/v1/uploads/"+n;i.imageActions.deleteImage(r).then(function(a){null!=a.data.apiError&&(!0===o.state.asform&&s({type:"alert",message:C.h.getI18NValue("support.social.internalerror")}));if(!0===e)return o.setState({logoFileId:""}),void o.imageUpdateInState(t);document.querySelector("input[type=file]").value="",o.setState({logoFileId:"",imageUrl:re.a,showDelete:!1})})}else this.setState({imageUrl:re.a,showDelete:!1})}},{key:"validateStateData",value:function(e,t,a,n,o){if(!a){var i=!0,s=new RegExp(/[#%"<>`]/),r=(t=t.trim()).toLowerCase();if(!1===e&&""===t)return{reason:"empty",isValid:i=!1};if(null!=n&&t.length>n)return{reason:"maxi",isValid:i=!1};if(s.test(t))return{reason:"regexFail",isValid:i=!1};if(null!=o&&0!=o.length)for(var l=0,c=o.length;l<c;l++){var d=o[l].bName;(d=d.toLowerCase())===r&&(1,null!=this.props.brandName&&d===this.props.brandName.toLowerCase()&&1)}return{isValid:i,validatedData:t}}var u=t.type.split("/").pop().toLowerCase(),p=t.size,m=this.props.showMessage;return"jpeg"!=u&&"jpg"!=u&&"png"!=u&&"bmp"!=u&&"gif"!=u?(m({type:"alert",message:C.h.getI18NValue("support.setup.social.create.imgerror")}),!1):!(p>2e6)||(m({type:"alert",message:C.h.getI18NValue("support.setup.social.create.imgsizeerror")}),!1)}},{key:"collectBrandData",value:function(){var e=this,t=this.props,a=t.mode,n=t.brandsNameData,o=this.state,i=o.name,s=o.departmentId,r=o.description,l=o.imageUrl,c=o.logoFileId;n=null!=n?n:[];var d=this.validateStateData(!1,i,!1,300,n),u=this.validateStateData(!0,r,!1,300);if(0!=u.isValid&&0!=d.isValid){var p={};p.description=u.validatedData,p.brandName=d.validatedData,"-1"!=s&&(p.departmentId=s);var m=l.split("/"),h=m.indexOf("uploads");if(""!=c||"edit"===a&&-1!=h){var f=m[h+1],g="edit"===a?f:c;p.attachmentId=g}this.setState({asform:!1},function(){e.callParentHeightChange(!1)}),this.makeBrandActionAPIcall(a,p)}else if(!1===d.isValid&&!1===u.isValid){var v=this.getErrormsg(d.reason,"Name"),b=this.getErrormsg(u.reason,"Description");this.setState({nameError:v,descError:b})}else if(!1===d.isValid){var w=this.getErrormsg(d.reason,"Name");this.setState({nameError:w})}else if(!1===u.isValid){var y=this.getErrormsg(u.reason,"Description");this.setState({descError:y})}}},{key:"cancelForm",value:function(e){var t=this,a=this.props.componentFrom;this.setState({asform:!1},function(){t.callParentHeightChange(!1)}),this.deletePic(!1),Object(I.b)(!1),this.props.formCancel(a,this.state.brandId)}},{key:"componentWillReceiveProps",value:function(e){var t=e.mode,a=e.isShowConfirm,n=(e.asform,e.currentOrgId),o=this.props.isShowConfirm;if("edit"===t&&!a&&!o){var i=e.brandName,s=e.departmentId,r=e.desc,l=e.imageUrl,c=e.asform,d=e.brandId,u=Object(I.k)(l,n);this.setState({name:i,departmentId:s||"-1",description:r,imageUrl:u,logoFileId:"",asform:c,brandId:d,nameError:"",descError:"",showDelete:""!=l&&null!=l})}}},{key:"render",value:function(){var e=this.state,t=e.asform,a=e.showDelete,n=this.props,o=n.mode,i=n.curntDepId,s=n.activeDepNameId,r=n.getDepartmentName,l="module".from,c=this.state,d=c.imageUrl,u=c.description,p=c.departmentId,m=c.name,f=c.nameError,g=c.descError,v=s;"departments"===l&&(v=[{id:i,value:r(i)}]),v.unshift({id:"-1",value:"All Departments"});var b="edit"===o?!0===t?"Edit":"Info":"Create",w=u,y=u.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&"),S=C.h.getI18NValue("support.setup.social.conf.nodesc");w=""===u?'<span class="social_nodescrip">'+S+"</span>":w.replace(/(\r\n|\n|\r)/gm,"<br />");Object(I.n)();var k="add"===o?"form_height":"form_def",E=Object(I.d)(k),x=this;return h.a.createElement(N.Container,null,"add"===o&&h.a.createElement(N.Box,null,"departments"!=l&&!1),h.a.createElement(N.Box,{flexible:!0,styleClass:ke.a[E]},h.a.createElement(N.Container,{dataId:"formContentWrapper"},h.a.createElement("div",{className:ke.a.SSinformatin},h.a.createElement("div",{className:ke.a.SSinformatinHead},h.a.createElement(C.c,{i18NKey:!1===t?"support.social.branddetails":"support.setup.social.actonbrand",isHtml:!0,values:[b]}),!1===t&&h.a.createElement("span",{title:"Edit brand",className:ke.a.sseditbrand,"data-id":"edit_brand",onClick:this.changeToEdit},h.a.createElement(A.a,{size:"sizeinherit",name:"ZD-edit1"}))),h.a.createElement("div",{className:ke.a.SSinformationLogo},h.a.createElement(Ie.a,{palette:"primary",text:C.h.getI18NValue("support.setup.social.create.logo"),name:"picture"}),h.a.createElement(N.Container,{alignBox:"row",className:ke.a.sslogoDiv},h.a.createElement("div",{className:ke.a.sslogo,"data-id":"brand_logo",onDoubleClick:this.changeToEdit.bind(this,"image")},h.a.createElement(ee.a,{src:d,name:Object(I.g)(m),shape:"circle",size:"large"})),!0===t&&h.a.createElement("div",{className:ke.a.sslogoBtn},h.a.createElement("form",{encType:"multipart/form-data",name:"fileinfo"},h.a.createElement("input",{"data-id":"brand_upload_image",type:"file",ref:function(e){x.bImagefile=e},id:"bImagefile",className:ke.a.inputfile,onChange:this.imageUpdateInState.bind(this)}),h.a.createElement("label",{htmlFor:"bImagefile",className:ke.a.uploadBtn},h.a.createElement(C.c,{i18NKey:!1===a?"support.setup.social.image.upload":"crm.label.change"})),!0===a&&h.a.createElement("span",{"data-id":"imgage_brand_delete",className:ke.a.sslogodel},h.a.createElement(D.a,{text:C.h.getI18NValue("support.social.delete"),palette:"dangerFilled",id:"delete_bimage",onClick:this.deletePic}))),h.a.createElement(C.c,{tag:"div",className:ke.a.aligntext,i18NKey:"support.setup.social.create.imgtext",isHtml:!0})))),h.a.createElement("div",{className:ke.a.mt50},h.a.createElement(Ie.a,{palette:"primary",text:C.h.getI18NValue("support.setup.social.create.bname"),name:"createBrandName"}),h.a.createElement("div",{className:ke.a.newfrm+" "+ke.a.w352p,"data-id":"brand_name",onDoubleClick:this.changeToEdit},!0===t?h.a.createElement(xe.a,{key:"newBrandName",size:"medium",id:"name",maxLength:300,value:m,dataId:"brand_name_field",onChange:function(e,t){x.textBoxFunc(e,"name")},OnBlurFunction:this.keyUpValidation}):h.a.createElement("div",null,m),!0===t&&h.a.createElement("div",{className:ke.a.errorMsg},f)),h.a.createElement(Ie.a,{palette:"primary",text:C.h.getI18NValue("support.setup.social.create.depassociate"),name:"createBrandAsDep"}),h.a.createElement("div",{className:ke.a.newfrm+" "+ke.a.w352p,"data-id":"brand_department",onDoubleClick:this.changeToEdit},!0===t?h.a.createElement(De.a,{size:"medium",selectedValue:p,options:v,valueField:"id",textField:"value",onChange:this.SelectFunc}):"-1"!=p?h.a.createElement("div",null,r(p)):h.a.createElement("div",null,"All Departments"))),h.a.createElement("div",null,h.a.createElement(Ie.a,{palette:"primary",text:C.h.getI18NValue("support.setup.social.desc"),name:"createBrandDesc"}),h.a.createElement("div",{className:ke.a.newfrm,"data-id":"brand_desc",onDoubleClick:this.changeToEdit},!0===t?h.a.createElement(Te.a,{key:"newBrandDesc",id:"description",text:y,name:"textarea_branddes","data-id":"brand_desc_field",maxlength:"300",onChange:function(e,t){x.textBoxFunc(e,"description")},fieldBlur:this.keyUpValidation,animated:!0}):h.a.createElement("div",{dangerouslySetInnerHTML:{__html:w}}),!0===t&&h.a.createElement("div",{className:ke.a.errorMsg},g)))),!0===t&&h.a.createElement(N.Box,{className:ke.a.formactcont},h.a.createElement(D.a,{palette:"primaryFilled",text:C.h.getI18NValue("support.button.save"),onClick:this.collectBrandData}),h.a.createElement(D.a,{palette:"secondary",text:C.h.getI18NValue("support.label.cancel"),onClick:this.cancelForm})))))}}]),t}(h.a.Component),Fe=_e;_e.defaultProps={isShowConfirm:!1},_e.propTypes={activeDepNameId:g.a.array,addNewBrand:g.a.func.isRequired,asform:g.a.bool,brandId:g.a.string,brandName:g.a.string,brandsNameData:g.a.object,componentFrom:g.a.string,curntDepId:g.a.string,currentOrgId:g.a.string,departmentId:g.a.string,desc:g.a.string,editBrandData:g.a.object,formCancel:g.a.func.isRequired,formSave:g.a.func.isRequired,getDepartmentName:g.a.func.isRequired,imageActions:g.a.func.isRequired,imageUrl:g.a.string,isShowConfirm:g.a.bool,isSupportFrom:g.a.string,mode:g.a.string.isRequired,push:g.a.func.isRequired,routing:g.a.object.isRequired,setFooter:g.a.func,showMessage:g.a.func.isRequired,updateBrand:g.a.func.isRequired};var Oe=a("./src/components/FreezeLayer/FreezeLayer.js"),Be=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/extends.js"),ze=a.n(Be),je=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.stateShowConfirmBox=a.stateShowConfirmBox.bind(a),a}return p()(t,e),l()(t,[{key:"stateShowConfirmBox",value:function(e,t){var a=this.props.showConfirmBox,n="brand"===e?"support.setup.social.brand.deletedesc":"support.setup.social.brand.discdesc",o=C.h.getI18NValue("support.setup.social.brand"),i="brand"===e?o:"twitter"===e?"support.setup.social.twitternew":"support.setup.social.fbpage";i=C.h.getI18NValue(i);var s="brand"===e?"support.social.delete":"support.setup.social.brand.disconnect",r=C.h.getI18NValue(s),l=C.h.getI18NValue(n,i),c=C.h.getI18NValue(i),d=C.h.getI18NValue("support.delete",c);a({type:"delete",submitText:r,cancelText:C.h.getI18NValue("support.label.cancel"),title:d,message:l,isActive:!0,palette:"danger"}).then(function(){t()})}},{key:"render",value:function(){var e=this.props;return h.a.createElement(ce,ze()({stateShowConfirmBox:this.stateShowConfirmBox},e))}}]),t}(m.Component),Ve=a("./src/components/Social/SocialAccPopup/SocialAccPopup.module.css"),Re=a.n(Ve),Me=a("./src/components/Social/SocialFbPages/SocialFbPages.module.css"),Le=a.n(Me),Ke=a("./src/components/Social/SocialPages/SocialPages.module.css"),He=a.n(Ke),Ue=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.key,a=e.classForHover,n=e.getPageData,o=e.pageId,i=e.isPublished,s=e.isAllowed,r=e.pagePic,l=e.pageName,c=e.iconWrapperClass,d=e.pageSpanText,u=e.isMatched;return h.a.createElement(N.Container,{alignBox:"row",align:"vertical",key:t,className:He.a.list+" "+a,dataId:"fb_pages_container",onClick:n.bind(this,o,i,s)},h.a.createElement("div",{className:He.a.avatar},h.a.createElement(ee.a,{src:r,isInValid:!1,name:Object(I.g)(l),shape:"circle",size:"small"})),h.a.createElement(N.Box,{flexible:!0},h.a.createElement("span",{className:He.a.title},l)),!0===i&&!0===s?h.a.createElement(N.Container,{align:"both",isCover:!1,className:c,title:d},u?h.a.createElement(A.a,{name:"ZD-ticknew",iconClass:He.a.icongreenTick}):h.a.createElement(A.a,{name:"ZD-circlePlus",iconClass:He.a.circlePlus})):h.a.createElement("span",{title:d,className:He.a.NotpublishedIcon},h.a.createElement(A.a,{name:"ZD-helpRound",iconClass:He.a.Notpublish})))}}]),t}(h.a.Component),We=Ue;Ue.propTypes={classForHover:g.a.string,getPageData:g.a.func.isRequired,iconWrapperClass:g.a.string,isAllowed:g.a.bool,isMatched:g.a.bool,isPublished:g.a.bool,key:g.a.string,pageId:g.a.string,pageName:g.a.string,pagePic:g.a.string,pageSpanText:g.a.string};var qe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={pageCount:10,isLoading:!1,selected:"",pageData:e.fbPages.pages,pageCursor:e.fbPages.hasNext},a.getPageData=a.getPageData.bind(a),a}return p()(t,e),l()(t,[{key:"getPageData",value:function(e,t,a,n){if(!0===t&&!0===a){this.setState({isLoading:!0,selected:e});for(var o=this.state.pageData,i={},s=0,r=o.length;s<r;s++){var l=o[s];if(l.pageId===e){var c=l.pageId,d=l.pageName,u=l.pagePic;i.pageId=c,i.pageName=d,i.href=u;break}}this.props.getPage(i)}}},{key:"handleScrollEvent",value:function(e){var t=this,a=e.target,n=this.state,o=n.pageCount,i=n.pageCursor,s=n.pageData,r=this.props,l=r.brandId,c=r.showMessage,d=r.orgName,u=r.getPagesData,p=void 0,m=a.scrollTop,h=a.clientHeight;m/(a.scrollHeight-h)*100>90&&(p=o+10,!0===i&&u("/support/"+d+"/SocialIntegration.do?mode=getFacebookPages&brandId="+l+"&cursor="+encodeURIComponent(o)).then(function(e){var a=U()([],e.pages),n=e.hasNext,o=(s=U()([],s)).concat(a);t.setState({pageCursor:n,pageData:o,pageCount:p})},function(e){c({type:"alert",message:C.h.getI18NValue("support.social.internalerror")})}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedPageId,a=e.pageLinkFail;""==t&&!0!==a||this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this.props.selectedPageId,t=this,a=this.state.pageData.map(function(a,n){var o=a.pageName,i=a.pagePic,s=a.pageId,r=a.isPublished,l=a.isAllowed,c=s===e,d=""!=e&&c?"selectedPage":"notselected";d=!1===r?"unpublished":d;var u=!0===r&&!0===l?"support.setup.social.linkpage":!1===r&&!1===l?"support.setup.social.nopageaction":!1===r?"support.setup.social.pageunpublish":"support.setup.social.nopagepermit";u=C.h.getI18NValue(u);var p=c?"tickWrapper":"plusWrapper",m={key:{pageId:s},classForHover:d,getPageData:t.getPageData,pageId:s,isPublished:r,isAllowed:l,pagePic:i,pageName:o,iconWrapperClass:p,pageSpanText:u,isMatched:c};return h.a.createElement(We,m)});return h.a.createElement("div",{"data-id":"socialFbPagesWrapper",className:Le.a.container,onScroll:this.handleScrollEvent.bind(this)},a)}}]),t}(h.a.Component),Ze=qe;qe.propTypes={brandId:g.a.string,fbPages:g.a.object,getPage:g.a.func,getPagesData:g.a.func,orgName:g.a.string,pageLinkFail:g.a.bool,selectedPageId:g.a.string,showMessage:g.a.func};var Ge=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={accData:e.accountData,pageId:"",pageData:{},modifiedBrandData:{},disableBtn:!1,pageLinkFail:!1},a.getFBPageData=a.getFBPageData.bind(a),a.choosedAccData=a.choosedAccData.bind(a),a.apiForAddFbPage=a.apiForAddFbPage.bind(a),a}return p()(t,e),l()(t,[{key:"accountConnect",value:function(e,t,a){var n=this.state,o=n.disableBtn,i=n.accData,s=(n.modifiedBrandData,n.pageId,this.props),r=s.brandData,l=s.showMessage;if(!0!==o)if("connect"===e){var c=i.channelInfo;this.props.popupaction(!1,"twitter");var d=r.brandName,u=C.h.getI18NValue("support.setup.social.twitternew");l({type:"success",message:C.h.getI18NValue("support.setup.social.brandchannel.added",[u,d])}),this.choosedAccData("twitter",c,!0)}else if("done"===e){this.setState({disableBtn:!0});var p=this.state.pageData;this.apiForAddFbPage(p,t)}else"notnow"===e?this.disconnectAcc("facebook"):this.props.popupaction(!1)}},{key:"disconnectAcc",value:function(e){var t=this.props,a=t.viewAs,n=t.brandData,o=t.popupFor,i=t.dComponentView,s=U()({},n),r=s.channels,l=[],c=r.length,d="";0!=c&&r.filter(function(e){e.network!=o?l.push(e):d=e.id}),s.channels=l,"detailView"===a&&(a=i),this.props.brandAccDel(s,a,s.departmentId,o,d),this.props.popupaction(!1,e)}},{key:"apiForAddFbPage",value:function(e,t){var a=this,n=this.props,o=n.orgName,i=n.addPageIntoChannel,s="/support/"+o+"/SocialIntegration.do?mode=linkFacebookPage&brandId="+t,r=this,l={selectedPage:e},c=this.props,d=c.showMessage;c.getPagesData,this.state.accData.channelInfo;i(s,l).then(function(t){var n=t.data;if(302!=n.responseStatus&&"object"===(void 0===n?"undefined":q()(n))&&!0===n.success){e.network="facebook",r.setState({pageId:e.pageId,pageLinkFail:!1,disableBtn:!1});var o={},i=r.state.accData.channelInfo,s=r.props.brandData.brandName;o.accountId=i.accountId,o.accountName=i.accountName,o.pageId=e.pageId,o.pageName=e.pageName,o.href=e.href,o.network=i.network,r.props.popupaction(!1,"facebook");var l=C.h.getI18NValue("support.setup.social.fbpage");d({type:"success",message:C.h.getI18NValue("support.setup.social.brandchannel.added",[l,s])}),r.choosedAccData("facebook",o,!0)}else a.setState({pageLinkFail:!0,disableBtn:!1})},function(e){a.setState({pageLinkFail:!0,disableBtn:!1}),d({type:"alert",message:C.h.getI18NValue("upport.unable.to.process.your.request")})})}},{key:"getFBPageData",value:function(e){this.props.popBrandId;this.setState({pageId:e.pageId,pageData:e})}},{key:"choosedAccData",value:function(e,t,a){var n=U()({},this.props.brandData),o=[].concat(be()(n.channels));if(o.push(t),n.channels=o,a){var i=n.id;this.props.getAccData(i,e,n)}else this.setState({modifiedBrandData:n,disableBtn:!1})}},{key:"render",value:function(){var e=this.props,t=e.popupFor,a=e.brandData,n=e.popBrandId,o=e.showMessage,i=e.orgName,s=e.getPagesData,r=this.state,l=r.accData,c=r.pageId,d=r.disableBtn,u=r.pageLinkFail,p=l.channelInfo,m=l.pageInfo,f=[],g=void 0;null!=m&&(f=void 0===m.error?m.pages:[],g=m.error);var v=a.brandName,b=a.id,w=(a.fbAccount,"facebook"===t?""!=c?"support.social.linkhandle":"support.setup.social.conf.popup.notnow":"support.social.done"),y="facebook"===t?""!=c?"done":"notnow":"connect",S=p.accountName,k=p.accountId;S=Object(Ae.k)(S);var E=p.href;E=null==E?"https://graph.facebook.com/"+k+"/picture":E;var N=Object(I.g)(S),x="facebook"===t?"ZD-facebook":"ZD-twitter",P="facebook"===t?"support.setup.label.facebook":"support.setup.label.twitter";P=C.h.getI18NValue(P);var T="facebook"===t?"fbIconWrapperClass":"twiIconWrapperClass";return h.a.createElement("div",{className:Re.a.ssfacbookPopup},h.a.createElement("div",{className:Re.a.ssfbPopupHead},h.a.createElement(C.c,{i18NKey:"support.setup.social.chlconnected",values:[P,v],className:Re.a.ssfacbooktitle}),h.a.createElement("div",{className:Re.a.ssawesomeImg},h.a.createElement(ne.a,{iconName:x,iconclassName:Re.a[x],imageSrc:E,imageText:N,imageSize:"medium",iconWrapperStyle:Re.a[T]}))),"facebook"===t?h.a.createElement("span",null,h.a.createElement("div",{className:Re.a.ssfbPopupDetail},h.a.createElement(C.c,{tag:"div",className:Re.a.ssfbcont,i18NKey:"support.setup.social.connnectedas",isHtml:!0,values:[S]}),h.a.createElement("span",{className:Re.a.ssdiscont},h.a.createElement(D.a,{id:"popup_fb_disconnect",palette:"dangerFilled",text:C.h.getI18NValue("support.setup.social.brand.disconnect"),onClick:this.disconnectAcc.bind(this,t)})),h.a.createElement(C.c,{tag:"div",className:Re.a.ssdisc,i18NKey:"support.setup.social.popup.selectpage"})),0!=f.length?h.a.createElement(Ze,{pageLinkFail:u,fbPages:m,selectedPageId:c,getPage:this.getFBPageData,brandId:n,orgName:i,showMessage:o,getPagesData:s}):void 0===g?h.a.createElement(C.c,{tag:"div",className:Re.a.tcenter,i18NKey:"support.setup.social.popup.nopages"}):h.a.createElement(C.c,{i18NKey:"support.setup.social.conf.getpage.error"})):h.a.createElement("div",{className:Re.a.ssfbPopupDetail+" "+Re.a.ssbdrNone},h.a.createElement(C.c,{tag:"div",className:Re.a.ssfbcont,i18NKey:"support.setup.social.connnectedas",isHtml:!0,values:[S]}),h.a.createElement("span",{className:Re.a.ssdiscont},h.a.createElement(D.a,{id:"popup_twitter_disconnect",type:"type10",text:C.h.getI18NValue("support.setup.social.brand.disconnect"),onClick:this.disconnectAcc.bind(this,t)})),h.a.createElement(C.c,{tag:"div",className:Re.a.ssAwesome,i18NKey:"support.setup.social.connectsuctext"}),h.a.createElement(C.c,{tag:"div",className:Re.a.ssfbdisc,i18NKey:"support.setup.social.conf.popup.twiconfirm",isHtml:!0,values:[v,S]}),h.a.createElement(C.c,{tag:"div",className:Re.a.description,i18NKey:"support.setup.social.conf.popup.twiconneceted.desc"})),h.a.createElement("div",{className:Re.a.ssfbPopupBtn},!1===d?h.a.createElement(D.a,{id:"accpopup_action",type:"type6",text:C.h.getI18NValue(w),onClick:this.accountConnect.bind(this,y,b)}):h.a.createElement(D.a,{status:"loading",type:"type6"})))}}]),t}(h.a.Component),Ye=Ge;Ge.propTypes={accountData:g.a.object,addPageIntoChannel:g.a.func,brandAccDel:g.a.func,brandData:g.a.object,dComponentView:g.a.string,getAccData:g.a.func,getPagesData:g.a.func,orgName:g.a.string,popBrandId:g.a.string,popupFor:g.a.string,popupaction:g.a.func,showMessage:g.a.func,viewAs:g.a.string};var Je=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),Qe=a.n(Je),Xe=a("./src/components/Social/BrandDetailView/BrandDetailView.module.css"),$e=a.n(Xe),et=a("../components/lib/Tab/index.js"),tt=a("./src/components/Social/BrandSetup/BrandSetup.module.css"),at=a.n(tt),nt=a("./src/components/Social/SocialDetailViewHead/SocialDetailViewHead.module.css"),ot=a.n(nt),it=a("./src/components/Link/Link.js"),st=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isShowConfirm:!1},a.getFeeds=a.getFeeds.bind(a),a}return p()(t,e),l()(t,[{key:"getFeeds",value:function(){var e=this.props,t=e.brandDataId,a=e.socialView;this.props.goTomodule({brandId:t,mode:a})}},{key:"accConnectAction",value:function(e,t){var a=this.props,n=a.socialView,o=a.brandDataId;this.props.accountAddAction("addChannel",o,n,e)}},{key:"accDeletion",value:function(e,t){var a=this;if(e){var n=this.props,o=n.showConfirmBox,i=n.socialView;this.setState({isShowConfirm:!0},function(){var e="facebook"===i?"support.setup.social.fbpage":"support.setup.social.twitternew";e=C.h.getI18NValue(e);var t=a,n=function(){t.setState({isShowConfirm:!1}),t.accDeletion(!1)},s=function(){t.setState({isShowConfirm:!1})},r=C.h.getI18NValue("support.setup.social.brand.discdesc",e),l=C.h.getI18NValue("support.delete",e);o({type:"delete",submitText:C.h.getI18NValue("support.setup.social.brand.disconnect"),cancelText:C.h.getI18NValue("support.label.cancel"),title:l,message:r,isActive:!0,palette:"danger"}).then(function(){n()}).catch(function(){s()})})}else{var s=this.props,r=s.socialView,l=s.brandDataId;this.props.accountDelAction("deleteChannel",l,r)}}},{key:"render",value:function(){var e,t,a=this.props,n=a.socialView,o=a.accConnected,i=a.brandName,s=a.departmentId,r=a.athoPopupUrl,l=a.channelInfo,c=(a.brandDataId,a.brandHref),d=a.getDepartmentName,u=a.currentOrgId,p=d(s),m=void 0,f=void 0;o?(m="iconticknew",f="ZD-ticknew"):(f="ZD-facebook"===n?"ZD-socialFb":"ZD-socialTwitter",m="socialnotConfigAcc"),t="ZD-acebook"===n?"ZD-socialFb":"ZD-socialTwitter";var g="ZD-facebook"===n?"support.setup.social.fbpage":"support.setup.social.twitternew";g=C.h.getI18NValue(g),e="ZD-facebook"===n?"iconsocialfacebook":"icontwitter";var v="ZD-facebook"===n?C.h.getI18NValue("support.setup.social.brandview.capture.fbdesckey"):C.h.getI18NValue("support.setup.social.brandview.capture.twitterdesckey"),b=h.a.createElement(A.a,{name:t,iconClass:ot.a[e]}),w="",y="";if(o){var S=l.href;w="ZD-facebook"===n?l.pageName:l.accountName,y="ZD-facebook"===n?l.pageId:l.accountName;var k=Object(I.g)(w);b=h.a.createElement(ne.a,{iconName:f,iconclassName:ot.a[m],imageSrc:S,imageText:k,imageSize:"large",iconWrapperStyle:ot.a.iconWrapper})}var E=Object(I.g)(i),x=Object(Ae.w)("tickets",!1,"sing_module").tickets||"Ticket",P=!0===o?"support.setup.social.brandview.connecteddesc":"support.setup.social.brandview.toconnectdesc",T=!0===o?[function(e){var t="facebook"===n?"https://www.facebook.com/"+y:"https://twitter.com/"+y;return h.a.createElement(it.a,{href:t,target:"_blank"},e)}(w),g,v,x]:[i,v];return h.a.createElement(N.Container,{alignBox:"row",align:"vertical",className:ot.a.container},h.a.createElement("div",{className:ot.a.ssfbIconspan},b),h.a.createElement(N.Box,{flexible:!0,className:ot.a.ssFBsettingheading},h.a.createElement(C.c,{tag:"div",i18NKey:P,isHtml:!0,values:T}),h.a.createElement(N.Container,{alignBox:"row",align:"vertical",className:ot.a.ssAssociateDep},h.a.createElement("span",{className:ot.a.ssAssociateDepImg},h.a.createElement(ee.a,{src:Object(I.k)(c,u),name:E,shape:"circle",size:"xmedium"})),h.a.createElement("div",{className:ot.a.ssAssociateDepdiv},h.a.createElement("div",null,i),"-1"!=s&&h.a.createElement("div",null,h.a.createElement(C.c,{i18NKey:"support.community.category.department"})," ","-",h.a.createElement("span",{className:ot.a.ssAssdep},p))))),h.a.createElement("span",null,!0===o?h.a.createElement("div",{className:ot.a.btnCont},h.a.createElement(D.a,{dataId:"getfeeds_tomodule",text:C.h.getI18NValue("support.setup.social.brandview.viewfeed"),palette:"primaryFilled",onClick:this.getFeeds}),h.a.createElement(D.a,{dataId:"brand_delete_channel",text:C.h.getI18NValue("support.setup.social.brand.disconnect"),palette:"dangerFilled",onClick:this.accDeletion.bind(this,!0)})):h.a.createElement("div",null,h.a.createElement(D.a,{text:C.h.getI18NValue("support.social.connect"),palette:"primaryFilled",onClick:this.accConnectAction.bind(this,r)}))))}}]),t}(h.a.Component),rt=st;st.propTypes={accConnected:g.a.bool.isRequired,accountAddAction:g.a.func.isRequired,accountDelAction:g.a.func.isRequired,athoPopupUrl:g.a.string,brandDataId:g.a.string,brandHref:g.a.string,brandName:g.a.string,channelInfo:g.a.object.isRequired,currentOrgId:g.a.string,departmentId:g.a.string,getDepartmentName:g.a.func.isRequired,goTomodule:g.a.func.isRequired,showConfirmBox:g.a.func.isRequired,socialView:g.a.string};var lt=a("./src/components/Social/CaptionAndText/CaptionAndText.module.css"),ct=a.n(lt),dt=a("./src/components/Social/SocialSetupHeadText/SocialSetupHeadText.module.css"),ut=a.n(dt),pt=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.captionHeadText;return h.a.createElement("div",{className:ut.a.title},h.a.createElement(C.c,{i18NKey:e,isHtml:!0}))}}]),t}(m.Component),mt=pt;pt.propTypes={captionHeadText:g.a.string.isRequired};var ht=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.descKeys,a=void 0===t?[]:t,n=e.captionHead,o=e.captionText;return h.a.createElement("div",{"data-id":"captionAndTextWrapper"},h.a.createElement(mt,{captionHeadText:n}),h.a.createElement(C.c,{tag:"div",className:ct.a.description,i18NKey:o,isHtml:!0,values:a}))}}]),t}(h.a.Component),ft=ht;ht.propTypes={captionHead:g.a.string.isRequired,captionText:g.a.string.isRequired,descKeys:g.a.array};var gt=a("./src/components/Social/FbCaptureSetup/FbCaptureSetup.module.css"),vt=a.n(gt),bt=a("../components/lib/Radio/Radio.js"),wt=a.n(bt),yt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.radioChange=a.radioChange.bind(a),a.checkBoxChange=a.checkBoxChange.bind(a),a.stateChange=a.stateChange.bind(a),a.SelectappInfunc=a.SelectappInfunc.bind(a),a.selectDepFunc=a.selectDepFunc.bind(a),a.radioTextClik=a.radioTextClik.bind(a),a}return p()(t,e),l()(t,[{key:"selectDepFunc",value:function(e,t){this.stateChange(t,"departmentId","keywords",e)}},{key:"SelectappInfunc",value:function(e){this.stateChange("messages","appendInterval","keywords",e)}},{key:"stateChange",value:function(e,t,a,n){var o=[].concat(be()(this.props.captureData)),i=[],s=this.props.isKeyword,r=this.props,l=r.brandDepartmentId,c=r.cmtBoxCombo,d=c.changeCommentBox,u=c.commentBoxStatus,p=!1,m="isSelected"===t;u||d(!0);var h=this;o.map(function(o,r){if((o=U()({},o)).eId===e)if(o[t]=a,"appendInterval"===t||"departmentId"===t)o[t]=n;else if("pagePostCondition"===t){var c=o.departmentId,d=o.appendInterval;l=void 0===l?"-1":l;var u=h.props.supportDepId;u="0"===u?"-1":u,o.departmentId="keywords"===a?"-1":"-1"===c?"-1"===l?u:l:c,"messages"===e&&(o.appendInterval="keywords"===a?"1":d)}else if("isSelected"===t){var m=!1===a?"Disable":"none";o.pagePostCondition=m}"keywords"===o.pagePostCondition&&!0===o.isSelected&&(s=!0,p=!0),"none"!==o.pagePostCondition&&"Disable"!==o.pagePostCondition||!1!==p||!0!==s||(s=!1),i.push(o)}),this.props.modifiedFBcapData("fbCap",i,s,e,m)}},{key:"checkBoxChange",value:function(e,t,a){var n=!t;this.stateChange(e,"isSelected",n)}},{key:"radioTextClik",value:function(e,t,a){e||this.stateChange(t,"pagePostCondition",a)}},{key:"radioChange",value:function(e,t){this.stateChange(e,"pagePostCondition",t)}},{key:"render",value:function(){var e=this.props,t=e.captureData,a=(e.supportDepId,e.brandDepartmentId),n=e.activeDepNameId,o=this,i=[{apVal:"Always",apKey:2},{apVal:"Never",apKey:1},{apVal:"12 Hours",apKey:3},{apVal:"1 Day",apKey:4},{apVal:"2 Days",apKey:5},{apVal:"3 Days",apKey:6},{apVal:"1 Week",apKey:7},{apVal:"2 Weeks",apKey:8},{apVal:"1 Month",apKey:9},{apVal:"3 Months",apKey:10}],s=[{id:"-1",value:"Select"}].concat(n),r=[],l=Object(Ae.w)("tickets",!1,"sing_module").tickets||"Ticket";return t.map(function(e,t){var n=e.pagePostCondition,c=e.appendInterval,d=e.departmentId,u=e.eId,p="Disable"===n;d=void 0===d?"-1":d;var m=u+"all",f=u+"relavent",g=e.elename,v=void 0,b=void 0;switch(u){case"pagePost":v=C.h.getI18NValue("support.setup.social.brandview.settings.disname",C.h.getI18NValue("support.setup.social.brandview.page")),b="support.setup.social.brandview.settings.pagepost.tltip";break;case"taggedPost":v=C.h.getI18NValue("support.setup.social.brandview.settings.disname",C.h.getI18NValue("support.setup.social.brandview.tagged")),b="support.setup.social.brandview.settings.taggedpost.tltip";break;case"visitorPost":v=C.h.getI18NValue("support.setup.social.brandview.settings.disname",C.h.getI18NValue("support.setup.social.brandview.visitor")),b="support.setup.social.brandview.settings.visitorpost.tltip";break;case"messages":v=C.h.getI18NValue("support.setup.social.brandview.messages"),b="support.setup.social.brandview.settings.message.tltip";break;default:v=u,b="support.setup.social.brandview.postsupper"}var w=e.isSelected;r.push(h.a.createElement(N.Container,{isCover:!1,alignBox:"row",key:t},h.a.createElement("div",{className:vt.a.ssCapsettingleft},h.a.createElement("div",{className:vt.a.ssCapsetleftbox},h.a.createElement("div",null,h.a.createElement("span",{title:C.h.getI18NValue(b)},h.a.createElement(X.a,{id:u,type:"newStylishcbox",checked:w,dataId:"cap_brand_checkbox",onChange:function(e,t){o.checkBoxChange(u,w,t)},text:g}))))),h.a.createElement(N.Box,{flexible:!0,className:vt.a.ssCapsettingright},h.a.createElement(N.Container,{className:vt.a.ssCapsetleftbox+" "+(p&&vt.a.ssop5)},h.a.createElement("div",{className:vt.a.rdobtn},h.a.createElement("div",null,h.a.createElement(wt.a,{id:m,isDisabled:!w,name:u,value:"none",checked:"none"===n,onChange:function(e){o.radioChange(u,e)},text:C.h.getI18NValue("support.setup.social.brandview.capture.all",[v])}))),h.a.createElement("div",{className:vt.a.rdobtn},h.a.createElement("div",null,h.a.createElement(wt.a,{id:f,isDisabled:!w,value:"keywords",name:u,checked:"keywords"===n,onChange:function(e){o.radioChange(u,e)},text:C.h.getI18NValue("support.setup.social.brandview.capture.specifickey",[v])}))),h.a.createElement(N.Container,{alignBox:"row",className:vt.a.mt10},("-1"===a||0===a)&&"keywords"!=n&&s.length>2&&h.a.createElement("div",{className:vt.a.ssmsgextralist},h.a.createElement("div",{className:vt.a.labelcolor},h.a.createElement(C.c,{i18NKey:"support.setup.social.brandview.capture.deptoconvert",values:[l]})),h.a.createElement("div",{className:vt.a.newfrm},h.a.createElement(De.a,{size:"small",selectedValue:d,options:s,valueField:"id",textField:"value",id:u,isDisabled:p,onChange:o.selectDepFunc}))),"messages"===u&&"keywords"!=n&&h.a.createElement("div",{className:vt.a.ssmsgextralist},h.a.createElement("div",{className:vt.a.labelcolor},h.a.createElement(C.c,{i18NKey:"support.setup.social.brandview.capture.appendinterval"}),"Disable"!=n&&h.a.createElement("span",{className:vt.a.aphelptp,title:C.h.getI18NValue("support.setup.social.brandview.capture.appendinterval.tltip")},h.a.createElement(A.a,{name:"ZD-helpCentre"}))),h.a.createElement("div",{className:vt.a.newfrm},h.a.createElement(De.a,{size:"small",selectedValue:void 0===c?2:c,options:i,valueField:"apKey",textField:"apVal",isDisabled:p,onChange:o.SelectappInfunc,id:"append_interval"}))))))))}),h.a.createElement("span",{"data-id":"fbCaptureSetupWrapper"},r)}}]),t}(h.a.Component),St=yt;yt.propTypes={activeDepNameId:g.a.array,brandDepartmentId:g.a.string,captureData:g.a.array.isRequired,changeCommentBox:g.a.func,cmtBoxCombo:g.a.object,isKeyword:g.a.bool,modifiedFBcapData:g.a.func.isRequired,supportDepId:g.a.string};var kt=a("./src/components/Social/TwitterCaptureSetup/TwitterCaptureSetup.module.css"),Ct=a.n(kt),It=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.stateChange=a.stateChange.bind(a),a}return p()(t,e),l()(t,[{key:"stateChange",value:function(e,t,a){var n=[].concat(be()(this.props.captureData)),o=this.props.isKeyword,i=[],s=!1;n.map(function(a,n){(a=U()({},a)).eId===e&&(a=t),"keywords"===a.pagePostCondition&&!0===a.isSelected&&(o=!0,s=!0),"keywords"===a.pagePostCondition&&1!=s&&!0===o&&(o=!1),i.push(a)}),!1===s&&!0===o&&(o=!1),this.props.modifiedTwicapData("twiCap",i,o,e,a)}},{key:"render",value:function(){var e=this.props,t=e.captureData,a=e.supportDepId,n=e.brandDepartmentId,o=e.activeDepNameId,i=this,s=t.map(function(e,t){var s="Twitter"+t;return h.a.createElement(Dt,{key:s,curntCapData:e,supportDepId:a,stateChange:i.stateChange,brandDepartmentId:n,activeDepNameId:o})});return h.a.createElement("span",{"data-id":"twitterCaptureSetupWrapper"},s)}}]),t}(h.a.Component),Et=It,Dt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=a.props.curntCapData;return a.state={curntCapData:n},a.radioChange=a.radioChange.bind(a),a.checkBoxChange=a.checkBoxChange.bind(a),a.stateChange=a.stateChange.bind(a),a.SelectDepFunc=a.SelectDepFunc.bind(a),a.SelectAppendIntroFunc=a.SelectAppendIntroFunc.bind(a),a.radioTextChange=a.radioTextChange.bind(a),a}return p()(t,e),l()(t,[{key:"SelectDepFunc",value:function(e,t){this.stateChange(t,"departmentId",e)}},{key:"SelectAppendIntroFunc",value:function(e,t){this.stateChange(t,"appendInterval",e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.curntCapData;this.state.curntCapData!=t&&this.setState({curntCapData:t})}},{key:"stateChange",value:function(e,t,a){var n=U()({},this.state.curntCapData);e=""===e?n.eId:e,n[t]=a;var o="isSelected"===t;if("isSelected"===t||"appendInterval"===t&&1!=parseInt(a)){var i=!1===a?"Disable":"none";n.pagePostCondition=i}if("pagePostCondition"===t){var s=n.departmentId,r=n.appendInterval,l=this.props.brandDepartmentId;l=void 0===l?"-1":l;var c=this.props.supportDepId;c="0"===c?"-1":c,n.departmentId="keywords"===a?"-1":"-1"===s?"-1"===l?c:l:s,"messages"===e&&(n.appendInterval="keywords"===a?"1":r)}this.props.stateChange(e,n,o)}},{key:"checkBoxChange",value:function(e,t,a){var n=!t;this.stateChange(e,"isSelected",n)}},{key:"radioChange",value:function(e,t){this.stateChange(e,"pagePostCondition",t)}},{key:"radioTextChange",value:function(e,t,a){e&&this.radioChange(t,a)}},{key:"render",value:function(){var e=this.state.curntCapData,t=this.props,a=(t.supportDepId,t.brandDepartmentId),n=t.activeDepNameId,o=e.elename,i=e.eId,s=i+"all",r=i+"relavent",l=this,c=e.pagePostCondition,d=e.appendInterval,u=e.departmentId,p=e.eId,m=e.isSelected;u=void 0===u?"-1":u;var f=[{id:"-1",value:"Select"}].concat(n),g=void 0,v="support.setup.social.brandview.settings.dmessage.tltip";switch(p){case"mentions":g="support.setup.social.brandview.mentions",v="support.setup.social.brandview.settings.tmention.tltip";break;case"messages":g="support.social.twitter.msg";break;default:g=p}var b=C.h.getI18NValue(g);v=C.h.getI18NValue(v);var w="Disable"===c;return h.a.createElement(N.Container,{isCover:!1,alignBox:"row",className:Ct.a.ssCapsetting}," ",h.a.createElement("div",{className:Ct.a.ssCapsetting_left},h.a.createElement(N.Container,{alignBox:"row"},h.a.createElement("div",{title:v},h.a.createElement(X.a,{id:p,type:"newStylishcbox",checked:m,dataId:"cap_brand_checkbox",onChange:function(e,t){l.checkBoxChange(p,m,t)},text:o})))),h.a.createElement(N.Box,{flexible:!0,className:Ct.a.ssCapsettingright},"Emergency Escalation"!=i?h.a.createElement(N.Container,{className:Ct.a.sspagepostOPS+" "+("Disable"===c&&Ct.a.ssop5)},h.a.createElement(N.Container,{alignBox:"row",className:Ct.a.rdobtn},h.a.createElement("div",null,h.a.createElement(wt.a,{id:s,isDisabled:!m,value:"none",checked:"none"===c,selectedValue:c,name:i,color:"blue",dataId:"cap_brand_radio"+i+"_none",onChange:function(e){l.radioChange(i,e)},text:C.h.getI18NValue("support.setup.social.brandview.capture.all",[b])}))),h.a.createElement(N.Container,{alignBox:"row",className:Ct.a.rdobtn},h.a.createElement("div",null,h.a.createElement(wt.a,{id:r,isDisabled:!m,checked:"keywords"===c,value:"keywords",dataId:"cap_brand_radio"+i+"_keywords",selectedValue:c,name:i,color:"blue",onChange:function(e){l.radioChange(i,e)},text:C.h.getI18NValue("support.setup.social.brandview.capture.specifickey",[b])}))),h.a.createElement(N.Container,{alignBox:"row",className:Ct.a.ssmsgextradiv},("-1"===a||0===a)&&"keywords"!=c&&f.length>2&&h.a.createElement("div",{className:Ct.a.ssmsgextralist},h.a.createElement(C.c,{tag:"div",className:Ct.a.labelcolor,i18NKey:"support.bug.integ.setup.department"}),h.a.createElement("div",{className:Ct.a.newfrm},h.a.createElement(De.a,{size:"small",selectedValue:u,options:f,valueField:"id",textField:"value",id:p,isDisabled:w,onChange:l.SelectDepFunc}))),"messages"===i&&"keywords"!=c&&h.a.createElement("div",{className:Ct.a.ssmsgextralist},h.a.createElement("div",{className:Ct.a.labelcolor},h.a.createElement(C.c,{i18NKey:"support.setup.social.brandview.capture.appendinterval"}),"Disable"!=c&&h.a.createElement("span",{className:Ct.a.aphelptp,title:C.h.getI18NValue("support.setup.social.brandview.capture.appendinterval.tltip")},h.a.createElement(A.a,{name:"ZD-helpCentre"}))),h.a.createElement("div",{className:Ct.a.newfrm},h.a.createElement(De.a,{size:"small",selectedValue:void 0===d?2:d,options:[{apVal:"Always",apKey:2},{apVal:"Never",apKey:1},{apVal:"12 Hours",apKey:3},{apVal:"1 Day",apKey:4},{apVal:"2 Days",apKey:5},{apVal:"3 Days",apKey:6},{apVal:"1 Week",apKey:7},{apVal:"2 Weeks",apKey:8},{apVal:"1 Month",apKey:9},{apVal:"3 Months",apKey:10}],valueField:"apKey",textField:"apVal",isDisabled:w,onChange:l.SelectappInfunc}))))):""))}}]),t}(h.a.Component);Dt.propTypes={activeDepNameId:g.a.array,brandDepartmentId:g.a.string,curntCapData:g.a.object.isRequired,stateChange:g.a.func,supportDepId:g.a.string},It.propTypes={activeDepNameId:g.a.array,brandDepartmentId:g.a.string,captureData:g.a.array,isKeyword:g.a.bool,modifiedTwicapData:g.a.func,supportDepId:g.a.string};var Nt=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.supportDepId,a=e.brandDepartmentId,n=e.activeDepNameId,o=e.cmtBoxCombo;return h.a.createElement("span",{"data-id":"captureSetupWrapper"},"facebook"===this.props.viewforcpsetting?h.a.createElement(St,{isKeyword:this.props.isKeyword,modifiedFBcapData:this.props.modifiedCap,captureData:this.props.captureData,supportDepId:t,brandDepartmentId:a,activeDepNameId:n,cmtBoxCombo:o}):h.a.createElement(Et,{isKeyword:this.props.isKeyword,modifiedTwicapData:this.props.modifiedCap,captureData:this.props.captureData,supportDepId:t,brandDepartmentId:a,activeDepNameId:n,cmtBoxCombo:o}))}}]),t}(h.a.Component),xt=Nt;Nt.propTypes={activeDepNameId:g.a.array,brandDepartmentId:g.a.string,captureData:g.a.array.isRequired,cmtBoxCombo:g.a.object,isKeyword:g.a.bool,modifiedCap:g.a.func,supportDepId:g.a.string,viewforcpsetting:g.a.string};var Pt=a("./src/components/Social/AddKeyWords/AddKeyWords.module.css"),Tt=a.n(Pt),At=a("./src/components/Social/InputGroupWidget/InputGroupWidget.module.css"),_t=a.n(At),Ft=a("./node_modules/react-sortable-hoc/dist/commonjs/index.js"),Ot=0,Bt=!1,zt=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=(e.index,e.self),a=e.loopdata,n=e.i,o=e.myLis,i=t.state,s=i.groupedInput,r=(i.inputError,i.selectedKey),l=(i.inputval,i.selectedKeys),c=(i.ctrlPressed,i.activeMode),d=i.editKeyValue,u=i.shakeEle,p=(i.keysCount,i.editMode),m=(t.props.type,+r),f=(s.length,-1!=l.indexOf(n)?"highlight":"normal"),g=u.toString()===n.toString()?"animatetoggle":"normal";return n===m&&!0===c&&!0===p?(d=Object(Ae.k)(d),h.a.createElement("li",{className:_t.a.widgetli+" "+_t.a.searhchoices+" "+_t.a[f]+" "+_t.a[g],key:o,"data-id":n},h.a.createElement("span",{className:_t.a.liText,ref:function(e){t[o]=e},suppressContentEditableWarning:!0,contentEditable:"true",dangerouslySetInnerHTML:{__html:d},onKeyDown:t.onKeyupEdit.bind(this,n)}),!0===c&&h.a.createElement("span",{className:_t.a.searchoiceclose,onClick:t.rmvGrplist.bind(this,a)},h.a.createElement(A.a,{name:"ZD-close22",size:"10"})))):h.a.createElement("li",{className:_t.a.widgetli+" "+_t.a.searhchoices+" "+_t.a[f]+" "+_t.a[g]+" "+_t.a.list,key:o,"data-id":n},h.a.createElement("span",{className:_t.a.drnormal},h.a.createElement(A.a,{name:"ZD-draganddropSmall",size:"sizeinherit",hoverColor:"color1",id:"move_indw"})),h.a.createElement("span",{className:_t.a.liText,ref:function(e){t[o]=e},onClick:t.selectKeyAction.bind(this,n,o,a,!1,!0),onDoubleClick:t.selectKeyAction.bind(this,n,o,a,!0,!1)},a),!0===c&&h.a.createElement("span",{className:_t.a.searchoiceclose,onClick:t.rmvGrplist.bind(this,a)},h.a.createElement(A.a,{name:"ZD-close22",size:"10"})))}}]),t}(h.a.Component),jt=Object(Ft.SortableElement)(zt),Vt=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.self,n=a.state,o=n.groupedInput,i=(n.inputError,n.selectedKey,n.inputval,n.selectedKeys,n.ctrlPressed,n.activeMode),s=(n.editKeyValue,n.shakeEle,n.keysCount,a.props),r=(s.type,s.itemRef,o.length,[]);return t.filter(function(e,t){if(!0===i||!1===i&&t<50){var n="gList"+t;r.push(h.a.createElement(jt,{key:"item-"+t,i:t,myLis:n,index:t,self:a,loopdata:e}))}}),h.a.createElement(N.Container,{tagName:"ul",alignBox:"row",align:"vertical",isCover:!1,wrap:"wrap",className:_t.a.widgetUl},r)}}]),t}(h.a.Component),Rt=Object(Ft.SortableContainer)(function(e){var t=e.items,a=e.self;return h.a.createElement(Vt,{self:a,items:t})}),Mt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={inputval:"",inputError:!1,groupedInput:a.props.groupedDatas||[],selectedKey:"",editMode:!1,editKeyValue:"",tabPressed:!1,ctrlPressed:!1,selectedKeys:[],activeMode:!1,shakeEle:"",keysCount:50,isTodelete:!1,onChangeStop:!1},a.rmvGrplist=a.rmvGrplist.bind(a),a.setData=a.setData.bind(a),a.selectKey=a.selectKey.bind(a),a.selectKeyAction=a.selectKeyAction.bind(a),a.onKeyupEdit=a.onKeyupEdit.bind(a),a.removeFromArray=a.removeFromArray.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.setEndOfContenteditable=a.setEndOfContenteditable.bind(a),a.onkeyUp=a.onkeyUp.bind(a),a.handleWindowClick=a.handleWindowClick.bind(a),a.handleWindowKeyDown=a.handleWindowKeyDown.bind(a),a.deleteSelected=a.deleteSelected.bind(a),a.validateInput=a.validateInput.bind(a),a.getMoreKeys=a.getMoreKeys.bind(a),a.onSortEnd=a.onSortEnd.bind(a),a.shouldCancelStart=a.shouldCancelStart.bind(a),a}return p()(t,e),l()(t,[{key:"validateInput",value:function(e,t,a,n){var o=this.state.groupedInput,i=this.props,s=i.isSpeCharacterAllowed,r=i.notAllowedRegexPattern,l=(o=U()([],o)).toLocaleString().toLowerCase().split(","),c=[],d={},u=[],p=void 0===e?"undefined":q()(e),m=!1,h=-1;if("object"===p)e.map(function(t,a){if(t=t.trim(),h=l.indexOf(t.toLowerCase()),!1===(m=!1===(m=-1!=h)?e.indexOf(t)!==e.lastIndexOf(t):m)){var n=!1;s&&(n=r.test(t)),!1===n?c.push(t):n&&u.push(t)}if(m){var o=l.indexOf(t);-1===o&&(o="enteredData "+a),d[o]=t}});else{h=l.indexOf(e.toLowerCase()),m=-1!=l.indexOf(e.toLowerCase());var f=!1;s&&(f=r.test(e)),!1===f&&c.push(e),f&&u.push(e)}var g=Qe()(d),v=g.length;if("string"===p&&""!=e||"object"===p&&0!=e.length){var b=!0,w=[],y=0!=v;if(!1===m||"edit"===t||"object"===p&&0!=c.length){if("add"===t&&(w=o.concat(c)),"edit"===t){var S="";if(n=+n,o.map(function(t,a){var o=t;a===n&&(-1===h||-1!=h&&h===n)?o=e:a===n&&-1!=h&&h!=a&&(b=!1,S=t),w.push(o)}),!b)return void a({inputval:"",shakeEle:h,editKey:S,inputError:"support.setup.social.brandview.error.keywords.exsiting",groupedInput:w})}if(s){var k=!1,C=[];w.map(function(e,t){!1===k&&(k=r.test(e))&&C.push(e)});var I="",E="",D="";if(0!=v){E="support.setup.social.brandview.error.keywords.exsiting";var N=[];g.map(function(e,t){var a=d[e];null!=a&&N.push(a)}),I=N;var x=g[0];0!=v&&!1===x.includes("entered")&&(h=g[0]),D=h}I=0!=C.length?""===I?C:I.concat(C):I,k=0!==u.length||k,0!=u.length&&(I=I.concat(u)),a(k?{inputval:I,shakeEle:D,inputError:"support.setup.social.brandview.error.keywords.special",groupedInput:w,onChangeStop:y}:{inputval:I,shakeEle:D,groupedInput:w,inputError:E,onChangeStop:y})}else a({inputval:inptVal,shakeEle:shakePosition,groupedInput:w,inputError:inputEr,onChangeStop:y})}else a({inputval:e,shakeEle:h,inputError:"support.setup.social.brandview.error.keywords.exsiting",groupedInput:o,onChangeStop:y})}}},{key:"getMoreKeys",value:function(){}},{key:"handleWindowKeyDown",value:function(e){var t=this,a=this.state,n=a.tabPressed,o=a.ctrlPressed,i=a.selectedKey,s=(a.selectedKeys,a.isTodelete,a.groupedInput),r=a.activeMode,l=a.editMode,c=a.inputval;if(e.ctrlKey&&!1===o)this.setState({ctrlPressed:!0});else if(!1===e.ctrlKey&&o&&8!=e.keyCode)this.setState({ctrlPressed:!1,selectedKeys:[]});else if(8===e.keyCode&&o)this.deleteSelected();else{if(13===e.keyCode&&""!=i){var d="gList"+i;return this.selectKey(i,d,s[i],!0),void e.preventDefault()}if(r&&!1===l&&""!=i&&(37===e.keyCode||39===e.keyCode)){var u=void 0,p=!1,m=s.length,h=+i;37===e.keyCode&&(u=""===i?m-1:h-1,p=!0),39===e.keyCode&&(p=""!==i,u=h+1),u>-1&&u<s.length&&!0===p&&this.selectKey(u,"gList"+u,s[u])}!1===n&&9===e.keyCode&&this.setState({tabPressed:!0,isTodelete:!1,selectedKey:"",selectedKeys:[],editKeyValue:"",ctrlPressed:!1,activeMode:!1},function(){0!=c.length&&""===i&&t.validateInput(c,"add",t.setData)}),!0===n&&this.setState({tabPressed:!1})}}},{key:"deleteSelected",value:function(){var e=this.state,t=e.groupedInput,a=e.selectedKeys;if(0!=a.length){var n=[];t.map(function(e,t){var o=!1;a.map(function(e,a){+e===t&&(o=!0)}),!1===o&&n.push(e)}),this.setState({groupedInput:n,selectedKeys:[],ctrlPressed:!1,selectedKey:""})}}},{key:"handleWindowClick",value:function(e){var t=this,a=this.state.inputval,n=this.state,o=n.activeMode,i=n.keysCount;if(null==e||null==e.groupedInput){var s=this.state,r=s.selectedKey,l=s.editMode,c=(s.editKeyValue,s.groupedInput);if(""!=a||!0===l&&""!=r){var d=!0===l?"edit":"add",u="";if(!0===l&&0===(u=this["gList"+r].innerText).length){var p=U()([],c);return p.splice(r,1),void this.setState({groupedInput:p,editMode:!1,selectedKey:""},function(){t.props.getGroupedData(p,t.props.findId)})}var m=!0===l?u:a;this.validateInput(m,d,this.handleWindowClick,r)}else{var h=c.length,f=h%50,g=!0===o?i:0===f?h:5*f;this.setState({selectedKey:"",editMode:!1,editKeyValue:"",tabPressed:!1,ctrlPressed:!1,selectedKeys:[],activeMode:!1,keysCount:g})}}else{var v=void 0===e.inputval?this.state.inputval:e.inputval,b=void 0===e.inputError?this.state.inputError:e.inputError,w=void 0===e.groupedInput?this.state.groupedInput:e.groupedInput,y=w.length,S=y%50,k=!0===o?i:0===S?y:5*S;this.setState({inputval:v,inputError:b,groupedInput:w,selectedKeys:[],selectedKey:"",editMode:!1,editKeyValue:"",tabPressed:!1,ctrlPressed:!1,isTodelete:!1,activeMode:!1,keysCount:k},function(){t.props.getGroupedData(w,t.props.findId)})}}},{key:"selectKeyAction",value:function(e,t,a,n,o,i){if(o){var s=this;Ot=setTimeout(function(){Bt||s.selectKey(e,t,a,n,i),Bt=!1},200)}else clearTimeout(Ot),Bt=!0,this.selectKey(e,t,a,n,i)}},{key:"selectKey",value:function(e,t,a,n,o){var i=this,s=this.state,r=s.ctrlPressed,l=s.selectedKeys;if(s.activeMode){var c=[];if(r){var d=(c=U()([],l)).indexOf(e);return-1===d?c.push(e):c.splice(d,1),void this.setState({selectedKeys:c,selectedKey:"",editMode:!1})}c.push(e),e=e.toString(),n=void 0!==n&&n,a=void 0===a?"":a,this.setState({selectedKey:e,editKeyValue:a,editMode:n,selectedKeys:c,ctrlPressed:!1,isTodelete:n},function(){if(n){var e=i[t];null!=e&&i.setEndOfContenteditable(e)}})}else this.setState({selectedKey:"",editMode:!1,editKeyValue:"",tabPressed:!1,ctrlPressed:!1,selectedKeys:[],activeMode:!0},function(){i.inputSearch.focus()})}},{key:"setEndOfContenteditable",value:function(e){var t=void 0,a=void 0;if(document.createRange&&null!=e){(t=document.createRange()).selectNodeContents(e),a=window.getSelection();var n=window.getSelection().focusOffset;t.setStart(e.firstChild,n),t.setEnd(e.firstChild,n),a.removeAllRanges(),a.addRange(t)}}},{key:"handleKeyDown",value:function(e){var t=this,a=this.state,n=a.tabPressed,o=a.ctrlPressed,i=a.isTodelete,s=a.groupedInput,r=a.selectedKey,l=a.selectedKeys;if(!a.onChangeStop||e.target.selectionStart==e.target.value.length||188!==e.keyCode&&13!==e.keyCode){e.ctrlKey&&!1===o&&this.setState({ctrlPressed:!0}),!1===e.ctrlKey&&o&&8!=e.keyCode&&this.setState({ctrlPressed:!1,selectedKeys:[]}),!1===n&&9===e.keyCode?this.setState({tabPressed:!0,isTodelete:!1,selectedKey:"",selectedKeys:[],editKeyValue:"",ctrlPressed:!1,activeMode:!1},function(){0!=c.length&&""===r&&t.validateInput(c,"add",t.setData)}):!0===n&&this.setState({tabPressed:!1});var c=e.target.value;if(37!=e.keyCode&&39!=e.keyCode&&null!=c&&(c=(c=c.trim()).replace(",","")),8===e.keyCode&&""===c){if(0!=l.length&&!1===i)return void this.deleteSelected();if(!i){this.setState({isTodelete:!0});var d=""===r?s.length-1:+r;this.selectKey(d,"gList"+d,s[d],!1)}i&&(this.setState({isTodelete:!1,selectedKey:"",selectedKeys:[]}),this.removeFromArray(r),!0)}}else e.preventDefault()}},{key:"onKeyupEdit",value:function(e,t){var a=this;if(null!=t&&null!=t.target&&"SPAN"===t.target.nodeName){var n=t.currentTarget.innerText.replace(/\n|\r/g,""),o=n.length,i=this.state,s=i.groupedInput,r=i.selectedKey;if(0!=o&&""!=n)13===t.keyCode&&(n=n.trim(),this.validateInput(n,"edit",this.onKeyupEdit,r));else if(13===t.keyCode){var l=U()([],s);l.splice(r,1),this.setState({groupedInput:l,editMode:!1,selectedKey:"",editKeyValue:""},function(){a.inputSearch.focus(),a.props.getGroupedData(l,a.props.findId)})}}else if(null!=e.groupedInput){var c=this.state,d=c.inputval,u=c.inputError,p=c.groupedInput,m=(c.editKeyValue,c.shakeEle,void 0===e.inputval||e.inputval,void 0===e.inputError?u:e.inputError),h=void 0===e.groupedInput?p:e.groupedInput,f=void 0===e.editKey?"":e.editKey,g=void 0===e.shakeEle?"":e.shakeEle;this.setState({groupedInput:h,selectedKey:"",shakeEle:g,editKeyValue:f,selectedKeys:[],editMode:!1,ctrlPressed:!1,inputError:m,isTodelete:!1},function(){a.inputSearch.focus(),a.props.getGroupedData(h,a.props.findId)})}}},{key:"setData",value:function(e){var t=this,a=e.inputval,n=e.inputError,o=e.groupedInput,i=e.onChangeStop,s=e.shakeEle,r=this.state,l=void 0===a?r.inputval:a,c=void 0===n?r.inputError:n,d=void 0===o?r.groupedInput:o,u=void 0!==i&&i,p=void 0===s?r.shakeEle:s;this.setState({inputval:l,shakeEle:p,inputError:c,groupedInput:d,selectedKeys:[],selectedKey:"",isTodelete:!1,onChangeStop:u},function(){t.props.getGroupedData(d,t.props.findId)})}},{key:"onkeyUp",value:function(e,t){if(t.persist(),this.state.onChangeStop){if(13!=t.keyCode&&188!=t.keyCode)return;if(t.target.selectionStart!=t.target.value.length&&(188===t.keyCode||13===t.keyCode))return void t.preventDefault()}var a=t.target.value,n=(a=a.trim()).split(","),o=n.length;if(n.length>1&&""!=n[0]){if(!0===this.state.onChangeStop&&13===t.keyCode){var i=""!=n[o]?n:n.slice(0,o-1);this.validateInput(i,"add",this.setData)}}else{a=a.replace(",","");var s=this.state,r=s.inputval,l=s.groupedInput,c=(s.inputError,s.tabPressed),d=(s.ctrlPressed,s.selectedKeys,s.isTodelete,s.selectedKey),u=void 0,p=!1,m=(l=0!=l.length?String(l).toLowerCase().split(","):l).length,h=+d;""===d&&(37===t.keyCode&&0===r.length&&(u=""===d?m-1:h-1,p=!0),39===t.keyCode&&0===r.length&&(p=""!==d,u=h+1),u>-1&&u<l.length&&!0===p&&this.selectKey(u,"gList"+u,l[u])),""!=a&&(void 0===t.keyCode&&c||188===t.keyCode||13===t.keyCode)&&(this.validateInput(a,"add",this.setData),this.setState({tabPressed:!1}))}}},{key:"onChangefunc",value:function(e){var t=e.target.value,a=this.state,n=a.onChangeStop,o=a.inputError,i=t.split(","),s=i.length;if(i.length>1&&""!=i[0]){var r=""!=i[s-1]?i:i.slice(0,s-1);return n?void this.setState({inputval:r}):void this.validateInput(r,"add",this.setData)}if(n)this.setState({inputval:t});else{var l=0===(t=t.replace(",","")).length?"":o;this.setState({inputval:t,inputError:l})}}},{key:"removeFromArray",value:function(e){var t=this,a=this.state.groupedInput,n=U()([],a);n.splice(e,1),this.setState({groupedInput:n},function(){t.props.getGroupedData(n,t.props.findId)})}},{key:"rmvGrplist",value:function(e,t){t.nativeEvent.stopImmediatePropagation();var a=this.state.groupedInput,n=[].concat(a).indexOf(e);this.removeFromArray(n)}},{key:"handleHover",value:function(e,t,a){var n=this;a.nativeEvent.stopImmediatePropagation(),"type1"===t&&"SPAN"!=a.target.nodeName&&("mEnter"===e?this.setState({selectedKey:"",editMode:!1,editKeyValue:"",tabPressed:!1,ctrlPressed:!1,selectedKeys:[],activeMode:!0},function(){n.inputSearch.focus()}):"mLeave"===e&&this.inputSearch.blur())}},{key:"componentWillReceiveProps",value:function(e){var t=e.groupedDatas;this.state.groupedInput!=t&&this.setState({groupedInput:t,keysCount:50})}},{key:"onSortEnd",value:function(e,t){var a=e.oldIndex,n=e.newIndex;if(a!==n){var o=this.state.groupedInput,i=Object(Ft.arrayMove)(o,a,n);this.setState({groupedInput:i})}}},{key:"shouldCancelStart",value:function(e){if(this.props.dragAndDrop)return!0;var t=e.target.tagName.toLowerCase(),a=e.target.dataset.id;return-1!=["input","span","i"].indexOf(t)&&("i"!=t||"i"===t&&"move_indw"!=a)||void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.groupedInput,n=t.inputError,o=t.selectedKey,i=t.inputval,s=(t.selectedKeys,t.ctrlPressed,t.activeMode),r=(t.editKeyValue,t.shakeEle,t.keysCount,this.props.type),l=a.length-50;return o=+o,h.a.createElement("div",null,h.a.createElement("div",{className:_t.a.widget+" "+_t.a[r],onClick:this.handleHover.bind(this,"mEnter",r),onMouseLeave:this.handleHover.bind(this,"mLeave",r)},0!=a.length&&h.a.createElement(Rt,{items:a,self:this,onSortEnd:this.onSortEnd.bind(this),axis:"xy",helperClass:_t.a.hClass,shouldCancelStart:this.shouldCancelStart}),!1===s&&l>0&&h.a.createElement("i",{onClick:this.getMoreKeys},"+",l,"more"),"type1"===r&&h.a.createElement(N.Container,{tagName:"ul",alignBox:"row",align:"vertical",isCover:!1,wrap:"wrap",className:_t.a.widgetUl},h.a.createElement("li",{className:_t.a.widgetli},h.a.createElement("input",{ref:function(t){e.inputSearch=t},type:"text",onClick:this.handleHover.bind(this,"mEnter",r),placeholder:this.props.placeHolder,className:_t.a.inputTxt,value:i,id:"myText",onChange:this.onChangefunc.bind(this),onKeyUp:this.onkeyUp.bind(this,!1),onBlur:this.onkeyUp.bind(this,!0),tabIndex:"1",onKeyDown:this.handleKeyDown}))),""!=n&&h.a.createElement("div",{className:_t.a.errorMessage},C.h.getI18NValue(n))))}}]),t}(h.a.Component),Lt=Mt;Mt.defaultProps={type:"type1",handleBlur:!1,notAllowedRegexPattern:new RegExp(/[#%"<>`]/),dragAndDrop:!1,ddAxis:"xy"},Mt.propTypes={ddAxis:g.a.string,dragAndDrop:g.a.bool,findId:g.a.string.isRequired,getGroupedData:g.a.func.isRequired,groupedDatas:g.a.array,handleBlur:g.a.bool,isSpeCharacterAllowed:g.a.bool,notAllowedRegexPattern:g.a.any,placeHolder:g.a.string,type:g.a.string},zt.propTypes={i:g.a.any,index:g.a.any,loopdata:g.a.any,myLis:g.a.any,self:g.a.any},Vt.propTypes={items:g.a.any,self:g.a.any};var Kt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={selectedDepKeyword:e.selectedDepKeyword,selectedCrntDep:e.selectedCrntDep,isKeysAdded:"nokeys",isShowConfirm:!1},a.getData=a.getData.bind(a),a.selecteCrntDep=a.selecteCrntDep.bind(a),a}return p()(t,e),l()(t,[{key:"addAction",value:function(){var e=this,t=this.state,a=t.selectedDepKeyword,n=t.selectedCrntDep,o=this.props,i=o.brandDepartmentId,s=o.showMessage;"-1"!==n?0!==a.length?"-1"==n&&"-1"==i||0==a.length||(n="-1"!=i?i:n,this.setState({selectedCrntDep:"-1",selectedDepKeyword:[]},function(){e.props.editeDepKeys(!1,a,n)})):s({type:"success",message:C.h.getI18NValue("support.setup.social.keys.empty")}):s({type:"success",message:C.h.getI18NValue("support.setup.social.keywords.dep.empty")})}},{key:"selecteCrntDep",value:function(e){this.props.getSelectedDep(e)}},{key:"getData",value:function(e){var t=this.state,a=t.selectedDepKeyword,n=t.selectedCrntDep,o=this.props.changeCommentBox;if(a!=e){if(o(!0),"-1"!=n&&""!=n){var i=0!=e.length?"keys":"nokeys";this.setState({selectedDepKeyword:e,isKeysAdded:i})}else this.setState({selectedDepKeyword:e});this.props.editeDepKeys(!0)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.state,a=t.selectedCrntDep,n=t.selectedDepKeyword,o=e.selectedCrntDep;if(o!=a){var i=e.selectedDepKeyword;if("-1"===a&&0!=n.length){var s=this;if(0!=i.length){var r=[].concat(be()(i),be()(n)),l=[];r.filter(function(e,t){-1===l.indexOf(e)&&l.push(e)});var c=this.props.showConfirmBox;return void this.setState({isShowConfirm:!0},function(){c({type:"delete",submitText:C.h.getI18NValue("support.social.ok"),cancelText:C.h.getI18NValue("support.form.leave.cancel.label"),title:C.h.getI18NValue("support.social.attention"),message:C.h.getI18NValue("support.setup.social.brandview.keywords.mergedesc"),isActive:!0,palette:"danger"}).then(function(){s.setState({selectedCrntDep:o,selectedDepKeyword:l,isShowConfirm:!1})})})}return void this.setState({selectedCrntDep:o,selectedDepKeyword:n})}this.setState({selectedCrntDep:o,selectedDepKeyword:i})}}},{key:"render",value:function(){var e=new RegExp(/[#%"<>`]/),t=this.state,a=t.selectedDepKeyword,n=t.selectedCrntDep,o=t.isKeysAdded,i=this.props,s=(i.supportDepId,i.brandDepartmentId),r=(i.isKeywordDone,i.depName,i.activeDepNameId),l=[].concat([{id:-1,value:"Select"}],be()(r));return h.a.createElement("div",{className:Tt.a.container,"data-id":"addKeywordsWrapper"},h.a.createElement("div",{className:Tt.a.keyWordsContainer},h.a.createElement(Lt,{"data-id":"addkeys_inGrp",handleBlur:!0,findId:"addKeywords",getGroupedData:this.getData,notAllowedRegexPattern:e,isSpeCharacterAllowed:!0,groupedDatas:a,placeHolder:"Type Keywords"}),h.a.createElement(C.c,{className:Tt.a.description,tag:"div",i18NKey:"support.setup.social.brandview.keywords.fielddesc"})),"-1"===s&&r.length>1&&h.a.createElement("div",null,h.a.createElement(C.c,{className:Tt.a.title,tag:"div",i18NKey:"support.setup.social.brandview.keywords.deptoconvert"}),h.a.createElement("div",{className:Tt.a.dropDownContainer},h.a.createElement(De.a,{size:"medium",selectedValue:n,options:l,valueField:"id",textField:"value",onChange:this.selecteCrntDep}))),h.a.createElement("div",{className:Tt.a[o]},h.a.createElement(D.a,{dataId:"doneKey",text:C.h.getI18NValue("support.social.done"),onClick:this.addAction.bind(this)})))}}]),t}(h.a.Component),Ht=Kt;Kt.propTypes={activeDepNameId:g.a.array.isRequired,brandDepartmentId:g.a.string.isRequired,changeCommentBox:g.a.func,depName:g.a.string.isRequired,editeDepKeys:g.a.func,getSelectedDep:g.a.func.isRequired,isKeywordDone:g.a.string,selectedCrntDep:g.a.string,selectedDepKeyword:g.a.array,showConfirmBox:g.a.func,showMessage:g.a.func,supportDepId:g.a.string.isRequired},Kt.defalutProps={supportDepId:"11",getSelectedDep:function(){},depName:"test",brandDepartmentId:"-1",activeDepNameId:[{id:"11",value:"test"},{id:"12",value:"test2"}]};var Ut=a("./src/components/Social/DepartmentsAndKeyWords/DepartmentsAndKeyWords.module.css"),Wt=a.n(Ut),qt=a("./src/components/Social/InputGroupWidgetView/InputGroupWidgetView.module.css"),Zt=a.n(qt),Gt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={count:10},a.getMore=a.getMore.bind(a),a}return p()(t,e),l()(t,[{key:"getMore",value:function(){var e=this.state.count,t=e+10,a=this.props.groupedDatas.length;t<a?this.setState({count:e+10}):a-e!=0&&this.setState({count:e+10})}},{key:"render",value:function(){var e=this.props.groupedDatas,t=e.length,a=t-1,n=void 0,o=this.state.count,i=a-o;return 0!=t&&(n=[],e.filter(function(e,t){var a="gList"+t;o>t&&n.push(h.a.createElement("li",{className:Zt.a.widgetli,key:a,"data-id":a},h.a.createElement("span",{className:Zt.a.liText},e)))})),h.a.createElement("div",{"data-id":"inputGroupWidgetViewWrapper"},h.a.createElement("ul",{className:Zt.a.widgetUl},n),t>o&&h.a.createElement("div",{className:Zt.a.moreCont},h.a.createElement("span",{"data-id":"inputGrpViewMore",className:Zt.a.more,onClick:this.getMore},"+",i+1," more")))}}]),t}(h.a.Component),Yt=Gt;Gt.propTypes={groupedDatas:g.a.array.isRequired};var Jt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={keysListCount:3,isShowConfirm:!1,confirmActions:{}},a.deleteDepKeywords=a.deleteDepKeywords.bind(a),a.selectDep=a.selectDep.bind(a),a.getMoreDepartmentKeys=a.getMoreDepartmentKeys.bind(a),a}return p()(t,e),l()(t,[{key:"getMoreDepartmentKeys",value:function(){var e=this.state.keysListCount,t=this.props.depKWordDatas.length,a=e+3;e<t?this.setState({keysListCount:a}):t-a!=0&&this.setState({keysListCount:a})}},{key:"deleteDepKeywords",value:function(e,t){t.stopPropagation();var a=this,n=this.props,o=n.keyWordsview,i=n.showConfirmBox,s={closeConfirmBox:function(){a.setState({isShowConfirm:!1},function(){a.props.deleteDepKeywords(e,o)})},cancelConfirmBox:function(){a.setState({isShowConfirm:!1})}};this.setState({isShowConfirm:!0,confirmActions:s},function(){var e=C.h.getI18NValue("support.social.module.keyword");i({type:"delete",submitText:C.h.getI18NValue("support.social.delete"),cancelText:C.h.getI18NValue("support.social.cancel"),title:C.h.getI18NValue(e),message:C.h.getI18NValue("support.setup.social.brandview.keydelete.desc"),isActive:!0,palette:"danger"}).then(function(){s.closeConfirmBox()}).catch(function(){s.cancelConfirmBox()})})}},{key:"selectDep",value:function(e){var t=this.props.brandDepartmentId,a=e.currentTarget.dataset.depid;"SPAN"!==e.target.nodeName&&("-1"===t||"-1"!=t&&t===a)&&this.props.getSelectedDep(a)}},{key:"render",value:function(){var e=this.props.depKWordDatas,t=this.state.keysListCount,a=this,n=this.props,o=n.brandDepartmentId,i=n.getDepartmentName,s=e.length,r=e.map(function(e,n){var s=e.keys,r=e.departmentId,l=i(r),c="-1"===o||"-1"!=o&&o===r;if(0!=s.length&&t>n)return h.a.createElement("div",{className:Wt.a.list+" "+Wt.a[!0===c?"ishover":""],key:n,"data-depid":r,"data-id":"dep_list_"+r,onClick:a.selectDep.bind(this)},h.a.createElement("div",null,l),h.a.createElement("div",{className:Wt.a.tagsContainer},h.a.createElement(Yt,{groupedDatas:s}),!0===c&&h.a.createElement("span",{"data-id":"dep_keys_delete_"+r,onClick:a.deleteDepKeywords.bind(this,r),className:Wt.a.deleteIconCont},h.a.createElement(A.a,{name:"ZD-socialDelete",iconClass:Wt.a.deleteIcon}))))});return h.a.createElement("div",{className:Wt.a.container,"data-id":"departmentsAndKeyWordsWrapper"},r,s>t&&h.a.createElement("div",{className:Wt.a.more},h.a.createElement("span",{"data-id":"getmore_dep_keys",onClick:this.getMoreDepartmentKeys,className:Wt.a.cursor},C.h.getI18NValue("support.social.getmore"))))}}]),t}(h.a.Component),Qt=Jt;Jt.propTypes={brandDepartmentId:g.a.string.isRequired,deleteDepKeywords:g.a.func.isRequired,depKWordDatas:g.a.array.isRequired,getDepartmentName:g.a.func.isRequired,getSelectedDep:g.a.func.isRequired,keyWordsview:g.a.string,showConfirmBox:g.a.func};var Xt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={brandSetupView:e.brandSetupView,DepKeywords:e.DepKeywords,crntSelectedDep:"-1"},a.editKey=a.editKey.bind(a),a.selectedDep=a.selectedDep.bind(a),a}return p()(t,e),l()(t,[{key:"selectedDep",value:function(e){var t=this;this.state.crntSelectedDep!=e&&this.setState({crntSelectedDep:e},function(){t.props.getEditedKeys(!1)})}},{key:"componentWillReceiveProps",value:function(e){this.state.brandSetupView!=e.brandSetupView&&this.setState({brandSetupView:e.brandSetupView}),this.state.DepKeywords!=e.DepKeywords&&this.setState({DepKeywords:e.DepKeywords})}},{key:"editKey",value:function(e,t,a){!0!==e?(this.setState({crntSelectedDep:"-1"}),this.props.getEditedKeys(t,a,this.props.brandSetupView)):this.props.getEditedKeys(!1)}},{key:"render",value:function(){var e=this.state,t=e.brandSetupView,a=e.DepKeywords,n=e.crntSelectedDep,o=this.props,i=o.brandDepartmentId,s=o.supportDepId,r=o.deleteDep,l=o.isKeywordDone,c=o.showConfirmBox,d=(o.socialStatus,o.changeCommentBox),u=o.showMessage,p=(o.depName,o.activeDepNameId),m=o.getDepartmentName,f=[],g=[];"-1"===n?g=a:a.filter(function(e,t){var a=e.departmentId;a.toString()===n.toString()&&(f=e.keys),a.toString()!=n.toString()&&g.push(e)}),n="-1"!=i?i:p.length<2?p[0].id:n;var v=g.length,b=f.length,w=!(p.length<=g.length||"-1"!=i&&0===b&&(0===v||0!=v&&i===g[0].departmentId)&&"editing"!=l&&(n!=i||0!=v)),y=U()([],g);if(y.sort(function(e,t){var a=m(e.departmentId),n=m(e.departmentId);return e.firstname==a?0:n<t.firstname?-1:1}),y=y.reverse(),"-1"!=i&&0!=y.length){var S=[],k={},C=!1;y.filter(function(e){e.departmentId===i?(k=e,C=!0):S.push(e)}),S.sort(function(e,t){var a=m(e.departmentId),n=m(e.departmentId);return e.firstname==a?0:n<t.firstname?-1:1}),S=S.reverse(),C&&S.unshift(k),y=S}return w=0===f.length&&"done"!=l||w,w="cancel"!==l&&w,h.a.createElement("span",null,!0===w&&h.a.createElement("div",{xs:!0,sm:!0,md:!0,lg:!0},h.a.createElement(Ht,{editeDepKeys:this.editKey,selectedCrntDep:n,selectedDepKeyword:f,brandDepartmentId:i,getSelectedDep:this.selectedDep,supportDepId:s,isKeywordDone:l,showConfirmBox:c,changeCommentBox:d,showMessage:u,activeDepNameId:p})),0!=g.length&&h.a.createElement("div",{xs:!0,sm:!0,md:!0,lg:!0},h.a.createElement(Qt,{depKWordDatas:y,keyWordsview:t,brandDepartmentId:i,getSelectedDep:this.selectedDep,deleteDepKeywords:r,getDepartmentName:m})))}}]),t}(h.a.Component),$t=Xt;Xt.propTypes={DepKeywords:g.a.array,activeDepNameId:g.a.object,brandDepartmentId:g.a.string,brandSetupView:g.a.string,changeCommentBox:g.a.func,deleteDep:g.a.func,depName:g.a.string,getDepartmentName:g.a.func,getEditedKeys:g.a.func,isKeywordDone:g.a.string,showConfirmBox:g.a.func,showMessage:g.a.func,socialStatus:g.a.object,supportDepId:g.a.string};var ea=a("./src/components/Social/Loading/LoadingNew.js"),ta=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={brandCaptureSetupData:[],brandKeywordSetupData:[],brandSetupData:[],isKeyword:e.isKeyword,showFooter:!1,isApiCalled:!1,isForm:e.formView,isKeywordDone:"done"},a.accAction=a.accAction.bind(a),a.modifiedCap=a.modifiedCap.bind(a),a.getEditedDepKeys=a.getEditedDepKeys.bind(a),a.deleteDepInKeywords=a.deleteDepInKeywords.bind(a),a.submitSetup=a.submitSetup.bind(a),a.cancelDview=a.cancelDview.bind(a),a.dataToElement=a.dataToElement.bind(a),a.setFormFooter=a.setFormFooter.bind(a),a}return p()(t,e),l()(t,[{key:"setFormFooter",value:function(e){this.setState({isForm:e})}},{key:"accAction",value:function(e,t,a){var n=this.props.curntbrandData;n=U()({},n);var o=[].concat(be()(n.channels)),i="",s=o.filter(function(e,t){if(e.network!=a)return e;i=e["twitter"===a?"accountId":"pageId"]});n.channels=s;var r="dView"+a;"deleteChannel"!==e?this.props.accountActions(e,n,r,n.departmentId):this.props.brandAccDel(n,r,n.departmentId,a,i)}},{key:"cancelDview",value:function(){var e=this.props,t=e.accSetupData,a=e.deView,n=e.isKeyword,o=e.accConnectionStatus;e.cmtBoxCombo.changeCommentBox(!1),this.dataToElement("capAndKey",t,a,n,o,!0)}},{key:"deleteDepInKeywords",value:function(e){var t=[].concat(be()(this.state.brandKeywordSetupData)).filter(function(t,a){if(t.departmentId.toString()!=e.toString())return t});this.setState({brandKeywordSetupData:t,showFooter:!0})}},{key:"dataToElement",value:function(e,t,a,n,o,i){var s=this.props,r=s.curntbrandData,l=s.activeDepNameId,c=r.departmentId;if(o&&("facebook"===a||"twitter"===a)){var d=[{name:"pagePost",displayName:C.h.getI18NValue("support.social.filter.pagepost")},{name:"visitorPost",displayName:C.h.getI18NValue("support.social.filter.visitorpost")},{name:"messages",displayName:C.h.getI18NValue("support.setup.social.brandview.messages")}],u=[{name:"mentions",displayName:C.h.getI18NValue("support.setup.social.brandview.mentions")},{name:"messages",displayName:C.h.getI18NValue("support.setup.social.brandview.messages")}],p=this.props.supportDepId,m=("facebook"===a?d:u).map(function(e,a){var n=e.name,o=e.displayName,i=t[n],s={};if(void 0===i)return s.elename=o,s.isSelected=!1,s.pagePostCondition="Disable",s.eId=n,s.departmentId=void 0===c?"-1"!=c&&null!=c?c:l.length>1?"-1":p:c,"messages"===n&&(s.appendInterval=2),s;"messages"===n&&(s.appendInterval=void 0===i.appendInterval?2:i.appendInterval);var r=i.filterBy,d=i.departmentId;return s.elename=o,s.isSelected=null!=i,s.pagePostCondition=r,s.eId=n,s.departmentId=void 0===d?"-1"!=c&&null!=c&&"none"===r?c:"-1":d,s}),h=t.keywords||[],f=this.props.curntbrandData.departmentId;if(null!=f&&"-1"!=f&&0!=h.lenth){var g=[],v={},b=!1;h.filter(function(e){e.departmentId===f?(v=e,b=!0):g.push(e)}),b&&g.unshift(v),h=g}var w=this.state.isKeywordDone;w=!0===i?"cancel":w,this.setState({brandCaptureSetupData:m,brandKeywordSetupData:h,showFooter:!1,isKeyword:n,isApiCalled:!1,isKeywordDone:w})}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.accSetupData,a=e.deView,n=e.isKeyword,o=e.accConnectionStatus;this.dataToElement("capAndKey",t,a,n,o)}},{key:"modifiedCap",value:function(e,t,a,n,o){var i=this.state,s=i.showFooter,r=i.brandSetupData,l=i.brandKeywordSetupData,c=i.isKeywordDone,d=this.props.cmtBoxCombo;if(r=U()([],r),null!=n)if(-1===r.indexOf(n))r.push(n);else if(o){var u=r.indexOf(n);r=r.splice(0,u)}l=U()([],l),l=!1===a?[]:l,d.changeCommentBox(0!=r.length);var p=!0===a&&"cancel"!=c?c:"done";1==s?this.setState({brandCaptureSetupData:t,isKeyword:a,brandSetupData:r,brandKeywordSetupData:l,isKeywordDone:p}):this.setState({showFooter:!0,brandCaptureSetupData:t,isKeyword:a,brandSetupData:r,brandKeywordSetupData:l,isKeywordDone:p})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state,n=a.isKeyword,o=a.isApiCalled,i=e.isKeyword,s=e.apiStatus,r=e.isShowConfirm,l=e.dComponentView,c=this.props,d=c.accSetupData,u=c.accConnectionStatus,p=c.dComponentView,m=this.props.isShowConfirm,h=e.accConnectionStatus,f=100===s,g="dVieweditBrand"===l;if(!r&&!m)if(n!=i||u!=h||!0===o&&d===e.accSetupData||d!=e.accSetupData){var v=e.accSetupData,b=e.deView,w=e.isKeyword;this.setState({showFooter:!f,isForm:g},function(){f&&t.dataToElement("capAndKey",v,b,w,h)})}else n!=i&&this.setState({isKeyword:i,showFooter:f,isForm:g});p!=l&&this.setState({isForm:g})}},{key:"getEditedDepKeys",value:function(e,t){if(!1!==e){var a=[].concat(be()(this.state.brandKeywordSetupData)),n=[];t=t.toString();for(var o=!0,i=0,s=a.length;i<s;i++){var r=a[i];r.departmentId!=t?(r=U()({},r),n.push(r)):(o=!1,0!=e.length&&((r=U()({},r)).keys=e,n.push(r)))}if(0!=o){var l={};l.keys=e,l.departmentName=this.props.getDepartmentName(t),l.departmentId=t.toString(),a.unshift(l),n=a}this.setState({brandKeywordSetupData:n,showFooter:!0,isKeywordDone:"done"})}else this.setState({isKeywordDone:"editing"})}},{key:"submitSetup",value:function(){var e=this,t=this.state,a=t.brandCaptureSetupData,n=t.brandKeywordSetupData,o=t.isKeyword,i=t.brandSetupData,s=t.isKeywordDone,r=this.props,l=r.curntbrandData,c=r.showMessage,d=l.departmentId;if(o&&("editing"===s||"error"===s))return c({type:"success",message:C.h.getI18NValue("support.social.leavemsg")}),void this.setState({isKeywordDone:"error"});var u=this.props,p=u.deView,m=(u.accSetupData,i),h=[],f=[],g=!0,v=!1,b=Object(Ae.w)("tickets",!1,"sing_module").tickets||"Ticket";m.filter(function(e,t){for(var n=0,o=a.length;n<o;n++){var i=a[n];if(i.eId===e&&null!=i&&(1!=i.isSelected&&(1!=v&&(v=!1),f.push(e),h.push(ye()({},e,{}))),!0===i.isSelected)){v=!0,f.push(e);var s={},r={},l=i.departmentId;r.filterBy=i.pagePostCondition,-1!=l&&"-1"!=l&&(r.departmentId=i.departmentId),"none"===i.pagePostCondition&&(-1!==l&&"-1"!==l||(c({type:"success",message:C.h.getI18NValue("support.setup.social.selectdepartment",b)}),g=!1)),"messages"===e&&(r.appendInterval=i.appendInterval),s[e]=r,h.push(s)}}});if(o&&(0===n.length||""!=d&&null!=d&&"-1"!=d&&0!=n.length&&n[0].departmentId!=d)&&(0===n.length?c({type:"success",message:C.h.getI18NValue("support.setup.social.keys.empty",b)}):c({type:"success",message:C.h.getI18NValue("support.setup.social.keys.depkeyempty",b)}),g=!1),0!=g){var w=0!==i.length;this.setState({isApiCalled:!0,brandSetupData:[],showFooter:w},function(){e.props.brandDataChanges(h,f,p,n,o)})}}},{key:"render",value:function(){var e=this.props,t=e.deView,a=e.curntbrandData,n=e.bId,o=e.accConnectionStatus,i=(e.formView,e.supportDepId),s=e.channelInfo,r=e.routing,l=e.push,c=e.updateBrand,d=e.imageActions,u=e.currentOrgId,p=e.isSupportFrom,m=e.apiStatus,f=e.isShowConfirm,g=e.showConfirmBox,v=e.socialStatus,b=e.cmtBoxCombo,w=e.showMessage,y=e.depName,S=e.activeDepNameId,k=e.getDepartmentName,I=this.state,E=I.brandCaptureSetupData,x=I.brandKeywordSetupData,P=I.isKeyword,T=I.showFooter,A=I.isKeywordDone,_=I.isForm,F=a.departmentId,O=a.brandName,B=a.description,z=a.href,j=a.facebookAuthURL,V=a.twitterAuthURL,R=a.id;B=void 0===B?"":B;var M="facebook"===t?j:"twitter"===t?V:"";F=void 0===F?"-1":F;var L="facebook"===t?"support.setup.social.brandview.capture.fbdesckey":"support.setup.social.brandview.capture.twitterdesckey";L=C.h.getI18NValue(L);var K=Object(Ae.w)("tickets",!1,"sing_module").tickets||"Ticket";return h.a.createElement(N.Container,{dataId:"brandSetupWrapper"},"editBrand"===t||"info"===t?h.a.createElement(Fe,{asform:_,brandId:R,mode:"edit",editBrandData:a,formSave:this.props.formSave,formCancel:this.props.formCancel,brandName:O,curntDepId:i,departmentId:F,desc:B,componentFrom:"dVieweditBrand",imageUrl:z,setFooter:this.setFormFooter,isSupportFrom:p,isShowConfirm:f,activeDepNameId:S,getDepartmentName:k,showMessage:w,routing:r,push:l,updateBrand:c,imageActions:d,currentOrgId:u}):h.a.createElement("div",{className:at.a.scrollCont},h.a.createElement(rt,{socialView:t,brandDataId:n,accountDelAction:this.accAction,accountAddAction:this.props.accConnect,athoPopupUrl:M,brandName:O,brandHref:z,departmentId:F,channelInfo:s,accConnected:o,goTomodule:this.props.goTomodule,showConfirmBox:g,getDepartmentName:k,currentOrgId:u}),!0===o&&0!=E.length&&h.a.createElement("div",null,100===m||102===m?h.a.createElement("div",null,h.a.createElement("div",{className:at.a.SSinformatin},h.a.createElement("div",{className:at.a.title},h.a.createElement(ft,{viewforcaption:t,captionHead:C.h.getI18NValue("support.setup.social.brandview.settings",[C.h.getI18NValue("support.setup.social.brandview.capture")]),captionText:"support.setup.social.brandview.capture.desc",descKeys:[L,K]})),h.a.createElement("div",null,h.a.createElement(xt,{isKeyword:P,modifiedCap:this.modifiedCap,viewforcpsetting:t,brandDepartmentId:F,supportDepId:i,captureData:E,activeDepNameId:S,cmtBoxCombo:b}))),!0===P&&h.a.createElement("div",{className:at.a.SSinformatin},h.a.createElement("div",{className:at.a.title},h.a.createElement(ft,{viewforcaption:t,captionHead:C.h.getI18NValue("support.setup.social.brandview.settings",[C.h.getI18NValue("support.setup.social.brandview.keyword")]),captionText:"support.setup.social.brandview.keyword.desc",descKeys:[L,K]})),h.a.createElement($t,{brandSetupView:t,DepKeywords:x,getEditedKeys:this.getEditedDepKeys,supportDepId:i,brandDepartmentId:F,deleteDep:this.deleteDepInKeywords,isKeywordDone:A,showConfirmBox:g,socialStatus:v,changeCommentBox:b.changeCommentBox,showMessage:w,depName:y,activeDepNameId:S,getDepartmentName:k}))):101===m?h.a.createElement(he.a,{componentFor:"settings_error",emptyCompoentCode:119}):h.a.createElement("div",null,h.a.createElement(ea.h,null)))),!0===T&&h.a.createElement("div",{className:at.a.formactcont},h.a.createElement(D.a,{palette:"primaryFilled",text:C.h.getI18NValue("support.setup.social.save"),onClick:this.submitSetup}),h.a.createElement(D.a,{palette:"secondary",text:C.h.getI18NValue("support.label.cancel"),onClick:this.cancelDview})))}}]),t}(h.a.Component),aa=ta;ta.propTypes={accConnect:g.a.func,accConnectionStatus:g.a.bool.isRequired,accSetupData:g.a.object.isRequired,accountActions:g.a.func.isRequired,activeDepNameId:g.a.array.isRequired,apiStatus:g.a.number,bId:g.a.string.isRequired,brandAccDel:g.a.func,brandDataChanges:g.a.func,channelInfo:g.a.object.isRequired,cmtBoxCombo:g.a.object.isRequired,curntbrandData:g.a.object.isRequired,currentOrgId:g.a.string.isRequired,dComponentView:g.a.string,deView:g.a.string.isRequired,depName:g.a.string,formCancel:g.a.func,formSave:g.a.func,formView:g.a.bool,getDepartmentName:g.a.func.isRequired,goTomodule:g.a.func.isRequired,imageActions:g.a.func,isKeyword:g.a.bool.isRequired,isShowConfirm:g.a.bool,isSupportFrom:g.a.string,push:g.a.func.isRequired,routing:g.a.object.isRequired,showConfirmBox:g.a.func.isRequired,showMessage:g.a.func.isRequired,socialStatus:g.a.object.isRequired,supportDepId:g.a.string,updateBrand:g.a.func.isRequired};var na=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n="info"===e.setailViewAs?"editBrand":e.setailViewAs;return a.state={detailsViewAs:n,brandId:e.brandId,socialAccSetupData:{},isBasedkeyword:!1,addAccountPop:!1,dFormView:"editBrand"===e.setailViewAs,isSettingFirstTime:!1,setAPIsuccess:100,isHelpMode:!1,isShowConfirm:!1,moveTo:""},a.accountActions=a.accountActions.bind(a),a.getSocialSetupDatas=a.getSocialSetupDatas.bind(a),a.setDataInState=a.setDataInState.bind(a),a.brandDataChanges=a.brandDataChanges.bind(a),a.getDataFromCache=a.getDataFromCache.bind(a),a.setDataInCache=a.setDataInCache.bind(a),a.openNewWindow=a.openNewWindow.bind(a),a.getHelpInfo=a.getHelpInfo.bind(a),a}return p()(t,e),l()(t,[{key:"getHelpInfo",value:function(){var e=this.state.isHelpMode;this.setState({isHelpMode:!e})}},{key:"openNewWindow",value:function(e,t,a,n,o){!0===e&&this.props.openNewWindow(a,n,o,t,this.openNewWindow,!0),!1===e&&this.setState({addAccountPop:t})}},{key:"accountActions",value:function(e,t,a,n){"addChannel"!==e?this.setState({addAccountPop:!1}):this.openNewWindow(!0,!0,n,a,t)}},{key:"getDataFromCache",value:function(e){this.props.detailViewbrandData.departmentId;var t=void 0;return null!=(t=[])&&null!=t[e]&&(t=U()({},t)),void 0===t?t:t[e]}},{key:"setDataInCache",value:function(e,t,a,n,o){var i=this.props.detailViewbrandData.departmentId||"-1";if("-1"===i||-1===i){var s={},r=this.getDataFromCache(t);if(null!=r&&null!=o){var l=U()({},r);l[o]=e[o],"boolean"==typeof a&&(l.isFetchedForAddFb=a),"boolean"==typeof n&&(l.isFetchedForAddTwi=n),s[t]=l}else"boolean"==typeof a&&(e.isFetchedForAddFb=a),"boolean"==typeof n&&(e.isFetchedForAddTwi=n),s[t]=e}else{var c=this.getDataFromCache(t)||{},d=U()({},c),u=d[t];null!=d&&null!=o&&null!=u?(u[o]=brandSettings[o],"boolean"==typeof a&&(u.isFetchedForAddFb=a),"boolean"==typeof n&&(u.isFetchedForAddTwi=n),d[t]=u):("boolean"==typeof a&&(e.isFetchedForAddFb=a),"boolean"==typeof n&&(e.isFetchedForAddTwi=n),d[t]=e)}}},{key:"componentDidMount",value:function(){this.mountStatus="alive";var e=this.props.setailViewAs;if("facebook"===e||"twitter"===e){var t=this.props,a=t.curntDepId,n=t.detailViewbrandData;this.getAccountRelatedData(e,n).isAccConnected&&this.getSocialSetupDatas(a,e)}}},{key:"componentWillUnmount",value:function(){this.mountStatus="dead"}},{key:"componentWillReceiveProps",value:function(e){var t=e.detailViewbrandData,a=e.curntDepId,n=e.setailViewAs,o=e.accountPopupData,i=e.isFreeze;(o!=this.props.accountPopupData&&i&&this.setState({addAccountPop:!0}),t!=this.props.detailViewbrandData)&&(this.getAccountRelatedData(n,t).isAccConnected&&this.getSocialSetupDatas(a,n));var s=this.state.detailsViewAs,r="info"===e.setailViewAs?"editBrand":e.setailViewAs;s!=r&&this.setState({detailsViewAs:r})}},{key:"setDataInState",value:function(e,t,a){var n=!1,o="facebook"===t?"facebookSettings":"twitterSettings";("facebook"===t?["pagePost","taggedPost","visitorPost","messages"]:["mentions","messages"]).filter(function(t,a){var i=e[o][t];null!=i&&"keywords"===i.filterBy&&(n=!0)}),a=void 0===a?this.state.isSettingFirstTime:a,this.setState({isBasedkeyword:n,socialAccSetupData:e,detailsViewAs:t,isSettingFirstTime:a,setAPIsuccess:100})}},{key:"getSocialSetupDatas",value:function(e,t){var a=this,n=this.state,o=n.brandId,i=(n.dFormView,this.getDataFromCache(o)),s=void 0,r=void 0,l=this.props,c=l.showMessage,d=l.getBrandSettings;if(void 0===i)this.setState({setAPIsuccess:103},function(){var e=a,n=function(){e.setState({isBasedkeyword:!1,socialAccSetupData:{},detailsViewAs:t,isSettingFirstTime:!1,setAPIsuccess:101}),c({type:"alert",message:C.h.getI18NValue("support.unable.to.process.your.request")})};d(o,"get").then(function(a){var i=a.data,l=i.responseStatus,c=i.apiError;if("alive"===e.mountStatus){if(null!=c)return void n();var d=void 0,u=void 0;if(204!=l){var p=i.twitterSettings,m=i.facebookSettings,h=i.id;switch(u=void 0===p?"twitter":void 0===m?"facebook":void 0,p=void 0===p?{}:p,void(m=void 0===m?{}:m)){case m:s=!0,r="";break;case p:s="",r=!0;break;default:s=!1,r=!1}d={twitterSettings:p,facebookSettings:m,id:h}}else s=!0,r=!0,d={id:o,twitterSettings:{},facebookSettings:{}},u=!0;e.setDataInCache(d,o,s,r),u===t&&(u=!0),e.setDataInState(d,t,u)}},function(e){n()})});else{i=U()({},i);var u="facebook"===t?i.isFetchedForAddFb:i.isFetchedForAddTwi;delete i.isFetchedForAddFb,delete i.isFetchedForAddTwi,this.setDataInState(i,t,u)}}},{key:"brandDataChanges",value:function(e,t,a,n,o){var i=this.state,s=i.socialAccSetupData,r=i.brandId,l=i.isSettingFirstTime,c=this.props,d=c.cmtBoxCombo,u=c.showMessage,p=c.updateBrandSettings,m=U()({},s),h={},f="facebook"===a?["pagePost","taggedPost","visitorPost","messages"]:["mentions","messages"],g="facebook"===a?"facebookSettings":"twitterSettings";t.filter(function(t,a){f.filter(function(n){n===t&&(h[t]=e[a][t])})}),""!=n.length&&o&&(h.keywords=n);var v=ye()({},g,h);if(0!==Qe()(h).length){var b=!0===l?"post":"patch",w=(this.props.curntDepId,Object(Ae.B)()+"/v1/socialBrands/"+r+"/settings"),y=this,S=Object(Ae.w)("tickets",!1,"sing_module").tickets||"Ticket",k=function(){u({type:"alert",message:C.h.getI18NValue("support.setup.social.conf.setting.fail",S)}),y.setState({setAPIsuccess:102})};p(w,b,v).then(function(e){var t=e.data,n=t.apiError;if("alive"===y.mountStatus){null!=n&&k();var o=(t=U()({},t))[g];m[g]=o;var i=void 0,s=void 0;switch(a){case"facebook":i=0==Qe()(o).length,s="";break;case"twitter":i="",s=0==Qe()(o).length;break;default:i=!1,s=!1}var l="post"===b?"support.social.saved":"support.social.updated";l=C.h.getI18NValue(l),u({type:"success",message:C.h.getI18NValue("support.setup.social.conf.setting.success",[S,l])}),y.setDataInCache(m,r,i,s,g);var c=!0===i||!0===s;y.setDataInState(m,a,c)}d.changeCommentBox(!1)},function(e){k()})}}},{key:"tabswitch",value:function(e,t){var a=this.props,n=a.cmtBoxCombo,o=a.showConfirmBox,i=a.socialStatus,s=a.routing,r=a.push,l=(n.commentBoxStatus,n.changeCommentBox);if(i.isCommentBoxOpen){var c=this,d=C.h.getI18NValue("support.setup.social.unsaved.desc"),u=C.h.getI18NValue("support.social.attention");this.setState({isShowConfirm:!0,moveTo:e},function(){o({type:"alert",submitText:C.h.getI18NValue("support.social.leave"),cancelText:C.h.getI18NValue("support.form.leave.cancel.label"),title:u,message:d,isActive:!0,palette:"danger"}).then(function(){l(!1),c.setState({isShowConfirm:!1},function(){c.tabswitch(e)})})})}else{var p=this.state,m=p.brandId,h=(p.detailsViewAs,"editBrand"===e?"InfoBrand":e),f=this.props.isSupportFrom;if(h="dView"+h,"listView"!==e){if("editBrand"===e)return this.setState({detailsViewAs:e,dFormView:!1}),void Object(I.o)(f,h,s,r,m);var g=this.props,v=g.curntDepId,b=g.detailViewbrandData,w=this.getAccountRelatedData(e,b).isAccConnected;Object(I.o)(f,h,s,r,m),w&&this.getSocialSetupDatas(v,e),w||this.setState({detailsViewAs:e})}else Object(I.o)(f,e,s,r)}}},{key:"getAccountRelatedData",value:function(e,t){var a={},n=!1,o=void 0;if("editBrand"!=e&&null!=t){var i=0!=t.channels.length,s=t.channels||[];if(i)for(var r=[].concat(be()(s)),l=0,c=r.length;l<c;l++){var d=r[l];d.network===e&&null!=(a=U()({},d)).accountId&&(n=!0,o=a,"facebook"===e&&void 0===a.pageId&&(n=!1))}}return{channelData:a,isAccConnected:n,channelInfo:o}}},{key:"render",value:function(){var e=this,t=this.state,a=t.detailsViewAs,n=t.addAccountPop,o=t.brandId,i=t.isBasedkeyword,s=t.socialAccSetupData,r=t.dFormView,l=t.setAPIsuccess,c=(t.isHelpMode,t.isShowConfirm),d=(t.moveTo,this.props),u=d.detailViewbrandData,p=d.accountPopupData,m=d.curntDepId,f=d.dComponentView,g=d.isSupportFrom,v=d.showConfirmBox,b=d.socialStatus,w=d.cmtBoxCombo,y=d.showMessage,S=d.depName,k=d.activeDepNameId,E=d.getDepartmentName,D=d.routing,x=d.push,P=d.orgName,T=d.updateBrand,_=d.imageActions,F=d.currentOrgId,O=d.getPagesData,B=d.addPageIntoChannel,z=this.getAccountRelatedData(a,u),j=z.isAccConnected,V=z.channelInfo;z.channelData,s="facebook"===a?s.facebookSettings:"twitter"===a?s.twitterSettings:s;s=void 0===s?{}:s;var R="dView"+a,M=this;Object(I.n)(),b.isCommentBoxOpen;return h.a.createElement("div",{"data-id":"brandDetailviewWrapper",className:$e.a.container},h.a.createElement("div",{className:$e.a.container},!0===n&&null!=p.channelInfo&&h.a.createElement("div",{"data-id":"accPopupWrapper"},h.a.createElement(Oe.a,{animationName:"fadeIn",isActive:!0},h.a.createElement(Ye,{popupaction:this.accountActions,accountData:p,popupFor:a,dComponentView:f,popBrandId:o,viewAs:R,brandAccDel:this.props.channelDel,brandData:u,getAccData:this.props.getAccData,showMessage:y,orgName:P,getPagesData:O,addPageIntoChannel:B}))," "),h.a.createElement("div",{className:$e.a.container},!1,h.a.createElement(et.TabWrapper,{type:"delta",needTabBorder:!0,isAnimate:!0,defaultTab:a,needPadding:!1,onSelect:function(t){M.tabswitch(t,e)},hookToDisableInternalState:!0},h.a.createElement(et.Tabs,{styles:{borderBottom:"1px solid #e9e9e9",height:"51px",padding:"0 var(--zd_size30) 0 0",overflow:"hidden"},style:{height:"51px"}},h.a.createElement(et.Tab,{id:"listView",dataId:"brand_detailview_listview",className:$e.a.tab},h.a.createElement(A.a,{name:"ZD-back",color:"color18",iconClass:$e.a.backIcon})),h.a.createElement(et.Tab,{id:"editBrand",dataId:"brand_detailview_editview",className:$e.a.tab},h.a.createElement(N.Container,{align:"both",className:$e.a.tabHeader},h.a.createElement(C.c,{i18NKey:"support.setup.social.view.brandinfo"}))),h.a.createElement(et.Tab,{id:"facebook",dataId:"branddetailviewfb",className:$e.a.tab},h.a.createElement(N.Container,{align:"both",className:$e.a.tabHeader},h.a.createElement(C.c,{i18NKey:"support.setup.label.facebook"}))),h.a.createElement(et.Tab,{id:"twitter",dataId:"brand_detailview_twitter",className:$e.a.tab},h.a.createElement(N.Container,{align:"both",className:$e.a.tabHeader},h.a.createElement(C.c,{i18NKey:"support.setup.label.twitter"})))),h.a.createElement(et.TabContentWrapper,null,h.a.createElement(et.TabContent,{id:"editBrand",styles:{whiteSpace:"normal"}},h.a.createElement(aa,{deView:a,bId:o,dComponentView:f,formView:r,supportDepId:m,curntbrandData:u,formSave:this.props.brandBasicActions,formCancel:this.props.formCancel,isSupportFrom:g,isShowConfirm:c,showConfirmBox:v,socialStatus:b,cmtBoxCombo:w,showMessage:y,depName:S,getDepartmentName:E,activeDepNameId:k,routing:D,push:x,updateBrand:T,imageActions:_,currentOrgId:F})),h.a.createElement(et.TabContent,{id:"facebook"},h.a.createElement(aa,{deView:a,bId:o,supportDepId:m,dComponentView:f,accountActions:this.props.brandBasicActions,accConnect:this.accountActions,isKeyword:i,accSetupData:s,brandDataChanges:this.brandDataChanges,brandAccDel:this.props.channelDel,accConnectionStatus:j,curntbrandData:u,channelInfo:V,apiStatus:l,goTomodule:this.props.goTomodule,isShowConfirm:c,showConfirmBox:v,socialStatus:b,cmtBoxCombo:w,showMessage:y,depName:S,getDepartmentName:E,activeDepNameId:k,routing:D,push:x,currentOrgId:F})),h.a.createElement(et.TabContent,{id:"twitter"},h.a.createElement(aa,{deView:a,bId:o,dComponentView:f,supportDepId:m,accountActions:this.props.brandBasicActions,accConnect:this.accountActions,isKeyword:i,accSetupData:s,brandDataChanges:this.brandDataChanges,brandAccDel:this.props.channelDel,accConnectionStatus:j,curntbrandData:u,channelInfo:V,apiStatus:l,goTomodule:this.props.goTomodule,isShowConfirm:c,showConfirmBox:v,socialStatus:b,cmtBoxCombo:w,showMessage:y,depName:S,getDepartmentName:E,activeDepNameId:k,routing:D,push:x,currentOrgId:F})))))))}}]),t}(h.a.Component),oa=na;na.propTypes={accountPopupData:g.a.object,activeDepNameId:g.a.array,addPageIntoChannel:g.a.func,backToListView:g.a.func,brandBasicActions:g.a.func,brandId:g.a.string,channelDel:g.a.func,cmtBoxCombo:g.a.object,curntDepId:g.a.string,currentOrgId:g.a.string,dComponentView:g.a.string,depName:g.a.string,detailViewbrandData:g.a.object,formCancel:g.a.func,getAccData:g.a.func,getBrandSettings:g.a.func,getDepartmentName:g.a.func,getPagesData:g.a.func,goTomodule:g.a.func,imageActions:g.a.func,isFreeze:g.a.bool,isSupportFrom:g.a.string,openNewWindow:g.a.func,orgName:g.a.string,push:g.a.func,routing:g.a.object,setailViewAs:g.a.string,showConfirmBox:g.a.func,showMessage:g.a.func,socialStatus:g.a.object,updateBrand:g.a.func,updateBrandSettings:g.a.func};var ia=a("./src/components/Social/BrandsListView/BrandsListView.module.css"),sa=a.n(ia),ra=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={ischeckLimitCall:!1},a.brandAction=a.brandAction.bind(a),a}return p()(t,e),l()(t,[{key:"brandAction",value:function(e,t){if("importBrand"!==e){var a=this.props,n=a.isToCreateBrand,o=a.brandActionErrorMsg,i=a.portalName,s=a.checkBrandLimit;if(!1!==n){if(!this.state.ischeckLimitCall){this.setState({ischeckLimitCall:!0});var r=this,l=function(){r.setState({ischeckLimitCall:!1}),o({type:"alert",message:C.h.getI18NValue("support.social.internalerror")})};s("/support/"+i+"/Social.do?mode=checkBrandLimit").then(function(t){var a=t.isAllowed,n=t.apiError;r.setState({ischeckLimitCall:!1}),a?r.props.brandActionFormlist(e):null!=n?l():o({type:"alert",message:C.h.getI18NValue("support.setup.social.conf.addbrand.limitexceed")})},function(e){l()})}}else o({type:"alert",message:C.h.getI18NValue("support.setup.social.conf.addbrand.warning")})}else this.props.brandActionFormlist(e)}},{key:"render",value:function(){var e=this.props.brandDataElement,t=this,a=function(){return h.a.createElement("div",{className:sa.a.btnCont},h.a.createElement(O.a,{type:"type1",text:C.h.getI18NValue("support.setup.social.actonbrand",C.h.getI18NValue("support.setup.social.new")),id:"brand_create",onClick:t.brandAction.bind(this,"createBrand")},h.a.createElement(A.a,{name:"ZD-plus",iconClass:sa.a.iconplus})))};Object(I.d)("ssfacebookInteg"),Object(I.n)();return h.a.createElement("div",{className:sa.a.ssfacebookInteg+" "+sa.a[""],"data-id":"BrandsLViewWrapper"},h.a.createElement(N.Container,{alignBox:"row",align:"vertical",className:sa.a.ssheaderDiv},!1,h.a.createElement("div",{className:sa.a.leftCont},h.a.createElement(ft,{captionHead:"support.setup.social.brandslist.title",captionText:"support.setup.social.brandslist.desc"})),h.a.createElement("div",{className:sa.a.ssheadBtn},h.a.createElement("div",null,a(),h.a.createElement("div",{className:sa.a.btnCont},h.a.createElement(O.a,{type:"type1",text:C.h.getI18NValue("support.setup.social.actonbrand",C.h.getI18NValue("support.setup.social.import")),id:"brand_import",onClick:this.brandAction.bind(this,"importBrand")},h.a.createElement(A.a,{name:"ZD-arrowDown",iconClass:sa.a.iconarrowdown})))))),h.a.createElement("div",null,h.a.createElement(N.Container,{alignBox:"row",wrap:"wrap",className:sa.a.ssLinkAcc},e)))}}]),t}(h.a.Component),la=ra;ra.propTypes={brandActionErrorMsg:g.a.func,brandActionFormlist:g.a.func,brandDataElement:g.a.arrayOf(g.a.element),brandsLen:g.a.number,checkBrandLimit:g.a.func,isToCreateBrand:g.a.bool,portalName:g.a.string};var ca=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.brandActionErrorMsg=a.brandActionErrorMsg.bind(a),a}return p()(t,e),l()(t,[{key:"brandActionErrorMsg",value:function(e){this.props.showMessage(e)}},{key:"render",value:function(){return h.a.createElement(la,ze()({brandActionErrorMsg:this.brandActionErrorMsg},this.props))}}]),t}(m.Component),da=a("./src/components/Social/Unauthorized/Unauthorized.js"),ua=a("../components/lib/Modal/Modal.js"),pa=a.n(ua),ma=a("./src/actions/Social/CommonActions.js"),ha=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=e.socialAs,i="listView"===n?"":"dViewfacebook"===n?"facebook":"dViewtwitter"===n?"twitter":"dVieweditBrand"===n?"editBrand":"dViewInfoBrand"===n?"info":n,r="listView"===n?"listView":"detailView";return a.state={addAccpopup:!1,componentView:r,brandId:e.curntBrandId,socialas:i,newChannelAccData:{},addChannelCallback:function(){},isFreeze:!1},a.accPopupFunction=a.accPopupFunction.bind(a),a.showDetailview=a.showDetailview.bind(a),a.getAccDataforSet=a.getAccDataforSet.bind(a),a.componentview=a.componentview.bind(a),a.delBrand=a.delBrand.bind(a),a.brandActionFormlist=a.brandActionFormlist.bind(a),a.openNewWindow=a.openNewWindow.bind(a),a.deleteChannel=a.deleteChannel.bind(a),a.goTomodule=a.goTomodule.bind(a),a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;window.setChannelPages=function(t){var a=e.props,n=a.brandsData,o=a.showMessage,i=t.channelInfo,s=t.isReAuthenticated,r=t.brandId,l=t.error,c=t.authUrl,d=void 0;if(null!=l){var u=l.facebook,p=l.twitter,m=l.href,h=l.internalerror,f=e.state.brandId,g="twitter",v=p,b=m;null!=u&&(g="facebook",v=u),h&&(v=h);var w=[].concat(be()(n)),y=[];return d=g,w.map(function(e,t){var a=e=U()({},e),n=a.id,o=a.channels,i=[];n.toString()===f.toString()&&(o.map(function(e,t){(e=U()({},e)).network===d&&(e["facebook"===d?"facebookAuthURL":"twitterAuthURL"]=b),i.push(e)}),e.channels=i),y.push(e)}),e.setState({isFreeze:!1,addAccpopup:!1,newChannelAccData:{},socialas:g,addChannelCallback:function(){}},function(){o({type:"alert",message:v})}),void e.props.brandDataModify("updateBrandData","listView",y,void 0,f)}d=i.network;var S=e.state.componentView;if(void 0===s)e.setState({isFreeze:!0,addAccpopup:"listView"===S,newChannelAccData:t,socialas:d,addChannelCallback:function(){}});else{var k=[].concat(be()(n)),I=[];k.map(function(e,t){var a=e=U()({},e),n=a.id,o=a.channels,i=[];n.toString()===r.toString()&&(o.map(function(e,t){(e=U()({},e)).network===d&&(e.hasExpired=!s,!1===s&&(e["facebook"===d?"facebookAuthURL":"twitterAuthURL"]=c)),i.push(e)}),e.channels=i),I.push(e)}),e.setState({socialas:"facebook"});var E=!0===s?"support.social.reauthenticate.success":"support.social.reauthenticate.fail";o({type:!0===s?"success":"alert",message:C.h.getI18NValue(E)}),e.props.brandDataModify("updateBrandData","listView",I,void 0,r)}}}},{key:"componentview",value:function(e){this.setState({componentView:e,brandId:""})}},{key:"goTomodule",value:function(e){var t=this.props,a=t.push,n=t.routing.paramMap,o=n.orgName,i=n.deptName,s=n.setupModule,r=e.brandId,l=e.mode;a({pathname:"/"+o+"/"+i+"/"+s+"/brands/"+r+"/"+l+"/"+("facebook"===l?"pagepost":"mentions")})}},{key:"delBrand",value:function(e){for(var t=[].concat(be()(this.props.brandsData)),a=[],n="",o=0,i=t.length;o<i;o++){var s=t[o];if(s.id.toString()!=e.toString())a.push(s);else{n="<b>"+s.brandName+"</b>";var r=s.departmentId;void 0===r?"-1":r}}Object(Ae.B)();var l=this.props,c=l.showMessage;(0,l.deleteBrand)(e).then(function(e){var t=e.data,a=t.apiError;"failure"!==t.status&&null==a?c({type:"success",message:C.h.getI18NValue("support.setup.social.brand.delete",n)}):c({type:"alert",message:C.h.getI18NValue("support.unable.to.process.your.request")})})}},{key:"componentWillReceiveProps",value:function(e){var t=e.socialAs,a="listView"===t?"":"dViewfacebook"===t?"facebook":"dViewtwitter"===t?"twitter":"dVieweditBrand"===t?"editBrand":"dViewInfoBrand"===t?"info":t,n="listView"===t?"listView":"detailView";a!=this.state.socialas&&n!=this.state.componentView?this.setState({componentView:n,socialas:a}):""!=a&&a!=this.state.socialas?this.setState({socialas:a}):n!=this.state.componentView&&this.setState({componentView:n})}},{key:"openNewWindow",value:function(e,t,a,n,o,i){var s=this;this.state.newChannelAccData;if(null==o||!0!==i){o=void 0===o?function(){}:o,this.setState({addChannelCallback:o,brandId:a,isFreeze:!0,newChannelAccData:{}});var r=window.open(e,t,"location=0,status=0,width=700,height=500,left=300,top=100");!function e(){if(null!=r&&null!=r)var t=(new Date).getTime(),a=setInterval(function(){var e=s.state,n=e.isFreeze,o=e.brandId,i=e.addAccpopup,l=e.componentView;r.closed&&(clearInterval(a),1!=i&&!0===n&&(s.state.addChannelCallback(!1,!1),o="listView"===l?"":o,s.setState({addAccpopup:!1,brandId:o,isFreeze:!1,addChannelCallback:function(){}})));var c=(new Date).getTime();Object(I.i)(c,t),I.i>120&&clearInterval(a)},1e3);else e()}()}else this.accPopupFunction(n,e,t,a,o)}},{key:"deleteChannel",value:function(e,t,a,n,o){var i=e.id,s=(Object(Ae.B)(),this.props),r=(s.brandsData,s.showMessage),l=s.deleteChannel,c=this.state,d=c.addAccpopup,u=c.isFreeze;!0!==d&&!0!==u||this.setState({isFreeze:!1,newChannelAccData:{}});var p={},m=e.brandName,h=e.description,f=e.href;if(p.brandName=m,p.description=h,null!=f){var g=f.split("/"),v=g.indexOf("uploads"),b=g[v+1];-1!=v&&(p.attachmentId=b)}"-1"!=a&&null!=a&&null!=a&&(p.departmentId=a),p.channels=e.channels,l(i,p,o,n).then(function(e){var t=e.data,a=t.apiError;if(null==t.brandResponse.error&&null==a){var o="facebook"===n?"support.setup.social.fbpage":"support.setup.social.twitternew",i=C.h.getI18NValue(o);r({type:"success",message:C.h.getI18NValue("support.setup.social.brandchannel.delete",[i,m])})}else r({type:"alert",message:C.h.getI18NValue("support.unable.to.process.your.request")})},function(e){r({type:"alert",message:C.h.getI18NValue("support.unable.to.process.your.request")})})}},{key:"accPopupFunction",value:function(e,t,a,n,o){if(a=void 0===a?"":a,n=void 0===n?this.state.brandId:n,!0===e){var i=this.props,s=i.brandsData,r=i.showMessage,l=!1,c={},d=!1;if(s.filter(function(e){e.id===n&&(e.channels||[]).filter(function(e){e.network===a&&(null!=e.accountId&&1!=e.hasExpired&&(d=!0,l=!0,c=e),void 0!==e.accountId&&!0!==e.hasExpired||(l=!1))})}),(!1===l&&"facebook"===a||"twitter"===a)&&this.openNewWindow(t,a,n,e,o,!1),!0===l&&"facebook"===a&&d){var u=this,p={},m=p[n];if(void 0===m){var h=this.props;(0,h.getPagesData)("/support/"+h.routing.paramMap.orgName+"/SocialIntegration.do?mode=getFacebookPages&brandId="+n).then(function(e){var t=e.data;if(null==t.apiError&&302!==t.responseStatus&&"string"!=typeof t){var o={pageInfo:t,channelInfo:c};p[n]=o,u.setState({newChannelAccData:o,addAccpopup:!0,brandId:n,socialas:a})}else r({type:"alert",message:C.h.getI18NValue("support.setup.social.conf.getpage.error")})},function(e){r({type:"alert",message:C.h.getI18NValue("support.unable.to.process.your.request")})})}else u.setState({newChannelAccData:m,addAccpopup:!0,brandId:n,socialas:a})}}else this.setState({addAccpopup:e,isFreeze:e})}},{key:"showDetailview",value:function(e,t){var a="info"===e?"InfoBrand":e;a="dView"+a;var n=this.props,o=n.isSupportFrom,i=n.push,s=n.routing;Object(I.o)(o,a,s,i,t),this.setState({socialas:e,brandId:t,componentView:"detailView"})}},{key:"brandActionFormlist",value:function(e,t){this.props.brandAction(e,t)}},{key:"getAccDataforSet",value:function(e,t,a,n){for(var o=U()([],this.props.brandsData),i=[],s=0,r=o.length;s<r;s++){var l=o[s];l.id===e?i.push(a):i.push(l)}this.props.addNewChannel(a)}},{key:"render",value:function(){var e=this.state,t=e.addAccpopup,a=e.componentView,n=e.brandId,o=e.socialas,i=e.newChannelAccData,s=e.isFreeze,r=this.props,l=r.brandsData,c=r.brandAction,d=r.curntDepId,u=r.isSupportFrom,p=r.supportJson,m=r.changeCommentBox,f=r.commentBoxStatus,g=r.showMessage,v=r.depName,b=r.activeDepNameId,w=r.socialStatus,y=r.showConfirmBox,S=r.getBrandSettings,k=r.getDepartmentName,C=r.push,I=r.routing,E=r.updateBrandSettings,D=r.updateBrandData,N=r.uploadImage,x=r.deleteImage,P=r.currentOrgId,T=r.getPagesData,A=r.addPageIntoChannel,_=r.checkBrandLimit,F=I.paramMap.orgName,O={changeCommentBox:m,commentBoxStatus:f},B=this,z=void 0,j=void 0,V=void 0,R=!0,M=p.from;return"listView"===a&&0!=l.length&&(V=l.map(function(e,t){void 0===(e=U()({},e)).channels&&(e.channels=[]),0===e.channels.length&&(!1===R||(R=!1,j=e.brandName));var a=e.isImported;return void 0===a&&(a=!1),h.a.createElement(je,{key:t,brandData:e,brandDelAction:B.delBrand,popupaction:B.accPopupFunction,brandDetailview:B.showDetailview,brandAccDel:B.deleteChannel,listingFor:"list",makeBlur:a,reactFrom:M,getDepartmentName:k,brandBasicActions:B.props.brandBasicActions,showConfirmBox:y,currentOrgId:P})})),(""!=n&&"detailView"===a||""!=n&&!0===t)&&l.filter(function(e){e.id.toString()===n.toString()&&(z=e)}),"listView"!=a&&void 0===z&&""!=n&&null!=n?h.a.createElement(da.a,{errorFor:"url",errorCase:"brand"}):h.a.createElement("div",{"data-id":"brandsLViewWrapper"},(!0===t||!0===s)&&h.a.createElement(pa.a,{portalId:"portal6Social"},h.a.createElement(Oe.a,{animationName:"fade",isActive:!0,runOnMount:!0},!0===t&&null!=i.channelInfo&&""!=n?h.a.createElement(Ye,{popupaction:this.accPopupFunction,popupFor:o,popBrandId:n,brandData:z,accountData:i,viewAs:"listView",dComponentView:"listView",brandAccDel:this.deleteChannel,getAccData:this.getAccDataforSet,showMessage:g,orgName:F,addPageIntoChannel:A}):"")," "),"listView"===a?h.a.createElement(ca,{brandDataElement:V,brandActionFormlist:this.brandActionFormlist,brandsLen:l.length,isToCreateBrand:R,inValidBrandName:j,isSupportFrom:u,socialStatus:w,cmtBoxCombo:O,showMessage:g,depName:v,activeDepNameId:b,showConfirmBox:y,portalName:F,checkBrandLimit:_}):h.a.createElement(oa,{setailViewAs:o,actionsforAcc:c,brandId:n,isFreeze:s,dComponentView:this.props.socialAs,curntDepId:d,channelDel:this.deleteChannel,detailViewbrandData:z,backToListView:this.componentview,brandBasicActions:this.props.brandBasicActions,formCancel:this.props.formCancel,getAccData:this.getAccDataforSet,openNewWindow:this.openNewWindow,accountPopupData:i,isSupportFrom:u,goTomodule:this.goTomodule,socialStatus:w,cmtBoxCombo:O,showMessage:g,depName:v,getDepartmentName:k,activeDepNameId:b,showConfirmBox:y,getBrandSettings:S,push:C,routing:I,orgName:F,updateBrandSettings:E,updateBrand:D,imageActions:{uploadImage:N,deleteImage:x},currentOrgId:P,getPagesData:T,addPageIntoChannel:A}))}}]),t}(h.a.Component);var fa=Object(v.connect)(function(e,t){var a=e.routing,n=e.currentOrgId,o=a.paramMap,i=o.brandId,s=o.handle;return s=void 0===s?"":-1===["facebook","twitter","edit","new"].indexOf(s)?"":s,{socialStatus:e.socialStatus,depName:Object(b.n)(e).value,crntDepId:Object(b.n)(e).id,activeDepNameId:Object(b.A)(e),curntBrandId:i,currentOrgId:n}},{showConfirmBox:k.b.showConfirmBox,changeCommentBox:ma.a,commentBoxStatus:ma.b,showMessage:k.Q,getBrandSettings:w.c,deleteBrand:S.a,deleteChannel:S.b,getPagesData:w.j,addNewChannel:y.b,updateBrandSettings:y.n,updateBrandData:y.m,uploadImage:y.o,deleteImage:S.c,checkBrandLimit:w.b,addPageIntoChannel:y.f})(ha);ha.propTypes={activeDepNameId:g.a.object,addNewChannel:g.a.func,addPageIntoChannel:g.a.func,brandAction:g.a.func,brandBasicActions:g.a.func,brandDataModify:g.a.func,brandsData:g.a.array,changeCommentBox:g.a.func,checkBrandLimit:g.a.func,commentBoxStatus:g.a.func,crntDepId:g.a.string,curntBrandId:g.a.string,curntDepId:g.a.string,currentOrgId:g.a.string,deleteBrand:g.a.func,deleteChannel:g.a.func,deleteImage:g.a.func,depName:g.a.string,formCancel:g.a.func,getBrandSettings:g.a.func,getDepartmentName:g.a.func,getPagesData:g.a.func,isSupportFrom:g.a.string,push:g.a.func,routing:g.a.object,showConfirmBox:g.a.func,showMessage:g.a.func,socialAs:g.a.string,socialStatus:g.a.object,supportJson:g.a.object,updateBrandData:g.a.func,updateBrandSettings:g.a.func,uploadImage:g.a.func};var ga=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={componentPosition:e.componentPosition,brandsData:e.brandsData},a.brandBasicActions=a.brandBasicActions.bind(a),a.cancelForm=a.cancelForm.bind(a),a}return p()(t,e),l()(t,[{key:"cancelForm",value:function(e,t){this.props.brandDataModify("cancel",e,"","",t)}},{key:"brandBasicActions",value:function(e,t,a,n,o){var i=this.state.brandsData,s=[];if("addNewBrand"===e&&(s=[].concat(be()(i))).push(t),"updateBrandData"===e){var r=[].concat(be()(i)),l=t.id;l=void 0===l?o:l,r.map(function(e,n){e.id===l?null!=t.id&&s.push(t):(a="configBrand"===a?"listView":a,s.push(e))})}this.props.brandDataModify(e,a,s,n,t.id)}},{key:"componentWillReceiveProps",value:function(e){if(this.state.componentPosition!=e.componentPosition){if(this.state.brandsData!=e.brandsData)return void this.setState({brandsData:e.brandsData,componentPosition:e.componentPosition});this.setState({componentPosition:e.componentPosition})}else this.state.brandsData!=e.brandsData&&this.setState({brandsData:e.brandsData})}},{key:"render",value:function(){var e=this.state.componentPosition,t=this.props,a=t.crntDepId,n=t.brandsData,o=t.isSupportFrom,i=t.supportJson,s=t.urlBrandId,r=t.push,l=t.routing,c=t.brandNames,d=t.activeDepNameId,u=t.getDepartmentName,p=t.addNewBrand,m=t.showMessage,f=t.imageActions,g=t.currentOrgId,v="addNewBrand"===e?"configBrand":"listView";return h.a.createElement("div",null,"addNewBrand"===e||"AddNewBrandFromList"===e?h.a.createElement(Fe,{componentFrom:v,asform:!0,mode:"add",curntDepId:a,departmentId:a,formSave:this.brandBasicActions,formCancel:this.cancelForm,isSupportFrom:o,activeDepNameId:d,getDepartmentName:u,addNewBrand:p,brandNames:c,showMessage:m,routing:l,push:r,imageActions:f,currentOrgId:g}):"listView"===e||"dViewfacebook"===e||"dViewtwitter"===e||"dViewInfoBrand"===e||"dVieweditBrand"===e?h.a.createElement(fa,{brandsData:n,socialAs:e,curntDepId:a,brandDataModify:this.props.brandDataModify,brandAction:this.props.brandAction,brandBasicActions:this.brandBasicActions,formCancel:this.cancelForm,isSupportFrom:o,curntBrandId:s,supportJson:i,push:r,routing:l,getDepartmentName:u,brandNames:c,showMessage:m}):"")}}]),t}(h.a.Component),va=ga;ga.defaultProps={componentPosition:"configBrand"},ga.propTypes={activeDepNameId:g.a.array,addNewBrand:g.a.func,brandAction:g.a.func,brandDataModify:g.a.func,brandNames:g.a.object,brandsData:g.a.array,componentPosition:g.a.string,crntDepId:g.a.string,currentOrgId:g.a.string,getDepartmentName:g.a.func,imageActions:g.a.func,isSupportFrom:g.a.string,push:g.a.func,routing:g.a.object,showMessage:g.a.func,supportJson:g.a.object,urlBrandId:g.a.string};var ba=a("./src/components/layout/SetupDetailLayout/index.js");a.d(t,"SetupContainer",function(){return wa});var wa=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=a.props,i=n.brandsData,r=n.componentView;return a.state={isBrandConfigured:0!=i.length,isSocialEnabled:0!=i.length||""!=r&&"gettingstarted"!=r,getBrandsCall:"initiate",getSocialData:"waiting"},a.getStart=a.getStart.bind(a),a.modifyUrlActions=a.modifyUrlActions.bind(a),a.getDepartmentName=a.getDepartmentName.bind(a),a.renderHelpText=a.renderHelpText.bind(a),a}return p()(t,e),l()(t,[{key:"renderHelpText",value:function(){return h.a.createElement("div",null,"haii")}},{key:"getStart",value:function(){var e=this,t=this.state,a=t.getSocialData,n=t.getBrandsCall,o=this.props,i=o.getSocialPortals,s=o.getPortalBrands,r=o.socialData,l=o.showMessage;"success"===a&&"success"===n&&this.setState({isSocialEnabled:!0});var c=r.socialBrands,d=r.socialPortals,u=0!=c.length||0!=d.length;this.setState({getSocialData:!0===u?a:"triggered",isSocialEnabled:!0},function(){var t=function(){l({type:"alert",message:"internal Error"}),e.setState({isSocialEnabled:!1,getSocialData:"waiting"})};i().then(function(n){var o=(n.data||{}).data||[];if(void 0!==o)if(0!==o.length){var i=o[0].portalId;e.setState({getSocialData:!0===u?a:"isPortalSuccess"}),null!=i&&s(i).then(function(a){void 0!==(a.data||[])?e.setState({getSocialData:"success"}):t()})}else e.setState({getSocialData:!0===u?a:"noPortal"});else t()})})}},{key:"modifyUrlActions",value:function(e,t,a,n,o){var i=this,s=this.props,r=s.supportJson,l=s.routing,c=s.push,d=s.brandsData,u=r.from,p="dVieweditBrand"===t?"dViewInfoBrand":t;if("configBrand"===t){var m=this.state,h=m.isBrandConfigured,f=m.getSocialData;if(""===h||0===d.length)return"waiting"===f&&this.setState({getSocialData:"triggered"},function(){i.getStart()}),void Object(I.o)(u,"listView",l,c);t=!0===this.state.isBrandConfigured?"listView":"configBrand"}Object(I.o)(u,p,l,c,o)}},{key:"getDepartmentName",value:function(e){var t=this.props.activeDepNameId,a="";return t.map(function(t){t.id===e&&(a=t.value)}),a}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state,n=a.getBrandsCall,o=a.getSocialData,i=a.isBrandConfigured,s=e.brandsData,r=e.componentView,l=e.socialData,c=e.getBrands,d=e.supportJson.isFrom,u=this.props.componentView;l.socialBrands,l.socialPortals;if(r!=u)if("success"===n&&"importBrand"!=r){if(0===s.length)return"isPortalSuccess"===o?void this.setState({isBrandConfigured:!1,isSocialEnabled:!0}):void this.setState({isBrandConfigured:!1,isSocialEnabled:"addNewBrand"===u});this.setState({isBrandConfigured:!0,isSocialEnabled:!0})}else if("isPortalSuccess"===o&&!1===i)this.setState({isBrandConfigured:!1,isSocialEnabled:!0});else if(0===s.length&&"module"!=d&&u!=r&&"success"!=n){var p=this;c().then(function(){p.setState({getBrandsCall:"success"})})}else"importBrand"===r&&"waiting"===o?this.setState({getSocialData:"triggered"},function(){t.getStart()}):"importBrand"===r&&"success"===o&&this.getStart()}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.brandsData,n=t.getBrands,o=t.componentView;t.supportJson.from;if(0===a.length&&"importBrand"!=o){var i=this;n().then(function(){i.setState({getBrandsCall:"success"})})}"importBrand"===o&&this.setState({getSocialData:"triggered"},function(){e.getStart()})}},{key:"render",value:function(){var e=this.props,t=e.brandsData,a=e.componentView,n=e.routing,o=e.push,i=e.socialData,s=e.supportDepId,r=e.supportJson,l=e.brandNames,c=e.activeDepNameId,d=e.addNewBrand,u=e.importNewBrand,p=e.portalName,m=e.getPortalBrands,f=e.deleteImage,g=e.currentOrgId,v=r.from,b=this.state,w=b.isSocialEnabled,S=(b.isBrandConfigured,b.getSocialData),C=b.getBrandsCall,E=i.socialBrands,D=i.socialPortals,N=0!=t.length,x=this,P=function(e){return h.a.createElement(ba.b,{getHelpInfo:x.renderHelpText,needHelpInfo:!0},h.a.createElement(ba.d,{isCustomizedHeader:!0,needHelpInfoWrapper:!0}),h.a.createElement(ba.a,{needPadding:!1},e))};if("success"===S&&"initiate"===C&&"importBrand"!=a)return h.a.createElement(ea.g,null);if("gettingstarted"===a)return w?"success"!=S&&"noPortal"!=S?h.a.createElement(ea.g,null):P(h.a.createElement(V,{getBrandCreateForm:function(e){Object(I.o)(v,e,n,o)},portalBrandDatalist:E})):"success"!==C||N?h.a.createElement(ea.g,null):P(h.a.createElement(K,{getStart:this.getStart}));if("importBrand"===a){var T=0!=D.length?D[0].portalId:"";if("success"!=S&&"noPortal"!=S)return h.a.createElement(ea.g,null);var A={portal:D,brandsData:E,selectedPortalId:T};return P(h.a.createElement(ge,{goToListView:function(){Object(I.o)(v,"listView",n,o)},portalBrandsData:A,crntDepId:s,brandDataModify:this.modifyUrlActions,supportJson:r,showMessage:k.Q,importNewBrand:u,orgName:p,getPortalBrands:m}))}return P(h.a.createElement(va,{brandsData:t,crntDepId:s,componentPosition:a,brandDataModify:this.modifyUrlActions,isSupportFrom:v,brandAction:function(e){Object(I.o)(v,e,n,o)},supportJson:r,push:o,routing:n,brandNames:l,activeDepNameId:c,getDepartmentName:this.getDepartmentName,addNewBrand:d,showMessage:k.Q,imageActions:{uploadImage:y.o,deleteImage:f},currentOrgId:g}))}}]),t}(m.Component);t.default=Object(v.connect)(function(e,t){var a=Object(b.A)(e),n={},o=e.module.brands,i=e.brandsData,s=[],r=e.socialData,l=Object(b.n)(e),c="allDepartment"===l.id?"-1":l.id;i.map(function(e){s.push(o[e])}),a.map(function(e){n[e.id]=e});var d={};s.map(function(e){d[e.brandName]=e.id});var u=e.routing,p=u.paramMap,m=u.urls,h=(p.brandId,p.handle),f=p.orgName,g=m.setupSocialbrands,v=m.setupSBrandsSettings,w=m.setupSBrandsImport,y=m.setupSBrandEdit,S=m.socialBrands,k=m.setupSBrandInfo,C=m.setupSBrandNew,I=0!=s.length,E=2===g.match?"listView":2===v.match?"facebook"===h?"dViewfacebook":"dViewtwitter":2===w.match?"importBrand":2===y.match?"dVieweditBrand":2===k.match?"dViewInfoBrand":2===C.match?"addNewBrand":"";E=2===S.match||"listView"===E&&!I?"gettingstarted":E;var D=t.supportJson,N=(D=void 0===D?{permissions:["agent","admin"],hasLicense:!0,from:"setup"}:D).from;return{activeDeptsObj:n,activeDepNameId:a,brandsData:s,supportDepId:c,isFrom:N,changeTOModule:function(){alert("in progress")},supportJson:D,isFromRModule:!1,componentView:E,brandNames:d,currentOrgId:e.currentOrgId,portalName:f,routing:u,socialData:r}},{getBrands:w.e,push:k.L,getSocialPortals:w.o,getPortalBrands:w.k,addNewBrand:y.a,showMessage:k.Q,importNewBrand:y.k,uploadImage:y.o,deleteImage:S.c})(wa);wa.propTypes={activeDepNameId:g.a.array,activeDeptsObj:g.a.object,addNewBrand:g.a.func,brandNames:g.a.array,brandsData:g.a.array,changeTOModule:g.a.func,componentView:g.a.string,currentOrgId:g.a.string,deleteImage:g.a.func,getBrands:g.a.func,getPortalBrands:g.a.func,getSocialPortals:g.a.func,importNewBrand:g.a.func,isFrom:g.a.string,isFromRModule:g.a.bool,portalName:g.a.string,push:g.a.func,routing:g.a.object,showMessage:g.a.func,socialData:g.a.object,supportDepId:g.a.string,supportJson:g.a.object,uploadImage:g.a.func}},"./src/containers/SocialModuleContainer/SocialModuleContainer.js":function(e,t,a){"use strict";a.r(t);var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(i),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(r),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(f),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),b=a("./src/containers/SocialModuleContainer/SocialModuleContainer.module.css"),w=a.n(b),y=a("./src/actions/Social/GetActions.js"),S=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/redux/es/index.js"),k=a("./src/actions/index.js"),C=a("./src/reducers/selector.js"),I=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),E=a.n(I),D=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),N=a.n(D),x=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),P=a.n(x),T=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),A=a.n(T),_=a("./src/fz-i18n/index.js"),F=a("./src/components/Social/BrandsFeedsView/BrandsFeedsView.module.css"),O=a.n(F),B=a("../components/lib/Avatar/Avatar.js"),z=a.n(B),j=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),V=a.n(j),R=a("../components/lib/Layout/index.js"),M=a("../components/lib/Button/Button.js"),L=a.n(M),K=a("../components/lib/CheckBox/CheckBox.js"),H=a.n(K),U=a("./src/components/Social/Comments/SocialComments.module.css"),W=a.n(U),q=a("./src/components/Social/SupportCommnetBox/SupportCommnetBox.module.css"),Z=a.n(q),G=a("../components/lib/Textarea/Textarea.js"),Y=a.n(G),J=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={commentText:e.cmtText||"",placeHolder:e.placeHolder||"Type here",hoverSelect:0,isSpace:!1,isBackUp:!1,backupPosition:0,backUpdata:[""],isAllSelected:!1},a.keyPress=a.keyPress.bind(a),a.onChangeFun=a.onChangeFun.bind(a),a.setEndAfterAt=a.setEndAfterAt.bind(a),a.setCursorPosition=a.setCursorPosition.bind(a),a.keyDown=a.keyDown.bind(a),a.selectAll=a.selectAll.bind(a),a.handleFocus=a.handleFocus.bind(a),a.onBlurAction=a.onBlurAction.bind(a),a}return p()(t,e),l()(t,[{key:"handleFocus",value:function(){this.props.isDisabled||this.props.focusAction&&this.props.focusAction()}},{key:"selectAll",value:function(){var e=void 0,t=void 0,a=this.props.idenId,n=this.state.commentText,o=this[a];document.body.createTextRange?((e=document.body.createTextRange()).moveToElementText(o),e.select()):window.getSelection&&(t=window.getSelection(),(e=document.createRange()).selectNodeContents(o),e.setStart(o.firstChild,n.length),(t=window.getSelection()).removeAllRanges(),t.addRange(e))}},{key:"setCursorPosition",value:function(){var e=void 0,t=void 0,a=this.props.idenId,n=this.state.commentText,o=this[a];if(document.createRange&&null!=o){(e=document.createRange()).selectNodeContents(o);var i=n.replace("&nbsp;"," ").length;e.setStart(o.firstChild,i),e.setEnd(o.firstChild,i),(t=window.getSelection()).removeAllRanges(),t.addRange(e)}}},{key:"keyDown",value:function(e){var t=this,a=this.props.enableMentions;if(e.ctrlKey&&a){if(65===e.keyCode)this.selectAll();else if(90===e.keyCode){var n=this.state,o=n.backUpdata,i=(n.isBackUp,n.backupPosition);o=P()([],o);var s=0!=i?i-1:i;0!=i&&o[s];this.setState({backupPosition:s,isBackUp:!0},function(){t.setCursorPosition()})}else if(89===e.keyCode){var r=this.state,l=r.backUpdata,c=(r.isBackUp,r.backupPosition),d=(l=P()([],l)).length-1,u=c+1,p=u>d?l[d]:l[u];u=u>d?d:u,this.setState({commentText:p,backupPosition:u,isBackUp:!0},function(){t.setCursorPosition()})}}else;}},{key:"keyPress",value:function(e){var t=this,a=this.props,n=a.enableMentions,o=a.mode,i=a.idenId;if(!a.isDisabled){var s=32===e.keyCode,r=this.state,l=r.commentText,c=(r.isAllSelected,r.backUpdata),d=r.isBackUp,u=r.backupPosition,p=u,m=l;m=!0===n?m:m.replace(/<div>/gi,"").replace(/<\/div>/gi,"").replace(/<br>/gi,""),c=P()([],c);var h=this;if(e.ctrlKey&&17!=e.keyCode){if(86===e.keyCode&&""!=l&&this.setState({isSpace:!1}),65===e.keyCode&&""!=l)this.setState({isAllSelected:!0},function(){t.selectAll()});else if(89===e.keyCode&&"number"==typeof u){var f=c.length-1,g=0===u?1:u+1,v=g>f?c[f]:c[g];g=g>f?f:g,this.setState({commentText:v,backupPosition:g,isBackUp:!0,isAllSelected:!1},function(){0!=v.length&&t.setCursorPosition()})}}else{13===e.keyCode&&!1===e.shiftKey&&function(t){if(null!=h.props.getDataonKeyup&&h.props.getDataonKeyup(m),"reply"===o||"message"===o){e.preventDefault();var a=!0===t?"click":"done";"reply"===o?h.props.addReplycomment(a,m,arguments):h.props.addReplycomment(a,m,i)}}(!0);var b=this.state,w=b.hoverSelect;!0!==b.showMentions||40!=e.keyCode?50!=e.keyCode&&(d&&((c=P()([],c)).splice(u,c.length-1),c.push(m),p=c.length-1),this.setState({isSpace:s,backUpdata:c,backupPosition:p,isBackUp:!1},function(){})):this.setState({hoverSelect:w+1})}}}},{key:"onChangeFun",value:function(e,t){var a=this,n=arguments,o=this.props,i=o.enableMentions;if(!o.isDisabled){var s,r=!0===i?t.target.innerText:e,l=this.state,c=l.backUpdata,d=l.backupPosition,u=(l.isBackUp,this.props),p=u.mode,m=u.idenId;(c=P()([],c)).push(r),s=c.length-1,this.setState({commentText:r,backUpdata:c,backupPosition:s},function(){if(null!=a.props.getDataonKeyup&&a.props.getDataonKeyup(r),"reply"===p||"message"===p){if("reply"===p)return void a.props.addReplycomment("done",r,n);a.props.addReplycomment("done",r,m)}if(""!=r){var e=a.props.idenId;a[e].focus()}})}}},{key:"setEndAfterAt",value:function(e){if("reply"!=this.props.mode&&!0===this.props.enableMentions){var t=this.props.idenId,a=document.getElementById(t),n=a.lastChild;null!=n&&(a.lastChild.contentEditable=!1);var o=document.createRange();o.setStartAfter(n);var i=window.getSelection();i.removeAllRanges(),i.addRange(o),a.focus()}}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.iscancel,n=e.cmtText,o=e.idenId,i=e.enableMentions,s=e.isfocus;!0===a&&this.setState({commentText:"",showMentions:!1},function(){t[o].focus()}),!0===s&&this[o].focus(),n!=this.state.commentText&&this.setState({commentText:n},function(){if(""!=n)if(!0===i){var e=n.split("<b>").length-1;t.setEndAfterAt(e)}else{var a=t.props.idenId;t[a].focus()}})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.idenId;!0===e.isfocus&&this[t]&&this[t].focus()}},{key:"onBlurAction",value:function(){var e=this.props,t=e.isDisabled,a=e.isfocus;null!=this.props.blurAction&&!t&&a&&this.props.blurAction()}},{key:"render",value:function(){var e=arguments,t=this.state,a=t.placeHolder,n=t.commentText,o=this.props,i=o.maxLength,s=o.styleClass,r=o.idenId,l=o.isDisabled,c=o.refSelf,d=this;return h.a.createElement("div",{className:Z.a.mentions_input_box,onBlur:function(){d.props.onMouseLeave(n)}},h.a.createElement(Y.a,{placeHolder:a,dataId:r,text:n,maxLength:i,className:s,isDisabled:l,onChange:this.onChangeFun,onKeyDown:this.keyPress,onFocus:this.handleFocus,onBlur:this.onBlurAction,getRef:function(t){c(t,e),d[r]=t}}))}}]),t}(h.a.Component),Q=J;J.defaultProps={maxLength:32e3,enableMentions:!0,mentionsList:[{fullname:"nivetha",zuid:5189070},{fullname:"Ganeshan",zuid:5189070},{fullname:"VS",zuid:5189070}],onMouseLeave:function(){},refSelf:function(){},iscancel:!1,idenId:"sptbox",cmtText:"",isDisabled:!1,isfocus:!0},J.propTypes=E()({maxLength:g.a.any,enableMentions:g.a.any,type:g.a.any,mentionsList:g.a.any,mode:g.a.any,styleClass:g.a.any,onMouseLeave:g.a.any,idenId:g.a.any.isRequired,addReplycomment:g.a.any,getCommentData:g.a.any,iscancel:g.a.any,replyText:g.a.any,cmtText:g.a.any,getDataonKeyup:g.a.any,isDisabled:g.a.any,isfocus:g.a.any,blurAction:g.a.any,focusAction:g.a.any,refSelf:g.a.any},"styleClass",g.a.string);var X=a("./src/components/Social/Loading/LoadingNew.js"),$=a("./src/components/Social/ErrorContainer/ErrorContainer.module.css"),ee=a.n($),te=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.errorCode,a=e.toRetry,n=e.styleClass,o={100:"support.social.geterror.data",101:"support.social.geterror.tweets",102:"support.social.geterror.comments",103:"support.social.geterror.replies",104:"support.social.geterror.chat"}[t];return o=void 0===o?"support.social.geterror.data":o,o=_.h.getI18NValue(o),h.a.createElement("div",{className:ee.a.container+" "+n,"data-id":"errorContainerWrapper"},o,!0===a&&h.a.createElement("span",{"data-id":"retry_social",onClick:this.props.reAssemble,className:ee.a.link},_.h.getI18NValue("support.social.retry")))}}]),t}(h.a.Component),ae=te;te.defaultProps={errorCode:100,toRetry:!1,styleClass:"",reAssemble:function(){}},te.propTypes={errorCode:g.a.number,reAssemble:g.a.func,styleClass:g.a.object,toRetry:g.a.bool};a("./src/components/Social/SocialImage/SocialImage.module.css");var ne=a("./src/images/no-image-01.png"),oe=a.n(ne),ie=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isError:!1},a.getErrorImage=a.getErrorImage.bind(a),a}return p()(t,e),l()(t,[{key:"getErrorImage",value:function(){this.setState({isError:!0})}},{key:"render",value:function(){var e=this.props,t=e.styleClass,a=e.dataId,n=(e.clickAction,e.href);(this.state.isError||void 0===n)&&(n=oe.a);return h.a.createElement("img",{src:n,"data-id":a,className:t,onError:this.getErrorImage.bind(this)})}}]),t}(h.a.Component),se=ie;ie.defaultProps={styleClass:"",dataId:"image_Social",clickAction:function(){}},ie.propTypes={clickAction:g.a.func,dataId:g.a.string,href:g.a.string,styleClass:g.a.any};var re=a("./src/components/Link/Link.js"),le=a("./src/components/DotSeparator/DotSeparator.js"),ce=a("./src/components/Social/AttachmentsView/AttachmentsView.module.css"),de=a.n(ce),ue=a("./src/components/Social/socialCommon.js"),pe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isList:!1,selectedAId:e.selectedAId,isZoomed:!1},a.openList=a.openList.bind(a),a.makeImageUrl=a.makeImageUrl.bind(a),a.selectAttToView=a.selectAttToView.bind(a),a.navigation=a.navigation.bind(a),a.imageActions=a.imageActions.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a}return p()(t,e),l()(t,[{key:"imageActions",value:function(e,t){var a=this.state,n=(a.selectedAId,a.isZoomed);"zoom"!==e||this.setState({isZoomed:!n})}},{key:"selectAttToView",value:function(e,t){this.setState({selectedAId:e,isZoomed:!1})}},{key:"openList",value:function(){var e=this.state.isList;this.setState({isList:!e})}},{key:"navigation",value:function(e,t){var a=this,n=this.props.attData,o=this.state,i=o.selectedAId,s=o.isList,r=void 0,l=!1;if("pre"!=e&&"next"!=e){var c=e.keyCode;39===c&&(l=!0,r=i+1),37===c&&(l=!0,r=i-1),27===c&&this.props.closeViewAttach()}"pre"===e&&(l=!0,r=i-1),"next"===e&&(l=!0,r=i+1),!0===l&&r>=0&&r<n.length&&this.setState({selectedAId:r},function(){if(s){var e=a.imgList,t=a["img_"+r].offsetLeft;e.scrollLeft=t}})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.attData,n=t.selectedAId,o=t.isSupportimage,i=void 0;o?a.map(function(e,t){e.id===n&&(i=t)}):i=n,this.setState({selectedAId:i},function(){document.addEventListener("keyup",e.handleKeyDown)})}},{key:"makeImageUrl",value:function(e){var t=e.split("/");if(-1!=t.indexOf("content")){var a=t.indexOf("uploads");t[a+1];return e+"?portalname="+SupportUI.CurrentPortal.getPortalName()+"&"+getCSRFCookieName()+"="+getCSRFCookie()}return e}},{key:"handleKeyDown",value:function(e){this.navigation(e)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyDown)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isList,n=t.selectedAId,o=t.isZoomed,i=this.props,s=i.attData,r=i.type,l=this,c=void 0,d=1,u=s.length,p="",m=!0===o?"zoomed":"imgMWH",f=s.map(function(e,t){e.id;var a=e.href,o=e.name,i=l.makeImageUrl(a);n===t&&(c=i,d=t+1,p=void 0===o?"Image"+d:o);var s="img_"+t;return h.a.createElement("li",{key:t,ref:function(e){return l[s]=e},onClick:l.selectAttToView.bind(this,t),"data-id":"listattachment_"+t,className:de.a[n===t?"selectedAttachment":"attachment"]},h.a.createElement("img",{className:de.a.attachmentImage,name:"thumbimg",src:i,height:"31",width:"100"}))}),g=!0===o?"ovrflauto":"notZommed",v=void 0,b=void 0,w=void 0;if("type3"===r){var y=s[n].author;v=y.href,w=y.name,b=Object(ue.g)(w)}return h.a.createElement("div",{"data-id":"attachmentsViewWrapper",className:de.a.container},h.a.createElement("div",{className:de.a.section},n>0&&h.a.createElement(R.Container,{isCover:!1,align:"both",className:de.a.previousArrow,dataId:"attach_prev",onClick:this.navigation.bind(this,"pre")},h.a.createElement(R.Container,{isCover:!1,align:"both",className:de.a.arrowContainer},h.a.createElement(V.a,{name:"ZD-arrowLeft3",iconClass:de.a.iconarrowleft3}))),n<u-1&&h.a.createElement(R.Container,{isCover:!1,align:"both",className:de.a.nextArrow,dataId:"attach_next",onClick:this.navigation.bind(this,"next")},h.a.createElement(R.Container,{isCover:!1,align:"both",className:de.a.arrowContainer},h.a.createElement(V.a,{name:"ZD-arrowRight3",iconClass:de.a.iconarrowright3}))),h.a.createElement(R.Container,{alignBox:"row",className:de.a.header},h.a.createElement("div",{title:p,className:de.a.title},p),h.a.createElement(R.Box,{flexible:!0,className:de.a.pagination},d,"/",u),h.a.createElement("div",{className:de.a.menu},h.a.createElement(R.Container,{alignBox:"row",align:"right",isCover:!1},!1===o?h.a.createElement(R.Container,{isCover:!1,align:"both",title:_.h.getI18NValue("support.setup.social.zoomin"),className:de.a.menuIcon,dataId:"attach_zoom",onClick:this.imageActions.bind(this,"zoom")},h.a.createElement(V.a,{size:"20",name:"ZD-zoomIn",iconClass:de.a.iconzoomin})):h.a.createElement(R.Container,{isCover:!1,align:"both",title:_.h.getI18NValue("support.setup.social.zoomout"),className:de.a.menuIcon,dataId:"attach_zoom",onClick:this.imageActions.bind(this,"zoom")},h.a.createElement(V.a,{size:"20",name:"ZD-zoomOut",iconClass:de.a.iconzoomout})),h.a.createElement(R.Container,{isCover:!1,align:"both",className:de.a.menuIcon},h.a.createElement(re.a,{title:_.h.getI18NValue("support.setup.social.newtab"),target:"_blank",href:c},h.a.createElement(V.a,{size:"17",name:"ZD-newtab",iconClass:de.a.iconnewtab}))),h.a.createElement(R.Container,{isCover:!1,align:"both",title:_.h.getI18NValue("crm.label.close"),className:de.a.menuIcon,dataId:"close_attachment_view",onClick:l.props.closeViewAttach},h.a.createElement(V.a,{size:"15",name:"ZD-socialClose",iconClass:de.a.iconinappclose}))))),h.a.createElement("div",{className:de.a.imageContainer+" "+de.a[g],onDoubleClick:this.imageActions.bind(this,"zoom")},h.a.createElement("img",{src:c,className:de.a.image+" "+de.a[m]}))),f.length>1&&h.a.createElement("div",null,h.a.createElement("div",{className:de.a.moreIcon,"data-id":"openlist_attachments",onClick:this.openList},!0===a?h.a.createElement(V.a,{size:"16",name:"ZD-arrow1",iconClass:de.a.iconarrows1}):h.a.createElement(V.a,{size:"15",name:"ZD-pullDown",iconClass:de.a.iconpulldown})),(!0===a||"type3"===r)&&h.a.createElement(R.Container,{alignBox:"row",className:de.a.footer},"type3"===r&&h.a.createElement(R.Container,{alignBox:"row",align:"both",className:de.a.authorinfo},h.a.createElement("div",{className:de.a.SocialUserPhoto},h.a.createElement(z.a,{name:b,size:"xsmall",src:v,shape:"circle"})),h.a.createElement("span",{className:de.a.authorName},w)),h.a.createElement(R.Box,{flexible:!0},h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:de.a["type3"===r?"pvImgCon_type3":"attachmentsContainer"],ref:function(t){e.imgList=t}},h.a.createElement("ul",{className:de.a.attachments},f))))))}}]),t}(h.a.Component),me=pe;pe.propTypes={attData:g.a.array.isRequired,closeViewAttach:g.a.func.isRequired,isSupportimage:g.a.bool,selectedAId:g.a.string.isRequired,type:g.a.string},pe.defaultProps={type:"type1",isSupportimage:!0};var he=a("./src/utils/Common.js"),fe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={commmentsData:[],cmtCursor:{},mode:"view",replyId:"",openedRepIdsData:{},replyText:"",replyCmdFrom:0,replyCmdTo:2,getMoreReplys:!1,getMoreReplysId:"",replycursorData:{},dirSelected:[],isNewEntered:!1,buttonAct:[],viewImagePreview:!1,viewImageData:[],sImageId:"",attachedData:{},attachedFilesArray:{},getFromParent:!1,getMoreLoading:!1,getReplyLoading:!1,getError:0,reSendTem:[],seeMoreIds:[],isReplyFocus:"",likeStatus:{},postId:e.postId},a.startReply=a.startReply.bind(a),a.handleReply=a.handleReply.bind(a),a.getMoreReplyCmts=a.getMoreReplyCmts.bind(a),a.getmoreCmts=a.getmoreCmts.bind(a),a.checkBoxChange=a.checkBoxChange.bind(a),a.likeCmt=a.likeCmt.bind(a),a.setDataInState=a.setDataInState.bind(a),a.clickOnUserNameofComment=a.clickOnUserNameofComment.bind(a),a.getAttachElements=a.getAttachElements.bind(a),a.getAttachlist=a.getAttachlist.bind(a),a.attachFiles=a.attachFiles.bind(a),a.removeAttachment=a.removeAttachment.bind(a),a.cmtSeeMore=a.cmtSeeMore.bind(a),a.replyFocus=a.replyFocus.bind(a),a.setref=a.setref.bind(a),a}return p()(t,e),l()(t,[{key:"replyFocus",value:function(e){this.setState({isReplyFocus:""})}},{key:"setref",value:function(e,t){this[e]=t}},{key:"cmtSeeMore",value:function(e,t){var a=this.state.seeMoreIds;-1===(a=P()([],a)).indexOf(e)&&""!=e&&null!=e&&a.push(e),this.setState({seeMoreIds:a})}},{key:"likeCmt",value:function(e,t,a,n,o){var i=this.props,s=i.brandId,r=i.postId,l=i.likeCmt,c=this.state.likeStatus;c=P()({},c);var d={like:"like"===t},u="replysreply"===a?n:e;Object(he.B)();if(c[u]==t){var p="like"===t?"unlike":"like";c[u]=p,this.setState({likeStatus:c,getFromParent:!0},function(){l(s,r,e,t,d,a,n).then(function(e){e.data.apiError})})}}},{key:"removeAttachment",value:function(e,t,a){a.stopPropagation();var n=this.state,o=n.attachedData,i=n.attachedFilesArray,s=n.openedRepIdsData,r=this.props,l=r.cmtBoxCombo,c=r.socialStatus,d=l.changeCommentBox,u=l.commentBoxStatus;o=P()({},o),i=P()({},i);var p=o[e]||[],m=i[e]||[],h=Object(ue.l)({attachedData:p,attachedFilesArray:m,aId:t}),f=h.attachedData,g=h.attachedFilesArray;o[e]=f,i[e]=g;var v=s[e];this.setState({attachedData:o,attachedFilesArray:i},function(){0!==N()(o).length||void 0!==v&&0!==v.length||!u(c)||d(!1)})}},{key:"componentWillUnmount",value:function(){window.getNewCmtsNofications=void 0}},{key:"checkBoxChange",value:function(e){var t=this.state.dirSelected;if(-1===(t=P()([],t)).indexOf(e))t.push(e);else{var a=[];t.map(function(t,n){t!=e&&a.push(t)}),t=dData}this.setState({dirSelected:t})}},{key:"attachFiles",value:function(e){var t=this,a=this.state,n=a.attachedData,o=a.attachedFilesArray,i=this.props,s=(i.channel,i.cmtBoxCombo),r=i.socialStatus,l=s.changeCommentBox,c=s.commentBoxStatus,d=this["attach"+e].files;n=P()({},n),o=P()({},o);var u=n[e]||[],p=o[e]||[],m=Object(ue.a)({attachedData:u,attachedFilesArray:p,limit:1,files:d}),h=m.attachedData,f=m.attachedFilesArray;n[e]=h,o[e]=f,this.setState({attachedData:n,attachedFilesArray:o},function(){if(N()(n).length>0&&!c(r)&&l(!0),null!=t.attachedFile&&(t.attachedFile.value=""),m.showPop){var e={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.attach.limiterror")};t.props.socialPopupAction(!0,e)}})}},{key:"getmoreCmts",value:function(){var e=this.props,t=e.brandId,a=e.postId,n=e.getCmtsActions,o=this.state,i=o.cmtCursor,s=o.replycursorData,r=o.commmentsData,l=A()(i),c=this;if(null!=i.api||0===r.length&&void 0===i.api){this.setState({getMoreLoading:!0});null!=i.api?(Object(he.B)(),encodeURIComponent(l)):Object(he.B)();n.getFacebookComments(t,a,l).then(function(e){var t=e.data.compoRes;t.compoRes;null!=t.apiError&&c.setState({getMoreLoading:!1,getError:1,isReplyFocus:""},function(){var e={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror")};c.props.socialPopupAction(!0,e)});var a=void 0===t.cursor?{}:t.cursor,n=t.data,o=(r=P()([],r)).concat(n);s=P()({},s),n.map(function(e,t){var a=e.replies,n=e.id;s[n]=a.cursor});var i={};i.cursor=a,i.data=o,c.setState({getMoreLoading:!1,getError:0,isReplyFocus:""},function(){c.props.modifyCmtData(i,!0)})})}}},{key:"clickOnUserNameofComment",value:function(e,t,a,n){this.props.selectInpost(e,t,a,n,"profile")}},{key:"getMoreReplyCmts",value:function(e,t){var a=this.state,n=(a.commmentsData,a.replycursorData),o=(a.getMoreReplysId,a.cmtCursor,this),i=this.props,s=i.brandId,r=i.postId,l=i.getCmtsActions,c=n[e]||{},d=A()(c);null!=c.api&&(this.setState({getReplyLoading:!0}),l.getFacebookCmtReplies(s,r,e,d).then(function(e){null==e.apiError?o.setState({getFromParent:!0,getReplyLoading:!1,isReplyFocus:"",getError:0}):o.setState({getReplyLoading:!1,isReplyFocus:"",getError:2},function(){var e={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror")};o.props.socialPopupAction(!0,e)})}))}},{key:"startReply",value:function(e,t,a,n){var o=this.state,i=(o.replyId,o.mode),s=o.openedRepIdsData;if("reply"!==i||e!==a){var r=P()({},s),l=s[e];void 0===l&&(r[e]="",l="");var c=this;this.setState({mode:"reply",replyId:e,replyText:l,isReplyFocus:e,openedRepIdsData:r},function(){if("facebook"===c.props.channel){var t=c.replyInput,a=t.offsetTop,n=c.props.parentEle.refs.socialFullViewMain,o=Object(ue.c)(n,t),i="replyBox"+e;null!=i&&c[i].focus(),o||(n.scrollTop=a)}})}else!0===t&&this.getMoreReplyCmts(e)}},{key:"setDataInState",value:function(e,t,a){var n=this.state,o=n.replycursorData,i=n.likeStatus,s=n.buttonAct,r=n.openedRepIdsData,l=P()({},o);i=P()({},i);var c=[];e.map(function(e,t){var a=e=P()({},e),n=a.replies,o=a.id,s=!0===(e.likes||{}).canLike?"like":"unlike";if(i[o]=s,null!=n){var r=(n=P()({},n)).data,d=P()([],r);d.sort(function(e,t){return new Date(e.createdTime)-new Date(t.createdTime)}),n.data=d,e.replies=n,l[o]=n.cursor,d.map(function(e,t){var a=e.id,n=!0===(e.likes||{}).canLike?"like":"unlike";i[a]=n})}c.push(e)});var d=!0===a?[]:r;this.setState({replycursorData:l,commmentsData:c,cmtCursor:t,buttonAct:s,likeStatus:i,openedRepIdsData:d},function(){})}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.ticketId,e.commmentsData),a=(e.componentType,null!=t?t.cursor:{});a=void 0===a?[]:a;var n=null!=t?t.data:[];n=void 0===n?[]:n,this.setDataInState(n,a,!0)}},{key:"handleReply",value:function(e,t,a,n,o){var i=this.state,s=i.commmentsData,r=i.dirSelected,l=(i.replyText,i.attachedFilesArray),c=i.attachedData,d=(i.repAttachData,i.reSendTem),u=i.buttonAct,p=this.props,m=p.brandId,h=p.postId,f=p.channel,g=p.cmtBoxCombo,v=p.socialStatus,b=p.addNewFuntions,w=this,y=g.changeCommentBox,S=g.commentBoxStatus,k=function(e){var t=!e;S(v)===t&&y(e)};if("click"===n){var C=o.trim(),I=C.length,E=(c[a],l[a]||[]);if(""===C&&0===E.length)return;if(I>280&&"twitter"===f||"facebook"===f&&I>1e3){var D={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.feed.text.limitexceed")};return void this.props.socialPopupAction(!0,D)}var x=P()([],u);x.push(a);var T=-1!=r.indexOf(a),A=(E.length,0!=E.length?E:"");this.setState({buttonAct:x},function(){var n=function(e){var t=w.state.dirSelected,n=w.state.buttonAct,o=w.state.likeStatus,i=w.state.replyId;o=P()({},o);var r="",l=[],c=w.state.openedRepIdsData,p=e.data||{},m=e.error,h=P()({},c);if(n.map(function(e,t){a===e?(h[e]="",r=e):l.push(e)}),void 0===m){var g=w.state.attachedData,v=w.state.attachedFilesArray;if(g=P()({},g),v=P()({},v),g[r]=[],v[r]=[],-1===t.indexOf(r)){var b=[],y=p.id;s.map(function(e,t){var n=(e=P()({},e)).replies||[],o=void 0===n.data?[]:n.data;e.id===a&&(o.push(p),n.data=o,n.count=parseInt(n.count)+1,e.replies=n),b.push(e)}),o[y]="like";var S={id:(new Date).getTime(),nftnType:1,nftnText:_.h.getI18NValue("support.social.twitter.reply.success"),IconCode:"facebook"===f?104:116};w.props.socialPopupAction(!0,S),w.props.modifyCmtData(b,!1),k(!1),w.setState({buttonAct:l,replyText:"",attachedData:g,attachedFilesArray:v,openedRepIdsData:h,isReplyFocus:i,likeStatus:o})}else{var C=P()([],d),I=[];t.map(function(e,t){e!=r&&I.push(e)}),-1===C.indexOf(a)&&C.push(a),k(!1),w.setState({reSendTem:C,dirSelected:I,replyText:"",buttonAct:l,attachedData:g,attachedFilesArray:v,openedRepIdsData:h,isReplyFocus:i},function(){var e={id:(new Date).getTime(),nftnType:1,nftnText:_.h.getI18NValue("support.social.privatemsg.success"),IconCode:116};w.props.socialPopupAction(!0,e)})}}else k(!0),w.setState({buttonAct:u,isReplyFocus:a},function(){var e=-1===t.indexOf(r)?"support.social.twitter.reply.fail":"support.social.privatemsg.fail",a=-1===t.indexOf(r)||"twitter"===f?116:104,n={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue(e),IconCode:a};w.props.socialPopupAction(!0,n)})},o=function(){y(!0),w.setState({buttonAct:u,isReplyFocus:a},function(){var e=-1===stateDirSelected.indexOf(selBId)?"support.social.twitter.reply.fail":"support.social.privatemsg.fail",t=-1===stateDirSelected.indexOf(selBId)||"twitter"===f?116:104,a={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue(e),IconCode:t};w.props.socialPopupAction(!0,a)})},i=encodeURIComponent(C),r=Object(he.B)()+"/v1/socialBrands/"+m+"/facebookPosts/"+h+"/comments/"+a+"?message="+i;if(T){if(r=Object(he.B)()+"/v1/socialBrands/"+m+"/facebookPosts/"+h+"/comments/"+a+"?message="+i+"&type=private",null!=t){var l="facebook"===f?"facebookConversations":"twitterConversations";r=Object(he.B)()+"/v1/socialBrands/"+m+"/"+l+"/"+t+"?message="+i+"&receiverId="+e}var c=v.channelId;b.addNewMsg(r,f,c,t,A).then(function(e){var t=e.data,a=t.msgRes;null!=t.apiError&&o(),n(a)})}else b.addNewComment(m,f,h,i,A,a).then(function(e){var t=e.data,a=t.cmtRes;null!=t.apiError&&o(),n(a)})})}else if("done"===n){var F=this.state.attachedData||{};k(!(0===o.length&&0===N()(F).length));var O=this.state.openedRepIdsData,B=P()({},O);B[a]=o,this.setState({replyText:o,replyId:a,openedRepIdsData:B})}}},{key:"componentWillReceiveProps",value:function(e){var t=e.commmentsData,a=(e.ticketId,e.postId),n=this.state.commmentsData,o=this.state.getFromParent;t=P()({},t);var i=a!=this.state.postId,s=null!=t.data?t.data.length:0;if(null!=t.data&&(s!=n.length||!0===o||!0===i&&0!=s)){var r=null!=t?t.cursor:{};r=void 0===r?[]:r;var l=null!=t?t.data:[];l=void 0===l?[]:l,this.setDataInState(l,r,i)}else!0===i&&this.setState({replycursorData:{},commmentsData:[],cmtCursor:{},buttonAct:[],likeStatus:{},openedRepIdsData:[]})}},{key:"getAttachlist",value:function(e,t,a,n){this.setState({viewImagePreview:a,viewImageData:t,sImageId:e})}},{key:"getAttachElements",value:function(e,t){var a=void 0,n=this,o=!1;return null!=e&&0!=e.length&&(a=e.map(function(a,i){var s=a.href,r=a.type;a.id;return"video_inline"===r?h.a.createElement("span",{key:i},h.a.createElement("div",null,h.a.createElement(re.a,{href:s,target:"_blank"},s)),h.a.createElement("div",null,h.a.createElement("iframe",{width:"400",height:"250",src:s,frameBorder:"0",allowFullScreen:!0}))):(o=!0,h.a.createElement("span",{className:W.a.Social_DedailImgSpan,key:i,"data-id":"attached_image_"+i+"_"+t,onClick:n.getAttachlist.bind(this,i,e,!0)},h.a.createElement(se,{href:s,styleClass:W.a.imgClass,dataId:"attachedCom_image_"+i+"_"+t})))})),!0===o&&(a=h.a.createElement("div",{className:W.a.Social_DedailImgDiv},a)),a}},{key:"render",value:function(){var e=this.state,t=e.commmentsData,a=e.mode,n=e.replyId,o=e.replyText,i=(e.cmtAs,e.cmtCursor),s=e.dirSelected,r=e.isNewEntered,l=e.buttonAct,c=e.sImageId,d=e.viewImagePreview,u=e.viewImageData,p=e.attachedData,m=e.getMoreLoading,f=e.getReplyLoading,g=e.reSendTem,v=e.seeMoreIds,b=e.isReplyFocus,w=e.getError,y=e.openedRepIdsData,S="",k=this,C=this.props,I=C.ticketId,E=(C.brandId,C.postId),D=C.channel,x=C.selectedChannelInfo,P=C.isStemSell,T=C.reCount;return!0===P?(T=T>=5?5:0===T?1:T,h.a.createElement(X.d,{loadingFor:"reply",animateCount:T})):(null!=t&&0!=t.length&&(S=t.map(function(e,t){var i=e.createdTime,r=e.author,c=e.id,d=e.message,u=e.replies,m=e.conversationId,S=e.attachments,C=e.canComment,P=r.name,T=r.href,A=e.likes,F=A.canLike,O=A.count,B=void 0,j=u.count||0;j=+j;var M=k.getAttachElements(S,c);null!=u&&"reply"===a&&0!=u.data.length&&(B=u.data.map(function(e,t){var a=e.author,n=e.message,o=e.likes,s=e.attachments,r=o.canLike,l=o.count,d=o.data,u=a.name,p=a.href,m=e.id,f=!0===r?"like":"true"===r?"like":"unlike",g=k.getAttachElements(s,m),b=n.length>500&&-1===v.indexOf(m)?"cmttextmore":"cmttext",w="";if(0!=l){d.length;d.map(function(e,t){var a=e.name;w+=a})}var y="cmtRepELeId_"+t;return h.a.createElement("div",{key:t,className:W.a.SocialCommentListingDiv,"data-id":y},h.a.createElement(R.Container,{alignBox:"row",className:W.a.pb20},h.a.createElement("div",{className:W.a.SocialUserPhoto},h.a.createElement(z.a,{src:p,name:u,shape:"circle",size:"xsmall"})),h.a.createElement("div",{className:W.a.SocialUserComment+" "+W.a.ml28},h.a.createElement("span",{className:W.a.NewFBCommentDiv},h.a.createElement("span",null,u),h.a.createElement("span",{dangerouslySetInnerHTML:{__html:n},className:W.a[b]}),n.length>500&&-1===v.indexOf(m)&&h.a.createElement("span",{className:W.a.cmtmoreclick,"data-id":"seemore_cmts_replys",onClick:k.cmtSeeMore.bind(this,m)},"See more"),null!=s&&0!=s.length&&h.a.createElement("span",null,g),0!=l&&h.a.createElement("span",{className:W.a.likeSpan,title:w},h.a.createElement(V.a,{name:"ZD-fbReactLike",size:"14",iconClass:W.a.FBLikecircle}),l)),h.a.createElement("div",{className:W.a.SocialDedailbottom},h.a.createElement(le.a,null,h.a.createElement("span",{"data-id":"cmt_like",onClick:k.likeCmt.bind(this,c,f,"replysreply",m),className:W.a.SocialFbColor+" "+W.a[!0===r?"renotLiked":"reliked"]+" "}),h.a.createElement("span",{className:W.a.SocialFbColor,"data-id":"startReply",onClick:k.startReply.bind(this,c)},h.a.createElement(_.c,{i18NKey:"support.social.feed.reply",tag:"span"})),h.a.createElement(_.d,{to:i,format:function(e){return"facebookFormat"},ago:"ago",later:"late",titleFormat:"dddd, MMMM Do YYYY h:mm a"}))))))}));k.props.contactInfo;var L=x.href,K=x.name,U=x.id,q=r.id,Z=!0===F?"like":"true"===F?"like":"unlike",G=k.setref("replyScroll"),Y=void 0,J=p[c]||[],$=-1!=l.indexOf(c);0!=J.length&&(Y=J.map(function(e,t){var a=e.href,n=e.id;return h.a.createElement("div",{key:t,className:W.a.upldboxes,"data-id":"newpost_close_attach",onClick:k.getAttachlist.bind(this,t,J,!0)},!1===$&&h.a.createElement("div",{className:W.a.fileclose,"data-id":"newpost_attach_close",onClick:k.removeAttachment.bind(this,c,n)},h.a.createElement(V.a,{name:"ZD-socialClose",iconClass:W.a.iconclosee})),h.a.createElement(se,{href:a,styleClass:W.a.imagePreview,dataId:"socialImage_"+t}))}));var ee=d,te=!0,ne=new RegExp("<br/>");if(-1!=d.search(ne)){te=!1;var oe=d.split("<br/>"),ie=oe.length,ce=(document.createElement("SPAN"),[]),de=function(e,t,a){return a?h.a.createElement("br",null):h.a.createElement("span",{className:W.a[!0===t?"hide":"show"],dangerouslySetInnerHTML:{__html:e}})};oe.filter(function(e,t){t<4?(ce.push(de(e,!1,!1)),t<ie&&ce.push(de("",!1,!0))):4===t?ce.push(de(e,!1,!1)):(ce.push(de(e,!1,!1)),t<ie&&ce.push(de("",!1,!0)))});var ue=[];ue.push(ce),ee=ue}var pe=d.length>500&&-1===v.indexOf(c)?"cmttextmore":"cmttext",me=_.h.getI18NValue("support.social.feed.replies"),he=n===c?o:y[c],fe=N()(y),ge="replyBox"+c,ve="fbRreplyDataId_"+t;return h.a.createElement("div",{key:t,className:W.a.SocialCommentListingDiv,"data-id":ve},h.a.createElement(R.Container,{alignBox:"row",className:W.a.SocialCommentListing},h.a.createElement("div",{className:W.a.SocialUserPhoto},h.a.createElement(z.a,{src:T,name:P,shape:"circle",size:"xsmall"})),h.a.createElement(R.Box,{flexible:!0,className:W.a.SocialUserComment+" "+W.a.ml40},h.a.createElement("span",{className:W.a.NewFBCommentDiv},h.a.createElement(re.a,{dataTestid:"cmt_name",onClick:k.clickOnUserNameofComment.bind(this,E,I,q,D)},P),!0===te?h.a.createElement("span",{className:W.a[pe],dangerouslySetInnerHTML:{__html:ee}}):h.a.createElement("span",{className:W.a[pe]},ee),d.length>500&&-1===v.indexOf(c)&&h.a.createElement("span",{className:W.a.cmtmoreclick,"data-id":"seemore_cmts",onClick:k.cmtSeeMore.bind(this,c)},"See more"),null!=S&&0!=S.length&&h.a.createElement("span",null,M),0!=O&&h.a.createElement("span",{className:W.a.likeSpan},h.a.createElement(V.a,{name:"ZD-fbReactLike",size:"14",iconClass:W.a.FBLikecircle}),O)),h.a.createElement("div",{className:W.a.SocialDedailbottom},h.a.createElement(le.a,null,h.a.createElement("span",{"data-id":"cmt_likeunlike",onClick:k.likeCmt.bind(this,c,Z,"reply"),className:W.a["true"===F||!0===F?"renotLiked":"reliked"]}),h.a.createElement("span",{"data-id":"cmt_reply",className:W.a.SocialFbColor,onClick:k.startReply.bind(this,c)},h.a.createElement(_.c,{i18NKey:"support.social.feed.reply",tag:"span"})),h.a.createElement(_.d,{to:i,format:function(){return"facebookFormat"},ago:"ago",later:"late",titleFormat:"dddd, MMMM Do YYYY h:mm a"}))),null!=u&&0!=j&&0!=u.data.length&&(j>u.data.length||j===u.data.length&&-1===fe.indexOf(c))&&h.a.createElement("span",{"data-id":"cmt_start_reply_"+c,className:W.a.SocialDedailbottom+" "+W.a.SocialFbColor,onClick:k.startReply.bind(this,c,!0,n)},-1===fe.indexOf(c)&&j>0&&h.a.createElement(V.a,{name:"ZD-socialReply",iconClass:W.a.icon_ic_social_reply}),"reply"===a&&-1!=fe.indexOf(c)?j>u.data.length&&!1===f?h.a.createElement("span",{"data-id":"cmt_getmore_replysreply_"+c},_.h.getI18NValue("support.social.feed.replies.getmore")):"":-1===fe.indexOf(c)&&j>0?h.a.createElement("span",null,j," ",me," "):""),"reply"===a&&-1!=fe.indexOf(c)&&h.a.createElement("div",{className:W.a.SocialCommentRply,ref:G},!0===f?h.a.createElement(X.d,{loadingFor:"reply",animateCount:"1"}):2===w?h.a.createElement(ae,{errorCode:103,toRetry:!0,reAssemble:k.startReply.bind(this,c,!0,n)}):"",B,-1!=fe.indexOf(c)&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:W.a.SocialCommentRplyInput,eleRef:function(e){k.replyInput=e}},h.a.createElement("div",{className:W.a.SocialUserPhoto},h.a.createElement(z.a,{name:K,src:L,shape:"circle",size:"xsmall"})),J.length<1&&-1===l.indexOf(c)&&h.a.createElement("div",{className:""+W.a.SocialPostSmily},h.a.createElement("label",{htmlFor:"attachedFile"+c,className:W.a.NewPostAttach},h.a.createElement(V.a,{name:"ZD-photoImage",iconClass:W.a.photoImage}),h.a.createElement("input",{ref:k.setref.bind(this,"attach"+c),accept:"image/jpg, image/jpeg, image/png",type:"file",id:"attachedFile"+c,"data-id":"attachedFile"+c,className:W.a.inpFile,onChange:k.attachFiles.bind(this,c)}))),h.a.createElement(R.Box,{flexible:!0},h.a.createElement(Q,{type:"type2",mode:"reply",idenId:ge,cmtText:he,addReplycomment:k.handleReply.bind(this,q,m,c),blurAction:k.replyFocus,refSelf:k.setref.bind(this,ge),isNewLineAllowed:!0,enableMentions:!1,isDisabled:-1!=l.indexOf(c),isfocus:b===c,placeHolder:_.h.getI18NValue("support.social.placeholder.replies")})),-1!=l.indexOf(c)&&h.a.createElement("div",{className:W.a.svLoadpnt},h.a.createElement("div",{className:W.a.spinloading}))),h.a.createElement("div",{className:W.a.SocialCommentType},q!=U&&-1===g.indexOf(n)&&!0===C&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:W.a.DirectMessageDiv},h.a.createElement(H.a,{id:"dirmsg",type:"newStylishcbox",checked:-1!=s.indexOf(c),dataId:"privatemsg_checkbox",onChange:k.checkBoxChange.bind(this,c)}),h.a.createElement(_.c,{i18NKey:"support.social.feed.sendprivate",tag:"span",className:W.a.DirectMessage})),null!=Y&&0!=Y.length&&h.a.createElement("div",{id:"commentAttach",className:W.a.atch_img_fle},Y))))))})),h.a.createElement("div",{"data-id":"commentsWrapper"},!0===d&&h.a.createElement(me,{selectedAId:c,isSupportimage:!1,type:"type2",attData:u,closeViewAttach:this.getAttachlist.bind(this,"",[],!1)}),!0===r&&"type2"===type&&h.a.createElement("div",{"data-id":"new_cmt_pop",onClick:this.getNewComments},h.a.createElement("div",null,"New")),S,null!=i&&null!=i.api&&h.a.createElement("span",null,!0===m?h.a.createElement(X.d,{loadingFor:"reply",animateCount:"1"}):1===w?h.a.createElement(ae,{errorCode:102,toRetry:!0,reAssemble:this.getmoreCmts}):h.a.createElement("div",{"data-id":"cmt_view_morecmt",className:W.a.FBCmntMore,onClick:this.getmoreCmts},_.h.getI18NValue("support.social.feed.comments.getmore")))))}}]),t}(h.a.Component),ge=fe;fe.propTypes={ticketId:g.a.string,commmentsData:g.a.object,componentType:g.a.string,brandId:g.a.string,postId:g.a.string,modifyCmtData:g.a.func,contactInfo:g.a.object,selectInpost:g.a.func,channel:g.a.string,selectedChannelInfo:g.a.object,parentEle:g.a.object,socialPopupAction:g.a.func,isStemSell:g.a.bool,reCount:g.a.number,getCmtsActions:g.a.object,likeCmt:g.a.func,cmtBoxCombo:g.a.object,socialStatus:g.a.object};var ve=a("./src/components/Social/EmptyFeedContainer/EmptyFeedContainer.js"),be=a("./src/actions/Social/CommonActions.js"),we=a("./src/components/Social/PostView/PostView.module.css"),ye=a.n(we),Se=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={viewMore:!1,newCmtData:"",idTwiAsyn:!1,twiAsynData:[],cancelCmt:!1,loadMoreText:!0,tweetLength:4,parentPostId:"",postId:"",dataForRender:{},isStemSell:!0,parentTweetStemSell:!0,cmtmessageStatus:!1,apiFailed:!1,actionJson:{},addPost:"posted",attchmentView:!1,attachmentId:0,imagePreviewAttachArray:[],cmtAttachUrlArray:[],cmtAttachFileArray:[],cmtLengthCount:"twitter"===e.channel?280:1e3,isCommentClick:e.isCommentClick,getDataError:0,likeAction:{},tweetsReAction:{},intractionFeedStatus:{status:"feed",isFailed:!1,isFetched:!1}},a.postActions=a.postActions.bind(a),a.addCommentToPost=a.addCommentToPost.bind(a),a.changeCmtData=a.changeCmtData.bind(a),a.addCommentToPostOntyping=a.addCommentToPostOntyping.bind(a),a.checkBoxChange=a.checkBoxChange.bind(a),a.renderBasedOnId=a.renderBasedOnId.bind(a),a.loadMoreTweet=a.loadMoreTweet.bind(a),a.getPostDetails=a.getPostDetails.bind(a),a.getAttachContainer=a.getAttachContainer.bind(a),a.cancelComment=a.cancelComment.bind(a),a.profileClick=a.profileClick.bind(a),a.imagePreviewClick=a.imagePreviewClick.bind(a),a.attachFiles=a.attachFiles.bind(a),a.removeAttachment=a.removeAttachment.bind(a),a.interactionsPostActions=a.interactionsPostActions.bind(a),a.changeStateOfPost=a.changeStateOfPost.bind(a),a}return p()(t,e),l()(t,[{key:"removeAttachment",value:function(e,t){t.stopPropagation();var a=this.state,n=a.cmtAttachUrlArray,o=a.cmtAttachFileArray,i=a.newCmtData,s=this.props.cmtBoxCombo.changeCommentBox,r=Object(ue.l)({attachedData:n,attachedFilesArray:o,aId:e}),l=r.attachedData,c=r.attachedFilesArray;this.setState({cmtAttachFileArray:c,cmtAttachUrlArray:l},function(){0===c.length&&0===i.length&&0===i.length&&s(!1)})}},{key:"attachFiles",value:function(e){var t=this,a=this.state,n=a.cmtAttachUrlArray,o=a.cmtAttachFileArray,i=this.props,s=i.channel,r=i.cmtBoxCombo.changeCommentBox,l={attachedFilesArray:o,attachedData:n,limit:"facebook"===s?1:4,files:e.target.files},c=Object(ue.a)(l),d=c.attachedData,u=c.attachedFilesArray;this.setState({cmtAttachFileArray:u,cmtAttachUrlArray:d},function(){if(0!=u.length&&r(!0),null!=t.cattachFile&&(t.cattachFile.value=""),c.showPop){var e={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.attach.limiterror")};t.props.socialPopupAction(!0,e)}})}},{key:"imagePreviewClick",value:function(e,t,a,n){this.setState({imagePreviewAttachArray:e,attachmentId:t,attchmentView:a})}},{key:"cancelComment",value:function(){var e="twitter"===this.props.channel?280:1e3;(0,this.props.cmtBoxCombo.changeCommentBox)(!1),this.setState({cmtmessageStatus:!1,cancelCmt:!0,newCmtData:"",imagePreviewAttachArray:[],attachmentId:0,attchmentView:!1,cmtAttachUrlArray:[],cmtAttachFileArray:[],cmtLengthCount:e})}},{key:"loadMoreTweet",value:function(){var e=this,t=this.state,a=t.tweetLength,n=t.parentPostId,o=t.postId;a+=4,"twitter"===this.props.channel&&this.setState({parentTweetStemSell:!0},function(){e.renderBasedOnId(o,n,a,!0)})}},{key:"changeCmtData",value:function(e,t){var a=this,n=this.state.dataForRender,o=this.props.brandId,i=(n.from,n.message,n.likes,n.shares,n.comment,n.retweets,n.id),s=P()({},n),r=s.comment,l=P()([],r);t?l=e:l.data=e,s.comment=l;var c=s.replies||{},d=c.count||0;this.setState({dataForRender:s},function(){var e=l.data.length,t="getcomment";if(d<e){var n=P()({},c);n.count=e,t="cmtCountMfy",s.replies=n}a.props.actionsOnPost(t,i,o,!1,s)})}},{key:"checkBoxChange",value:function(e,t){this.setState({cmtmessageStatus:e})}},{key:"changeStateOfPost",value:function(e,t,a){var n=this.props.channel,o=this.state.dataForRender,i="facebook"===n?"likes":"favorites",s="facebook"===n?"canLike":"canFavorite",r=(o=P()({},o)).retweetedData;if("like"===e||"unlike"===e){if(null!=r){var l=(r=P()({},r))[i];(l=P()({},l))[s]=!l[s];var c=parseInt(l.count);return l.count=!0===l[s]?c-1:c+1,r[i]=l,void(o.retweeted_status=r)}var d=o[i];(d=P()({},d))[s]=!d[s];var u=parseInt(d.count);d.count=!0===d[s]?u-1:u+1,o[i]=d}if("retweet"===e||"undoRetweet"===e)if(null!=r&&"retweet"===e){var p=(r=P()({},r)).retweets;p.canRetweet=!p.canRetweet;var m=parseInt(p.count);p.count=!0===p.canRetweet?m-1:m+1,r.retweets=p,o=r}else{var h=loopData.retweets;h.canRetweet=!h.canRetweet;var f=parseInt(h.count),g=h.canRetweet;h.count=!0===g?f-1:f+1,g||(delete loopData.ticket,o.retweeted_status=loopData),o.retweets=h}this.setState({dataForRender:o})}},{key:"interactionsPostActions",value:function(e,t,a,n){var o=this.props,i=o.channel,s=o.brandId,r=(o.channelStatus,o.feedBasicActions),l="facebook"===i?"facebookPosts":"twitterPosts",c="facebook"===i?"like":"favorite",d=void 0,u=void 0,p=!1;switch(e){case"like":d=getSupportAPIURLP()+"/v1/socialBrands/"+s+"/"+l+"/"+t+"/"+c,u=E()({},c,!0),p=!0;break;case"unlike":d=Object(he.B)()+"/v1/socialBrands/"+s+"/"+l+"/"+t+"/"+c,u=E()({},c,!1),p=!0;break;case"retweet":d=Object(he.B)()+"/v1/socialBrands/"+s+"/"+l+"/"+t+"/retweet",u={retweet:!0},p=!0;break;case"undoRetweet":d=Object(he.B)()+"/v1/socialBrands/"+s+"/"+l+"/"+t+"/retweet",u={retweet:!1},p=!0;break;default:p=!1}if(p){var m=this;r(d,e,u,s,i,t).then(function(a){if(200===a.responseStatus){var n="in"+e;m.props.actionsOnPost(n,t,s,!0),m.changeStateOfPost(e,t)}},function(a){e="in"+e+"_fail",m.props.actionsOnPost(e,t,s,!1)})}}},{key:"postActions",value:function(e,t,a,n){var o=this,i=this.props,s=(i.channel,i.brandId),r=i.isIntractionDView;if("comment"!==e){var l=this.state,c=l.likeAction,d=l.tweetsReAction,u=l.actionJson;if(c=P()({},c),d=P()({},d),"like"===e||"unlike"===e){if(c[t]!=e)return;c[t]="like"===e?"unlike":"like"}if("retweet"===e||"undoRetweet"===e){if(d[t]!=e)return;d[t]="retweet"===e?"undoRetweet":"retweet"}var p=P()({},u),m=p[t],h=[e];null!=m&&(h=P()([],m)).push(e),p[t]=h,this.setState({actionJson:p,isAction:a,isCommentClick:!1,tweetsReAction:d,likeAction:c},function(){r?o.interactionsPostActions(e,t,a,u):o.props.actionsOnPost(e,t,s,!0)})}else this.setState({isCommentClick:!0})}},{key:"addCommentToPostOntyping",value:function(e){var t=e.length,a=this.props,n=a.channel,o=a.cmtBoxCombo,i=a.socialStatus,s=this.state.cmtAttachUrlArray,r=o.changeCommentBox,l=i.isCommentBoxOpen,c=("twitter"===n?280:1e3)-t,d=0!=t;d||0==s.length||(d=!0),l!=d&&r(d),this.setState({newCmtData:e,cancelCmt:!1,cmtLengthCount:c})}},{key:"addCommentToPost",value:function(){var e=this.state.newCmtData,t=this.state,a=t.addPost,n=t.cmtAttachFileArray,o=t.cmtAttachUrlArray;t.cmtmessageStatus;if("posting"!==a){var i=this.props,s=i.addNewFuntions,r=i.channel,l=i.selectedBrandData,c=this.props.cmtBoxCombo.changeCommentBox,d=e.trim();if(""!==d||0!==n.length){if(""!=d||0!=n.length){var u=this.state,p=u.cmtmessageStatus,m=u.dataForRender,h=u.cmtLengthCount,f=Object(be.c)(l,r);if(!p&&h<0){var g={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.feed.text.limitexceed")};return void this.props.socialPopupAction(!0,g)}var v=this.props,b=v.contactInfo,w=v.filterBy,y=P()({},m),S=m.comment,k=m.conversationId,C=(P()({},S),"facebook"===r?"facebookPosts":"twitterPosts"),I=this.props,E=I.brandId,D=I.postId,N=this,x=function(){N.setState({addPost:"posted"});var e=!0===p?"support.social.privatemsg.fail":"support.social.addpost.fail",t="twitter"===r||!0===p?116:104,a={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue(e,O),IconCode:t};N.props.socialPopupAction(!0,a)},T="facebook"===r?"private":"message",A=(Object(he.B)(),encodeURIComponent(d),function(t){var a=t.data||{};if("alive"===N.mountStatus){var i=a.error;i=void 0===i?t.error:i;var s=a.data||{},l=!0===p?"support.social.privatemsg.fail":"support.social.addpost.fail";i=void 0===s&&void 0===i?l:i;var d=(s=null!=a.id?a:s).id,u=void 0===i||null!=d?1:2;o=void 0===i||null!=d?[]:o,n=void 0===i||null!=d?[]:n;var m=void 0===i||null!=d?"":e,f=P()({},N.state.dataForRender),g=(P()([],f.comment),void 0===i||null!=d?"twitter"===r?280:1e3:h),v=void 0!==i&&null==d&&p;if(N.setState({dataForRender:f,cmtmessageStatus:v,cmtLengthCount:g,newCmtData:m,addPost:"posted",isStemSell:!1,cmtAttachUrlArray:o,cmtAttachFileArray:n}),c(null==d),"facebook"===r&&null!=d)return void N.props.actionsOnPost("comment",D,E,!1,y);if("posts"===w&&void 0===k&&1===u&&N.props.actionsOnPost("replyTweet",D,E,!1,a.data),"twitter"===r&&"posts"!=w&&2!=u){var b=!0===p?"support.social.privatemsg.success":"support.social.addpost.success",S=_.h.getI18NValue(b,O),C={id:(new Date).getTime(),nftnType:u,nftnText:S,IconCode:116};N.props.socialPopupAction(!0,C)}if(2===u){l=_.h.getI18NValue(l,O);var I={id:(new Date).getTime(),nftnType:u,nftnText:l,IconCode:"twitter"===r?116:104};N.props.socialPopupAction(!0,I)}}});this.setState({addPost:"posting"});n.length;var F=0===n.length?"":n,O=_.h.getI18NValue("facebook"===r?"support.social.feed.comment":"support.social.feed.reply");if("twitter"===r)if(p){var B=Object(he.B)()+"/v1/socialBrands/"+E+"/"+C+"/"+D+"?message="+encodeURIComponent(d)+"&type="+T;s.addNewMsg(B,r,void 0,F).then(function(e){var t=e.data;null==t.apiError?A(t.msgRes):x()})}else s.addNewFeed(E,r,f,d,F,!0,D).then(function(e){var t=e.data;null==t.apiError?A(t.newFeed):x()});else if(p){var z=Object(he.B)()+"/v1/socialBrands/"+E+"/"+C+"/"+D+"?message="+encodeURIComponent(d)+"&type="+T+"&receiverId="+b.id;null!=k&&"facebook"===r&&(z=Object(he.B)()+"/v1/socialBrands/"+E+"/facebookConversations/"+k+"?message="+encodeURIComponent(d)+"&type=message&receiverId="+b.id),s.addNewMsg(z,r,k,F).then(function(e){var t=e.data;null==t.apiError?A(t.msgRes):x()})}else s.addNewComment(E,r,D,d,F).then(function(e){var t=e.data;null==t.apiError?A(t.cmtRes):x()})}}else{var j={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.feed.empty")};this.props.socialPopupAction(!0,j)}}}},{key:"profileClick",value:function(e,t,a,n){this.props.selectInpost(e,t,a,n,"profile")}},{key:"componentDidMount",value:function(){var e=this,t=this,a=this.props,n=a.channel,o=a.postId,i=a.brandId,s=(a.selectedProId,a.isIntractionDView),r=a.getCmtsActions,l="facebook"===n?"facebookPosts":"twitterPosts",c=Object(he.B)()+"/v1/socialBrands/"+i+"/"+l+"/"+o+"/comments";"facebook"!=n||!0===s?(c=Object(he.B)()+"/v1/socialBrands/"+i+"/"+l+"/"+o,this.getPostDetails(c,o)):r.getFacebookComments(i,o).then(function(a){var n=a.data;(t.setState({isStemSell:!1}),n.apiError)&&(0,e.props.socialPopupAction)(!0,{id:(new Date).getTime(),nftnCode:104,nftnType:2,nftnText:_.h.getI18NValue("support.unable.to.process.your.request")})}),this.mountStatus="alive"}},{key:"componentWillUnmount",value:function(){this.mountStatus="dead"}},{key:"getPostDetails",value:function(e,t){var a=this,n=this.props,o=n.channel,i=n.feedData,s=n.brandId,r=n.isIntractionDView,l=n.getCmtsActions,c=this.state,d=c.intractionFeedStatus,u=c.dataForRender;d=P()({},d),l["twitter"===o?"getTweet":"getFacebookComments"](s,t).then(function(e){var n=e.data;if(n.apiError)return d.isFetched||!0!==r||(d.isFetched=!1,d.isFailed=!0),void a.setState({dataForRender:i,isStemSell:!1,apiFailed:!0,intractionFeedStatus:d});var l="twitter"===o?n:n.compoRes;!0===r&&(i=u,!1===d.isFetched&&void 0===l.error&&(i="facebook"===o?l.data:l.data[0]));var c=(i=P()({},i)).id,p={},m={},h="facebook"===o?"likes":"favorites",f="facebook"===o?"canLike":"canFavorite",g=i.retweeted_status,v=null!=g?g.favorites:{},b=void 0===g?i[h]:v,w=1==((b=void 0===b?{}:b)[f]||!1)?"like":"unlike",y=c;if(null!=g&&(y=g.id),p[y]=w,null!=l.error||void 0===l.data){if(r&&d.isFetched&&(u=P()({},u),i=u),"facebook"!=o){var S=void 0===g?i.retweets:g.retweets,k=!0===(S=void 0===S?{}:S).canRetweet?"retweet":"undoRetweet";m[y]=k}else i.comment=[];d.isFetched||!0!==r||(d.isFetched=!1,d.isFailed=!0),a.setState({dataForRender:i,isStemSell:!1,apiFailed:!0,likeAction:p,tweetsReAction:m,intractionFeedStatus:d})}if("alive"===a.mountStatus){var C=i;if(!0===r&&d.isFetched){var I=a.state.dataForRender;(I=P()({},I)).comment=l,C=I}if("facebook"===o&&!1===r||!0===r&&!0===r.isFetched){i.comment=l;var E=i.replies,D=E.count,N=l.data,x=N.length;+D<x&&(E.count=x,(E=P()({},E)).data=N,i.replies=E),C=i}else if("twitter"===o){var T=!0===(i.retweets||{}).canRetweet?"retweet":"undoRetweet";m[c]=T}var A="feed"===d.status&&!0===r&&"facebook"===o;r&&(d.isFetched=!0,d.isFailed=!1,d.status="comments"),a.setState({dataForRender:C,isStemSell:!1,apiFailed:!1,likeAction:p,tweetsReAction:m,intractionFeedStatus:d},function(){if(A){var e=Object(he.B)()+"/v1/socialBrands/"+s+"/facebookPosts/"+t+"/comments";a.getPostDetails(e,t)}else if("twitter"===o){var n=C.parentPostId||"";a.renderBasedOnId(t,n,4,!1)}else!1===A&&a.props.actionsOnPost("cmtCountMfy",t,s,!1,C)})}})}},{key:"renderBasedOnId",value:function(e,t,a,n){var o=this,i=this.props,s=(i.channel,i.brandId),r=i.getCmtsActions,l=this.state,c=l.twiAsynData;l.dataForRender;e!=this.state.postId&&(c=[]);var d=this;""!=t&&null!=t&&c.length<=a&&r.getTweet(s,t).then(function(t){var i=t.data,s=i.apiError;if("alive"===d.mountStatus){if(s){var r=_.h.getI18NValue("support.social.internalerror"),l={id:(new Date).getTime(),nftnType:2,nftnText:r};d.props.socialPopupAction(!0,l);var u=!0===n?2:1;return void d.setState({parentTweetStemSell:!1,getDataError:u,loadMoreText:!1})}var p=d.state,m=p.likeAction,h=p.tweetsReAction;h=P()({},h),m=P()({},m),c=P()([],c);var f=i.data[0],g=f.parentPostId||void 0,v=f.id;c.push(f);var b=!0===(f.favorites||{}).canFavorite?"like":"unlike",w=!0===f.retweets.canRetweet?"retweet":"undoRetweet";h[v]=w,m[v]=b;var y=null!=g;g=void 0===g?"":g;var S=c.length-1!==a;d.setState({twiAsynData:c,loadMoreText:y,tweetLength:a,parentPostId:g,postId:e,parentTweetStemSell:S,getDataError:0,tweetsReAction:h,likeAction:m},function(){null!=g&&o.renderBasedOnId(e,g,a,!1)})}})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=a.postId,o=a.feedData,i=a.isCommentClick,s=a.isIntractionDView,r=this.state,l=r.isAction,c=r.likeAction,d=r.tweetsReAction,u=r.dataForRender,p=P()({},c),m=P()({},d),h=e.postId,f=e.isCommentClick,g=e.brandId,v=e.channel,b=e.feedData,w=e.isActionsSuccess,y=b.comment||[];if(h===n){if(void 0===b.id)return;if(!0===s){u=P()({},u);var S=(u=b).comment,k=b.comment;u.comment=null!=k?k:S}var C="facebook"===v?"likes":"favorites",I="facebook"===v?"canLike":"canFavorite",E=b.retweeted_status,D=null!=E?E.favorites:{},x=void 0===E?b[C]:D,T=1==((x=void 0===x?{}:x)[I]||!1)?"like":"unlike",A=n;if(null!=E&&(delete p[A],delete m[A],A=E.id),p[A]=T,"twitter"===v){var _=void 0===E?b.retweets:E.retweets,F=!0===(_=void 0===_?{}:_).canRetweet?"retweet":"undoRetweet";m[A]=F}o!=b?this.setState({dataForRender:b,isCommentClick:f,tweetsReAction:m,likeAction:p}):o===b?this.setState({tweetsReAction:m,likeAction:p}):i!=f&&this.setState({isCommentClick:f})}if(h!=n){var O="facebook"===v?"facebookPosts":"twitterPosts",B=Object(he.B)()+"/v1/socialBrands/"+g+"/"+O+"/"+h+"/comments";"facebook"!=v&&(B=Object(he.B)()+"/v1/socialBrands/"+g+"/"+O+"/"+h),this.setState({twiAsynData:[],loadMoreText:!0,parentPostId:"",isStemSell:0===y.length,parentTweetStemSell:!0,newCmtData:"",isCommentClick:f,getDataError:0,likeAction:{},tweetsReAction:{},attachmentId:0,addPost:"posted",attchmentView:!1,cmtmessageStatus:!1,cmtAttachUrlArray:[],imagePreviewAttachArray:[],cmtAttachFileArray:[],actionJson:{},apiFailed:!1},function(){t.getPostDetails(B,h)})}if(!0===w&&!0===l){var z=this.state,j=z.twiAsynData,V=z.actionJson,R=[],M=N()(V);j=P()([],j),V=P()({},V),j.map(function(e,t){var a=e.id;if(-1!=M.indexOf(a)){var n=V[a],o=-1!=n.indexOf("like"),i=-1!=n.indexOf("unlike"),s=-1!=n.indexOf("retweet"),r=-1!=n.indexOf("undoRetweet");if(!0===o||!0===i){var l=e.favorites||{},c=!0!==o,d=l.canFavorite!=c;l.canFavorite=c;var u=parseInt(l.count);l.count=!0===d?!0===l.canFavorite?u-1:u+1:u,e.favorites=l}if(!0===s||!0===r){var h=e.retweets||{},f=!0!==s,g=h.canRetweet!=f;h.canRetweet=f;var v=parseInt(h.count);h.count=!0===g?!0===h.canRetweet?v-1:v+1:v,e.retweets=h}var b=!0===(e.favorites||{}).canFavorite?"like":"unlike",w=!0===e.retweets.canRetweet?"retweet":"undoRetweet";m[a]=w,p[a]=b,delete V[a]}R.push(e)});var L=N()(V);this.setState({twiAsynData:R,tweetsReAction:m,likeAction:p,actionJson:V,isAction:0!=L.length})}}},{key:"getAttachContainer",value:function(e,t){var a=void 0,n=!1,o=this;if(null!=e&&0!=e.length&&(a=e.map(function(a,i){var s=a.href;return"video_inline"===a.type?h.a.createElement("span",{key:i},h.a.createElement("div",null,h.a.createElement(re.a,{href:s,target:"_blank",className:ye.a.attachatag},s)),h.a.createElement("div",null,h.a.createElement("iframe",{width:"400",height:"250",src:s,frameBorder:"0",allowFullScreen:!0}))):(n=!0,h.a.createElement("span",{className:ye.a.attachspan1,key:i,"data-id":"attachment_"+i+"_"+t,onClick:void 0===s?function(){}:o.imagePreviewClick.bind(this,e,i,!0)},h.a.createElement(se,{href:s,styleClass:ye.a.wh100})))})),!0===n){var i=""+t+(new Date).getTime();a=h.a.createElement("div",{key:"container_"+i},a)}return a}},{key:"render",value:function(){var e=this,t=this,a=this.state,n=a.cmtAttachUrlArray,o=(a.viewMore,a.cmtmessageStatus),i=a.twiAsynData,s=a.cancelCmt,r=a.loadMoreText,l=a.isStemSell,c=a.dataForRender,d=a.parentTweetStemSell,u=a.newCmtData,p=a.apiFailed,m=a.addPost,f=a.attchmentView,g=a.attachmentId,v=a.imagePreviewAttachArray,b=a.cmtLengthCount,w=a.isCommentClick,y=a.getDataError,S=a.tweetLength,k=a.intractionFeedStatus,C=this.props,I=C.channel,E=C.brandId,D=C.postId,N=C.contactInfo,x=C.ticketId,T=C.selectedChannelInfo,A=C.filterBy,F=C.isIntractionDView,O=C.feedData,B=C.accessibleDepts,j=C.getCmtsActions,M=C.likeCmt,K=C.cmtBoxCombo,U=C.socialStatus,W=C.addNewFuntions,q=C.permissions,Z="posting"===m,G="facebook"===I?"fbcolor":"twicolor",Y="facebook"===I?"fbContainer":"twiContainer";if(!0===l){if(!0===F)return h.a.createElement(X.d,{loadingFor:"post",animateCount:"1"});c=!1===F?O:c}if(F&&!0===k.isFailed)return h.a.createElement(ve.a,{componentFor:"postDetail",feedsAs:I,emptyCompoentCode:119});var J=void 0;0!=n.length&&(J=n.map(function(e,a){var o=e.href,i=e.id;return h.a.createElement("div",{key:a,className:ye.a.upldboxes,"data-id":"newpost_close_attach"+i,onClick:t.imagePreviewClick.bind(this,n,a,!0)},!1===Z&&h.a.createElement("div",{className:ye.a.fileclose,"data-id":"newpost_attach_close"+i,onClick:t.removeAttachment.bind(this,i)},h.a.createElement(V.a,{name:"ZD-socialClose",iconClass:ye.a.itag+" "+ye.a.iconclosee})),h.a.createElement(se,{href:o,styleClass:ye.a.imagePreview}))}));var $=c,ee=$.author,te=$.message,ne=$.likes,oe=$.shares,ie=$.comment,ce=$.retweets,de=$.id,pe=($.parentPostId,$.messageTags,$.createdTime),he=$.retweeted_status,fe=$.attachments,be=$.replies,we=$.ticket;if(void 0===ee)return h.a.createElement(X.d,{loadingFor:"post",animateCount:"1"});ie=void 0===ie?{}:P()({},ie);var Se=this.getAttachContainer(fe,de),ke=de;null!=he&&(ke=he.id,te=he.message);var Ce=void 0===te?"":te,Ie=this.state.parentPostId,Ee="twitter"===I?"twBtn":"fbBtn",De=void 0,Ne=void 0,xe=void 0;if("facebook"===I)(ne=void 0===ne?{}:ne).data,De=ne.count,Ne=ne.canLike,xe=(be=void 0===be?{count:0}:be).count;else{var Pe=null!=he?he.favorites:c.favorites;De=(Pe=void 0===Pe?{}:Pe).count,Ne=Pe.canFavorite}oe=void 0===oe?{count:0}:oe;var Te=ee.name,Ae=ee.href,_e=1==Ne?"like":"unlike",Fe=!1===o?"support.setup.social.postupper":"support.setup.social.send";Fe=_.h.getI18NValue(Fe);var Oe=T.href,Be=T.name,ze="posts"===A||"pagePost"===A||"visitorPost"===A?Be:I,je=T.id,Ve=N.id,Re=ee.id,Me=[],Le=i.length;if("twitter"===I&&0!=Le&&(i.map(function(e,a){var n=e.author,o=e.message,i=e.id,s=e.favorites,l=e.messageTags,c=(e.createdTime,e.retweets),u=e.ticket,p=e.attachments;c=void 0===c?{count:0}:c;var m=n.name,f=n.href,g=n.id;l=void 0===l?"":l;var v=null!=u?u.id:"",b=!1===c.canRetweet?"undoRetweet":"retweet",w=s.canFavorite,y=s.count;y=0===y||"0"===y?"":y;var S=1==w?"like":"unlike",k=_.h.getI18NValue(!0===w?"support.social.feed.like":"support.social.feed.unlike"),C=_.h.getI18NValue(!0===c.canRetweet?"support.social.feed.retweet":"support.social.feed.undoretweet");if(null!=p&&0!=p.length)this.getAttachContainer(p,i);var E=void 0===o?"":o;Me.push(h.a.createElement("div",{key:a,className:ye.a.SocialTweetListing},h.a.createElement("div",{className:ye.a.SocialUserPhoto},h.a.createElement(z.a,{src:f,name:Object(ue.g)(m),shape:"circle",size:"xmedium"})),h.a.createElement("div",{className:ye.a.SocialUserComment+" "+ye.a.ml50},h.a.createElement("div",{className:ye.a[Le-1!=a?"SocialDedailHead":""!=Ie&&!0===r&&!1===d?"SocialDedailHead":""]+" "+ye.a.posrel},h.a.createElement("div",null,h.a.createElement(re.a,{className:ye.a.SocialDedailtopatag+" "+ye.a[G],dataTestid:"twitter_parentpost_name",onClick:t.profileClick.bind(this,D,v,g,I)},m)),h.a.createElement("div",{className:ye.a.SocialDedailbottom},h.a.createElement(le.a,null,h.a.createElement("span",null,h.a.createElement(V.a,{name:"facebook"===I?"ZD-fbPostPad":"ZD-twitterPostPad",iconClass:ye.a.itag+" "+ye.a.iconicsocialfbpost}),h.a.createElement(_.c,{i18NKey:"support.social.feed.posted",values:[ze],tag:"span"})),h.a.createElement(_.d,{to:pe,format:function(){return"socialFormat"},ago:"ago",later:"late",titleFormat:"DD/MM/YYYY h:mm A"}))),h.a.createElement("div",{className:ye.a.SocialDedailbottom+" "+ye.a.TweetCmnt+" "+ye.a[Y]},h.a.createElement("span",{dangerouslySetInnerHTML:{__html:E}})),null!=p&&h.a.createElement("div",null,twiAttachListELe),h.a.createElement("span",{className:ye.a.SocialRightBdr+" "+ye.a.SocialLikeCmdShare},h.a.createElement("span",{title:k,className:ye.a.footerspan+" "+ye.a[!1===w?"twiLike":"twinotLiked"],"data-id":"postview_tylike",onClick:t.postActions.bind(this,S,i,!0)},h.a.createElement(V.a,{name:"ZD-twitterLike",iconClass:ye.a.iconInfo}),y),h.a.createElement("span",{title:C,className:ye.a.footerspan+" "+ye.a[!1===c.canRetweet?"Retwit":"Retwitoff"],"data-id":"postview_tyretweet",onClick:t.postActions.bind(this,b,i,!0)},h.a.createElement(V.a,{name:"ZD-retweet",iconClass:ye.a.iconInfo}),0!=+c.count&&c.count))))))}),0!=y)){var Ke=this.state.postId,He=2===y;S=2===y?S+4:S,Me.push(h.a.createElement(ae,{errorCode:101,toRetry:!0,reAssemble:t.renderBasedOnId.bind(this,Ke,Ie,S,He)}))}var Ue=!1;null!=ce&&(Ue=!1===ce.canRetweet?"undoRetweet":"retweet");var We="facebook"===I?1:4;De=parseInt(De);var qe=!1===Ne?De>1?De-1>1?"support.social.youandothers":"support.social.youandother":"support.social.you":De>1?"support.social.others":"support.social.other",Ze=+oe.count,Ge=void 0,Ye=void 0,Je=void 0,Qe=q.haveViewPermission;null!=we&&(Ge=we.ticketNumber,Je=we.departmentId,Ye="#Cases/dv/"+we.encryptedTicketId);var Xe=!0===Ne?"support.social.feed.like":"support.social.feed.unlike";Xe=_.h.getI18NValue(Xe);var $e=null!=ce&&!0===ce.canRetweet?"support.social.feed.retweet":"support.social.feed.undoretweet";$e=_.h.getI18NValue($e);var et,tt=Object(ue.d)("SocialFullViewMain");return h.a.createElement("div",{className:ye.a[tt]+" "+ye.a.SocialTwitterMainDiv,ref:(et="socialFullViewMain",void(t[et]=et)),"data-id":"postViewEleWrapper"},!0===f&&h.a.createElement(me,{selectedAId:g,isSupportimage:!1,type:"type2",attData:v,closeViewAttach:this.imagePreviewClick.bind(this,[],0,!1)}),h.a.createElement("div",{className:ye.a.SocialDedail},h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:ye.a.SocialDedailviews},h.a.createElement("div",{className:ye.a.SocialUserPhoto},h.a.createElement(z.a,{src:Ae,name:Object(ue.g)(Te),shape:"circle",size:"xmedium"})),h.a.createElement(R.Box,{flexible:!0,className:ye.a.ml55},h.a.createElement("div",{className:ye.a.SocialDedailHead+" "+ye.a.posrel},h.a.createElement("div",{className:ye.a.mr60},h.a.createElement(re.a,{className:ye.a.SocialDedailtopatag+" "+ye.a[G],dataTestid:"postview_selpost_name",onClick:this.profileClick.bind(this,D,x,Re,I)},Te)),h.a.createElement("div",{className:ye.a.SocialDedailbottom},h.a.createElement(le.a,null,h.a.createElement("span",null,h.a.createElement(V.a,{name:"facebook"===I?"ZD-fbPostPad":"ZD-twitterPostPad",iconClass:ye.a.itag+" "+ye.a.iconicsocialfbpost}),h.a.createElement(_.c,{i18NKey:"support.social.feed.posted",values:[ze],tag:"span"})),h.a.createElement(_.d,{to:pe,format:function(){return"socialFormat"},ago:"ago",later:"late",titleFormat:"DD/MM/YYYY h:mm A"}))),null!=we&&null!=Ge&&h.a.createElement("span",null,!0===Qe&&-1!=B.indexOf(Je)?h.a.createElement(re.a,{className:ye.a.NewTapTicket,href:Ye,target:"_blank"},h.a.createElement(V.a,{iconClass:ye.a.NewTapTicketIcon,name:"ZD-ticketNewTab"}),Ge):h.a.createElement("span",{className:ye.a.itag+" "+ye.a.depidnoaccess},"#",Ge)," ")))),h.a.createElement("div",{className:ye.a.SocialDedailAns+" "+ye.a[Y]},h.a.createElement("div",{dangerouslySetInnerHTML:{__html:Ce}}),null!=fe&&h.a.createElement("span",null,Se)),h.a.createElement("div",null,h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:ye.a.SocialcontainerFooter},"facebook"===I?h.a.createElement("span",null,h.a.createElement("span",{className:ye.a.SocialRightBdr+" "+ye.a.SocialLikeCmdShare+" "+ye.a.IconHoverFb},h.a.createElement("span",{className:ye.a.footerspan+" "+ye.a[!1===Ne?"liked":"notLiked"],title:Xe,"data-id":"postview_likeUnlike",onClick:this.postActions.bind(this,_e,de,!1)},h.a.createElement("svg",{className:ye.a.NewLikeSvg},h.a.createElement("use",{xlinkHref:!1===Ne?"#SLikeFill":"#SLike"})),_.h.getI18NValue("support.social.feed.like")),h.a.createElement("span",{className:ye.a.footerspan,title:_.h.getI18NValue("support.social.feed.comment"),"data-id":"postview_comment",onClick:this.postActions.bind(this,"comment",de,!1)},h.a.createElement("svg",{className:ye.a.NewLikeSvg+" "+ye.a.Topfour},h.a.createElement("use",{xlinkHref:"#SComment"})),xe),0!=Ze&&h.a.createElement("span",{className:ye.a.footerspan+" "+ye.a.curdefault},h.a.createElement(V.a,{name:"ZD-fbShare",iconClass:ye.a.itag}),Ze)),"facebook"===I&&0!=+De&&h.a.createElement("span",{className:ye.a.footerspan+" "+ye.a.SocialLikeresult},h.a.createElement(V.a,{name:"ZD-fbReactLike",size:"14",iconClass:ye.a.FBLikecircle}),h.a.createElement(_.c,{i18NKey:qe,values:[De],tag:"span"}))):h.a.createElement("span",{className:ye.a.SocialRightBdr+" "+ye.a.SocialLikeCmdShare},h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.reply"),className:ye.a.twiReply+" "+ye.a.footerspan+" "+ye.a.HoverTwitLike,"data-id":"postview_twiterReply",onClick:this.postActions.bind(this,"comment",de,!1)},h.a.createElement(V.a,{name:"ZD-twitterReply",iconClass:ye.a.Retwitoff})),h.a.createElement("span",{title:$e,className:ye.a.twiRetweet+" "+ye.a.footerspan+" "+ye.a.HoverTwitLike+" "+ye.a[!1===ce.canRetweet?"Retwit":"Retwitoff"],"data-id":"postview_retweet",onClick:this.postActions.bind(this,Ue,de,!1)},h.a.createElement(V.a,{name:"ZD-retweet",iconClass:ye.a.twitIconposition+" "+ye.a[!1===ce.canRetweet?"Retwit":"Retwitoff"]}),0!=ce.count&&ce.count),h.a.createElement("span",{title:Xe,className:ye.a.twiLike+" "+ye.a.footerspan+" "+ye.a[!1===Ne?"twiLike":""],"data-id":"postview_likeUnlike",onClick:this.postActions.bind(this,_e,ke,!1)},h.a.createElement(V.a,{name:"ZD-twitterLike",iconClass:ye.a.twitIconposition+" "+ye.a[!1===Ne?"twiLike":"twinotLiked"]}),0!=De&&De)))),h.a.createElement("div",{className:ye.a.SocialDedailComments},h.a.createElement("div",{className:ye.a.SocialCommentsWrite},h.a.createElement("div",{className:ye.a.SocialCommentTextArea+" "+ye.a.posrel},h.a.createElement("div",{className:ye.a.SocialUserPhoto},h.a.createElement(z.a,{src:Oe,name:Object(ue.g)(Be),shape:"circle",size:"xsmall"})),n.length<We&&h.a.createElement("div",{className:ye.a.SocialPostSmily},h.a.createElement("label",{htmlFor:"AddAttach",className:ye.a.NewPostAttach},h.a.createElement(V.a,{name:"ZD-photoImage",iconClass:ye.a.photoImage}),"twitter"===I?h.a.createElement("input",{type:"file",multiple:"multiple",ref:function(t){e.cattachFile=t},accept:"image/jpg, image/jpeg, image/png",className:ye.a.inpFile,"data-id":"newpost_addattach",disabled:Z,onChange:this.attachFiles.bind(this),id:"AddAttach"}):h.a.createElement("input",{type:"file",ref:function(t){e.cattachFile=t},accept:"image/jpg, image/jpeg, image/png",className:ye.a.inpFile,"data-id":"newpost_addattach",disabled:Z,onChange:this.attachFiles.bind(this),id:"AddAttach"}))),h.a.createElement(Q,{idenId:"post_cmtBox",type:"type2",iscancel:s,getDataonKeyup:this.addCommentToPostOntyping,cmtText:u,refSelf:function(t){e.post_cmtBox=t},isNewLineAllowed:!0,enableMentions:!1,isDisabled:Z,isfocus:w,styleClass:ye.a.textareaTag,placeHolder:_.h.getI18NValue("support.social.placeholder.replies")}),0!=n.length&&h.a.createElement("div",{id:"commentAttach",className:ye.a.SocialAttachLayer+" "+ye.a.atchimgfle},J),h.a.createElement("div",{className:""+ye.a.TextLenghtCount},h.a.createElement("span",{title:_.h.getI18NValue("support.social.tooltip.replycount")},b))),h.a.createElement(R.Container,{alignBox:"row",className:ye.a.SocialCommentType},je!=Ve&&"twitter"===I&&h.a.createElement(R.Container,{isCover:!1,alignBox:"row",align:"vertical",className:ye.a.rdobtn},h.a.createElement(H.a,{id:"dirmsgPostview",type:"newStylishcbox",checked:o,dataId:"newpost_dmsg_checkbox",onChange:this.checkBoxChange.bind(this,!o)}),h.a.createElement("span",{className:ye.a.DMsgSpan},_.h.getI18NValue("support.social.feed.sendprivate"))),h.a.createElement(R.Box,{flexible:!0},h.a.createElement("div",null,"posted"===m&&h.a.createElement("span",{className:ye.a.btnCont},h.a.createElement(L.a,{"data-id":"cmt_cancel",size:"medium",palette:"secondary",text:_.h.getI18NValue("support.label.cancel"),onClick:this.cancelComment})),"posted"===m?h.a.createElement(L.a,{size:"medium",className:ye.a[Ee],text:Fe,onClick:this.addCommentToPost}):h.a.createElement(L.a,{status:"loading"}))))),!0===p?h.a.createElement(ve.a,{componentFor:"postDetail",feedsAs:I,emptyCompoentCode:119}):"facebook"===I?h.a.createElement(ge,{commmentsData:ie,selectInpost:this.props.selectInpost,contactInfo:N,brandId:E,postId:D,isStemSell:l,reCount:xe,modifyCmtData:this.changeCmtData,channel:I,ticketId:x,parentEle:this,selectedChannelInfo:T,socialPopupAction:this.props.socialPopupAction,isCommentOpen:w,getCmtsActions:j,likeCmt:M,cmtBoxCombo:K,socialStatus:U,addNewFuntions:W}):"","twitter"===I&&0!=i.length&&h.a.createElement("div",{className:ye.a.SocialCommentListingDiv},h.a.createElement("div",{className:ye.a.SocialCommentListing},Me,""!=Ie&&!0===r&&!1===d&&h.a.createElement("div",{className:ye.a.TweetCmntMore+" "+ye.a.itag,"data-id":"postview_loadmore_reposts",onClick:this.loadMoreTweet},h.a.createElement(V.a,{name:"ZD-more",iconClass:ye.a.TweetMoreIcn+" "+ye.a.itag}),h.a.createElement("span",null,"more replies"))),""!=Ie&&!0===d&&h.a.createElement("div",null,h.a.createElement(X.d,{loadingFor:"tweet",animateCount:"1"}))))))}}]),t}(h.a.Component),ke=Se;Se.propTypes={accessibleDepts:g.a.array,actionsOnPost:g.a.func,addNewFuntions:g.a.object,brandId:g.a.string,channel:g.a.string,channelStatus:g.a.string,closeFromDview:g.a.func,cmtBoxCombo:g.a.object,contactInfo:g.a.object,dataForRender:g.a.object,feedBasicActions:g.a.func,feedData:g.a.object,filterBy:g.a.string,getCmtsActions:g.a.object,isActionsSuccess:g.a.bool,isCommentClick:g.a.bool,isIntractionDView:g.a.bool,likeCmt:g.a.func,permissions:g.a.object,postId:g.a.string,selectInpost:g.a.func,selectedBrandData:g.a.array,selectedChannelInfo:g.a.object,selectedProId:g.a.string,selectedPtId:g.a.string,selectedTId:g.a.string,socialPopupAction:g.a.func,socialStatus:g.a.object,ticketId:g.a.string},Se.defaultProps={isIntractionDView:!1,channelStatus:"post"};var Ce=a("./src/components/Social/UserProfile/UserProfile.module.css"),Ie=a.n(Ce),Ee=a("../components/lib/Tab/index.js"),De=a("./src/components/Social/ImageWithIcon/ImageWithIcon.js"),Ne=a("./src/components/Social/Feed/Feed.module.css"),xe=a.n(Ne),Pe=a("../components/lib/Select/Select.js"),Te=a.n(Pe),Ae=a("./src/components/Social/ConvertTicketPopup/ConvertTicketPopup.module.css"),_e=a.n(Ae),Fe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=e.selectedDepId;return a.state={selectedDeptId:n},a.containerClick=a.containerClick.bind(a),a}return p()(t,e),l()(t,[{key:"containerClick",value:function(e){e.nativeEvent.stopImmediatePropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.ticketData,n=t.activeDepNameId,o=t.getDepartmentName,i=t.permissions,s=t.popupELeIsUp,r=s.removeClass,l=s.isUp,c=s.topOpenClass,d=a.ticketNumber,u=(a.ticketId,a.departmentId),p=i.haveChangeOwnerPermission;p=!1!==i.haveEditPermission&&p;var m=this.state.selectedDeptId,f=-1!=N()(n).indexOf(u),g=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket",v=_.h.getI18NValue("support.social.converted"),b=!1===f||!1===p?"AssignTicNewMinHight":"AssignTicNewMain",w=!0===l&&!0===r?c:_e.a.SocialAssignTicNew;return h.a.createElement("div",{className:w,"data-id":"assgin_container",onClick:this.containerClick.bind(this),ref:function(t){e.convertELe=t}},h.a.createElement("div",{className:_e.a[b],"data-id":"convert_box",ref:function(t){e.scrlconvertELe=t}},h.a.createElement("div",{className:_e.a.SocialportalChangeDpt,"data-id":"convert_box"},_.h.getI18NValue("support.social.feed.tkconvert.success",[v,g])),h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:_e.a.SocialconvertDetail,dataId:"convert_box"},h.a.createElement("svg",{className:_e.a.TicketIdSvg},h.a.createElement("use",{xlinkHref:"#STicketId_Icon"})),h.a.createElement("div",{className:_e.a.SocialDedailbottom,"data-id":"convert_box"},_.h.getI18NValue("support.social.ticketid",g)),h.a.createElement("div",{className:_e.a.AssignTicketID,"data-id":"convert_box"},"#",d)),h.a.createElement("div",{className:_e.a.AssignTicNewStatus,"data-id":"convert_box"},h.a.createElement("label",{className:_e.a.AssignTicNewLabel,"data-id":"convert_box"},_.h.getI18NValue("support.social.ticket.department")),h.a.createElement("span",{className:_e.a.NewDeptFixed},o(m)))))}}]),t}(h.a.Component),Oe=Fe;Fe.propTypes={Teams:g.a.object,activeDepNameId:g.a.object,agentsActionChunk:g.a.object,brandDepId:g.a.string,cancelPopup:g.a.func,currentDepartment:g.a.object,getDepartmentName:g.a.func,permissions:g.a.object,popFor:g.a.string,popupELeIsUp:g.a.object,postId:g.a.string,selectedDepId:g.a.string,ticketData:g.a.object};var Be=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=e.activeDepNameId,i=e.accessibleDepartments,r=e.permissions.haveMoveRecordsPermission,l=N()(n),c=[];return(!1===r?i:l).map(function(e){c.push(n[e])}),a.clickOnPost=a.clickOnPost.bind(a),a.postActions=a.postActions.bind(a),a.checkBoxChange=a.checkBoxChange.bind(a),a.openPopup=a.openPopup.bind(a),a.detailView=a.detailView.bind(a),a.handleDeptChange=a.handleDeptChange.bind(a),a.openTPeekView=a.openTPeekView.bind(a),a.getMsgTextasHtml=a.getMsgTextasHtml.bind(a),a.getPosition=a.getPosition.bind(a),a.getAttachlist=a.getAttachlist.bind(a),a.getConfirmEle=a.getConfirmEle.bind(a),a.confirmAction=a.confirmAction.bind(a),a.ticketSelectDep=a.ticketSelectDep.bind(a),a.state={popUpfor:e.feedPopupAs,showConvertPopup:e.popupFeedId===e.feedId,PId:e.feedId,ticketData:{},depDatas:c,selectedDeptId:e.crntDepId,isloadingConvert:!1,feedData:e.feedData,openConfirm:!1,actions:[],liked:!1,retweeted:!1,popupELeIsUp:{removeClass:!1,isUp:!0,topOpenClass:{}}},a}return p()(t,e),l()(t,[{key:"ticketSelectDep",value:function(e,t,a,n){n.nativeEvent&&n.nativeEvent.stopImmediatePropagation(),"allDepartment"==this.state.selectedDeptId&&"convertTicketDepCancel"!==t||this.openPopup(e,t,a)}},{key:"getConfirmEle",value:function(e,t,a,n,o){var i=function(e,t){return _.h.getI18NValue(e,t)},s=this.state.openConfirm,r=this.props.showConfirmBox,l=i("support.alert.stayhere"),c=i("support.social.cancel"),d=i("support.social.delete"),u=i("support.social.leave"),p=i("support.social.ok");e=void 0===e?i("support.social.feed.deletedec"):e,t=void 0===t?i("support.social.delete"):t;var m=void 0===this.state?[]:this.state.actions;if(-1===m.indexOf(o)){(m=P()([],m)).push(o);var h=[];m.map(function(e,t){e!=o&&h.push(e)});var f=this;a=void 0===a?{closeConfirmBox:function(){f.setState({openConfirm:!1,actions:o})},cancelConfirmBox:function(){f.setState({openConfirm:!1,actions:h})}}:a;var g=d;r({type:"1"===n?"delete":"alert",submitText:g="2"===n?p:"3"===n?l:g,cancelText:"3"===n?u:c,title:t,message:e,isActive:s,palette:"danger"}).then(function(){a.closeConfirmBox()}).catch(function(){a.cancelConfirmBox()})}}},{key:"openTPeekView",value:function(e,t){var a=this,n=this.props,o=n.popupCombo,i=n.socialStatus,s=o.setPopupStatus;if((0,o.isPopupOpen)(i))this.setState({showConvertPopup:!1},function(){a.props.changePopupId(t,"",!1),s(!1)});else{(0,this.props.SmartTDView)({isPeekView:!0,ticketId:e})}}},{key:"handleDeptChange",value:function(e,t){this.setState({selectedDeptId:e},function(){})}},{key:"getPosition",value:function(e,t,a){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=this.props.containerRef,s=i.getBoundingClientRect();if(null!=e&&null!=t&&null!=i){var r=n.top-s.top,l=(s.height,n.height,"more"===a?.4:1);if(r>o.height/l){var c="more"===a?xe.a.popuptop:"convert_ticket_dropDown"===a?xe.a.depPopuptop:xe.a.popuptopconvert,d=!1;return"convert_ticket"!==a&&"convert_ticket_dropDown"!==a||(d=!0),void this.setState({popupELeIsUp:{removeClass:d,isUp:!0,topOpenClass:c}})}this.setState({popupELeIsUp:{removeClass:!1,isUp:!1,topOpenClass:{}}})}}},{key:"getMsgTextasHtml",value:function(e,t){var a="",n="",o="";if(null!=t&&0!=t.length)for(var i=0,s=t.length;i<s;i++){var r=t[i],l=r.offset,c=r.name,d=r.length,u=r.href,p=r.newj;d-=1;var m=!1;""==n&&(n=l,o=d+1,p=i);for(var h=e.length,f=0;f<h;f++)f===l||f<=l+d&&!0===m||f===l+d&&!0===m?(f===l&&(a+="<a href="+u+" target='_blank'>"+c+"</a>",m=!0),p==i&&i!==s-1||f!==l+d||!0!==m||(m=!1)):1!=m&&(f>n&&f>=n+o||n===l)&&(a+=e[f]);n=l,o=d+1}return(null!=t&&0===t.length||void 0===t)&&(a=e),a}},{key:"clickOnPost",value:function(e,t,a,n,o){var i=this;if("listPost"!==this.props.mode){var s=this.props,r=s.cmtBoxCombo,l=s.popupCombo,c=s.socialStatus,d=r.commentBoxStatus,u=r.changeCommentBox,p=l.setPopupStatus,m=l.isPopupOpen,h=o.target.nodeName,f=o.target.id,g=o.target.dataset.id,v=this.props,b=v.feedsAs,w=v.isPeekView,y=v.selectedPostId,S=["slct2_chosen","convert_box","assgin_container","feed_text"];this.state.showConvertPopup;if("DIV"!=h&&(-1===["LABEL","CHECKBOX","INPUT","SPAN","A","LI","I","IMG","svg","use"].indexOf(h)||"SPAN"===h&&-1!=S.indexOf(g))||"DIV"===h&&(""===f||""!=f&&-1===["Social_PopupDropdown","convertUpdate","convertLater"].indexOf(f))&&-1===S.indexOf(g)){if(m(c)&&!1===d(c))return void this.setState({showConvertPopup:!1},function(){i.props.changePopupId("","",!1),p(!1)});var k=this,C=function(){k.props.changePopupId(t,"all",!1),w&&k.props.tPeekViewActions(),"feed"===e?k.props.clickPost(t,a,n,b,"post"):k.props.selectAContact(t,a,n,b,"message")};if(d(c)&&y!=t){var I={cancelConfirmBox:function(){k.setState({openConfirm:!1})},closeConfirmBox:function(){k.setState({openConfirm:!1},function(){C(),u(!1)})}};return void this.props.openConfirmBox(I,"3")}C()}}}},{key:"detailView",value:function(e,t,a,n,o,i){var s=this,r=this.props,l=r.popupCombo,c=r.socialStatus,d=l.setPopupStatus;if((0,l.isPopupOpen)(c))this.setState({showConvertPopup:!1},function(){s.props.changePopupId("","",!1),d(!1)});else{this.props.mode;this.props.clickPost(t,a,n,o,e)}}},{key:"postActions",value:function(e,t,a,n,o,i){var s=this,r=this.props,l=r.feedsAs,c=(r.mode,r.feedIntegActions),d=r.selectedBrandData,u=c.spamSocialTicket,p=c.deleteSocialTicket,m=c.deletePost,h=Object(be.c)(d,l);if("comment"!==e){if("markSpam"===e&&null!=t&&""!=t&&u(a,l,h,t,n).then(function(e){if(!0===e.data.apiError){var t=_.h.getI18NValue("support.social.ticket.single.spam.fail"),a={id:(new Date).getTime(),nftnType:2,nftnText:t,IconCode:114};self.props.socialPopupAction(!0,a)}}),"markSpam"!=e){var f=this,g=this.state,v=g.liked,b=g.retweeted,w={};if("like"===e||"unlike"===e){var y="like"===e;if(v===y)return;w={liked:y,retweeted:b}}else if("retweet"===e||"undoRetweet"===e){var S="retweet"===e;if(b===S)return;w={liked:v,retweeted:S}}if(N()(w).length>0)return void this.setState({liked:w.liked,retweeted:w.retweeted},function(){s.props.feedsActions(e,t,a,!0,!0)});if("ticketDelete"===e)return void p(l,h,t,n).then(function(e){if(!0!==e.data.apiError){var t=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket",a=_.h.getI18NValue("support.social.feed.ticket.delete.success",t),n={id:(new Date).getTime(),nftnType:1,IconCode:106,nftnText:a};f.props.socialPopupAction(!0,n)}else{var o={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror")};f.props.socialPopupAction(!0,o)}});m(a,l,h,t).then(function(n){if(!0!==n.data.apiError){var o,i,s;o=e,i=t,s=a,f.props.feedsActions(o,i,s,!0,!0)}else{var r={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror")};f.props.socialPopupAction(!0,r)}})}}else this.props.clickPost(t,n,o,l,"post",!0)}},{key:"checkBoxChange",value:function(e,t,a,n,o){var i=this;o.stopPropagation();var s=this.props.socialStatus;if(isPopupOpen(s))this.setState({showConvertPopup:!1},function(){i.props.changePopupId("","",!1),Object(ue.m)(!1)});else{var r=this.props,l=r.totalTFeedIds,c=r.crntSelectedFIds,d=N()(l),u=N()(c),p=d.length,m=u.length;this.props.select(e,p,m,a)}}},{key:"confirmAction",value:function(e,t,a,n,o,i){var s=this,r=void 0,l=void 0,c=void 0,d=void 0,u=this.state.actions,p=this,m=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket",h="markSpam"===e?"3":"feedDelete"===e?"2":"1";if(-1==(u=P()([],u)).indexOf(h)){u.push(h);var f=[];switch(u.map(function(e,t){e!=h&&f.push(e)}),e){case"markSpam":r=_.h.getI18NValue("support.social.ticket.spamdesc",m),l=_.h.getI18NValue("support.social.ticket.spamtitle",m),c={closeConfirmBox:function(){p.setState({openConfirm:!1,actions:u},function(){p.postActions(e,t,a,n,o,i)})},cancelConfirmBox:function(){p.setState({openConfirm:!1,actions:f})}},d="2";break;case"feedDelete":r=_.h.getI18NValue("support.social.feed.deletedec"),l=_.h.getI18NValue("support.social.feed.deletetitle"),c={closeConfirmBox:function(){p.setState({openConfirm:!1,actions:u},function(){p.postActions(e,t,a,n,o,i)})},cancelConfirmBox:function(){p.setState({openConfirm:!1,actions:f})}},d="1";break;default:r=_.h.getI18NValue("support.social.ticket.deletedec",m),l=_.h.getI18NValue("support.social.ticket.deletetitle",m),c={closeConfirmBox:function(){p.setState({openConfirm:!1,actions:u},function(){p.postActions(e,t,a,n,o,i)})},cancelConfirmBox:function(){p.setState({openConfirm:!1,actions:f})}},d="1"}this.setState({openConfirm:!0},function(){s.getConfirmEle(r,l,c,d,h)})}}},{key:"openPopup",value:function(e,t,a,n){var o=this;null!=n&&n.nativeEvent.stopImmediatePropagation();var i=this.props,s=i.feedsAs,r=i.brandId,l=i.feedData,c=i.brandDepId,d=i.mode,u=i.feedsMode,p=this.state,m=p.showConvertPopup,h=p.depDatas,f=p.selectedDeptId,g=p.popUpfor,v=p.isloadingConvert,b=void 0,w=this;if(b="message"===a?"facebook"===s?"facebookConversations":"twitterConversations":"facebook"===s?"facebookPosts":"twitterPosts","ticketConvert"===t){if(v)return;this.props.changePopupId(e,"ticketConvert",!0);var y="allDepartment"===f||void 0===f?"-1"!=c?c:h[0].id:f;this.setState({isloadingConvert:!0},function(){var a=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket";w.props.convertTicket(r,e,b,y).then(function(n){w.props.popupFeedId;var i=n.data||{},s=i.ticket||{};if(void 0===i.apiError&&null!=w.props&&null!=s.ticketNumber){var r=e;o.props.changePopupId(r,"ticketConvert",!0);var c=function(){var a=!1;"notconverted"===u&&w.props.popupFeedId!=r&&(a=!0),(l=P()({},l)).ticket=s,w.props.feedModify(e,l,a,t)};if("alive"===w.mountStatus)return y=s.departmentId,void w.setState({selectedDeptId:y,popUpfor:t,ticketData:s,isloadingConvert:!1},function(){c()});c()}else if("alive"===w.mountStatus&&void 0===s.ticketNumber){w.setState({isloadingConvert:!1});var d={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.feed.convert.fail",a),IconCode:113};w.props.socialPopupAction(!0,d)}})})}else if("tConvertDepDD"===t){if(1===h.length||"-1"!=c)return void this.openPopup(e,"ticketConvert",a,n);this.props.changePopupId(e,"depPopup",!0),w.setState({showConvertPopup:!0,PId:e,popUpfor:t},function(){if(void 0!==o.depDDref){var t=o.depDDref.dropele,a=o.refs["convert_icon"+e],n=o.refs["feed_container_"+d+"_"+e],i=o.props.containerRef;if(!1===Object(ue.c)(i,n)){var s=o,r=n.offsetTop-n.offsetHeight;return i.scrollTop=r,void s.getPosition(a,t,"convert_ticket_dropDown")}}})}else if("ticketConvertCancel"===t||"ticketUpdate"===t||"ticketUpdateCancel"===t)this.setState({showConvertPopup:!1,PId:""},function(){(l=P()({},l)).ticket=o.state.ticketData,o.props.feedModify(e,l,!0,t)});else if("ticketUpdateFail"===t){var S=_.h.getI18NValue("support.unable.to.process.your.request");this.setState({showConvertPopup:!1},function(){var e={id:(new Date).getTime(),nftnType:2,nftnText:S};w.props.socialPopupAction(!0,e)})}else if("convertTicketDepCancel"===t)this.setState({selectedDeptId:c},function(){o.props.changePopupId(e,"",!1)});else if("markSpam"===t&&null!=e&&""!=e){var k=this.props,C=k.selectedBrandData,I=k.feedIntegActions,E=k.brandId,D=I.spamSocialTicket,N=this.state.PId;D(E,s,Object(be.c)(C,s),N,e).then(function(e){if(!0===e.data.apiError){var a=_.h.getI18NValue("support.social.ticket.single.spam.fail"),n={id:(new Date).getTime(),nftnType:2,nftnText:a,IconCode:114};w.props.socialPopupAction(!0,n)}"alive"===w.mountStatus&&(delete(l=P()({},l)).ticket,w.props.changePopupId(N,"ticketConvert",!1),w.props.feedModify(N,l,!0,t))})}else if("moreAction"===t){var x="moreAction"!==g||!m;this.setState({showConvertPopup:x,PId:e,popUpfor:t},function(){o.props.changePopupId(e,"moreAction",x)})}else this.setState({showConvertPopup:!m,PId:e,popUpfor:t},function(){o.props.changePopupId(e,"ticketConvert",!m)})}},{key:"componentDidMount",value:function(){this.mountStatus="alive";var e=this.state.feedData,t=this.props.feedsAs,a="facebook"===t?"likes":"favorites",n="facebook"===t?"canLike":"canFavorite",o=e.retweeted_status,i=void 0===o?e[a]:o[a],s=(i=void 0===i?{}:i)[n]||!1,r=void 0===o?e.retweets:o.retweets,l=(r=void 0===r?{}:r).canRetweet||!1;this.setState({liked:!s,retweeted:!l})}},{key:"componentWillUnmount",value:function(){this.mountStatus="dead"}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=(this.props.feedData,this.props.selectedPostId),n=e.selectedPostId,o=e.popupFeedId,i=e.feedPopupAs,s=e.mode,r=e.feedsAs,l=e.feedData,c=this.state,d=(c.feedData,c.ticketData),u=c.PId,p=c.actions,m=(c.liked,c.retweeted,"facebook"===r?"likes":"favorites"),h="facebook"===r?"canLike":"canFavorite",f=l.retweeted_status,g=void 0===f?l[m]:f[m],v=(g=void 0===g?{}:g)[h]||!1,b=void 0===f?l.retweets:f.retweets,w=!v,y=!((b=void 0===b?{}:b).canRetweet||!1);a!=n&&""!=n&&""===a&&this.setState({showConvertPopup:!1,popUpfor:i,liked:w,retweeted:y,actions:[]});var S=-1!=p.indexOf("1"),k=(p.indexOf("2"),-1!=p.indexOf("3")),C=[];if(o!=u||""!=n&&n!=o){void 0===l.ticket&&null!=d.id&&((l=P()({},l)).ticket=d);var I=void 0===l.ticket?{}:l.ticket;!0!==S&&!0!==k||(C=null!=I.id?[]:p),this.setState({showConvertPopup:!1,feedData:l,popUpfor:i,liked:w,retweeted:y,actions:[]})}if(o===u){var E=void 0===l.ticket?{}:l.ticket;!0!==S&&!0!==k||(C=null!=E.id?[]:p),this.setState({showConvertPopup:!0,popUpfor:i,ticketData:E,liked:w,retweeted:y,actions:C},function(){if("ticketConvert"===i&&null!=l.ticket&&""!=l.ticket&&null!=t.convertRef){var e=t.convertRef.convertELe,a=t.refs["convert_icon"+u],n=t.refs["feed_container_"+s+"_"+u],o=t.props.containerRef;if(!1===Object(ue.c)(o,n)){var r=t,c=n.offsetTop-n.offsetHeight;return o.scrollTop=c,void r.getPosition(a,e,"convert_ticket")}}})}}},{key:"getAttachlist",value:function(e,t){var a=this;t.nativeEvent.stopImmediatePropagation();var n=this.props,o=n.popupCombo,i=n.socialStatus,s=o.setPopupStatus;if((0,o.isPopupOpen)(i))this.setState({showConvertPopup:!1},function(){a.props.changePopupId("","",!1),s(!1)});else{var r=this.props,l=r.feedData,c=(r.feedsAs,r.listingFor),d=l.attachments;null!=d&&"post"===c&&this.props.viewAttachments(e,d,!0)}}},{key:"render",value:function(){var e=this,t=this,a=this.props,n=a.feedData,o=a.classForFeed,i=a.feedsAs,s=(a.crntFeedLen,a.listingFor),r=a.brandId,l=a.confPageAId,c=(a.crntDepId,a.selectedChannelInfo),d=(a.selectedPostId,a.searchValue,a.isSelected),u=a.mode,p=a.deletePermission,m=a.brandDepId,f=a.feedsMode,g=a.currentDepartment,v=a.accessibleDepartments,b=a.activeDepNameId,w=a.teamsList,y=a.agentsActionChunk,S=a.getDepartmentName,k=a.socialUsers,C=a.permissions,I=!1===p?i:c.name,E=this.state,D=E.showConvertPopup,N=E.PId,x=E.ticketData,P=E.depDatas,T=E.selectedDeptId,A=E.isloadingConvert,F=E.popUpfor,O=E.openConfirm,B=E.confirmBoxEle,j=E.popupELeIsUp,M=j.removeClass,L=j.isUp,K=j.topOpenClass,U=!0===L?!0===M?K:K+" "+xe.a.SocialPopupDropdown:xe.a.SocialPopupDropdown,W="postActions"===u,q="feed_container_"+u,Z=C.haveViewPermission,G=C.haveEditPermission,Y=C.haveCreatePermission,J=C.haveDeletePermission,Q=!0===J||!0===G,X=g.id,$=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket",ee=!G&&!J&&!p,te=!0===ee?"right0":"right20",ae=function(e,a,n,o,i){var s=function(){return h.a.createElement("span",{title:_.h.getI18NValue("support.social.delete"),"data-id":"feed_delete_"+a,onClick:t.confirmAction.bind(this,"feedDelete",a,o,n,i)},h.a.createElement(V.a,{name:"ZD-socialDelete",iconClass:xe.a.feedsdelete+" "+xe.a.itag}))};if(void 0===e)return p?s():"";var r=function(){return h.a.createElement("span",{ref:"more"+a,title:_.h.getI18NValue("support.social.feed.moreactions"),className:xe.a.DownMoreIcon,onClick:t.openPopup.bind(this,a,"moreAction"),"data-id":"more"+a},h.a.createElement(V.a,{size:"sizeinherit",ref:"more_icon"+a,name:"ZD-more"}))},l=function(){return h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.ticket.spam",$),"data-id":"feed_markspam"+a,onClick:t.confirmAction.bind(this,"markSpam",a,o,n,i)},h.a.createElement(V.a,{name:"Zd-markSpam",iconClass:xe.a.socialSpamIcon+" "+xe.a.itag}))},c=e.departmentId;return G||J?-1===v.indexOf(c)?p?s():"":G&&J||p?r():G?l():function(){return h.a.createElement("span",{title:_.h.getI18NValue("support.social.ticket.deletetitle",$),"data-id":"feed_delete"+a,onClick:t.confirmAction.bind(this,"ticketDelete",a,o,n,i)},h.a.createElement(V.a,{name:"ZD-crossclose",iconClass:xe.a.socialSpamIcon+" "+xe.a.itag}))}():G&&!J?p?r():l():void 0},ne="facebook"===i?"fbcolor":"twicolor",oe="facebook"===i?"fbContainer":"twiContainer",ie="twitter"===i?"twBtn":"fbBtn";if("message"===s){var ce=n.createdTime,de=(n.messageCount,n.attachments),pe=n.ticket,me=n.author,fe=n.conversationId,ge=n.to,ve=n.message,be=ve.split("<br/>").join("");if("facebook"===i)be=Object(ue.h)(ve).split("<br/>").join("");var we=null!=pe&&""!=pe?pe.departmentId:"",ye=null!=pe&&""!=pe&&-1!=v.indexOf(we),Se=null!=pe&&""!=pe?pe.id:"",ke=null!=pe&&""!=pe?pe.ticketNumber:"",Ce=null!=pe&&""!=pe?pe.departmentId:"";te="-1"!=v.indexOf(Ce)||ee||p?te:"right0";var Ie=me.name,Ee=me.href,De=me.id,Ne=De===l?ge.id:De;if(De===l&&(Ie=ge.name,Ee=ge.href),void 0===Ie&&void 0===Ee){var Pe=k[Ne];Ie=Pe.name,Ee=Pe.href}var Te=void 0===pe?"feedsOther":"",Ae=Object(ue.g)(Ie);return h.a.createElement("div",{className:xe.a.SocialcontainerList+" "+xe.a.msgFeed+" "+xe.a[o],"data-id":"feed_msg_container"+fe,ref:q+"_"+fe,onClick:this.clickOnPost.bind(this,"message",fe,Se,Ne)},h.a.createElement("div",{className:xe.a.SocialcontainerMainDiv},!0===ye&&!0===W&&"converted"===f&&!0===Q&&h.a.createElement("div",{className:xe.a.Socialcheckbox+" "+xe.a.opacity1},h.a.createElement(H.a,{id:fe,type:"newStylishcbox",checked:d,dataId:"feed_checkbox_"+fe,onChange:this.checkBoxChange.bind(this,fe,d,ke)})),h.a.createElement("div",{className:xe.a.SocialDedail},h.a.createElement(R.Container,{alignBox:"row",align:"vertical"},h.a.createElement("div",{className:xe.a.avatar},h.a.createElement(z.a,{src:Ee,name:Ae,shape:"circle",size:"xmedium",palette:"info"})),h.a.createElement(R.Box,{flexible:!0,className:xe.a.box},h.a.createElement("div",{className:xe.a.SocialDedailHead+" "+xe.a.posrel},void 0===pe?h.a.createElement("span",{className:xe.a.SocialRightBdr+" "+xe.a.newTicketAssignDiv+" "+xe.a[Te]+" "+xe.a[te]},!0===Y&&h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.convertticket",$),ref:"convert_icon"+N,"data-id":"feed_convertticket"+fe,className:xe.a.NewTickHover+" "+xe.a[!0===A?"convertrotate":""],onClick:this.openPopup.bind(this,fe,"tConvertDepDD","message")},h.a.createElement("svg",{className:xe.a.NewTickSvg},h.a.createElement("use",{xlinkHref:"#ticketOnly"})),h.a.createElement("svg",{className:xe.a.NewTickArwSvg},h.a.createElement("use",{xlinkHref:"#ArrowOnly"}))),"depPopup"===F&&!0===D&&h.a.createElement(je,{selectedId:fe,selectedDeptId:T,suggestionsDepdata:P,ref:function(t){e.depDDref=t},popupELeIsUp:j,listingFor:s,self:t,buttonTypeClass:xe.a[ie]})):h.a.createElement("div",null,h.a.createElement("span",{className:xe.a.SocialRightBdr+" "+xe.a.newTicketAssignDiv+" "+xe.a[Te]+" "+xe.a[te]},!0===Z&&("0"===X&&"-1"!=v.indexOf(Ce)||Ce===X)?h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.tickets.peek",$),ref:"convert_icon"+N,className:xe.a.itag+" "+xe.a.FBTicketID,"data-id":"feed_ticket_peekview"+fe,onClick:this.openTPeekView.bind(this,pe.id,N)},"#",ke):h.a.createElement("span",{className:xe.a.depidnoaccess},"#",ke),!0===D&&"ticketConvert"===F&&fe===N&&!0===Y&&h.a.createElement(Oe,{cancelPopup:this.openPopup,postId:fe,popFor:"message",ticketData:x,selectedDepId:T,brandDepId:m,ref:function(t){e.convertRef=t},feedsActions:this.props.feedsActions,activeDepNameId:b,currentDepartment:g,accessibleDepartments:v,teamsList:w,agentsActionChunk:y,getDepartmentName:S,permissions:C,popupELeIsUp:j,buttonTypeClass:xe.a[ie]})),h.a.createElement("div",{className:xe.a.SocialPopupDiv},ae(pe,fe,Se,r,De),!0===D&&"moreAction"===F&&(!0===J||!0===G)&&h.a.createElement("div",{className:U,ref:"more_popup"+fe,"data-id":"more_popup"+fe},h.a.createElement("ul",{className:xe.a.moreact},!0===G&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",tagName:"li",className:xe.a.listAction,dataId:"feed_markspam"+fe,onClick:this.confirmAction.bind(this,"markSpam",fe,r,Se,De)},h.a.createElement(V.a,{name:"Zd-markSpam",iconClass:xe.a.mr15+" "+xe.a.f14+" "+xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.ticket.markasspam",tag:"i",className:xe.a.textstyle})),!0===J&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",tagName:"li",className:xe.a.listAction,dataId:"feed_delete"+fe,onClick:this.confirmAction.bind(this,"ticketDelete",fe,r,Se,De)},h.a.createElement(V.a,{name:"Zd-close1",iconClass:xe.a.mr15+" "+xe.a.f14+" "+xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.ticket.deletetitle",tag:"i",values:[$],className:xe.a.textstyle})))))),h.a.createElement("div",null,h.a.createElement("a",{className:xe.a.aTagClass+" "+xe.a[ne],"data-id":"feed_profile_name"+fe,onClick:this.detailView.bind(this,"profile",fe,Se,Ne,i),"data-clickable":"true"},Ie)),h.a.createElement("div",{className:xe.a.SocialDedailbottom},h.a.createElement(le.a,null,h.a.createElement("span",{key:"dotSep1"+fe},De!=l?h.a.createElement(V.a,{iconClass:xe.a.MsgInOutIcon+" "+xe.a.msgreceiveIcon,name:"ZD-receive"}):h.a.createElement(V.a,{iconClass:xe.a.MsgInOutIcon+" "+xe.a.msgsentIcon,name:"ZD-sent"}),null!=de&&0!=de.length&&h.a.createElement("span",{"data-id":"feed_text"},h.a.createElement(V.a,{iconClass:xe.a.SocialMsgAttach,name:"ZD-filePicture"}),h.a.createElement("span",{"data-id":"feed_text"},De===l&&h.a.createElement("span",{className:xe.a.SocialDedailMessageReply},"You "),h.a.createElement(_.c,{i18NKey:"support.social.conversation.attach"}))),h.a.createElement("span",{"data-id":"feed_text",className:xe.a.SocialDedailMessage,dangerouslySetInnerHTML:{__html:be}})),h.a.createElement("span",{className:xe.a.SocialDedailMessage},h.a.createElement(_.d,{to:ce,format:function(){return"socialFormat"},ago:"ago",later:"late",titleFormat:"DD/MM/YYYY h:mm A"}))))))))))}var _e=n.retweeted_status,Fe=n.ticket;Fe=""===Fe?void 0:Fe;var Be=n.message,ze=n.favorites,Ve=n.createdTime,Re=n.author,Me=n.likes,Le=n.shares,Ke=n.comments,He=n.retweets,Ue=(n.messageTags,n.attachments),We=n.replies,qe=Re.name;null!=_e&&(Be=_e.message,ze=_e.favorites,Re=_e.author);var Ze=Re.name,Ge=Re.href,Ye=void 0,Je=void 0,Qe=0,Xe="";if("facebook"===i){(Me=void 0===Me?{}:Me).data,Ye=Me.count,Je=Me.canLike;var $e=+(Qe=(We=void 0===We?{}:We).count||0);Qe=We.count||null;var et=We.data||[];Xe=0!=$e&&0!=et.length?_.h.userDateFormat(et[0].createdTime,{},"","","",function(){return"DD/MM/YYYY"}):""}else ze.data,Ye=ze.count,Je=ze.canFavorite;var tt=n.id;Be=void 0===Be?"":Be,document.createElement("div").innerHTML=Be;var at=Be,nt=Be,ot=void 0;null!=_e&&(ot=_e.message,_e.messageTags,_e.author.name,_e.author.href,_e.createdTime,ot=void 0===ot?"":ot);var it=Re.id,st=null!=Fe&&""!=Fe?Fe.id:"",rt=null!=Fe&&""!=Fe?Fe.ticketNumber:"",lt=null!=Fe&&""!=Fe?Fe.departmentId:"";te="-1"!=v.indexOf(lt)||ee||p?te:"right0",Ke=void 0===Ke?{totalCount:0}:Ke,Le=void 0===Le?{count:0}:Le;var ct=void 0,dt=!1;null!=Ue&&0!=Ue.length&&(ct=Ue.map(function(e,a){var n=e.href;return"video_inline"===e.type?h.a.createElement("span",{key:a},h.a.createElement("div",null,h.a.createElement(re.a,{className:xe.a.aTagClass+" "+xe.a.mr20+" "+xe.a.aTag,href:n,target:"_blank"},n)),h.a.createElement("div",{className:xe.a.SocialDedailVideoDiv},h.a.createElement("iframe",{width:"400",height:"250",src:n,frameBorder:"0",allowFullScreen:!0}))):(dt=!0,h.a.createElement("span",{className:xe.a.image,key:a,"data-id":"attached_image_"+a+"_"+tt,onClick:t.getAttachlist.bind(this,a)},h.a.createElement(se,{href:n})))})),!0===dt&&(ct=h.a.createElement("div",{className:xe.a.SocialDedailImgDiv},ct));var ut=1==Je?"like":"unlike";Ye=parseInt(Ye);var pt="retweet";null!=He&&(pt=!1===He.canRetweet?"undoRetweet":"retweet");_.h.userDateFormat(Ve,{},"","","",function(){return"DD/MM/YYYY h:mm A"});var mt=null!=Fe&&""!=Fe?Fe.departmentId:"",ht=null!=Fe&&""!=Fe&&-1!=v.indexOf(mt),ft="twitter"===i?"postActions"===u?"":"FeedsRightcontainerList":"",gt=!0===p?"":"feedsOther",vt=new RegExp("<br/>"),bt=0,wt=void 0;-1!=Be.search(vt)&&(bt=(wt=Be.split("<br/>")).length);var yt=nt.length>500||bt>5&&null!=wt[6]?"Social_DedailAns_more":"";Ye=parseInt(Ye);var St=!1===Je?Ye>1?Ye-1>1?"support.social.youandothers":"support.social.youandother":"support.social.you":Ye>1?"support.social.others":"support.social.other",kt=Le.count,Ct=!0===Je?"support.social.feed.like":"support.social.feed.unlike";Ct=_.h.getI18NValue(Ct);var It=null!=He&&!0===He.canRetweet?"support.social.feed.retweet":"support.social.feed.undoretweet";It=_.h.getI18NValue(It);var Et=Object(ue.g)(Ze),Dt=void 0===_e?tt:_e.id;return h.a.createElement("div",{ref:q+"_"+tt,className:xe.a.SocialcontainerList+" "+xe.a[o]+" "+xe.a[ft],"data-id":"feed_post_container_"+u+"_"+tt,onClick:this.clickOnPost.bind(this,"feed",tt,st,it)},!0===O&&h.a.createElement("span",null,B),h.a.createElement("div",{className:xe.a.SocialcontainerMainDiv},"twitter"===i&&!1===He.canRetweet&&null!=_e&&h.a.createElement("div",{className:xe.a.SocialDedailbottom+" "+xe.a.retweeted},h.a.createElement(V.a,{name:"ZD-retweet",iconClass:xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.twitter.retweeted",values:[qe]})),!0===ht&&!0===W&&"converted"===f&&!0===Q&&h.a.createElement("div",{className:xe.a.Socialcheckbox+" "+xe.a.opacity1},h.a.createElement(H.a,{id:tt,type:"newStylishcbox",checked:d,dataId:"feed_checkbox_"+tt,onChange:this.checkBoxChange.bind(this,tt,d,rt)})),h.a.createElement("div",{className:xe.a.SocialDedail},h.a.createElement(R.Container,{alignBox:"row",align:"vertical"},h.a.createElement("div",{className:xe.a.avatar},null!=Fe&&""!=Fe&&"",h.a.createElement(z.a,{src:Ge,name:Et,shape:"circle",size:"xmedium",palette:"info"})),h.a.createElement(R.Box,{flexible:!0,className:xe.a.box},h.a.createElement("div",{className:xe.a.SocialDedailHead+" "+xe.a.posrel},!0===W&&!0===Z?void 0===Fe?h.a.createElement("div",{className:xe.a.SocialRightBdr+" "+xe.a.newTicketAssignDiv+" "+xe.a[gt]+" "+xe.a[te]},!0===Y&&h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.convertticket",$),"data-id":"feed_convertticket"+tt,ref:"convert_icon"+tt,className:xe.a.NewTickHover+" "+xe.a[!0===A?"convertrotate":""],onClick:this.openPopup.bind(this,tt,"tConvertDepDD","feed")},h.a.createElement("svg",{className:xe.a.NewTickSvg},h.a.createElement("use",{xlinkHref:"#ticketOnly"})),h.a.createElement("svg",{className:xe.a.NewTickArwSvg},h.a.createElement("use",{xlinkHref:"#ArrowOnly"}))),"depPopup"===F&&!0===D&&h.a.createElement(je,{selectedId:tt,selectedDeptId:T,suggestionsDepdata:P,listingFor:s,popupELeIsUp:j,ref:function(t){e.depDDref=t},self:t,buttonTypeClass:xe.a[ie]})):h.a.createElement("span",{className:xe.a.SocialRightBdr+" "+xe.a.newTicketAssignDiv+" "+xe.a[te]},"0"===X&&"-1"!=v.indexOf(lt)||lt===X?h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.tickets.peek",$),ref:"convert_icon"+tt,className:xe.a.itag+" "+xe.a.FBTicketID,"data-id":"feed_ticket_peekview"+tt,onClick:this.openTPeekView.bind(this,st,N)},"#",rt):h.a.createElement("span",{className:xe.a.depidnoaccess},"#",rt),!0===D&&"ticketConvert"===F&&tt===N&&!0===Y&&h.a.createElement(Oe,{cancelPopup:this.openPopup,postId:tt,popFor:"feed",ticketData:x,selectedDepId:T,brandDepId:m,ref:function(t){e.convertRef=t},currentDepartment:g,feedsActions:this.props.feedsActions,teamsList:w,agentsActionChunk:y,activeDepNameId:b,getDepartmentName:S,permissions:C,popupELeIsUp:j,buttonTypeClass:xe.a[ie]})):null!=Fe&&""!=Fe?h.a.createElement("span",{className:xe.a.SocialRightBdr+" "+xe.a.newTicketAssignDiv+" "+xe.a[te]}," ",h.a.createElement("span",{className:xe.a.depidnoaccess},"#",rt)," "):"",!0===W&&h.a.createElement("div",{className:xe.a.SocialPopupDiv},ae(Fe,tt,st,r,it),!0===D&&"moreAction"===F&&(J||p||G)&&h.a.createElement("div",{className:U,ref:"more_popup"+tt,"data-id":"more_popup"+tt},h.a.createElement("ul",{className:xe.a.moreact},!0===G&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",tagName:"li",className:xe.a.listAction,dataId:"feed_markspam"+tt,onClick:this.confirmAction.bind(this,"markSpam",tt,r,st,it)},h.a.createElement(V.a,{name:"ZD-markSpam",iconClass:xe.a.mr15+" "+xe.a.f14+" "+xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.ticket.markasspam",tag:"i",className:xe.a.textstyle})),!0===p&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",tagName:"li",className:xe.a.listAction,dataId:"feed_delete"+tt,onClick:this.confirmAction.bind(this,"feedDelete",tt,r,st,it)},h.a.createElement(V.a,{name:"ZD-socialDelete",iconClass:xe.a.mr15+" "+xe.a.f14+" "+xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.feed.deletetitle",tag:"i",className:xe.a.textstyle})),!0===J&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",tagName:"li",className:xe.a.listAction,dataId:"feed_ticket_delete"+tt,onClick:this.confirmAction.bind(this,"ticketDelete",tt,r,st,it)},h.a.createElement(V.a,{name:"ZD-close1",iconClass:xe.a.mr15+" "+xe.a.f14+" "+xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.ticket.deletetitle",tag:"i",values:[$],className:xe.a.textstyle}))))),h.a.createElement("div",null,h.a.createElement("a",{className:xe.a.feedauthorname+" "+xe.a[ne]+" ","data-id":"feed_profile_name"+tt,onClick:this.detailView.bind(this,"profile",tt,st,it,i),"data-clickable":"true"},Ze)),h.a.createElement("div",{className:xe.a.SocialDedailbottom},h.a.createElement(le.a,null,h.a.createElement("span",{key:"dotSep1"+tt},h.a.createElement(V.a,{name:"facebook"===i?"ZD-fbPostPad":"ZD-twitterPostPad",iconClass:xe.a.itag}),h.a.createElement(_.c,{i18NKey:"support.social.feed.posted",values:[I],tag:"span"})),h.a.createElement(_.d,{to:Ve,format:function(){return"socialFormat"},ago:"ago",later:"late",titleFormat:"DD/MM/YYYY h:mm A"})))))),h.a.createElement("div",{className:xe.a.SocialDedailAns+" "+xe.a[oe]},h.a.createElement("div",{className:xe.a[yt],dangerouslySetInnerHTML:{__html:at}}),null!=Ue&&0!=Ue.length&&h.a.createElement("span",null,ct)))),!0===W&&h.a.createElement("div",{className:xe.a.SocialcontainerFooter},"facebook"===i?h.a.createElement("span",null,h.a.createElement("span",{className:xe.a.SocialLikeCmdShare},h.a.createElement("span",{title:Ct,className:xe.a.IconHoverspan+" "+xe.a[!1===Je?"liked":"notLiked"],"data-id":"feed_likeunlike"+tt,onClick:this.postActions.bind(this,ut,tt,r,st,it)},h.a.createElement("svg",{className:xe.a.NewLikeSvg},h.a.createElement("use",{xlinkHref:!1===Je?"#SLikeFill":"#SLike"})),h.a.createElement(_.c,{i18NKey:"support.social.feed.like",tag:"span"})),h.a.createElement("span",{className:xe.a.IconHoverspan,title:_.h.getI18NValue("support.social.feed.comment"),"data-id":"feed_comment_"+tt,onClick:this.postActions.bind(this,"comment",tt,r,st,it)},h.a.createElement("svg",{className:xe.a.NewLikeSvg+" "+xe.a.Topfour},h.a.createElement("use",{xlinkHref:"#SComment"})),null!=Qe&&Qe),0!=+kt&&h.a.createElement("span",{className:xe.a.IconHoverspan+" "+xe.a.curdefault},h.a.createElement("svg",{className:xe.a.NewLikeSvg+" "+xe.a.Topshare},h.a.createElement("use",{xlinkHref:"#FBnewshare"})),kt),""!=Xe&&h.a.createElement("span",{className:xe.a.IconHoverspan,title:_.h.getI18NValue("support.social.feed.lastcmtdesc")},h.a.createElement("svg",{className:xe.a.NewLikeSvg},h.a.createElement("use",{xlinkHref:"#SCommentTime"})),Xe)),(i=0!=+Ye)&&h.a.createElement("span",{className:xe.a.SocialLikeresult},h.a.createElement(V.a,{name:"ZD-fbReactLike",size:"14",iconClass:xe.a.FBLikecircle}),h.a.createElement(_.c,{i18NKey:St,values:[Ye],tag:"span"}))):h.a.createElement("span",{className:xe.a.SocialLikeCmdShare},h.a.createElement("span",{title:_.h.getI18NValue("support.social.feed.reply"),className:xe.a.HoverTwitLike+" "+xe.a.twiReply,"data-id":"feed_re_"+tt,onClick:this.postActions.bind(this,"comment",tt,r,st,it)},h.a.createElement(V.a,{name:"ZD-twitterReply",iconClass:xe.a.twitIconposition})),h.a.createElement("span",{title:It,className:xe.a.twiRetweet+" "+xe.a.HoverTwitLike+" "+xe.a[!1===He.canRetweet?"Retwit":"Retwitoff"],"data-id":"feed_retweet_"+tt,onClick:this.postActions.bind(this,pt,tt,r,st,it)},h.a.createElement(V.a,{name:"ZD-retweet",iconClass:xe.a.twitIconposition+" "+xe.a[!1===He.canRetweet?"Retwit":""]}),0!=+He.count&&He.count),h.a.createElement("span",{title:Ct,className:xe.a.twiLike+" "+xe.a[!1===Je?"twiLike":""],"data-id":"feed_likeunlike"+tt,onClick:this.postActions.bind(this,ut,Dt,r,st,it)},h.a.createElement(V.a,{name:"ZD-twitterLike",iconClass:xe.a.twitIconposition+" "+xe.a[!1===Je?"twiLike":"twinotLiked"]}),0!=+Ye&&Ye))))}}]),t}(h.a.Component),ze=Be,je=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"preventClick",value:function(e){e.nativeEvent.stopImmediatePropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectedId,n=t.selectedDeptId,o=t.suggestionsDepdata,i=t.listingFor,s=t.self,r=t.popupELeIsUp,l=t.buttonTypeClass,c={id:"allDepartment",value:_.h.getI18NValue("support.setup.social.select")};(o=P()([],o)).unshift(c);var d=r.removeClass,u=r.isUp,p=r.topOpenClass,m=!0===u?!0===d?p:p+" "+xe.a.portalChange:xe.a.portalChange,f="allDepartment"===n;return h.a.createElement("div",{className:m,ref:function(t){e.dropele=t},"data-id":"depDdown",onClick:this.preventClick.bind(this)},h.a.createElement("div",{className:xe.a.SocialportalChangeDpt},_.h.getI18NValue("support.social.ticket.choosedep")),h.a.createElement(Te.a,{size:"Small",id:"dep_dwm_"+a,selectedValue:n,options:o,valueField:"id",textField:"value",onChange:s.handleDeptChange}),h.a.createElement("div",{className:xe.a.SocialportalChangeButton},h.a.createElement(L.a,{dataId:"newpost_add",palette:"secondary",size:"medium",type:"type9",text:_.h.getI18NValue("support.label.cancel"),onClick:s.ticketSelectDep.bind(this,a,"convertTicketDepCancel",i)}),h.a.createElement(L.a,{dataId:"newpost_close",palette:"secondary",size:"medium",type:!0===f?"type9":"buType20",text:_.h.getI18NValue("support.social.feed.convert"),className:!0===f?"":l,onClick:!1===f?s.ticketSelectDep.bind(this,a,"ticketConvert",i):this.preventClick.bind(this)})))}}]),t}(h.a.Component);Be.propTypes={feedData:g.a.object,classForFeed:g.a.string,feedsAs:g.a.string,clickPost:g.a.func,feedsActions:g.a.func,crntFeedLen:g.a.number,select:g.a.func,showPopup:g.a.any,isSelected:g.a.bool,listingFor:g.a.string,selectAContact:g.a.func,brandId:g.a.string,confPageAId:g.a.string,crntDepId:g.a.string,feedModify:g.a.func,selectedChannelInfo:g.a.object,selectedPostId:g.a.string,tPeekViewActions:g.a.func,isPeekView:g.a.bool,popupFeedId:g.a.string,changePopupId:g.a.func,feedId:g.a.string,feedPopupAs:g.a.string,mode:g.a.string,containerRef:g.a.object,deletePermission:g.a.bool,brandDepId:g.a.string,totalTFeedIds:g.a.object,crntSelectedFIds:g.a.object,crSelFeedTIds:g.a.object,socialPopupAction:g.a.func,feedsMode:g.a.string,SmartTDView:g.a.func,activeDepNameId:g.a.object,accessibleDepartments:g.a.array,popupCombo:g.a.object,currentDepartment:g.a.object,socialUsers:g.a.object,permissions:g.a.object};var Ve=a("./src/components/Social/ProfileInforLIComponent/ProfileInforLIComponent.module.css"),Re=a.n(Ve),Me=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.iconName,a=e.i18nKey,n=e.textVal;return h.a.createElement("li",{className:Re.a.SocialUserAddress+" "+Re.a.mb30},h.a.createElement("div",{className:Re.a.SocialUserinfo},null!=t&&h.a.createElement(V.a,{name:t,iconClass:""+Re.a.itag}),h.a.createElement(_.c,{i18NKey:a,tag:"span"})),h.a.createElement("div",{className:Re.a.Socialinfocontent+" "+(t?"":Re.a.SocialinfocontentLeft)},n))}}]),t}(h.a.Component),Le=Me;Me.propTypes={i18nKey:g.a.string,iconName:g.a.string,textVal:g.a.string};var Ke=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={dataForRender:{},loadingstem:!0,reCursor:"",recentPosts:[],mode:"info",loadRstem:!1,proError:!1,recPostError:!1,getMoreLoading:!1,refreshCall:function(){},selectedFeedId:"",popupFor:""},a.getProfileData=a.getProfileData.bind(a),a.followuser=a.followuser.bind(a),a.getRecentFeeds=a.getRecentFeeds.bind(a),a.getMoreRecentFeeds=a.getMoreRecentFeeds.bind(a),a.addToContact=a.addToContact.bind(a),a.refreshContent=a.refreshContent.bind(a),a.changePopupId=a.changePopupId.bind(a),a.modifyFeed=a.modifyFeed.bind(a),a.changeMode=a.changeMode.bind(a),a}return p()(t,e),l()(t,[{key:"modifyFeed",value:function(e,t,a,n){var o=this,i=this.state.feedsData,s=[],r="post"===this.props.channelFor?"id":"conversationId";(i=P()([],i)).map(function(a,n){(a=P()({},a))[r]===e&&(a=t),s.push(a)});var l=Object(he.w)("tickets",!1,"sing_module"),c=_.h.getI18NValue("support.social.updated"),d=_.h.getI18NValue("support.social.converted"),u=l.tickets||"Ticket",p="markSpam"===n?"support.social.ticket.single.spam.success":"support.social.feed.tkconvert.success",m="ticketUpdate"===n?[c,u]:"ticketConvert"===n?[d,u]:[],h=_.h.getI18NValue(p,m),f="ticketUpdateCancel"!==n&&a,g=this.props.setPopupStatus;a?this.setState({selectedFeed:"",feedPopupAs:"",allowPop:!1},function(){g(!1),o.props.feedsActions("modify",s,f,h)}):this.props.feedsActions("modify",s,f,h)}},{key:"changePopupId",value:function(e,t,a){e=!0===a?e:"",this.setState({selectedFeedId:e,popupFor:t})}},{key:"refreshContent",value:function(){this.state.refreshCall()}},{key:"addToContact",value:function(){if(!this.props.permissions.havecreateContactsPermission){var e={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("crm.security.error"),IconCode:115};c.props.socialPopupAction(!0,e)}var t=this.props,a=t.contactInfo,n=t.channel,o=t.brandId,i=t.portalName,s=t.profileActionsChunk,r=this.state.dataForRender,l=a.id,c=this;s.addSocialUserToContact(i,o,l,n).then(function(e){var t=P()({},e);if(null!=t&&null!=t.fullName)(r=P()({},r)).contactInfo=t,c.setState({dataForRender:r,mode:"info"},function(){var e={id:(new Date).getTime(),nftnType:1,nftnText:_.h.getI18NValue("support.social.contact.add.success"),IconCode:115};c.props.socialPopupAction(!0,e)});else{var a={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.contact.add.fail"),IconCode:115};c.props.socialPopupAction(!0,a)}},function(e){var t={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.contact.add.fail"),IconCode:115};c.props.socialPopupAction(!0,t)})}},{key:"followuser",value:function(e,t,a){var n=this.props,o=n.brandId,i=n.channel,s=n.portalName,r=n.profileActionsChunk,l=this.state.dataForRender,c=!1===t?"follow":"unFollow",d=this,u={nftnType:2,nftnText:!1==!t?"support.social.feed.twitter.unfollow.fail":"support.social.feed.twitter.follow.fail",IconCode:117};r.followTwitterAccount(s,o,e,c).then(function(e){if(null!=e.status&&"success"===e.status){l=P()({},l);var n=P()({},l.data),o=P()({},n[i][0]);o.following=!t;var s=+o.followers_count;o.followers_count=!0===t?s-1:s+1,n[i][0]=o,l.data=n;var r=!1==!t?"support.social.feed.twitter.unfollow.desc":"support.social.feed.twitter.follow.desc";r=_.h.getI18NValue(r,a),d.setState({dataForRender:l},function(){var e={id:(new Date).getTime(),nftnType:1,nftnText:r,IconCode:117};d.props.socialPopupAction(!0,e)})}else u.id=(new Date).getTime(),d.props.socialPopupAction(!0,u)},function(e){u.id=(new Date).getTime(),d.props.socialPopupAction(!0,u)})}},{key:"getMoreRecentFeeds",value:function(){var e=this,t=this.props,a=t.proId,n=(t.channel,t.brandId),o=t.contactInfo.name;this.setState({getMoreLoading:!0},function(){e.getRecentFeeds(n,a,o,!0)})}},{key:"getRecentFeeds",value:function(e,t,a,n){var o=this,i=this.state,s=i.recentPosts,r=i.reCursor,l=this.props,c=l.portalName,d=l.profileActionsChunk;r=!1===n?void 0:r,d.getProfileTimeLine(c,e,t,r).then(function(i){var r=i.data;if(!0!==r.apiError){var l=r.cursor,c=r.data||[];n&&(c=(s=P()([],s)).concat(c)),0!==c.length?o.setState({reCursor:l,recentPosts:c,loadRstem:!1,recPostError:!1,getMoreLoading:!1,refreshCall:function(){}}):o.setState({reCursor:"",recentPosts:[],loadRstem:!1,recPostError:!0,getMoreLoading:!1,refreshCall:function(){}})}else o.setState({loadRstem:!1,recPostError:!0,getMoreLoading:!1,refreshCall:function(){o.getRecentFeeds(e,t,a,n)}})},function(i){o.setState({loadRstem:!1,recPostError:!0,getMoreLoading:!1,refreshCall:function(){o.getRecentFeeds(e,t,a,n)}})})}},{key:"getProfileData",value:function(e,t,a,n){var o=this,i=this.props,s=i.portalName;i.profileActionsChunk.getProfile(s,e,t,a,n).then(function(e){var t=e.data;!0!==e.apiError?"failure"===t.status?o.setState({dataForRender:{},loadingstem:!1,proError:!0}):o.setState({dataForRender:t,loadingstem:!1,proError:!1}):o.setState({dataForRender:{},loadingstem:!1,proError:!0})},function(e){o.setState({dataForRender:{},loadingstem:!1,proError:!0})})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.proId,a=e.channel,n=e.brandId,o=e.contactInfo.name;this.getProfileData(a,n,t,o)}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.proId,n=e.proId,o=e.contactInfo,i=e.brandId,s=e.channel;a!=n&&this.setState({dataForRender:{},loadingstem:!0,reCursor:"",recentPosts:[],mode:"info",loadRstem:!1,proError:!1,recPostError:!1,getMoreLoading:!1,refreshCall:function(){}},function(){t.getProfileData(s,i,n,o.name)})}},{key:"changeMode",value:function(e,t){var a=this;this.setState({mode:e,loadRstem:!0},function(){if("recentPosts"===e){var t=a.props,n=t.brandId,o=t.proId,i=t.contactInfo.name;if(0===a.state.recentPosts.length)return void a.getRecentFeeds(n,o,i);a.setState({loadRstem:!1,recPostError:!1})}})}},{key:"render",value:function(){var e=this.props,t=e.channel,a=e.contactInfo,n=e.selectedChannelInfo,o=e.brandId,i=e.proId,s=e.brandDepId,r=e.permissions,l=e.confPageAId,c=e.crntDepId,d=e.currentDepartment,u=e.socialUsers,p=e.accessibleDepartments,m=e.activeDepNameId,f=a.name,g=a.id,v=this.state,b=v.loadingstem,w=v.dataForRender,y=v.mode,S=v.recentPosts,k=v.reCursor,C=v.loadRstem,I=v.proError,E=v.recPostError,D=v.getMoreLoading,N=v.selectedFeedId,x=function(){return h.a.createElement(ve.a,{componentFor:"profileDetail",feedsAs:t,emptyCompoentCode:119})};if(I)return x();var P=w.data,T=w.contactInfo,A=void 0,F=void 0,O=void 0,B=void 0,j=void 0,V=void 0,M=void 0,K=void 0,H=void 0,U=void 0,W={},q=void 0,Z=void 0,G=void 0;null!=P&&null!=P[t]&&(G=(W=P[t][0]).error,A=W.followers_count,F=W.friends_count,O=W.statuses_count,H=W.favourites_count,U=W.following,Z=W.screen_name||f);if(g!=i&&(f=(a=null!=P?W:{}).name||"",g=a.id),null!=G)return x();var Y=a.href,J="facebook"===t?"https://www.facebook.com/"+g:"https://twitter.com/"+f,Q=n.id,$=this;null!=T&&(B=T.crmContactType,j=T.mobile,T.createdBy,V=T.email,K=T.state,T.fullName,q=T.createdTime,M="nivetha testing");var ee=void 0,te=S.length;"recentPosts"===y&&0!=te&&(ee=S.map(function(e,a){var i=e.id,f="repost"+i;return h.a.createElement(ze,{key:f,feedId:i,feedsAs:t,listingFor:"post",feedModify:$.modifyFeed,clickPost:function(){},classForFeed:"isNotHovered",selectAContact:function(){},feedData:e,feedsActions:$.props.feedsActions,selectedPostId:"",selectedChannelInfo:n,brandId:o,tPeekViewActions:function(){},isPeekView:!1,confPageAId:l,crntDepId:c,popupFeedId:N,changePopupId:$.changePopupId,feedPopupAs:"",deletePermission:!1,mode:"listPost",containerRef:{},brandDepId:s,totalTFeedIds:[],crntSelectedFIds:[],isSelected:!1,select:function(){},crntFeedLen:te,socialPopupAction:$.props.socialPopupAction,openConfirmBox:function(){},feedsMode:"all",SmartTDView:function(){},accessibleDepartments:p,activeDepNameId:m,currentDepartment:d,teamsList:[],socialUsers:u,permissions:r})}));var ne="facebook"===t?"ZD-socialFb":"ZD-socialTwitter",oe=Object(ue.g)(f),ie=(h.a.createElement(z.a,{src:Y,name:oe,shape:"circle",size:"large",palette:"info"}),!0===U?"support.social.feed.twitter.unfollow":"support.social.feed.twitter.follow");ie=_.h.getI18NValue(ie);var se=Object(ue.d)("SocialFullViewProfile"),re="facebook"===t?f:Z,le="twitter"===t&&(void 0===O||void 0===F||void 0===A||void 0===H),ce="facebook"===t?"fbIconWrapperClass":"twiIconWrapperClass";return h.a.createElement("div",{className:Ie.a[se],"data-id":"userProfileWrapper"},!1===b&&null!=P?h.a.createElement("div",null,h.a.createElement("div",{className:Ie.a.SocialNewUsrPrfle},h.a.createElement("div",{className:Ie.a.SocialUserProfile},h.a.createElement("div",{className:Ie.a.SocialUserPhoto},h.a.createElement(De.a,{iconName:ne,iconclassName:Ie.a.floaticn,imageSrc:Y,imageText:oe,imageSize:"large",iconWrapperStyle:Ie.a[ce]})),h.a.createElement("div",{className:Ie.a.SocialUserProfileName},h.a.createElement("div",null,h.a.createElement("span",null,f),h.a.createElement("div",{className:Ie.a.pname+" "+Ie.a["facebook"===t?"fbclr":"twiclr"]},"@",h.a.createElement("a",{href:J,className:Ie.a["facebook"===t?"fbclr":"twiclr"],target:"_blank"},re))))),"twitter"===t&&1!=le&&h.a.createElement("div",{className:Ie.a.SocialUserFollowbody},h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:Ie.a.SocialUserFollowing},h.a.createElement("span",{className:Ie.a.infotitleText},h.a.createElement(_.c,{i18NKey:"support.social.filter.tweets",tag:"p"}),h.a.createElement("span",{className:Ie.a.infotext},O)),h.a.createElement("span",{className:Ie.a.infotitleText},h.a.createElement(_.c,{i18NKey:"support.social.twitter.following",tag:"p"}),h.a.createElement("span",{className:Ie.a.infotext},F)),h.a.createElement("span",{className:Ie.a.infotitleText},h.a.createElement(_.c,{i18NKey:"support.social.twitter.followers",tag:"p"}),h.a.createElement("span",{className:Ie.a.infotext},A)),h.a.createElement("span",{className:Ie.a.infotitleText},h.a.createElement(_.c,{i18NKey:"support.social.twitter.favorites",tag:"p"}),h.a.createElement("span",{className:Ie.a.infotext},H)))),Q!=g&&h.a.createElement("span",{className:Ie.a.TwitFollowBtn},"twitter"===t&&h.a.createElement(L.a,{id:"follow_twi_user",text:ie,type:"type8",className:Ie.a.twBtn,onClick:this.followuser.bind(this,g,U,f)}))),h.a.createElement(Ee.TabWrapper,{type:"alpha",isAnimate:!0,defaultTab:y,needPadding:!1,onSelect:this.changeMode,hookToDisableInternalState:!0},h.a.createElement(Ee.Tabs,null,h.a.createElement(Ee.Tab,{id:"info",dataId:"userprofile_info"},_.h.getI18NValue("support.social.contact.info")),"twitter"===t&&h.a.createElement(Ee.Tab,{id:"recentPosts",dataId:"userprofile_timeline"},_.h.getI18NValue("support.social.contact.timeline"))),h.a.createElement(Ee.TabContentWrapper,null,h.a.createElement(Ee.TabContent,{id:"info"},h.a.createElement("div",{className:Ie.a.SocialUserAddressDiv},null!=T?h.a.createElement("div",null,h.a.createElement("ul",null,h.a.createElement("li",{className:Ie.a.SocialinfoTitles},_.h.getI18NValue("support.social.contact.crminfo")),h.a.createElement(Le,{iconName:"ZD-crmType",i18nKey:"support.social.contact.type",textVal:function(e){var t="";switch(e){case"1":t="customer";break;case"2":t="potential";break;case"3":t="contact";break;case"4":t="lead";break;case"5":t="Lost Contact";break;case"34":t="contacts_lead";break;default:t="unmapped"}return t}(B)}),"null"!=V&&""!=V&&null!=V&&h.a.createElement(Le,{iconName:"ZD-messageBox",i18nKey:"support.social.contact.email",textVal:V}),null!=j&&"null"!=j&&h.a.createElement(Le,{iconName:"ZD-mobile",i18nKey:"support.social.contact.moblie",textVal:j}),"null,null"!=K&&null!=K&&h.a.createElement(Le,{iconName:"ZD-location",i18nKey:"support.social.contact.location",textVal:K})),null!=f&&h.a.createElement("ul",null,h.a.createElement("li",{className:Ie.a.SocialinfoTitles},_.h.getI18NValue("support.social.contact.chlinfo")),h.a.createElement(Le,{iconName:"ZD-"+t,i18nKey:_.h.getI18NValue("facebook"===t?"support.setup.label.facebook":"support.setup.label.twitter"),textVal:f})),h.a.createElement("ul",{className:Ie.a.SocialOtherinfo},h.a.createElement("li",{className:Ie.a.SocialinfoTitles},_.h.getI18NValue("support.social.contact.otherinfo")),h.a.createElement(Le,{i18nKey:"support.social.contact.contactowner",textVal:M}),h.a.createElement(Le,{i18nKey:"support.social.contact.contactcreated",textVal:Object(ue.f)(q)}))):h.a.createElement(ve.a,{componentFor:"noProfile",feedsAs:t,refreshContent:this.addToContact,emptyCompoentCode:121}))),h.a.createElement(Ee.TabContent,{id:"recentPosts"},h.a.createElement("div",{className:Ie.a.SocialUserAddressDiv},!1===C?0===te?!1===E?"user has no tweets":h.a.createElement(ve.a,{componentFor:"retweetslist",feedsAs:t,emptyCompoentCode:109}):h.a.createElement("span",null,ee):h.a.createElement(X.d,{loadingFor:"listFeeds",animateCount:"6"}),0!=te&&!0===E&&h.a.createElement(ae,{errorCode:101,toRetry:!0,reAssemble:this.refreshContent,styleClass:Ie.a.timelineerror}),null!=k&&"string"==typeof k&&""!=k&&!1===E&&h.a.createElement("div",{className:Ie.a.TwitterLoadMoreDiv},te<=79?!0===D?h.a.createElement(X.d,{loadingFor:"listFeeds",animateCount:"1"}):h.a.createElement("span",{className:Ie.a.TwitterLoadMore,"data-id":"userprofile_repost_more",onClick:this.getMoreRecentFeeds},_.h.getI18NValue("support.social.twitter.profile.gettweets")):h.a.createElement(_.c,{i18NKey:"support.social.twitter.profile.checktwitter",tag:"span"}))))))):!0===b?h.a.createElement(X.f,{loadingFor:"profile",animateCount:"2"}):h.a.createElement(ve.a,{componentFor:"profileDetail",feedsAs:t,emptyCompoentCode:119}))}}]),t}(h.a.Component),He=Ke;Ke.propTypes={accessibleDepartments:g.a.array,activeDepNameId:g.a.object,brandDepId:g.a.string,brandId:g.a.string,channel:g.a.string,channelFor:g.a.string,confPageAId:g.a.string,contactInfo:g.a.object,crntDepId:g.a.string,currentDepartment:g.a.object,dataForRender:g.a.object,feedsActions:g.a.any,permissions:g.a.object,portalName:g.a.string,proId:g.a.string,profileActionsChunk:g.a.object,selectedChannelInfo:g.a.object,setPopupStatus:g.a.func,socialPopupAction:g.a.func,socialUsers:g.a.object};var Ue=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/typeof.js"),We=a.n(Ue),qe=a("./src/components/Social/MessageConatiner/MessageConatiner.module.css"),Ze=a.n(qe),Ge=a("./src/components/Social/MessageContactHeader/MessageContactHeader.css"),Ye=a.n(Ge),Je=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.profileClick=a.profileClick.bind(a),a}return p()(t,e),l()(t,[{key:"profileClick",value:function(e){var t=this.props,a=t.convId,n=t.ticketId,o=t.receiverId,i=t.channel;this.props.profileClick(a,n,o,i,e)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.ticketId,n=e.href,o=e.userToViewTicket,i=e.ticketLink,s=e.ticketNumber,r=e.accountName,l=e.isNewReceived,c=e.convId,d=e.receiverId,u=e.channel,p=e.accessibleDepts,m=e.ticketDepId;return h.a.createElement(R.Container,{alignBox:"row"},h.a.createElement("div",null,h.a.createElement(z.a,{src:n,name:Object(ue.g)(t),shape:"circle",size:"xmedium"})),h.a.createElement(R.Box,{flexible:!0,className:Ye.a.SocialDedailsDiv},h.a.createElement("div",{className:Ye.a.posrel},h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement(re.a,{target:"_blank",className:Ye.a.SocialDedailtopatag,dataTestid:"profile_name",onClick:this.profileClick.bind(this,c,a,d,u)},t)),null!=a&&h.a.createElement("span",null,!0===o&&-1!=p.indexOf(m)?h.a.createElement(re.a,{className:Ye.a.NewTapTicket,href:i},h.a.createElement(V.a,{iconClass:Ye.a.NewTapTicketIcon,name:"ZD-ticketNewTab"}),s):h.a.createElement("span",{className:Ye.a.depidnoaccess},"#",s)," ")),h.a.createElement("span",{className:Ye.a.SocialDedailMessage},_.h.getI18NValue("support.social.conversations.dview.desc",r))),!0===l&&h.a.createElement("div",{"data-id":"new_cmt_pop",className:Ye.a.posab},h.a.createElement("div",{className:Ye.a.newtktcnt},_.h.getI18NValue("support.social.new")))))}}]),t}(m.Component),Qe=Je;Je.propTypes={accountName:g.a.string,channel:g.a.string.isRequired,convId:g.a.string,href:g.a.string,isNewReceived:g.a.bool,name:g.a.string,receiverId:g.a.string,ticketId:g.a.string,ticketLink:g.a.string,ticketNumber:g.a.string,userToViewTicket:g.a.bool};var Xe=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={messagingData:[],sortedData:[],cursorData:{},messageText:"",stemLoading:!0,isGetCall:!1,msgOnsend:!1,viewImagePreview:!1,viewImageData:[],sImageId:"",attachView:"1",attachedFilesArray:[],attachedData:[],isAttachable:!0,fetchError:!1,isNewData:{isNewReceived:!1,newData:[]},scrollLoading:!1,focusBox:!0},a.scrollEvent=a.scrollEvent.bind(a),a.handelMessaging=a.handelMessaging.bind(a),a.getMessagingData=a.getMessagingData.bind(a),a.addMsg=a.addMsg.bind(a),a.makeResend=a.makeResend.bind(a),a.attachFiles=a.attachFiles.bind(a),a.attachmentPreview=a.attachmentPreview.bind(a),a.removeAttachment=a.removeAttachment.bind(a),a.getAttachEle=a.getAttachEle.bind(a),a.loadMsg=a.loadMsg.bind(a),a.addWindowMethod=a.addWindowMethod.bind(a),a.getSortedData=a.getSortedData.bind(a),a.focusMsg=a.focusMsg.bind(a),a.blurMsgbox=a.blurMsgbox.bind(a),a.profileClick=a.profileClick.bind(a),a.handleReceivedData=a.handleReceivedData.bind(a),a}return p()(t,e),l()(t,[{key:"focusMsg",value:function(){var e=this;!0!==this.state.isNewData.isNewReceived?this.setState({focusBox:!0}):this.setState({isNewData:{isNewReceived:!1,newData:[]},focusBox:!0},function(){e.scrollDiv.scrollTop=e.scrollDiv.scrollHeight})}},{key:"blurMsgbox",value:function(){this.setState({focusBox:!1})}},{key:"loadMsg",value:function(e,t){var a=e.convId,n=e.brandId,o=e.channel,i="facebook"===o?"facebookConversations":"twitterConversations",s=Object(he.B)()+"/v1/socialBrands/"+n+"/"+i+"/"+a+"/messages";if(!0===t);this.getMessagingData(s,!1)}},{key:"attachFiles",value:function(e){var t=this,a=this.state,n=a.attachedData,o=a.attachedFilesArray,i=a.isAttachable,s=this.props,r=s.channel,l=s.cmtBoxCombo,c=e.target.files,d=Object(ue.a)({attachedData:n,attachedFilesArray:o,limit:1,files:c}),u=d.attachedData,p=d.attachedFilesArray;this.setState({attachedData:u,attachedFilesArray:p},function(){if(u.length>0&&l.changeCommentBox(!0),u.length<1&&("twitter"===r||"facebook"===r&&!0===i)&&(t.mattachFile.value=""),d.showPop){var e={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.attach.limiterror")};t.props.socialPopupAction(!0,e)}})}},{key:"getSortedData",value:function(e){var t=P()([],e);return t.sort(function(e,t){var a=new Date(e.createdTime);return new Date(t.createdTime)-a}),t.reverse()}},{key:"removeAttachment",value:function(e,t){t.stopPropagation();var a=this.state,n=a.attachedData,o=a.attachedFilesArray,i=a.messageText,s=this.props.cmtBoxCombo,r=Object(ue.l)({attachedData:n,attachedFilesArray:o,aId:e}),l=r.attachedData,c=r.attachedFilesArray;this.setState({attachedData:l,attachedFilesArray:c},function(){0===l.length&&0===i.length&&s.changeCommentBox(!1)})}},{key:"scrollEvent",value:function(e,t){var a=this,n=t.currentTarget.scrollTop,o=this.props,i=o.brandId,s=o.convId,r=o.channel,l=this.state.cursorData["twitter"===r?"c_cursor":"offset"];if(0===n&&null!=l||!0===e){var c=this;this.setState({scrollLoading:!0},function(){var e=a.state,t=e.cursorData,n=e.messagingData,o=A()(t),l="facebook"===r?"facebookConversations":"twitterConversations",d=Object(he.B)()+"/v1/socialBrands/"+i+"/"+l+"/"+s+"/messages?cursor="+encodeURIComponent(o);a.props.getMessageData(d,s,r,o).then(function(e){var t=e.data,a=t.resData||{};if(null!=c.mountMsgId){if(t.apiError){var o={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.unable.to.process.your.request")};return c.props.socialPopupAction(!0,o),void c.setState({scrollLoading:!1})}n=P()([],n);var i=a.data||[],s=(i=i.reverse()).concat(n),r=a.cursor,l=[];s.map(function(e,t){var a=e.attachments,n=e.author,o=[];null!=a&&0!=a.length&&(a.map(function(e){(e=P()({},e)).author=n,o.push(e)}),l=l.concat(o))}),r=void 0===r?{}:r;var d=0===i.length,u=c.getSortedData(s);c.setState({messagingData:s,sortedData:u,cursorData:r,viewImageData:l,fetchError:d,scrollLoading:!1},function(){if(!d){var e=i.length-1,t=c["topRef"+e],a=t.offsetHeight;c.scrollDiv.scrollTop=t.offsetTop-a}})}},function(e){null!=c.mountMsgId&&c.setState({fetchError:!0,scrollLoading:!1},function(){var e={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror")};c.props.socialPopupAction(!0,e)})})})}}},{key:"handelMessaging",value:function(e,t){var a=this.state.attachedFilesArray;if("click"==e)this.addMsg(this.state.messageText,a,!0);else{var n=this.props.cmtBoxCombo,o=0===t.length;this.setState({messageText:t,isAttachable:o});var i=0!==a.length||!o;n.changeCommentBox(i)}}},{key:"addMsg",value:function(e,t,a,n){var o=this,i=this.state,s=i.msgOnsend,r=i.messagingData,l=i.messageText,c=i.attachedData,d=i.viewImageData;if(e=e.trim(),!s)if(""!==e||0!==t.length)if(e.length>1e3)this.setState({msgOnsend:!1},function(){var e={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.feed.text.limitexceed")};o.props.socialPopupAction(!0,e)});else{var u=e,p=this.props,m=p.brandId,h=p.convId,f=p.channel,g=p.contactInfo,v=p.selectedChannelInfo,b=p.cmtBoxCombo,w=p.channelId,y="facebook"===f?"facebookConversations":"twitterConversations",S=g.id,k=this,C=!0===a?[]:0!=c.length?t:[],I=!0===a?[]:c,E=""===l||!(c.length>0)&&a;null!=this.mountMsgId&&this.setState({msgOnsend:!0,attachedFilesArray:C,attachedData:I,isAttachable:E});t.length;var D=0!=t.length?t:"",N=Object(he.B)()+"/v1/socialBrands/"+m+"/"+y+"/"+h+"?message="+encodeURIComponent(u)+"&receiverId="+S,x={attchedStateData:t,cTextData:u,contactInfo:g,selectedChannelInfo:v};this.props.addNewMessage(N,f,w,h,D,x).then(function(e){var o=e.data,i=o.msgRes||{},s=i.error,c=o.apiError;if(b.changeCommentBox(!1),void 0===s&&void 0===c){r.length;if(i.conversationId===k.mountMsgId){r=P()([],r),"twitter"===f&&(i.author=v,i.to=g),i.resend=!1;i.attachments;if(void 0===n){r.push(i),null!=p&&(d=P()([],d),p.map(function(e){(e=P()({},e)).author=i.author,w.push(e)}),d=d.concat(w)),i.resend=!1;var p=i.attachments,w=[];if(void 0===n)r.push(i),null!=p&&(d=P()([],d),p.map(function(e){(e=P()({},e)).author=i.author,w.push(e)}),d=d.concat(w));else if(null!=n){var y=[];r.map(function(e,t){var a=e;e.id===n&&(a=i),y.push(a)}),r=y}}var S=function(){k.props.actionsOnPost("message",h,m,!1,i)};if(null!=k.mountMsgId&&i.conversationId===k.mountMsgId){var C=k.getSortedData(r);k.setState({messagingData:r,sortedData:C,messageText:"",msgOnsend:!1,viewImageData:d,focusBox:!0},function(){var e=k.scrollDiv,t=e.scrollHeight;e.scrollTop=t,S()})}else void 0!==k.mountMsgId&&i.conversationId==k.mountMsgId||S()}else!function(e,o,i){if(null!=n){var s=[];r.map(function(e,t){var a=P()({},e);e.id===n&&(a.resend=!0,a.resendLoad=!1),s.push(a)}),r=s}else{var c={};c.author=v,c.createdTime=new Date,c.id=(new Date).getTime(),c.message=u,c.to=g,c.resend=!0,c.resendLoad=!1,c.attachments=t;for(var p=[],m=0,h=t.length;m<h;m++){var f=t[m],b=URL.createObjectURL(f),w={id:(new Date).getTime()+m,href:b,type:"photo"};w.auhtor=v,p.push(w)}c.attachmentsTem=p,(r=P()([],r)).push(c),0!=p.length&&(d=(d=P()([],d)).concat(p))}var y=!0===a?"":l,S=function(){var e={id:(new Date).getTime(),nftnType:2,nftnText:o,IconCode:!0===i?116:101};k.props.socialPopupAction(!0,e)};if(null!=k.mountMsgId&&e===k.mountMsgId){var C=k.getSortedData(r);k.setState({messagingData:r,sortedData:C,messageText:y,msgOnsend:!1,viewImageData:d,focusBox:!0},function(){var e=k.scrollDiv.scrollHeight;k.scrollDiv.scrollTop=e,S()})}void 0!==k.mountMsgId&&e==k.mountMsgId||S()}(h,s,!0)}})}else this.setState({msgOnsend:!1},function(){})}},{key:"makeResend",value:function(e,t,a){var n=this,o=this.state,i=o.sortedData,s=o.attachedData;if(!o.msgOnsend){var r=i.length,l=void 0,c=[],d=[];if(0!=r||0!=s.length){new Date;i.filter(function(t,a){(t=P()({},t)).id===e&&(l=t.message,d=t.attachments,t.resendLoad=!0),c.push(t)});var u=this.getSortedData(c);this.setState({messagingData:c,sortedData:u},function(){if("send"===t){var a=document.createElement("div");a.innerHTML=l;var o=a.innerText;n.addMsg(o,d,!1,e)}})}}}},{key:"handleReceivedData",value:function(e,t){var a=this;if(null!=this.mountMsgId){e=e.reverse();var n=!0===t?{}:this.state.cursorData,o=[],i=!1;e.map(function(e,t){var a=e.attachments,n=e.author,s=[];null!=a&&0!=a.length&&(a.map(function(e){(e=P()({},e)).author=n,s.push(e)}),o=o.concat(s),i=!0)});var s=this.getSortedData(e);this.setState({messagingData:e,sortedData:s,cursorData:n,stemLoading:!1,viewImageData:o,fetchError:!1},function(){if(t){var e=a.scrollDiv,n=e.scrollHeight;if(e.scrollTop=n,i){setTimeout(function(){var t=e.scrollHeight;t!=n&&(e.scrollTop=t)},1e3)}}t&&a.loadMsg(a.props,!0)})}}},{key:"getMessagingData",value:function(e,t){var a=this,n=this,o=this.state.isGetCall,i=this.props,s=i.convId,r=i.getMessageData,l=i.channel;o||this.setState({isGetCall:!0},function(){r(e,s,l).then(function(e){n.testVar="called";var t=e.data;if(!0!==t.apiError){var o=t.resData||{},i=o.cursor||{},s=o.data||[],r=!1;s.map(function(e,t){var a=e.attachments;e.author;null!=a&&0!=a.length&&(r=!0)}),n.setState({stemLoading:!1,isGetCall:!1,cursorData:i},function(){var e=a.scrollDiv;if(null!=e){var t=e.scrollHeight;e.scrollTop=t}if(r){setTimeout(function(){var t=e.scrollHeight;t!=oldScrollHeight&&(e.scrollTop=t)},1e3)}})}else n.setState({stemLoading:!1,fetchError:!0},function(){var e={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror")};n.props.socialPopupAction(!0,e)})})})}},{key:"attachmentPreview",value:function(e,t,a){var n=this.state,o=n.attachView,i=n.attachedData,s=n.viewImageData;!0===e&&0===("1"===o?s:i).length||this.setState({viewImagePreview:e,sImageId:t,attachView:a})}},{key:"addWindowMethod",value:function(e){window.getNewmessages=function(t){if(null!=t&&"object"===(void 0===t?"undefined":We()(t))){var a=e.state,n=(a.newMsgs,a.messagingData),o=a.viewImageData,i=e.props,s=i.convId,r=(i.channel,i.contactInfo),l=i.selectedChannelInfo,c=i.brandId,d=i.confPageAId,u=t.conversationId,p=t.data,m=t.brandId;if(null!=u&&null!=p&&null!=p.id&&s===u&&m===c){var h=P()([],n),f=h.length,g=0===f,v=p.author,b=p.id,w=p.attachments;if(0!=f)g=n[f-1].id!=b;if(!1===g)return;var y=r.id,S=v.id,k=l;S!=y&&(k=r),p.to=k,h.push(p);var C={},I=d!==S;C.isNewReceived=I,C.newData=p;var E=e.getSortedData(h);if(n.push(t),null!=w&&0!=w.length){o=P()([],o);var D=[];w.map(function(e){(e=P()({},e)).author=v,D.push(e)}),o=o.concat(D)}e.setState({isNewData:C,messagingData:h,sortedData:E,viewImageData:o},function(){var t=e.scrollDiv,a=t.scrollHeight;e.props.actionsOnPost("message",u,m,!1,p),t.scrollTop=a;setTimeout(function(){var a="msg_"+s;!0===document.hasFocus()&&document.activeElement.id===a&&e.setState({isNewData:{isNewReceived:!1,newData:[]}},function(){t.scrollTop=t.scrollHeight})},5e3)})}}}}},{key:"componentDidMount",value:function(){var e=this.props.convId;this.mountMsgId=e,this.testVar="notYet",this.loadMsg(this.props,!0),this.addWindowMethod(this)}},{key:"componentWillUnmount",value:function(){this.mountMsgId=void 0}},{key:"componentWillReceiveProps",value:function(e){var t=e.convId,a=(e.brandId,e.messagingData),n=(e.channel,this.props.convId),o=this.state,i=o.focusBox,s=o.fetchError,r=o.isGetCall,l=this,c=function(n){var o=a.convMsgMaps||{},i=a.messages||[],s=o[t]||[];if(0!==s.length){var r=[];s.map(function(e){r.push(i[e])}),l.handleReceivedData(r,n)}else l.loadMsg(e,!0)};if(n!=t)this.mountMsgId=t,this.setState({isNewData:{isNewReceived:!1,newData:[]},stemLoading:!0,attachedFilesArray:[],attachedData:[],isAttachable:!0,messageText:"",msgOnsend:!1,focusBox:!0},function(){c(!0)});else{if(!1===i)return void this.setState({focusBox:!0},function(){c(!1)});var d=!0!==s&&!1!==r;this.setState({stemLoading:d},function(){c()})}}},{key:"profileClick",value:function(e,t,a,n){this.props.selectInpost(e,t,a,n,"profile")}},{key:"getAttachEle",value:function(e,t,a){var n=[],o=this;return 0!=e.length&&e.filter(function(e,i){var s=e.href,r=e.id;a+=1,"1"===t?n.push(h.a.createElement("span",{className:Ze.a.attachspan,key:"attchment_"+a,"data-id":"attchment_"+a,onClick:o.attachmentPreview.bind(this,!0,a,t)},h.a.createElement(se,{href:s,styleClass:Ze.a.imageDiv}))):n.push(h.a.createElement("span",{key:i,className:Ze.a.upldboxes,"data-id":"newpost_close_attach"+i,onClick:o.attachmentPreview.bind(this,!0,i,t)},h.a.createElement("div",{className:Ze.a.fileclose+" "+Ze.a.tal,"data-id":"newpost_attach_close"+i,onClick:o.removeAttachment.bind(this,r)},h.a.createElement(V.a,{name:"ZD-socialClose",iconClass:Ze.a.iconclosee})),h.a.createElement(se,{href:s,styleClass:Ze.a.imagePreview})))}),"2"===t?n:{attachEle:n,msgCount:a}}},{key:"render",value:function(){var e=this,t=this.props,a=t.convId,n=t.contactInfo,o=t.confPageAId,i=t.selectedChannelInfo,s=t.channel,r=t.feedData,l=t.accessibleDepts,c=t.permissions,d=this.state,u=d.messageText,p=d.stemLoading,m=d.cursorData,f=d.sImageId,g=d.viewImageData,v=d.viewImagePreview,b=d.attachView,w=d.attachedData,y=d.msgOnsend,S=d.isAttachable,k=d.fetchError,C=d.isNewData,I=d.scrollLoading,E=d.sortedData,D=d.focusBox,N=C.isNewReceived,x=C.newData,P=this,T=[],A=[],F=E.length,O=-1,B={today:{key:"today",params:["hh","mm","ss"]},yesterday:{key:"yesterday",params:["hh","mm","ss"]},tomorrow:{key:"tomorrow",params:["hh","mm","ss"]},others:function(){return"hh mm A"}};if(0!=F){var j=new Date,M=void 0;E.filter(function(e,t){var a=e.author,n=e.createdTime,i=e.message,r=e.id,l=e.attachments,c=e.resend,d=e.attachmentsTem,u=e.resendLoad;"facebook"===s&&(i=Object(ue.h)(i));var p=Object(ue.e)(n,B,"ago","later",!1,function(){return"YYYY MM DD"}),f=Object(ue.e)(j,B,"ago","later",!1,function(){return"YYYY MM DD"}),g=Object(ue.j)(n,j),v=!1;if(-1===A.indexOf(p)){A.push(p),!1;var b=Object(ue.e)(n,B,"ago","later",!1,function(){return"DD MMM YYYY"}),w=!0===g?"Yesterday":f===p?"Today":b;T.push(h.a.createElement("div",{key:"chatDayString_"+p,className:Ze.a.SocialFullViewMessageConversationTime},w))}if(""!=i||""===i&&null!=l&&0!=l.length){var y=a.name,S=a.href,k=void 0,C=a.id,I=E[t+1],D=null!=I?I.author.id:"-1",_=null!=I?I.createdTime:new Date,V=Object(ue.e)(_,B,"ago","later",!1,function(){return"YYYY MM DD"});-1===A.indexOf(V)&&(v=!0),"-1"!=D&&I.href;if(M!=C&&(!1,M=C),null!=l&&0!=l.length){c&&null!=d&&(l=d);var L=P.getAttachEle(l,"1",O);k=L.attachEle,O=L.msgCount}var K=C!=o?"SocialFullViewMessageConversationLeft":"SocialFullViewMessageConversationRight",H=Object(ue.e)(n,B,"ago","later",!1,function(){return"h:mm A"}),U=(void 0===m||m["twitter"===s?"c_cursor":"offset"],"topRef"+t),W=D!=C||!0===v;W="-1"===D||W;var q=!0===N&&r===x.id||t===F-1&&!1===c?void 0===E[t+1]?"msgconversationlinew":"msgconversationlinewsort":!0===W?"msgconversationlisameuser":"msgconversationli",Z=!0===c?"msgResendTextDiv":"msgsendTextDiv",G=Object(ue.g)(y);T.push(h.a.createElement(R.Container,{tagName:"li",isCover:!1,alignBox:"row",key:t,dataId:"msgEle_"+r,eleRef:function(e){return P[U]=e},className:Ze.a[q]+" "+Ze.a[K]+" "+Ze.a[Z]},!0===W&&h.a.createElement("div",{className:Ze.a.SocialUserPhoto},h.a.createElement(z.a,{src:S,name:G,shape:"circle",size:"xsmall"})),h.a.createElement("div",{className:Ze.a.SocialFullViewMessageTxt},null!=l&&0!=l.length&&h.a.createElement("ul",{className:Ze.a.messageUl},h.a.createElement("li",null,h.a.createElement("div",{className:Ze.a.SocialDedailImgDiv},k),h.a.createElement("span",{className:Ze.a.texttime},H))),""!=i&&h.a.createElement("div",{className:Ze.a.msgtextDiv},h.a.createElement("div",{className:Ze.a.messgeviewdiv,dangerouslySetInnerHTML:{__html:i}}),h.a.createElement("span",{className:Ze.a.texttime},H))),!0===c?!0===u?h.a.createElement("div",{className:Ze.a.svLoadNewDiv},h.a.createElement("div",{className:Ze.a.spinloading})):h.a.createElement("span",{"data-id":"resend_"+r,onClick:P.makeResend.bind(this,r,"send")},h.a.createElement("svg",{className:Ze.a.SocialsvgIcon+" "+Ze.a.MsgResendIcon},h.a.createElement("use",{xlinkHref:"#MsgResend"}))):""))}})}!0===k&&!1===I&&(0!=E.length?T.unshift(h.a.createElement(ae,{errorCode:104,toRetry:!0,reAssemble:P.scrollEvent.bind(this,!0)})):T.unshift(h.a.createElement(ve.a,{key:"empty_error",componentFor:"emptynofeed",feedsAs:s,emptyCompoentCode:123})));var L=n.name,K=n.href,H=i.name,U=i.href,W=Object(ue.g)(H),q=[];0!=w.length&&(q=this.getAttachEle(w,"2"));var Z=u.length,G=(0!==Z||!0!==S||0!==w.length)&&!1!==S,Y=1e3-Z,J=r.ticket||{},$=J.id,ee=J.ticketNumber,te=J.departmentId,ne="Cases/dv/"+J.encryptedTicketId,oe=n.id;"facebook"===s&&(oe=n.id);var ie=!1===(0!=w.length||0!=u.length)?"facebook"===s?"sendIconfb":"sendIcontwitter":"facebook"===s?"sendIconcolorfb":"sendIconcolortwitter",se=c.haveViewPermission,re=w,le="type2";"1"===b&&(re=g,le="type3");var ce=Object(ue.d)("SocialFullViewMessageCon");return h.a.createElement("div",{className:Ze.a.container,"data-id":"messageConatinerWrapper"},!0===p?h.a.createElement("div",null,h.a.createElement(X.e,{loadingFor:"message",animateCount:"0"})):h.a.createElement(R.Container,null,h.a.createElement("div",{className:Ze.a.SocialFullViewMessageHead},!0===v&&h.a.createElement(me,{selectedAId:f,isSupportimage:!1,type:le,attData:re,closeViewAttach:this.attachmentPreview.bind(this,!1,"","1")}),h.a.createElement(Qe,{name:L,convId:a,ticketId:$,receiverId:oe,href:K,channel:s,userToViewTicket:se&&-1!=l.indexOf(te),ticketLink:ne,ticketNumber:ee,accountName:H,isNewReceived:N,accessibleDepts:l,ticketDepId:te})),h.a.createElement(R.Box,{flexible:!0,scroll:"vertical",className:Ze.a[ce],onScroll:this.scrollEvent.bind(this,!1),eleRef:function(t){e.scrollDiv=t}},h.a.createElement("ul",{className:Ze.a.SocialFullViewMessageConversation},!0===I&&h.a.createElement(X.e,{loadingFor:"moremsg",animateCount:"1"}),T)),h.a.createElement("div",{className:Ze.a.footer,"data-id":"addMsgfooter"},h.a.createElement("div",{className:Ze.a.textAreaUserPhoto},h.a.createElement(z.a,{src:U,name:W,shape:"circle",size:"xsmall"}),h.a.createElement("div",{className:Ze.a.msglen+" "+Ze.a[Y<0?"msglenerr":"msglendef"]},1e3!=Y&&h.a.createElement("span",{title:_.h.getI18NValue("support.social.tooltip.replycount")},Y))),h.a.createElement(Q,{idenId:"msg_"+a,cmtText:u,mode:"message",addReplycomment:this.handelMessaging,isNewLineAllowed:!0,enableMentions:!1,isfocus:D,focusAction:this.focusMsg,blurAction:this.blurMsgbox,isDisabled:"twitter"!==s&&G,placeHolder:_.h.getI18NValue("support.social.placeholder.replies"),styleClass:Ze.a.textareaTag}),w.length<1&&("twitter"===s||"facebook"===s&&!0===S)&&!1===y&&h.a.createElement("div",{className:Ze.a.SocialPostSmily},h.a.createElement("label",{htmlFor:"NewPostAttach",className:Ze.a.NewPostAttach},h.a.createElement(V.a,{name:"ZD-photoImage",size:"small",iconClass:Ze.a.camera}),h.a.createElement("input",{id:"NewPostAttach",type:"file",accept:"image/jpg, image/jpeg, image/png",ref:function(e){P.mattachFile=e},className:Ze.a.inpFile,"data-id":"newpost_addattach",onChange:this.attachFiles.bind(this)}))),!1===y?h.a.createElement("span",{className:Ze.a.SendIconDiv,"data-id":"send_msg_contact",onClick:this.handelMessaging.bind(this,"click")},h.a.createElement("svg",{className:Ze.a.SocialsvgIcon+" "+Ze.a[ie]},h.a.createElement("use",{xlinkHref:"#sendMsgIcon"}))):h.a.createElement("div",{className:Ze.a.svLoadpnt},h.a.createElement("div",{className:Ze.a.spinloading})),0!=q.length&&h.a.createElement("div",{id:"commentAttach",className:Ze.a.atchimgfle+" "+Ze.a.SocialAttachLayer},q))))}}]),t}(h.a.Component),$e=Xe;Xe.propTypes={accessibleDepts:g.a.array,actionsOnPost:g.a.func,addNewMessage:g.a.func.isRequired,brandId:g.a.string.isRequired,channel:g.a.string.isRequired,channelId:g.a.string.isRequired,cmtBoxCombo:g.a.object.isRequired,confPageAId:g.a.string.isRequired,contactInfo:g.a.object.isRequired,convId:g.a.string,feedData:g.a.object.isRequired,getMessageData:g.a.func.isRequired,messagingData:g.a.object,permissions:g.a.object.isRequired,selectInpost:g.a.func.isRequired,selectedChannelInfo:g.a.object.isRequired,socialPopupAction:g.a.func.isRequired};var et=a("./src/components/Social/Intractions/Intractions.module.css"),tt=a.n(et),at=a("./src/components/Social/IntractionFeed/IntractionFeed.module.css"),nt=a.n(at),ot=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.getIntoDetailView,a=e.authorImage,n=e.authorName,o=e.intractionText,i=e.interactKeyValue,s=e.dngClass,r=e.message,l=e.attchEle,c=e.intractionData,d=e.id,u=e.interactedTime,p=new Date(u);return h.a.createElement(R.Container,{alignBox:"row",isCover:!1,className:nt.a.SocialInteractDedail,onClick:t.bind(this,d,c)},h.a.createElement("div",{className:nt.a.SocialUserPhoto},h.a.createElement(z.a,{src:a,name:Object(ue.g)(n),shape:"circle",size:"xmedium"})),h.a.createElement("div",{className:nt.a.ml55},h.a.createElement("div",{className:nt.a.SocialInteractDedailDiv},h.a.createElement("div",{className:nt.a.SocialInteractTitle},h.a.createElement(le.a,null,h.a.createElement("span",null,h.a.createElement(V.a,{name:"ZD-fbPostPad",iconClass:nt.a.mention}),h.a.createElement(_.c,{i18NKey:o,values:[i]})),h.a.createElement(_.d,{to:p,format:function(){return"socialFormat"},ago:"ago",later:"late",titleFormat:"DD/MM/YYYY h:mm A"}))),h.a.createElement("div",{className:nt.a.SocialInteractDisc},h.a.createElement("div",{className:s,dangerouslySetInnerHTML:{__html:r}}),""!=l&&h.a.createElement("span",null,l)))))}}]),t}(h.a.Component),it=ot;ot.propTypes={attchEle:g.a.element.isRequired,authorImage:g.a.string,authorName:g.a.string,dngClass:g.a.string,getIntoDetailView:g.a.func.isRequired,interactKeyValue:g.a.string,interactedTime:g.a.string,intractionData:g.a.object,intractionText:g.a.string,message:g.a.string};var st=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={stemLoading:!0,listData:[],listCursor:"",isError:!1,isIntractPostDview:!1,dViewFeedId:"",intractFData:{}},a.getIntoDetailView=a.getIntoDetailView.bind(a),a.closeIntractDView=a.closeIntractDView.bind(a),a.getInteractionData=a.getInteractionData.bind(a),a.getMoreInteractions=a.getMoreInteractions.bind(a),a}return p()(t,e),l()(t,[{key:"getIntoDetailView",value:function(e,t){this.setState({dViewFeedId:e,intractFData:t,isIntractPostDview:!0})}},{key:"closeIntractDView",value:function(){this.setState({dViewFeedId:"",intractFData:{},isIntractPostDview:!1})}},{key:"getMoreInteractions",value:function(e){var t=this.state,a=t.listCursor;if(!0!==t.getMoreLoading){var n=this.props,o=n.brandId,i=n.selectedProId,s=n.channel,r="facebook"===s?"fbId":"twitterId",l="facebook"===s?"facebookPostInteractions":"twitterPostInteractions";if(""!=a&&null!=a){var c=Object(he.B)()+"/v1/socialBrands/"+o+"/"+l+"?"+r+"="+i+"&cursor="+a;this.getInteractionData(c)}}}},{key:"getInteractionData",value:function(e){var t=this,a=this.state,n=a.listCursor,o=a.listData;(0,this.props.getIntractions)(e).then(function(e){var a=e.data,i=a.error,s=a.apiError;if(null==i&&null==s){var r=a.data,l=r;null!=n&&""!=n&&(r=P()([],r),l=o.concat(r));var c=a.cursor;t.setState({stemLoading:!1,listData:l,listCursor:c,isError:!1,getMoreLoading:!1})}else t.setState({stemLoading:!1,isError:!0,getMoreLoading:!1})},function(e){t.setState({stemLoading:!1,isError:!0,getMoreLoading:!1})})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.brandId,a=e.selectedProId,n=e.channel,o="facebook"===n?"fbId":"twitterId",i="facebook"===n?"facebookPostInteractions":"twitterPostInteractions",s=Object(he.B)()+"/v1/socialBrands/"+t+"/"+i+"?"+o+"="+a;this.getInteractionData(s)}},{key:"render",value:function(){var e=this.state,t=e.stemLoading,a=e.listData,n=e.listCursor,o=e.isError,i=e.isIntractPostDview,s=e.intractFData,r=e.getMoreLoading,l=[],c=this,d=this.props,u=d.channel,p=d.confPageAId,m=d.feedData,f=d.accessibleDepts,g=d.getCmtsActions,v=d.permissions,b=d.cmtBoxCombo,w=d.selectedBrandData,y=d.addNewFuntions,S=m.author,k=S.name,C=S.href;!1===o&&0!=a.length&&!1===t&&a.map(function(e,t){var a=e.id,n=e.message,o=e.historyType,i=e.interactedTime,s=e.attachments,r=e.author,d=r.id,u="",m="";switch(o){case"like":u="support.social.intraction.like";break;case"favorite":u="support.social.intraction.favorite";break;case"comment":u="support.social.intraction.comment";break;case"status":u="support.social.intraction.status";break;case"mention":u="support.social.intraction.mention";break;case"inlinecomment":u="support.social.intraction.inlinecomment",m=d!=p?r.name+" 's":"your";break;case"like_comment":u="support.social.intraction.comment.like";break;case"share":u="support.social.intraction.share";break;case"reply":u="support.social.intraction.reply";break;case"retweet":case"follow":u="support.social.intraction.retweet";break;default:u="support.social.intraction.status"}n=void 0===n?"":n;var f=void 0,g=!1;null!=s&&0!=s.length&&(f=s.map(function(e,t){var n=e.href;return"video_inline"===e.type?h.a.createElement("span",{key:t},h.a.createElement("div",null,h.a.createElement(re.a,{href:n,target:"_blank",className:tt.a.mr20+" "+tt.a.aTag},n)),h.a.createElement("div",{className:tt.a.SocialDedailVideoDiv},h.a.createElement("iframe",{width:"400",height:"250",src:n,frameBorder:"0",allowFullScreen:!0}))):(g=!0,h.a.createElement("span",{key:t,"data-id":"attached_image_"+t+"_"+a},h.a.createElement(se,{styleClass:tt.a.hwimage,href:n})))})),!0===g&&(f=h.a.createElement("div",{className:tt.a.SocialDedailImgDiv},f));var v=0,b=[];if(0!=n.length){var w=new RegExp("<br/>");-1!=n.search(w)&&(v=(b=n.split("<br/>")).length)}var y=n.length>147||v>2&&null!=b[3]?"intractionmsgtextmore":"",S={getIntoDetailView:c.getIntoDetailView,authorImage:C,authorName:k,intractionText:u,interactKeyValue:m,interactedTime:i,dngClass:y,message:n,attchEle:null!=s&&0!=s.length?f:"",intractionData:e,id:a};l.push(h.a.createElement(it,S))});return h.a.createElement("div",{className:tt.a.SocialInteractList},!0===t?h.a.createElement(X.d,{loadingFor:"feed",animateCount:"4"}):!0===i?h.a.createElement("span",null,function(){if(!1===t){var e=m.id===s.id?m:s,a=e.id,n=e.author,o=e.tickets;e=P()({},e);var i=m.replies,r=m.likes;void 0===i&&(e.replies={}),void 0===r&&(e.likes={});var l=c.props,d=l.filterBy,p=l.brandId,S=l.selectedChannelInfo,k=l.functionJson,C=l.channelStatus,I=n.id,E=null!=o?o.id:"",D="facebook"===u?"intraction_fb":"intraction_twitter";return h.a.createElement("div",{className:tt.a.instractiondview},h.a.createElement("div",{className:tt.a.intractionhead+" "+tt.a[D]},h.a.createElement("span",{className:tt.a.intractionheadtext,onClick:c.closeIntractDView},h.a.createElement(V.a,{name:"ZD-arrowLeft3",iconClass:tt.a.intractionback}),h.a.createElement(_.c,{i18NKey:"support.setup.social.interaction.back"}))),h.a.createElement(ke,{postId:a,channel:u,filterBy:d,brandId:p,feedData:e,selectInpost:k.selectInpost,contactInfo:n,selectedTId:E,selectedPtId:a,selectedProId:I,isCommentClick:!1,selectedChannelInfo:S,actionsOnPost:k.actionsOnPost,isIntractionDView:!0,socialPopupAction:k.socialPopupAction,channelStatus:C,accessibleDepts:f,getCmtsActions:g,permissions:v,cmtBoxCombo:b,selectedBrandData:w,addNewFuntions:y}))}return""}()," "):!0===o?h.a.createElement(ve.a,{emptyCompoentCode:119,componentFor:"nointeractions"}):0===a.length?h.a.createElement(ve.a,{componentFor:"postDetail",feedsAs:u,emptyCompoentCode:127}):h.a.createElement("span",null," ",l," "),!1===i&&null!=n&&""!=n&&h.a.createElement("span",null,!0===r?h.a.createElement(X.d,{loadingFor:"reply",animateCount:"2"}):h.a.createElement("div",{className:tt.a.IntractMorediv,onClick:this.getMoreInteractions.bind(this)},h.a.createElement(_.c,{tag:"div",className:tt.a.IntractMoreSpan,i18NKey:"support.social.feed.loadmore"}))))}}]),t}(h.a.Component),rt=st;st.propTypes={accessibleDepts:g.a.array,addNewFuntions:g.a.object,brandId:g.a.string,channel:g.a.any,channelStatus:g.a.any,cmtBoxCombo:g.a.object,confPageAId:g.a.any,feedData:g.a.object,getCmtsActions:g.a.func,getIntractions:g.a.func,permissions:g.a.object,selectedBrandData:g.a.object,selectedChannelInfo:g.a.object,selectedProId:g.a.any,selectedProfileInfo:g.a.object};var lt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={insMode:"postIntractions"},a.tabswitch=a.tabswitch.bind(a),a}return p()(t,e),l()(t,[{key:"tabswitch",value:function(e){this.setState({insMode:e})}},{key:"render",value:function(){this.state.insMode;var e=this.props,t=e.actionsOnPost,a=e.selectInpost,n=e.socialPopupAction,o=e.cmtBoxCombo,i=e.permissions,s=e.selectedBrandData,r=e.addNewFuntions,l=e.brandId,c=e.intractId,d=e.contactInfo,u=e.channel,p=e.filterBy,m=e.selectedChannelInfo,f=e.feedData,g=e.selectedProId,v=e.confPageAId,b=e.channelStatus,w=e.accessibleDepts,y=e.getIntractions,S=e.getCmtsActions,k=E()({selectInpost:a,actionsOnPost:t,socialPopupAction:n},"actionsOnPost",t);return h.a.createElement(rt,{brandId:l,functionJson:k,intractId:c,confPageAId:v,filterBy:p,selectedChannelInfo:m,contactInfo:d,channel:u,selectedProId:g,feedData:f,channelStatus:b,accessibleDepts:w,cmtBoxCombo:o,getIntractions:y,getCmtsActions:S,permissions:i,selectedBrandData:s,addNewFuntions:r})}}]),t}(h.a.Component),ct=lt;lt.propTypes={accessibleDepts:g.a.array,actionsOnPost:g.a.func,addNewFuntions:g.a.object,brandId:g.a.string,channel:g.a.string,channelStatus:g.a.string,cmtBoxCombo:g.a.object,confPageAId:g.a.string,contactInfo:g.a.Object,feedData:g.a.any,filterBy:g.a.string,getCmtsActions:g.a.func,getIntractions:g.a.func,intractId:g.a.string,permissions:g.a.Object,selectInpost:g.a.func,selectedBrandData:g.a.object,selectedChannelInfo:g.a.Object,selectedProId:g.a.any,socialPopupAction:g.a.func};var dt=a("./src/components/Social/SocialPostDetailView/SocialPostDetailView.module.css"),ut=a.n(dt),pt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={detailViewAs:e.view,isConfirm:!1,oldState:"",postIds:{}},a.closeFromDview=a.closeFromDview.bind(a),a}return p()(t,e),l()(t,[{key:"closeFromDview",value:function(e){var t=this.props,a=t.popupCombo,n=t.socialStatus,o=a.setPopupStatus;(0,a.isPopupOpen)(n)&&1!=e?o(!1):this.props.selectInpost("","","",this.props.channel)}},{key:"tabswitch",value:function(e,t){var a=this.props,n=a.showConfirmBox,o=a.popupCombo,i=a.cmtBoxCombo,s=a.socialStatus,r=i.commentBoxStatus,l=i.changeCommentBox,c=o.setPopupStatus,d=o.isPopupOpen,u=this;if(r(s))this.setState({isConfirm:!0,oldState:e},function(){var e=u.state.oldState,t=function(){u.setState({isConfirm:!1}),l(!1),u.tabswitch(e)},a=function(){u.setState({isConfirm:!1,oldState:""})},o=_.h.getI18NValue("support.social.leavemsg.post"),i=_.h.getI18NValue("support.social.attention");n({type:"alert",submitText:_.h.getI18NValue("support.social.leave"),cancelText:_.h.getI18NValue("support.alert.stayhere"),title:i,message:o,isActive:!0,palette:"danger"}).then(function(){t()}).catch(function(){a()})});else if(d(s))c(!1);else{this.state.detailViewAs;if("post"===e){var p=this.state.postIds,m=this.props,h=m.selectedProId,f=m.channel,g=p.selectedProId,v=p.selectedTId,b=p.selectedPtId;g!=h&&this.props.selectInpost(b,v,g,f,"profile")}this.props.changeView(e)}}},{key:"componentDidMount",value:function(){var e=this.props,t={selectedTId:e.selectedTId,selectedPtId:e.selectedPtId,selectedProId:e.selectedProId};this.setState({postIds:t})}},{key:"componentWillReceiveProps",value:function(e){var t=e.view,a=this.state.postIds,n=a.selectedTId,o=a.selectedPtId,i=a.selectedProId,s=e.selectedTId,r=e.selectedPtId,l=e.selectedProId,c=(e.brandId,e.channel,e.selectedContactId,e.contactInfo,r!=o?{selectedTId:s,selectedPtId:r,selectedProId:l}:{selectedTId:n,selectedPtId:o,selectedProId:i});this.setState({detailViewAs:t,postIds:c})}},{key:"render",value:function(){var e=this,t=this.state.detailViewAs,a=this.props,n=a.selectedTId,o=a.selectedPtId,i=a.selectedProId,s=a.channel,r=a.confPageAId,l=a.brandId,c=a.selectedContactId,d=a.contactInfo,u=a.selectedChannelInfo,p=a.feedData,m=a.channelFor,f=a.isActionsSuccess,g=a.filterBy,v=a.isCommentClick,b=a.brandDepId,w=a.feedsActions,y=a.activeDepNameId,S=a.accessibleDepartments,k=a.popupCombo,C=a.portalName,I=a.addNewActions,E=a.selectedBrandData,D=a.getCmtsActions,N=a.cmtBoxCombo,x=a.likeCmt,P=a.getMessageData,T=a.messagingData,A=a.socialStatus,F=a.permissions,O=a.profileActionsChunk,B=a.crntDepId,z=a.currentDepartment,j=a.socialUsers,M=a.feedBasicActions,L=m,K="message"===m?"support.social.message":"support.setup.social.postupper";K=_.h.getI18NValue(K);var H=this;return h.a.createElement("div",{className:ut.a.wrapperTab},h.a.createElement(Ee.TabWrapper,{type:"beta",isAnimate:!0,defaultTab:t,needPadding:!1,onSelect:function(t){H.tabswitch(t,e)},hookToDisableInternalState:!0},h.a.createElement(Ee.Tabs,{className:ut.a.tabs,style:"facebook"===s?{backgroundColor:"#4267b2",color:"s#b3c2e0"}:{backgroundColor:"#1da1f2",color:"#a5d9fa"}},h.a.createElement(Ee.Tab,{className:ut.a.tab,id:L,dataId:L},"post"===L?h.a.createElement("span",{className:ut.a.RightTabBtn+" "+ut.a.SocialRightTabBtn+" "+ut.a[t===L?"activeTab":""]},h.a.createElement(V.a,{name:"ZD-postCard",iconClass:ut.a.headerTitleIcon,size:"22"}),K):h.a.createElement("span",{className:ut.a.RightTabBtn+" "+ut.a.SocialRightTabBtn+" "+ut.a[t===L?"activeTab":""]},"facebook"===s?h.a.createElement("svg",{className:ut.a.messengersvgIcon},h.a.createElement("use",{xlinkHref:"#messenger"})):h.a.createElement(V.a,{name:"ZD-messageBox",iconClass:ut.a.messageBox}),K)),h.a.createElement(Ee.Tab,{className:ut.a.tab,id:"profile",dataId:"profile"},h.a.createElement("span",{className:ut.a.RightTabBtn+" "+ut.a.SocialRightTabBtn+" "+ut.a["profile"===t?"activeTab":""]},h.a.createElement(V.a,{name:"ZD-profile",iconClass:ut.a.headerTitleIcon,size:"22"}),_.h.getI18NValue("support.social.profile"))),r!=i&&h.a.createElement(Ee.Tab,{className:ut.a.tab,id:"intractions",dataId:"intractions"},h.a.createElement("span",{className:ut.a.RightTabBtn+" "+ut.a.SocialRightTabBtn+" "+ut.a["intractions"===t?"activeTab":""]},h.a.createElement("svg",{className:ut.a.intractionsvg},h.a.createElement("use",{xlinkHref:"#interactionsvg"})),_.h.getI18NValue("support.social.interactions"))),h.a.createElement(R.Container,{align:"both",isCover:!1,className:ut.a.h100},h.a.createElement(V.a,{name:"ZD-socialClose",iconClass:ut.a.closeTag,id:"socialpost_close",onClick:this.closeFromDview}))),h.a.createElement(Ee.TabContentWrapper,null,h.a.createElement(Ee.TabContent,{id:L},"post"===t?h.a.createElement(ke,{postId:o,channel:s,filterBy:g,brandId:l,feedData:p,closeFromDview:H.closeFromDview,selectInpost:H.props.selectInpost,contactInfo:d,selectedTId:n,selectedPtId:o,selectedProId:i,isCommentClick:v,selectedChannelInfo:u,actionsOnPost:H.props.actionsOnPost,ticketId:n,isActionsSuccess:f,socialPopupAction:H.props.socialPopupAction,accessibleDepts:S,addNewFuntions:I,selectedBrandData:E,getCmtsActions:D,cmtBoxCombo:N,likeCmt:x,socialStatus:A,permissions:F,feedBasicActions:M}):h.a.createElement($e,{confPageAId:r,brandId:l,channel:s,contactInfo:d,feedData:p,actionsOnPost:H.props.actionsOnPost,convId:c,selectedChannelInfo:u,addNewMessage:I.addNewMsg,socialPopupAction:H.props.socialPopupAction,selectInpost:H.props.selectInpost,accessibleDepts:S,selectedBrandData:E,getMessageData:P,messagingData:T,permissions:F,channelId:A.channelId,cmtBoxCombo:N})),h.a.createElement(Ee.TabContent,{id:"profile"},h.a.createElement(He,{proId:i,contactInfo:d,channel:s,brandId:l,selectedChannelInfo:u,selectInpost:this.props.selectInpost,socialPopupAction:H.props.socialPopupAction,brandDepId:b,feedsActions:w,setPopupStatus:k.setPopupStatus,portalName:C,selectedBrandData:E,permissions:F,profileActionsChunk:O,confPageAId:r,crntDepId:B,accessibleDepartments:S,activeDepNameId:y,currentDepartment:z,socialUsers:j})),h.a.createElement(Ee.TabContent,{id:"intractions"},h.a.createElement(ct,{intractId:"message"===t?c:i,contactInfo:d,confPageAId:r,channelStatus:m,channel:s,brandId:l,feedData:p,filterBy:g,selectedChannelInfo:u,selectedProId:i,socialPopupAction:H.props.socialPopupAction,selectInpost:H.props.selectInpost,actionsOnPost:H.props.actionsOnPost,accessibleDepts:S,selectedBrandData:E,cmtBoxCombo:N,getIntractions:O.getIntrActionsData,getCmtsActions:D,permissions:F,addNewFuntions:I,feedBasicActions:M})))))}}]),t}(h.a.Component),mt=pt;pt.propTypes={accessibleDepartments:g.a.object,actionsOnPost:g.a.func,activeDepNameId:g.a.array,addNewActions:g.a.object,brandDepId:g.a.string,brandId:g.a.string,changeView:g.a.func,channel:g.a.string,channelFor:g.a.string,cmtBoxCombo:g.a.object,confPageAId:g.a.string,contactInfo:g.a.object,crntDepId:g.a.string,currentDepartment:g.a.object,feedBasicActions:g.a.func,feedData:g.a.object,feedDataChange:g.a.func,feedsActions:g.a.any,filterBy:g.a.string,getCmtsActions:g.a.object,getMessageData:g.a.func,isActionsSuccess:g.a.bool,isCommentClick:g.a.bool,likeCmt:g.a.func,messagingData:g.a.object,permissions:g.a.object,popupCombo:g.a.object,portalName:g.a.string,profileActionsChunk:g.a.object,selectInpost:g.a.func,selectedBrandData:g.a.object,selectedChannelInfo:g.a.object,selectedContactId:g.a.string,selectedProId:g.a.string,selectedPtId:g.a.string,selectedTId:g.a.string,showConfirmBox:g.a.func,socialPopupAction:g.a.func,socialStatus:g.a.object,socialUsers:g.a.object,view:g.a.string};var ht=a("./src/components/Social/FeedActions/FeedActions.js"),ft=a("./src/components/Social/FeedsContainer/FeedsContainer.module.css"),gt=a.n(ft),vt=a("./src/components/Social/SocialHeader/SocialHeader.module.css"),bt=a.n(vt),wt=a("../components/lib/TextBox/TextBox.js"),yt=a.n(wt),St=a("./src/components/Social/NewPostContainer/NewPostContainer.module.css"),kt=a.n(St),Ct=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={attachedData:[],attachedFilesArray:[],selectedId:"",isOpenImagePreview:!1,cmdData:"",cmdError:"",addPost:"posted",postLen:"twitter"===e.channel?280:1e3},a.attachFiles=a.attachFiles.bind(a),a.removeAttachment=a.removeAttachment.bind(a),a.viewAttachment=a.viewAttachment.bind(a),a.getCommentData=a.getCommentData.bind(a),a.postNewpost=a.postNewpost.bind(a),a}return p()(t,e),l()(t,[{key:"postNewpost",value:function(){var e=this,t=this.props,a=t.brandId,n=t.channel,o=t.brandData,i=this.state,s=i.cmdData,r=i.attachedFilesArray,l=i.postLen;if((""!=s.trim()||0!=r.length)&&l>=0){var c="facebook"===n?"facebookPosts":"twitterPosts",d=this;this.setState({addPost:"posting",cmdError:""});r.length;var u=0!=r.length?r:"",p=(he.B,encodeURIComponent(s),Object(be.c)(o,n));this.props.addNewFeed(a,n,p,s,u).then(function(t){var n=t.data||{},o=n.newFeed||{};if(1!=n.apiError&&null!=o&&void 0===o.error)return e.setState({cmdData:"",addPost:"posted"}),void d.props.actionsOnPost("Feed Add","",a,!1,n.data);var i=o.error;i=_.h.getI18NValue("support.zohocrm.integration.internal.error"),e.setState({cmdError:i})})}else{if(l<0)return void this.setState({cmdError:_.h.getI18NValue("support.social.feed.text.limitexceed")});this.setState({cmdError:_.h.getI18NValue("support.social.feed.empty")})}}},{key:"removeAttachment",value:function(e,t){t.stopPropagation();var a=this.state,n=a.attachedData,o=a.attachedFilesArray,i=a.cmdData,s=Object(ue.l)({attachedData:n,attachedFilesArray:o,aId:e}),r=s.attachedData,l=s.attachedFilesArray;this.setState({attachedData:r,attachedFilesArray:l},function(){0===r.length&&0===i.length&&0===i.length&&Object(ue.b)(!1)})}},{key:"getCommentData",value:function(e){var t=this.props.channel,a=this.state.attachedData,n="twitter"===t?280:1e3,o=e.length,i=n-o;Object(ue.b)(!(0===o&&0===a.length));var s=this.cmdError;""!=s&&(s=0!=o&&o<=n?"":s),this.setState({cmdData:e,postLen:i,cmdError:s})}},{key:"attachFiles",value:function(){var e=this,t=this.state,a=t.attachedData,n=t.attachedFilesArray,o=t.addPost;this.props.channel;if("posting"!==o){var i=this.attachFile.files,s=Object(ue.a)({attachedData:a,attachedFilesArray:n,limit:4,files:i}),r=s.attachedData,l=s.attachedFilesArray;if(this.setState({attachedData:r,attachedFilesArray:l},function(){e.attachFile.value="",r.length>0&&Object(ue.b)(!0)}),s.showPop){var c={id:(new Date).getTime(),nftnType:3,nftnText:_.h.getI18NValue("support.social.attach.limiterror")};this.props.socialPopupAction(!0,c)}}}},{key:"viewAttachment",value:function(e,t){var a=this.state.attachedData;this.props.viewAttachments(e,a)}},{key:"render",value:function(){var e=this,t=this.state,a=t.attachedData,n=(t.isOpenImagePreview,t.selectedId,t.cmdData),o=t.cmdError,i=t.addPost,s=t.postLen,r=this.props,l=r.posterInfo,c=r.channel,d=void 0,u=this;0!=a.length&&(d=a.map(function(e,t){var a=e.href,n=e.id;return h.a.createElement("div",{key:t,className:kt.a.attachment,"data-id":"newpost_close_attach",onClick:u.viewAttachment.bind(this,n),"data-clickable":"true"},h.a.createElement(R.Container,{align:"both",isCover:!1,className:kt.a.closeIconContainer,dataId:"newpost_attach_close",onClick:u.removeAttachment.bind(this,n),"data-clickable":"true"},h.a.createElement(V.a,{name:"ZD-socialClose",iconClass:kt.a.closeIcon})),h.a.createElement(se,{href:a,styleClass:kt.a.image}))}));var p="twitter"===c?"twBtn":"fbBtn",m=l.href,f=l.name,g="posting"===i;return h.a.createElement("div",{className:kt.a.container,"data-id":"newPostContainerWrapper"},h.a.createElement("div",{className:kt.a.header},h.a.createElement(R.Container,{alignBox:"row"},h.a.createElement(z.a,{src:m,name:Object(ue.g)(f),shape:"circle",size:"xmedium"}),h.a.createElement(R.Box,{flexible:!0},h.a.createElement(Q,{mode:"post",styleClass:kt.a.textArea,getDataonKeyup:this.getCommentData,cmtText:n,isNewLineAllowed:!0,enableMentions:!1,isDisabled:g,placeHolder:_.h.getI18NValue("support.social.feed.cmtplaceholder")}))),h.a.createElement("div",{className:kt.a.count,title:_.h.getI18NValue("support.social.tooltip.replycount")},s),null!=d&&0!=d.length&&h.a.createElement("div",{className:kt.a.attachments,"data-clickable":"true"},d)),h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:kt.a.footer},h.a.createElement(R.Box,{flexible:!0},""!=o&&h.a.createElement("div",{"data-clickable":"true",className:kt.a.errorMessage},o),a.length<5&&h.a.createElement("div",{"data-clickable":"true"},h.a.createElement("label",{htmlFor:"addAttach"},h.a.createElement(V.a,{name:"ZD-photoImage",size:"xsmall",iconClass:kt.a.camera}),h.a.createElement("input",{id:"addAttach",type:"file",ref:function(t){e.attachFile=t},multiple:"multiple",className:kt.a.hide,disabled:g,"data-id":"newpost_addattach",accept:"image/jpg, image/jpeg, image/png",onChange:this.attachFiles})))),h.a.createElement("div",{"data-clickable":"true",className:kt.a.buttonContainer},"posted"===i&&h.a.createElement(L.a,{palette:"secondary",text:_.h.getI18NValue("support.label.cancel"),onClick:this.props.closePopUp}),"posted"===i?h.a.createElement(L.a,{className:kt.a[p],text:_.h.getI18NValue("support.setup.social.postupper"),onClick:this.postNewpost}):h.a.createElement(L.a,{status:"loading"}))))}}]),t}(h.a.Component),It=Ct;Ct.propTypes={actionsOnPost:g.a.func.isRequired,addNewFeed:g.a.func.isRequired,brandData:g.a.object.isRequired,brandId:g.a.string,channel:g.a.string,closePopUp:g.a.func.isRequired,posterInfo:g.a.object.isRequired,socialPopupAction:g.a.func,viewAttachments:g.a.func.isRequired};var Et=a("./src/components/Social/ButtonWithIcon/ButtonWithIcon.js"),Dt=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.hoverId,a=e.children,n=e.openSuggession;return h.a.createElement("div",{"data-id":t+"_header",onClick:n},a)}}]),t}(m.Component),Nt=Dt;Dt.propTypes={children:g.a.any,hoverId:g.a.string,openSuggession:g.a.bool};var xt=a("./src/components/Social/DropDownCustom/CustomDropDown.module.css"),Pt=a.n(xt),Tt=a("../components/lib/DropBox/DropBox.js"),At=a.n(Tt),_t=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={},a.clickOnList=a.clickOnList.bind(a),a}return p()(t,e),l()(t,[{key:"clickOnList",value:function(e,t){this.props.setSelectedTab(e,t)}},{key:"render",value:function(){var e=this.props,t=e.suggestions,a=e.selected,n=e.isOpenSuggession,o=(e.styleClass,e.hoverId),i=this,s=t.map(function(e,t){var n=e.id,s=e.labelKey,r=e.iconData;s=_.h.getI18NValue(s);var l=void 0,c=void 0,d=void 0;null!=r&&null!=r.iconName&&(l=r.iconName,r.iconType,c=r.styleClass,d=r.size);var u=o===n?"hovered":"isnot_hovered",p=n+"_"+t;return n!=a?h.a.createElement("li",{key:p,className:Pt.a.dropli+" "+Pt.a[u],onClick:i.clickOnList.bind(this,n,e)},null!=l&&h.a.createElement("span",{className:Pt.a.socislFiltIcons},h.a.createElement(V.a,{name:l,size:d,className:c})),h.a.createElement("span",{className:Pt.a.ddText},s)):h.a.createElement("li",{key:p,className:Pt.a.dropli_sel,"data-id":n},null!=l&&h.a.createElement("span",{className:Pt.a.socislFiltIcons},h.a.createElement(V.a,{name:l,size:d,className:c})),h.a.createElement("span",{className:Pt.a.ddText},s))});return h.a.createElement(At.a,{className:Pt.a.container,size:"xsmall",isActive:n,isArrow:!1,isAnimate:!0},s)}}]),t}(m.Component),Ft=_t;_t.propTypes={hoverId:g.a.any,isOpenSuggession:g.a.bool,selected:g.a.any,setSelectedTab:g.a.func,styleClass:g.a.any,suggestions:g.a.array};var Ot=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={selected:e.defaultSel,isOpenSuggession:e.isOpenSuggession,hoverId:e.defaultSel},a.setSelectedTab=a.setSelectedTab.bind(a),a.openSuggession=a.openSuggession.bind(a),a}return p()(t,e),l()(t,[{key:"setSelectedTab",value:function(e,t){this.props.isStateHandle&&this.setState({selected:e,isOpenSuggession:!1}),this.props.getSelected(e,t)}},{key:"hoverChange",value:function(e){this.setState({hoverId:e})}},{key:"openSuggession",value:function(){if(this.props.isStateHandle){var e=this.state.isOpenSuggession;this.setState({isOpenSuggession:!e})}else this.props.openSuggessions()}},{key:"componentWillReceiveProps",value:function(e){var t=e.isStateHandle,a=this.props,n=a.defaultSel,o=a.isOpenSuggession,i=e.defaultSel,s=e.isOpenSuggession;t||n==i&&s==o||this.setState({selected:i,isOpenSuggession:s,hoverId:i})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selected,n=t.isOpenSuggession,o=t.hoverId,i=this.props,s=i.isStateHandle,r=i.children,l=i.type,c=i.styleClass,d=h.a.Children.map(r,function(t){return h.a.cloneElement(t,{selected:a,setSelectedTab:e.setSelectedTab,type:l,hoverId:o,isStateHandle:s,isOpenSuggession:n,openSuggession:e.openSuggession})});return h.a.createElement("div",{className:c},d)}}]),t}(m.Component),Bt=Ot;Ot.propTypes={children:g.a.any,defaultSel:g.a.any,getSelected:g.a.func,isOpenSuggession:g.a.bool,isStateHandle:g.a.bool,openSuggessions:g.a.func,styleClass:g.a.any,type:g.a.string};var zt={Selected:Nt,Suggessions:Ft,CustomContainer:Bt};var jt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={searchValue:e.searchValue,isPopupForNewPost:!1,filterPopup:!1,searchTimerId:"",isOpenFliter:!1,searchPaused:!1},a.getPopupForNewPost=a.getPopupForNewPost.bind(a),a.textBoxFunc=a.textBoxFunc.bind(a),a.searchKeyUp=a.searchKeyUp.bind(a),a.filterAction=a.filterAction.bind(a),a.selectAllcheckBox=a.selectAllcheckBox.bind(a),a.addNewPost=a.addNewPost.bind(a),a.searchAction=a.searchAction.bind(a),a.filterModeChange=a.filterModeChange.bind(a),a.openFilter=a.openFilter.bind(a),a.checkComBox=a.checkComBox.bind(a),a.closeSearch=a.closeSearch.bind(a),a.checkPop=a.checkPop.bind(a),a.getSelected=a.getSelected.bind(a),a}return p()(t,e),l()(t,[{key:"getSelected",value:function(e,t){var a=this.props.channel,n=t.id;this.filterAction(n,a,!1,!0)}},{key:"checkPop",value:function(){var e=this.props,t=e.cmtBoxCombo,a=e.popupCombo,n=e.socialStatus,o=t.commentBoxStatus,i=a.isPopupOpen,s=a.setPopupStatus;if(o(n)){var r=this;this.checkComBox(function(){null!=r.sFeedBox&&r.sFeedBox.focus()})}else i(n)&&this.setState({isPopupForNewPost:!1,filterPopup:!1,isOpenFliter:!1},function(){s(!1)})}},{key:"closeSearch",value:function(){var e=this,t=this.props,a=t.cmtBoxCombo,n=t.popupCombo,o=t.socialStatus,i=n.isPopupOpen,s=n.setPopupStatus;if((0,a.commentBoxStatus)(o)){var r=this;this.checkComBox(function(){r.closeSearch()})}else i(o)?this.setState({isPopupForNewPost:!1,filterPopup:!1,isOpenFliter:!1},function(){s(!1)}):this.setState({searchValue:""},function(){var t=e.props.searchValue;(o=P()({},o)).isSearchMode=!1,o.searchValue="",e.props.changeSocialStatus(o),e.props.initiateSearch("",!0,0===t.length)})}},{key:"checkComBox",value:function(e){var t=this.props,a=t.cmtBoxCombo,n=t.socialStatus,o=a.commentBoxStatus,i=a.changeCommentBox;if(o(n)&&"function"==typeof e){var s={closeConfirmBox:function(){i(!1),e&&e()}};this.props.openConfirmBox(s,"3")}}},{key:"openFilter",value:function(e){var t=this,a=this.props,n=a.cmtBoxCombo,o=a.popupCombo,i=a.socialStatus,s=n.commentBoxStatus,r=o.setPopupStatus,l=o.isPopupOpen;if(s(i)){var c=this;this.checkComBox(function(){c.openFilter(e)})}else{var d=this.state,u=d.isPopupForNewPost,p=d.filterPopup;u||p?this.setState({filterPopup:!1,isPopupForNewPost:!1},function(){t.props.changePopupId("","",!1)}):(this.setState({isOpenFliter:e}),l(i)&&r(e),this.props.changePopupId("","tfilterClick",!1))}}},{key:"filterModeChange",value:function(e,t){var a=this,n=this.props,o=n.popupCombo,i=n.socialStatus,s=o.setPopupStatus,r=o.isPopupOpen;this.setState({isOpenFliter:!1},function(){r(i)&&s(!1),a.props.handleListbyTicket(e)})}},{key:"textBoxFunc",value:function(e){var t=this.props,a=t.cmtBoxCombo,n=t.socialStatus;if((0,a.commentBoxStatus)(n)){var o=this;this.checkComBox(function(){null!=o.sFeedBox&&o.sFeedBox.focus()})}else this.setState({searchValue:e})}},{key:"addNewPost",value:function(e,t,a,n,o){var i=cmtBoxCombo.changeCommentBox;"Feed Add"===e&&(i(!1),this.getPopupForNewPost(!1)),this.props.actionsOnPost(e,t,a,n,o)}},{key:"getPopupForNewPost",value:function(e){var t=this,a=this,n=this.props,o=n.cmtBoxCombo,i=n.popupCombo,s=n.socialStatus,r=o.commentBoxStatus,l=o.changeCommentBox,c=i.setPopupStatus,d=i.isPopupOpen;if(r(s)&&!0===e){this.checkComBox(function(){a.getPopupForNewPost(!1)})}else{var u=this.state,p=u.isPopupForNewPost,m=u.filterPopup,h=u.isOpenFliter;m||h?this.setState({filterPopup:!1,isOpenFliter:!1},function(){t.props.changePopupId("","",!1)}):(d(s)&&c(!p),p&&l(!1),this.setState({isPopupForNewPost:!p},function(){t.props.changePopupId("","newPostClick",!1)}))}}},{key:"searchKeyUp",value:function(e){var t=this.props,a=t.cmtBoxCombo,n=t.popupCombo,o=t.socialStatus,i=n.isPopupOpen,s=n.setPopupStatus;if((0,a.commentBoxStatus)(o)){var r=this;this.checkComBox(function(){null!=r.sFeedBox&&r.sFeedBox.focus()})}else if(i(o))this.setState({isPopupForNewPost:!1,filterPopup:!1,isOpenFliter:!1},function(){s(!1)});else{var l=e.keyCode,c=e.target.value.trim(),d=this.state.searchValue;if(13===l&&""!=c){var u=this.props.searchValue,p=u!=d,m=0!==u.length&&c===u;o.isSearchMode=0!=c.length,o.searchValue=c,this.props.changeSocialStatus(o),this.props.initiateSearch(c,p,m)}}}},{key:"searchAction",value:function(e){var t=this,a=this.props,n=a.cmtBoxCombo,o=a.popupCombo,i=a.socialStatus,s=n.commentBoxStatus,r=o.isPopupOpen,l=o.setPopupStatus;if(s(i)&&"reload"===e){var c=this;this.checkComBox(function(){c.searchAction(e)})}else if(r(i))this.setState({isPopupForNewPost:!1,filterPopup:!1,isOpenFliter:!1},function(){l(!1)});else{var d=this.props.searchValue,u=this.state.searchPaused,p="loadState"===e&&!u;this.setState({searchValue:d,searchPaused:p},function(){i.isSearchMode=0!=d.length,i.searchValue=d,t.props.changeSocialStatus(i),t.props.initiateSearch(d,!0,e)})}}},{key:"componentWillReceiveProps",value:function(e){var t=e.searchValue,a=this.state.searchValue,n=e.channelFor,o=e.channel,i=this.state.searchPaused,s="twitter"===o&&"post"===n&&i,r=this.props,l=r.popupCombo,c=r.socialStatus,d=l.isPopupOpen,u=l.setPopupStatus;if(t==a){var p=e.feedPopupAs;if("winClick"===this.props.feedPopupAs&&"filterClick"===p&&d(c))return u(!0),void this.setState({filterPopup:!0,searchPaused:s});""!=p&&"newPostClick"!=p&&this.setState({isPopupForNewPost:!1,searchPaused:s})}}},{key:"filterAction",value:function(e,t,a,n,o){var i=this,s=this.props,r=s.cmtBoxCombo,l=s.popupCombo,c=s.socialStatus,d=r.commentBoxStatus,u=r.changeCommentBox,p=l.isPopupOpen,m=l.setPopupStatus;if(d(c)&&n){var h=this;this.checkComBox(function(){u(!1),h.filterAction(e,t,a,!1,o)})}else{var f=this.state,g=f.isPopupForNewPost,v=f.isOpenFliter;g||v?this.setState({isPopupForNewPost:!1,isOpenFliter:!1},function(){i.props.changePopupId("","",!1)}):(p(c)&&m(a),this.setState({filterPopup:a},function(){i.props.changeFilter(e,t)}))}}},{key:"selectAllcheckBox",value:function(e){var t=this.props.totalTFeedIds,a=N()(t).splice(0,10),n={};a.map(function(e,a){n[e]=t[e]});var o=!0===e?n:[];this.props.selectAllcheckBox(o)}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAllSelected,n=t.channelFor,o=t.filterBy,i=t.channel,s=(t.crntSelectedFIds,t.brandId),r=t.mode,l=t.feedPopupAs,c=t.totalTFeedIds,d=t.contactInfo,u=(t.isFeedSelected,t.isSearchRefreshed,t.feedsMode),p=t.addNewFeed,m=t.brandData,f=t.permissions,g=this.props.searchValue,v=this.state,b=v.isPopupForNewPost,w=v.filterPopup,y=v.searchValue,S=v.isOpenFliter,k=this.props.searchValue,C="facebook"===i?"support.social.filter.pagepost":"support.social.filter.tweets",I=0===N()(c).length,E="pagePost"===o||"posts"===o?C:"visitorPost"===o?"support.social.filter.visitorpost":"facebook"===i?"support.social.filter.taggedpost":"support.social.filter.mentions",D=Object(he.w)("tickets",!1,"plural_module").tickets||"Ticket",x="all"===u?"support.social.all":"converted"===u?"support.social.feedwithticket":"support.social.feedwithoutticket",P=f.haveDeletePermission,T=f.haveEditPermission,A=!0===P||!0===T,F="facebook"===i?"support.social.new.post":"support.social.new.tweet",O="filterClick"===l&&!0===w,B=[{id:"pagePost",labelKey:"support.social.filter.pagepost",iconData:{iconType:"icon",iconName:"ZD-allFeeds",size:"sizeinherit",styleClass:bt.a.iconicsocialallfeeds}},{id:"mentionedPost",labelKey:"support.social.filter.taggedpost",iconData:{iconType:"icon",iconName:"ZD-mentions",size:"sizeinherit",styleClass:bt.a.iconicsocialprofilenormal}},{id:"visitorPost",labelKey:"support.social.filter.visitorpost",iconData:{iconType:"icon",iconName:"ZD-profile",size:"sizeinherit",styleClass:bt.a.iconvisitorPost}}],z=[{id:"posts",labelKey:"support.social.filter.tweets",iconData:{iconType:"icon",iconName:"ZD-allFeeds",size:"sizeinherit",styleClass:bt.a.iconicsocialallfeeds}},{id:"mentions",labelKey:"support.social.filter.mentions",iconData:{iconType:"icon",iconName:"ZD-mentions",size:"sizeinherit",styleClass:bt.a.iconicsocialprofilenormal}}],j="facebook"===i?B:z;return h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:bt.a.container,dataId:"socialHeaderWrapper"},h.a.createElement(R.Container,{alignBox:"row",align:"vertical",isCover:!1,className:bt.a.socialrightpanelleft+" "+bt.a["post"!=n?"w100":""]},"active"===r&&!1===I&&"converted"===u&&!0===A&&h.a.createElement("div",{className:bt.a.socialcheckbox,id:"feedIds"},h.a.createElement(H.a,{id:"selectAll",type:"newStylishcbox",disabled:I,checked:a,dataId:"header_checkbox",onChange:this.selectAllcheckBox.bind(this,!I)})),h.a.createElement("div",{className:bt.a.socialTopName},_.h.getI18NValue("post"===n?"twitter"===i?"support.social.filter.tweets":"support.setup.social.brandview.postsupper":"support.social.conv.title",d.name)),"actives"===r&&h.a.createElement("div",{className:bt.a.filtercontentDiv},h.a.createElement("div",{className:bt.a.zssolfilterspan},h.a.createElement("div",{className:bt.a.filtertxtvalue},h.a.createElement(_.c,{i18NKey:x,values:[D]})),0!=k.length&&h.a.createElement("span",{"data-id":"twitter_reload",onClick:this.searchAction.bind(this,"reload")},h.a.createElement("svg",{title:_.h.getI18NValue("crm.button.refresh"),className:bt.a.TwitRefreshsvgIcon},h.a.createElement("use",{xlinkHref:"#MsgResend"}))),"all"!=u&&h.a.createElement("span",{title:_.h.getI18NValue("crm.label.close"),className:bt.a.filtClose,"data-id":"filter_close",onClick:this.filterModeChange.bind(this,"all")},h.a.createElement(V.a,{name:"ZD-crossclose"})))),"normal"!=r&&"twitter"===i&&"post"===n&&h.a.createElement(R.Container,{alignBox:"row",align:"vertical",isCover:!1,className:bt.a["post"===n?"socialsearchfeed":""]},h.a.createElement(V.a,{name:0===y.length&&0===g.length?"ZD-socialSearch":"ZD-socialClose",iconClass:bt.a[0===y.length&&0===g.length?"iconicsocialsearch2":"SearchcloseIcon"],dataId:"close_twisearch",onClick:this.closeSearch}),h.a.createElement(yt.a,{type:"text",id:"sFeed",key:"searchTweet",ref:function(t){e.sFeedBox=t},value:y,maxLength:"50",dataId:"twitter_posts_searchbox",onChange:this.textBoxFunc.bind(this),onKeyDown:this.searchKeyUp.bind(this),placeHolder:_.h.getI18NValue("support.social.feed.twittersearch"),onClick:this.checkPop}),0!=k.length&&h.a.createElement("span",{"data-id":"twitter_reload",onClick:this.searchAction.bind(this,"reload")},h.a.createElement("svg",{title:_.h.getI18NValue("crm.button.refresh"),className:bt.a.TwitRefreshsvgIcon},h.a.createElement("use",{xlinkHref:"#MsgResend"}))))),h.a.createElement(R.Container,{alignBox:"row",align:"vertical",isCover:!1,className:bt.a.socialTopRightBtn},""===k&&""===y&&"post"===n&&h.a.createElement(zt.CustomContainer,{isStateHandle:!1,type:"type1",isOpenSuggession:O,defaultSel:o,styleClass:bt.a.socialfeedCate,getSelected:this.getSelected,openSuggessions:this.filterAction.bind(this,"",i,!w,!0)},h.a.createElement(zt.Selected,null,h.a.createElement("span",{"data-id":"selectedSpan"},h.a.createElement(_.c,{i18NKey:E,tag:"a",className:bt.a.cursor}),h.a.createElement(V.a,{name:"ZD-upArrow",iconClass:bt.a.iconicsocialarrowfill}))),h.a.createElement(zt.Suggessions,{styleClass:bt.a.suggestionul,suggestions:j})),"active"===r&&""===k&&""===y&&h.a.createElement("div",{className:bt.a.socialNewFilterIcon},h.a.createElement(V.a,{name:"ZD-funnel3",dataId:"open_filter",onClick:this.openFilter.bind(this,!0),iconClass:bt.a.NewFilterIcon}),!0===S&&"tfilterClick"===l&&h.a.createElement("div",{className:bt.a.socialPopupDropdown+" "+bt.a.socialFiltDiv},h.a.createElement("ul",{className:bt.a.moreact},h.a.createElement("li",{className:bt.a["all"===u?"hoverd":""],"data-id":"ticketf_all",onClick:this.filterModeChange.bind(this,"all")},h.a.createElement(re.a,null,h.a.createElement(_.c,{i18NKey:"support.social.all"}))),h.a.createElement("li",{className:bt.a["converted"===u?"hoverd":""],"data-id":"ticketf_converted",onClick:this.filterModeChange.bind(this,"converted")},h.a.createElement(re.a,null,h.a.createElement(_.c,{i18NKey:"support.social.feedwithticket",values:[D]}))),h.a.createElement("li",{className:bt.a["notconverted"===u?"hoverd":""],"data-id":"ticketf_notconverted",onClick:this.filterModeChange.bind(this,"notconverted")},h.a.createElement(re.a,null,h.a.createElement(_.c,{i18NKey:"support.social.feedwithoutticket"})))))),"post"===n&&h.a.createElement("span",{className:bt.a.btnCont},h.a.createElement(Et.a,{id:"add_newpost",type:"facebook"===i?"type2":"type1",text:_.h.getI18NValue(F),onClick:this.getPopupForNewPost.bind(this,!0)},h.a.createElement(V.a,{name:"facebook"===i?"ZD-fbPostPad":"ZD-twitterPostPad"})),!0===b&&h.a.createElement(It,{viewAttachments:this.props.viewAttachments,brandId:s,channel:i,posterInfo:d,actionsOnPost:this.addNewPost,socialPopupAction:this.props.socialPopupAction,closePopUp:this.getPopupForNewPost.bind(this,!1),addNewFeed:p,brandData:m}))))}}]),t}(h.a.Component),Vt=jt;jt.propTypes={actionsOnPost:g.a.func,addNewFeed:g.a.func,brandData:g.a.object,brandId:g.a.string,changeFilter:g.a.func,changePopupId:g.a.func,changeSocialStatus:g.a.func,channel:g.a.string,channelFor:g.a.string,cmtBoxCombo:g.a.object,contactInfo:g.a.object,crntSelectedFIds:g.a.object,feedPopupAs:g.a.string,feedsMode:g.a.string,filterBy:g.a.string,handleListbyTicket:g.a.func,initiateSearch:g.a.func,isAllSelected:g.a.bool,isFeedSelected:g.a.bool,isSearchRefreshed:g.a.bool,mode:g.a.string,openConfirmBox:g.a.func,permissions:g.a.object,popupCombo:g.a.object,searchValue:g.a.string,selectAllcheckBox:g.a.func,socialPopupAction:g.a.func,socialStatus:g.a.object,totalTFeedIds:g.a.object,viewAttachments:g.a.func};var Rt=a("./src/components/ListVirtualizer/ListVirtualizer.js"),Mt=a("./src/components/layout/ListPageLayout/ListPageLayout.js"),Lt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={feedsData:[],curData:{},viewImagePreview:"none",viewImageData:[],sImageId:"",preventScroll:!1,isPeekView:!1,selectedFeed:"",feedPopupAs:"",ismoreStem:!1,feedsMode:"all",allowPop:!0,isLoading:!1},a.scrollEve=a.scrollEve.bind(a),a.actionsOnPOst=a.actionsOnPOst.bind(a),a.viewAttachments=a.viewAttachments.bind(a),a.modifyFeed=a.modifyFeed.bind(a),a.loadMoreFeeds=a.loadMoreFeeds.bind(a),a.changeFilter=a.changeFilter.bind(a),a.tPeekViewActions=a.tPeekViewActions.bind(a),a.changePopupId=a.changePopupId.bind(a),a.handleWinClick=a.handleWinClick.bind(a),a.filterByTicket=a.filterByTicket.bind(a),a.initiateSearchInfeed=a.initiateSearchInfeed.bind(a),a.renderContent=a.renderContent.bind(a),a.getPublicMethods=a.getPublicMethods.bind(a),a}return p()(t,e),l()(t,[{key:"getPublicMethods",value:function(e){this.scrollToIndex=e.scrollToIndex,this.reset=e.reset}},{key:"renderContent",value:function(e){var t=this,a=this.props.loadMoreEnable,n=this.state.feedsMode;return h.a.createElement(Mt.a,{needPadding:!1,className:gt.a.Socialrightpanellisting,eleRef:e.eleRef},h.a.createElement("div",{ref:function(e){t.socialFeedcontainer=e}},e.children),!0===a&&"all"===n&&h.a.createElement("div",{className:gt.a.TwitterLoadMoreDiv},h.a.createElement("span",{"data-id":"feed_all_loadmore",onClick:this.loadMoreFeeds.bind(this,!0),className:gt.a.TwitterLoadMore},h.a.createElement(_.c,{i18NKey:"support.social.feed.loadmore"}))))}},{key:"filterByTicket",value:function(e){var t=this,a=this.props,n=a.popupCombo,o=a.socialStatus,i=n.setPopupStatus,s=n.isPopupOpen;this.setState({feedsMode:e,selectedFeed:"",feedPopupAs:""},function(){s(o)&&i(!1),t.props.changePostView()})}},{key:"tPeekViewActions",value:function(){var e=this.state.isPeekView;this.setState({isPeekView:!e})}},{key:"initiateSearchInfeed",value:function(e,t,a){var n=this;this.setState({feedsMode:"all"},function(){n.props.initiateSearch(e,t,a)})}},{key:"handleWinClick",value:function(e){var t=e.target.nodeName,a=e.target.dataset.clickable,n=e.target.dataset.id,o=["SPAN","LI","I","A","DIV","TEXTAREA","IMG","INPUT"],i=this.props,s=i.popupCombo,r=i.cmtBoxCombo,l=i.socialStatus,c=(0,s.isPopupOpen)(l),d=c.popUpstatus,u=c.setPopupStatus;(-1===o.indexOf(t)||-1!=o.indexOf(t)&&!0===a||"DIV"===t&&"true"!=a&&-1===["convert_box","assgin_container","slct2_chosen","header_type_dropdown"].indexOf(n)||"SPAN"===t&&!0===a)&&!1===r.commentBoxStatus(l)&&this.setState({selectedFeed:"",feedPopupAs:"winClick"},function(){!0===d&&u(!1)})}},{key:"loadMoreFeeds",value:function(e){var t=this,a=this.props,n=a.feedsFrom,o=a.feedsTo,i=a.loadMoreEnable,s=this.state.preventScroll;1!=e&&!0===i||s||(n+=20,o+=20,this.setState({ismoreStem:!0},function(){t.props.makeApiCallforGetFeeds(!0,n,o,t.feedscrollDiv,0)}))}},{key:"changePopupId",value:function(e,t,a){e=!0===a?e:"";var n=this.props,o=n.popupCombo,i=n.socialStatus,s=o.setPopupStatus,r=o.isPopupOpen;this.setState({selectedFeed:e,feedPopupAs:t},function(){"newPostClick"!=t&&"filterClick"!=t&&"tfilterClick"!=t&&r(i)&&s(a)})}},{key:"modifyFeed",value:function(e,t,a,n){var o=this,i=this.state.feedsData,s=this.props,r=s.popupCombo,l=s.socialStatus,c=r.setPopupStatus,d=r.isPopupOpen,u=[],p="post"===this.props.channelFor?"id":"conversationId";(i=P()([],i)).map(function(a,n){(a=P()({},a))[p]===e&&(a=t),u.push(a)});var m=Object(he.w)("tickets",!1,"sing_module"),h=_.h.getI18NValue("support.social.updated"),f=_.h.getI18NValue("support.social.converted"),g=m.tickets||"Ticket",v="markSpam"===n?"support.social.ticket.single.spam.success":"support.social.feed.tkconvert.success",b="ticketUpdate"===n?[h,g]:"ticketConvert"===n?[f,g]:[],w=_.h.getI18NValue(v,b),y="ticketUpdateCancel"!==n&&a;a?this.setState({selectedFeed:"",feedPopupAs:"",allowPop:!1},function(){d(l)&&c(!1),o.props.feedsActions("modify",u,y,w)}):this.props.feedsActions("modify",u,y,w)}},{key:"viewAttachments",value:function(e,t,a){var n=!0===a?"viewOnlyOthers":"viewOnly";this.setState({viewImagePreview:n,sImageId:e,viewImageData:t})}},{key:"actionsOnPOst",value:function(e,t,a,n,o){var i=this;!0!==o||""==this.state.selectedFeed?this.props.actionsOnPost(e,t,a,n):this.setState({selectedFeed:"",feedPopupAs:""},function(){-1===["like","unlike","retweet","undoRetweet"].indexOf(e)&&i.props.actionsOnPost(e,t,a,n)})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=(t.channel,t.fData),n=(t.noChannelFound,t.feedActionStatus),o=t.loadMoreEnable,i=0===a.length||!0===o||!0===n;this.setState({feedsData:a,preventScroll:i},function(){window.addEventListener("click",e.handleWinClick)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleWinClick)}},{key:"componentWillReceiveProps",value:function(e){var t=e.channel,a=(e.brandId,e.changedPostData,e.channelFor),n=e.fData,o=e.feedError,i=e.feedActionStatus,s=e.selectedPostToView,r=e.selectedContactId,l=e.loadMoreEnable,c=this.state,d=(c.feedsData,c.isPeekView,c.preventScroll),u=c.ismoreStem,p=c.feedPopupAs,m=c.selectedFeed,h=c.allowPop,f=this.props.selectedPostToView,g=(this.props.selectedContactId,this.props.channel),v=this.props.channelFor,b=(this.props.changedPostData,d),w=!1===h?"":"post"===a&&s!=f||"message"===a&&"post"===a&&r!=f?"winClick":p;m="winClick"===w||!1===h?"":m;var y=n.length,S=0===y;g!=t||a!=v?(g==t&&a==v||(b=!1),b=0===y||!0===l||!0===i,this.setState({feedsData:n,isPeekView:!1,preventScroll:b,ismoreStem:!1,selectedFeed:m,feedPopupAs:w,allowPop:!0,isLoading:S}),this.reset&&this.reset()):(o||0!=y)&&u?this.setState({ismoreStem:!1,isLoading:!1}):d!=i&&!0===i?this.setState({preventScroll:i}):n!=this.props.fData&&this.setState({feedsData:n})}},{key:"scrollEve",value:function(e){var t=this,a=e.target.dataset.id;if(e.persist(),"feed_scroll_container"===a){var n=e.currentTarget,o=this.props,i=o.feedsFrom,s=o.feedsTo,r=o.loadMoreEnable,l=o.searchValue,c=o.toLoad,d=this.state,u=d.preventScroll,p=d.feedsMode,m=n.scrollTop,h=n.clientHeight;if(m/(n.scrollHeight-h)*100>90&&1!=r&&1!=u&&"all"===p&&!0===c){var f=e.currentTarget.children[0].offsetTop;i+=20,s+=20,this.setState({ismoreStem:!0,preventScroll:!0},function(){t.props.makeApiCallforGetFeeds(!0,i,s,e.currentTarget,f,l)})}}}},{key:"changeFilter",value:function(e,t){var a=this;""!==e?this.setState({feedPopupAs:"winClick"},function(){a.props.changeFilterType(e)}):this.setState({feedPopupAs:"filterClick"})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.isLoading,t.feedsData),n=t.viewImagePreview,o=t.viewImageData,i=t.sImageId,s=t.isPeekView,r=t.selectedFeed,l=t.feedPopupAs,c=t.ismoreStem,d=t.feedsMode,u=this,p=this.props,m=p.channel,f=p.selectedPostToView,g=p.selectedFeeds,v=(p.sFid,p.isAllSelected),b=p.channelFor,w=p.brandId,y=p.confPageAId,S=p.filterBy,k=p.crntDepId,C=p.loadMoreEnable,I=p.selectedChannelInfo,E=p.isApiCalled,D=p.permissions,x=p.noChannelFound,P=p.selectedBrandData,T=p.searchValue,A=p.hasExpired,F=p.feedError,O=p.brandDepId,B=p.feedActionStatus,z=p.selectedContactId,j=p.searchRefreshed,V=p.changeSocialStatus,M=p.SmartTDView,L=p.accessibleDepartments,K=p.activeDepNameId,H=p.cmtBoxCombo,U=p.popupCombo,W=p.currentDepartment,q=p.convertTicket,Z=p.teamsList,G=p.agentsActionChunk,Y=p.showConfirmBox,J=p.feedIntegActions,Q=p.socialStatus,$=p.getDepartmentName,ee=p.addNewFeed,te=p.socialUsers,ae=p.toLoad,ne=a.length,oe={},ie=[],se={},re=N()(g),le=D.haveDeletePermission,ce=D.haveEditPermission,de=!0===le||!0===ce;0!=a.length&&a.filter(function(e,t){var a="post"===b?e.id:e.conversationId,n=void 0;if(null!=a){n=f===a?"isHovered":"";var o=!1,i=e.ticket||{},c=i.departmentId||"";null!=i&&-1!=L.indexOf(c)&&!0===de&&((-1!=re.indexOf(a)||!0===v&&re.length<10)&&(se[a]=e.ticket.ticketNumber,o=!0),oe[a]=e.ticket.ticketNumber);var p=""+b+a,g="mentions"!=S&&"mentionedPost"!=S&&""===T,C="all"===d||"converted"===d&&null!=e.ticket||"notconverted"===d&&(void 0===e.ticket||a===r);"post"===b&&(!0===B&&null!=e.ticket||!0===C)&&ie.push(h.a.createElement(ze,{key:p,feedId:a,feedsAs:m,feedData:e,clickPost:u.props.selectpost,classForFeed:n,feedsActions:u.actionsOnPOst,feedModify:u.modifyFeed,brandId:w,selectedPostId:f,isSelected:o,select:u.props.select,crntFeedLen:ne,totalTFeedIds:oe,crntSelectedFIds:se,selectedChannelInfo:I,listingFor:b,tPeekViewActions:u.tPeekViewActions,isPeekView:s,crntDepId:k,searchValue:T,popupFeedId:r,changePopupId:u.changePopupId,feedPopupAs:l,containerRef:u.socialFeedcontainer,deletePermission:g,mode:"postActions",brandDepId:O,viewAttachments:u.viewAttachments,openConfirmBox:u.props.openConfirmBox,socialPopupAction:u.props.socialPopupAction,feedsMode:d,SmartTDView:M,accessibleDepartments:L,activeDepNameId:K,cmtBoxCombo:H,popupCombo:U,currentDepartment:W,convertTicket:q,teamsList:Z,showConfirmBox:Y,feedIntegActions:J,selectedBrandData:P,socialStatus:Q,agentsActionChunk:G,getDepartmentName:$,socialUsers:te,permissions:D})),"message"===b&&(!0===B&&null!=e.ticket||!0===C)&&(n=z===a?"isHovered":"",ie.push(h.a.createElement(ze,{key:p,feedId:a,feedsAs:m,listingFor:b,feedModify:u.modifyFeed,clickPost:u.props.selectpost,classForFeed:n,selectAContact:u.props.selectAContact,feedData:e,feedsActions:u.actionsOnPOst,selectedPostId:z,selectedChannelInfo:I,brandId:w,tPeekViewActions:u.tPeekViewActions,isPeekView:s,confPageAId:y,crntDepId:k,popupFeedId:r,changePopupId:u.changePopupId,feedPopupAs:l,deletePermission:!1,mode:"postActions",containerRef:u.socialFeedcontainer,brandDepId:O,totalTFeedIds:oe,crntSelectedFIds:se,isSelected:o,select:u.props.select,crntFeedLen:ne,socialPopupAction:u.props.socialPopupAction,openConfirmBox:u.props.openConfirmBox,feedsMode:d,SmartTDView:M,accessibleDepartments:L,activeDepNameId:K,cmtBoxCombo:H,popupCombo:U,currentDepartment:W,convertTicket:q,teamsList:Z,showConfirmBox:Y,feedIntegActions:J,selectedBrandData:P,socialStatus:Q,agentsActionChunk:G,getDepartmentName:$,socialUsers:te,permissions:D})))}});var ue="viewOnly"===n||"viewOnlyOthers"===n?"type2":"type1",pe="post"===b?""!=f:""!=z,he=119,fe=0!=a.length||"switching"===E||"toSearch"===E?"active":""!=T?"active":"twitter"===m||"post"===b?"searchActive":"normal";if(A||x)he=!0===A?125:!0===x?118:119;else{switch("message"===b?b:S){case"pagePost":he="all"===d?100:"converted"===d?101:102;break;case"mentionedPost":he="all"===d?103:"converted"===d?104:105;break;case"visitorPost":he="all"===d?106:"converted"===d?107:108;break;case"mentions":he="all"===d?112:"converted"===d?113:114,0!=T.length&&(he=119);break;case"posts":he="all"===d?109:"converted"===d?110:111;break;case"message":he="all"===d?115:"converted"===d?116:117;break;default:he=119}he=!0===F?119:he}var ge=!0===c?"tweet":"tweets";"facebook"===m&&(ge=!0===c?"post":"posts"),"post"!=b&&(ge=!0===c?"messages":"listMessages");var be=ie.length;ie=0===be?h.a.createElement(X.d,{loadingFor:ge,animateCount:"5"}):ie;var we=function(e){var t=e.index,a=e.style,n=e.ref;return 0===be?"":ie.map(function(e,o){if(t===o)return h.a.createElement("div",{ref:n,style:a},e)})};return h.a.createElement(R.Box,{flexible:!0,className:""+gt.a.SocialContainerRight},("viewOnly"===n||"viewOnlyOthers"===n)&&h.a.createElement(me,{selectedAId:i,isSupportimage:"viewOnly"===n,type:ue,attData:o,closeViewAttach:function(){u.setState({viewImagePreview:"none",sImageId:"",viewImageData:[]})}}),h.a.createElement(Mt.d,null,h.a.createElement(Mt.c,{needPadding:!1},(1!=x&&!1===A||1!=x&&0===a.length||"switching"===E)&&h.a.createElement(Vt,{selectAllcheckBox:this.props.selectAll,changeFilter:this.changeFilter,isAllSelected:v,viewAttachments:this.viewAttachments,channelFor:b,filterBy:S,searchValue:T,channel:m,totalTFeedIds:oe,crntSelectedFIds:se,brandId:w,contactInfo:I,actionsOnPost:this.props.actionsOnPost,initiateSearch:this.initiateSearchInfeed,changePopupId:u.changePopupId,mode:fe,feedPopupAs:l,openConfirmBox:this.props.openConfirmBox,isFeedSelected:pe,isSearchRefreshed:j,handleListbyTicket:this.filterByTicket,feedsMode:d,socialPopupAction:this.props.socialPopupAction,cmtBoxCombo:H,popupCombo:U,socialStatus:Q,addNewFeed:ee,brandData:P,changeSocialStatus:V,permissions:D})),0!=be?h.a.createElement(Rt.a,{isElementsFixedWidth:!1,isElementsFixedHeight:!1,renderRow:we,itemsCount:be,estimatedItemSize:100,overScanCount:10,component:this.renderContent,onReachBoundary:this.loadMoreFeeds,throbberGetter:function(){return c&&ae?h.a.createElement(X.d,{loadingFor:ge,animateCount:"2"}):""},className:gt.a.Socialrightpanellisting,getPublicMethods:this.getPublicMethods}):h.a.createElement(Mt.a,{needPadding:!1},h.a.createElement("div",{className:gt.a.SocialContainers1},h.a.createElement("div",{ref:function(t){e.socialFeed_container=t},"data-id":"feed_scroll_container",onScroll:this.scrollEve.bind(this)},0===a.length||!0===A||0===a.length&&!0===F||0===be&&0!=a.length&&!0===E?h.a.createElement(ve.a,{noChannelFound:x,componentFor:b,emptyCompoentCode:he,brandData:P,feedsAs:m,hasExpired:A,feedError:F,refreshContent:this.props.refreshContent,addAccData:this.props.addAccData}):""!=T&&0===a.length||"switching"===E||"toSearch"===E?!0===F?h.a.createElement(ve.a,{noChannelFound:x,componentFor:b,brandData:P,feedsAs:m,hasExpired:A,feedError:F,refreshContent:this.props.refreshContent,addAccData:this.props.addAccData}):h.a.createElement(X.d,{loadingFor:ge,animateCount:"5"}):0===be?h.a.createElement(X.d,{loadingFor:ge,animateCount:"5"}):h.a.createElement(Rt.a,{isElementsFixedWidth:!1,containerClassName:gt.a.Socialrightpanellisting+" "+gt.a["message"===b?"SocialMessageFeed":""],renderRow:we,itemsCount:a.length,isConstant:{height:!1,width:!0},estimatedItemSize:40,overScanCount:10,onReachBoundary:this.loadMoreFeeds,getPublicMethods:this.getPublicMethods}),c?h.a.createElement(X.d,{loadingFor:ge,animateCount:"2"}):!0===C&&"all"===d?h.a.createElement("div",{className:gt.a.TwitterLoadMoreDiv},h.a.createElement("span",{"data-id":"feed_all_loadmore",onClick:this.loadMoreFeeds,className:gt.a.TwitterLoadMore},h.a.createElement(_.c,{i18NKey:"support.social.feed.loadmore"}))):"")))))}}]),t}(h.a.Component),Kt=Lt;Lt.propTypes={SmartTDView:g.a.func,accessibleDepartments:g.a.array,actionsOnPost:g.a.func,activeDepNameId:g.a.object,addAccData:g.a.func,addNewFeed:g.a.func,agentsActionChunk:g.a.object,brandDepId:g.a.string,brandId:g.a.string,changeFilterType:g.a.func,changePostView:g.a.func,changeSocialStatus:g.a.func,changedPostData:g.a.object,channel:g.a.string,channelFor:g.a.string,cmtBoxCombo:g.a.object,confPageAId:g.a.string,convertTicket:g.a.func,crntDepId:g.a.string,currentDepartment:g.a.object,fData:g.a.array,feedActionStatus:g.a.bool,feedError:g.a.bool,feedIntegActions:g.a.object,feedsActions:g.a.func,feedsFrom:g.a.number,feedsTo:g.a.number,filterBy:g.a.string,getDepartmentName:g.a.func,hasExpired:g.a.bool,initiateSearch:g.a.func,isAllSelected:g.a.bool,isApiCalled:g.a.oneOfType([g.a.bool,g.a.string]),loadMoreEnable:g.a.bool,makeApiCallforGetFeeds:g.a.func,noChannelFound:g.a.bool,openConfirmBox:g.a.func,permissions:g.a.object,popupCombo:g.a.object,refreshContent:g.a.func,sFid:g.a.string,searchRefreshed:g.a.bool,searchValue:g.a.string,selectAll:g.a.func,selectedBrandData:g.a.object,selectedChannelInfo:g.a.object,selectedContactId:g.a.string,selectedFeeds:g.a.array,selectedPostToView:g.a.string,showConfirmBox:g.a.func,showMessage:g.a.func,socialPopupAction:g.a.func,socialStatus:g.a.object,socialUsers:g.a.object,teamsList:g.a.array,toLoad:g.a.bool};var Ht=a("./src/components/Social/SocialRightPannel/SocialRightPannel.module.css"),Ut=a.n(Ht),Wt=a("./src/components/Social/BrandInfo/BrandInfo.module.css"),qt=a.n(Wt),Zt=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=(e.brandId,e.desc),n=e.departmentId,o=e.brandImage,i=e.getDepartmentName,s=e.currentOrgId,r=Object(ue.k)(o,s),l=Object(ue.g)(t);return h.a.createElement("div",{className:qt.a.container,"data-id":"brandInfo"},h.a.createElement(R.Container,{alignBox:"row",align:"vertical"},h.a.createElement("div",{className:qt.a.avatar},h.a.createElement(z.a,{name:l,src:r,shape:"circle"})),h.a.createElement(R.Box,{flexible:!0,className:qt.a.title},t)),null!=n&&h.a.createElement("div",{className:qt.a.SocialInfoSubtitle},h.a.createElement(_.c,{tag:"div",i18NKey:"support.setup.social.conf.form.asdep"}),h.a.createElement("div",{className:qt.a.subtitleText},i(n))),""!=a&&h.a.createElement("div",{className:qt.a.SocialInfoSubtitle},h.a.createElement(_.c,{tag:"div",i18NKey:"support.setup.social.desc"}),h.a.createElement("div",{className:qt.a.subtitleText,dangerouslySetInnerHTML:{__html:a}})))}}]),t}(h.a.Component),Gt=Zt;Zt.propTypes={brandId:g.a.string.isRequired,brandImage:g.a.string.isRequired,currentOrgId:g.a.string.isRequired,departmentId:g.a.string,desc:g.a.string,getDepartmentName:g.a.func,name:g.a.string.isRequired};var Yt=a("./src/components/Social/ChannelStats/ChannelStats.module.css"),Jt=a.n(Yt),Qt=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={},a.getStatsTemplate=a.getStatsTemplate.bind(a),a}return p()(t,e),l()(t,[{key:"getStatsTemplate",value:function(e){var t=this.props.statsJson;if("facebook"===e){var a=t.fb||{};if(0===N()(a).length||null!=a.error)return[];var n=a.likes,o=a.pageViews,i=a.newLikes,s=a.unLikes;return n=void 0===n?0:n,o=void 0===o?0:o,i=void 0===i?0:i,s=void 0===s?0:s,[{action:"Likes",actionDName:_.h.getI18NValue("support.social.feed.likes"),actionCount:n},{action:"Page views",actionDName:_.h.getI18NValue("support.social.feed.pageviews"),actionCount:o},{action:"newLikes",actionDName:_.h.getI18NValue("support.social.feed.newlikes"),actionCount:i},{action:"Fans lost",actionDName:_.h.getI18NValue("support.social.feed.unlikes"),actionCount:s}]}if("twitter"===e){var r=t.twitter||{};if(0===N()(r).length||null!=r.error)return[];var l=r.favorites,c=r.followers,d=r.following,u=r.statusCount;return l=void 0===l?0:l,c=void 0===c?0:c,d=void 0===d?0:d,u=void 0===u?0:u,[{action:"Tweets",actionDName:_.h.getI18NValue("support.social.filter.tweets"),actionCount:u},{action:"Favorites",actionDName:_.h.getI18NValue("support.social.twitter.favorites"),actionCount:l},{action:"Followers",actionDName:_.h.getI18NValue("support.social.twitter.followers"),actionCount:c},{action:"Following",actionDName:_.h.getI18NValue("support.social.twitter.following"),actionCount:d}]}}},{key:"render",value:function(){var e=this.getStatsTemplate("facebook"),t=this.getStatsTemplate("twitter"),a=function(e){var t=[];return 0===e.length?t:(e.filter(function(e,a){var n=e.action,o=e.actionCount,i=e.actionDName;"newLikes"!=n&&t.push(h.a.createElement("span",{key:a},h.a.createElement("p",{className:Jt.a.actionPragraph},i),h.a.createElement("span",{"data-id":i,className:Jt.a.actionCount},o)))}),t)},n=a(e),o=a(t);0!=e.length&&e[2].actionCount;return h.a.createElement("span",{"data-id":"channelStatsWrapper"},0!=n.length?h.a.createElement("div",{className:Jt.a.SocialStatsMainHead},h.a.createElement(_.c,{tag:"div",className:Jt.a.title,i18NKey:"support.social.fb.stats"}),h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:Jt.a.row},n),h.a.createElement("div",{className:Jt.a.SocialInfo},h.a.createElement(V.a,{name:"ZD-fbReactLike",size:"35"}),h.a.createElement(_.c,{tag:"div",className:Jt.a.text,i18NKey:"support.social.fb.newlike.week"}),h.a.createElement("div",{className:Jt.a.count},2))):"",0!=o.length?h.a.createElement("div",null,h.a.createElement(_.c,{tag:"div",className:Jt.a.title,i18NKey:"support.social.twitter.stats"}),h.a.createElement(R.Container,{alignBox:"row",align:"vertical",className:Jt.a.row},o)):"")}}]),t}(h.a.Component),Xt=Qt;Qt.propTypes={channel:g.a.string.isRequired,statsJson:g.a.object.isRequired};var $t=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={brandInfo:{},isLoading:e.makeLoading,infoDuration:"week",isApierror:1},a.getBrandInfoFromServer=a.getBrandInfoFromServer.bind(a),a}return p()(t,e),l()(t,[{key:"getBrandInfoFromServer",value:function(e,t,a){var n=this,o=this.state.infoDuration,i=this.props,s=i.portalName;(0,i.getBrandStatData)("/support/"+s+"/Social.do?mode=getBrandStats&brandId="+t+"&duration="+o).then(function(e){var t=e.data,o=1,i=t.error,s=t.apiError;if(void 0===i&&void 0===s&&null!=t.data){var r=t.data,l=r.twitter||{},c=r.facebook||{};o=null!=l.error||null!=c.error?4:1,(a=P()({},a)).fb=c,a.twitter=l}else o=2;n.setState({brandInfo:a,isLoading:!1,isApierror:o})})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.brandId,a=e.selectedBrandData,n=e.channel;this.getBrandInfoFromServer(n,t,a)}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props.brandId,n=e.brandId,o=e.selectedBrandData,i=e.channel;n!=a&&this.setState({isLoading:!0},function(){t.getBrandInfoFromServer(i,n,o)})}},{key:"render",value:function(){var e=this.state,t=e.brandInfo,a=e.isLoading,n=e.isApierror,o=this.props,i=o.channel,s=o.makeLoading,r=o.hideInfo,l=o.noChannelFound,c=o.getDepartmentName,d=o.currentOrgId,u={},p=t.fb,m=t.twitter,f=t.brandName,g=t.id,v=t.description,b=t.departmentId,w=t.href;null==p&&null==m||(u.fb=p,u.twitter=m);var y=2===n?"brandInfo_error":"",S=2===n?119:124,k=!0===r?"hide":"",C=Object(ue.d)("SocialContainersInfo");return h.a.createElement("div",{className:Ut.a[C]+" "+Ut.a[k],"data-id":"socialRightPannelWrapper"},!0===a||!0===s?h.a.createElement(X.a,{loadingFor:"tweet",animateCount:"1"}):h.a.createElement("div",null,h.a.createElement("div",{className:Ut.a.SocialContainersInfoheader},h.a.createElement(_.c,{i18NKey:"support.social.brand.info",tag:"span"})),h.a.createElement("div",null,h.a.createElement(Gt,{name:f,brandId:g,desc:v,departmentId:b,getDepartmentName:c,brandImage:w,currentOrgId:d}),!1!==l||2!==n&&3!==n&&4!==n?null!=p||null!=m?h.a.createElement(Xt,{statsJson:u,channel:i}):"":h.a.createElement(ve.a,{componentFor:y,emptyCompoentCode:S}))))}}]),t}(h.a.Component),ea=$t;$t.propTypes={brandId:g.a.any,channel:g.a.any,currentOrgId:g.a.string,getBrandStatData:g.a.func,getDepartmentName:g.a.func,hideInfo:g.a.bool,makeLoading:g.a.bool,noChannelFound:g.a.bool,portalName:g.a.string,selectedBrandData:g.a.any};var ta=a("./src/tickets/actions/index.js"),aa=a("./src/actions/Social/AddActions.js"),na=a("./src/actions/Social/DeleteActions.js"),oa=a("./src/actions/AgentAction.js"),ia=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.getConfirmBoxEle=a.getConfirmBoxEle.bind(a),a.state={selectedBrandId:"",view:"all",searchWord:"",selectedTIdForView:"",selectedPtIdForView:"",selectedProIdForView:"",selectedContactId:"",selectedFeeds:{},channelAs:e.channelAs,filterBy:"",channelFor:e.channelMode,ComponentView:"detailView",actionMode:!1,selectAll:!1,postDetailView:"post",brandId:e.brandId||e.brandsData[0].id,changedPostData:{},feedsData:[],curData:"",isApiCalled:e.noChannelFound,feedsFrom:0,feedsTo:19,loadMoreEnable:!1,feedError:!1,isNew:!1,isNewJson:{facebookPosts:!0,twitterPosts:!0},layoutPopup:!1,layoutPopupFor:{},searchValue:"",searchRefreshed:!1,noChannelFound:e.noChannelFound,hasExpired:!1,isActionsSuccess:!1,isCommentClick:!1,openConfirm:!1,brandSwitch:!1},a.selectBrand=a.selectBrand.bind(a),a.selectApost=a.selectApost.bind(a),a.changePostDetail=a.changePostDetail.bind(a),a.selectFeed=a.selectFeed.bind(a),a.selecetAllFeeds=a.selecetAllFeeds.bind(a),a.modifyParentData=a.modifyParentData.bind(a),a.selectAContact=a.selectAContact.bind(a),a.getFeedsData=a.getFeedsData.bind(a),a.getMoreFeeds=a.getMoreFeeds.bind(a),a.changeFilterType=a.changeFilterType.bind(a),a.actionsOnPost=a.actionsOnPost.bind(a),a.makeApiCallForFeedAction=a.makeApiCallForFeedAction.bind(a),a.feedsActions=a.feedsActions.bind(a),a.makefeedsActionAPICall=a.makefeedsActionAPICall.bind(a),a.socialPopupAction=a.socialPopupAction.bind(a),a.initiateSearch=a.initiateSearch.bind(a),a.analyzeChannel=a.analyzeChannel.bind(a),a.closeActionSlider=a.closeActionSlider.bind(a),a.getFeedsTicketIds=a.getFeedsTicketIds.bind(a),a.openConfirmBox=a.openConfirmBox.bind(a),a.setSearchIntervalAction=a.setSearchIntervalAction.bind(a),a.changePostView=a.changePostView.bind(a),a.getDepartmentName=a.getDepartmentName.bind(a),a.addAccData=a.addAccData.bind(a),a}return p()(t,e),l()(t,[{key:"addAccData",value:function(){var e=this.props,t="/"+e.portalName+"/"+e.depName+"/setup/"+e.moduleName+"/brands";this.props.push({pathname:t})}},{key:"getConfirmBoxEle",value:function(e,t,a){a=void 0!==a&&a;var n=function(e,t){return _.h.getI18NValue(e,t)},o=n("support.social.leavemsg.post"),i=n("support.social.attention"),s=n("support.social.cancel"),r=n("support.social.delete"),l=n("support.social.leave"),c=n("support.social.ok"),d=void 0===d?o:d,u=void 0===u?i:u,p=this;e=void 0===e?{closeConfirmBox:function(){p.setState({openConfirm:!1})},cancelConfirmBox:function(){p.setState({openConfirm:!1})}}:e;var m=s,h=r;h="2"===t?c:"3"===t?l:h;var f="1"===t?"delete":"alert";(0,this.props.showConfirmBox)({type:f,submitText:h,cancelText:m,title:u,message:d,isActive:a,palette:"danger"}).then(function(){e.closeConfirmBox()})}},{key:"openConfirmBox",value:function(e,t){var a=this,n={cancelConfirmBox:function(){a.setState({openConfirm:!1},function(){null!=e.cancelConfirmBox&&e.cancelConfirmBox()})},closeConfirmBox:function(){a.setState({openConfirm:!1},function(){null!=e.closeConfirmBox&&e.closeConfirmBox()})}};this.setState({openConfirm:!0},function(){a.getConfirmBoxEle(n,t,!0)})}},{key:"setSearchIntervalAction",value:function(){var e=this;return setInterval(function(){var t=e.state,a=t.searchValue,n=t.selectedPtIdForView,o=t.selectedProIdForView,i=t.actionMode,s=t.channelFor,r=t.channelAs;""===n&&""===o&&!1===i&&"post"===s&&"twitter"===r&&""!=a&&e.initiateSearch(a,!1)},12e4)}},{key:"getFeedsData",value:function(e,t){var a=e.brandId,n=e.channel,o=e.channelFor,i=(e.isServerCall,e.feedFrom),s=e.feedTo,r=(e.event,e.eveValue,e.searchValue),l=e.noChannelFound,c=e.channelId,d=e.filterBy,u=this,p=this.props.socialStatus.getFeedsMode;d=p,r=void 0===r?"":r;var m=t.feedsData,h=t.channelAs,f=t.curData,g=(t.feedsFrom,t.isNewJson),v=t.isNew,b=t.selectedTIdForView,w=t.selectedProIdForView,y=t.selectedPtIdForView,S=t.selectedFeeds,k=t.actionMode,C=t.selectAll;m="basedState"===t.isApiCalled?[]:m;var I=t.searchValue,E=t.brandId,D=t.channelFor,x=this.props.socialCursors,T=c+"_"+d,F=x[T=!0===(null!=r&&""!=r&&"twitter"===n)?c+"_"+r:T]||"";if(f=""!=F?A()(F):F,a!=E||n!=h||D!=o||null!=m&&(""!=f||0===m.length||i!=this.state.feedsFrom&&""!=f)||E!=a||null!=r&&""!=r&&""!=f){a==E&&n==h&&D==o||(S={},k=!1,b="",w="",y="",C=!1,[],f=""),n===h&&D===o&&C&&(C=!1),E===a&&n===h&&D===o&&""===f&&(k=!1,S=[]);var O="facebook"===n?"facebookPosts":"twitterPosts",B=Object(he.B)()+"/v1/socialBrands/"+a+"/"+O+"?type="+d,z=t;if(""===I||""===r){if(n===z.channelAs&&o===z.channelFor&&""!=f&&a===E){var j=A()(f);B=Object(he.B)()+"/v1/socialBrands/"+a+"/"+O+"?type="+d+"&cursor="+encodeURIComponent(j)}if("message"===o&&(O="facebook"===n?"facebookConversations":"twitterConversations",B=Object(he.B)()+"/v1/socialBrands/"+a+"/"+O,n===z.channelAs&&o===z.channelFor&&""!=f&&a===E)){var V=A()(f);B=Object(he.B)()+"/v1/socialBrands/"+a+"/"+O+"?cursor="+encodeURIComponent(V)}}if(null!=r&&""!=r){var R=this.props.portalName;B="/support/"+R+"/Social.do?brandId="+a+"&searchType=keyword&mode=search&searchKey="+encodeURIComponent(r)+"&network="+n,""!=f&&(B="/support/"+R+"/Social.do?brandId="+a+"&searchType=keyword&mode=search&searchKey="+encodeURIComponent(r)+"&network="+n+"&cursor="+encodeURIComponent(f))}var M=!1;if(v)(g=P()({},g))[O]=!1,N()(g).map(function(e,t){!0===g[e]&&(M=!0)});this.props.getSocialFeedsData(a,d,n,c,f,r,B).then(function(t){var p=t.data.apiError,m="alive"===u.mountStatus;if(!0===p&&!0===m){var v=s>=39&&""!=f;n==h&&D==o||(v=!1);var E=u.state;u.setState({loadMoreEnable:v,noChannelFound:l,feedError:!0,hasExpired:!1,brandId:a,channelAs:n,channelFor:o,filterBy:d,selectAll:C,refreshContent:function(){u.getFeedsData(e,E)},layoutPopup:!0,layoutPopupFor:{id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.fetcherror")},brandSwitch:!1,searchRefreshed:!1,searchValue:r},function(){u.props.socialPopup(!0,{id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.fetcherror")})})}var N=u.props,x=N[d],P=N.socialCursors[c+"_"+d];if(m){if(P=void 0===P?"":P,null!=x&&0!=x.length){var T=x,A=""!==P&&!(s<=39),F="twitter"===n&&"post"===o&&""!=r&&r===I;u.setState({isApiCalled:!0,isNewJson:g,isnew:M,brandId:a,feedsData:T,curData:P,channelAs:n,channelFor:o,hasExpired:!1,selectAll:C,searchValue:r,selectedTIdForView:b,selectedProIdForView:w,selectedPtIdForView:y,filterBy:d,feedsFrom:i,feedsTo:s,selectedFeeds:S,actionMode:k,loadMoreEnable:A,feedError:!1,noChannelFound:!1,refreshContent:function(){},brandSwitch:!1,searchRefreshed:F},function(){if(""!=r&&!0===F){setTimeout(function(){m&&u.setState({searchRefreshed:!1})},5e3)}})}else!function(e){0!=i&&(i-=20,s-=20);var t=!1===e?e:s>=39&&""!=f;u.setState({searchValue:r,noChannelFound:l,isApiCalled:!0,brandId:a,channelAs:n,channelFor:o,loadMoreEnable:t,hasExpired:!1,selectAll:C,selectedTIdForView:b,selectedProIdForView:w,selectedPtIdForView:y,filterBy:d,feedsFrom:i,feedsTo:s,selectedFeeds:S,actionMode:k,refreshContent:function(){},brandSwitch:!1})}(!1)}})}}},{key:"getMoreFeeds",value:function(e,t,a,n,o){var i=this.props.socialStatus,s=i.brandId,r=i.channel,l=i.channelMode,c=i.searchValue,d=this.state,u={searchValue:c,brandId:s,channel:r,channelFor:l,isServerCall:e,feedFrom:t,feedTo:a,event:n,eveValue:o,noChannelFound:!1,channelId:this.props.channelId};this.getFeedsData(u,d)}},{key:"socialPopupAction",value:function(e,t){e=void 0!==e&&e,t=void 0===t?{}:t,this.props.socialPopup(e,t)}},{key:"getFeedsTicketIds",value:function(e,t){var a=this.state,n=a.feedsData,o="post"===a.channelFor?"id":"conversationId",i=!0,s=[],r=!0===t?N()(e):e;return n.filter(function(e,t){r.map(function(t,a){if(e[o]===t){var n=e.ticket;if(null!=n){var r=n.id;-1===s.indexOf(r)&&s.push(r)}else i=!1}})}),{ticketIds:s,isvalid:i}}},{key:"feedsActions",value:function(e,t,a,n){var o=this,i=this.state,s=(i.feedsData,i.selectedFeeds),r=(i.channelAs,i.channelFor,i.selectedPtIdForView);i.layoutPopup;if("modify"===e){var l=!0===a?{id:(new Date).getTime(),nftnType:1,nftnText:n,IconCode:113}:{};this.setState({feedsData:t,selectedPtIdForView:r,layoutPopup:a,layoutPopupFor:l},function(){o.props.socialPopup(a,l)})}else if("convertTicket"===e||"spam"===e||"delete"===e){var c=this.getFeedsTicketIds(s,!0),d=c.ticketIds;if(!1===c.isvalid)(0,this.props.showMessage)({type:"success",message:_.h.getI18NValue("support.social.oops.wrongdesc")});else this.makefeedsActionAPICall(e,d,s)}}},{key:"makefeedsActionAPICall",value:function(e,t,a){var n=this,o=void 0,i=t.length,s=this.state,r=s.feedsData,l=s.channelFor,c=this.props,d=c.spamSocialTicket,u=c.handleId,p=c.channelAs,m=c.brandId,h=i<2?"sing_module":"module",f=Object(he.w)("tickets",!1,h).tickets||"Ticket",g=_.h.getI18NValue("support.social.tickets.mulitiple.error",f);"spam"===e&&(Object(he.B)()+"/v1/tickets/markSpam",{ids:t,isSpam:"true"},o=_.h.getI18NValue("support.social.ticket.mulitiple.spam",f)),"delete"===e&&(Object(he.B)()+"/v1/movetoTrash",{entityIds:t},o=_.h.getI18NValue("support.social.ticket.mulitiple.delete",f));var v=N()(a);d(m,p,u,v,t).then(function(e){if(e.data.apiError)alert("error on Spam");else{var t=P()([],r),a="post"===l?"id":"conversationId";v.map(function(e,n){var o=[];t.map(function(t,n){(t=P()({},t))[a]===e&&delete t.ticket,o.push(t)}),t=o}),n.setState({feedsData:t,selectedFeeds:{},selectAll:!1,actionMode:!1,layoutPopup:!0,layoutPopupFor:{id:(new Date).getTime(),nftnType:1,nftnText:o}},function(){n.props.socialPopup(!0,{id:(new Date).getTime(),nftnType:1,nftnText:o})})}},function(e){n.props.socialPopup(!0,{id:(new Date).getTime(),nftnType:2,nftnText:g})})}},{key:"analyzeChannel",value:function(e,t,a,n){var o=void 0,i=void 0;o=this.state.channelAs;var s=""!=n&&"message"!=n?"post":n,r=!0,l=!1;return e.map(function(e,s){var c=e.channels,d=c.length;if(e.id===t){if(0!=d){if(void 0===a||""===a){var u=c[0],p=c[1];a=u.network,l=u.hasExpired,"facebook"===a&&void 0===u.pageId&&(void 0===p||(a=p.network,l=p.hasExpired))}""!=a&&null!=a&&c.map(function(e,t){e.network===a&&(o="facebook"===a?null!=e.pageId?"facebook":"twitter":a,l=e.hasExpired)})}else r=!1;r=""!==a&&void 0!==a&&r,i="message"===n?"message":"facebook"===o?"pagePost":"mentions"}}),{channel:o,filterBy:i,channelThere:r,channelFor:s,hasExpired:l}}},{key:"componentWillUnmount",value:function(){this.mountStatus="dead"}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.state.brandsData!=e.brandsData){var a=e.brandsData,n=e.socialStatus,o=e.noChannelFound,i=n.channel,s=n.channelId,r=n.brandId,l=n.channelMode,c=n.getFeedsMode,d=this.analyzeChannel(a,r,i,l),u=d.filterBy,p=d.channelThere,m=d.channelFor,h=d.hasExpired;u=""===c||void 0===c?u:c;d.channel;var f=this.props.socialStatus;if(""===r||r===f.brandId&&f.channel===i&&f.getFeedsMode===c&&f.channelId===s)return void this.setState({noChannelFound:o});if(""===f.channel||void 0===f.channel)return;if(""!=r&&p&&!1===h){var g=this.props,v=this.state,b=r!=f.brandId||f.channel!=i||f.getFeedsMode!=c||f.channelId!=s,w=!0===b?"":v.selectedTIdForView,y=!0===b?"":v.selectedProIdForView,S=!0===b?"":v.selectedPtIdForView,k=!0===b?"":v.selectedContactId,C=0!=(e[c]||[]).length||!0===o||!b,I={brandId:r,channel:i,channelFor:m,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:u,noChannelFound:o,channelId:s};this.setState({brandId:r,channel:i,channelFor:m,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:u,noChannelFound:o,selectedTIdForView:w,selectedProIdForView:y,selectedPtIdForView:S,selectedContactId:k,isApiCalled:C},function(){o||""==s||null==s||t.getFeedsData(I,g)})}else(""!=r&&!1===p||!0===h)&&(h=!1!==p&&h,this.setState({isApiCalled:!0,brandId:r,loadMoreEnable:!1,noChannelFound:!0,channelAs:"facebook",hasExpired:h,selectedTIdForView:"",selectedProIdForView:"",selectedPtIdForView:"",feedsFrom:0,feedsTo:19,selectedFeedId:[],actionMode:!1}))}}},{key:"componentDidMount",value:function(){var e=this;this.mountStatus="alive";var t=this.props,a=t.brandsData,n=t.channelAs,o=t.handleId,i=t.noChannelFound,s=t.channelMode,r=this.props.brandId,l=""===r?a[0].id:r,c=this.analyzeChannel(a,l,n,s),d=c.channel,u=c.filterBy,p=c.channelThere,m=c.channelFor,h=c.hasExpired;if(""!=l&&p&&!h&&""!=o){var f={brandId:l,channel:d,channelFor:m,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:u,noChannelFound:i,channelId:o},g=this.state;this.setState({brandId:l,channel:d,channelFor:m,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:u,noChannelFound:i},function(){i||null==o||""==o||e.getFeedsData(f,g)})}else(""!=l&&!1===p||!0===h)&&(h=!1!==p&&h,this.setState({isApiCalled:!0,brandId:l,loadMoreEnable:!1,noChannelFound:!0,channelAs:"facebook",hasExpired:h,selectedTIdForView:"",selectedProIdForView:"",selectedPtIdForView:"",feedsFrom:0,feedsTo:19,selectedFeedId:[],actionMode:!1,layoutPopupFor:{}}))}},{key:"modifyParentData",value:function(e,t){t===this.state.selectedPtIdForView&&this.setState({changedPostData:e})}},{key:"selectAContact",value:function(e,t,a,n,o){if(""!=this.state.selectedContactId&&"message"===o);this.setState({selectedContactId:e,channelAs:n,selectedTIdForView:t,selectedProIdForView:a,postDetailView:o,selectedPtIdForView:""})}},{key:"selectBrand",value:function(e,t,a,n,o){var i=this,s=this,r=this.props,l=r.changeCommentBox,c=r.channelId,d=r.socialStatus;if(Object(be.b)(d)){var u={closeConfirmBox:function(){l(!1),s.selectBrand(e,t,a,n,o)}};this.openConfirmBox(u,"3")}else{var p=!1,m=function(){s.setState({isApiCalled:!0,brandId:e,loadMoreEnable:!1,noChannelFound:!0,feedsData:[],channelAs:t,hasExpired:p,channelFor:a,selectedTIdForView:"",selectedProIdForView:"",selectedPtIdForView:"",feedsFrom:0,feedsTo:19,selectedFeedId:[],actionMode:!1,layoutPopupFor:{}})};if(n){var h;this.props.brandsData.map(function(n,o){var i=n.channels;a=e!=s.state.brandId?"post":a;var r=i.length;n.id===e&&(0!=r?i.map(function(e,a){var n=e.network;t===n&&(p=e.hasExpired)}):t="facebook")});var f="facebook"===t?"pagePost":"mentions",g=e!=this.state.brandId,v=this.state,b=v.feedError,w=v.feedsData;b=!0!==g&&t==this.state.channelAs&&b;var y=this.state,S=e===y.brandId&&t===y.channel&&a===y.channelFor?w:[],k=0!=S.length&&"basedState";this.setState((h={isApiCalled:k,selectedPtIdForView:"",feedsData:S,curData:"",feedsFrom:0,feedsTo:19,selectedTIdForView:"",selectedProIdForView:"",selectedContactId:""},E()(h,"selectedPtIdForView",""),E()(h,"searchValue",""),E()(h,"hasExpired",p),E()(h,"loadMoreEnable",!1),E()(h,"noChannelFound",!1),E()(h,"brandSwitch",g),E()(h,"feedError",b),E()(h,"layoutPopupFor",{}),h),function(){if(p)m();else{var n={brandId:e,channel:t,channelFor:a,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:f,noChannelFound:!1,channelId:c};i.state;i.setState({brandId:e,channel:t,channelFor:a,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:f,noChannelFound:!1},function(){var e=i.state;i.getFeedsData(n,e,e)})}})}else m()}}},{key:"selectApost",value:function(e,t,a,n,o,i){var s=this.state,r=(s.brandId,s.postDetailView),l=s.channelFor,c=this.props,d=c.changeCommentBox,u=c.socialStatus,p=this,m=void 0!==i&&i,h=function(){var i="post"===l?e:"",s="message"===l?e:"";p.setState({selectedPtIdForView:i,channelAs:n,selectedTIdForView:t,selectedProIdForView:a,postDetailView:o,selectedContactId:s,isCommentClick:m,layoutPopupFor:{}})};if(Object(be.b)(u)&&o!=r){var f={closeConfirmBox:function(){d(!1),m=!1,h()}};this.openConfirmBox(f,"3")}else h()}},{key:"initiateSearch",value:function(e,t,a){var n,o=this;if(!0!==a){var i=this.state,s=i.brandId,r=i.channelAs,l=i.channelFor,c=i.filterBy,d=(i.searchValue,{brandId:s,channel:r,channelFor:l,isServerCall:!0,feedFrom:0,feedTo:19,filterBy:c,searchValue:e,noChannelFound:!1,channelId:this.props.channelId});this.setState((n={isApiCalled:"toSearch",selectedPtIdForView:"",feedsData:[],curData:"",feedsFrom:0,feedsTo:19,selectedTIdForView:"",selectedProIdForView:"",selectedContactId:""},E()(n,"selectedPtIdForView",""),E()(n,"layoutPopupFor",{}),n),function(){var e=o.state;o.getFeedsData(d,e)})}}},{key:"selecetAllFeeds",value:function(e,t){var a=this,n=this.state.selectAll;!0===n&&(e={});var o=N()(e),i=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket",s=_.h.getI18NValue("support.social.tickets.mulitiple.selectlimitdesc",i),r=10===o.length&&!1===n?{id:(new Date).getTime(),nftnType:3,nftnText:s}:{},l=10===o.length&&!1===n;this.setState({selectAll:!n,selectedFeeds:e,actionMode:!n,layoutPopup:l,layoutPopupFor:r},function(){a.props.socialPopup(l,r)})}},{key:"selectFeed",value:function(e,t,a,n){var o=this.state,i=o.selectedFeeds,s=(o.actionMode,N()(i)),r=P()({},i);if(-1===s.indexOf(e)){if(s.length>=10){var l=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket",c=_.h.getI18NValue("support.social.tickets.mulitiple.countlimit",l);return void this.props.socialPopup(!0,{id:(new Date).getTime(),nftnType:3,nftnText:c})}r[e]=n;var d=t===(s=N()(r)).length;this.setState({selectedFeeds:r,actionMode:!0,selectAll:d})}else{delete r[e];var u=t===(s=N()(r)).length,p=0!=s.length;this.setState({selectedFeeds:r,actionMode:p,selectAll:u})}}},{key:"makeApiCallForFeedAction",value:function(e,t,a){var n=void 0,o=void 0,i=!1,s=this.state.channelAs,r="facebook"===s?"facebookPosts":"twitterPosts",l="facebook"===s?"like":"favorite";switch(e){case"like":n=Object(he.B)()+"/v1/socialBrands/"+a+"/"+r+"/"+t+"/"+l,o=E()({},l,!0),"post",i=!0;break;case"unlike":n=Object(he.B)()+"/v1/socialBrands/"+a+"/"+r+"/"+t+"/"+l,o=E()({},l,!1),"post",i=!0;break;case"feedDelete":n=Object(he.B)()+"/v1/socialBrands/"+a+"/"+r+"/"+t,"del",i=!0;break;case"ticketDelete":n=Object(he.B)()+"/v1/movetoTrash","post";var c=[];c.push(t);var d=this.getFeedsTicketIds(c,!1);o={entityIds:d.ticketIds},i=d.isvalid;break;case"retweet":n=Object(he.B)()+"/v1/socialBrands/"+a+"/"+r+"/"+t+"/retweet","post",o={retweet:!0},i=!0;break;case"undoRetweet":n=Object(he.B)()+"/v1/socialBrands/"+a+"/"+r+"/"+t+"/retweet","post",o={retweet:!1},i=!0}var u={like:"facebook"===s?102:110,unlike:"facebook"===s?103:110,comment:104,retweet:105,undoRetweet:106,feedDelete:107,ticketDelete:107,message:"facebook"===s?107:111,"Feed Add":"facebook"===s?108:109,replyTweet:112};if(i){var p=this;this.props.feedBasicActions(n,e,o,a,s,t).then(function(n){var o=n.data,i=o.apiError;if(null!=o.error||null!=i){var s=void 0===u[e]?101:u[e],r={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.fetcherror"),IconCode:s};p.setState({isActionsSuccess:!1,layoutPopup:!0,layoutPopupFor:r},function(){p.props.socialPopup(!0,r)})}else p.actionsOnPost(e,t,a,!1)},function(t){var a=void 0===u[e]?101:u[e],n={id:(new Date).getTime(),nftnType:2,nftnText:_.h.getI18NValue("support.social.internalerror"),IconCode:a};p.setState({isActionsSuccess:!1,layoutPopup:!0,layoutPopupFor:n},function(){p.props.socialPopup(!0,n)})})}}},{key:"actionsOnPost",value:function(e,t,a,n,o){if(!0!==n){var i=[],s={},r=!1,l=this.state,c=l.feedsData,d=l.channelAs,u=l.channelFor,p=l.filterBy;c=P()([],c);var m=e,h=1,f=void 0,g=!0,v=["inlike","inunlike","inretweet","inundoRetweet"];if(-1===["Feed Add","replyTweet","api_fail","Feed_Add_fail"].indexOf(e)){-1!=v.indexOf(e)&&(e=e.replace("in",""));var b="post"===u?"id":"conversationId";r=!0;var w=this;c.filter(function(a,n){var r=!0,l=(a=P()({},a)).retweeted_status,c=null!=l?l[b]:"";if(a[b]===t||c===t){var u="facebook"===d?"likes":"favorites",p="facebook"===d?"canLike":"canFavorite";if(f=104,"like"===e||"unlike"===e)if(f="facebook"===d?"like"===e?102:103:110,m="like"===e?"support.social.like.success":"support.social.unlike.success",null!=l){var h=(l=P()({},l))[u];(h=P()({},h))[p]=!h[p];var v=parseInt(h.count);h.count=!0===h[p]?v-1:v+1,l[u]=h,a.retweeted_status=l}else{var y=a[u];(y=P()({},y))[p]=!y[p];var S=parseInt(y.count);y.count=!0===y[p]?S-1:S+1,a[u]=y}if("comment"===e){f=104;var k=_.h.getI18NValue("facebook"===d?"support.social.feed.comment":"support.social.feed.reply");m=_.h.getI18NValue("support.social.addpost.success",k);var C=a.replies,I=+(C=P()({},C)).count;C.count=I+1;var E=o.comment||{};C.data=E.data||[],a.comment=E,a.replies=C}if("share"===e){var D=a.shares,N=parseInt(D.count);D.count=N+1,a.shares=D}if("retweet"===e||"undoRetweet"===e)if(f=105,m="retweet"===e?"support.social.retweet.success":"support.social.undoretweet.success",m=_.h.getI18NValue(m),null!=l&&"retweet"===e){var x=(l=P()({},l)).retweets;x.canRetweet=!x.canRetweet;var T=parseInt(x.count);x.count=!0===x.canRetweet?T-1:T+1,l.retweets=x,a=l}else{var A=a.retweets;A.canRetweet=!A.canRetweet;var F=parseInt(A.count),O=A.canRetweet;A.count=!0===O?F-1:F+1,O||(delete a.ticket,a.retweeted_status=a),a.retweets=A}if("feedDelete"===e&&(m="support.social.feed.delete.success",f=106,r=!1),"ticketDelete"===e){var B=Object(he.w)("tickets",!1,"sing_module").tickets||"Ticket";m=_.h.getI18NValue("support.social.feed.ticket.delete.success",B),f=106,delete a.ticket}"message"===e&&(m="support.social.privatemsg.success",s=o,g=!1,r=!1),"cmtCountMfy"!==e&&"getcomment"!==e||(a=o,g="getcomment"===e?w.state.layoutPopup:g)}r&&i.push(a)}),"message"===e?(m="support.social.privatemsg.success",f="facebook"===d?107:111,i.unshift(s)):"like"===e||"unlike"===e?(f="facebook"===d?"like"===e?102:103:110,m="like"===e?"support.social.like.success":"support.social.unlike.success"):"retweet"!==e&&"undoRetweet"!==e||(f=105,m="retweet"===e?"support.social.retweet.success":"support.social.undoretweet.success")}else if("Feed Add"===e){var y=_.h.getI18NValue("facebook"===d?"support.setup.social.postupper":"support.setup.social.tweetupper");m=_.h.getI18NValue("support.social.addpost.success",y),f="facebook"===d?108:109,i=c,"pagePost"!==p&&"posts"!==p||i.unshift(o),r=!0}else if("Feed_Add_fail"===e){f=101;var S=_.h.getI18NValue("facebook"===d?"support.setup.social.postupper":"support.setup.social.tweetupper");m=_.h.getI18NValue("support.social.addpost.fail",S),i=c,h=2,r=!0}else"replyTweet"===e&&"posts"===p?(f=112,m="support.social.twitter.reply.success",(i=c).unshift(o),r=!0):"api_fail"===e&&(f=101,m="support.social.fetcherror",i=c,h=2,r=!0);if(-1!=["inlike_fail","inunlike_fail","inretweet_fail","inundoRetweet_fail"].concat(v).indexOf(e))switch(r=!0,e){case"inlike":f="facebook"===d?102:110,m="support.social.like.success";break;case"inunlike":f="facebook"===d?103:110,m="support.social.unlike.success";break;case"inretweet":f=105,m="support.social.retweet.success";break;case"inundoRetweet":f=105,m="support.social.undoretweet.success";break;default:f="inlike_fail"===e?"facebook"===d?102:110:"inunlike_fail"===e?"facebook"===d?103:110:105,m="support.social.internalerror",h=2}if(r){m=_.h.getI18NValue(m);var k=this.state,C=k.selectedProIdForView,I=k.selectedPtIdForView,E=k.selectedContactId,D=k.channelFor,N=k.channelAs;k.layoutPopupFor;"feedDelete"===e&&t===("profile"===D?C:"facebook"===N?I:E)&&(C="",I="",E="");var x=!0===g&&"cmtCountMfy"!=e&&"getcomment"!=e?{id:(new Date).getTime(),nftnType:h,nftnText:m,IconCode:f,isSvg:!0}:{};x.id&&this.props.socialPopup(g,x),this.setState({selectedPtIdForView:I,selectedProIdForView:C,selectedContactId:E,isActionsSuccess:!0})}}else this.makeApiCallForFeedAction(e,t,a)}},{key:"changePostDetail",value:function(e){this.setState({postDetailView:e})}},{key:"closeActionSlider",value:function(){this.setState({actionMode:!1,selectedFeeds:{},selectAll:!1,selectedProIdForView:"",selectedPtIdForView:"",selectedContactId:""})}},{key:"changeFilterType",value:function(e){var t=this.props,a=t.socialStatus,n=t.portalName,o=t.depName,i=t.moduleName,s=P()({},a);s.getFeedsMode=e;var r=s.brandId,l=s.channel,c=s.getFeedsMode,d="/"+n+"/"+o+"/"+i+"/brands/"+r+"/"+l+"/"+(c=c.toLowerCase());""!==l&&void 0!==l||(d="/"+n+"/"+o+"/"+i+"/brands/"+r),this.props.push({pathname:d})}},{key:"changePostView",value:function(){this.setState({selectedProIdForView:"",selectedPtIdForView:"",selectedContactId:""})}},{key:"getDepartmentName",value:function(e){return(this.props.activeDepNameId[e]||{}).value||""}},{key:"render",value:function(){var e=this.state,t=e.feedError,a=e.ComponentView,n=e.selectedTIdForView,o=e.selectedContactId,i=e.selectedPtIdForView,s=e.selectedProIdForView,r=(e.view,e.postDetailView),l=(e.channelFor,e.selectedFeeds),c=e.actionMode,d=e.selectAll,u=e.changedPostData,p=e.isCommentClick,m=e.brandSwitch,f=e.searchRefreshed,g=this.state,v=g.isNew,b=g.isNewJson,w=g.filterBy,y=g.isApiCalled,S=g.feedsFrom,k=g.feedsTo,C=g.loadMoreEnable,I=(g.layoutPopup,g.layoutPopupFor,g.noChannelFound),E=g.hasExpired,D=g.isActionsSuccess,x=g.refreshContent,P=(g.openConfirm,g.curData),T=this.props,A=T.brandsData,F=(T.confPageAId,T.crntDepId),B=T.openTicketDv,j=T.activeDepNameId,M=T.accessibleDepartments,L=T.setPopupStatus,K=T.changeCommentBox,H=T.showConfirmBox,U=T.portalName,W=T.brandId,q=T.crntDepData,Z=T.spamSocialTicket,G=T.deleteBrand,Y=T.deleteChannel,J=T.deletePost,Q=T.deleteSocialTicket,$=T.socialStatus,ee=T.getFacebookComments,te=T.getFacebookCmtReplies,ae=T.changeSocialStatus,ne=T.getMessages,oe=T.messagingData,ie=T.socialUsers,se=T.getTweet,re=T.permissions,le=T.getBrandStatData,ce=T.getProfile,de=T.getProfileTimeLine,pe=T.getIntrActionsData,me=T.followTwitterAccount,he=T.addSocialUserToContact,fe=T.currentOrgId;if(T.urlError)return h.a.createElement("div",null,"URL ERROR");var ge={spamSocialTicket:Z,deleteBrand:G,deleteChannel:Y,deletePost:J,deleteSocialTicket:Q},ve=$.getFeedsMode,we=$.channel,ye=($.channelId,$.channelMode),Se=$.isSearchMode,ke=$.searchValue;ke=void 0===ke?"":ke;var Ce=this.props,Ie=Ce.teamsList,Ee=Ce.allagentsObj,De=Ce.getAgentsList,Ne=Ce.searchAgents,xe=Ce.addNewFeed,Pe=Ce.addNewComment,Te=Ce.likeCmt,Ae=Ce.addNewMsg,_e={allagentsObj:Ee,getAgentsList:De,searchAgents:Ne},Fe=!0===Se?this.props[ke]:this.props[ve];Fe=void 0===Fe?[]:Fe;var Oe=we,Be="listMessages";if("post"===ye&&(Be="facebook"===Oe?"listPosts":"listTweets"),""===W)return h.a.createElement(X.c,{loadingFor:Be,animateCount:"5"});var ze={setPopupStatus:L,isPopupOpen:be.d},je={changeCommentBox:K,commentBoxStatus:be.b},Ve={},Re=this,Me=void 0,Le={},Ke={},He=!1,Ue="",We=(A.map(function(e,t){var a=e.brandName,n=e.href,o=e.id,i=e.departmentId,s=Object(ue.k)(n,fe),r=!1,l=!1,c=!1,d="none",u=e.channels;0!=u.length&&(c="facebook"!==(d="twitter"===u[0].network?null!=u[1]&&null!=u[1].pageId?"facebook":"twitter":"facebook")||("facebook"===u[0].network?null!=u[0].pageId:null!=u[1].pageId)),o===W&&(Le=e,Ue=void 0===i?"-1":i,0===u.length?He=!1:(He=!0,u.map(function(e,t){if(r="twitter"===e.network||r,l="facebook"===e.network&&null!=e.pageId||l,e.network===Oe){var a="facebook"===Oe?"pageId":"accountId",n="facebook"===Oe?"pageName":"accountName";void 0===(Me=e[a])&&(He=!1,l=!1),Ke.name=e[n],Ke.href=e.href,Ke.id=e[a]}})));var p=o===W?"rotateClass":"defaultClass",m=Object(ue.g)(a);return h.a.createElement("span",{key:t},h.a.createElement("li",{className:O.a.SocialLeftList,"data-id":"brand_select",onClick:Re.selectBrand.bind(this,o,d,"post",c)},h.a.createElement("span",null,h.a.createElement("div",null,h.a.createElement(z.a,{src:s,name:m,size:"xsmall",shape:"circle"})),h.a.createElement("span",null,a)),A.length>1&&h.a.createElement("span",{className:O.a.SocialListOpenIcon},h.a.createElement(V.a,{name:"ZD-upArrow",iconClass:O.a[p]}))),o===W&&(!0===l||!0===r)&&h.a.createElement("div",{className:O.a.SocialleftpanelFbTwit},!0===l&&h.a.createElement("div",{"data-id":"select_channel_fbpost",className:O.a.SocialleftpanelFb+" "+O.a["facebook"===Oe&&"post"===ye?"SocialFbTwitSel":""],onClick:Re.selectBrand.bind(this,o,"facebook","post",l)},h.a.createElement(V.a,{name:"ZD-fbBox",iconClass:O.a.boxitag}),h.a.createElement("div",{className:O.a.w100},h.a.createElement(_.c,{i18NKey:"support.social.fb.feed"}),!0===v&&!0===b.facebookPosts&&h.a.createElement("div",{className:O.a.posab},h.a.createElement("div",{className:O.a.newtktcnt},"New")))),!0===l&&h.a.createElement("div",{"data-id":"select_channel_fbmsg",className:O.a.SocialleftpanelMsg+" "+O.a["facebook"===Oe&&"message"===ye?"SocialFbTwitSel":""],onClick:Re.selectBrand.bind(this,o,"facebook","message",l)},h.a.createElement("svg",{className:O.a.messengersvgIcon},h.a.createElement("use",{xlinkHref:"#messenger"})),h.a.createElement("div",{className:O.a.w100},h.a.createElement(_.c,{i18NKey:"support.social.fb.msg"}),!0===v&&!0===b.facebookConversations&&h.a.createElement("div",{className:O.a.posab},h.a.createElement("div",{className:O.a.newtktcnt},"New")))),!0===r&&h.a.createElement("div",{"data-id":"select_channel_twitterpost",className:O.a.SocialleftpanelTwit+" "+O.a["twitter"===Oe&&"post"===ye?"SocialFbTwitSel":""],onClick:Re.selectBrand.bind(this,o,"twitter","post",r)},h.a.createElement(V.a,{name:"ZD-twitterBox",iconClass:O.a.boxitag}),h.a.createElement("div",{className:O.a.w100},h.a.createElement(_.c,{i18NKey:"support.social.twitter.feed"}),!0===v&&!0===b.twitterPosts&&h.a.createElement("div",{className:O.a.posab},h.a.createElement("div",{className:O.a.newtktcnt},"New")))),!0===r&&h.a.createElement("div",{"data-id":"select_channel_twittermsg",className:O.a.SocialleftpaneldMsg+" "+O.a["twitter"===Oe&&"message"===ye?"SocialFbTwitSel":""],onClick:Re.selectBrand.bind(this,o,"twitter","message",r)},h.a.createElement(V.a,{name:"ZD-messageBox",iconClass:O.a.boxitag}),h.a.createElement("div",{className:O.a.w100},h.a.createElement(_.c,{i18NKey:"support.social.twitter.msg"}),!0===v&&!0===b.twitterConversations&&h.a.createElement("div",{className:O.a.posab},h.a.createElement("div",{className:O.a.newtktcnt},"New"))))))}),{});0!=Fe.length&&Fe.filter(function(e,t){var a=e.author,n=e.to,r=a.id;Me===r&&(Ke=a),null!=n&&(n.id===Me||"facebook"===Oe&&n.id===Me)&&(Ke=n);var l="post"===ye?e.id:e.conversationId;if(""!=i&&l===i&&(We=a,Ve=e),"message"===ye&&""!=o&&l===o){var c=n.id;Ve=e,null!=n&&c!=Me&&(We=n),null!=a&&r!=Me&&(We=a),Ke=a,c===Me&&(Ke=n)}if(""!=s){var d=a.id,u=void 0;null!=n&&(u=n.id),We=s===d?a:We,null!=n&&(We=s===u?n:We),d===Me&&(Ke=a),u===Me&&null!=n&&(Ke=n)}});var qe=N()(l),Ze=[],Ge=0!=Fe.length&&!0===c&&0!=qe.length;!0===c&&0!=qe.length&&Fe.filter(function(e,t){var a=e["post"===ye?"id":"conversationId"];-1!=qe.indexOf(a)&&Ze.push(e)});var Ye=""!=P,Je=(Object(ue.d)("listcontainer"),Object(ue.d)("Socialleftpanellist"),{addNewComment:Pe,addNewFeed:xe,addNewMsg:Ae}),Qe={getFacebookComments:ee,getFacebookCmtReplies:te,getTweet:se},Xe={getProfile:ce,getProfileTimeLine:de,getIntrActionsData:pe,addSocialUserToContact:he,followTwitterAccount:me};return h.a.createElement(R.Container,{alignBox:"row",className:O.a.SocialPageLayout},!1===t&&!1===y&&""===ke&&(!0===He||!1===I)&&0==Fe.length&&h.a.createElement(R.Box,{flexible:!0},h.a.createElement(X.d,{loadingFor:Be,animateCount:"5"})),(!0===y||"switching"===y||"toSearch"===y||"basedState"===y||""!=ke||!0===E)&&"detailView"===a&&""!=W&&(""!=Oe||!0===I)&&h.a.createElement(Kt,{selectpost:this.selectApost,channel:Oe,brandId:W,channelFor:ye,selectedPostToView:i,selectedFeeds:l,select:this.selectFeed,sFid:i,postDetailView:r,isAllSelected:d,filterBy:w,selectAll:this.selecetAllFeeds,changedPostData:u,selectedContactId:o,selectAContact:this.selectAContact,fData:Fe,changeFilterType:this.changeFilterType,makeApiCallforGetFeeds:this.getMoreFeeds,confPageAId:Me,feedsFrom:S,feedsTo:k,crntDepId:F,selectedChannelInfo:Ke,feedsActions:this.feedsActions,actionsOnPost:this.actionsOnPost,loadMoreEnable:C,isApiCalled:y,initiateSearch:this.initiateSearch,noChannelFound:I,selectedBrandData:Le,searchValue:ke,addAccData:this.addAccData,hasExpired:E,feedError:t,refreshContent:x,brandDepId:Ue,openConfirmBox:this.openConfirmBox,feedActionStatus:Ge,socialPopupAction:this.socialPopupAction,searchRefreshed:f,toLoad:Ye,changePostView:this.changePostView,SmartTDView:B,accessibleDepartments:M,activeDepNameId:j,popupCombo:ze,cmtBoxCombo:je,currentDepartment:q,convertTicket:this.props.convertTicket,teamsList:Ie,showConfirmBox:H,feedIntegActions:ge,socialStatus:$,agentsActionChunk:_e,getDepartmentName:this.getDepartmentName,addNewFeed:xe,changeSocialStatus:ae,socialUsers:ie,permissions:re}),0!=Fe.length&&"detailView"===a&&!1===c&&""!=s&&(""!=i||""!=o)&&h.a.createElement(mt,{view:r,brandId:W,channel:Oe,feedData:Ve,channelFor:ye,changeView:this.changePostDetail,selectedTId:n,selectedPtId:i,selectedProId:s,selectedContactId:o,feedDataChange:this.modifyParentData,confPageAId:Me,actionsOnPost:this.actionsOnPost,contactInfo:We,selectedChannelInfo:Ke,selectInpost:this.selectApost,isCommentClick:p,isActionsSuccess:D,filterBy:w,socialPopupAction:this.socialPopupAction,brandDepId:Ue,feedsActions:this.feedsActions,accessibleDepartments:M,activeDepNameId:j,popupCombo:ze,cmtBoxCombo:je,showConfirmBox:H,portalName:U,currentDepartment:q,convertTicket:this.props.convertTicket,socialStatus:$,selectedBrandData:Le,addNewActions:Je,getCmtsActions:Qe,likeCmt:Te,getMessageData:ne,messagingData:oe,permissions:re,profileActionsChunk:Xe,crntDepId:F,socialUsers:ie,feedBasicActions:this.props.feedBasicActions}),h.a.createElement(ea,{brandId:W,channel:Oe,selectedBrandData:Le,channelFor:ve,noChannelFound:I,makeLoading:m,hideInfo:""!=i||""!=o||""!=s,socialPopupAction:this.socialPopupAction,getDepartmentName:this.getDepartmentName,portalName:U,getBrandStatData:le,currentOrgId:fe}),0!=Fe.length&&!0===c&&0!=qe.length&&h.a.createElement(ht.a,{selectAll:d,selectedFeeds:l,selectedFeedActions:this.feedsActions,closeAction:this.closeActionSlider,selectedFeedsData:Ze,permissions:re}))}}]),t}(h.a.Component);var sa=Object(v.connect)(function(e,t){var a=!1,n=(e=P()({},e)).module,o=n.fbposts,i=n.tweets,s=n.conversations,r=e.socialStatus,l=e.convMessageData||{},c=n.messages||[],d=e.routing.paramMap,u=e.routing.urls,p=u.socialBrandWithchannel,m=(u.socialBrands,2===p.match),h=d.handle,f=d.brandId,g=d.filter;a=null!=g&&!1===a?-1===["pagepost","mentionedpost","visitorpost","posts","mentions","conversations"].indexOf(g):a;var v={pagepost:"pagePost",mentionedpost:"mentionedPost",visitorpost:"visitorPost",posts:"posts",mentions:"mentions",conversations:"conversations"};g=void 0===v[g]?g:v[g];var b=d.moduleName,w=d.deptName,y=d.orgName,S=!0===m?"conversations"===g?"message":"post":"",k=r.isSearchMode,I=(r.searchValue,P()({},r)),E="",D=!1;if(m){var x=e.module.brands[f]||{};a=!1===a&&null!=f?void 0===x.id:a;var T=x.channels||[];a=!1===a&&null!=h?-1===["twitter","facebook"].indexOf(h):a,T.map(function(e){e.network===h&&(D=!1,E="facebook"===h?e.pageId:e.accountId),""!==E&&void 0!==E||(D=!0,E="")}),(I=P()({},I)).getFeedsMode=g,I.channel=h,I.channelId=E,I.brandId=f,I.channelMode=S}else{E=void 0===E||""===E?I.channelId:E,f=null!=f?f:I.brandId,I.channelMode,h=I.channel,D=void 0===E||""===E||D;var A=e.module.brands[f]||{};a=!1===a&&null!=f?void 0===A.id:a;var _=A.channels||[];a=!1===a&&null!=h?-1===["twitter","facebook"].indexOf(h):a,_.map(function(e){e.network===h&&(D=!1,E="facebook"===h?e.pageId:e.accountId),""!==E&&void 0!==E||(D=!0,E="")}),E=void 0!==E&&""!==E||0==_.length?E:I.channelId}var F=e.socialCursors,O={};if(null!=h&&""!=E){var B=e[h][E];if("message"===S){var z=null!=B?B.conversations:[],j=[];(z=void 0===z?[]:z).map(function(e){j.push(s[e])}),O.conversations=j,O.messagingData={convMsgMaps:l,messages:c}}else{var V="facebook"===h?["pagePost","mentionedPost","visitorPost"]:["posts","mentions"];null!=B?(k&&(V=N()(B)),V.map(function(e){var t=B[e]||[],a=[];0!=t.length&&t.map(function(e){var t="facebook"===h?o:i;a.push(t[e])}),O[e]=a})):V.map(function(e){O[e]=[]})}}""===E&&(D=!0);var R=e.myInfo.associatedDepartmentIds,M=Object(C.A)(e),L=Object(C.n)(e);"allDepartment"===L.id&&((L=P()({},L)).id="-1");var K={};M.map(function(e){K[e.id]=e});var H=[];R.map(function(e){var t=K[e];H.push(t.id)});var U=e.module.agent,W=e.handleAuthors,q={handleId:E,handle:h,brandId:f,activeDepNameId:K,accessibleDepartments:H,portalName:y,currentOrgId:e.currentOrgId,depName:w,moduleName:b,crntDepData:L,socialStatus:I,socialCursors:F,allagentsObj:U,teamsList:Object(C.lb)(e),socialUsers:W,noChannelFound:D,urlError:a,channelMode:S};return q=P()(q,O)},{showConfirmBox:k.b.showConfirmBox,showMessage:k.Q,changeCommentBox:be.a,openTicketDv:ta.h,setPopupStatus:be.e,getSocialFeedsData:y.n,feedBasicActions:aa.i,changeSocialStatus:y.a,convertTicket:aa.h,spamSocialTicket:na.f,deleteBrand:na.a,deleteChannel:na.b,deletePost:na.d,deleteSocialTicket:na.e,getAgentsList:oa.h,searchAgents:oa.l,addNewFeed:aa.d,addNewComment:aa.c,addNewMsg:aa.e,getFacebookComments:y.g,getFacebookCmtReplies:y.f,likeCmt:aa.l,getMessages:y.i,getTweet:y.p,getBrandStatData:y.d,getProfile:y.l,getProfileTimeLine:y.m,push:k.L,getIntrActionsData:y.h,socialPopup:be.f,addSocialUserToContact:aa.g,followTwitterAccount:aa.j})(ia);ia.propTypes={accessibleDepartments:g.a.array,activeDepNameId:g.a.object,addNewComment:g.a.func,addNewFeed:g.a.func,addNewMsg:g.a.func,addSocialUserToContact:g.a.func,allagentsObj:g.a.object,brandId:g.a.string,brandsData:g.a.array,changeCommentBox:g.a.func,changeSocialStatus:g.a.func,channelAs:g.a.string,channelId:g.a.string,channelThere:g.a.bool,confPageAId:g.a.string,convertTicket:g.a.func,crntDepData:g.a.object,crntDepId:g.a.string,currentOrgId:g.a.string,deleteBrand:g.a.func,deleteChannel:g.a.func,deletePost:g.a.func,deleteSocialTicket:g.a.func,depName:g.a.string,feedBasicActions:g.a.func,feedsData:g.a.array,followTwitterAccount:g.a.func,getAgentsList:g.a.func,getBrandStatData:g.a.func,getFacebookCmtReplies:g.a.func,getFacebookComments:g.a.func,getIntrActionsData:g.a.func,getMessages:g.a.func,getProfile:g.a.func,getProfileTimeLine:g.a.func,getSocialFeedsData:g.a.func,getTweet:g.a.func,handleId:g.a.string,likeCmt:g.a.func,messagingData:g.a.object,moduleName:g.a.string,noChannelFound:g.a.bool,openTicketDv:g.a.func,permissions:g.a.object,portalName:g.a.string,push:g.a.func,searchAgents:g.a.func,setPopupStatus:g.a.func,showConfirmBox:g.a.func,showMessage:g.a.func,socialCursors:g.a.object,socialPopup:g.a.func,socialStatus:g.a.object,socialUsers:g.a.object,spamSocialTicket:g.a.func,teamsList:g.a.array,urlError:g.a.bool};var ra=a("./src/components/Social/Unauthorized/Unauthorized.js"),la=a("./src/containers/SocialModuleContainer/SetupContainer.js");a.d(t,"SocialModuleContainer",function(){return ca});var ca=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isGetBrandsCall:"waiting"},a.checkBrandExcisit=a.checkBrandExcisit.bind(a),a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.brandsData,n=t.getBrands,o=t.routing,i=(t.handleId,t.currentOrgId,t.noBrands,t.brandId),s=t.deptId,r=this;0===a.length&&n(s,i).then(function(t){if(t.data.apiError)r.setState({isGetBrandsCall:"failure"});else{var n=o.paramMap.brandId,i=o.paramMap.handle,s=e.props.brandId;if(void 0===n||""===n){var l=o.location.pathname;return i=void 0===i?((a=r.props.brandsData).map(function(e){if(e.id===s){var t=e.channels;if(0!=t.length){var a=t[0];i=a.network,void 0===("facebook"===i?a.pageId:a.accountId)&&(i="")}}}),i):i,l=void 0===i||""===i?null!=s&&""!=s?l+"/"+s:l:l+"/"+s+"/"+i+"/"+("facebook"===i?"pagepost":"posts"),void e.setState({isGetBrandsCall:"success"},function(){e.props.push({pathname:l},!0)})}e.setState({isGetBrandsCall:"success"})}})}},{key:"checkBrandExcisit",value:function(e){var t=!1;return this.props.brandsData.map(function(a){a.id===e&&(t=!0)}),t}},{key:"render",value:function(){var e=this.props,t=e.brandsData,a=e.deptId,n=e.brandId,o=e.handle,i=e.handleId,s=e.permissions,r=(e.renderFeeds,e.socialStatus),l=e.noBrands,c=this.state.isGetBrandsCall,d="listMessages";"post"===r.channelMode&&(d="facebook"===o?"listPosts":"listTweets");var u={permissions:["agent","admin"],hasLicense:!0,from:"module"},p=u.hasLicense,m=u.from,f=u.permissions,g=-1!=f.indexOf("admin"),v=-1!=f.indexOf("user"),b=!1===this.checkBrandExcisit(n)?"url":!1===g&&!1===v?"user":!1===p?"socialedition":("setup"===m||"departments"===m)&&!0===g||"module"===m&&!0===v?"valid":"user",y="valid"===b;return h.a.createElement(R.Container,{alignBox:"column",className:w.a.clrf5,style:{background:"#fff"}},h.a.createElement(R.Box,{flexible:!0,className:w.a.clrf8,style:{background:"#f8f8f8"}},h.a.createElement(R.Container,{alignBox:"column",className:w.a.clrf5,style:{background:"#fff"}},h.a.createElement(R.Box,{flexible:!0},t.length>0?h.a.createElement(sa,{brandsData:t,crntDepId:a,brandId:n,channelAs:o,channelId:i,permissions:s}):!0===l&&"success"===c?h.a.createElement(la.default,{supportDepID:a,brandsData:t,isFrom:"module",isFromRModule:!1,supportJson:u,getBrandCreateForm:function(){console.log("testing!!")}}):!1===y&&"success"===c?h.a.createElement(ra.a,{errorFor:b,errorCase:"brand"}):"failure"===c?h.a.createElement(ve.a,{noChannelFound:!1,componentFor:"moduleFail",emptyCompoentCode:119}):h.a.createElement(X.c,{loadingFor:d,animateCount:"5"})))),Object(ue.p)())}}]),t}(m.Component);t.default=Object(S.d)(Object(v.connect)(function(e,t){var a=e.routing,n=e.module.brands,o=e.brandsData||[],i=[];o.map(function(e){i.push(n[e])});var s=a.urls,r=s.socialBrands,l=s.socialBrandWithchannel,c=s.socialBrandNoChannel,d=2===l.match,u=!0==(2===c.match)?a.paramMap.brandId:o[0],p=a.paramMap.handle,m="",h=function(e,t){var a=void 0;return i.map(function(n){if(n.id===e){var o=n.channels;if(0!=o.length){var i=o[0];null!=t&&o.map(function(e){e.network===t&&(i=e)}),a=i.network,m="facebook"===a?i.pageId:i.accountId}}}),{handle:a,handleId:m}};if(d){var f=a.paramMap,g=h(u=f.brandId),v=f.handle,b=-1!=["twitter","facebook"].indexOf(v);m=!0===b?h(u,v).handleId:g.handleId,p=!0===b?v:g.handle}else p="",m="";var w={};return w.haveCreatePermission=Object(C.Ub)(e,{module:"tickets",mode:"create"}),w.haveViewPermission=Object(C.Ub)(e,{module:"tickets",mode:"view"}),w.haveEditPermission=Object(C.Ub)(e,{module:"tickets",mode:"edit"}),w.haveDeletePermission=Object(C.Ub)(e,{module:"tickets",mode:"delete"}),w.haveMergePermission=Object(C.Ub)(e,{module:"tickets",mode:"mergeTickets"}),w.haveMoveRecordsPermission=Object(C.Ub)(e,{module:"setup",mode:"moveRecords"}),w.havecreateContactsPermission=Object(C.Ub)(e,{module:"contacts",mode:"create"}),w.haveChangeOwnerPermission=Object(C.Ub)(e,{module:"tickets",mode:"changeOwner"}),{brandsData:i,fbposts:e.module.brands.fbposts,brandId:u,handle:p,handleId:m,routing:a,renderFeeds:d,permissions:w,socialStatus:e.socialStatus,currentOrgId:e.currentOrgId,noBrands:2===r.match&&0===i.length}},{getSocialFeedsData:y.n,getBrands:y.e,push:k.L,changeSocialStatus:y.a}))(ca);ca.propTypes={brandId:g.a.string,brandsData:g.a.array,changeSocialStatus:g.a.func,currentOrgId:g.a.string,deptId:g.a.string,getBrands:g.a.func,getSocialFeedsData:g.a.func,handle:g.a.string,handleId:g.a.string,noBrands:g.a.bool,orgName:g.a.string,permissions:g.a.object,push:g.a.func,renderFeeds:g.a.bool,routing:g.a.object,socialStatus:g.a.object}},"./src/images/no-image-01.png":function(e,t){e.exports="//vimalesan.herokuapp.com/hsdk/"+"./images/no-image-01.67d42df44700686a8d34.png"},"./src/images/socialbrand-default.png":function(e,t){e.exports="//vimalesan.herokuapp.com/hsdk/"+"./images/socialbrand-default.17593af330400e2fbb16.png"}}]);