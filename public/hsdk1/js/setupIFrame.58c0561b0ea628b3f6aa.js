(window.deskappJsonp=window.deskappJsonp||[]).push([[138],{"./src/containers/SetupIframe/SetupIframe.js":function(e,o,n){"use strict";n.r(o);var t=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=n.n(t),s=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=n.n(s),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=n.n(i),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),c=n.n(d),m=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=n.n(m),h=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),p=n.n(h),f=(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),b=n.n(f),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),I=n("./src/actions/index.js"),_=n("./src/containers/SetupIframe/SetupIframe.module.css"),k=n.n(_),j=function(e){function o(e){r()(this,o);var n=c()(this,(o.__proto__||a()(o)).call(this,e));return n.getIframe=n.getIframe.bind(n),n.onIframeLoaded=n.onIframeLoaded.bind(n),n.onIframeHashChange=n.onIframeHashChange.bind(n),n}return u()(o,e),l()(o,[{key:"onIframeLoaded",value:function(){this.setupIframe&&this.setupIframe.contentWindow.addEventListener("hashchange",this.onIframeHashChange)}},{key:"onIframeHashChange",value:function(e){if(this.setupIframe){var o=this.props;(0,o.replace)({pathname:o.location.pathname,hash:this.setupIframe.contentWindow.location.hash})}}},{key:"getIframe",value:function(e){this.setupIframe=e}},{key:"componentWillUnmount",value:function(){this.setupIframe&&this.setupIframe.contentWindow.removeEventListener("hashchange",this.onIframeHashChange)}},{key:"componentDidMount",value:function(){var e=this,o=this.props,n=o.hash,t=o.articleContent,a=n.indexOf("Solutions/new");this.setupIframe.onload=function(){a&&(e.setupIframe.contentWindow.SolutionForm.tktResolutionData={subject:t.subject,answer:t.content})}}},{key:"render",value:function(){var e=this.props,o=e.orgName,n=e.hash;return p.a.createElement("iframe",{className:k.a.setupIframe,src:"/support/"+o+"/ShowHomePage.do?insideReactApp=true"+n,onLoad:this.onIframeLoaded,ref:this.getIframe})}}]),o}(p.a.Component);j.prototypes={orgName:b.a.string,hash:b.a.string,replace:b.a.func,articleContent:b.a.object},o.default=Object(g.connect)(function(e){var o=e.routing,n=o.paramMap,t=o.location,a=t.hash,s=e.iframeContent.article;return{hash:a,orgName:n.orgName,location:t,articleContent:s||{}}},{replace:I.N})(j)}}]);