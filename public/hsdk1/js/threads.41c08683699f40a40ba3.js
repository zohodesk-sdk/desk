(window.deskappJsonp=window.deskappJsonp||[]).push([[150],{"../components/lib/AvatarTeam/AvatarTeam.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=c(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=c(a("../components/lib/AvatarTeam/AvatarTeam.module.css")),i=c(a("../components/lib/Avatar/Avatar.js")),l=a("../components/lib/utils/dummyFunction.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.name,n=e.size,r=e.palette,l=e.onClick,c=e.title,d=e.isFilled,u=e.dataId;return o.default.createElement("span",{className:s.default.container+" "+s.default[n]+" "+s.default[r],"data-id":u},o.default.createElement(i.default,{name:a,onClick:l,palette:r,size:n,src:t,title:c}),o.default.createElement("span",{className:s.default.team+" "+(d?s.default.filled:s.default.nofill)}))}}]),t}();t.default=d,d.defaultProps={isFilled:!1,palette:"primary",size:"medium",src:null,title:null,onClick:l.dummyFunction,dataId:"avatarTeamComp"},d.propTypes={dataId:r.default.string,isFilled:r.default.bool,name:r.default.string.isRequired,onClick:r.default.func,palette:r.default.oneOf(["primary","secondary","info"]),size:r.default.oneOf(["small","xsmall","medium","xmedium","large","xlarge"]),src:r.default.string,title:r.default.string},d.propTypesDescription={name:" ",size:" ",src:" ",palette:" ",onClick:" ",title:" ",isFilled:" "}},"../components/lib/Button/Button.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=l(a("../components/lib/Button/Button.module.css")),i=a("../components/lib/utils/dummyFunction.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.palette,n=e.disabled,r=e.size,i=e.onClick,l=e.rounded,c=e.status,d=e.children,u=e.isBold,p=e.dataId,m=e.needAppearance,h=e.className,f=e.getRef,b=m?s.default[a.toLowerCase()]+" "+(l?s.default.rounded:"")+"   "+(d?s.default["button_"+r.toLowerCase()]:s.default[r.toLowerCase()]):""+s.default.default;return o.default.createElement("button",{className:(h||"")+" "+b+" "+(u?s.default.bold:"")+"  ","data-id":n?p+"_disabled":p,disabled:n||"loading"===c.toLowerCase(),onClick:i,type:"button",ref:f},d||t,"none"!==c&&m&&o.default.createElement("div",{className:s.default.overlay},o.default.createElement("div",{className:"loading"===c.toLowerCase()?s.default.loading:s.default.success},o.default.createElement("div",{className:s.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:i.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:r.default.node,className:r.default.string,dataId:r.default.string,disabled:r.default.bool,getRef:r.default.func,isBold:r.default.bool,needAppearance:r.default.bool,onClick:r.default.func,palette:r.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:r.default.bool,size:r.default.oneOf(["small","medium","large","xlarge"]),status:r.default.oneOf(["loading","success","none"]),text:r.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/DropDown/DropDownSeparator.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=s(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=s(a("../components/lib/DropDown/DropDown.module.css"));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){return o.default.createElement("div",{className:r.default.separator})}}]),t}();t.default=i},"../components/lib/Label/Label.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=i(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=i(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=i(a("../components/lib/Label/Label.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.type,n=e.palette,r=e.size,i=e.clipped,l=e.name,c=e.title,d=e.onClick,u=e.dataId;return o.default.createElement("label",{className:s.default.label+" "+s.default[a]+" "+s.default[r]+" "+s.default[n]+"\n          "+(i?s.default.dotted:"")+" "+(d?s.default.pointer:s.default.cursor),name:l,"data-title":c,"data-id":u,onClick:d},t)}}]),t}();t.default=l,l.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},l.propTypes={clipped:r.default.bool,dataId:r.default.string,name:r.default.string,onClick:r.default.func,palette:r.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:r.default.oneOf(["small","medium","large"]),text:r.default.string,title:r.default.string,type:r.default.oneOf(["title","subtitle"])},l.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/ListItem/ListItemWithAvatar.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=u(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=u(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=a("../components/lib/Layout/index.js"),i=u(a("../components/lib/ListItem/ListItem.module.css")),l=u(a("../components/lib/Avatar/Avatar.js")),c=u(a("../components/lib/AvatarTeam/AvatarTeam.js")),d=u(a("../components/node_modules/@zohodesk/icons/lib/Icon/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.getRef=a.getRef.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"getRef",value:function(e){this.ele=e;var t=this.props,a=t.index,n=t.getRef,o=t.id;n&&n(e,a,o)}},{key:"handleClick",value:function(e){var t=this.props,a=t.onClick,n=t.id,o=t.value,r=t.index;a&&a(n,o,r,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,a=t.onMouseEnter,n=t.id,o=t.value,r=t.index;a&&a(n,o,r,e)}},{key:"render",value:function(){var e=this.props,t=(e.id,e.size),a=e.active,n=e.highlight,r=e.value,u=e.name,p=e.imgSrc,m=e.autoHover,h=e.isTeam,f=e.palette,b=e.title,g=e.needTick,v=e.isTick,y=e.dataId;return o.default.createElement(s.Container,{isCover:!1,align:"vertical",alignBox:"row",className:i.default.list+" "+i.default[t]+"  "+i.default[f]+"  "+(a?i.default.active:v?i.default.selected:n?i.default.hover:"")+" "+(m?i.default.effect:"")+" "+(g?i.default.withTick:null),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,eleRef:this.getRef,tagName:"li",dataId:(r||y)+"_ListItemWithAvatar"},u||p?o.default.createElement(s.Box,{className:i.default.left},h?o.default.createElement(c.default,{name:u,size:"xsmall",src:p}):o.default.createElement(l.default,{name:u,size:"xsmall",src:p})):null,r?o.default.createElement(s.Box,{flexible:!0,shrink:!0,"data-title":b,className:i.default.value},r):null,v?o.default.createElement("div",{className:i.default.tickIcon},o.default.createElement(d.default,{name:"ZD-ticknew",size:"10"})):null)}}]),t}();t.default=p,p.defaultProps={active:!1,autoHover:!1,highlight:!1,isTeam:!1,isTick:!1,needTick:!1,palette:"default",size:"medium",value:"List",dataId:"listAvatar"},p.propTypes={active:r.default.bool,autoHover:r.default.bool,dataId:r.default.string,getRef:r.default.func,highlight:r.default.bool,id:r.default.oneOfType([r.default.string,r.default.number]),imgSrc:r.default.string,index:r.default.number,isTeam:r.default.bool,isTick:r.default.bool,name:r.default.string,needTick:r.default.bool,onClick:r.default.func,onMouseEnter:r.default.func,palette:r.default.string,size:r.default.string,title:r.default.string,value:r.default.string},p.propTypesDescription={value:" ",onClick:" ",onMouseEnter:" ",active:" ",highlight:" ",autoHover:" ",getRef:" ",palette:" ",id:" ",index:" ",size:" ",imgSrc:" ",title:" "}},"../components/lib/MultiSelect/EmptyState.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=i(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=i(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=i(a("../components/lib/MultiSelect/MultiSelect.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"render",value:function(){var e=this.props,t=e.emptyMessage,a=e.isLoading,n=e.noMoreOptionsMessage,r=e.options,i=e.searchEmptyMessage,l=e.searchString,c=e.suggestions,d=e.dataId;return a?o.default.createElement("div",{className:s.default.message,"data-id":d+"_Loading"},"Loading..."):l.length&&0===c.length?o.default.createElement("div",{className:s.default.message,"data-id":d+"_srchEmptyMsg"},i||t):0===r.length?o.default.createElement("div",{className:s.default.message,"data-id":d+"_noOptnsMsg"},t):o.default.createElement("div",{className:s.default.message,"data-id":d+"_NoMoreOptionMsg"},n||t)}}]),t}();t.default=l,l.propTypes={dataId:r.default.string,emptyMessage:r.default.string,isLoading:r.default.bool,noMoreOptionsMessage:r.default.string,options:r.default.array,searchEmptyMessage:r.default.string,searchString:r.default.string,suggestions:r.default.array},l.defaultProps={dataId:"empty"}},"../components/lib/MultiSelect/Suggestions.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=d(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=d(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),s=d(a("../components/lib/ListItem/ListItem.js")),i=d(a("../components/lib/ListItem/ListItemWithAvatar.js")),l=d(a("../components/lib/ListItem/ListItemWithIcon.js")),c=a("../components/lib/Layout/index.js");function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),n(t,[{key:"render",value:function(){var e=this.props,t=e.suggestions,a=e.getRef,n=e.hoverOption,r=e.onClick,d=e.onMouseEnter,u=e.needTick,p=e.selectedOptions,m=e.activeId,h=e.hoverId,f=e.dataId,b=e.listItemSize;return o.default.createElement(c.Container,{isCover:!1},o.default.createElement(c.Box,{dataId:f+"_Options"},t.map(function(e,t){var c=e.id,f=e.value,g=e.photoURL,v=e.icon,y=e.optionType,E=e.iconSize,I=!!u&&-1!==p.indexOf(c),k=m===c,C=n===t||c===h;return"avatar"===y?o.default.createElement(i.default,{autoHover:!1,getRef:a,highlight:C,id:c,imgSrc:g,key:c+"avatarListItem",name:f,onClick:r,onMouseEnter:d,value:f,title:f,needTick:u,isTick:I,active:k,size:b}):"icon"===y?o.default.createElement(l.default,{autoHover:!1,getRef:a,highlight:C,id:c,key:c+"iconListItem",onClick:r,onMouseEnter:d,value:f,title:f,iconName:v,needTick:u,isTick:I,active:k,iconSize:E,size:b}):o.default.createElement(s.default,{autoHover:!1,getRef:a,highlight:C,id:c,key:c+"listItem",onClick:r,onMouseEnter:d,value:f,title:f,needTick:u,isTick:I,active:k,dataId:f,size:b})})))}}]),t}();t.default=u,u.propTypes={activeId:r.default.oneOfType([r.default.string,r.default.number]),dataId:r.default.string,getRef:r.default.func,hoverId:r.default.oneOfType([r.default.string,r.default.number]),hoverOption:r.default.number,listItemSize:r.default.oneOf(["small","medium","large"]),needTick:r.default.bool,onClick:r.default.func,onMouseEnter:r.default.func,selectedOptions:r.default.array,suggestions:r.default.arrayOf(r.default.shape({id:r.default.oneOfType([r.default.string,r.default.number]),value:r.default.oneOfType([r.default.string,r.default.number]),photoURL:r.default.string,logo:r.default.string,optionType:r.default.string}))}},"../components/lib/Select/Select.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),r=y(o),s=y(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=y(a("../components/lib/Popup/Popup.js")),l=y(a("../components/lib/DropBox/DropBox.js")),c=y(a("../components/lib/TextBoxIcon/TextBoxIcon.js")),d=y(a("../components/lib/TextBox/TextBox.js")),u=a("../components/lib/Card/Card.js"),p=y(u),m=y(a("../components/lib/MultiSelect/Suggestions.js")),h=y(a("../components/lib/MultiSelect/EmptyState.js")),f=y(a("../components/lib/Select/Select.module.css")),b=y(a("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),g=a("../components/lib/utils/dropDownUtils.js"),v=a("../components/lib/utils/Common.js");function y(e){return e&&e.__esModule?e:{default:e}}var E=[],I=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFilterSuggestions=(0,g.makeGetMultiSelectFilterSuggestions)(),a.formatOptions=(0,g.makeFormatOptions)(),a.getSelectedValue=(0,g.makeGetSelectedValueText)(),a.selectedFormatOptions={};var n=e.selectedValue,o=e.searchDebounceTime,r=void 0===o?500:o,s=e.isDefaultSelectValue,i=e.autoSelectDebouneTime,l=void 0===i?350:i,c=e.valueField,d=e.textField,u=a.handleFormatOptions(a.props),p=u.allOptions,m=u.normalizedAllOptions,h=u.optionsOrder,f=u.normalizedFormatOptions,b=a.getSelectedValue({optionsOrder:h,selectedValue:n,normalizedFormatOptions:f,selectedFormatOptions:a.selectedFormatOptions,isDefaultSelectValue:s,valueField:c,textField:d}),y=b.selected,E=b.hoverIndex,I=b.selectedValueDetails,k=b.selectedId;b.isSelfValueChanged;return a.state={selected:y,options:p,optionsNormalize:m,hoverIndex:E,searchStr:"",isFetchingOptions:!1,selectedId:k,selectedValueIndex:E},a.optionsOrder=h,a._isMounted=!1,a.normalizedFormatOptions=f,a.allSelectedOptions=I,a.handleChange=a.handleChange.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleFilterSuggestions=a.handleFilterSuggestions.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleFetchOptions=a.handleFetchOptions.bind(a),a.handleGetNextOptions=a.handleGetNextOptions.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleSearchOptions=(0,v.debounce)(a.handleSearchOptions.bind(a),r),a.suggestionContainerRef=a.suggestionContainerRef.bind(a),a.suggestionItemRef=a.suggestionItemRef.bind(a),a.searchInputRef=a.searchInputRef.bind(a),a.valueInputRef=a.valueInputRef.bind(a),a.togglePopup=a.togglePopup.bind(a),a.handleSelectFocus=a.handleSelectFocus.bind(a),a.handleFormatOptions=a.handleFormatOptions.bind(a),a.handlePopupClose=a.handlePopupClose.bind(a),a.handleClearSearch=a.handleClearSearch.bind(a),a.handleValueInputChange=a.handleValueInputChange.bind(a),a.handleChangeOnType=(0,v.debounce)(a.handleChangeOnType.bind(a),l),a.valueInputTypeString="",a.valueInputSearchString="",a.autoSelectSuggestions=[],a.autoSelectIndex=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,a=e.isDefaultSelectValue,n=e.valueField,o=e.textField,r=this.state.hoverIndex,s=this.handleFormatOptions(e),i=s.allOptions,l=s.normalizedAllOptions,c=s.optionsOrder,d=s.normalizedFormatOptions,u=this.selectedFormatOptions,p=this.getSelectedValue({optionsOrder:c,selectedValue:t,normalizedFormatOptions:d,selectedFormatOptions:u,isDefaultSelectValue:a,valueField:n,textField:o}),m=p.selected,h=p.hoverIndex,f=p.selectedValueDetails,b=p.selectedId;p.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(u,f),this.normalizedFormatOptions=d,this.optionsOrder=c,this.setState({options:i,optionsNormalize:l,selected:m,hoverIndex:r||h,selectedId:b,selectedValueIndex:h})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.suggestionContainer,n=this.optionsOrder,o=this.isSelectWithAvatarComponent,r=this.state,s=r.hoverIndex,i=r.searchStr,l=r.selectedValueIndex,c=this.props,d=c.needLocalSearch,u=c.onDropBoxClose,p=c.onDropBoxOpen,m=c.needSearch,h=c.onSearch,f=c.isPopupOpen,b=this["suggestion_"+((0,v.getIsEmptyValue)(n[s])?"":n[s])];f&&(0,v.scrollTo)(a,b),e.isPopupOpen!==f&&(f?(p&&this.handleFetchOptions(p,i),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(m&&this.valueInput&&this.valueInput.focus(),u&&u(),h&&h(""),this.setState({searchStr:o?i:"",hoverIndex:l})));var g=this.props,y=g.isNextOptions,E=g.getNextOptions,I=(f?this.handleFilterSuggestions():[]).length;f&&I<=5&&y&&E&&!d&&this.handleFetchOptions(E,i)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,a=e.valueField,n=e.textField;return this.formatOptions({options:t,valueField:a,textField:n})}},{key:"handleChange",value:function(e,t,a,n){n&&n.preventDefault&&n.preventDefault();var o=this.props,r=o.onChange,s=o.isReadOnly,i=this.state.optionsNormalize;!s&&r&&r(e,i[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,a=t.onChange,n=t.isPopupOpen,o=t.onKeyDown,r=t.isPopupOpenOnEnter,s=this.state,i=s.hoverIndex,l=s.optionsNormalize,c=this.handleFilterSuggestions(),d=e.keyCode;if(n||r||o&&o(e),n&&(38===d||40===d)&&e.preventDefault?e.preventDefault():n||40!==d||(e.preventDefault(),this.togglePopup(e)),38===d&&n&&c.length)0===i||(i-=1),this.setState({hoverIndex:i});else if(40===d&&n&&c.length)i===c.length-1||(i===c.length-3&&this.handleGetNextOptions(),i+=1),this.setState({hoverIndex:i});else if(13===d){var u=(c[i]||{}).id;n&&!(0,v.getIsEmptyValue)(u)&&a&&(a(u,l[u]),this.handlePopupClose(e)),!n&&r&&this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,a=this.state.searchStr,n=void 0===a?"":a,o=this.props.onSearch,r=n.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?r&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,a=this.optionsOrder.indexOf(e);t!==a&&this.setState({hoverIndex:a})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,a=e.excludeOptions,n=void 0===a?E:a,o=e.needSearch,r=this.state,s=r.options,i=void 0===s?E:s,l=r.searchStr;return o&&l&&l.trim().length||n&&n.length?(l=l.toLowerCase().replace(/\s+/g,""),this.getFilterSuggestions({options:i,selectedOptions:n,searchStr:l,needSearch:t}).suggestions):i}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.isFetchingOptions,o=void 0!==n&&n,r=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(a).then(function(){r&&t.setState({isFetchingOptions:!1})},function(){r&&t.setState({isFetchingOptions:!1})})}catch(e){r&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,a=e.getNextOptions,n=this.state.searchStr;t&&a&&this.handleFetchOptions(a,n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.isReadOnly,o=t.defaultDropBoxPosition;!n&&a(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,a){this["suggestion_"+a]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(){var e=this.valueInput;e&&e.setSelectionRange(e,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"handleValueInputChange",value:function(e){var t=e.which,a=String.fromCharCode(t),n=this.props,o=n.isPopupOpen,r=n.autoSelectOnType;!o&&r&&(this.valueInputTypeString+=(a||"").trim(),this.handleChangeOnType())}},{key:"handleChangeOnType",value:function(){var e=this,t=this.props.excludeOptions,a=void 0===t?E:t,n=this.state.options,o=void 0===n?E:n,r=this.optionsOrder,s=this.valueInputTypeString;this.valueInputTypeString="";var i=function(){var t=(e.autoSelectSuggestions[e.autoSelectIndex]||{}).id;if(!(0,v.getIsEmptyValue)(t)){e.handleChange(t);var a=r.indexOf(t);e.setState({hoverIndex:a})}};if(s&&s===this.valueInputSearchString)this.autoSelectIndex<this.autoSelectSuggestions.length-1?this.autoSelectIndex+=1:this.autoSelectIndex=0,i();else if(s){this.valueInputSearchString=s;var l=this.getFilterSuggestions({options:o,selectedOptions:a,searchStr:s,needSearch:!0,isStartsWithSearch:!0}).suggestions,c=void 0===l?[]:l;this.autoSelectIndex=0,this.autoSelectSuggestions=c,i()}}},{key:"render",value:function(){var e=this.props,t=e.needSearch,a=e.dropBoxSize,n=e.emptyMessage,o=e.searchEmptyMessage,s=e.needBorder,i=e.needSelectDownIcon,g=e.position,v=e.defaultDropBoxPosition,y=e.getTargetRef,E=e.getContainerRef,I=e.isPopupOpen,k=e.removeClose,C=e.isPopupReady,_=e.animationStyle,D=e.textBoxSize,S=e.textBoxVariant,A=e.searchBoxSize,O=e.searchBoxPlaceHolder,x=e.maxLength,j=e.isDisabled,T=e.title,N=e.size,w=e.placeHolder,P=e.className,F=e.portalId,R=e.isReadOnly,z=e.dataId,B=this.state,V=B.hoverIndex,M=B.selected,L=B.searchStr,Z=B.isFetchingOptions,K=B.selectedId,U=B.options,H=this.handleFilterSuggestions();return r.default.createElement("div",{className:f.default.container+" "+f.default["box_"+N]+" ","data-title":j?T:""},r.default.createElement("div",{className:""+(P||""),onClick:j||R?null:this.togglePopup,ref:y,"data-id":""+(j?z+"_disabled":R?z+"_readOnly":z)},i?r.default.createElement(c.default,{isDisabled:j,iconRotated:I,inputRef:this.valueInputRef,maxLength:x,needBorder:s,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,isReadOnly:!0,size:D,value:M,variant:S,needReadOnlyStyle:!!R,dataId:z+"_textBox",isClickable:!R&&!j,className:R||j?"":f.default.input,needEffect:!j,onKeyPress:this.handleValueInputChange},r.default.createElement("div",{className:f.default.arrowIcon,"data-id":z+"_downIcon"},r.default.createElement(b.default,{name:"ZD-blockDownArrow",size:"8"}))):r.default.createElement(d.default,{isDisabled:j,inputRef:this.valueInputRef,maxLength:x,needBorder:s,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,isReadOnly:!0,needEffect:!j,size:D,value:M,variant:S,needReadOnlyStyle:!!R,dataId:z+"_textBox",isClickable:!R&&!j,onKeyPress:this.handleValueInputChange})),R||j||!I?null:r.default.createElement(l.default,{animationStyle:_,boxPosition:g||v+"Center",getRef:E,isActive:C,isAnimate:!0,isArrow:!1,onClick:k,portalId:F,dataId:z+"_suggestions"},r.default.createElement(p.default,{className:f.default.box,onScroll:this.handleScroll},t?r.default.createElement(u.CardHeader,null,r.default.createElement("div",{className:f.default.search+" "+f.default[N]},r.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:x,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:O,size:A,value:L,onClear:this.handleClearSearch,dataId:z+"_search"}))):null,r.default.createElement(u.CardContent,{className:a?f.default[a]:"",eleRef:this.suggestionContainerRef,dataId:z+"_Options"},H.length?r.default.createElement(m.default,{activeId:K,suggestions:H,getRef:this.suggestionItemRef,hoverOption:V,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):r.default.createElement(h.default,{emptyMessage:n,isLoading:Z,options:U,searchEmptyMessage:o,searchString:L,suggestions:H,dataId:z})))))}}]),t}();I.propTypes={animationStyle:s.default.string,autoSelectDebouneTime:s.default.number,autoSelectOnType:s.default.bool,className:s.default.string,closePopupOnly:s.default.func,dataId:s.default.string,defaultDropBoxPosition:s.default.oneOf(["bottom","top","left","right"]),dropBoxSize:s.default.oneOf(["small","medium","large"]),emptyMessage:s.default.string,excludeOptions:s.default.array,getContainerRef:s.default.func,getNextOptions:s.default.func,getRef:s.default.func,getTargetRef:s.default.func,isDefaultSelectValue:s.default.bool,isDisabled:s.default.bool,isNextOptions:s.default.bool,isPopupOpen:s.default.bool,isPopupOpenOnEnter:s.default.bool,isPopupReady:s.default.bool,isReadOnly:s.default.bool,maxLength:s.default.string,needBorder:s.default.bool,needLocalSearch:s.default.bool,needSearch:s.default.bool,needSelectDownIcon:s.default.bool,onChange:s.default.func.isRequired,onDropBoxClose:s.default.func,onDropBoxOpen:s.default.func,onKeyDown:s.default.func,onSearch:s.default.func,options:s.default.oneOfType([s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])),s.default.arrayOf(s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])}))]).isRequired,placeHolder:s.default.string,portalId:s.default.string,position:s.default.string,removeClose:s.default.func,searchBoxPlaceHolder:s.default.string,searchBoxSize:s.default.string,searchDebounceTime:s.default.number,searchEmptyMessage:s.default.string,selectedValue:s.default.oneOfType([s.default.oneOfType([s.default.string,s.default.number]),s.default.shape({id:s.default.oneOfType([s.default.string,s.default.number]),text:s.default.oneOfType([s.default.string,s.default.number])})]),size:s.default.oneOf(["small","medium"]),textBoxSize:s.default.string,textBoxVariant:s.default.string,textField:s.default.string,title:s.default.string,togglePopup:s.default.func,valueField:s.default.string},I.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},I.defaultProps={animationStyle:"bounce",autoSelectOnType:!0,dataId:"selectComponent",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isPopupOpenOnEnter:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},I.displayName="Select";var k=(0,i.default)(I);k.propTypes=I.propTypes,k.defaultProps=I.defaultProps,t.default=k},"../components/lib/Switch/Switch.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),s=l(a("../components/lib/Switch/Switch.module.css")),i=l(a("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.value,r=e.checked,l=e.disabled,c=e.size,d=e.text,u=e.labelSize,p=e.labelPalette,m=e.title,h=e.dataId;return c="small"!==c?"switch_medium":"switch_small",o.default.createElement("span",{className:s.default.container+" "+(l?s.default.disabled:""),"data-title":l?m:""},o.default.createElement("span",{className:s.default[c]},o.default.createElement("input",{type:"checkbox",id:t,className:s.default.input+" "+(r?s.default.checked:""),name:a,value:n,checked:r,disabled:l,onClick:this.onChange,"data-id":h}),o.default.createElement("label",{htmlFor:t,className:s.default.label})),d&&o.default.createElement(i.default,{text:d,palette:p,id:t,size:u,type:"subtitle",onClick:this.onChange}))}}]),t}();t.default=c,c.defaultProps={checked:!1,disabled:!1,labelPalette:"primary",labelSize:"medium",size:"medium"},c.propTypes={checked:r.PropTypes.bool,dataId:r.PropTypes.string,disabled:r.PropTypes.bool,id:r.PropTypes.string.isRequired,labelPalette:r.PropTypes.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:r.PropTypes.oneOf(["small","medium","large"]),name:r.PropTypes.string,onChange:r.PropTypes.func,size:r.PropTypes.oneOf(["small","medium"]),text:r.PropTypes.string,title:r.PropTypes.string,value:r.PropTypes.bool},c.propTypesDescription={checked:" ",disabled:" ",size:" ",id:" ",name:" ",text:" ",labelSize:" ",labelPalette:" ",value:" ",onChange:" ",title:" "}},"../components/lib/Textarea/Textarea.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),i=l(a("../components/lib/Textarea/Textarea.module.css"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a.onKeyDown=a.onKeyDown.bind(a),a.onBlur=a.onBlur.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"onChange",value:function(e){e&&e.preventDefault();var t=this.props.onChange;t&&t(e.target.value,e)}},{key:"onBlur",value:function(e){e&&e.preventDefault();var t=this.props.onBlur;t&&t(e.target.value,e)}},{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.placeHolder,o=e.needBorder,s=e.text,l=e.isDisabled,c=e.resize,d=e.maxLength,u=e.animated,p=e.variant,m=e.getRef,h=e.onFocus,f=e.dataId,b=e.className,g=e.isReadOnly,v=e.needAppearance,y=e.needReadOnlyStyle,E={horizontal:"resizeX",vertical:"resizeY",both:"resizeboth",none:"noresize"},I={};g&&(I.readOnly="readOnly"),l&&(I.disabled="disabled");var k=v?i.default.container+" "+i.default[t]+" "+i.default[p]+" "+(o?i.default.needBorder:i.default.noBorder)+" "+(c?i.default[E[c]]:i.default[E.none])+"  "+(u?i.default.animated:"")+"   "+(l||g?"":i.default.effect)+"   ":""+i.default.basic;return r.default.createElement("textarea",n({className:(b||"")+" "+(g&&y?i.default.readonly:"")+" "+k,placeholder:a},I,{"data-id":f,maxLength:d,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:h,onBlur:this.onBlur,ref:m,value:s}))}}]),t}();t.default=c,c.defaultProps={isDisabled:!1,isReadOnly:!1,dataId:"TextareaComp",needBorder:!0,resize:"none",size:"small",variant:"default",needAppearance:!0,needReadOnlyStyle:!0},c.propTypes={animated:s.default.bool,className:s.default.string,dataId:s.default.string,getRef:s.default.func,isDisabled:s.default.bool,isReadOnly:s.default.bool,maxLength:s.default.oneOfType([s.default.string,s.default.number]),needAppearance:s.default.bool,needBorder:s.default.bool,needReadOnlyStyle:s.default.bool,onBlur:s.default.func,onChange:s.default.func,onFocus:s.default.func,onKeyDown:s.default.func,placeHolder:s.default.string,resize:s.default.oneOf(["horizontal","vertical","both","none"]),size:s.default.oneOf(["xsmall","small","medium","large"]),text:s.default.string,variant:s.default.oneOf(["default","primary"])},c.propTypesDescription={needBorder:" ",isDisabled:" ",resize:" ",size:" ",variant:" ",placeHolder:" ",text:" ",onChange:" ",maxLength:" ",animated:" ",getRef:" ",onFocus:" ",onBlur:" "}},"../components/lib/utils/dropDownUtils.js":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetGroupSelectFilterSuggestions=t.makeGetGroupSelectOptions=t.makeObjectConcat=t.makeGetSelectedValueText=t.makeGetMultiSelectSelectedOptions=t.makeFormatOptions=t.extractOptionId=t.optionIdGrouping=t.makeGetMultiSelectFilterSuggestions=t.getPrefixText=t.getOptionType=t.getIconSize=t.getIconName=t.getImageField=t.getTextField=t.getValueField=t.getOptions=t.dummyObj=t.dummyArray=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,o=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),s=a("../components/lib/utils/Common.js");function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var l=t.dummyArray=[],c=t.dummyObj={},d=t.getOptions=function(e){return e.options||l},u=function(e){return e.optionsOrder||l},p=function(e){return e.selectedOptions||l},m=function(e){return e.searchStr||""},h=t.getValueField=function(e){return e.valueField||""},f=t.getTextField=function(e){return e.textField||""},b=t.getImageField=function(e){return e.imageField||""},g=t.getIconName=function(e){return e.iconName||""},v=t.getIconSize=function(e){return e.iconSize||""},y=t.getOptionType=function(e){return e.optionType||""},E=function(e){return e.needSearch},I=function(e){return e.isDefaultSelectValue},k=function(e){return(0,s.getIsEmptyValue)(e.selectedOptionsLength)?"":e.selectedOptionsLength},C=function(e){return e.normalizedFormatOptions||c},_=function(e){return(0,s.getIsEmptyValue)(e.selectedValue)?"":e.selectedValue},D=function(e){return e.selectedFormatOptions||c},S=t.getPrefixText=function(e){return e.prefixText||""},A=function(e){return e.isStartsWithSearch},O=t.makeGetMultiSelectFilterSuggestions=function(){return(0,r.createSelector)([d,p,m,E,A],function(e,t,a,n,o){var r=[],s=[];return e.forEach(function(e){var i=e.id,l=e.value,c=void 0===l?"":l,d=c.replace?c.replace(/\s+/g,"").toLowerCase():c.toString(),u=a.replace(/\s+/g,"").toLowerCase(),p=!n||(o?d.startsWith(u):-1!==d.indexOf(u));-1===t.indexOf(i)&&p&&(r.push(e),s.push(i))}),{suggestions:r,suggestionIds:s}})},x=t.optionIdGrouping=function(e,t){return(0,s.getIsEmptyValue)(e)?"":(0,s.getIsEmptyValue)(t)?e:("number"==typeof t?"Int":"Str")+"_"+t+"_"+("number"==typeof e?"Int":"Str")+"_"+e},j=(t.extractOptionId=function(e){if((0,s.getIsEmptyValue)(e))return{id:""};if("number"==typeof e)return{id:e};var t=e.split&&e.split("_");if(1===t.length)return t[0];if(4===t.length){var a=o(t,4),n=a[0],r=a[1],i=a[2],l=a[3];return{id:l="Int"===i?Number.parseInt(l):l,groupId:r="Int"===n?Number.parseInt(r):r}}},t.makeFormatOptions=function(){return(0,r.createSelector)([d,h,f,b,S,g,v,y],function(e,t,a,o,r,i,l,c){var d=[],u=[],p={},m={};return e.forEach(function(e){if(!(0,s.getIsEmptyValue)(e)){var h=e.valueField,f=e.textField,b=e.imageField,g=e.optionType,v=e.iconName,y=e.iconSize,E="object"===(void 0===e?"undefined":n(e))?e[h||t]:e,I="object"===(void 0===e?"undefined":n(e))?e[f||a]:e,k="object"===(void 0===e?"undefined":n(e))?e[b||o]:"";if(E=(0,s.getIsEmptyValue)(E)?"":x(E,r),-1===u.indexOf(E)&&!(0,s.getIsEmptyValue)(E)&&!(0,s.getIsEmptyValue)(I)){u.push(E);var C={id:E,value:I,optionType:g||c};o&&(C.photoURL=k),(v||i)&&(C.icon=v||i),(y||l)&&(C.iconSize=y||l),m[E]=C,p[E]=e,d.push(C)}}}),{allOptions:d,normalizedAllOptions:p,normalizedFormatOptions:m,optionsOrder:u}})}),T=(t.makeGetMultiSelectSelectedOptions=function(){return(0,r.createSelector)([p,C,k],function(e,t,a){var n=[],o=[],r={};a=(0,s.getIsEmptyValue)(a)?e.length:a;for(var i=0;i<a;i++){var l=e[i],c=(t[l]||{}).id;-1===o.indexOf(c)&&(0,s.getIsEmptyValue)(c)&&!(0,s.getIsEmptyValue)(l)?n.push({id:l,value:l}):-1!==o.indexOf(c)||(0,s.getIsEmptyValue)(c)||(o.push(c),n.push(t[l]),r[c]=t[l])}return{formatSelectedOptions:n,normalizedSelectedOptions:r,selectedOptionIds:o}})},t.makeGetSelectedValueText=function(){return(0,r.createSelector)([u,C,_,D,I,h,f],function(e,t,a,r,i,l,d){var u=e.indexOf(a),p=!1;(0,s.getIsEmptyValue)(a)&&i&&(a=o(e,1)[0],p=!0);var m,h,f,b=Object.assign({},r,t)[a],g=-1!==u?u:0,v=b?(f=b,(h=a)in(m={})?Object.defineProperty(m,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[h]=f,m):c,y=b||c,E=y.value,I=void 0===E?"":E,k=y.id;if((0,s.getIsEmptyValue)(k))if("object"===(void 0===a?"undefined":n(a))){var C=a[l],_=a[d];v={id:C,value:_},I=_,k=C,g=-1!==(u=e.indexOf(k))?u:0}else I=a,k=a;return{selected:I,hoverIndex:g,selectedValueDetails:v,selectedId:k,isSelfValueChanged:p}})},function(e){return e.obj1||c}),N=function(e){return e.obj2||c},w=(t.makeObjectConcat=function(){return(0,r.createSelector)([T,N],function(e,t){return Object.assign({},e,t)})},function(e){return e.groupedOptions||l}),P=j(),F=(t.makeGetGroupSelectOptions=function(){return(0,r.createSelector)([w],function(e){var t=[],a=[],n={},o={},r=[];return e.forEach(function(e){var l=e.options,c=e.id,d=e.name,u=e.valueField,p=e.textField;if(!(0,s.getIsEmptyValue)(c)&&-1===r.indexOf(c)){r.push(c);var m=P({options:l,valueField:u,textField:p,prefixText:c}),h=m.allOptions,f=m.normalizedAllOptions,b=m.normalizedFormatOptions,g=m.optionsOrder;g.length&&(t.push({id:c,name:d,options:h}),a=[].concat(i(a),i(g)),n=Object.assign({},n,f),o=Object.assign({},o,b))}}),{revampedGroups:t,normalizedAllOptions:n,normalizedFormatOptions:o,allOptionIds:a}})},function(e){return e.revampedGroups}),R=O();t.makeGetGroupSelectFilterSuggestions=function(){return(0,r.createSelector)([F,m,E,A],function(e,t,a,n){var o=[],r=[];return e.forEach(function(e){var s=e.options,l=R({options:s,needSearch:a,searchStr:t,isStartsWithSearch:n}),c=l.suggestions,d=l.suggestionIds;d.length&&(o.push(Object.assign({},e,{options:c})),r=[].concat(i(r),i(d)))}),{suggestionGroups:o,suggestionOptionIds:r}})}},"./src/actions/AgentCollisionActions.js":function(e,t,a){"use strict";a.d(t,"g",function(){return l}),a.d(t,"j",function(){return c}),a.d(t,"d",function(){return d}),a.d(t,"e",function(){return u}),a.d(t,"h",function(){return p}),a.d(t,"i",function(){return m}),a.d(t,"a",function(){return h}),a.d(t,"c",function(){return f}),a.d(t,"b",function(){return b}),a.d(t,"f",function(){return g});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=a.n(n),r=a("./src/utils/RequestAPI.js"),s=a("./src/utils/Common.js"),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function l(e){return{types:Object(s.m)("COLLIDING_USERS"),callAPI:function(t,a){return Object(r.a)("/api/v1/tickets/"+e+"/collision?include=author",!1,{orgId:t.currentOrgId}).get().then(function(e){var t=a(),n=Object(i.b)(e.collisionUsers,Object(i.a)(Object(i.c)("collisionUser",{id:"agentId",mapping:{author:Object(i.c)("agent")}}))),r=e.collisionUsers;return r=f(r=r.filter(function(e){return e.agentId&&e.agentId!=t.myInfo.id})),{collisionData:e=o()({},e,{collisionUsers:r,activeUsersLen:r.length}),entities:{agent:n.entities.agent}}})}}}function c(e,t,a){return{types:Object(s.m)("PUBLISH_USERACTION"),callAPI:function(n){return Object(r.a)("/api/v1/tickets/"+e+"/collision/userAction",!1,{orgId:n.currentOrgId}).post("",{actionType:t,instanceId:a}).then(function(e){return e})}}}function d(e,t){return{types:Object(s.m)("CREATE_CHAT"),callAPI:function(a){return Object(r.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:a.currentOrgId}).post("",{actionType:"createChat",agentId:t}).then(function(e){return e})}}}function u(e){return{types:Object(s.m)("CREATE_GROUPCHAT"),callAPI:function(t){return Object(r.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"createGroupChat"}).then(function(e){return e})}}}function p(e){return{types:Object(s.m)("JOIN_CHAT"),callAPI:function(t){return Object(r.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"joinChat"}).then(function(e){return e})}}}function m(e){return{types:Object(s.m)("LEAVE_CHAT"),callAPI:function(t){return Object(r.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:t.currentOrgId}).post("",{actionType:"leaveChat"}).then(function(e){return e})}}}function h(e,t){return{types:Object(s.m)("ADD_CHATMEMBERS"),callAPI:function(a){return Object(r.a)("/api/v1/tickets/"+e+"/collision/userChatAction",!1,{orgId:a.currentOrgId}).post("",{actionType:"addChatMembers",agentId:t}).then(function(e){return e})}}}function f(e){var t=0,a=0;return e=e.map(function(e,n){var r=Math.floor(n/4);if(a=55*r,0!=n){var s=(n+1)%4-1;t=s<0?165:55*s}return o()(e,{leftPos:t,topPos:a})})}function b(e){return{type:"CLEAR_COLLISION_DATA",data:{ticketId:e}}}function g(){return{types:Object(s.m)("GET_COLLISION_COMPRESS_META"),shouldCallAPI:function(e){return!e.ticketUIStatecollisionCompressMeta},callAPI:function(e){return Object(r.a)("/api/v1/realTime/ticketMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}},"./src/actions/BluePrintActions.js":function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"g",function(){return c}),a.d(t,"j",function(){return d}),a.d(t,"h",function(){return u}),a.d(t,"e",function(){return p}),a.d(t,"a",function(){return m}),a.d(t,"f",function(){return h}),a.d(t,"b",function(){return f}),a.d(t,"i",function(){return b});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=a.n(n),r=a("./src/utils/RequestAPI.js"),s=a("./src/utils/Common.js");function i(e){return{types:Object(s.m)("GET_APPLIED_BLUEPRINT"),callAPI:function(t){return Object(r.a)("/api/v1/tickets/"+e+"/blueprint?include=transitionOwnerAgents,transitionOwnerTeams,transitionOwnerDept",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:o()({},e,{transitionData:204==t.responseStatus?"":t})},result:[]}})}}}function l(e,t){return{types:Object(s.m)("GET_TRANSITIONS"),callAPI:function(a){return Object(r.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/form",!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}}function c(e,t,a){return{types:Object(s.m)("PERFORM_TRANSITION"),callAPI:function(n){return Object(r.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/perform",!1,{orgId:n.currentOrgId}).post("",a).then(function(t){return{entities:{ticket:o()({},e,{status:t.updatedState})},result:[]}})}}}function d(e,t,a){return{types:Object(s.m)("VALIDATE_FIELD_UPDATES"),callAPI:function(n){return Object(r.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/validateFieldUpdates",!1,{orgId:n.currentOrgId}).post("",a).then(function(e){return e})}}}function u(e){return{types:Object(s.m)("REVOKE_BLUEPRINT"),callAPI:function(t){return Object(r.a)("/api/v1/tickets/"+e+"/revokeBlueprint",!1,{orgId:t.currentOrgId}).post().then(function(t){return{entities:{ticket:o()({},e,{transitionData:""})},result:[]}})}}}function p(){return{type:"OPEN_FLOWCHAT"}}function m(){return{type:"CLOSE_FLOWCHAT"}}function h(e){return{type:"OPEN_TRANSITION_FORM",data:e}}function f(){return{type:"CLOSE_TRANSITION_FORM"}}function b(e){return{type:"TOGGLE_TRANSITION_FORM",data:e}}},"./src/actions/ReplyActions.js":function(e,t,a){"use strict";a.d(t,"f",function(){return f}),a.d(t,"i",function(){return b}),a.d(t,"l",function(){return g}),a.d(t,"a",function(){return v}),a.d(t,"j",function(){return y}),a.d(t,"e",function(){return E}),a.d(t,"h",function(){return I}),a.d(t,"g",function(){return k}),a.d(t,"c",function(){return C}),a.d(t,"b",function(){return _}),a.d(t,"d",function(){return D}),a.d(t,"k",function(){return S});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),l=a.n(i),c=a("./src/utils/RequestAPI.js"),d=a("./src/utils/Common.js"),u=a("./src/constants/index.js"),p=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),h=a.n(m);function f(e,t){return{types:Object(d.m)("SAVEDRAFT"),callAPI:function(a,n){return Object(c.a)("/api/v1/tickets/"+e+"/draftReply",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=n(),r=t.id;if(!Object(d.L)(a,e,r)){var i=l()({},r,t),c=s()({},i,a.module.thread),u=a.module.ticket[e].thread||[],p=a.module.ticket[e].conversationIds||[],m=[r].concat(o()(u)),h=[{id:r,type:"thread"}].concat(o()(p));return{data:t,entities:{thread:c,ticket:l()({},e,{thread:m,conversationIds:h})}}}return{data:t}})}}}function b(e,t){return{types:Object(d.m)("SEND_FOR_REVIEW"),callAPI:function(a,n){return Object(c.a)("/api/v1/tickets/"+e+"/threads/"+t+"/sendForReview",!1,{orgId:a.currentOrgId}).post("").then(function(e){return e})}}}function g(e,t,a){return{types:Object(d.m)("UPDATEDRAFT"),callAPI:function(n,o){return Object(c.a)("/api/v1/tickets/"+e+"/draftReply/"+t,!1,{orgId:n.currentOrgId}).patch("",a).then(function(a){var n=o(),r=n.module.ticket[e].conversationIds||[],s=n.module.ticket[e].thread||[];if(r.length){for(var i=0,c=0;c<=r.length;c++)if(r[c].id==t){i=c;break}r.splice(0,0,r.splice(i,1)[0])}else{var d=s.indexOf(t);s.splice(0,0,s.splice(d,1)[0])}return{data:a,entities:{thread:l()({},t,a),ticket:l()({},e,{conversationIds:r,thread:s})}}})}}}function v(e,t,a){return{types:Object(d.m)("TICKET_THREAD_DELETE"),callAPI:function(n,o){return Object(c.a)(e,!1,{orgId:n.currentOrgId}).del().then(function(e){var n=o();return Object(d.L)(n,t,a)?{}:{ticketId:t,threadId:a}})}}}function y(e,t,a){var n=a?"?isPrivate=true":"";return{types:Object(d.m)("SENDREPLY"),callAPI:function(a,r){return Object(c.a)("/api/v1/tickets/"+e+"/sendReply"+n,!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=r(),n=t.id;if(!Object(d.L)(a,e,n)){var i=l()({},n,t),c=s()({},i,a.module.thread),u=a.module.ticket[e].thread||[],p=a.module.ticket[e].conversationIds||[],m=[n].concat(o()(u)),h=[{id:n,type:"thread"}].concat(o()(p));return{data:t,entities:{thread:c,ticket:l()({},e,{thread:m,conversationIds:h})}}}return t})}}}function E(e,t,a){return{types:Object(d.m)("RESEND_THREAD"),callAPI:function(n,o){return Object(c.a)(e,!1,{orgId:n.currentOrgId}).post().then(function(e){var n=o();if(!Object(d.L)(n,a,t)){var r=n.module.ticket[a].conversationIds||[],s=n.module.ticket[a].thread||[];if(r.length){for(var i=0,c=0;c<=r.length;c++)if(r[c].id==t){i=c;break}r.splice(0,0,r.splice(i,1)[0])}else{var u=s.indexOf(t);s.splice(0,0,s.splice(u,1)[0])}return{data:e,entities:{thread:l()({},t,e),ticket:l()({},a,{thread:s,conversationIds:r})}}}return e})}}}function I(e,t,a,n){return e=n?e+"&isPrivate=true":e,{types:Object(d.m)("SENDDRAFT"),callAPI:function(n,o){return Object(c.a)(e,!1,{orgId:n.currentOrgId}).post().then(function(e){var n=o(),r=n.module.ticket[t].conversationIds||[],s=n.module.ticket[t].thread||[];if(r.length){for(var i=0,c=0;c<=r.length;c++)if(r[c].id==a){i=c;break}r.splice(0,0,r.splice(i,1)[0])}else{var d=s.indexOf(a);s.splice(0,0,s.splice(d,1)[0])}return{data:e,entities:{thread:l()({},a,e),ticket:l()({},t,{conversationIds:r,thread:s})}}})}}}function k(e){return{types:Object(d.m)("SEARCHCONTACT"),callAPI:function(t,a){return Object(c.a)("/api/v1/contacts/search?limit=10&email="+e+"*",!1,{orgId:t.currentOrgId}).get().then(function(e){return 204==e.responseStatus?{list:[]}:s()(Object(p.b)(e.data,Object(p.a)(Object(p.c)(u.R.CONTACT_L))),{list:e.data})})}}}function C(e){return{types:Object(d.m)("FROMEMAILADDRESS"),shouldCallAPI:function(t){return!h()("departmentSpecificState["+e+"].fromEmailAddress",t).length},callAPI:function(t){return Object(c.a)("/api/v1/mailReplyAddress?departmentId="+e+"&isActive=true",!1,{orgId:t.currentOrgId}).get().then(function(t){return 204!=t.responseStatus?{entities:{},result:[],address:t.data,deptId:e}:{res:t,entity:{},result:[]}})}}}function _(e){return{types:Object(d.m)("HAPPINESS_LINK_HOLDER"),callAPI:function(t){return Object(c.a)("/api/v1/customerHappinessLinkHolder?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return{linkHolder:t.linkHolder,deptId:e}})}}}function D(e){return{types:Object(d.m)("MAIL_CONFIGURATIONS"),shouldCallAPI:function(t){return!h()("departmentSpecificState["+e+"].mailConfigurations.privateThreadConfig",t)},callAPI:function(t){return Object(c.a)("/api/v1/departments/"+e+"/mailConfigurations",!1,{orgId:t.currentOrgId}).get().then(function(t){return{res:t,deptId:e,entity:{},result:[]}})}}}function S(e){return function(t,a){for(var n=a(),o=n.module.ticket[e],r=o.thread,s=void 0===r?[]:r,i=o.conversationIds,c=o.commentCount,d=n.module.thread,u=0,p=0;p<s.length;p++)d[p]&&"DRAFT"!=d[p].status&&(u=1);var m=s[0];if(i){for(var h=0,f=0;f<i.length;f++)"thread"!=i[f].type||m||(m=i[f].id),d[i[f].id]&&"DRAFT"!=d[i[f].id].status&&(h+=1);u=h-parseInt(c)}var b={recentThreadId:m,recentThread:m?n.module.thread[m]:null,threadCount:u};return t({type:"SET_RECENT_THREAD_DATA_SUCCESS",data:{entities:{ticket:l()({},e,b)}}})}}},"./src/actions/TemplateActions.js":function(e,t,a){"use strict";a.d(t,"d",function(){return c}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return u}),a.d(t,"b",function(){return p});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),o=a.n(n),r=a("./src/utils/RequestAPI.js"),s=a("./src/constants/index.js"),i=a("./src/utils/Common.js"),l=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.db;return a=a.trim(),{types:Object(i.m)(s.R.TICKET_TEMPLATE),shouldCallAPI:function(o){if(n)return!0;var r=o.ticketTemplate,s=r.deptId,i=r.searchStr,l=r.from;return e!==s||a!==i||t!==l},callAPI:function(n){var i=n.currentOrgId,d=2*c>100?100:2*c;return Object(r.a)(s.B+"ticketTemplates?from="+t+"&limit="+d+"&departmentId="+e+(a?"&templateName="+a:""),!1,{orgId:i}).get().then(function(n){var r=Object(l.b)(204!==n.responseStatus?n.data:[],Object(l.a)(Object(l.c)(s.R.TICKET_TEMPLATE_L)));return o()({},r,{from:t,limit:c,isNextData:!!n.data&&n.data.length>c,searchStr:a,deptId:e})})},payload:{from:t}}}function d(e){return{types:Object(i.m)("TICKET_TEMPLATE_DETAIL"),callAPI:function(t){var a=t.currentOrgId;return Object(r.a)(s.B+"ticketTemplates/"+e,!1,{orgId:a}).get().then(function(e){return Object(l.b)(e,Object(l.c)(s.R.TICKET_TEMPLATE_L))},function(e){throw e})}}}function u(e,t,a,n,o){var l="departmentId="+e+"&module="+t+"&from="+a+"&limit="+n;return""!=o&&o&&(l+="&searchStr=*"+o+"*"),{types:Object(i.m)("EMAIL_TEMPLATE_LIST"),callAPI:function(e){return Object(r.a)(s.B+"templates?"+l,!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function p(e,t){return{types:Object(i.m)("TEMPLATESFOLDERSLIST"),callAPI:function(a){return Object(r.a)("/api/v1/templates/"+e+"/render?entityId="+t,!1,{orgId:a.currentOrgId}).post("").then(function(e){return{res:e,entity:{},result:[]}})}}}},"./src/components/Image/Image.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/Image/Image.module.css"),v=a.n(g),y=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alt,a=e.src,n=e.className,o=e.isCover,r=e.title,s=e.onClick,i=e.dataId;return h.a.createElement("img",{src:a,alt:t,"data-title":r,"data-id":i,className:" "+n+" "+(o?v.a.imgFullSize:v.a.imgMaxFullSize)+" ",onClick:s})}}]),t}(h.a.Component);t.a=y,y.propTypes={alt:b.a.string.isRequired,className:b.a.string,dataId:b.a.string,isCover:b.a.bool,onClick:b.a.func,src:b.a.string.isRequired,title:b.a.string},y.defaultProps={isCover:!1,className:""}},"./src/components/MorePopup/MorePopup.js":function(e,t,a){"use strict";var n,o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),r=a.n(o),s=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=a.n(s),l=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=a.n(l),d=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=a.n(d),p=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=a.n(p),h=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=a.n(h),b=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=a.n(b),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=a.n(v),E=a("./src/components/MorePopup/MorePopup.module.css"),I=a.n(E),k=a("../components/lib/common/common.module.css"),C=a.n(k),_=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),D=a.n(_),S=a("../components/lib/Popup/Popup.js"),A=a.n(S),O=a("../components/lib/DropBox/DropBox.js"),x=a.n(O),j=a("../components/lib/DropDown/DropDownSeparator.js"),T=a.n(j),N=a("../components/lib/ListItem/ListItemWithIcon.js"),w=a.n(N),P=a("./src/components/setup/timetrack/utils.js"),F=function(e){function t(e){c()(this,t);var a=m()(this,(t.__proto__||i()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a.togglePopup=a.togglePopup.bind(a),a}return f()(t,e),u()(t,[{key:"handleSelect",value:function(e,t,a,n){if(void 0!==this.props.onSelect){var o=this.props;(0,o.onSelect)(e,o.entity)}this.props.togglePopup(n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.boxPosition;Object(P.a)(e),a(e,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isPopupOpen,n=t.onPopupChange;e.isPopupOpen!==a&&n&&n(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=void 0===a?"white":a,o=t.objValues,r=t.Icnsize,s=t.IcnName,i=t.arrowPosition,l=t.position,c=t.right,d=t.widgets,u=void 0===d?[]:d,p=t.onWidgetScroll,m=t.onWidgetSelect,h=t.selectedWidgetId,f=t.arrowRight,b=t.arrowLeft,v=t.size,y=t.left,E=t.isPopupOpen,k=t.isPopupReady,_=t.getTargetRef,S=t.getContainerRef,A=t.dataId,O=t.isArrow,j=t.dataTitle;return r=r||"medium",g.a.createElement("span",{className:C.a.posrel,ref:_,"data-id":A,onClick:this.togglePopup},g.a.createElement("span",{className:I.a.defaultSize+" "+C.a.posrel+" "+I.a[n]},g.a.createElement("span",{"data-title":j},g.a.createElement(D.a,{name:s,size:r}))),E?g.a.createElement(x.a,{isAnimate:!0,isArrow:O,right:c,left:y,isActive:k,size:v,arrowRight:f,arrowLeft:b,boxPosition:l,getRef:S,arrowPosition:i,dataId:A+"list"},o.map(function(t,a){return g.a.createElement(w.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:a,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),o.length&&u.length?g.a.createElement(T.a,null):null,u.length?g.a.createElement("div",{className:I.a.widgetList,onScroll:p},u.map(function(e){var t=e.name,a=e.sanitisedName+"_"+e.installationId;return h!=a?g.a.createElement(w.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:a,id:a,onClick:function(){m(a,e)}}):null})):null):null)}}]),t}(b.Component);F.defaultProps={IcnName:"ZD-more1",size:"small"},F.propTypes=(n={IcnName:y.a.string,Icnsize:y.a.string,arrowLeft:y.a.string,arrowPosition:y.a.string,arrowRight:y.a.string,boxPosition:y.a.string,dataId:y.a.string,dataTitle:y.a.string,entity:y.a.object,getContainerRef:y.a.func},r()(n,"getContainerRef",y.a.func),r()(n,"getTargetRef",y.a.func),r()(n,"isArrow",y.a.bool),r()(n,"isPopupOpen",y.a.bool),r()(n,"isPopupReady",y.a.bool),r()(n,"isScroll",y.a.bool),r()(n,"left",y.a.string),r()(n,"objValues",y.a.array),r()(n,"onPopupChange",y.a.func),r()(n,"onSelect",y.a.func),r()(n,"onWidgetScroll",y.a.func),r()(n,"onWidgetSelect",y.a.func),r()(n,"position",y.a.string),r()(n,"removeClose",y.a.func),r()(n,"right",y.a.string),r()(n,"selectedWidgetId",y.a.string),r()(n,"size",y.a.string),r()(n,"theme",y.a.string),r()(n,"togglePopup",y.a.func),r()(n,"widgets",y.a.array),n),t.a=A()(F)},"./src/components/SearchResults/SearchResults.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/SearchResults/SearchResults.module.css"),v=a.n(g),y=a("../components/lib/Avatar/Avatar.js"),E=a.n(y),I=a("../components/lib/DropBox/DropBox.js"),k=a.n(I),C=a("../components/lib/Layout/index.js"),_=a("./src/utils/Common.js"),D=a("./src/fz-i18n/index.js"),S=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.getScrollContainerRef=a.getScrollContainerRef.bind(a),a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a.onScroll=a.onScroll.bind(a),a.isFetching=!1,a}return p()(t,e),l()(t,[{key:"getScrollContainerRef",value:function(e){this.scrollContainerRef=e}},{key:"getSelectedItemRef",value:function(e){this.selectItemRef=e}},{key:"componentDidUpdate",value:function(){var e=this.props.selectSearchIndex,t=this.scrollContainerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,o=a.offsetHeight,r=t.offsetHeight;(n<0||o+n>r)&&(t.scrollTop=0==e?0:t.scrollTop+n)}}},{key:"onScroll",value:function(e){var t=this;if(this.props.fetchData&&!this.isFetching){var a=e.currentTarget;a.scrollHeight<=a.scrollTop+a.offsetHeight&&(this.isFetching=!0,this.props.fetchData().then(function(){t.isFetching=!1},function(){t.isFetching=!1}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.dataId,o=t.orgName,r=(t.selectEmail,t.type),s=t.selectSearchIndex,i=(t.addTag,t.needFixed),l=t.needAvatar,c=t.onSelect;return h.a.createElement(k.a,{onScroll:this.onScroll,isArrow:!1,boxPosition:"bottomCenter",isActive:!0,className:""+(i?v.a.resetDropbox:"")},h.a.createElement("div",{ref:this.getScrollContainerRef,className:l?v.a.agentSearch:v.a.tagsSearch},a.length?a.map(function(t,a){var i=t.id,d=t.name,u=t.email,p=t.isNew,m=t.firstName,f=t.lastName,b=t.photoURL,g=t.newLabel,y=l&&b?b+"?portalname="+o:null;l&&Object(_.g)(m,f);return d=l?Object(_.e)(m,f):d,h.a.createElement(C.Container,{alignBox:"row",align:"vertical",className:v.a.asItem+" "+(s==a?v.a.selectIem:""),onMouseDown:function(){c(t,r)},eleRef:a==s?e.getSelectedItemRef:null,key:a,dataId:n+"_"+i},l?h.a.createElement(C.Box,{className:v.a.imgCont},h.a.createElement(E.a,{src:y,name:d,size:"medium"})):null,h.a.createElement(C.Box,{flexible:!0},h.a.createElement("div",{className:v.a.ashead},p?h.a.createElement("span",{className:v.a.newTag},g):null,d),u?h.a.createElement("div",{className:v.a.asemail},u):null))}):h.a.createElement("div",{className:v.a.searchDiv},D.h.getI18NValue("support.label.searching"))))}}]),t}(h.a.Component);t.a=S,S.propTypes={addTag:b.a.func,data:b.a.array,dataId:b.a.string,fetchData:b.a.oneOfType([b.a.func,b.a.bool]),isPopupOpen:b.a.bool,needAvatar:b.a.bool,orgName:b.a.string,placeholder:b.a.string,removeClose:b.a.func,selectEmail:b.a.func,selectSearchIndex:b.a.number,theme:b.a.string,togglePopup:b.a.func,type:b.a.string},S.defaultProps={data:[],needAvatar:!0}},"./src/components/Subtab/AudioMessage/AudioMessage.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/Subtab/AudioMessage/AudioMessage.module.css"),v=a.n(g),y=a("./src/fz-i18n/index.js"),E=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={playingIndex:1},a.play=a.play.bind(a),a.playNext=a.playNext.bind(a),a.pauseOthers=a.pauseOthers.bind(a),a}return p()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var a=document.getElementById("audio"+t);a&&a.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,a){e!=a+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,a=this.props.thread,n=JSON.parse(a.content),o=n.voicemailurl,r=n.recordingurl,s=n.voicemailduration,i=n.recordingduration,l=void 0,c=void 0,d=void 0,u=[],p=0;if(o.startsWith("https://")||r.startsWith("https://"))o.startsWith("https://")?(l=o,c=s,d=y.h.getI18NValue("support.twi.msg.voicemessage")):(l=r,c=i,d=y.h.getI18NValue("support.twi.msg.callrecording"));else{p=(u=JSON.parse(n.recordingurl)).length,l=u[0].url,l=p>2?l:l+u[1].rid;var m=i%3600,f=Math.floor(m/60),b=m%60,g=Math.ceil(b);c=Math.floor(i/3600)+":"+f+":"+g+" (H:M:S)",d=y.h.getI18NValue("support.twi.msg.callrecording")}return h.a.createElement("div",{className:v.a.audioDiv},h.a.createElement("div",{className:v.a.audioHead},h.a.createElement("span",{className:v.a.audioTitle},d),h.a.createElement("span",{className:v.a.audioDur},"( ",y.h.getI18NValue("crm.activities.call.duration"),":",h.a.createElement("span",null,c)," )"),p>2?h.a.createElement("span",null,y.h.getI18NValue("support.label.playing")," ",h.a.createElement("span",null,t),"/",p-1," ",y.h.getI18NValue("support.label.recording")):null),h.a.createElement("div",{className:v.a.audioSource},p>2?u.map(function(t,a){var n=u[a].rid;return n?h.a.createElement("audio",{controls:!0,id:"audio"+a,src:l+n,key:a,className:v.a.audio,onPlay:function(){e.play(a)},onEnded:function(){e.playNext(a)},style:{display:"block"}}):null}):h.a.createElement("audio",{controls:!0,src:l,className:v.a.audio})))}}]),t}(h.a.Component);t.a=E,E.propTypes={thread:b.a.object}},"./src/components/Subtab/Loading/Loading.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("./src/components/Subtab/Loading/SubtabLoading.module.css"),b=a.n(f),g=a("../components/lib/Layout/index.js"),v=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(g.Container,{alignBox:"row",align:"both",className:b.a.container},h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}))}}]),t}(h.a.Component);t.a=v},"./src/components/Subtab/ThreadAttachments/ThreadAttachments.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/Subtab/ThreadAttachments/ThreadAttachments.module.css"),v=a.n(g),y=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),E=a.n(y),I=a("./src/utils/Attachment.js"),k=a("./src/components/Link/Link.js"),C=a("./src/fz-i18n/index.js"),_=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.orgId,o=t.showAttachmentViewer,r=t.size,s=t.neNeedToDownload,i=t.dataId,l=Object(I.h)(a);return h.a.createElement("div",null,h.a.createElement("div",{className:v.a.AttachCount,"data-id":i},h.a.createElement("span",{className:v.a.mr6},a.length),h.a.createElement("span",null,h.a.createElement(C.c,{i18NKey:a.length>1?"label.attachments":"support.feedback.attachment"})),h.a.createElement("span",{className:v.a.ml6},"(",Object(I.f)(l),")")),a.map(function(t,i){var l=t.name,c=t.downloadUrl,d=t.href,u=t.id,p=t.viewUrl,m=t.size,f=Object(I.l)(l)||Object(I.i)(l);return c=c||d,h.a.createElement("div",{className:v.a.docspan,key:i,onClick:s?null:f?I.b.bind(e,u,a,function(e){o(e)}):I.n.bind(e,p||d,n),"data-id":1===a.length?"threadAttch":"threadAttch_"+i},h.a.createElement("span",{className:v.a.attachment+" "+v.a[r]},h.a.createElement("div",{className:v.a.attachleft},h.a.createElement(E.a,{name:Object(I.d)(l),iconClass:v.a.attachIcon})),h.a.createElement("div",{className:v.a.attachright},h.a.createElement("span",{className:v.a.atatchName,"data-title":l},l),h.a.createElement("span",{className:v.a.attachSize},Object(I.f)(m))),s?null:h.a.createElement(k.a,{target:"_self",href:Object(I.a)(c,n),className:v.a.attachDownload,title:C.h.getI18NValue("support.label.download")},h.a.createElement(E.a,{name:"ZD-downloadNew",iconClass:v.a.downIcon}))))}))}}]),t}(h.a.Component);t.a=_,_.propTypes={data:b.a.array,dataId:b.a.string,downloadAttachment:b.a.func,neNeedToDownload:b.a.bool,orgId:b.a.string,showAttachmentViewer:b.a.func,size:b.a.string},_.defaultProps={size:"medium"}},"./src/components/Subtab/ThreadsList/ThreadsList.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=a.n(f),g=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=a.n(g),y=a("./src/components/Subtab/ThreadsList/ThreadsList.module.css"),E=a.n(y),I=a("./src/components/avatar/AvatarThread/AvatarThread.js"),k=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),C=a.n(k),_=a("./src/fz-i18n/index.js"),D=a("./src/utils/ChannelIconMapping.js"),S=a("./src/utils/Common.js"),A=a("./src/utils/bind.js"),O=a("./src/constants/index.js"),x=a("./src/components/Subtab/ThreadAttachments/ThreadAttachments.js"),j=a("./src/components/MorePopup/MorePopup.js"),T=a("./src/components/Subtab/zia/SentimentAspects/SentimentAspects.module.css"),N=a.n(T),w=a("../components/lib/DropBox/DropBox.js"),P=a.n(w),F=a("../components/lib/Popup/Popup.js"),R=a.n(F),z=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.sentiment,a=e.aspects,n=e.openPopupOnly,o=e.closePopupOnly,r=e.isPopupOpen,s=e.removeClose,i=Object(S.y)(t),l=i.icon,c=i.name,d=c.toLowerCase(),u="positive"===d?N.a.botPositive:"negative"===d?N.a.botNegative:N.a.botNeutral;return b.a.createElement("div",{className:N.a.container,onMouseEnter:n,onMouseLeave:o,onClick:s},b.a.createElement(C.a,{name:l,iconClass:N.a.iconSize}),r?b.a.createElement(P.a,{isAnimate:!0,size:"mlarge",boxPosition:"bottomRight",isActive:!0,left:"-20",onClick:s},b.a.createElement("div",{className:N.a.pop},b.a.createElement("p",{className:N.a.header},_.h.getI18NValue("support.zia.sentiment.label")),b.a.createElement("p",{className:N.a[l]+" "+N.a.sentiment+" "+u},c),a&&a.length?b.a.createElement(b.a.Fragment,null,b.a.createElement("p",{className:N.a.header},_.h.getI18NValue("support.zia.thread.sentiment.aspects")),b.a.createElement("p",{className:N.a.f12},a.join(", "),".")):null,b.a.createElement("span",{className:N.a.waterMark},b.a.createElement(C.a,{name:l})))):null)}}]),t}(b.a.Component);z.propTypes={aspects:v.a.array,closePopupOnly:v.a.func,isPopupOpen:v.a.bool,openPopupOnly:v.a.func,removeClose:v.a.func,sentiment:v.a.string};var B=R()(z),V=a("./src/components/Subtab/zia/KeyWords/KeyWords.module.css"),M=a.n(V),L=function(e){function t(e){return l()(this,t),p()(this,(t.__proto__||s()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.keyWords,a=e.openPopupOnly,n=e.closePopupOnly,o=e.isPopupOpen,r=e.removeClose;return b.a.createElement("div",{className:M.a.container,onMouseEnter:a,onMouseLeave:n,onClick:r},b.a.createElement(C.a,{iconClass:M.a.hashIcon,name:"ZD-botHash"}),o?b.a.createElement(P.a,{isAnimate:!0,size:"mlarge",boxPosition:"bottomRight",isActive:!0,left:"-20",onClick:r},b.a.createElement("div",{className:M.a.pop},b.a.createElement("div",{className:M.a.posrel},b.a.createElement("p",{className:M.a.header},_.h.getI18NValue("support.zia.thread.keyword.lable")),b.a.createElement("div",{className:M.a.content},t.map(function(e,t){return b.a.createElement("p",{className:M.a.keyword,key:t},e)}))))):null)}}]),t}(b.a.Component);L.propTypes={closePopupOnly:v.a.func,isPopupOpen:v.a.bool,keyWords:v.a.array,openPopupOnly:v.a.func,removeClose:v.a.func};var Z=R()(L),K=a("./src/components/Subtab/AudioMessage/AudioMessage.js"),U=a("./src/components/Subtab/RecipientsInfo/RecipientsInfo.module.css"),H=a.n(U),W=a("../components/lib/Layout/index.js"),q=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"constructEmailList",value:function(e){for(var t=e.split(","),a=[],n=0;n<t.length;n++)a.push(b.a.createElement("span",{className:H.a.mr10,key:n},n==t.length-1?t[n]:t[n]+","));return a}},{key:"render",value:function(){var e=this.props,t=e.from,a=e.to,n=e.cc,o=e.bcc;return b.a.createElement("div",{className:H.a.container},b.a.createElement(W.Container,{alignBox:"row",className:H.a.list,isCover:!1},b.a.createElement(W.Box,{className:H.a.label},_.h.getI18NValue("label.request.from")),b.a.createElement(W.Box,{flexible:!0,className:H.a.value},t)),a?b.a.createElement(W.Container,{alignBox:"row",className:H.a.list},b.a.createElement(W.Box,{className:H.a.label},_.h.getI18NValue("label.request.to")),b.a.createElement(W.Box,{flexible:!0,className:H.a.value},this.constructEmailList(a))):null,n?b.a.createElement(W.Container,{alignBox:"row",className:H.a.list},b.a.createElement(W.Box,{className:H.a.label},_.h.getI18NValue("crm.label.cc.email")),b.a.createElement(W.Box,{flexible:!0,className:H.a.value},this.constructEmailList(n))):null,o?b.a.createElement("div",{className:H.a.list},b.a.createElement("span",{className:H.a.label},_.h.getI18NValue("crm.label.bcc.email")),b.a.createElement("span",{className:H.a.value},this.constructEmailList(o))):null)}}]),t}(f.Component),G=q;q.propTypes={bcc:v.a.string,cc:v.a.string,from:v.a.string,to:v.a.string};var Q=a("./src/utils/DataStorage.js"),$=a("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),J=a("./src/components/Subtab/alert/DeleteThreadAlertPopup/DeleteThreadAlertPopup.js"),Y=a("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),X=function(e){function t(){return l()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.splitTicket,a=e.moduleMeta,n=e.closeAlert,o=e.isActive,r=e.forwardRef;return b.a.createElement(Y.a,{isActive:o,type:"splitTicket",title:_.h.getI18NValue("support.request.alert.split.ticket.header",[a.tickets.singularLabel]),message:_.h.getI18NValue("crm.confirm.split.request",[a.tickets.singularLabel]),submitText:_.h.getI18NValue("support.yes"),cancelText:_.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:n,forwardRef:r})}}]),t}(f.Component),ee=X;X.propTypes={closeAlert:v.a.func,forwardRef:v.a.object,isActive:v.a.bool,moduleMeta:v.a.object,splitTicket:v.a.func};var te=a("./src/components/Link/Link.js"),ae=a("./src/components/PortalLayer/PortalLayer.js"),ne=function(e){function t(e){l()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));a.state={openedThreads:[a.props.latestThreadId],openedQuotedContentThreads:[],isRecipientsOpen:Q.a.getItem("isRecipientsOpen"),recipientsOpenArr:[],recipientsCloseArr:[],openedTruncatedId:[]},a.attachRef={};return A.a.apply(a,["openThread","replyActions","constructMoreObj","toggleRecipients","onContainerCLick","setContentRef","openTruncatedContant","constructDirectionChanellObj","deleteDraftConfirmation","deleteDraft","deleteFailedThreadConfirmation","deleteFailedThread","splitTicketConfirmation","splitTicket","toggleQuotedContent","setAttachmentRef","handlePortalLayer"]),a.onCloseDeleteDraft=a.onClosePopup.bind(a,"DeleteDraft"),a.onCloseDeleteThread=a.onClosePopup.bind(a,"DeleteThread"),a.onCloseSplitTicket=a.onClosePopup.bind(a,"SplitTicket"),a}return h()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){e.latestThreadId!=this.props.latestThreadId&&this.setState({openedThreads:[e.latestThreadId]})}},{key:"setAttachmentRef",value:function(e,t){this.attachRef[t]=e}},{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"openThread",value:function(e,t,a,n){var o=this;"true"==a&&n.stopPropagation();var r=this.state.openedThreads.indexOf(e),s=!1;if(-1==r)t?(this.state.openedThreads.push(e),"true"==a&&(s=!0)):this.props.getThread(e,function(){o.state.openedThreads.push(e),o.setState({openedThreads:o.state.openedThreads},function(){"true"==a&&setTimeout(function(){Object(S.l)(o.props.scrollCont,o.attachRef[e].offsetTop-20)},100)})});else{if("true"==a)return void Object(S.l)(this.props.scrollCont,this.attachRef[e].offsetTop-20);this.state.openedThreads.splice(r,1)}this.setState({openedThreads:this.state.openedThreads},function(){setTimeout(function(){s&&Object(S.l)(o.props.scrollCont,o.attachRef[e].offsetTop-20)},100)})}},{key:"toggleQuotedContent",value:function(e){var t=this.state.openedQuotedContentThreads.indexOf(e);-1==t?this.state.openedQuotedContentThreads.push(e):this.state.openedQuotedContentThreads.splice(t,1),this.setState({openedQuotedContentThreads:this.state.openedQuotedContentThreads})}},{key:"openTruncatedContant",value:function(e){var t=this,a=e.id,n=e.fullContentURL;this.props.getFullContent(n,a).then(function(){t.setState({openedTruncatedId:[].concat(o()(t.state.openedTruncatedId),[a])})})}},{key:"replyActions",value:function(e,t,a,n,o){t=o?t+o:t;var r=this.props,s=r.orgName,i=r.sanitizedDeptName,l=r.moduleMeta,c=r.ticketId,d=r.openJiraForm,u=r.openBugTrackerForm,p=r.bugName,m="";if(n==_.h.getI18NValue("crm.button.reply"))m="FACEBOOK_DM"==a.channel?"facebookDm":"reply";else if(n==_.h.getI18NValue("support.common.request.mail.replyall"))m="replyall";else if(n==_.h.getI18NValue("support.label.thread.forward.title"))m="forward";else if(n==_.h.getI18NValue("crm.post.reply"))"FACEBOOK"==a.channel?m="facebook":"FORUMS"==a.channel?m="forum":"TWITTER"==a.channel?m="twitter":"TWITTER_DM"==a.channel&&(m="twitterDm");else if(n==_.h.getI18NValue("support.common.request.mail.edit.draft"))m="FACEBOOK"==a.channel?"facebook":"FORUMS"==a.channel?"forum":"editDraft";else{if(n==_.h.getI18NValue("support.common.request.mail.discard.draft")){var h=a.actions[0].href;return void this.deleteDraftConfirmation(h,e)}if(n==_.h.getI18NValue("support.label.thread.delete")){var f=a.actions[0].href;return void this.deleteFailedThreadConfirmation(f,e)}if(n==_.h.getI18NValue("support.split.as.new",l.tickets.singularLabel))return void this.splitTicketConfirmation(e);if(n==_.h.getI18NValue("support.integ.jira.file.a.bug"))return void d(a.isDescriptionThread?null:e);if(n==_.h.getI18NValue("support.bug.integ.file",[p]))return void u({type:"bugTracker",ticketId:c,bugName:p,id:a.isDescriptionThread?null:e,threadId:e});if(n==_.h.getI18NValue("support.label.print"))return void window.open(O.x+"/"+s+"/"+i+"/"+l.tickets.sanitizedName+"/details/"+c+"/thread/"+e+"?action=print");if(n==_.h.getI18NValue("support.show.original"))return void window.open(O.x+"/"+s+"/"+i+"/"+l.tickets.sanitizedName+"/details/"+c+"/thread/"+e+"?action=showOriginal&devURL=https://gokul-pt2772.tsi.zohocorpin.com:9090","winName","width=750,height=700");if(n==_.h.getI18NValue("support.mail.label.resend")){var b=a.actions[1].href;return void this.props.resendFailedThread(b,e)}if(n==_.h.getI18NValue("support.common.request.mail.send.draft")){var g=a.to.split(","),v=a.bcc.split(","),y=a.cc.split(","),E=-1==g.concat(y,v).indexOf(this.props.contactEmail);return void this.props.sendDraft(E,function(){},a)}}this.props.openEditor(e,t,a,m)}},{key:"deleteDraftConfirmation",value:function(e,t){this.setState({deleteUrl:e,deleteId:t}),this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){var e=this.state,t=e.deleteUrl,a=e.deleteId;this.props.deleteDraft(t,a),this.onDeleteDraft(!1)}},{key:"deleteFailedThreadConfirmation",value:function(e,t){this.setState({deleteUrl:e,deleteId:t}),this.onDeleteThread(!0)}},{key:"deleteFailedThread",value:function(){var e=this.state,t=e.deleteUrl,a=e.deleteId;this.props.deleteFailedThread(t,a),this.onDeleteThread(!1)}},{key:"splitTicketConfirmation",value:function(e){this.setState({splitThreadId:e}),this.onSplitTicket(!0)}},{key:"splitTicket",value:function(){var e=this.state.splitThreadId;this.props.splitTicket(e),this.onSplitTicket(!1)}},{key:"onClosePopup",value:function(e){this["on"+e](!1),this.setState({deleteId:null,deleteUrl:null,splitThreadId:null})}},{key:"constructMoreObj",value:function(e){var t=this.props,a=t.haveMailSendPermission,n=t.haveJiraBugCreatePer,o=t.haveBugCreatePer,r=t.bugName,s=t.haveForWardPermissionOnly,i=t.isReadOnly,l=t.isSpam,c=t.threadCount,d="in"==e.direction&&!e.isDescriptionThread&&!s&&1!=parseInt(c),u=!a||i||l?[]:[{name:_.h.getI18NValue("crm.button.reply"),iconName:"ZD-reply",size:"12"},{name:_.h.getI18NValue("support.common.request.mail.replyall"),iconName:"ZD-replyall",size:"12"},{name:_.h.getI18NValue("support.label.thread.forward.title"),iconName:"ZD-forward",size:"12"}];if(u=s?[u[2]]:u,"DRAFT"!=e.status||l?"FAILED"!=e.status||l?"FACEBOOK"!=e.channel&&"FACEBOOK_DM"!=e.channel&&"TWITTER"!=e.channel&&"TWITTER_DM"!=e.channel&&"FORUMS"!=e.channel||l||(u=!a||s||i?[]:[{name:"FACEBOOK_DM"==e.channel?_.h.getI18NValue("crm.button.reply"):_.h.getI18NValue("crm.post.reply"),iconName:"ZD-reply",size:"12"}]):u=a&&!i?[{name:_.h.getI18NValue("support.mail.label.resend"),iconName:"ZD-zdresend",size:"15"},{name:_.h.getI18NValue("support.label.thread.delete"),iconName:"ZD-close1",size:"15"}]:[]:(u=a&&!i?[{name:_.h.getI18NValue("support.common.request.mail.edit.draft"),iconName:"ZD-editdDraft",size:"16"},{name:_.h.getI18NValue("support.common.request.mail.discard.draft"),iconName:"ZD-draftDelete",size:"16"},{name:_.h.getI18NValue("support.common.request.mail.send.draft"),iconName:"ZD-replyDraft",size:"16"}]:[],u=s?[u[0]]:u),"FAILED"!=e.status){var p=[{name:_.h.getI18NValue("support.show.original"),iconName:"ZD-originalView",size:"16"},{name:_.h.getI18NValue("support.label.print"),iconName:"ZD-printing2",size:"16"}];!d||i||l||p.splice(0,0,{name:_.h.getI18NValue("support.split.as.new",this.props.moduleMeta.tickets.singularLabel),iconName:"ZD-splitNew",size:"16"}),!n||"DRAFT"==e.status||i||l||p.splice(d?1:0,0,{name:_.h.getI18NValue("support.integ.jira.file.a.bug"),iconClass:E.a.jiraIcon}),!o||"DRAFT"==e.status||i||l||p.splice(d?1:0,0,{name:_.h.getI18NValue("support.bug.integ.file",[r]),iconName:"ZD-buginfo",size:"14"}),u=u.concat(p)}return u}},{key:"toggleRecipients",value:function(e){var t=this.state,a=t.recipientsCloseArr,n=t.recipientsOpenArr;t.isRecipientsOpen?a.includes(e)?this.setState({recipientsCloseArr:this.state.recipientsCloseArr.filter(function(t){return t!==e})}):this.setState({recipientsCloseArr:[].concat(o()(this.state.recipientsCloseArr),[e])}):n.includes(e)?this.setState({recipientsOpenArr:this.state.recipientsOpenArr.filter(function(t){return t!==e})}):this.setState({recipientsOpenArr:[].concat(o()(this.state.recipientsOpenArr),[e])}),Q.a.getItem("isRecipientsOpen")?Q.a.setItem("isRecipientsOpen",!1):Q.a.setItem("isRecipientsOpen",!0)}},{key:"setContentRef",value:function(e){this.contentRef=e}},{key:"onContainerCLick",value:function(e){if("IMG"==e.target.tagName){for(var t=[],a=0,n=this.contentRef.querySelectorAll("img"),o=0;o<n.length;o++)t.push({viewUrl:n[o].src,index:o}),e.target==n[o]&&(a=o);this.props.showAttachmentViewer({previewData:t,selectedIndex:a})}}},{key:"constructDirectionChanellObj",value:function(e){var t=e.channel,a=e.direction,n=e.status,o=e.isForward,r="ZD-chEmailOut",s=_.h.getI18NValue("support.label.thread.outgoing.email.title");return"FEEDBACK"==t?r="ZD-chFeedback":"DRAFT"==n?(r="ZD-chEmailDft",s=_.h.getI18NValue("support.label.thread.support.draft.title")):o?(r="ZD-chEmailFwd",s=_.h.getI18NValue("support.common.request.mail.forward")):"in"==a&&(r="ZD-chEmailIn",s=_.h.getI18NValue("support.label.thread.incoming.email.title")),{iconName:r,title:s}}},{key:"render",value:function(){var e=this,t=this.props,a=t.threads,n=t.orgName,o=t.showAttachmentViewer,r=t.widgets,s=t.selectedWidgetId,i=t.onWidgetScroll,l=t.onWidgetSelect,c=t.ticketChannel,d=t.moduleMeta,u=t.customChannelsInfo,p=t.openAgent,m=this.state,h=m.openedThreads,f=m.openedQuotedContentThreads,g=m.isRecipientsOpen,v=m.recipientsOpenArr,y=m.recipientsCloseArr,k=m.openedTruncatedId,A=(m.alertMode,b.a.createElement(C.a,{name:"ZD-more",iconClass:E.a.iconSize}));return b.a.createElement("div",null,a.map(function(t){var a=t.id,d=t.author,m=t.createdTime,O=t.direction,T=t.status,N=t.channel,w=t.isForward,P=t.content,F=t.visibility,R=t.channelRelatedInfo,z=t.hasAttach,V=t.attachmentCount,M=t.from,L=t.to,U=t.cc,H=t.bcc,q=t.summary,Q=t.attachments,$=t.sentiment,J=t.aspects,Y=t.keyWords,X=t.isContentTruncated,ee=t.isDescriptionThread,ae=t.source,ne=t.quotedContent,oe=ae&&"INTEGRATION"==ae.type;oe||(oe=u[N]&&"INTEGRATION"==u[N].type,ae=u[N]),m=_.h.userDateFormat(new Date(m),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}),O="DRAFT"==T?"dft":"FAILED"==T?"failed":"FEEDBACK"==N?"feedback":w?"fwd":O;var re=Object(D.b)(O),se=-1!=h.indexOf(a),ie=-1==k.indexOf(a)&&X,le=d.email,ce=d.name,de=d.photoURL,ue=d.type,pe=d.id,me='"'+ce+'"'+(le=le?" < "+le+" > ":""),he=g;"Forums"==c?he=!1:y.includes(a)?he=!1:v.includes(a)&&(he=!0);var fe=c.toLowerCase()!=N.toLowerCase()&&!ee&&"OFFLINE_CHAT"!=N&&"ONLINE_CHAT"!=N,be=e.constructDirectionChanellObj(t),ge=-1!=f.indexOf(a),ve=ae||{},ye=ve.permalink,Ee=ve.appName;return b.a.createElement("div",{className:(se?E.a.bgWhite:"")+" "+E.a.threadList,key:a,id:a,"data-id":"ThreadDiscrip"},b.a.createElement("div",{className:E.a.cleft},b.a.createElement(I.a,{src:de,name:ce,size:"xmedium",iconName:re.icon,borderPalette:re.bordercolor,iconColor:re.color,iconSize:re.size,onClick:function(){"AGENT"==ue&&p&&p(pe)}})),b.a.createElement("div",{className:E.a.cright,onClick:e.onContainerCLick,ref:e.setContentRef},b.a.createElement("div",{className:E.a.poiter},b.a.createElement(W.Container,{alignBox:"row",align:"vertical",isCover:!1,onClick:e.openThread.bind(e,a,P)},b.a.createElement(W.Box,null,b.a.createElement(W.Container,{alignBox:"row",align:"vertical"},b.a.createElement(W.Box,{className:E.a.tname,"data-title":ce,onClick:function(){"AGENT"==ue&&p&&p(pe)}},ce),$?b.a.createElement(W.Box,null,b.a.createElement(B,{sentiment:$,aspects:J})):null,b.a.createElement(W.Box,{className:E.a.prithrlist},b.a.createElement(W.Container,{alignBox:"row",align:"vertical"},"DRAFT"==T?b.a.createElement("span",{className:E.a.draftText},_.h.getI18NValue("support.history.operation.label.draft")," ","@"):"private"==F?b.a.createElement("span",{className:E.a.thrdate},_.h.getI18NValue("support.department.type.internal")," ","."):R&&R.isDeleted?b.a.createElement("span",{className:E.a.thrdate,"data-title":_.h.getI18NValue("support.forums.deletedinforums")},_.h.getI18NValue("support.community.tickettopic.responsedeleted")," ","."):null,b.a.createElement("span",{className:E.a.thrdate},m),R&&R.isBestSolution?b.a.createElement("span",{className:E.a.thrdate+" "+E.a.bestAns},_.h.getI18NValue("support.badgification.badge.creditname.postbestanswer")):null,oe?b.a.createElement("span",{className:E.a.viaChannel,"data-title":N},_.h.getI18NValue("support.common.request.channel.integ.via")," ",ye?b.a.createElement(te.a,{className:E.a.channelName,href:ye,target:"_blank"},Ee):Ee):null,"Forums"!=c?b.a.createElement("span",{className:E.a.recipientsCont+" "+(he?"":E.a.recipientsHide),onClick:function(t){t.stopPropagation(),e.toggleRecipients(a)},"data-title":he?_.h.getI18NValue("crm.button.hide.recipients"):_.h.getI18NValue("crm.button.show.recipients")},b.a.createElement(C.a,{name:"ZD-down",iconClass:E.a.iconDown})):null)),Y?b.a.createElement(W.Box,{className:E.a.keyWord},b.a.createElement(Z,{keyWords:Y})):null)),b.a.createElement(W.Box,{flexible:!0},b.a.createElement(W.Container,{className:E.a.rightMore,alignBox:"row",align:"vertical"},fe?b.a.createElement(W.Box,{className:E.a.otherChanell},b.a.createElement(C.a,{name:be.iconName,title:be.title})):null,z?b.a.createElement(W.Box,{className:" "+E.a.posrel,onClick:e.openThread.bind(e,a,P,"true"),"data-title":_.h.getI18NValue("support.attachments")},b.a.createElement("span",{className:E.a.mailicn},b.a.createElement(C.a,{name:"ZD-attachment5"})),b.a.createElement("span",{className:E.a.attachmentCount},V)):null,b.a.createElement(W.Box,{className:E.a.more},b.a.createElement(j.a,{objValues:e.constructMoreObj(t),onSelect:function(n){e.replyActions(a,P,t,n,ne)},size:"small",moreIcon:A,Icnsize:"16",listStyle:"alpha",widgets:r,selectedWidgetId:s,onWidgetScroll:i,onWidgetSelect:l}))))),he?b.a.createElement(G,{from:oe?M:me,to:L,cc:U,bcc:H}):null,b.a.createElement("div",{onClick:e.openThread.bind(e,a,P)},!se&&"TWILIO"!=N&&"TELEPHONY"!=N&&b.a.createElement("p",{className:E.a.thrdPlain,dangerouslySetInnerHTML:{__html:Object(S.k)(q)}}))),se&&("TWILIO"!=N&&"TELEPHONY"!=N||!Object(S.I)(P)?b.a.createElement("span",null,b.a.createElement("p",{className:E.a.thrdPlain+" "+E.a.quotedContent,dangerouslySetInnerHTML:{__html:P},onMouseOver:function(e){e.stopPropagation()}}),ie?b.a.createElement("div",{className:E.a.cntntOvrLd},b.a.createElement("span",{className:E.a.cntntOvrLdSpn},"["," ",_.h.getI18NValue("support.label.threads.truncated")," ","]"),b.a.createElement("span",{className:E.a.cntOvrLdLnk,onClick:e.openTruncatedContant.bind(e,t)},_.h.getI18NValue("support.label.threads.showfullcont"))):null,ne?b.a.createElement(C.a,{name:"ZD-zdeskEllipsis",iconClass:E.a.quotedIcon+" "+(ge?E.a.isOpened:""),onClick:e.toggleQuotedContent.bind(e,a)}):null,ge?b.a.createElement("p",{className:E.a.thrdPlain+" "+E.a.quotedContent,dangerouslySetInnerHTML:{__html:ne},onMouseOver:function(e){e.stopPropagation()}}):null):b.a.createElement(K.a,{thread:t}))),Q&&Q.length&&se?b.a.createElement("div",{className:E.a.attachCont,ref:function(t){e.setAttachmentRef(t,a)}},b.a.createElement(x.a,{data:Q,downloadAttachment:e.props.downloadAttachment,showAttachmentViewer:o,orgName:n,dataId:"attachList_"+a})):null)}),b.a.createElement(ae.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},b.a.createElement($.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})),b.a.createElement(ae.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteThread"},b.a.createElement(J.a,{closeAlert:this.onCloseDeleteThread,deleteThread:this.deleteFailedThread})),b.a.createElement(ae.a,{saveUpdateFunction:this.handlePortalLayer,name:"SplitTicket"},b.a.createElement(ee,{closeAlert:this.onCloseSplitTicket,splitTicket:this.splitTicket,moduleMeta:d})))}}]),t}(b.a.Component);t.a=ne;ne.propTypes={bugName:v.a.string,contactEmail:v.a.string,deleteDraft:v.a.func,deleteFailedThread:v.a.func,downloadAttachment:v.a.func,getFullContent:v.a.func,getThread:v.a.func,haveBugCreatePer:v.a.bool,haveForWardPermissionOnly:v.a.bool,haveJiraBugCreatePer:v.a.bool,haveMailSendPermission:v.a.bool,isReadOnly:v.a.bool,isSpam:v.a.bool,latestThreadId:v.a.string,moduleMeta:v.a.object,onWidgetScroll:v.a.func,onWidgetSelect:v.a.func,openBugTrackerForm:v.a.func,openEditor:v.a.func,openJiraForm:v.a.func,orgName:v.a.string,resendFailedThread:v.a.func,sanitizedDeptName:v.a.string,scrollCont:v.a.object,selectedWidgetId:v.a.string,sendDraft:v.a.func,showAttachmentViewer:v.a.func,splitTicket:v.a.func,threads:v.a.array,ticketChannel:v.a.string,ticketId:v.a.string,widgets:v.a.array}},"./src/components/Subtab/TicketCloseButton/TicketCloseButton.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/Subtab/TicketCloseButton/TicketCloseButton.module.css"),v=a.n(g),y=a("../components/lib/Layout/index.js"),E=a("../components/lib/Switch/Switch.js"),I=a.n(E),k=a("./src/fz-i18n/index.js"),C=a("../components/lib/Button/Button.js"),_=a.n(C),D=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.closeTicket,a=e.reOpenTicket,n=e.isSpam,o=e.isClosed,r=e.isOnHold,s=e.notSpam,i=e.moduleName,l=e.haveCloseTicketPermission,c=e.isCancel,d=e.onClick,u=e.isCloserNotificationEnable,p=e.toggleCloserNotification,m=!1;l||o||r||(m=!0);var f=u?k.h.getI18NValue("support.survey.lable.last.notification.disable",[i]):k.h.getI18NValue("support.survey.lable.last.notification.enable",[i]);return h.a.createElement(y.Container,{alignBox:"row",align:"vertical",className:v.a.container},c||n||m||o||r?null:h.a.createElement(y.Box,{className:v.a.switch,"data-title":f},h.a.createElement(I.a,{id:"notification",checked:u,onChange:p,dataId:"switch"})),h.a.createElement(y.Box,{flexible:!0},n?h.a.createElement(_.a,{className:v.a.spamButton,onClick:s,needAppearance:!1,dataId:"spamSendButton"},k.h.getI18NValue("support.not.spam")):m?c?h.a.createElement(_.a,{className:v.a.cancelButton,onClick:d,needAppearance:!1,dataId:"CancelBtn"},k.h.getI18NValue("support.label.cancel")):null:h.a.createElement(_.a,{className:v.a.blueBtn,onClick:o||r?a:t,dataId:o||r?"reopen-ticket":"close-ticket",needAppearance:!1},o||r?k.h.getI18NValue("support.label.reopen.req",[i]):k.h.getI18NValue("support.common.set.close.entity",[i]))))}}]),t}(h.a.Component);t.a=D,D.propTypes={closeTicket:b.a.func,haveCloseTicketPermission:b.a.bool,isCancel:b.a.bool,isClosed:b.a.bool,isCloserNotificationEnable:b.a.bool,isOnHold:b.a.bool,isSpam:b.a.bool,moduleName:b.a.string,notSpam:b.a.func,onClick:b.a.func,reOpenTicket:b.a.func,toggleCloserNotification:b.a.func}},"./src/components/Subtab/UploadList/UploadList.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/Subtab/UploadList/UploadList.module.css"),v=a.n(g),y=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),E=a.n(y),I=a("./src/components/Image/Image.js"),k=a("../components/lib/Layout/index.js"),C=a("./src/utils/Attachment.js"),_=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.constructPreviewData=a.constructPreviewData.bind(a),a}return p()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,a=e.indexOf("/api"),n=e.slice(a,e.length);return n+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,a=t.oldAttachments,n=t.newAttachments,o=t.showAttachmentViewer,r=a.length?a.concat(n):n;Object(C.b)(e,r,function(e){o(e)})}},{key:"constructAttachItem",value:function(e,t){var a=e.id,n=e.isPreview,o=e.viewUrl,r=e.href,s=e.name,i=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,u=d.deleleUpload,p=d.removeAttachment,m=o||(n?r:this.constructImgURL(r)),f=Object(C.i)(s),b=Object(C.l)(s)||f,g=Object(C.f)(i),y=Object(C.d)(s),k=b?s+" - ("+g+")":s;return h.a.createElement("div",{className:v.a.upload+" "+(f?v.a.isAudio:"")+" "+(n?v.a.preview:""),"data-title":k},n?h.a.createElement("div",{className:v.a.loader,style:{width:c+"%"}}):null,b?h.a.createElement(I.a,{onClick:!n&&this.constructPreviewData.bind(this,a),src:m,className:v.a.uploadimage+" ",alt:"Uploaded Image"}):h.a.createElement("div",{className:v.a.attachInfo,onClick:this.openNewTab.bind(this,m)},h.a.createElement(E.a,{name:y,iconClass:v.a.fileIcon}),h.a.createElement("span",{className:v.a.attachsize},g)),n?null:h.a.createElement("span",{className:v.a.uploadclose,onClick:n?null:"new"==t?u.bind(this,a):p.bind(this,a),"data-id":"deleteUpload"},h.a.createElement(E.a,{name:"ZD-close"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.oldAttachments,n=t.newAttachments,o=t.from,r=t.isPeekView,s=v.a.attachList;return"leftPanel"==o?s+=" ":"replyEdtior"==o&&(s=r?s+" "+v.a.peekReplyAttach:s+" "+v.a.replyAttach),a&&a.length||n&&n.length?h.a.createElement(k.Container,{alignBox:"row",scroll:"horizontal",className:s,dataId:"attachmentList"},a&&a.length?a.map(function(t,a){return h.a.createElement(k.Box,{key:a},e.constructAttachItem(t,"old"))}):null,n&&n.length?n.map(function(t,a){return h.a.createElement(k.Box,{key:a,dataId:t.name.toLowerCase().replace(".","_")},e.constructAttachItem(t,"new"))}):null):null}}]),t}(h.a.Component);t.a=_,_.propTypes={data:b.a.object,deleleUpload:b.a.func,from:b.a.string,isPeekView:b.a.bool,newAttachments:b.a.array,oldAttachments:b.a.array,orgId:b.a.string,removeAttachment:b.a.func,showAttachmentViewer:b.a.func}},"./src/components/Subtab/UploadPopup/UploadPopup.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("../components/lib/DropBox/DropBox.js"),v=a.n(g),y=a("../components/lib/ListItem/ListItemWithIcon.js"),E=a.n(y),I=a("./src/fz-i18n/index.js"),k=a("./src/components/Subtab/UploadPopup/UploadPopup.css"),C=a.n(k),_=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,a=e.bottom,n=e.left,o=e.onAttchClick,r=e.openCloudAttach,s=e.labelName;return h.a.createElement(v.a,{size:"small",boxPosition:t,isActive:!0,bottom:a,left:n},h.a.createElement("label",{htmlFor:s},h.a.createElement(E.a,{autoHover:!0,value:I.h.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"ZD-emptyfle",dataId:"fileAttach"}),h.a.createElement("input",{className:C.a.fileCont,type:"file",multiple:"multiple",id:s,onChange:o})),h.a.createElement(E.a,{autoHover:!0,value:I.h.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"ZD-cloudicn",onClick:r,dataId:"cloudAttach"}))}}]),t}(m.Component);t.a=_,_.propTypes={bottom:b.a.string,boxPosition:b.a.string,labelName:b.a.string,left:b.a.string,onAttchClick:b.a.func,openCloudAttach:b.a.func}},"./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js":function(e,t,a){"use strict";var n,o=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),r=a.n(o),s=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=a.n(s),l=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=a.n(l),d=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=a.n(d),p=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),m=a.n(p),h=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=a.n(h),b=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=a.n(b),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=a.n(v),E=a("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),I=a("./src/fz-i18n/index.js"),k=function(e){function t(){return c()(this,t),m()(this,(t.__proto__||i()(t)).apply(this,arguments))}return f()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteDraft,a=e.closeAlert,n=e.isActive,o=e.forwardRef;return g.a.createElement(E.a,{isActive:n,title:I.h.getI18NValue("support.request.alert.discard.draft.header"),message:I.h.getI18NValue("crm.confirm.discard.draft"),submitText:I.h.getI18NValue("support.yes"),cancelText:I.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a,forwardRef:o})}}]),t}(b.Component);t.a=k,k.propTypes=(n={deleteDraft:y.a.func,forwardRef:y.a.object},r()(n,"forwardRef",y.a.object),r()(n,"isActive",y.a.bool),r()(n,"isActive",y.a.bool),r()(n,"moduleMeta",y.a.object),n)},"./src/components/Subtab/alert/DeleteThreadAlertPopup/DeleteThreadAlertPopup.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js"),v=a("./src/fz-i18n/index.js"),y=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteThread,a=e.closeAlert,n=e.isActive,o=e.forwardRef;return h.a.createElement(g.a,{isActive:n,title:v.h.getI18NValue("support.history.operation.label.wfalert"),message:v.h.getI18NValue("support.failedmail.remove"),submitText:v.h.getI18NValue("crm.button.delete"),cancelText:v.h.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a,forwardRef:o})}}]),t}(m.Component);t.a=y,y.propTypes={deleteThread:b.a.func,forwardRef:b.a.object,isActive:b.a.bool,moduleMeta:b.a.object}},"./src/components/Subtab/collision/collisionAlert/CollisionReplyAlert/CollisionReplyAlert.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/Subtab/collision/collisionAlert/collisionAlert.module.css"),v=a.n(g),y=a("./src/components/FreezeLayer/FreezeLayer.js"),E=a("../components/lib/Avatar/Avatar.js"),I=a.n(E),k=a("../components/lib/Button/Button.js"),C=a.n(k),_=a("./src/fz-i18n/index.js"),D=a("./src/utils/Common.js"),S=a("./src/utils/bind.js"),A=a("./src/components/PortalLayer/PortalLayer.js"),O=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return S.a.apply(a,["documentKeyupHandler"]),a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,a=t.replyConfirm,n=t.closeAlert;27===e.keyCode?n():13===e.keyCode&&a()}},{key:"render",value:function(){var e=this.props,t=e.agents,a=e.replyingUsers,n=e.replyConfirm,o=e.closeAlert,r=e.isFromReplyEditor;return h.a.createElement(A.a,{initialState:!0},h.a.createElement(y.a,{align:"both",animationName:"fade",runOnMount:!0},h.a.createElement("div",{className:v.a.popup},h.a.createElement("div",{className:v.a.header},a.map(function(e,a){var n=t[e.agentId];return h.a.createElement("span",{key:a,className:v.a.user},h.a.createElement(I.a,{size:"large",src:n.photoURL,name:n.name||Object(D.e)(n.firstName,n.lastName)}))}),h.a.createElement("p",{className:v.a.information},a.map(function(e,n){var o=t[e.agentId];return n+=1,h.a.createElement("span",{className:v.a.name,key:n},h.a.createElement("span",null,o.name||Object(D.e)(o.firstName,o.lastName)),n===a.length-1?a.length>1?h.a.createElement("span",{className:v.a.name},_.h.getI18NValue("and")):null:n!==a.length?h.a.createElement("span",null,","):null)}),h.a.createElement("span",null," ",r?_.h.getI18NValue("support.label.collision.detection.newagent.replying"):a.length>1?_.h.getI18NValue("support.label.collision.detection.agent.replying",[_.h.getI18NValue("are")]):_.h.getI18NValue("support.label.collision.detection.agent.replying",[_.h.getI18NValue("is")])))),h.a.createElement("div",{className:v.a.footer},h.a.createElement("div",{className:v.a.footerTitle},_.h.getI18NValue("support.label.collision.detection.agent.reply.question")),h.a.createElement("div",null,h.a.createElement(C.a,{text:_.h.getI18NValue("support.yes"),size:"Medium",palette:"primaryFilled",onClick:n}),h.a.createElement("span",{className:v.a.lastButton},h.a.createElement(C.a,{text:_.h.getI18NValue("support.no"),size:"Medium",palette:"secondary",onClick:o})))))))}}]),t}(h.a.Component);t.a=O,O.propTypes={agents:b.a.object,closeAlert:b.a.func,isFromReplyEditor:b.a.bool,replyConfirm:b.a.func,replyingUsers:b.a.array}},"./src/components/TextEditor/TextEditor.js":function(e,t,a){"use strict";(function(e){var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),b=a.n(f),g=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),v=a.n(g),y=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),E=a.n(y),I=a("../components/lib/Layout/index.js"),k=a("./src/utils/editorUtils.js"),C=a("./src/utils/bind.js"),_=(a("./src/components/TextEditor/ZohoDeskEditor_Init.js"),a("./src/components/TextEditor/TextEditor.module.css")),D=a.n(_),S=function(t){function a(e){d()(this,a);var t=h()(this,(a.__proto__||l()(a)).call(this,e));t.state={isEditorLoad:!1};return C.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return b()(a,t),p()(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.id,n=t.value,o=t.editorMode,r=void 0===o?"":o,i=t.editorOptions,l=void 0===i?{}:i,c=t.needEditorFocus,d=void 0===c||c,u=t.mode;if(a&&e.ZohoDeskEditor){var p={id:a,content:n,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:u};p=s()(p,l),ZohoDeskEditor_Init.init(r),ZohoDeskEditor.create&&ZohoDeskEditor.create(p)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.id,n=t.chageEditorContent;t.value;e.isEmptyContent&&editor[a]&&editor[a].setContent(""),e.chageEditorContent!=n&&e.chageEditorContent&&void 0!==n&&editor[a].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,a=e.id,n=editor[a]?editor[a]:{},o=n.getContent?n.getContent():"";Object(k.a)(n)||(o=""),o="plaintext"===n.mode?Object(k.b)(o):o,t&&t(o.trim(),a)}},{key:"editorCallback",value:function(t){var a=this.props.editorCallback;this.setState({isEditorLoad:!0});var n=this.props.id;e.editor=e.editor||{},editor[n]||(editor[n]=t),a&&a(t)}},{key:"handleInlineUpload",value:function(e,t,a,n,o){this.handleUpload(e).then(function(e){var a={};a[0]={url:e,desc:o},t(a,n)},function(){a(n)})}},{key:"handleDropUpload",value:function(e,t,a){this.handleUpload(e).then(function(e){t(e)},function(){a()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,a,n){var o=void 0;"blob"===t?o=e:(o=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(o).then(function(e){a(e)},function(){n()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var a=new FormData;return a.append("file",e),t(a).then(function(e){var t=e.data||{},a=t.data,n=t.orgId,o=a||{},r=o.id,s=o.href;if(r)return s+"?orgId="+n;throw{}},function(e){throw e})}catch(e){return o.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.dataId,n=e.type,o=e.border,r=this.state.isEditorLoad;return v.a.createElement(I.Container,{className:D.a.textEditor+" "+D.a[n]+" "+D.a[o],dataId:a},!r&&v.a.createElement("div",{className:D.a.stencillist9},v.a.createElement("div",{className:D.a.stencilLoading}),v.a.createElement("div",{className:D.a.stencilLoading}),v.a.createElement("div",{className:D.a.stencilLoading}),v.a.createElement("div",{className:D.a.stencilLoading}),v.a.createElement("div",{className:D.a.stencilLoading}),v.a.createElement("div",{className:D.a.stencilLoading})),v.a.createElement(I.Box,{flexible:!0,id:t,dataId:a}))}}]),a}(g.Component);t.a=S,S.defaultProps={type:"large",border:"borderTop"},S.propTypes={blurCallback:E.a.func,chageEditorContent:E.a.bool,dataId:E.a.string,editorCallback:E.a.func,editorMode:E.a.string,editorOptions:E.a.object,id:E.a.string,mode:E.a.string,needEditorFocus:E.a.bool,onChange:E.a.func,onFocus:E.a.func,onUpload:E.a.func,value:E.a.string,type:E.a.oneOf(["large","xlarge","medium","small","mini"]),border:E.a.oneOf(["borderTop","borderAll","borderNone"])}}).call(this,a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/TextEditor/ZohoDeskEditor_Init.js":function(e,t,a){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0,ZohoDeskEditor_Init.retainOldList=!0;var a=window.location.protocol,n="",o="com",r="",s=".zohostatic.";"US".indexOf("SKY")>-1&&(s=".skydeskstatic.",o="jp"),"US".indexOf("RO")>-1&&(r="-ro"),["LOC","DEV"].indexOf("US")>-1&&(n="local"),ZohoDeskEditor_Init.jsurl=a+"//"+n+"localjs"+r+s+o+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=a+"//"+n+"localcss"+r+s+o+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=a+"//"+n+"localimg"+r+s+o+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var i=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,i(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),i(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",i(6))}}).call(this,a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/avatar/AvatarThread/AvatarThread.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/avatar/AvatarThread/AvatarThread.module.css"),v=a.n(g),y=a("../components/lib/Avatar/Avatar.js"),E=a.n(y),I=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=a.n(I),C=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.name,n=e.size,o=e.iconColor,r=e.iconName,s=e.iconSize,i=e.borderPalette,l=e.onClick,c=e.title,d=e.iconTitle,u=e.onIconClick,p=e.showOnHover,m=e.dataId,f=p?v.a.hover:"";return h.a.createElement("div",{className:v.a.container+" "+f},h.a.createElement(E.a,{src:t,name:a,title:c,size:n,onClick:l,dataId:m}),r&&h.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+i],"data-title":d,"data-id":"Remove Follower"===d&&"removeFollower",onClick:u},h.a.createElement("span",{className:v.a.icon},h.a.createElement(k.a,{name:r,size:s,iconClass:v.a["text_"+o]?v.a["text_"+o]:o}))))}}]),t}(h.a.Component);t.a=C,C.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},C.propTypes={borderPalette:b.a.oneOfType([b.a.string,b.a.bool]),iconColor:b.a.string,iconName:b.a.oneOfType([b.a.string,b.a.bool]),iconSize:b.a.oneOfType([b.a.string,b.a.bool]),iconTitle:b.a.string,name:b.a.string,onClick:b.a.func,onIconClick:b.a.func,showOnHover:b.a.bool,size:b.a.string,src:b.a.string,title:b.a.string}},"./src/components/lookup/Lookup/Lookup.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/FreezeLayer/FreezeLayer.js"),v=a("../components/lib/Layout/index.js"),y=a("./src/components/lookup/Lookup/Lookup.module.css"),E=a.n(y),I=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.elementMedia,n=e.children,o=e.size,r=e.dataId,s=e.forwardRef;return h.a.createElement(g.a,{align:"horizontal",animationName:"fade",childAnimationName:"flyDown",isActive:t,palette:"snow",forwardRef:s},h.a.createElement(v.ResponsiveContainer,{alignBox:"row",className:E.a.container,dataId:"fldValue",elementMedia:a},h.a.createElement("div",{className:E.a.box+" "+E.a["size_"+o],"data-id":r},n)))}}]),t}(m.Component);t.a=I,I.propTypes={children:b.a.node,dataId:b.a.string,elementMedia:b.a.object,isActive:b.a.bool,size:b.a.oneOf(["small","medium"])},I.defaultProps={size:"medium"}},"./src/components/lookup/Section/Section.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("../components/lib/Layout/index.js"),v=a("./src/components/lookup/Section/LookupSection.module.css"),y=a.n(v),E=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alignBox,a=e.className;return h.a.createElement(g.Container,{alignBox:t,className:y.a.section+" "+(a||"")},h.a.createElement(g.Box,{flexible:!0},this.props.children))}}]),t}(m.Component);t.a=E,E.propTypes={alignBox:b.a.string,children:b.a.node,className:b.a.string},E.defaultProps={}},"./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/lookup/Lookup/Lookup.js"),v=a("./src/components/lookup/alert/header/AlertHeader/AlertHeader.js"),y=a("../components/lib/Button/Button.js"),E=a.n(y),I=a("./src/components/lookup/Section/Section.js"),k=a("./src/components/FormAction/FormAction.js"),C=a("./src/components/lookup/alert/AlertLookupPortal/AlertLookupPortal.module.css"),_=a.n(C),D=(a("./src/constants/index.js"),function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.documentKeydownHandler=a.documentKeydownHandler.bind(a),a.getButtonRef=a.getButtonRef.bind(a),a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.documentKeydownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.documentKeydownHandler)}},{key:"documentKeydownHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,a=t.onSubmitClick,n=t.onCancelClick,o=t.isActive;27===e.keyCode&&o?n&&n(e):13===e.keyCode&&o&&a&&a(e)}},{key:"getButtonRef",value:function(e){this.okButton=e,this.props.isDefaultFocus&&e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.palette,n=e.size,o=e.type,r=e.title,s=e.message,i=e.confirmationMessage,l=e.submitText,c=e.cancelText,d=e.onSubmitClick,u=e.onCancelClick,p=e.children,m=e.forwardRef;return h.a.createElement(g.a,{isActive:t,size:n,dataId:"alertPopup",forwardRef:m},h.a.createElement(v.a,{title:r,palette:a,iconType:o}),h.a.createElement(I.a,{alignBox:"row",className:_.a.section},h.a.createElement("div",{className:_.a.innerSection},p||h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),i&&h.a.createElement("div",{className:_.a.text},i))),h.a.createElement(k.c,{size:"small",paddingLeftSize:"xsmall"},h.a.createElement(E.a,{text:l,dataId:"alertConfirmButton",onClick:d,palette:"primary"===a?"primaryFilled":"dangerFilled",getRef:this.getButtonRef}),c&&h.a.createElement(E.a,{dataId:"alertCancelButton",text:c,onClick:u,palette:"secondary"}))))}}]),t}(m.Component));t.a=D,D.propTypes={cancelText:b.a.string,children:b.a.node,confirmationMessage:b.a.string,forwardRef:b.a.object,isActive:b.a.bool,isDefaultFocus:b.a.bool,message:b.a.string,onCancelClick:b.a.func,onSubmitClick:b.a.func,palette:b.a.oneOf(["default","primary","danger"]),size:b.a.oneOf(["small","medium"]),submitText:b.a.string,title:b.a.string,type:b.a.oneOf(["delete","alert","remoteAssist","splitTicket"])},D.defaultProps={isActive:!1,palette:"danger",size:"small",type:"alert"}},"./src/components/lookup/alert/header/AlertHeader/AlertHeader.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/lookup/header/Title/Title.js"),v=a("../components/lib/Layout/index.js"),y=a("./src/components/lookup/alert/header/AlertHeader/AlertHeader.module.css"),E=a.n(y),I=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=a.n(I),C=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.palette,n=e.needIcon,o=e.iconType;return h.a.createElement(v.ResponsiveContainer,{align:"vertical",alignBox:"row",className:E.a.container+" "+E.a[a],elementMedia:{xs:""+E.a.extraSmall},isCover:!1,wrap:"wrap"},n?h.a.createElement("div",{className:E.a.iconContainer},h.a.createElement(k.a,{name:{delete:"ZD-socialDelete",alert:"ZD-exclamationThincircle",remoteAssist:"ZD-taskDemo",splitTicket:"ZD-splitNew",update:"ZD-update"}[o],iconClass:E.a.iconStyle+" "+E.a["icon_"+o]+" "+E.a["text_"+a]})):null,h.a.createElement(v.Box,{flexible:!0},h.a.createElement("div",{className:E.a.title},h.a.createElement(g.a,{text:t,palette:a}))))}}]),t}(m.Component);t.a=C,C.propTypes={iconType:b.a.oneOf(["delete","alert","remoteAssist","splitTicket","update"]),needIcon:b.a.bool,palette:b.a.oneOf(["default","primary","danger"]),title:b.a.string},C.defaultProps={palette:"danger",needIcon:!0,iconType:"alert"}},"./src/components/lookup/header/Title/Title.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("./src/components/lookup/header/Title/LookupTitle.module.css"),v=a.n(g),y=function(e){function t(){return s()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.palette;return h.a.createElement("span",{className:v.a.title+" "+v.a[a]},t)}}]),t}(m.PureComponent);t.a=y,y.propTypes={palette:b.a.oneOf(["default","primary","danger"]),text:b.a.string},y.defaultProps={palette:"default"}},"./src/containers/Subtab/ReplyEditor/ReplyEdtior.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=a.n(f),g=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),v=a.n(g),y=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),E=a.n(y),I=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),k=a.n(I),C=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),_=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-dom/server.browser.js"),D=a.n(_),S=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),A=a.n(S),O=a("../components/lib/Layout/index.js"),x=a("./src/components/TextEditor/TextEditor.js"),j=a("./src/components/SVG/SVG.js"),T=function(e){function t(){return p()(this,t),b()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,a=e.isSymbol;return E.a.createElement(j.a,{viewBox:"0 0 32 32",name:"PlusIcon",isRender:t,isSymbol:a},E.a.createElement("g",null,E.a.createElement("path",{style:{fill:"#767d89"},d:"M16,2.7c0.4,0,0.7,0.1,0.9,0.4s0.4,0.6,0.4,0.9v10.7H28c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9 c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4H17.3V28c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4 c-0.3-0.3-0.4-0.6-0.4-0.9V17.3H4c-0.4,0-0.7-0.1-0.9-0.4S2.7,16.4,2.7,16s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4h10.7V4 c0-0.4,0.1-0.7,0.4-0.9C15.3,2.8,15.6,2.7,16,2.7z"})))}}]),t}(E.a.Component),N=T;T.propTypes={isRender:k.a.bool,isSymbol:k.a.bool},T.defaultProps={isRender:!0,isSymbol:!1};var w=function(e){function t(){return p()(this,t),b()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,a=e.isSymbol;return E.a.createElement(j.a,{viewBox:"0 0 31 32",name:"SnippetIcon",isRender:t,isSymbol:a},E.a.createElement("g",null,E.a.createElement("path",{d:"M14.4,8.2L15.6,9L16,8.4l-1-0.7l2.5-3.7L11.5,0L8.9,3.8L7.9,3L7.6,3.6l1.2,0.8c-2.3,3-5.9,0.8-6,0.7L2.3,4.9L0,23.8 l16.6-9.3l-0.4-0.3C15.9,13.9,12.6,11.5,14.4,8.2L14.4,8.2z M1.5,22l5.2-7.7c0.3,0.1,0.6,0.2,0.9,0.2c1.2,0,2.1-0.9,2.2-2.1 c0-1.2-0.9-2.1-2.1-2.2c-1.2,0-2.1,0.9-2.2,2.1c0,0.6,0.2,1.2,0.7,1.6L1,21.6L2.8,6c1.2,0.6,4.4,1.7,6.5-1.1l4.5,3 c-1.8,3,0.4,5.6,1.4,6.5L1.5,22L1.5,22z M6.7,13.6c-0.7-0.4-0.8-1.3-0.4-2s1.3-0.8,2-0.4c0.7,0.4,0.8,1.3,0.4,2 c-0.2,0.3-0.5,0.5-0.9,0.6C7.5,13.9,7.1,13.8,6.7,13.6L6.7,13.6z"}),E.a.createElement("path",{style:{fill:"#03A3FE"},d:"M30.9,25c-4.9,0.7-5.4,1.2-5.9,6.7c-0.6-5.4-1.1-6-6.1-6.5c4.9-0.7,5.4-1.2,5.9-6.7 C25.4,23.9,25.9,24.5,30.9,25z M30.3,8.2c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C25.4,7.1,25.8,7.6,30.3,8.2z M16.2,25.7c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C11.3,24.6,11.7,25.1,16.2,25.7z"})))}}]),t}(E.a.Component),P=w;w.propTypes={isRender:k.a.bool,isSymbol:k.a.bool},w.defaultProps={isRender:!0,isSymbol:!1};var F=function(e){function t(){return p()(this,t),b()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,a=e.isSymbol;return E.a.createElement(j.a,{viewBox:"0 0 32 32",name:"TemplateIcon",isRender:t,isSymbol:a},E.a.createElement("g",null,E.a.createElement("path",{d:"M3.6,27.7h5.9v2.8c0,0.8,0.7,1.5,1.5,1.5h17.4c0.8,0,1.5-0.7,1.5-1.5V5.9c0-0.8-0.7-1.5-1.5-1.5h-5.9V1.5 C22.5,0.7,21.8,0,21,0L3.6,0C2.8,0,2.1,0.7,2.1,1.5v24.6C2.1,27,2.8,27.7,3.6,27.7z M28.4,5.7c0.1,0,0.2,0.1,0.2,0.2v24.6 c0,0.1-0.1,0.2-0.2,0.2H11c-0.1,0-0.2-0.1-0.2-0.2V5.9c0-0.1,0.1-0.2,0.2-0.2C11,5.7,28.4,5.7,28.4,5.7z M9.5,16.6v3.1V16.6z M9.5,12v3.3V12z M9.5,7.6v3.2V7.6z M9.5,21v5.3H3.6c-0.1,0-0.2-0.1-0.2-0.2V1.5c0-0.1,0.1-0.2,0.2-0.2H21c0.1,0,0.2,0.1,0.2,0.2 v2.7L11,4.3c-0.8,0-1.5,0.7-1.5,1.5v0.1L9.5,21z M26.9,25.5c0,0.4-0.3,0.7-0.7,0.7H15.7c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7 h10.6C26.6,24.8,26.9,25.1,26.9,25.5z M12.8,21c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,21.7,12.8,21.4,12.8,21L12.8,21z M12.8,16.5c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,17.1,12.8,16.8,12.8,16.5L12.8,16.5z M12.8,12c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,12.6,12.8,12.4,12.8,12L12.8,12z"})))}}]),t}(E.a.Component),R=F;F.propTypes={isRender:k.a.bool,isSymbol:k.a.bool},F.defaultProps={isRender:!0,isSymbol:!1};var z=a("./src/components/Subtab/Composebox/Composebox.module.css"),B=a.n(z),V=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),M=a.n(V),L=a("./src/components/MorePopup/MorePopup.js"),Z=a("../components/lib/TextBox/TextBox.js"),K=a.n(Z),U=a("./src/components/SearchResults/SearchResults.js"),H=a("./src/utils/Common.js"),W=a("./src/components/Subtab/TokenList/TokenList.module.css"),q=a.n(W),G=a("./src/utils/EmailValidation.js"),Q=a("./src/fz-i18n/index.js"),$=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));return a.state={value:"",editedValue:a.props.editedValue||"",selectedIndex:null,errordiv:"",errorIndex:null,editedIndex:a.props.editedIndex||null,selectSearchIndex:-1},a.formatEmailAddress=a.formatEmailAddress.bind(a),a.removeEmail=a.removeEmail.bind(a),a.selectEmail=a.selectEmail.bind(a),a.handleSearchIndex=a.handleSearchIndex.bind(a),a.resetSearchData=a.resetSearchData.bind(a),a}return v()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){e.editedValue==this.props.editedValue&&e.editedIndex==this.props.editedIndex||this.setState({editedValue:e.editedValue,editedIndex:e.editedIndex})}},{key:"handleChange",value:function(e,t){"edit"==e?this.setState({editedValue:t}):this.setState({value:t}),t.length>2?this.props.searchContact(this.props.mode,t):this.resetSearchData()}},{key:"removeEmail",value:function(e){var t=this,a=this.props,n=a.removeEmail,o=a.mode,r=this.state.selectedIndex;null==r&&e?this.setState({selectedIndex:e-1}):(n(r,o,"",function(){t.formInput&&t.formInput.focus()}),this.setState({selectedIndex:e-1}))}},{key:"formatEmailAddress",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.setState({selectedIndex:null});var n=this.props,o=n.mode,r=n.formatEmailAddress,s=n.emailArr,i=n.searchMode,l=n.searchData,c=this.state,d=c.selectSearchIndex,u=c.selectedIndex,p=a.key,m=a.keyCode,h="string"==typeof a?a:a.target.value;if(38==m||40==m)i==o&&"noData"!=l&&this.handleSearchIndex(m);else if(i==o&&"noData"!=l&&13==m&&-1!=d)this.handleSearchIndex(m);else if(8==m&&""==h)this.removeEmail(s.length);else if(13==m&&null!=u)this.props.editEmail(this.state.selectedIndex,this.props.emailArr[this.state.selectedIndex],o,function(){t.editInput.focus(),t.editInput.select()});else{if(this.setState({selectedIndex:null}),""==h)return;(13==m||188==m&&","==p||"focusout"==e)&&(this.resetSearchData(),188==m&&(h=h.substring(0,h.indexOf(","))),r(h,o,function(e){"isValide"==e.type?t.setState({value:""},function(){t.formInput&&t.formInput.focus()}):"isInValide"==e.type?(t.setState({errordiv:"form"}),setTimeout(function(){t.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(t.setState({errorIndex:e.index},function(){t.formInput&&t.formInput.focus()}),setTimeout(function(){t.setState({errorIndex:null})},2e3))}))}}catch(a){console.log(a)}}},{key:"changeEmailAddress",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.props,r=o.mode,s=o.changeEmailAddress,i=o.removeEmail,l=o.searchMode,c=o.searchData,d=n.key,u=n.keyCode,p="string"==typeof n?n:n.target.value;38==u||40==u?l==r&&"noData"!=c&&this.handleSearchIndex(u):l==r&&"noData"!=c&&13==u&&-1!=this.state.selectSearchIndex?this.handleSearchIndex(u):8==u&&""==p?i(e,r,"edit",function(){a.formInput&&a.formInput.focus()}):(13==u||188==u&&","==d||"focusout"==t)&&(this.resetSearchData(),188==u&&(p=p.substring(0,p.indexOf(","))),s(p,e,r,function(e){"isValide"==e.type?a.setState({value:""},function(){a.formInput&&a.formInput.focus()}):"isInValide"==e.type?(a.setState({errordiv:"edit"}),setTimeout(function(){a.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(a.setState({errorIndex:e.index},function(){a.editInput.focus()}),setTimeout(function(){a.setState({errorIndex:null})},2e3))}))}},{key:"editEmail",value:function(e,t,a){var n=this;this.state.selectedIndex==e?this.props.editEmail(e,t,a,function(){n.editInput.focus(),n.editInput.select()}):this.setState({selectedIndex:e})}},{key:"selectEmail",value:function(e,t){var a=e.firstName,n=e.lastName,o=e.email,r=Object(H.e)(a,n)+"<"+o+">";"edit"==t?(this.setState({editedValue:r,errordiv:""}),this.changeEmailAddress(this.state.editedIndex,"focusout",r)):(this.setState({value:r,errordiv:""}),this.formatEmailAddress("focusout",r)),this.resetSearchData()}},{key:"resetSearchData",value:function(){this.setState({selectSearchIndex:-1}),this.props.closeSearchPopup()}},{key:"handleSearchIndex",value:function(e){var t=this.props.searchData;if(13==e){var a=this.state,n=a.selectSearchIndex,o=a.editedIndex;if(n>-1){var r=t[n],s=r.email,i=r.firstName,l=r.lastName,c=Object(H.e)(i,l)+"<"+s+">";null==o?(this.setState({value:c,errordiv:""}),this.formatEmailAddress("focusout",c)):(this.setState({editedValue:c,errordiv:""}),this.changeEmailAddress(o,"focusout",c)),this.resetSearchData()}}else 40==e?this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex==t.length-1?0:e.selectSearchIndex+1}}):this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex<=0?t.length-1:e.selectSearchIndex-1}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.emailArr,n=t.mode,o=t.removeEmail,r=t.editedMode,s=t.searchMode,i=t.searchData,l=t.orgName,c=this.state,d=c.value,u=c.editedValue,p=c.selectedIndex,m=c.errordiv,h=c.errorIndex,f=c.editedIndex,b=c.selectSearchIndex;return E.a.createElement(O.Container,{wrap:"wrap",alignBox:"row"},a.map(function(t,a){var c=Object(G.a)(t),d=Object(G.e)(t);return f==a&&n==r?E.a.createElement(O.Box,{shrink:!0,className:q.a.item},E.a.createElement(K.a,{value:u,dataId:"toAddress_"+e.props.orgName,placeHolder:"Enter the Recipients Email Address",className:"edit"==m?q.a.placeholder+" "+q.a.invalideInput:q.a.placeholder,needAppearance:!1,onChange:e.handleChange.bind(e,"edit"),onKeyUp:e.changeEmailAddress.bind(e,a,""),onBlur:e.changeEmailAddress.bind(e,a,"focusout",u),inputRef:function(t){e.editInput=t}}),s==n&&"noData"!=i?E.a.createElement("span",null,E.a.createElement(U.a,{data:i,orgName:l,onSelect:e.selectEmail,type:"edit",selectSearchIndex:b,needFixed:!0,dataId:n+"EmailRequestSearch"})):null):E.a.createElement(O.Box,{className:p==a?q.a.item+" "+q.a.sel:d?q.a.item:q.a.item+" "+q.a.invalide,key:a,id:p,dataId:n+"Request_"+a},E.a.createElement("div",{className:q.a.rlyedr,onClick:e.editEmail.bind(e,a,t,n),"data-id":"close"},E.a.createElement("span",{className:q.a.rlyact},E.a.createElement("span",{className:q.a.rlyclo,onClick:o.bind(e,a,n,"",function(){e.formInput&&e.formInput.focus()})},E.a.createElement(M.a,{name:"ZD-close",size:"17"})),E.a.createElement("span",{className:h==a?q.a.rlymailtxt+" "+q.a.invalideInput:q.a.rlymailtxt},c))))}),n!=r&&E.a.createElement(O.Box,{flexible:!0,className:q.a.item+" "+q.a.inputCont},E.a.createElement(K.a,{type:"text",value:d,placeHolder:Q.h.getI18NValue("support.email.placeholder"),className:"form"==m?q.a.placeholder+" "+q.a.invalideInput:q.a.placeholder,needAppearance:!1,onChange:this.handleChange.bind(this,""),onKeyUp:this.formatEmailAddress.bind(this,""),onBlur:this.formatEmailAddress.bind(this,"focusout"),inputRef:function(t){e.formInput=t},dataId:n+"Email"}),s==n&&"noData"!=i?E.a.createElement(U.a,{data:i,orgName:l,onSelect:this.selectEmail,type:"form",selectSearchIndex:b,needFixed:!0}):null))}}]),t}(E.a.Component),J=$;$.propTypes={changeEmailAddress:k.a.func,closeSearchPopup:k.a.func,editEmail:k.a.func,editedIndex:k.a.string,editedMode:k.a.string,editedValue:k.a.string,emailArr:k.a.array,formatEmailAddress:k.a.func,mode:k.a.string,orgName:k.a.string,removeEmail:k.a.func,searchContact:k.a.func,searchData:k.a.array,searchMode:k.a.string};var Y=a("./src/components/Subtab/FromAddressEmpty/FromAddressEmpty.module.css"),X=a.n(Y),ee=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));return a.state={mode:"Configure"},a._mount=!1,a.refreshAdrress=a.refreshAdrress.bind(a),a.openConfigurePage=a.openConfigurePage.bind(a),a}return v()(t,e),h()(t,[{key:"refreshAdrress",value:function(){var e=this;this.props.getFromEmailAddress(function(){e._mount&&e.setState({mode:"Configure"})})}},{key:"openConfigurePage",value:function(){this.setState({mode:"refresh"})}},{key:"componentDidMount",value:function(){this._mount=!0}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"render",value:function(){var e=this.state.mode,t=this.props,a=t.orgName,n=t.depName;return E.a.createElement("div",null,"Configure"==e?E.a.createElement("a",{className:X.a.alertDiv,onClick:this.openConfigurePage,href:"/agent/"+a+"/"+n+"/setup#setup/channels/fromaddress",target:"_blank"},E.a.createElement("span",{className:X.a.icnExclatn},E.a.createElement(M.a,{name:"ZD-exclamationThincircle"})),E.a.createElement("span",{className:X.a.alertText},Q.h.getI18NValue("support.email.fromaddress.click"))):E.a.createElement("div",{className:X.a.refreshText,onClick:this.refreshAdrress},Q.h.getI18NValue("crm.button.refresh")))}}]),t}(E.a.Component),te=ee;ee.propTypes={depName:k.a.string,getFromEmailAddress:k.a.func,orgName:k.a.string};var ae=a("../components/lib/Select/Select.js"),ne=a.n(ae),oe=a("./src/utils/bind.js"),re=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e)),n=a.props,o=n.toAddress,r=void 0===o?[]:o,s=n.ccAddress,i=void 0===s?[]:s,l=n.bccAddress,c=void 0===l?[]:l;a.state={toArray:r,ccArray:i,bccArray:c,editedMode:"",editedIndex:null,editedValue:"",isCcVisible:!!i.length,isBccVisible:!!c.length,moreData:0};return oe.a.apply(a,["formatEmailAddress","removeEmail","editEmail","changeEmailAddress","showCc","showBcc","constructRecipients","createRecipientCount","hideRecipients","replyActions","handleFromAdressChange"]),a}return v()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,a=t.toArray,n=t.ccArray,o=t.bccArray,r=t.isCcVisible,s=t.isBccVisible;e.toAddress==a&&e.ccAddress==n&&e.bccAddress==o||(this.setState({toArray:e.toAddress,ccArray:e.ccAddress,bccArray:e.bccAddress}),r||this.setState({isCcVisible:!!e.ccAddress.length}),s||this.setState({isBccVisible:!!e.bccAddress.length})),e.mode!=this.props.mode&&"forward"==e.mode&&this.setState({isCcVisible:!1}),e.isEditorFocus!=this.props.isEditorFocus&&e.isEditorFocus&&this.setState({isCcVisible:!1,isBccVisible:!1})}},{key:"formatEmailAddress",value:function(e,t,a){for(var n=Object(G.d)(e),o=0;o<n.length;o++){var r=n[o].trim();if(Object(G.e)(r)){var s=this.props.addEmail;if("to"==t){var i=Object(G.c)(this.state.toArray,r);i.isDuplicate?a&&a({type:"duplicate",index:i.index}):(s(r,t),a&&a({type:"isValide"}))}else if("bcc"==t){var l=Object(G.c)(this.state.bccArray,r);l.isDuplicate?a&&a({type:"duplicate",index:l.index}):(s(r,t),a&&a({type:"isValide"}))}else if("cc"==t){var c=Object(G.c)(this.state.ccArray,r);c.isDuplicate?a&&a({type:"duplicate",index:c.index}):(s(r,t),a&&a({type:"isValide"}))}}else a&&a({type:"isInValide"})}}},{key:"changeEmailAddress",value:function(e,t,a,n){if(Object(G.e)(e)){var o=this.props.changeEmail,r=!1;if("to"==a){var s=Object(G.c)(this.state.toArray,e);s.isDuplicate&&s.index!=t?n&&n({type:"duplicate",index:s.index}):(o(e,t,a),r=!0,n&&n({type:"isValide"}))}else if("bcc"==a){var i=Object(G.c)(this.state.bccArray,e);i.isDuplicate&&i.index!=t?n&&n({type:"duplicate",index:i.index}):(o(e,t,a),r=!0,n&&n({type:"isValide"}))}else if("cc"==a){var l=Object(G.c)(this.state.ccArray,e);l.isDuplicate&&l.index!=t?n&&n({type:"duplicate",index:l.index}):(o(e,t,a),r=!0,n&&n({type:"isValide"}))}r&&this.setState({editedMode:"",editedIndex:null,editedValue:""})}else n&&n({type:"isInValide"})}},{key:"editEmail",value:function(e,t,a,n){this.setState({editedIndex:e,editedValue:t,editedMode:a},function(){n&&n()})}},{key:"removeEmail",value:function(e,t,a,n){var o=this.props.removeEmail;"to"==t?o(e,t,function(){n&&n()}):"bcc"==t?o(e,t,function(){n&&n()}):"cc"==t&&o(e,t,function(){n&&n()}),"edit"==a&&this.setState({editedMode:"",editedIndex:null,editedValue:""},function(){n&&n()})}},{key:"showBcc",value:function(){this.setState({isBccVisible:!0})}},{key:"showCc",value:function(){this.setState({isCcVisible:!0})}},{key:"constructSwtichOptions",value:function(e,t){var a=[];if("FACEBOOK"==t||"FACEBOOK_DM"==t)a=[{name:Q.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:Q.h.getI18NValue("support.social.facebook.name"),iconName:"ZD-chFacebook",size:"14"}];else if("TWITTER"==t||"TWITTER_DM"==t)a=[{name:Q.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:Q.h.getI18NValue("support.social.common.tweet"),iconName:"ZD-chTwitter",size:"16"},{name:Q.h.getI18NValue("support.social.common.direct.message"),iconName:"ZD-bubble",size:"16"}];else for(var n=[{label:Q.h.getI18NValue("support.common.request.mail.replyall"),key:"ZD-replyall"},{label:Q.h.getI18NValue("support.common.request.mail.reply"),key:"ZD-reply"},{label:Q.h.getI18NValue("support.common.request.mail.forward"),key:"ZD-forward"}],o=0;o<n.length;o++){var r=n[o],s=r.label,i=r.key;e!=i&&a.push({name:s,iconName:i,size:"13"})}return a}},{key:"constructRecipients",value:function(e,t){for(var a=[],n=e.length-t,o=0;o<n;o++){var r=Object(G.a)(e[o]);a.push(E.a.createElement("span",{className:B.a.recipient,key:o},o==n-1?r:r+","))}return a}},{key:"createRecipientCount",value:function(){var e=this.state,t=e.toArray,a=e.ccArray,n=e.bccArray,o=t.concat(a,n).length;if(o&&this.recipientsCont){for(var r=this.recipientsCont.offsetWidth,s=this.recipientsCont.children,i=0,l=0,c=0;c<s.length;c++)if(r<=(i+=s[c].offsetWidth)){l=o-c;break}this.setState({moreData:l})}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isRecipientsVisible,a=e.inValideArr;t&&!(void 0===a?[]:a).length&&this.createRecipientCount()}},{key:"componentDidUpdate",value:function(e){var t=e.ccAddress,a=void 0===t?[]:t,n=e.bccAddress,o=void 0===n?[]:n,r=e.toAddress,s=void 0===r?[]:r,i=e.isRecipientsVisible;this.props.isRecipientsVisible!=i&&this.props.isRecipientsVisible&&!this.props.inValideArr.length&&this.createRecipientCount(),s.length==this.props.toAddress.length&&a.length==this.props.ccAddress.length&&o.length==this.props.bccAddress.length||!this.props.isRecipientsVisible||this.createRecipientCount()}},{key:"hideRecipients",value:function(){this.setState({moreData:0}),this.props.hideRecipients()}},{key:"replyActions",value:function(e){var t=this.props,a=t.threadId,n=t.content,o=t.thread,r="";e==Q.h.getI18NValue("support.common.request.mail.replyall")?r="replyall":e==Q.h.getI18NValue("support.common.request.mail.reply")?r="reply":e==Q.h.getI18NValue("support.common.request.mail.forward")?r="forward":e==Q.h.getI18NValue("crm.label.email")?r="replyall":e==Q.h.getI18NValue("support.social.facebook.name")&&"FACEBOOK_DM"==o.channel?r="facebookDm":e==Q.h.getI18NValue("support.social.facebook.name")?r="facebook":e==Q.h.getI18NValue("support.social.common.tweet")?r="twitter":e==Q.h.getI18NValue("support.social.common.direct.message")&&(r="twitterDm"),this.props.openEditor(a,n,o,r)}},{key:"handleFromAdressChange",value:function(e){this.setState({selectedFromAddress:e});var t=this.props.fromEmailAddress.filter(function(t){return t.id==e});this.props.changeFromEmailAddress(t[0].address)}},{key:"constructDraftObj",value:function(){var e=this.props,t=e.isDraft,a=e.draftText,n=e.saveDraft,o=e.updateDraft,r=e.deleteDraft,s=e.isCustomChannel,i=e.isFromBlueprint,l=e.thread,c=e.mode,d=e.haveForWardPermissionOnly,u=e.haveMailSendPermission;return E.a.createElement(E.a.Fragment,null,t?E.a.createElement("div",{className:B.a.moreAction+" "+(i?B.a.visHidden:"")},E.a.createElement("span",{onClick:o,"data-id":"saveDraftBtn"},a),E.a.createElement("span",{className:B.a.icnMore},E.a.createElement(L.a,{IcnName:"ZD-down1",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowRight:"24",objValues:[{name:Q.h.getI18NValue("support.common.request.mail.discard.draft"),iconName:"ZD-draftDelete",size:"13"}],onSelect:r}))):E.a.createElement(E.a.Fragment,null,!s&&!i||i&&("FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel)?E.a.createElement("span",{className:B.a.moreAction},E.a.createElement(M.a,{name:"FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel?"ZD-chEmail1":"ZD-"+c,iconClass:B.a.iconSize}),d?null:E.a.createElement("span",{className:B.a.icnMore},E.a.createElement(L.a,{IcnName:"ZD-blockDownArrow",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowLeft:"55",size:"xmini",objValues:this.constructSwtichOptions(c,l.channel),onSelect:this.replyActions}))):null,u&&!i?E.a.createElement("span",{className:B.a.moreAction},E.a.createElement("span",{onClick:n,"data-id":"saveDraftBtn"},a)):null))}},{key:"render",value:function(){var e=this,t=this.props,a=t.fromEmailAddress,n=t.searchContact,o=t.searchMode,r=t.searchData,s=t.orgName,i=t.closeSearchPopup,l=t.isRecipientsVisible,c=t.inValideArr,d=void 0===c?[]:c,u=t.getFromEmailAddress,p=t.haveMailSendPermission,m=t.mailConfigurations,h=t.myInfo,f=t.isFromAddressFetching,b=t.isToEmpty,g=t.isCustomChannel,v=t.depName,y=this.state,I=y.toArray,k=y.editedIndex,C=y.editedValue,_=y.editedMode,D=y.isCcVisible,S=y.isBccVisible,A=y.ccArray,x=y.bccArray,j=y.moreData,T=y.selectedFromAddress,N=m.agentNameInTicketReply,w=Object(H.e)(h.firstName,h.lastName),P=I.concat(A,x),F=[];return a.map(function(e){var t=N?w:e.displayName;F.push({id:e.id,name:'"'+t+'"<'+e.address+">"})}),T||F[0]&&(T=F[0].id),g?p?E.a.createElement(O.Container,{className:B.a.soloDraft,alignBox:"row"},E.a.createElement(O.Box,{flexible:!0}),this.constructDraftObj()):null:E.a.createElement(O.Container,{className:B.a.container},E.a.createElement(O.Box,{className:B.a.composeRow},E.a.createElement(O.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},E.a.createElement(O.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("label.request.from")),E.a.createElement(O.Box,{className:B.a.fromAddress,flexible:!0,shrink:!0},F.length||f?E.a.createElement(ne.a,{emptyMessage:Q.h.getI18NValue("support.label.no.match.found"),needBorder:!1,needLocalSearch:!0,needSearch:!0,onChange:this.handleFromAdressChange,options:F,selectedValue:T||" ",textField:"name",valueField:"id",dataId:"fromEmailRequest"}):E.a.createElement("div",{className:B.a.fromAlert},E.a.createElement(te,{getFromEmailAddress:u,orgName:s,depName:v}))),E.a.createElement(O.Box,{className:B.a.rightContainer},E.a.createElement("div",{className:B.a.actionCont},this.constructDraftObj())))),l&&P.length&&!d.length?E.a.createElement(O.Box,{onClick:this.hideRecipients},E.a.createElement(O.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},E.a.createElement(O.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("support.request.history.wfalert.recipients")),E.a.createElement(O.Box,{className:B.a.recipientstheme,eleRef:function(t){e.recipientsCont=t},flexible:!0,shrink:!0},this.constructRecipients(P,j),j?E.a.createElement("span",{className:B.a.demomore},j," ",Q.h.getI18NValue("crm.login.more")):null))):E.a.createElement(O.Box,{className:B.a.scrollBox},E.a.createElement(O.Container,{alignBox:"row"},E.a.createElement(O.Box,{flexible:!0},E.a.createElement("div",{className:B.a.composeRow},E.a.createElement(O.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},E.a.createElement(O.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("crm.label.to.email")),E.a.createElement(O.Box,{className:B.a.selectLitetheme,flexible:!0},E.a.createElement(J,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:i,editedIndex:k,editedMode:_,editedValue:C,editEmail:this.editEmail,emailArr:I,formatEmailAddress:this.formatEmailAddress,mode:"to",orgName:s,removeEmail:this.removeEmail,searchContact:n,searchData:r,searchMode:o}),b?E.a.createElement("div",{className:B.a.emptyErr},Q.h.getI18NValue("support.common.email.validation.message")):null))),D||A.length?E.a.createElement("div",{className:B.a.composeRow},E.a.createElement(O.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},E.a.createElement(O.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("crm.label.cc.email")),E.a.createElement(O.Box,{dataId:"ccEmailRequest",className:B.a.selectLitetheme,flexible:!0},E.a.createElement(J,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:i,editedIndex:k,editedMode:_,editedValue:C,editEmail:this.editEmail,emailArr:A,formatEmailAddress:this.formatEmailAddress,mode:"cc",orgName:s,removeEmail:this.removeEmail,searchContact:n,searchData:r,searchMode:o})))):null,S||x.length?E.a.createElement("div",{className:B.a.composeRow},E.a.createElement(O.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},E.a.createElement(O.Box,{className:B.a.composeFlabel},Q.h.getI18NValue("crm.label.bcc.email")),E.a.createElement(O.Box,{className:B.a.selectLitetheme,flexible:!0},E.a.createElement(J,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:i,editedIndex:k,editedMode:_,editedValue:C,editEmail:this.editEmail,emailArr:x,formatEmailAddress:this.formatEmailAddress,mode:"bcc",orgName:s,removeEmail:this.removeEmail,searchContact:n,searchData:r,searchMode:o})))):null),E.a.createElement(O.Box,{className:B.a.rightContainer},l?null:E.a.createElement("div",{className:B.a.replyIcns},D||A.length?null:E.a.createElement("span",{className:B.a.textVal,"data-id":"ccEmail",onClick:this.showCc},Q.h.getI18NValue("crm.label.cc.email")),S||x.length?null:E.a.createElement("span",{className:B.a.textVal,"data-id":"bccEmail",onClick:this.showBcc},Q.h.getI18NValue("crm.label.bcc.email")))))))}}]),t}(E.a.Component),se=re;re.propTypes={addEmail:k.a.func,bccAddress:k.a.array,ccAddress:k.a.array,changeEmail:k.a.func,changeFromEmailAddress:k.a.func,closeSearchPopup:k.a.func,content:k.a.string,deleteDraft:k.a.func,depName:k.a.string,draftText:k.a.string,fromEmailAddress:k.a.any,getFromEmailAddress:k.a.func,haveForWardPermissionOnly:k.a.bool,haveMailSendPermission:k.a.bool,hideRecipients:k.a.func,iconName:k.a.string,inValideArr:k.a.array,isDraft:k.a.bool,isEditorFocus:k.a.bool,isFromAddressFetching:k.a.bool,isFromBlueprint:k.a.bool,isPeekView:k.a.bool,isRecipientsVisible:k.a.bool,isToEmpty:k.a.bool,mailConfigurations:k.a.object,mode:k.a.string,myInfo:k.a.object,openEditor:k.a.func,orgName:k.a.string,removeEmail:k.a.func,saveDraft:k.a.func,searchContact:k.a.func,searchData:k.a.array,searchMode:k.a.string,thread:k.a.any,threadId:k.a.string,toAddress:k.a.array,updateDraft:k.a.func};var ie=a("./src/components/Subtab/ReplyFooter/ReplyFooter.module.css"),le=a.n(ie),ce=a("./src/components/Subtab/SendButton/SendButton.module.css"),de=a.n(ce),ue=a("../components/lib/Switch/Switch.js"),pe=a.n(ue),me=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));a.state={isPopupOpen:!1};return oe.a.apply(a,["togglePopup","onActionClick"]),a}return v()(t,e),h()(t,[{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"onActionClick",value:function(){var e=this.props,t=e.isDraft,a=e.sendDraft,n=e.sendReply;t?a():n()}},{key:"render",value:function(){var e=this.props,t=e.sendAndClose,a=(e.isDraft,e.isPrivateThread),n=e.isPrivateButtonEnable,o=e.togglePrivateSwitch,r=e.isStatusLocked,s=(e.havePrivateThreadConfig,e.haveForWardPermissionOnly,e.isSharedTicket),i=e.haveVisibilityChangePer,l=this.state.isPopupOpen?de.a.active:"",c=n?Q.h.getI18NValue("support.request.thread.display.not.helpcenter"):Q.h.getI18NValue("support.request.thread.display.helpcenter"),d=i||!r&&!s;return E.a.createElement(O.Container,{className:de.a.ticketButton,isCover:!1},E.a.createElement("div",{className:de.a.ticketAction},E.a.createElement("div",{className:de.a.content+" "+(d?de.a.haveMore:""),onClick:this.onActionClick,"data-id":"replySendOption"},E.a.createElement("p",{className:de.a.actionType},Q.h.getI18NValue("crm.button.send")),a?E.a.createElement("p",{className:de.a.subtitle},Q.h.getI18NValue("support.request.private.thread")):null),d?E.a.createElement("span",{"data-id":"sendOptionHasMore",className:de.a.arrow,onClick:this.togglePopup},E.a.createElement(M.a,{name:"ZD-blockDownArrow",size:"8"})):null),E.a.createElement("div",{className:de.a.buttonAction+" "+l},i?E.a.createElement("div",{className:de.a.switchAction},E.a.createElement("p",null,E.a.createElement("span",{className:de.a.actionNotify},Q.h.getI18NValue("support.department.type.internal")),E.a.createElement("span",{className:de.a.switchbox},E.a.createElement(pe.a,{id:"private",name:"private",size:"small",checked:n,onChange:o,dataId:"switchButton"}))),E.a.createElement("p",{className:de.a.actionSubtitle},c)):null,r||s?null:E.a.createElement("div",{"data-id":"sendAndCloseOption"},E.a.createElement("span",{className:de.a.secondarybutton,onClick:t},Q.h.getI18NValue("support.request.send.and.close")))))}}]),t}(E.a.Component),he=me;me.propTypes={haveForWardPermissionOnly:k.a.bool,havePrivateThreadConfig:k.a.bool,haveVisibilityChangePer:k.a.bool,isDraft:k.a.bool,isPrivateButtonEnable:k.a.bool,isPrivateThread:k.a.bool,isSharedTicket:k.a.bool,isStatusLocked:k.a.bool,sendAndClose:k.a.func,sendDraft:k.a.func,sendReply:k.a.func,togglePrivateSwitch:k.a.func};var fe=a("./src/components/Subtab/UploadList/UploadList.js"),be=a("./src/components/Subtab/TicketCloseButton/TicketCloseButton.js"),ge=a("./src/components/Subtab/UploadPopup/UploadPopup.js"),ve=a("../components/lib/Button/Button.js"),ye=a.n(ve),Ee=function(e){function t(){return p()(this,t),b()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.closeEdtior,a=e.orgId,n=e.showAttachmentViewer,o=e.openCloudAttach,r=e.closeCloudAttach,s=e.deleleUpload,i=e.uploadAttach,l=e.removeAttachment,c=e.oldAttachments,d=e.newAttachments,u=e.sendDraft,p=e.isDraft,m=e.sendReply,h=e.sendAndClose,f=e.isPrivateThread,b=e.isPrivateButtonEnable,g=e.togglePrivateSwitch,v=e.isPeekView,y=e.haveMailSendPermission,I=e.isStatusLocked,k=e.havePrivateThreadConfig,C=e.isFromBlueprint,_=e.sendForReview,D=e.CloudAttachmentIframe,S=e.isCloudAttchOpen,A=e.addCloudAttch,x=e.haveForWardPermissionOnly,j=e.isSharedTicket,T=e.haveVisibilityChangePer,N=e.isCustomChannel,w=e.acceptsAttachments,P=e.appName,F=e.deleteDraft,R=e.sendCusomChannelReply,z=!0;return N&&!w&&(z=!1),E.a.createElement(O.Container,{alignBox:"row",align:"vertical",className:le.a.mainContainer+" "+(C?le.a.bluePrintLayar:"")},E.a.createElement("div",{className:le.a.shadow}),E.a.createElement(O.Box,{flexible:!0},E.a.createElement(O.Container,{alignBox:"row",dataId:"editorContainer",className:le.a.replyBottom,isCover:!1},z?E.a.createElement(O.Box,{className:le.a.btmDiv},E.a.createElement(O.Container,{className:le.a.attchIcn,align:"vertical",alignBox:"row"},E.a.createElement("label",{htmlFor:"replyAttach"},E.a.createElement(M.a,{name:"ZD-attachment5",size:"16"}),E.a.createElement("input",{className:le.a.fileCont,type:"file",onChange:i,multiple:"multiple",id:"replyAttach","data-id":"replyAttach"})),E.a.createElement("div",{className:le.a.attchPopup},E.a.createElement(ge.a,{label:"replyAttachLabel",boxPosition:"topRight",bottom:35,left:5,onAttchClick:i,openCloudAttach:o,dataId:"cloudAttach"})))):null,E.a.createElement(O.Box,{shrink:!0,flexible:!0,className:le.a.uploadImg},E.a.createElement(fe.a,{oldAttachments:c,newAttachments:d,deleleUpload:s,removeAttachment:l,showAttachmentViewer:n,orgId:a,from:"replyEdtior",isPeekView:v,dataId:"uploadList"})),C?null:E.a.createElement(O.Box,{dataId:"send-options"},E.a.createElement(O.Container,{align:"vertical",alignBox:"row",isCover:!1},y?N?E.a.createElement(E.a.Fragment,null,E.a.createElement(ye.a,{palette:"primaryFilled",text:Q.h.getI18NValue("support.common.request.channel.integ.sendvia",[P]),onClick:R,className:le.a.actionBtn,dataId:"discardDraft"}),p?E.a.createElement(ye.a,{palette:"secondary",text:Q.h.getI18NValue("support.common.request.mail.discard.draft",[P]),className:le.a.actionBtn,onClick:F}):null):E.a.createElement("span",{className:le.a.sendBtn},E.a.createElement(he,{sendDraft:u,sendReply:m,sendAndClose:h,isDraft:p,isPrivateThread:f,isPrivateButtonEnable:b,togglePrivateSwitch:g,haveMailSendPermission:y,isStatusLocked:I,havePrivateThreadConfig:k,haveForWardPermissionOnly:x,isSharedTicket:j,haveVisibilityChangePer:T})):E.a.createElement(ye.a,{palette:"primaryFilled",text:Q.h.getI18NValue("support.common.save.and.send.for.review"),onClick:_,className:le.a.actionBtn,dataId:"sendVia"}),E.a.createElement(O.Box,null,E.a.createElement(be.a,{isCancel:!0,onClick:function(){t()},dataId:"CloseButton"}))))),S&&D?E.a.createElement(D,{addCloudAttch:A,totalLen:c.length+d.length,closeIframe:r}):null))}}]),t}(E.a.Component),Ie=Ee;Ee.propTypes={CloudAttachmentIframe:k.a.node,addCloudAttch:k.a.func,closeCloudAttach:k.a.func,closeEdtior:k.a.func,deleleUpload:k.a.func,deleteDraft:k.a.func,haveForWardPermissionOnly:k.a.bool,haveMailSendPermission:k.a.bool,havePrivateThreadConfig:k.a.bool,haveVisibilityChangePer:k.a.bool,isCloudAttchOpen:k.a.bool,isCustomChannel:k.a.bool,isDraft:k.a.bool,isFromBlueprint:k.a.bool,isPeekView:k.a.bool,isPrivateButtonEnable:k.a.bool,isPrivateThread:k.a.bool,isSharedTicket:k.a.bool,isStatusLocked:k.a.bool,newAttachments:k.a.array,oldAttachments:k.a.array,openCloudAttach:k.a.func,orgId:k.a.string,removeAttachment:k.a.func,sendAndClose:k.a.func,sendDraft:k.a.func,sendForReview:k.a.func,sendReply:k.a.func,showAttachmentViewer:k.a.func,togglePrivateSwitch:k.a.func,uploadAttach:k.a.func};var ke=a("./src/components/Subtab/ForumFooter/ForumFooter.module.css"),Ce=a.n(ke),_e=a("../components/lib/DropBox/DropBox.js"),De=a.n(_e),Se=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));a.state={draftId:null,statusOpen:!1},a._mount=!1;return oe.a.apply(a,["saveDraft","sendReply","togglePopup"]),a}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({statusOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"togglePopup",value:function(){this.setState(function(e){return{statusOpen:!e.statusOpen}})}},{key:"onSelect",value:function(e){var t=this.props,a=t.ticketId;(0,t.changeForumStatus)(t.channelRelatedInfo.topicId,e,a),this.togglePopup()}},{key:"sendReply",value:function(){var e=this.props,t=e.isDraft,a=e.editorId,n=e.sendReply,o=e.sendDraft,r=e.updateDraft,s=e.channelRelatedInfo,i=e.showMessage;if(""==s.forumStatus)i({type:"alert",message:Q.h.getI18NValue("support.community.tickettopic.selectstatus")});else{var l=this.state.draftId,c={channel:"FORUMS",content:l?editor[l].getContent():editor[a].getContent()};t?r(function(){o()}):n(c)}}},{key:"saveDraft",value:function(){var e=this,t=this.props,a=t.isDraft,n=t.editorId,o=t.saveDraft,r=t.updateDraft,s=this.state.draftId,i=s?editor[s].getContent():editor[n].getContent();a?r({channel:"FORUMS",content:i},function(){}):o(function(){e.setState({draftId:n})})}},{key:"render",value:function(){var e=this,t=this.state.statusOpen,a=this.props,n=a.closeEdtior,o=a.isDraft,r=a.channelRelatedInfo,s=a.deleteDraft,i=r.topicType,l=r.forumStatus,c=Object(H.s)(i),d=Q.h.getI18NValue("support.forum.setstatus"),u=!1;return c.forEach(function(e){l==e.value&&(d=e.label,u=!0)}),E.a.createElement(O.Container,{alignBox:"row",className:Ce.a.mainContainer},E.a.createElement("div",{className:Ce.a.shadow}),E.a.createElement(O.Box,{className:Ce.a.forumDiv},"QUESTION"==i||"IDEA"==i||"PROBLEM"==i?E.a.createElement("div",{className:Ce.a.forumStatus},E.a.createElement(De.a,{isAnimate:!0,isArrow:!1,isRadius:!1,size:"default",boxPosition:"topCenter",isActive:t},c.map(function(t,a){var n=t.label,o=t.value,r=n==d;return E.a.createElement("div",{className:Ce.a.dropList+" "+(r?Ce.a.selected:""),key:a,onClick:e.onSelect.bind(e,o)},n)})),E.a.createElement("div",{className:Ce.a.container+" "+(u?Ce.a.statusSel:"")},E.a.createElement("span",{className:Ce.a.forumstatusText},d),E.a.createElement("span",{className:Ce.a.dropDown,onClick:function(t){t.stopPropagation&&t.stopPropagation(),e.togglePopup()}},E.a.createElement(M.a,{name:"ZD-blockDownArrow",size:"8"})))):null),E.a.createElement(O.Box,null,E.a.createElement("span",{className:Ce.a.postButton},E.a.createElement(ye.a,{text:Q.h.getI18NValue("support.forums.posttoforums"),palette:"primaryFilled",size:"medium",onClick:this.sendReply})),E.a.createElement("span",{className:Ce.a.postButton},E.a.createElement(ye.a,{text:Q.h.getI18NValue("support.common.request.mail.save.draft"),palette:"secondary",size:"medium",onClick:this.saveDraft}),o?E.a.createElement("span",{className:Ce.a.postButton},E.a.createElement(ye.a,{text:Q.h.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:s})):null),E.a.createElement("span",{className:Ce.a.postButton},E.a.createElement(ye.a,{text:Q.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:n}))))}}]),t}(E.a.Component),Ae=Se;Se.propTypes={changeForumStatus:k.a.func,channelRelatedInfo:k.a.object,closeEdtior:k.a.func,deleteDraft:k.a.func,editorId:k.a.string,isDraft:k.a.bool,saveDraft:k.a.func,sendDraft:k.a.func,sendReply:k.a.func,showMessage:k.a.func,ticketId:k.a.string,updateDraft:k.a.func};var Oe=a("./src/components/Subtab/SnippetActionPopup/SnippetActionPopup.module.css"),xe=a.n(Oe),je=function(e){function t(){return p()(this,t),b()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),h()(t,[{key:"render",value:function(){var e=this.props.openSnippet;return E.a.createElement("div",{className:xe.a.popup,onMouseUp:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},E.a.createElement(De.a,{isAnimate:!0,size:"small",isActive:!0,boxPosition:"bottomRight",isArrow:!0,arrowLeft:"15"},E.a.createElement(O.Container,{alignBox:"row",className:xe.a.list,onClick:e.bind(this,"list")},E.a.createElement(O.Box,{className:xe.a.icon},E.a.createElement(P,null)),E.a.createElement(O.Box,{flexible:!0},Q.h.getI18NValue("support.solution.addedit.snippet"))),E.a.createElement(O.Container,{alignBox:"row",className:xe.a.list,onClick:e.bind(this,"form")},E.a.createElement(O.Box,{className:xe.a.icon},E.a.createElement(N,null)),E.a.createElement(O.Box,{flexible:!0},Q.h.getI18NValue("support.module.add",[Q.h.getI18NValue("support.solution.addedit.snippet")])))))}}]),t}(E.a.Component),Te=je;je.propTypes={openSnippet:k.a.func};var Ne,we=a("./src/components/Subtab/AudioMessage/AudioMessage.js"),Pe=a("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),Fe=a("./src/reducers/selector.js"),Re=a("./src/actions/AttachmentActions.js"),ze=a("./src/actions/ReplyActions.js"),Be=a("./src/actions/TemplateActions.js"),Ve=a("./src/actions/TicketDetailViewAction.js"),Me=a("./src/actions/index.js"),Le=a("./src/actions/AgentCollisionActions.js"),Ze=a("./src/actions/SnippetActions.js"),Ke=a("./src/utils/Attachment.js"),Ue=a("./src/utils/Editor.js"),He=a("./src/fz-i18n/offset.js"),We=a("./src/fz-i18n/utils.js"),qe=a("./src/components/Subtab/collision/collisionAlert/CollisionReplyAlert/CollisionReplyAlert.js"),Ge=a("./src/containers/asyncComponent.js"),Qe=a("./src/utils/debounce.js"),$e=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js"),Je=a.n($e),Ye=a("./src/components/Subtab/EmailTemplatePopup/EmailTemplatePopup.module.css"),Xe=a.n(Ye),et=a("../components/lib/Card/index.js"),tt=a("./src/components/Subtab/Loading/Loading.js"),at=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));return a.setInputRef=a.setInputRef.bind(a),a}return v()(t,e),h()(t,[{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.inputRef.focus()},10)}},{key:"render",value:function(){var e=this,t=this.props,a=t.from,n=t.limit,o=t.isFetching,r=t.searchStr,s=t.handleSearch,i=t.templeData,l=t.insertEmailTemplateData,c=t.noMoreData,d=t.fetchData,u=t.handleRefresh,p=Je()(i),m=p.length;return E.a.createElement("div",{className:Xe.a.popup,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},E.a.createElement(De.a,{isAnimate:!0,size:"xxlarge",boxPosition:"bottomRight",isActive:!0,arrowLeft:"55"},E.a.createElement(et.Card,{from:a,limit:n,noMoreData:c,fetchData:d,noNeedUpScroll:!0},E.a.createElement(et.CardHeader,{className:Xe.a.viewpopsearch},E.a.createElement(K.a,{placeHolder:Q.h.getI18NValue("crm.label.search"),value:r,onChange:s,inputRef:this.setInputRef})),E.a.createElement(et.CardContent,{className:Xe.a.listCont},m?p.map(function(t,a){var n=i[t],o=n.list,r=void 0===o?[]:o,s=n.name;return r.length?E.a.createElement("div",{key:a},E.a.createElement("div",{className:Xe.a.title},s),r.map(function(t,a){var n=t.templateId,o=t.templateName;return E.a.createElement("div",{className:Xe.a.list,"data-title":o,onClick:l.bind(e,n),key:a},o)}),m!=a+1?E.a.createElement("div",{className:Xe.a.seperate}):null):null}):o?E.a.createElement(tt.a,null):E.a.createElement("div",{className:Xe.a.emptyTxt},E.a.createElement("div",{className:Xe.a.emtyIcon},E.a.createElement(M.a,{name:"ZD-exclamationThincircle"})),Q.h.getI18NValue("support.module.empty.message",[Q.h.getI18NValue("support.request.template")]))),E.a.createElement(et.CardFooter,{className:Xe.a.footer},E.a.createElement("span",{className:Xe.a.footerOption,onClick:u},E.a.createElement("span",{className:Xe.a.updateIcon},E.a.createElement(M.a,{name:"ZD-update",size:"16"})),Q.h.getI18NValue("crm.button.refresh")),E.a.createElement("span",{className:Xe.a.footerOption},E.a.createElement("span",{className:Xe.a.updateIcon},"+"),Q.h.getI18NValue("crm.button.create.new.email.template"))))))}}]),t}(y.Component),nt=at;at.propTypes=(Ne={fetchData:k.a.func,from:k.a.string,handleRefresh:k.a.func,handleSearch:k.a.func},o()(Ne,"handleSearch",k.a.func),o()(Ne,"insertEmailTemplateData",k.a.func),o()(Ne,"isFetching",k.a.bool),o()(Ne,"limit",k.a.string),o()(Ne,"noMoreData",k.a.bool),o()(Ne,"searchStr",k.a.string),o()(Ne,"templeData",k.a.object),Ne);var ot=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));return a.state={from:0,limit:50,searchStr:"",templeData:{},templatesList:[]},a.getEmailTemplates=a.getEmailTemplates.bind(a),a.fetchData=a.fetchData.bind(a),a.handleSearch=Object(Qe.a)(a.handleSearch.bind(a),100,!0),a.handleRefresh=a.handleRefresh.bind(a),a}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.getEmailTemplates(0)}},{key:"getEmailTemplates",value:function(e){var t=this,a=this.state,n=a.limit,o=a.searchStr,r=a.templatesList,s=this.props,i=s.deptId,l=s.getEmailTemplates;return this.setState({isFetching:!0,from:e}),l(i,"tickets",e,n,o).then(function(e){var a=!e.data.length||e.data.length<n,o=e.data.length?r.concat(e.data):r;t.setState({isFetching:!1,noMoreData:a,templatesList:o}),t.constructTemplateData(o)},function(){t.setState({isFetching:!1,noMoreData:!0})})}},{key:"constructTemplateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.length&&e.forEach(function(e){var a=e.folder,n=a.folderId,o=a.folderName,r=(t[n]||{}).list,i=(void 0===r?[]:r).concat([e]),l=s()({},t[n],{list:i,name:o});t[n]=l}),this.setState({templeData:t})}},{key:"handleSearch",value:function(e){var t=this;this.setState({searchStr:e,noMoreData:!1,templatesList:[]},function(){t.getEmailTemplates(0)})}},{key:"fetchData",value:function(e){return this.getEmailTemplates(e)}},{key:"handleRefresh",value:function(){this.handleSearch("")}},{key:"render",value:function(){var e=this.state,t=e.from,a=e.limit,n=e.templeData,o=e.searchStr,r=e.isFetching,s=e.noMoreData,i=this.props.insertEmailTemplateData;return E.a.createElement(nt,{from:t,limit:a,noMoreData:s,fetchData:this.fetchData,isFetching:r,templeData:n,searchStr:o,insertEmailTemplateData:i,handleSearch:this.handleSearch,handleRefresh:this.handleRefresh})}}]),t}(y.Component);ot.propTypes={deptId:k.a.string,getEmailTemplates:k.a.func,insertEmailTemplateData:k.a.func};var rt,st=Object(C.connect)(function(e,t){return{}},{getEmailTemplates:Be.a})(ot),it=a("./src/components/PortalLayer/PortalLayer.js"),lt=a("./src/actions/BluePrintActions.js"),ct=function(e){function t(e){p()(this,t);var a=b()(this,(t.__proto__||d()(t)).call(this,e));a.state={newAttachments:[],isAttachmentUploading:!1,draftText:Q.h.getI18NValue("support.common.request.mail.save.draft"),selectedFromAddress:"",searchMode:"",searchData:[],isRecipientsVisible:!0,isPrivateButtonEnable:!0,isTemplateOpen:!1,isSnippetActionOpen:!1},a.draftTimeLimit=6e4;return oe.a.apply(a,["constructEditorData","constructFromAddress","saveDraft","sendForReview","updateDraft","uploadAttach","deleleUpload","removeAttachment","addEmail","changeEmail","removeEmail","getEmailObj","changeFromEmailAddress","sendDraft","searchContact","closeSearchPopup","hideRecipients","editorFocus","editorCallback","sendReply","sendAndClose","togglePrivateSwitch","checkIsPrivateThread","bindKeyDown","insertEmailTemplateData","openSnippet","getFromEmailAddress","hidePopup","createDraftTimer","addCloudAttch","openCloudAttach","closeCloudAttach","constructReplyHeader","blurCallback","deleteDraftConfirmation","deleteDraft","closeAlert","sendCusomChannelReply","handlePortalLayer","closeCollisionAlert"]),a.onCloseDeleteDraft=a.onClosePopup.bind(a,"DeleteDraft"),a}return v()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.constructEditorData(),this.constructFromAddress(),document.addEventListener("click",this.hidePopup),this.setDefaultFromAddress()}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,o=n.toAddress,r=n.ccAddress,s=n.bccAddress;t.toAddress==o&&t.ccAddress==r&&t.bccAddress==s||this.checkIsPrivateThread(),e.replyMode!=this.props.replyMode&&this.setState({ccAddress:[]},function(){a.constructEditorData(function(){a.constructCcAddress()})}),this.props.fromAddress!=e.fromAddress&&this.props.fromAddress.length&&this.setDefaultFromAddress(),e.replyingUsers.length!=this.props.replyingUsers.length&&this.props.replyingUsers.length&&this.setState({alertMode:"collisionReply"})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.replyMode;e.replyMode!=a&&this.setState({chageEditorContent:!0},function(){setTimeout(function(){t.setState({chageEditorContent:!1})},100)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePopup)}},{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"setDefaultFromAddress",value:function(){var e=this.props.fromAddress;if(e.length){var t=e[0].address;this.setState({selectedFromAddress:t});var a=this.props.setReplyData;a&&a("fromEmailAddress",t)}}},{key:"constructEditorData",value:function(e){var t=this.props,a=t.solutionAttachments,n=void 0===a?[]:a,o=t.havePrivateThreadConfig,r=t.replyThread,s=void 0===r?{}:r,i=t.replyMode,l=t.contactEmail,c=t.setReplyData,d=s.attachments,u=void 0===d?[]:d,p=s.author,m=void 0===p?{}:p,h=s.fromEmailAddress,f=s.direction,b=s.to,g=void 0===b?[]:b,v=s.cc,y=void 0===v?[]:v,E=s.bcc,I=void 0===E?[]:E,k=s.status,C=s.channel,_=s.visibility;u=n.length?n:u;var D=[];if(((u="editDraft"==i||"forward"==i?u:[]).length||n.length)&&("editDraft"==i||"forward"==i))for(var S=0;S<u.length;S++)D.push(u[S].id);var A=m.email&&"FEEDBACK"!=C?[m.email]:h?[h]:[];"out"==f&&(A=g.length?Object(G.d)(g):[]),A=A.length||s.channel||!l?A:[l],A="forward"!=i?A:[];for(var O=y.length&&"forward"!=i?Object(G.d)(y):[],x=I.length&&"editDraft"==i?Object(G.d)(I):[],j=A.concat(O,x),T=[],N=0;N<A.length;N++)Object(G.e)(A[N])||T.push(N);var w="forward"==i,P=void 0,F=!0;w?(P=!0,F=!1):o?P=-1==j.indexOf(l):(P="private"==_,F=!1),c&&c("toAddress",A),c&&c("ccAddress",O),c&&c("bccAddress",x),c&&c("isPrivateThread",P),this.setState({attachmentIds:D,oldAttachments:u,isDraft:"DRAFT"==k,toAddress:A,ccAddress:O,bccAddress:x,replyMode:i,isPrivateThread:P,inValideArr:T,isRecipientsVisible:A.length,isForwardReply:w,haveVisibilityChangePer:F},function(){e&&e()})}},{key:"constructFromAddress",value:function(){var e=this,t=this.props,a=t.replyThread,n=t.channelRelatedInfo;"FORUMS"==a.channel&&!n.isTopicDeleted||(this.setState({isFromAddressFetching:!0}),this.getFromEmailAddress().then(function(t){var a=function(){e.setState({isFromAddressFetching:!1}),e.constructCcAddress()};t&&t.data.res&&204==t.data.res.responseStatus?e.getFromEmailAddress(!0).then(a):a()}))}},{key:"getFromEmailAddress",value:function(e){var t=this.props,a=t.getFromEmailAddress,n=t.deptId;return a(n=e?"allDepartment":n)}},{key:"constructCcAddress",value:function(){var e=this.props,t=e.haveForWardPermissionOnly,a=e.setReplyData,n=e.mailConfigurations,o=e.fromAddress,r=e.replyMode;if(n.autoCCToMailbox&&!t&&"forward"!=r){var s=this.state.ccAddress;if(-1==s.indexOf(o[0].address)){var i=[].concat(l()(s),[o[0].address],l()(this.constructSecondaryContactEmails()));this.setState({ccAddress:i}),a&&a("ccAddress",i)}}}},{key:"constructSecondaryContactEmails",value:function(){var e=this.props,t=e.secondaryContacts,a=void 0===t?[]:t,n=e.contacts,o=[];a.length&&Object(H.h)(a,n).forEach(function(e){var t=e.firstName,a=e.lastName,n=e.email,r=Object(H.e)(t,a);o.push(r+"<"+n+">")});return o}},{key:"hidePopup",value:function(){this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1})}},{key:"checkIsPrivateThread",value:function(){var e=this.state,t=e.toAddress,a=void 0===t?[]:t,n=e.ccAddress,o=void 0===n?[]:n,r=e.bccAddress,s=void 0===r?[]:r,i=e.isForwardReply,l=e.isPrivateButtonEnable,c=this.props,d=c.havePrivateThreadConfig,u=c.contactEmail,p=c.replyThread,m=void 0===p?{}:p,h=c.setReplyData,f=a.concat(o,s),b=!0,g=!0;if(i)b=!0,g=!1;else if(d)if(l)for(var v=0;v<f.length;v++){if(Object(G.b)(f[v])==u){b=!1,g=!1;break}g=!0}else b=!1;else b="private"==m.visibility,g=!1;this.setState({isPrivateThread:b,haveVisibilityChangePer:g}),h&&h("isPrivateThread",b)}},{key:"addEmail",value:function(e,t){var a=this,n=this.props.setReplyData;if("to"==t){var o=[].concat(l()(this.state.toAddress),[e]);this.setState({toAddress:o},function(){a.checkEmailValide()}),n&&n("toAddress",o)}else if("cc"==t){var r=[].concat(l()(this.state.ccAddress),[e]);this.setState({ccAddress:r},function(){a.checkEmailValide()}),n&&n("ccAddress",r)}else if("bcc"==t){var s=[].concat(l()(this.state.bccAddress),[e]);this.setState({bccAddress:s},function(){a.checkEmailValide()}),n&&n("bccAddress",s)}}},{key:"checkEmailValide",value:function(){var e=this.state,t=e.toAddress,a=e.ccAddress,n=e.bccAddress,o=this.props.contact.email;if(o&&this.props.haveForWardPermissionOnly){var r=!0;if(t.forEach(function(e){Object(G.b)(e)==o&&(r=!1)}),r&&a.forEach(function(e){Object(G.b)(e)==o&&(r=!1)}),r&&n.forEach(function(e){Object(G.b)(e)==o&&(r=!1)}),!r){var s=this.props,i=s.showMessage,l=s.moduleMeta;return i({type:"alert",message:Q.h.getI18NValue("support.ticketshare.reply.error",[l.tickets.singularLabel])}),!1}return!0}return!0}},{key:"changeEmail",value:function(e,t,a){var n=this.props.setReplyData;if("to"==a){var o=this.state.inValideArr.filter(function(e){return e!==t});this.setState(function(a){var r=a.toAddress.slice();return r[t]=e,n&&n("toAddress",r),{toAddress:r,inValideArr:o}})}else"cc"==a?this.setState(function(a){var o=a.ccAddress.slice();return o[t]=e,n&&n("ccAddress",o),{ccAddress:o}}):"bcc"==a&&this.setState(function(a){var o=a.bccAddress.slice();return o[t]=e,n&&n("bccAddress",o),{bccAddress:o}})}},{key:"removeEmail",value:function(e,t,a){var n=this.props.setReplyData;if("to"==t){var o=this.state,r=o.toAddress,s=o.inValideArr.filter(function(t){return t!==e});r=[].concat(l()(r.slice(0,e)),l()(r.slice(e+1))),n&&n("toAddress",r),this.setState({toAddress:r,inValideArr:s},function(){a&&a()})}else if("cc"==t){var i=this.state.ccAddress;i=[].concat(l()(i.slice(0,e)),l()(i.slice(e+1))),this.setState({ccAddress:i},function(){a&&a()}),n&&n("ccAddress",i)}else if("bcc"==t){var c=this.state.bccAddress;c=[].concat(l()(c.slice(0,e)),l()(c.slice(e+1))),this.setState({bccAddress:c},function(){a&&a()}),n&&n("bccAddress",c)}}},{key:"openCloudAttach",value:function(){this.setState({isCLoudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCLoudOpen:!1})}},{key:"addCloudAttch",value:function(e,t,a){var n=this,o=this.state,r=o.newAttachments,i=o.oldAttachments.length+r.length+a,l={index:i,href:null,isPreview:!0};this.setState(function(e){var t=s()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,i,function(e,t){var a=n.state.newAttachments.map(function(a){return a.index===t?s()({},a,{percentComplete:e}):a});n.setState({newAttachments:a})}).then(function(e){var t=e.data,a=n.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});n.setState({newAttachments:a}),n.setState(function(e){var a=s()({},e);a.attachmentIds.push(t.data.id);var o=n.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a}),n.state.isDraft?n.updateDraft():n.saveDraft()},function(){n.setState(function(e){var t=s()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return i!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,a=this.state,n=a.newAttachments,o=a.oldAttachments.length+n.length,r=e.target?e.target.files:e,i=r.length,l=Object(Ke.p)(r,o),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:Q.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c)for(var p=0;p<c.length;p++){var m=c[p];m.isUnSupported&&u({type:"alert",message:Q.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),m.isFileNameSizeInvalid&&u({type:"alert",message:Q.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),m.isEmpty&&u({type:"alert",message:Q.h.getI18NValue("support.request.empty.attachment.message")}),m.isAttachSizeExceeded&&u({type:"alert",message:Q.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var a=function(a){var n=d[a],r=new FormData;r.append("file",n);var l=o+a,u=Object(Ke.g)(n,l);t.setState(function(e){var t=s()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(r,l,function(e,a){var n=t.state.newAttachments.map(function(t){return t.index===a?s()({},t,{percentComplete:e}):t});t.setState({newAttachments:n})}).then(function(a){var n=a.data;e+=1;var o=t.state.newAttachments.map(function(e){return e.index===n.data.index?n.data:e});t.setState({newAttachments:o}),t.setState(function(e){var a=s()({},e);a.attachmentIds.push(n.data.id);var o=t.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a}),e+c.length==i&&t.setState({isAttachmentUploading:!1})},function(){t.setState(function(e){var t=s()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return l!==e.index}),t})})},n=0;n<d.length;n++)a(n)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(a){var n=s()({},a);n.newAttachments=n.newAttachments.filter(function(t){return e!==t.id}),n.attachmentIds=n.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n})})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(a){var n=s()({},a);n.oldAttachments=n.oldAttachments.filter(function(t){return e!==t.id}),n.attachmentIds=n.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n})}},{key:"getEmailObj",value:function(){var e=this.state,t=e.toAddress,a=e.ccAddress,n=e.bccAddress,o="",r="",s="";if(t.length)for(var i=0;i<t.length;i++)o+=0==i?t[i]:","+t[i];if(a.length)for(var l=0;l<a.length;l++)r+=0==l?a[l]:","+a[l];if(n.length)for(var c=0;c<n.length;c++)s+=0==c?n[c]:","+n[c];return{toArr:o,ccArr:r,bccArr:s}}},{key:"saveDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({draftText:"Saving draft...",isToEmpty:!1});var t=this.props,a=t.editorId,n=t.saveDraft,o=t.revertIsEditorChanged,r=t.isEditorChanged,s=t.isCustomChannel,i=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=editor[a].getContent(),p=this.getEmailObj(),m={channel:"EMAIL",attachmentIds:c,to:p.toArr,cc:p.ccArr,bcc:p.bccArr,fromEmailAddress:d,contentType:"html",content:u};if(s){var h="html",f=i.code;i.replyConfig.contentTypes.includes("text/html")||(h="plaintext"),m={content:u,channel:f,contentType:h,attachmentIds:c}}n(m,function(t){r&&o();var n=Q.h.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:"Saved @ "+n,isDraft:!0,draftId:a})})}}},{key:"sendForReview",value:function(){if(this.checkEmailValide()){var e=this.props,t=(e.ticketId,e.editorId),a=e.saveDraft,n=e.sendForReview,o=e.revertIsEditorChanged,r=e.isEditorChanged,s=e.replyThread,i=e.updateDraft,l=e.isCustomChannel,c=e.channelInfo,d=this.state,u=d.attachmentIds,p=d.selectedFromAddress,m=editor[t].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:u,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:p,contentType:"html",content:m};if(l){var b="html",g=c.code;c.replyConfig.contentTypes.includes("text/html")||(b="plaintext"),f={content:m,channel:g,contentType:b}}"DRAFT"==s.status?i(f,function(e){r&&o(),n()}):a(f,function(e){r&&o(),n()})}}},{key:"updateDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){this.setState({draftText:Q.h.getI18NValue("support.common.request.mail.saving.draft")+"...\n        "});var t=this.props,a=(t.ticketId,t.editorId),n=t.updateDraft,o=t.revertIsEditorChanged,r=t.isEditorChanged,s=t.isCustomChannel,i=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.draftId,p=u?editor[u].getContent():editor[a].getContent(),m=this.getEmailObj(),h={channel:"EMAIL",attachmentIds:c,to:m.toArr,cc:m.ccArr,bcc:m.bccArr,fromEmailAddress:d,contentType:"html",content:p};if(s){var f="html",b=i.code;i.replyConfig.contentTypes.includes("text/html")||(f="plaintext"),h={content:p,channel:b,contentType:f,attachmentIds:c}}n(h,function(t){r&&o();var n=Q.h.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:Q.h.getI18NValue("support.social.saved")+" @ "+n,isDraft:!0,draftId:u||a})})}}},{key:"changeFromEmailAddress",value:function(e){var t=this.props,a=t.haveForWardPermissionOnly;if((t.mailConfigurations||{}).autoCCToMailbox&&!a){var n=this.state,o=n.ccAddress,r=n.selectedFromAddress,s=o.indexOf(r);s>-1?-1==o.indexOf(e)&&(o[s]=e):o.push(e),this.setState({ccAddress:o});var i=this.props.setReplyData;i&&i("ccAddress",o)}this.setState({selectedFromAddress:e});var l=this.props.setReplyData;l&&l("fromEmailAddress",e)}},{key:"sendDraft",value:function(e){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var t=this.props,a=t.editorId,n=t.updateDraft,o=t.sendDraft,r=t.revertIsEditorChanged,s=t.isEditorChanged,i=this.state,l=i.attachmentIds,c=i.selectedFromAddress,d=i.draftId,u=i.isPrivateThread,p=i.isPrivateButtonEnable,m=d?editor[d].getContent():editor[a].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:l,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:c,contentType:"html",content:m},b=u&&p;n(f,function(t){o(b,function(){s&&r(),"function"==typeof e&&e()})})}}},{key:"sendReply",value:function(e,t){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length||this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var a=this.props,n=a.editorId,o=(a.updateDraft,a.sendReply),r=a.replyMode,s=a.revertIsEditorChanged,i=a.isEditorChanged,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.isPrivateThread,p=l.isPrivateButtonEnable,m=editor[n].getContent(),h=this.getEmailObj();o({channel:"EMAIL",attachmentIds:c,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:d,contentType:"html",content:m,isForward:"forward"==r},u&&p,e,function(){i&&s(),"function"==typeof t&&t()})}}},{key:"sendAndClose",value:function(){var e=this.props,t=e.isDraftThread,a=e.closeTicket,n=e.haveEditPermission;t?this.sendDraft(function(){n&&a()}):this.sendReply(!0,function(){n&&a()})}},{key:"sendCusomChannelReply",value:function(){var e=this.props,t=e.editorId,a=e.sendReply,n=e.channelInfo,o=this.state.attachmentIds,r=editor[t].getContent(),s="html",i=n.code;n.replyConfig.contentTypes.includes("text/html")||(s="plaintext"),a({content:r,channel:i,contentType:s,attachmentIds:o})}},{key:"searchContact",value:function(e,t){var a=this;this.setState({searchMode:e}),this.props.searchContact(t).then(function(e){e.data.list.length?a.setState({searchData:e.data.list}):a.setState({searchData:"noData"})})}},{key:"closeSearchPopup",value:function(){this.setState({searchMode:"",searchData:[]})}},{key:"hideRecipients",value:function(){this.setState({isRecipientsVisible:!1})}},{key:"blurCallback",value:function(){this.setState({isEditorFocus:!1})}},{key:"editorFocus",value:function(){var e=this.state.toAddress,t=void 0===e?[]:e;this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1}),t.length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),this.setState({isEditorFocus:!0})}},{key:"editorCallback",value:function(e){var t=this,a=this.props,n=a.ticketId,o=a.publishUserAction,r=a.getSnippetList,s=a.isCustomChannel,i=a.channelInfo;s&&(i.replyConfig.contentTypes.includes("text/html")||e.toolbardiv.querySelectorAll(".KB_Editor_Richtext,.ze_plain")[0].remove());var l=this.state.toAddress;(void 0===l?[]:l).length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),o(n,"reply",WebMessanger.getRawSid&&WebMessanger.getRawSid()),r(),this.bindKeyDown();var c=document.getElementsByClassName("TemplateIcon")[0],d=document.getElementsByClassName("SnippetIcon")[0];c.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isTemplateOpen:!0,isSnippetActionOpen:!1})}),d.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isSnippetActionOpen:!0,isTemplateOpen:!1})})}},{key:"bindKeyDown",value:function(){var e=this,t=this.props.editorId,a=editor[t];a.doc.onkeydown=function(t){var n=t.keyCode,o=t.shiftKey,r=t.altKey,s=t.ctrlKey,i=t.metaKey;if(9===n){t.preventDefault(),t.stopPropagation();for(var l=e.props,c=l.snippetData,d=l.snippets,u=l.ticket,p=l.contact,m=l.account,h=l.agent,f=c.snippetIds,b=[],g=0;g<f.length;g++){d[f[g]]&&b.push(d[f[g]])}var v=Object(Ue.b)(a._getSelection(),a.doc,a,b).content;v=Object(Ue.f)(v,u,p,m,h),a.insertHTML(v)}if(!(o||r||s||i||9==n||20==n||33==n||34==n||37==n||38==n||39==n||40==n)){e.setState({contentModified:!0},function(){e.createDraftTimer()});var y=e.props,E=y.isEditorChanged,I=y.setIsEditorChanged;!E&&I()}}}},{key:"createDraftTimer",value:function(){var e=this;setTimeout(function(){e.state.contentModified&&(e.state.isDraft?e.updateDraft():e.saveDraft(),e.setState({contentModified:!1}))},this.draftTimeLimit)}},{key:"togglePrivateSwitch",value:function(){var e=this;this.setState(function(e){return{isPrivateButtonEnable:!e.isPrivateButtonEnable}},function(){e.checkIsPrivateThread()})}},{key:"insertEmailTemplateData",value:function(e){var t=this,a=this.props,n=a.getTemplateContent,o=(a.editorId,a.ticketId),r=a.isEditorChanged,s=a.setIsEditorChanged;n(e,o).then(function(e){var a=e.data.res.body;new RegExp("<(\"[^\"]*\"|'[^']*'|[^'\">])*>").test(a)||(a=a.replace(/\n/g,"<br/>")),Object(Ue.c)(t.props.editorId,a),t.setState({contentModified:!0},function(){t.createDraftTimer()}),!r&&s(),t.setState({isTemplateOpen:!1})})}},{key:"openSnippet",value:function(e){this.setState({isSnippetActionOpen:!1});var t=this.props,a=t.openSnippet;a(e,t.editorId)}},{key:"constructReplyHeader",value:function(){var e=this.props,t=e.replyThread,a=e.replyMode,n=e.ticket,o=e.ticketId,r=e.editorId,s=e.myInfo,i=e.isCustomChannel,l=t.author,c=t.to,d=t.cc,u=t.from,p=Q.h.userDateFormat(new Date(t.createdTime),{},"lateby","left",!1,function(){return"DDD, DD MMM YYYY HH:mm:ss"}),m=-He.a[s.timeZone];m=((m=parseInt(m))<0?"+":"-")+Object(We.i)(parseInt(Math.abs(m/60)),2)+Object(We.i)(Math.abs(m%60),2);var h="";if(o!=r){var f=l.email?" < "+l.email+" > ":"",b=i?u:'"'+l.name+'"'+f+" ";"forward"==a?(h="<div><div>============ "+Q.h.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n          <div>"+Q.h.getI18NValue("support.request.from.emailid")+":  "+Object(H.k)(b)+"<br></div>",Object(H.k)(c)&&(h+="<div>"+Q.h.getI18NValue("crm.label.to.email")+": "+Object(H.k)(c)+"<br></div>"),Object(H.k)(d)&&(h+="<div>"+Q.h.getI18NValue("crm.label.cc.email")+": "+Object(H.k)(d)+"<br></div>"),h+="<div>"+Q.h.getI18NValue("crm.events.date")+": "+p+" "+m+" <br></div>\n          <div>"+Q.h.getI18NValue("crm.label.subject")+": "+Object(H.k)(n.subject)+"</div>\n          <div>============ "+Q.h.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n        </div><br>"):h="<div>---- "+Q.h.getI18NValue("support.on")+" "+p+" "+m+" <b> "+Object(H.k)(b)+" </b> "+Q.h.getI18NValue("suppot.mail.header.wrote")+" ---- <br></div><br>"}return h}},{key:"deleteDraftConfirmation",value:function(){this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.onDeleteDraft(!1)}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"onClosePopup",value:function(e){this["on"+e](!1)}},{key:"closeCollisionAlert",value:function(){var e=this.props,t=e.isFromBlueprint,a=e.closeEdtior,n=e.closeTransitionForm;t?n():a()}},{key:"render",value:function(){var e=this.props,t=e.editorId,a=e.replyContent,n=e.replyThread,o=e.replyMode,r=e.orgName,s=e.orgId,i=e.showAttachmentViewer,l=e.closeEdtior,c=e.openEditor,d=e.signatureObj,u=void 0===d?{}:d,p=e.linkHolder,m=e.solutionContent,h=e.saveDraft,f=e.updateDraft,b=e.isDraftThread,g=e.sendReply,v=e.sendDraft,y=e.replyingUsers,I=e.agents,k=e.ticketId,C=e.isPeekView,_=e.haveMailSendPermission,S=e.channelRelatedInfo,A=e.mailConfigurations,j=e.myInfo,T=e.isStatusLocked,w=e.havePrivateThreadConfig,F=e.isFromBlueprint,z=e.isCloudAttchOpen,B=e.haveForWardPermissionOnly,V=e.isSharedTicket,M=e.uploadAttach,L=e.fromAddress,Z=e.isCustomChannel,K=e.channelInfo,U=e.changeForumStatus,W=e.showMessage,q=e.deptId,G=e.depName,Q=this.state,$=Q.newAttachments,J=Q.oldAttachments,Y=Q.draftText,X=Q.toAddress,ee=Q.ccAddress,te=Q.bccAddress,ae=Q.searchMode,ne=Q.searchData,oe=Q.isRecipientsVisible,re=Q.isPrivateThread,ie=Q.haveVisibilityChangePer,le=Q.isPrivateButtonEnable,ce=Q.inValideArr,de=Q.isTemplateOpen,ue=Q.isSnippetActionOpen,pe=Q.isCLoudOpen,me=Q.chageEditorContent,he=Q.isEditorFocus,fe=Q.isFromAddressFetching,be=Q.isToEmpty,ge=Q.alertMode,ve=n&&"DRAFT"==n.status,ye="forum"==o&&!S.isTopicDeleted,Ee=K.replyConfig,ke=K.appName,Ce=!0,_e=!0,De=void 0;if(Z){var Se=Ee.contentTypes,Oe=Ee.includeQuotedMessage,xe=Ee.acceptsAttachments;Se.includes("text/html")||(De="plaintext"),_e=Oe,Ce=xe}var je=a;if(""!=je&&"<html><body><div></div></body></html>"!=je&&!ve){"TWILIO"==n.channel&&Object(H.I)(n.content)&&(je=D.a.renderToStaticMarkup(E.a.createElement(we.a,{thread:n})));var Ne=this.constructReplyHeader();je=_e?'<br><blockquote style="border-left: 1px dotted #e5e5e5;margin-left:5px;padding-left: 5px;">'+Ne+"<div>"+je+"</div></blockquote>":""}if(ye)je="";else{if(!ve){var Fe=u.isActive,Re=u.defaultSignature,ze=u.customizedSignatures,Be=null;Fe&&(Be=Re,(void 0===ze?[]:ze).forEach(function(e){var t=e.departmentId,a=e.signature;q==t&&(Be=a)})),Be&&!ve&&(je="<br>"+Be+je),p&&"forward"!=o&&_e&&(je="<div><br></div><div><br></div>"+p+"<div><br></div>"+je+"<div><br></div>")}"string"==typeof m&&(je=m+je)}return je="<div><br></div>"+je,E.a.createElement(O.Container,null,E.a.createElement(N,{isRender:!1,isSymbol:!0}),E.a.createElement(P,{isRender:!1,isSymbol:!0}),E.a.createElement(R,{isRender:!1,isSymbol:!0}),ye?null:E.a.createElement(O.Box,null,E.a.createElement(se,{mode:o,saveDraft:this.saveDraft,updateDraft:this.updateDraft,toAddress:X,bccAddress:te,ccAddress:ee,isDraft:ve,draftText:Y,addEmail:this.addEmail,changeEmail:this.changeEmail,removeEmail:this.removeEmail,fromEmailAddress:L,isFromAddressFetching:fe,changeFromEmailAddress:this.changeFromEmailAddress,deleteDraft:this.deleteDraftConfirmation,searchContact:this.searchContact,openEditor:c,threadId:t,content:a,thread:n,searchMode:ae,searchData:ne,orgName:r,closeSearchPopup:this.closeSearchPopup,isRecipientsVisible:oe,hideRecipients:this.hideRecipients,inValideArr:ce,isPeekView:C,getFromEmailAddress:this.getFromEmailAddress,haveMailSendPermission:_,mailConfigurations:A,myInfo:j,isFromBlueprint:F,haveForWardPermissionOnly:B,isEditorFocus:he,isToEmpty:be,isCustomChannel:Z,depName:G})),de||ue?E.a.createElement(O.Box,null,de?E.a.createElement(st,{deptId:q,insertEmailTemplateData:this.insertEmailTemplateData}):ue?E.a.createElement(Te,{openSnippet:this.openSnippet}):null):null,E.a.createElement(O.Box,{flexible:!0},E.a.createElement(x.a,{id:t,value:je,onFocus:this.editorFocus,editorCallback:this.editorCallback,editorMode:"TicketReply",onUpload:M,chageEditorContent:me,blurCallback:this.blurCallback,mode:De,dataId:"editorContainer",type:"xlarge",editorOptions:{needEditorFocus:!F}})),E.a.createElement(O.Box,null,ye?F?null:E.a.createElement(Ae,{ticketId:k,changeForumStatus:U,showMessage:W,closeEdtior:l,sendDraft:v,editorId:t,saveDraft:h,deleteDraft:this.deleteDraftConfirmation,updateDraft:f,isDraft:b,sendReply:g,channelRelatedInfo:S,haveMailSendPermission:_}):E.a.createElement(Ie,{isFromBlueprint:F,closeEdtior:l,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,showAttachmentViewer:i,openCloudAttach:this.openCloudAttach,closeCloudAttach:this.closeCloudAttach,orgId:s,newAttachments:$,oldAttachments:J,removeAttachment:this.removeAttachment,sendDraft:this.sendDraft,isDraft:ve,sendReply:this.sendReply,sendAndClose:this.sendAndClose,isPrivateThread:re,haveVisibilityChangePer:ie,isPrivateButtonEnable:le,togglePrivateSwitch:this.togglePrivateSwitch,isPeekView:C,haveMailSendPermission:_,isStatusLocked:T,havePrivateThreadConfig:w,sendForReview:this.sendForReview,isCloudAttchOpen:z&&pe,CloudAttachmentIframe:Ge.n,addCloudAttch:this.addCloudAttch,haveForWardPermissionOnly:B,isSharedTicket:V,isCustomChannel:Z,acceptsAttachments:Ce,appName:ke,deleteDraft:this.deleteDraftConfirmation,sendCusomChannelReply:this.sendCusomChannelReply})),E.a.createElement(it.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},E.a.createElement(Pe.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})),"collisionReply"==ge&&y.length?E.a.createElement(qe.a,{agents:I,replyingUsers:y,replyConfirm:this.closeAlert,closeAlert:this.closeCollisionAlert,isFromReplyEditor:!0}):null)}}]),t}(y.Component);ct.defaultProps={isFromBlueprint:!1},ct.propTypes=(rt={account:k.a.object,agent:k.a.object,agents:k.a.object,changeForumStatus:k.a.func},o()(rt,"changeForumStatus",k.a.func),o()(rt,"channelInfo",k.a.object),o()(rt,"channelRelatedInfo",k.a.object),o()(rt,"closeEdtior",k.a.func),o()(rt,"closeTicket",k.a.func),o()(rt,"closeTransitionForm",k.a.func),o()(rt,"contact",k.a.object),o()(rt,"contactEmail",k.a.string),o()(rt,"contacts",k.a.object),o()(rt,"deleleUpload",k.a.func),o()(rt,"deleteDraft",k.a.func),o()(rt,"depName",k.a.string),o()(rt,"deptId",k.a.string),o()(rt,"downloadAttachment",k.a.func),o()(rt,"editorId",k.a.string),o()(rt,"fromAddress",k.a.array),o()(rt,"getFromEmailAddress",k.a.func),o()(rt,"getSnippetList",k.a.func),o()(rt,"getTemplateContent",k.a.func),o()(rt,"haveEditPermission",k.a.bool),o()(rt,"haveForWardPermissionOnly",k.a.bool),o()(rt,"haveMailSendPermission",k.a.bool),o()(rt,"havePrivateThreadConfig",k.a.bool),o()(rt,"isCloudAttchOpen",k.a.bool),o()(rt,"isCustomChannel",k.a.bool),o()(rt,"isDraft",k.a.bool),o()(rt,"isDraftThread",k.a.bool),o()(rt,"isEditorChanged",k.a.func),o()(rt,"isFromBlueprint",k.a.bool),o()(rt,"isPeekView",k.a.bool),o()(rt,"isSharedTicket",k.a.bool),o()(rt,"isStatusLocked",k.a.bool),o()(rt,"linkHolder",k.a.string),o()(rt,"mailConfigurations",k.a.object),o()(rt,"moduleMeta",k.a.object),o()(rt,"myInfo",k.a.object),o()(rt,"openCloudAttach",k.a.func),o()(rt,"openEditor",k.a.func),o()(rt,"openSnippet",k.a.func),o()(rt,"orgId",k.a.number),o()(rt,"orgName",k.a.string),o()(rt,"publishUserAction",k.a.func),o()(rt,"push",k.a.func),o()(rt,"replyMode",k.a.string),o()(rt,"replyThread",k.a.object),o()(rt,"replyingUsers",k.a.array),o()(rt,"revertIsEditorChanged",k.a.func),o()(rt,"saveDraft",k.a.func),o()(rt,"searchContact",k.a.func),o()(rt,"secondaryContacts",k.a.array),o()(rt,"sendDraft",k.a.func),o()(rt,"sendForReview",k.a.func),o()(rt,"sendReply",k.a.func),o()(rt,"setIsEditorChanged",k.a.func),o()(rt,"setReplyData",k.a.func),o()(rt,"showAttachmentViewer",k.a.func),o()(rt,"showMessage",k.a.func),o()(rt,"signatureObj",k.a.object),o()(rt,"snippetData",k.a.object),o()(rt,"snippets",k.a.object),o()(rt,"solutionAttachments",k.a.array),o()(rt,"solutionContent",k.a.string),o()(rt,"ticket",k.a.object),o()(rt,"ticketId",k.a.string),o()(rt,"updateDraft",k.a.func),o()(rt,"uploadAttach",k.a.func),o()(rt,"uploadCloudAttachment",k.a.func),rt);t.a=Object(C.connect)(function(e,t){var a=e.module.ticket[t.ticketId],n=e.module.contact[a.contactId],o=e.myInfo.id,r=e.ticketUIState.isEditorChanged,s=void 0!==r&&r,i=a.departmentId,l=e.module.department[i].sanitizedName,c=e.departmentSpecificState[i],d=c.fromEmailAddress,u=void 0===d?[]:d,p=c.linkHolder,m=c.mailConfigurations,h=u;h=(h=h.length?h:A()("departmentSpecificState.allDepartment.fromEmailAddress",e))&&h.length?h:[];var f=e.myPreferences.signatureObj,b=[],g=(e.collidingData[t.ticketId]||{}).collisionUsers,v=void 0===g?[]:g;if(v.length)for(var y=0;y<v.length;y++)"replying"==v[y].userAction&&v[y].agentId!=o&&b.push(v[y]);return{orgName:e.routing.paramMap.orgName,orgId:Object(Fe.T)(e),signatureObj:f,linkHolder:p,collidingData:e.collidingData[t.ticketId],agents:e.module.agent,snippetData:e.snippetData,snippets:e.module.snippet,contact:n,agent:e.module.agent[o],ticket:a,account:e.module.account[n.accountId],isEditorChanged:s,deptId:i,depName:l,fromAddress:h,mailConfigurations:m,havePrivateThreadConfig:m.privateThreadConfig,myInfo:e.myInfo,isCloudAttchOpen:e.isCloudAttchOpen,moduleMeta:e.moduleMeta,contacts:e.module.contact,secondaryContacts:a.secondaryContacts,replyingUsers:b}},{downloadAttachment:Re.e,uploadAttach:Re.k,deleleUpload:Re.d,showAttachmentViewer:Re.i,openCloudAttach:Re.h,getFromEmailAddress:ze.c,searchContact:ze.g,publishUserAction:Le.j,openSnippet:Ze.f,getSnippetList:Ze.d,getTemplateContent:Be.b,setIsEditorChanged:Ve.u,revertIsEditorChanged:Ve.s,showMessage:Me.Q,uploadCloudAttachment:Re.l,changeForumStatus:Ve.a,push:Me.L,closeTransitionForm:lt.b})(ct)},"./src/containers/Subtab/SocialReply/SocialReply.js":function(e,t,a){"use strict";var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),b=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),g=a.n(b),v=a("./src/containers/Subtab/SocialReply/SocialReply.module.css"),y=a.n(v),E=a("../components/lib/Textarea/Textarea.js"),I=a.n(E),k=a("../components/lib/Button/Button.js"),C=a.n(k),_=a("./src/components/MorePopup/MorePopup.js"),D=a("./src/components/Subtab/alert/DeleteDraftAlertPopup/DeleteDraftAlertPopup.js"),S=a("./src/fz-i18n/index.js"),A=a("./src/actions/index.js"),O=a("./src/utils/bind.js"),x=a("./node_modules/@zohodesk/icons/lib/Icon/index.js"),j=a.n(x),T=a("./src/components/PortalLayer/PortalLayer.js"),N=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=a.props,r=(n.channel,n.replyThread),i=n.replyMode;a.state={content:"twitter"==i?"@"+r.twitterProfile+" ":a.props.content,tweetLen:"twitterDm"==i?8e3:280,mode:"twitterDm"==i?"twitterDm":"tweet"};return O.a.apply(a,["handleChange","sendDraft","saveDraft","updateDraft","sendReply","constructSwtichOptions","deleteDraftConfirmation","deleteDraft","handlePortalLayer","onCloseDeleteDraft"]),a}return p()(t,e),l()(t,[{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"handleChange",value:function(e){var t=this.props,a=t.channel,n=t.replyMode,o=t.setReplyData;this.setState({content:e});var r="";"TWITTER"==a?(r=280-e.length,this.setState({tweetLen:r})):(r=8e3-e.length,this.setState({tweetLen:r})),o&&o("content",e),""!=r&&(r<0?(o&&o("isMaxLimit",!0),o&&o("maxCount","twitterDm"==n?8e3:280)):o&&o("isMaxLimit",!1))}},{key:"sendDraft",value:function(){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.sendDraft,o=this.state.content;""!=o&&o?(a(),n()):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}},{key:"sendReply",value:function(){if("twitterDm"!=this.state.mode){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.sendReply,o=e.channel,r=this.state,s=r.content,i=r.tweetLen;""!=s&&s?"TWITTER"==o&&i<0?t({type:"alert",message:S.h.getI18NValue("support.social.twitter.reply.limit")}):(a(),n({channel:o="FACEBOOK_DM"==o?"FACEBOOK":o,content:s})):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}}},{key:"saveDraft",value:function(){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.saveDraft,o=e.closeEdtior,r=this.state.content;""!=r&&r?(a(),n({channel:"FACEBOOK",content:r},function(e){o()})):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}},{key:"updateDraft",value:function(){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.updateDraft,o=e.closeEdtior,r=this.state.content;""!=r&&r?(a(),n({channel:"FACEBOOK",content:r},function(e){o()})):t({type:"alert",message:S.h.getI18NValue("support.social.reply.empty")})}},{key:"constructSwtichOptions",value:function(e){return"FACEBOOK"==e||"FACEBOOK_DM"==e?[{name:S.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"11"},{name:S.h.getI18NValue("support.social.facebook.name"),iconName:"ZD-chFacebook",size:"14"}]:[{name:S.h.getI18NValue("crm.label.email"),iconName:"ZD-chEmail1",size:"12"},{name:S.h.getI18NValue("support.social.common.tweet"),iconName:"ZD-chTwitter",size:"16"},{name:S.h.getI18NValue("support.social.common.direct.message"),iconName:"ZD-bubble",size:"16"}]}},{key:"deleteDraftConfirmation",value:function(){this.onDeleteDraft(!0)}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.onDeleteDraft(!1)}},{key:"onCloseDeleteDraft",value:function(){this.onDeleteDraft(!1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.tweetLen,o=t.mode,r=(t.alertMode,this.props),s=r.closeEdtior,i=r.isDraft,l=r.channel,c=r.openEditor,d=r.threadId,u=r.replyThread,p=r.haveMailSendPermission,m=r.isFromBlueprint,f=r.haveForWardPermissionOnly;return h.a.createElement("div",null,h.a.createElement("div",{className:y.a.fbContnet+" "+(m?y.a.bluePrintLayar:"")},h.a.createElement("div",{className:y.a.socialIcn},h.a.createElement("div",{className:y.a.chIcon},"twitterDm"==o?h.a.createElement(j.a,{name:"ZD-bubble",iconClass:y.a.bubbleIcon}):h.a.createElement(j.a,{name:"FACEBOOK"==l||"FACEBOOK_DM"==l?"ZD-chFacebook":"ZD-chTwitter",iconClass:y.a.channelIcon})),f?null:h.a.createElement(_.a,{Icnsize:"8",IcnName:"ZD-blockDownArrow",icnStatus:!0,arrowPosition:"topLeft",left:"-53",objValues:this.constructSwtichOptions(l),listStyle:"alpha",boxPosition:"bottomRight",onSelect:function(t){t==S.h.getI18NValue("crm.label.email")?c(d,u.content,u,"replyall"):t==S.h.getI18NValue("support.social.common.direct.message")?(e.setState({mode:"twitterDm",content:"",tweetLen:8e3}),m&&c("","","","twitterDm")):t==S.h.getI18NValue("support.social.common.tweet")&&(e.setState({mode:"tweet",content:"@"+u.twitterProfile+" ",tweetLen:280}),m&&c("","","","tweet"))}})),h.a.createElement("div",{className:y.a.txtArea},h.a.createElement(I.a,{size:m?"xlarge":"medium",placeholder:S.h.getI18NValue("support.request.type.facebook.comment"),text:a,needBorder:!1,onChange:this.handleChange})),"TWITTER"==l&&m?h.a.createElement("span",{className:y.a.tweetLen+" "+(n<0?y.a.limitExcited:null)},n):null),m?null:h.a.createElement("div",{className:y.a.footer},h.a.createElement("div",{className:y.a.optionsCont},p?h.a.createElement(C.a,{text:"twitterDm"==o?S.h.getI18NValue("support.social.send.dm"):"FACEBOOK"==l?S.h.getI18NValue("support.social.post.comment"):"FACEBOOK_DM"==l?S.h.getI18NValue("support.social.replymessage"):S.h.getI18NValue("support.social.post.tweet"),palette:"primaryFilled",size:"medium",onClick:i?this.sendDraft:this.sendReply}):null,"FACEBOOK"==l?h.a.createElement(C.a,{text:S.h.getI18NValue("support.common.request.mail.save.draft"),palette:p?"secondary":"primaryFilled",size:"medium",onClick:i?this.updateDraft:this.saveDraft}):null,i&&"FACEBOOK"==l?h.a.createElement(C.a,{text:S.h.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:this.deleteDraftConfirmation}):null,h.a.createElement(C.a,{text:S.h.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:s}),"TWITTER"==l?h.a.createElement("span",{className:y.a.tweetLen+" "+(n<0?y.a.limitExcited:null)},n):null)),h.a.createElement(T.a,{saveUpdateFunction:this.handlePortalLayer,name:"DeleteDraft"},h.a.createElement(D.a,{closeAlert:this.onCloseDeleteDraft,deleteDraft:this.deleteDraft})))}}]),t}(m.Component);N.propTypes={channel:g.a.string,closeEdtior:g.a.func,content:g.a.string,deleteDraft:g.a.func,haveForWardPermissionOnly:g.a.bool,haveMailSendPermission:g.a.bool,hideMessage:g.a.func,isDraft:g.a.bool,isFromBlueprint:g.a.bool,openEditor:g.a.func,replyMode:g.a.string,replyThread:g.a.object,saveDraft:g.a.func,sendDraft:g.a.func,sendReply:g.a.func,setReplyData:g.a.func,showMessage:g.a.func,threadId:g.a.string,updateDraft:g.a.func},t.a=Object(f.connect)(function(e,t){return{id:e.routing.paramMap.moduleId}},{showMessage:A.Q,hideMessage:A.v})(N)},"./src/containers/Subtab/Thread/Threads.js":function(e,t,a){"use strict";a.r(t);var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=a.n(n),r=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),s=a.n(r),i=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=a.n(i),c=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=a.n(c),u=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),p=a.n(u),m=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=a.n(m),f=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=a.n(f),g=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),v=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),y=a.n(v),E=a("./src/actions/TicketDetailViewAction.js"),I=a("./src/actions/AttachmentActions.js"),k=a("../components/lib/Card/index.js"),C=a("./src/components/Subtab/Loading/Loading.js"),_=a("./src/components/Subtab/ThreadsList/ThreadsList.js"),D=a("./src/containers/Subtab/SocialReply/SocialReply.js"),S=a("./src/containers/Subtab/ReplyEditor/ReplyEdtior.js"),A=a("../components/lib/Layout/index.js"),O=a("./src/utils/bind.js"),x=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));a.state={from:1,limit:15,noMoreData:!1,isFetchDone:!1,isQueryDone:!1};return O.a.apply(a,["getThread","fetchData"]),a}return p()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchData(this.state.from);var e=this.props,t=e.id,a=e.havePrivateThreadConfig,n=e.getLatestThread;void 0!==a&&n(t,!a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.id,n=t.havePrivateThreadConfig,o=t.getLatestThread;e.id!=this.props.id&&(this.fetchData(this.state.from),o(a,!n)),e.havePrivateThreadConfig!=n&&o(a,!n)}},{key:"componentWillReceiveProps",value:function(e){if(e.needToOpenEditor&&this.state.isQueryDone){this.props.closeEditorState();var t=this.props,a=t.recentThread,n=t.recentThreadId,o=t.openEditor,r=t.id;a?"DRAFT"==a.status?o(n,a.content,a,"FACEBOOK"==a.channel?"facebook":"FORUMS"==a.channel?"forum":"editDraft"):"FAILED"!=a.status&&("FACEBOOK"==a.channel||"TWITTER"==a.channel||"FACEBOOK_DM"==a.channel||"FORUMS"==a.channel?o(n,a.content,a,"FACEBOOK"==a.channel?"facebook":"FACEBOOK_DM"==a.channel?"facebookDm":"FORUMS"==a.channel?"forum":"twitter"):o(n,a.content,a,"replyall")):o(r," ","","replyall")}if(e.needToOpenComment){var s=this.props,i=s.toggleComment,l=s.closeCommentState;i(),l()}}},{key:"getThread",value:function(e,t){var a=this.props,n=a.id,o=a.getThread;o(n,e).then(function(){t&&t()})}},{key:"fetchData",value:function(e){var t=this,a=this.props,n=a.id,o=a.getThreads,r=a.isConversationQuerySent,s=this.state.limit;return o(n,e,s).then(function(a){var n=a.data,o=n.noMoreData;n.result;t.setState({from:e,noMoreData:o,isFetchDone:!0}),t.setState({isQueryDone:!0}),r()},function(e){t.setState({isFetchFailure:!0})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.from,n=t.limit,o=t.noMoreData,r=t.isFetchDone,s=t.isFetchFailure,i=this.props,l=i.showAttachmentViewer,c=i.openEditor,d=i.orgName,u=i.deleteDraft,p=i.deleteFailedThread,m=i.resendFailedThread,f=i.closeEdtior,b=i.editorId,g=i.replyContent,v=i.replyThread,y=i.replyMode,E=i.updateDraft,I=i.saveDraft,O=i.sendForReview,x=i.sendDraft,j=i.isEdtiorOpen,T=i.solutionContent,N=i.solutionAttachments,w=i.sendReply,P=i.contactEmail,F=i.isPeekView,R=i.recentThreadId,z=i.id,B=i.threadIds,V=i.thread,M=i.moduleMeta,L=i.sanitizedDeptName,Z=i.widgets,K=i.selectedWidgetId,U=i.onWidgetScroll,H=i.onWidgetSelect,W=i.haveEditPermission,q=i.haveMailSendPermission,G=i.channelRelatedInfo,Q=i.haveJiraBugCreatePer,$=i.openJiraForm,J=i.bugName,Y=i.haveBugCreatePer,X=i.openBugTrackerForm,ee=i.isStatusLocked,te=i.isReadOnly,ae=i.haveForWardPermissionOnly,ne=i.isSharedTicket,oe=i.getFullContent,re=i.ticketChannel,se=i.isSpam,ie=i.isCustomChannel,le=i.channelInfo,ce=i.customChannelsInfo,de=i.threadCount,ue=i.downloadAttachment,pe=[];if(B)for(var me=0;me<B.length;me++)pe.push(V[B[me]]);var he=v&&"DRAFT"==v.status;return j&&"facebook"!=y&&"facebookDm"!=y&&"twitter"!=y&&"twitterDm"!=y?h.a.createElement(S.a,{isDraftThread:he,ticketId:this.props.id,closeEdtior:f,editorId:b,replyContent:g,replyThread:v,replyMode:y,deleteDraft:u,updateDraft:E,saveDraft:I,sendForReview:O,sendDraft:x,sendReply:w,openEditor:c,solutionContent:T,solutionAttachments:N,contactEmail:P,isPeekView:F,haveEditPermission:W,haveMailSendPermission:q,channelRelatedInfo:G,isStatusLocked:ee,haveForWardPermissionOnly:ae,isSharedTicket:ne,isCustomChannel:ie,channelInfo:le}):pe.length?h.a.createElement(A.Box,{flexible:!0},h.a.createElement(k.Card,{needToFetch:!0,from:a,limit:n,noMoreData:o,fetchData:this.fetchData,noNeedUpScroll:!0},!j||"facebook"!=y&&"facebookDm"!=y&&"twitter"!=y&&"twitterDm"!=y?null:h.a.createElement(k.CardHeader,null,h.a.createElement(D.a,{closeEdtior:f,saveDraft:I,updateDraft:E,content:he?g:"",isDraft:he,deleteDraft:u,sendDraft:x,sendReply:w,channel:v.channel,replyMode:y,openEditor:c,threadId:b,replyThread:v,haveMailSendPermission:q,haveForWardPermissionOnly:ae})),h.a.createElement(k.CardContent,{eleRef:function(t){e.scrollCont=t}},h.a.createElement(_.a,{ticketId:z,threads:pe,getThread:this.getThread,downloadAttachment:ue,showAttachmentViewer:l,openEditor:c,orgName:d,deleteDraft:u,deleteFailedThread:p,resendFailedThread:m,sendDraft:x,contactEmail:P,scrollCont:this.scrollCont,latestThreadId:R,moduleMeta:M,sanitizedDeptName:L,widgets:Z,selectedWidgetId:K,onWidgetScroll:U,onWidgetSelect:H,haveMailSendPermission:q,haveJiraBugCreatePer:Q,openJiraForm:$,bugName:J,haveBugCreatePer:Y,openBugTrackerForm:X,isReadOnly:te,haveForWardPermissionOnly:ae,getFullContent:oe,ticketChannel:re,isSpam:se,customChannelsInfo:ce,threadCount:de})))):s?h.a.createElement("div",null,"Unable To Proccess your request"):r?null:h.a.createElement(C.a,null)}}]),t}(m.Component);x.propTypes={bugName:b.a.string,channelInfo:b.a.object,channelRelatedInfo:b.a.object,closeCommentState:b.a.func,closeEditorState:b.a.func,closeEdtior:b.a.func,contactEmail:b.a.string,customChannelsInfo:b.a.object,deleteDraft:b.a.func,deleteFailedThread:b.a.func,downloadAttachment:b.a.func,editorId:b.a.number,getFullContent:b.a.func,getLatestThread:b.a.func,getThread:b.a.func,getThreads:b.a.func,haveBugCreatePer:b.a.bool,haveEditPermission:b.a.bool,haveForWardPermissionOnly:b.a.bool,haveJiraBugCreatePer:b.a.bool,haveMailSendPermission:b.a.bool,id:b.a.string,isConversationQuerySent:b.a.func,isCustomChannel:b.a.bool,isEdtiorOpen:b.a.bool,isPeekView:b.a.bool,isReadOnly:b.a.bool,isSharedTicket:b.a.bool,isSpam:b.a.bool,isStatusLocked:b.a.bool,moduleMeta:b.a.object,needToOpenEditor:b.a.bool,onWidgetScroll:b.a.func,onWidgetSelect:b.a.func,openBugTrackerForm:b.a.func,openEditor:b.a.func,openJiraForm:b.a.func,orgName:b.a.string,recentThread:b.a.object,recentThreadId:b.a.string,replyContent:b.a.string,replyMode:b.a.string,replyThread:b.a.object,resendFailedThread:b.a.func,sanitizedDeptName:b.a.string,saveDraft:b.a.func,selectedWidgetId:b.a.string,sendDraft:b.a.func,sendForReview:b.a.func,sendReply:b.a.func,showAttachmentViewer:b.a.func,solutionAttachments:b.a.array,solutionContent:b.a.string,thread:b.a.object,threadCount:b.a.string,threadIds:b.a.object,ticketChannel:b.a.string,ticketSubject:b.a.string,toggleComment:b.a.func,updateDraft:b.a.func,widgets:b.a.array},t.default=Object(g.connect)(function(e,t){return{thread:e.module.thread,threadIds:e.module.ticket[t.id].thread,moduleMeta:e.moduleMeta,sanitizedDeptName:e.routing.paramMap.deptName,needToOpenEditor:y()("UIState.peekState.needToOpenEditor",e),needToOpenComment:y()("UIState.peekState.needToOpenComment",e),customChannelsInfo:e.customChannelsInfo}},{getThreads:E.l,getThread:E.k,downloadAttachment:I.e,getLatestThread:E.i,closeEditorState:E.c,closeCommentState:E.b,showAttachmentViewer:I.i,getFullContent:E.g})(x)},"./src/utils/Attachment.js":function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return c}),a.d(t,"l",function(){return d}),a.d(t,"i",function(){return u}),a.d(t,"p",function(){return p}),a.d(t,"q",function(){return m}),a.d(t,"m",function(){return h}),a.d(t,"k",function(){return f}),a.d(t,"h",function(){return g}),a.d(t,"j",function(){return v}),a.d(t,"b",function(){return y}),a.d(t,"a",function(){return E}),a.d(t,"n",function(){return I}),a.d(t,"c",function(){return k}),a.d(t,"o",function(){return C}),a.d(t,"g",function(){return _});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),o=a.n(n),r=a("./src/utils/Browser.js"),s=a("./src/fz-i18n/index.js");function i(e){var t=c(e),a=Object(r.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"ZD-filePicture";case"txt":case"rtf":return"ZD-fileText2";case"pdf":return"ZD-filePdf";case"html":case"htm":case"xhtml":return-1!==a.indexOf("chrome")||-1!==a.indexOf("safari")?"ZD-chrome":-1!==a.indexOf("ie")||-1!==a.indexOf("edge")?"ZD-ie":"ZD-firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ZD-ppt";case"rar":case"jar":case"zip":return"ZD-zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"ZD-fileOpenoffice":"ZD-fileWord";case"xml":return"ZD-xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"ZD-fileExcel";case"ics":return"ZD-ics";case"exe":return"ZD-exe";case"sh":case"bin":return"ZD-sh2";case"css":return"ZD-css5";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"ZD-fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"ZD-fileVideo";default:return"ZD-unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&-1!=e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return/jpeg|jpg|png|gif|bmp|ico/i.test(t)}function u(e){var t=c(e);return/mp3|wav|ogg/i.test(t)}function p(e,t){var a={inValidArray:[],validArray:[]};if(t+e.length>10)return a.isCountExceeds=!0,a;for(var n=0;n<e.length;n++){var o=e[n],r=o.name,s=o.size;h(r)?a.inValidArray.push({isUnSupported:!0}):f(r)?a.inValidArray.push({isFileNameSizeInvalid:!0}):0===o.size?a.inValidArray.push({isEmpty:!0}):b(s)?a.inValidArray.push({isAttachSizeExceeded:!0}):a.validArray.push(o)}return a}function m(e,t,a,n){if(t+e.length>10)n(s.h.getI18NValue("support.attachments.count.exceeds",[10]));else for(var o=0;o<e.length;o++){var r=e[o],i=r.name,l=r.size;if(h(i))n(s.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(i))n(s.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==r.size)if(b(l))n(s.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var c=new FormData;c.append("file",r),a&&a(c)}else n(s.h.getI18NValue("support.request.empty.attachment.message"))}}function h(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function b(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function v(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function y(e,t,a){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&(d(e.name)||u(e.name))}),n.previewData.filter(function(t,a){t.id===e&&(n.selectedIndex=a)}),a&&a(n)}function E(e,t,a){var n=e.indexOf("/api"),o=e;return n>-1&&(o=e.slice(n,e.length),o+="?orgId="+t+(a?"&inline=true":"")),o}function I(e,t){window.open(E(e,t,!0))}function k(e,t){window.location.href=E(e,t,!1)}function C(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],u=0;if(n&&l>n-a){var p=s.h.getI18NValue("support.attachments.count.exceeds",[n]);return o.a.resolve({isError:!0,errorI18N:p})}for(var m=0;m<l;m++){var b=e[m],g=b||{},v=g.size,y=void 0===v?0:v,E=g.name,I=void 0===E?"":E;if(u+=y,h(I)){var k=s.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:k,fileName:I,errorType:"fileType"})}else if(f(I)){var C=s.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:C,fileName:I,errorType:"fileNameSize"})}else if(0===y){var _=s.h.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:_,fileName:I,errorType:"emptyFile"})}else d.push(b)}if(!d.length){if(1===c.length){var D=c[0].errorI18N;return o.a.resolve({isError:!0,errorI18N:D})}var S=s.h.getI18NValue("support.unable.to.process.your.request");return o.a.resolve({isError:!0,errorI18N:S})}if(0===u){var A=s.h.getI18NValue("support.request.empty.attachment.message");return o.a.resolve({isError:!0,errorI18N:A})}if(u+i>1024*r*1024){var O=s.h.getI18NValue("support.attachments.size.limit.exceeds",[r]);return o.a.resolve({isError:!0,errorI18N:O})}for(var x=[],j=[],T=[],N=[],w=function(e){var a=d[e];if(t){var n=new FormData;n.append("file",a);var o=e,r=t(n,a,o).then(function(e){var t=(e.data||{}).data,a=void 0===t?{}:t,n=a.id;n&&(x[o]=a,j[o]=n)},function(t){var n=a.name,o=s.h.getI18NValue("support.unable.to.process.your.request");return N.push(e),c.push({errorI18N:o,fileName:n,errorType:"apiError"}),t});T.push(r)}},P=0;P<d.length;P++)w(P);var F={uploadFiles:x,inValidFiles:c,isError:!1,uploadFileIds:j,inValidFilesIndex:N};return o.a.all(T).then(function(){return j.length?F:{isError:!0,errorI18N:s.h.getI18NValue("support.unable.to.process.your.request")}})}function _(e,t){var a=e.name;return{index:t,isPreview:!0,size:e.size,name:a,href:URL.createObjectURL(e)}}},"./src/utils/ChannelIconMapping.js":function(e,t,a){"use strict";function n(e,t){var a=void 0,n="";return e?"OFFLINE_CHAT"==(a=e.channel)?n="missed":e.isDraft?n="draft":e.isForward?n="forward":"in"===e.direction?n="incoming":"out"===e.direction&&(n="outgoing"):(a=t||"",n="default"),{channelName:a,action:n}}function o(e){return{in:{icon:"ZD-emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"ZD-emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"ZD-pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"ZD-emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"ZD-feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"ZD-zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"ZD-notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function r(){return{EMAIL:{default:"ZD-chEmail1",incoming:"ZD-chEmailIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chEmailMis"},FACEBOOK:{default:"ZD-chFacebook",incoming:"ZD-chFacebookIn",outgoing:"ZD-chFacebookOut",draft:"ZD-chFacebookDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chFacebookMis"},FACEBOOK_DM:{default:"ZD-chFacebookDmOut",incoming:"ZD-chFacebookDmOut",outgoing:"ZD-chFacebookDmOut",draft:"ZD-chFacebookDmOut",forward:"ZD-chFacebookDmOut",forwardDraft:"ZD-chFacebookDmOut",missed:""},TWITTER:{default:"ZD-chTwitter",incoming:"ZD-chTwitterIn",outgoing:"ZD-chTwitterOut",draft:"ZD-chTwitterDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chTwitterMis"},FORUMS:{default:"ZD-chForums",incoming:"ZD-chForumsIn",outgoing:"ZD-chForumsOut",draft:"ZD-chForumsDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chForumsMis"},CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},OFFLINE_CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},ONLINE_CHAT:{default:"ZD-chChat",incoming:"ZD-chChatIn",outgoing:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chChatMis"},PHONE:{default:"ZD-activityCalls",incoming:"ZD-chPhoneIn",outgoing:"ZD-chPhoneOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chPhoneMis"},WEB:{default:"ZD-chWeb",incoming:"ZD-chWebIn",out:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chWebMis"},CUSTOMERPORTAL:{default:"ZD-chWeb",incoming:"ZD-chWebIn",out:"ZD-chEmailOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chWebMis"},FEEDBACK:{default:"ZD-chFeedback",incoming:"ZD-chFeedback",out:"ZD-chFeedbackOut",draft:"ZD-chEmailDft",forward:"ZD-chEmailFwd",forwardDraft:"ZD-forwarddft",missed:"ZD-chFeedbackMis"}}}a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return r})},"./src/utils/DataStorage.js":function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),o=a.n(n),r=a("./src/utils/Common.js"),s={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(r.N)(t)?localStorage.setItem(e,o()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var a=localStorage.length,n=new Date,s=0;s<a;s++){var i=localStorage.key(s),l=this.getItemFromStorage(i)||{};l&&l.time&&n>l.expireTime&&this.removeItem(i)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var a=localStorage.key(t),n=this.getItemFromStorage(a);e[a]=n}return e}return this.storage},setItem:function(e,t,a){-1==(a=null==a||null==a?10800:a)&&(a=86400);var n=new Date,o={value:t,expireTime:new Date(n.setSeconds(n.getSeconds()+a))};this.storeItemIntoStorage(e,o)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},"./src/utils/Editor.js":function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"f",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return c});var n=a("./src/utils/Common.js");function o(e,t){var a=editor[e];a&&t&&a.insertHTML(t)}function r(e){var t=editor[e];if(null!=t){var a=t.getContent();return"<br>"==(a=a.trim())?"":("plaintext"==t.mode&&(a=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(a)),a)}return""}function s(e,t,a,n){var o={content:"",isSnippetExist:!1,triggerWord:""},r="";if(e.modify){var s=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var i=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==i.toLowerCase()});null!=(r=l.length?l[0].expandedContent:"")&&""!=r&&r.length>0?(o.isSnippetExist=!0,o.content=r,o.triggerWord=i.toLowerCase(),s.setStart(e.anchorNode,e.anchorOffset),s.setEnd(e.focusNode,e.focusOffset)):(o.content="&nbsp;&nbsp;&nbsp;&nbsp;",o.triggerWord=i.toLowerCase()),e.removeAllRanges(),e.addRange(s)}else o=function(e,t,a,n){var o="",r=e.getRangeAt(0);r.collapse(!0),r.setStart(e.anchorNode,0),o=r.toString();var s=r.cloneRange(),i=e.anchorNode.textContent,l=/\s+/,c=i.split(l).filter(Boolean),d=o.split(l).filter(Boolean),u="",p="",m={content:"",isSnippetExist:!1,triggerWord:""},h=d[d.length-1];if(""!=h&&void 0!==h){u=c[d.length-1],parseInt(u.length);var f=u.toLowerCase(),b=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});p=b.length?b[0].expandedContent:""}if(null!=p&&""!=p&&null!=p){var g=parseInt(u.length-h.length),v=parseInt(o.length);g>0&&(v+=g);var y=parseInt(o.length+g-u.length),E=o.length-o.replace(/\s+$/g,"").length;(y-=E)<0&&(y=0),s.setStart(e.anchorNode,y),s.setEnd(e.focusNode,v),m.isSnippetExist=!0}else p=o;return m.content=p,m.triggerWord=u.toLowerCase(),e.removeAllRanges(),e.addRange(s),m}(e,0,0,n);return o}function i(e,t,a,o,r){for(var s={"${Cases.Contact Name}":Object(n.e)(a.firstName,a.lastName),"${Cases.Email}":a.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":o?o.accountName:"","${Cases.First Name}":a.firstName||"","${Cases.Last Name}":a.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(r.firstName,r.lastName),"${User.Email}":r.emailId||"","${User.Phone}":r.phone||"","${User.First Name}":r.firstName||"","${User.Last Name}":r.lastName||"","${User.Mobile}":r.mobile||""},i=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<i.length;l++)e=e.replace(i[l],s[i[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},"./src/utils/EmailValidation.js":function(e,t,a){"use strict";function n(e){e=(e=o(e))?e.trim():e;return/^[\w]([\w\-\.\+\'\&]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(e)}function o(e){var t=e;return-1!==t.indexOf(">")&&-1!==t.indexOf("<")&&(t=t.substring(t.indexOf("<")+1,t.indexOf(">"))),t}function r(e,t){var a=e.trim();if(-1!==a.indexOf(">")&&a.indexOf("<")>0){var n=a;a=a.substring(0,a.indexOf("<")),t||(a=a.replace(/"/g,"")),""==a&&(a=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">")))}else a=a.replace(/<|>/g,"");return a}function s(e){var t=0,a=0,o=0,s=(e=e.trim()).indexOf("@",o);if(-1!==s)if(-1!==(o=e.indexOf(",",s))?(a=e.substring(t,o),t=o+1):(a=e.substring(t,e.length),-1),","===a||" "===a)-1;else{if(-1!=a.indexOf(",")){var l=r(a,!0);if(","===l.charAt(l.length-1))return!1;if(!(-1!==l.indexOf('"')&&l.lastIndexOf('"')>0||-1!==l.indexOf("'")&&l.lastIndexOf("'")>0)&&-1!=l.indexOf(",")&&","!=l.substring(0,1))return!1;var c=l.substring(l.indexOf('"')+1,l.lastIndexOf('"'));if(""==c&&(c=l.substring(l.indexOf("'")+1,l.lastIndexOf("'"))),""!=c&&-1==c.indexOf(","))return!1}var d=i(a);if(!n(d=d.trim()))return!1}else if(-1,o<=e.length)return!1;return!0}function i(e){return-1===e.indexOf("<")?e:e.substring(e.lastIndexOf("<")+1,e.lastIndexOf(">"))}function l(e,t){var a=!1,n=-1;if(e.length)for(var o=0;o<e.length;o++){i(e[o])==i(t)&&(a=!0,n=o)}return{isDuplicate:a,index:n}}function c(e){for(var t=[],a=e.indexOf("@"),n=void 0;-1!==a;)-1===(n=e.indexOf(",",a))&&(n=e.length),t.push(e.substring(0,n)),a=(e=e.substring(n+1,e.length)).indexOf("@");return-1===a&&""!==e&&t.push(e),t}a.d(t,"f",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"e",function(){return s}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return c})},"./src/utils/bind.js":function(e,t,a){"use strict";function n(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];a.forEach(function(t){e[t]=e[t].bind(e)})}a.d(t,"a",function(){return n})},"./src/utils/editorUtils.js":function(e,t,a){"use strict";function n(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function o(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})}}]);