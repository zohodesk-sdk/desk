(window.deskappJsonp=window.deskappJsonp||[]).push([[71],{"../components/lib/Button/Button.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=l(o("../components/lib/Button/Button.module.css")),i=o("../components/lib/utils/dummyFunction.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,o=e.palette,n=e.disabled,s=e.size,i=e.onClick,l=e.rounded,c=e.status,d=e.children,m=e.isBold,u=e.dataId,p=e.needAppearance,h=e.className,f=e.getRef,b=p?r.default[o.toLowerCase()]+" "+(l?r.default.rounded:"")+"   "+(d?r.default["button_"+s.toLowerCase()]:r.default[s.toLowerCase()]):""+r.default.default;return a.default.createElement("button",{className:(h||"")+" "+b+" "+(m?r.default.bold:"")+"  ","data-id":n?u+"_disabled":u,disabled:n||"loading"===c.toLowerCase(),onClick:i,type:"button",ref:f},d||t,"none"!==c&&p&&a.default.createElement("div",{className:r.default.overlay},a.default.createElement("div",{className:"loading"===c.toLowerCase()?r.default.loading:r.default.success},a.default.createElement("div",{className:r.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:i.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:s.default.node,className:s.default.string,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,isBold:s.default.bool,needAppearance:s.default.bool,onClick:s.default.func,palette:s.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:s.default.bool,size:s.default.oneOf(["small","medium","large","xlarge"]),status:s.default.oneOf(["loading","success","none"]),text:s.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/DropDown/DropDownSeparator.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=r(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=r(o("../components/lib/DropDown/DropDown.module.css"));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){return a.default.createElement("div",{className:s.default.separator})}}]),t}();t.default=i},"../components/lib/Label/Label.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=i(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=i(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),r=i(o("../components/lib/Label/Label.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.text,o=e.type,n=e.palette,s=e.size,i=e.clipped,l=e.name,c=e.title,d=e.onClick,m=e.dataId;return a.default.createElement("label",{className:r.default.label+" "+r.default[o]+" "+r.default[s]+" "+r.default[n]+"\n          "+(i?r.default.dotted:"")+" "+(d?r.default.pointer:r.default.cursor),name:l,"data-title":c,"data-id":m,onClick:d},t)}}]),t}();t.default=l,l.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},l.propTypes={clipped:s.default.bool,dataId:s.default.string,name:s.default.string,onClick:s.default.func,palette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:s.default.oneOf(["small","medium","large"]),text:s.default.string,title:s.default.string,type:s.default.oneOf(["title","subtitle"])},l.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/Switch/Switch.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),r=l(o("../components/lib/Switch/Switch.module.css")),i=l(o("../components/lib/Label/Label.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,o=t.onChange,n=t.checked;o&&o(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.name,n=e.value,s=e.checked,l=e.disabled,c=e.size,d=e.text,m=e.labelSize,u=e.labelPalette,p=e.title,h=e.dataId;return c="small"!==c?"switch_medium":"switch_small",a.default.createElement("span",{className:r.default.container+" "+(l?r.default.disabled:""),"data-title":l?p:""},a.default.createElement("span",{className:r.default[c]},a.default.createElement("input",{type:"checkbox",id:t,className:r.default.input+" "+(s?r.default.checked:""),name:o,value:n,checked:s,disabled:l,onClick:this.onChange,"data-id":h}),a.default.createElement("label",{htmlFor:t,className:r.default.label})),d&&a.default.createElement(i.default,{text:d,palette:u,id:t,size:m,type:"subtitle",onClick:this.onChange}))}}]),t}();t.default=c,c.defaultProps={checked:!1,disabled:!1,labelPalette:"primary",labelSize:"medium",size:"medium"},c.propTypes={checked:s.PropTypes.bool,dataId:s.PropTypes.string,disabled:s.PropTypes.bool,id:s.PropTypes.string.isRequired,labelPalette:s.PropTypes.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.PropTypes.oneOf(["small","medium","large"]),name:s.PropTypes.string,onChange:s.PropTypes.func,size:s.PropTypes.oneOf(["small","medium"]),text:s.PropTypes.string,title:s.PropTypes.string,value:s.PropTypes.bool},c.propTypesDescription={checked:" ",disabled:" ",size:" ",id:" ",name:" ",text:" ",labelSize:" ",labelPalette:" ",value:" ",onChange:" ",title:" "}},"./src/actions/AgentAction.js":function(e,t,o){"use strict";o.d(t,"k",function(){return u}),o.d(t,"j",function(){return p}),o.d(t,"h",function(){return h}),o.d(t,"b",function(){return f}),o.d(t,"c",function(){return b}),o.d(t,"l",function(){return g}),o.d(t,"i",function(){return C}),o.d(t,"d",function(){return v}),o.d(t,"f",function(){return _}),o.d(t,"a",function(){return y}),o.d(t,"m",function(){return I}),o.d(t,"e",function(){return j}),o.d(t,"g",function(){return A}),o.d(t,"n",function(){return w});o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/keys.js");var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),a=o.n(n),s=o("./src/utils/RequestAPI.js"),r=o("./src/utils/Common.js"),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),l=o("./src/reducers/selector.js"),c=o("./src/utils/departmentQuery.js"),d=o("./src/constants/index.js"),m=o("./src/constants/agents.js");function u(e){return{types:Object(r.m)("AGENTS_COUNT"),callAPI:function(t){var o=Object(l.t)(t);return Object(s.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return a()({},e,{id:e.agentId})}),{countData:e.data,deptId:o}):{}})}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];e.from=k(e,"from","1"),e.limit=k(e,"limit","100"),e.searchStr=I(e);var o=e.from>1?"AGENT_NEXT":d.R.AGENT;return{types:Object(r.m)(o),callAPI:function(o){var n="/api/v1/agents?orgId="+o.currentOrgId+(t&&"allDepartment"!==t?"&departmentId="+t:"");return n+=y(e,["from","limit","status","isConfirmed","searchStr","profileIds","roleIds"]),Object(s.a)(n).get().then(function(o){if(204!==o.responseStatus){var n=o.data.length<e.limit,s=Object(i.b)(o.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return a()(s,{noMoreData:n,depId:t})}return{entities:{noMoreData:!0},result:[]}})}}}function h(e,t,o){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{types:Object(r.m)(t>1?"AGENT_NEXT":d.R.AGENT),callAPI:function(r){return Object(s.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+o+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:r.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<o,s=Object(i.b)(t.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return a()(s,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(r.m)(d.R.AGENT),callAPI:function(o){return Object(s.a)("/api/v1/agents/"+e,!1,{orgId:o.currentOrgId}).get().then(function(e){var o=Object(i.b)(e,Object(i.c)(d.R.AGENT_L));return a()(o,{depId:t})})}}}function b(e){return{types:Object(r.m)(d.R.AGENT),callAPI:function(t){return Object(s.a)("/api/v1/agents/zuid/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(e,Object(i.c)(d.R.AGENT_L))})}}}function g(e,t,o){return{types:Object(r.m)("AGENT_SEARCH"),callAPI:function(n){return Object(s.a)("/api/v1/agents?searchStr=*"+e+"*&from="+t+"&limit="+o+"&status=ACTIVE&isConfirmed=true",!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<o,s=Object(i.b)(e.data,Object(i.a)(Object(i.c)(d.R.AGENT_L)));return a()(s,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],o=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.z,m=arguments[4];return{types:Object(r.m)(d.R.AGENT),callAPI:function(r){var u={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=m||Object(l.t)(r),h=m?"&departmentId="+m:Object(c.a)(r,!0),f="/api/v1/agents?"+(u?u+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(o?"&searchStr=*"+o+"*":"")+h;return Object(s.a)(encodeURI(f),!1,{orgId:r.currentOrgId}).get().then(function(s){return a()({},Object(i.b)(204!==s.responseStatus?s.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L))),{deptId:p,from:t,limit:n,isNext:!!s.data&&s.data.length>n,searchStr:o,agentType:e})},function(e){throw e})}}}function v(e){return{types:Object(r.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(s.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(204!==e.responseStatus?e.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L)))})}}}function _(e){return{types:Object(r.m)("TEAM_AGENT"),callAPI:function(t){return Object(s.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.b)(e.members,Object(i.a)(Object(i.c)(d.R.AGENT_L)))})}}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o="";return t.map(function(t){void 0!==e[t]&&(o+="&"+t+"="+e[t])}),o}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2];return void 0!==e[t]?e[t]:o}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=k(e,"searchType","string"),o=e.searchStr;return o&&(o="string*"==t?o+"*":"*string*"==t?"*"+o+"*":o),o}function E(e){var t=e.isConfirmed,o=e.status;switch(o){case m.a:return m.a;case m.d:return m.d;case m.c:return m.c;default:if(void 0!==t&&!t)return m.l;if(void 0===o)return m.b}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=k(e,"from","1"),e.limit=k(e,"limit","100"),e.searchStr=I(e);var t=e.from>1?m.k:m.j;return{types:Object(r.m)(t),callAPI:function(t){var o="/api/v1/agents?orgId="+t.currentOrgId;return o+=y(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(s.a)(o).get().then(function(t){return a()(Object(i.b)(void 0!==t.data?t.data:[],Object(i.a)(Object(i.c)(d.R.AGENT_L))),{status:E(e)})})}}}function A(e,t,o){var n={status:e,isConfirmed:t,includeLightAgent:o};return n.includeLightAgent=k(n,"includeLightAgent",!0),{types:Object(r.m)(m.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=y(n,["status","isConfirmed","includeLightAgent"]),Object(s.a)(t).get().then(function(e){return a()({},e,{status:E(n)})})}}}function w(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:m.m,data:{isEnabled:e}}}},"./src/actions/CommentActions.js":function(e,t,o){"use strict";o.d(t,"d",function(){return m}),o.d(t,"b",function(){return u}),o.d(t,"a",function(){return p}),o.d(t,"e",function(){return h}),o.d(t,"c",function(){return f});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),r=o.n(s),i=o("./src/utils/RequestAPI.js"),l=o("./src/constants/index.js"),c=o("./src/utils/Common.js"),d=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),m=function(e,t,o,n,s){return{types:Object(c.m)(t.toUpperCase()+"_GET_"+l.R.COMMENT),callAPI:function(c){return Object(i.a)(""+l.B+e+"/"+o+"/comments?sortBy=-commentedTime&from="+n+"&limit="+s+"&include=mentions",!1,{orgId:c.currentOrgId}).get().then(function(e){var s;if(204!=e.responseStatus){var i=r()({id:o},l.R.COMMENT_L,e.data);return a()({},Object(d.b)(i,Object(d.c)(t,{mapping:{comment:Object(d.a)(Object(d.c)(l.R.COMMENT_L))}})),{from:n})}return{entities:(s={},r()(s,l.R.COMMENT_L,{}),r()(s,t,[]),s),from:n}})}}},u=function(e,t,o,n,a){return{types:Object(c.m)(t.toUpperCase()+"_DELETE_"+a),callAPI:function(a,s){return Object(i.a)(""+l.B+e+"/"+o+"/comments/"+n,!1,{orgId:a.currentOrgId}).del().then(function(e){if(200==e.responseStatus){var a=s(),i=!0;if("ticket"==t&&(i=Object(c.F)(a,o,n)),i){var d="0",m=a.module[t][o].commentCount;return(m=parseInt(m))&&(d=m-1),{entities:r()({},t,r()({},o,r()({},l.R.COMMENT_L,[n]))),commentCount:d,result:o}}return e}})}}},p=function(e,t,o,n,s){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return{types:Object(c.m)(t.toUpperCase()+"_ADD_"+s),callAPI:function(s,m){return Object(i.a)(""+l.B+e+"/"+o+"/comments",!1,{orgId:s.currentOrgId}).post("",n).then(function(e){var n=m(),s=e.id,i=!1;if("ticket"==t&&(i=Object(c.F)(n,o,s)),!i){var u,p="1",h=n.module[t][o].commentCount;return(h=parseInt(h))&&h>0&&(p=h+1),{entities:(u={},r()(u,l.R.COMMENT_L,r()({},s,a()({},e,{mention:d}))),r()(u,t,r()({},o,r()({},l.R.COMMENT_L,[s]))),u),commentCount:p,result:o}}return e})}}},h=function(e,t,o,n,s,d){var m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];return{types:Object(c.m)(t.toUpperCase()+"_UPDATE_"+d),callAPI:function(t){return Object(i.a)(""+l.B+e+"/"+o+"/comments/"+n,!1,{orgId:t.currentOrgId}).patch("",s).then(function(e){return{entities:r()({},l.R.COMMENT_L,r()({},n,a()({},e,{mention:m})))}})}}},f=function(e,t){return{types:Object(c.m)("COMMENTHISTORY"),callAPI:function(o){return Object(i.a)(l.B+"tickets/"+e+"/comments/"+t+"/history",!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:e.data,entities:{},result:[]}})}}}},"./src/actions/TicketCommentActions.js":function(e,t,o){"use strict";o.d(t,"a",function(){return u}),o.d(t,"b",function(){return p});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),l=o.n(i),c=o("./src/utils/RequestAPI.js"),d=o("./src/constants/index.js"),m=o("./src/utils/Common.js");function u(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{types:Object(m.m)("COMMENT_ADD"),callAPI:function(n,s){return Object(c.a)(d.B+"tickets/"+e+"/comments",!1,{orgId:n.currentOrgId}).post("",t).then(function(t){var n=s(),i=t.id;if(!Object(m.F)(n,e,i)){var c,u,p="1",h=n.module.ticket[e],f=h.commentCount,b=h.comment,g=void 0===b?[]:b,C=h.conversationIds,v=void 0===C?[]:C;(f=parseInt(f))&&f>0&&(p=f+1);var _=[i].concat(l()(g)),y=[{type:"comment",id:i}].concat(l()(v));return{entities:(u={},a()(u,d.R.COMMENT_L,a()({},i,r()({},t,{mention:o}))),a()(u,"ticket",a()({},e,(c={},a()(c,d.R.COMMENT_L,_),a()(c,"conversationIds",y),a()(c,"commentCount",p),c))),u)}}return t})}}}function p(e,t){return{types:Object(m.m)("DELETECOMMENT"),callAPI:function(o,n){return Object(c.a)(d.B+"tickets/"+e+"/comments/"+t,!1,{orgId:o.currentOrgId}).del().then(function(o){if(200==o.responseStatus){var s=n();if(Object(m.F)(s,e,t)){var r,i="0",l=s.module.ticket[e],c=l.commentCount,u=l.comment,p=void 0===u?[]:u,h=l.conversationIds,f=void 0===h?[]:h;(c=parseInt(c))&&(i=c-1);var b=[],g=[];return f.length&&(g=f.filter(function(e){return e.id!=t})),p.length&&(b=p.filter(function(e){return e!=t})),{entities:{ticket:a()({},e,(r={},a()(r,d.R.COMMENT_L,b),a()(r,"conversationIds",g),a()(r,"commentCount",i),r))}}}return o}})}}}},"./src/components/Image/Image.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/Image/Image.module.css"),C=o.n(g),v=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.alt,o=e.src,n=e.className,a=e.isCover,s=e.title,r=e.onClick,i=e.dataId;return h.a.createElement("img",{src:o,alt:t,"data-title":s,"data-id":i,className:" "+n+" "+(a?C.a.imgFullSize:C.a.imgMaxFullSize)+" ",onClick:r})}}]),t}(h.a.Component);t.a=v,v.propTypes={alt:b.a.string.isRequired,className:b.a.string,dataId:b.a.string,isCover:b.a.bool,onClick:b.a.func,src:b.a.string.isRequired,title:b.a.string},v.defaultProps={isCover:!1,className:""}},"./src/components/MorePopup/MorePopup.js":function(e,t,o){"use strict";var n,a=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=o.n(a),r=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),i=o.n(r),l=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),c=o.n(l),d=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),m=o.n(d),u=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),p=o.n(u),h=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),f=o.n(h),b=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),g=o.n(b),C=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),v=o.n(C),_=o("./src/components/MorePopup/MorePopup.module.css"),y=o.n(_),k=o("../components/lib/common/common.module.css"),I=o.n(k),E=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),j=o.n(E),A=o("../components/lib/Popup/Popup.js"),w=o.n(A),N=o("../components/lib/DropBox/DropBox.js"),x=o.n(N),O=o("../components/lib/DropDown/DropDownSeparator.js"),P=o.n(O),z=o("../components/lib/ListItem/ListItemWithIcon.js"),S=o.n(z),T=o("./src/components/setup/timetrack/utils.js"),D=function(e){function t(e){c()(this,t);var o=p()(this,(t.__proto__||i()(t)).call(this,e));return o.handleSelect=o.handleSelect.bind(o),o.togglePopup=o.togglePopup.bind(o),o}return f()(t,e),m()(t,[{key:"handleSelect",value:function(e,t,o,n){if(void 0!==this.props.onSelect){var a=this.props;(0,a.onSelect)(e,a.entity)}this.props.togglePopup(n)}},{key:"togglePopup",value:function(e){var t=this.props,o=t.togglePopup,n=t.boxPosition;Object(T.a)(e),o(e,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.isPopupOpen,n=t.onPopupChange;e.isPopupOpen!==o&&n&&n(o)}},{key:"render",value:function(){var e=this,t=this.props,o=t.theme,n=void 0===o?"white":o,a=t.objValues,s=t.Icnsize,r=t.IcnName,i=t.arrowPosition,l=t.position,c=t.right,d=t.widgets,m=void 0===d?[]:d,u=t.onWidgetScroll,p=t.onWidgetSelect,h=t.selectedWidgetId,f=t.arrowRight,b=t.arrowLeft,C=t.size,v=t.left,_=t.isPopupOpen,k=t.isPopupReady,E=t.getTargetRef,A=t.getContainerRef,w=t.dataId,N=t.isArrow,O=t.dataTitle;return s=s||"medium",g.a.createElement("span",{className:I.a.posrel,ref:E,"data-id":w,onClick:this.togglePopup},g.a.createElement("span",{className:y.a.defaultSize+" "+I.a.posrel+" "+y.a[n]},g.a.createElement("span",{"data-title":O},g.a.createElement(j.a,{name:r,size:s}))),_?g.a.createElement(x.a,{isAnimate:!0,isArrow:N,right:c,left:v,isActive:k,size:C,arrowRight:f,arrowLeft:b,boxPosition:l,getRef:A,arrowPosition:i,dataId:w+"list"},a.map(function(t,o){return g.a.createElement(S.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:o,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),a.length&&m.length?g.a.createElement(P.a,null):null,m.length?g.a.createElement("div",{className:y.a.widgetList,onScroll:u},m.map(function(e){var t=e.name,o=e.sanitisedName+"_"+e.installationId;return h!=o?g.a.createElement(S.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:o,id:o,onClick:function(){p(o,e)}}):null})):null):null)}}]),t}(b.Component);D.defaultProps={IcnName:"ZD-more1",size:"small"},D.propTypes=(n={IcnName:v.a.string,Icnsize:v.a.string,arrowLeft:v.a.string,arrowPosition:v.a.string,arrowRight:v.a.string,boxPosition:v.a.string,dataId:v.a.string,dataTitle:v.a.string,entity:v.a.object,getContainerRef:v.a.func},s()(n,"getContainerRef",v.a.func),s()(n,"getTargetRef",v.a.func),s()(n,"isArrow",v.a.bool),s()(n,"isPopupOpen",v.a.bool),s()(n,"isPopupReady",v.a.bool),s()(n,"isScroll",v.a.bool),s()(n,"left",v.a.string),s()(n,"objValues",v.a.array),s()(n,"onPopupChange",v.a.func),s()(n,"onSelect",v.a.func),s()(n,"onWidgetScroll",v.a.func),s()(n,"onWidgetSelect",v.a.func),s()(n,"position",v.a.string),s()(n,"removeClose",v.a.func),s()(n,"right",v.a.string),s()(n,"selectedWidgetId",v.a.string),s()(n,"size",v.a.string),s()(n,"theme",v.a.string),s()(n,"togglePopup",v.a.func),s()(n,"widgets",v.a.array),n),t.a=w()(D)},"./src/components/SVG/EmptyCloud.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("./src/components/SVG/SVG.js"),b=o("./src/components/SVG/images/EmptyCloud.svg"),g=o.n(b),C=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"cloud"},h.a.createElement("image",{xlinkHref:g.a,height:"100%",width:"100%"}))}}]),t}(h.a.Component);t.a=C},"./src/components/SVG/images/EmptyCloud.svg":function(e,t){e.exports="//vimalesan.herokuapp.com/hsdk/"+"./fonts/EmptyCloud.ad84742889552ed3919f.svg"},"./src/components/Subtab/CommentActionButton/CommentActionButton.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/Subtab/CommentActionButton/CommentActionButton.module.css"),C=o.n(g),v=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),_=o.n(v),y=o("../components/lib/Switch/Switch.js"),k=o.n(y),I=o("./src/fz-i18n/index.js"),E=o("../components/lib/Layout/index.js"),j=o("../components/lib/Button/Button.js"),A=o.n(j),w=o("./src/components/setup/timetrack/utils.js"),N=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={isPopupOpen:!1},o.togglePopup=o.togglePopup.bind(o),o.changeMode=o.changeMode.bind(o),o}return u()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"changeMode",value:function(){var e=this.props,t=e.isPublic,o=e.changeMode;o(t?"private":"public")}},{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,o=t.revertIsCommentChanged,n=t.isCommentChanged,a=t.closeComment,s=t.toggleComment,r=t.clearComment,i=t.type,l=t.from,c=t.content,d=void 0===c?"":c,m=t.isPublic,u=t.addComment,p=t.updateComment,f=t.hasPrivacyMode,b=t.havePublicComment,g=t.dataId,v=t.isLoading,y=this.state.isPopupOpen,j="large";"leftPanel"==l&&(j="medium");var N=""==d&&"conversation"!=i;return h.a.createElement(E.Box,{className:C.a.postSubmit},h.a.createElement("span",{className:C.a.sentButton},"edit"==i?h.a.createElement(A.a,{text:I.h.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",onClick:p,status:v?"loading":"none",dataId:"edit_"+g}):b?f?h.a.createElement("span",{className:C.a.commentButton},f?h.a.createElement("div",{className:C.a[j]+" "+(v?"":C.a.isActive)},v?h.a.createElement(A.a,{status:"loading",palette:"primaryFilled",size:"medium",className:C.a.loading}):h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:C.a.content,"data-id":g,onClick:u},h.a.createElement("p",{className:C.a.actionType},I.h.getI18NValue("tabs.request.comment")),h.a.createElement("p",{className:C.a.subtitle},m?I.h.getI18NValue("support.request.public"):I.h.getI18NValue("support.department.type.internal"))),h.a.createElement("span",{className:C.a.arrow,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.togglePopup(t)},"data-id":"switchingButton"},h.a.createElement(_.a,{name:"ZD-blockDownArrow",size:"6"})))):h.a.createElement(A.a,{text:I.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:u,status:v?"loading":"none"}),h.a.createElement("div",{className:C.a.buttonAction+" "+(y?C.a.active:"")+" "+("leftPanel"==l?C.a.commentLeftPopup:" "),onClick:w.a,"data-id":"switchingButton_Options"},h.a.createElement("div",{className:C.a.switchAction,onMouseDown:this.changeMode},h.a.createElement("p",null,h.a.createElement("span",{className:C.a.actionNotify},I.h.getI18NValue("support.request.public")),h.a.createElement("span",{className:C.a.switchbox},h.a.createElement(k.a,{id:"commentPrivate",name:"commentPrivate",size:"small",checked:m,dataId:"switch"}))),h.a.createElement("p",{className:C.a.actionSubtitle},I.h.getI18NValue("support.solutions.comments.display.in.customer.self.service.portal"))))):h.a.createElement(A.a,{text:I.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:u,status:v?"loading":"none"}):h.a.createElement(A.a,{text:I.h.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:u,dataId:"saveButtonId",status:v?"loading":"none"})),h.a.createElement("span",{className:C.a.clearButton},h.a.createElement(A.a,{text:"edit"==i||"task"==l||"conversation"==i&&""==d?I.h.getI18NValue("support.label.cancel"):I.h.getI18NValue("support.request.clear"),palette:"secondary",size:"medium",disabled:N,onClick:function(){"edit"==i||"task"==l?(n&&o&&o(),a()):"conversation"==i?s():r()},dataId:"clearButton"})))}}]),t}(h.a.Component);t.a=N,N.propTypes={addComment:b.a.func,changeMode:b.a.func,clearComment:b.a.func,closeComment:b.a.func,content:b.a.string,dataId:b.a.string,from:b.a.string,hasPrivacyMode:b.a.bool,havePublicComment:b.a.bool,isCommentChanged:b.a.bool,isLoading:b.a.bool,isPublic:b.a.bool,module:b.a.string,revertIsCommentChanged:b.a.func,toggleComment:b.a.func,type:b.a.string,updateComment:b.a.func}},"./src/components/Subtab/CommentBox/CommentBox.js":function(e,t,o){"use strict";(function(e){var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=o.n(f),g=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),C=o.n(g),v=o("./src/components/Subtab/CommentBox/CommentBox.module.css"),_=o.n(v),y=o("./src/components/avatar/AvatarThread/AvatarThread.js"),k=o("./src/components/Subtab/UploadList/UploadList.js"),I=o("./src/components/Subtab/CommentActionButton/CommentActionButton.js"),E=o("./src/fz-i18n/index.js"),j=o("./src/utils/Attachment.js"),A=o("./src/utils/Common.js"),w=o("./src/utils/DataStorage.js"),N=o("./src/utils/Editor.js"),x=o("../components/lib/Layout/index.js"),O=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),P=o.n(O),z=o("./src/components/TextEditor/TextEditor.js"),S=o("./src/components/Subtab/UploadPopup/UploadPopup.js"),T=function(t){function o(e){l()(this,o);var t=u()(this,(o.__proto__||r()(o)).call(this,e)),n=t.props,a=n.value,s=n.attachments;return t.state={content:a||"",oldAttachments:s||[],newAttachments:[],isAttachmentUploading:!1,isDragOver:!1,mode:"private",showTools:w.a.getItem("showCommentTools"),isAttachmentModified:!1,isLoading:!1},t._isMounted=!1,t.uploadAttach=t.uploadAttach.bind(t),t.deleleUpload=t.deleleUpload.bind(t),t.removeAttachment=t.removeAttachment.bind(t),t.updateComment=t.updateComment.bind(t),t.clearComment=t.clearComment.bind(t),t.toggleComment=t.toggleComment.bind(t),t.dragEnter=t.dragEnter.bind(t),t.dragLeave=t.dragLeave.bind(t),t.attachDrop=t.attachDrop.bind(t),t.changeMode=t.changeMode.bind(t),t.toggleTools=t.toggleTools.bind(t),t.commentCallback=t.commentCallback.bind(t),t.checkCommentChanged=t.checkCommentChanged.bind(t),t.addComment=t.addComment.bind(t),t.dragAttach=t.dragAttach.bind(t),t.addCloudAttch=t.addCloudAttch.bind(t),t.openCloudAttach=t.openCloudAttach.bind(t),t.closeCloudAttach=t.closeCloudAttach.bind(t),t.closeComment=t.closeComment.bind(t),t}return h()(o,t),d()(o,[{key:"componentWillReceiveProps",value:function(e){e.oldAttachments==this.props.oldAttachments&&e.value==this.props.value&&e.newAttachments==this.props.newAttachments||this.setState({content:e.value||"",oldAttachments:e.oldAttachments||[],newAttachments:e.newAttachments||[]})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"addComment",value:function(){var e=this,t=this.state,o=t.mode,n=t.isCommentAdding,a=this.props,s=a.attachmentIds,r=a.hasAttachments,i=void 0===r||r,l=a.hasPrivacyMode,c=void 0===l||l;if(!n){var d=editor["Comment_"+this.props.id],m=d.mentionsList,u=d.mentionsHandler("val");if(this.isValid(d)){var p="public"==o,h=this.props,f=h.revertIsCommentChanged,b=h.addComment;h.isCommentChanged&&f&&f(),this.setState({isCommentAdding:!0});var g={content:u};i&&(g.attachmentIds=s),c&&(g.isPublic=p),this.setState({isLoading:!0}),b(g,m,function(){e._isMounted&&(e.setState({oldAttachments:[],newAttachments:[],isAttachmentModified:!1,isCommentAdding:!1,mode:"private"}),e.props.setAttachmentIds([]),e.clearComment()),e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:E.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1,isCommentAdding:!1})})}}}},{key:"updateComment",value:function(){var e=this,t=this.props,o=t.id,n=t.value,a=t.revertIsCommentChanged,s=t.isCommentChanged,r=t.updateComment,i=t.attachmentIds,l=editor["Comment_"+o],c=l.mentionsList,d=l.mentionsHandler("val");s&&a&&a(),this.setState({isAttachmentModified:!1}),this.isValid(l)&&(this.setState({isLoading:!0}),r(o,d,i,n,c,function(){e.setState({isLoading:!1})},function(){e.props.showMessage({type:"alert",message:E.h.getI18NValue("support.unable.to.process.your.request")}),e.setState({isLoading:!1})}))}},{key:"isValid",value:function(t){var o=this.state.isAttachmentUploading,n=this.props.attachmentIds,a=!0,s=t.getContent();return o?(a=!1,this.props.showMessage({type:"alert",message:E.h.getI18NValue("support.attachment.upload.process")})):Object(N.d)(t)&&!n.length?(a=!1,this.props.showConfirmBox({type:"alert",submitText:E.h.getI18NValue("crm.button.ok"),title:E.h.getI18NValue("support.history.operation.label.wfalert"),message:E.h.getI18NValue("support.contact.comment.empty"),isActive:!0,palette:"danger"}).then(function(){deleteComment(id,commentId,e)}).catch(function(){})):s.length>32e3&&(a=!1,this.props.showMessage({type:"alert",message:E.h.getI18NValue("support.comment.limit.exceeded")})),a}},{key:"addCloudAttch",value:function(e,t,o){var n=this,s=this.state,r=s.newAttachments,i=s.oldAttachments.length+r.length+o,l={index:i,href:null,isPreview:!0,name:e.name};this.setState(function(e){var t=a()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,i,function(e,t){var o=n.state.newAttachments.map(function(o){return o.index===t?a()({},o,{percentComplete:e}):o});n.setState({newAttachments:o})}).then(function(e){var t=e.data,o=n.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});n.setState({newAttachments:o});var a=n.props,s=a.attachmentIds,r=a.setAttachmentIds;s.push(t.data.id),r(s);var i=n.props,l=i.isCommentChanged,c=i.setIsCommentChanged;!l&&c&&c(),n.setState({isAttachmentModified:!0})},function(){n.setState(function(e){var t=a()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return i!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,o=this.state,n=o.newAttachments,s=o.oldAttachments.length+n.length,r=e.target?e.target.files:e,i=r.length,l=Object(j.p)(r,s),c=l.inValidArray,d=l.validArray,m=this.props.showMessage;if(l.isCountExceeds)m({type:"alert",message:E.h.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c.length)for(var u=0;u<c.length;u++){var p=c[u];p.isUnSupported&&m({type:"alert",message:E.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&m({type:"alert",message:E.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&m({type:"alert",message:E.h.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&m({type:"alert",message:E.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d.length&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var o=function(o){var n=d[o],r=new FormData;r.append("file",n);var l=s+o,m=Object(j.g)(n,l);t.setState(function(e){var t=a()({},e);return t.newAttachments.push(m),t}),t.props.uploadAttach(r,l,function(e,o){var n=t.state.newAttachments.map(function(t){return t.index===o?a()({},t,{percentComplete:e}):t});t.setState({newAttachments:n})}).then(function(o){if(o){var n=o.data;e+=1;var a=t.state.newAttachments.map(function(e){return e.index===n.data.index?n.data:e});t.setState({newAttachments:a});var s=t.props,r=s.attachmentIds,l=s.setAttachmentIds;r.push(n.data.id),l(r);var d=t.props,m=d.isCommentChanged,u=d.setIsCommentChanged;!m&&u&&u(),t.setState({isAttachmentModified:!0}),e+c.length==i&&t.setState({isAttachmentUploading:!1})}}).catch(function(e){t.setState(function(t){var o=a()({},t);return o.newAttachments=o.newAttachments.filter(function(t){return e.attachIndex!==t.index}),o})})},n=0;n<d.length;n++)o(n)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(o){var n=a()({},o);n.newAttachments=n.newAttachments.filter(function(t){return e!==t.id});var s=t.props,r=s.isCommentChanged,i=s.setIsCommentChanged,l=s.revertIsCommentChanged;return n.newAttachments.length?(!r&&i&&i(),t.setState({isAttachmentModified:!0})):(r&&l&&l(),t.setState({isAttachmentModified:!1},function(){return[t.checkCommentChanged()]})),n});var o=t.props,n=o.attachmentIds;(0,o.setAttachmentIds)(n.filter(function(t){return e!==t}))})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(o){var n=a()({},o);n.oldAttachments=n.oldAttachments.filter(function(t){return e!==t.id});var s=t.props,r=s.isCommentChanged,i=s.setIsCommentChanged;return!r&&i&&i(),t.setState({isAttachmentModified:!0}),n});var o=this.props,n=o.attachmentIds;(0,o.setAttachmentIds)(n.filter(function(t){return e!==t}))}},{key:"clearComment",value:function(){this.setState({content:""});var e=editor["Comment_"+this.props.id];e.setContent(""),Object(A.S)(e.doc)}},{key:"toggleComment",value:function(){if(""==this.state.content)this.props.toggleComment();else{var e=this.props,t=e.revertIsCommentChanged;e.isCommentChanged&&t&&t(),this.setState({isAttachmentModified:!1}),this.clearComment()}}},{key:"dragEnter",value:function(){this.setState({isDragOver:!0})}},{key:"dragLeave",value:function(){this.setState({isDragOver:!1})}},{key:"attachDrop",value:function(e){var t=e.nativeEvent.dataTransfer;Object(j.j)(t,e)&&(e.preventDefault(),this.uploadAttach(t.files),this.setState({isDragOver:!1})),e.stopPropagation(),this.setState({isDragOver:!1})}},{key:"dragAttach",value:function(e){this.uploadAttach(e)}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?w.a.setItem("showCommentTools",!0):w.a.setItem("showCommentTools",!1)})}},{key:"commentCallback",value:function(e){var t=this,o=this.props.mention,n=(void 0===o?[]:o).map(function(e){var t=e.type,o=e.name,n=e.zuid,a=e.id,s=e.firstName,r=e.lastName,i=e.photoURL,l=Object(A.e)(s,r);return"AGENT"==t?{avatar:i,id:n,name:l,type:"user",value:l}:{id:a,name:o,type:"team",value:o}});e.mentionsHandler("setMentions",n),ZohoDeskEditor._addEvent(e.doc,"keyup",function(){setTimeout(function(){t.checkCommentChanged(e)},1)})}},{key:"checkCommentChanged",value:function(e){e=e||editor["Comment_"+this.props.id];var t=this.props,o=t.value,n=t.type,a=t.isCommentChanged,s=t.setIsCommentChanged,r=t.revertIsCommentChanged,i=this.state.isAttachmentModified,l=e.getContent()||"";"edit"==n?o==l?!i&&a&&r&&r():!a&&s&&s():Object(N.d)(e)?(this.setState({content:""}),!i&&a&&r&&r()):(this.setState({content:l}),!a&&s&&s())}},{key:"openCloudAttach",value:function(){this.setState({isCloudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCloudOpen:!1})}},{key:"closeComment",value:function(){var e=this.props,t=e.id,o=e.closeComment;o(t)}},{key:"render",value:function(){E.h.getI18NValue("support.create.form.label.attachment.mycomputer"),E.h.getI18NValue("support.create.form.label.attachment.cloud");var e=this.props,t=e.type,o=e.orgId,n=e.id,a=e.from,s=e.showAttachmentViewer,r=e.photoURL,i=e.name,l=e.borderStyle,c=e.revertIsCommentChanged,d=e.isCommentChanged,m=e.editorMode,u=void 0===m?"CommentEditor":m,p=e.isFromBlueprint,h=e.hasPrivacyMode,f=void 0===h||h,g=e.hasAttachments,C=void 0===g||g,v=e.isCloudAttchOpen,j=e.CloudAttachmentIframe,A=e.havePublicComment,w=e.needAttachment,N=e.getAutofillContacts,O=e.showMessage,T=this.state,D=T.content,B=void 0===D?"":D,L=T.oldAttachments,M=T.newAttachments,R=T.isDragOver,U=T.mode,K=T.showTools,V=T.isCloudOpen,Z=T.isLoading,F={handleAutoFill:!0,needEditorFocus:"feeds"!=a&&!p,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:N,handleInlineDropImage:this.dragAttach},H="public"==U,q=_.a.postbox;return"leftPanel"==a&&(q=q+" "+_.a.minW319),q="bottom"==l?q+" "+_.a.defaultborder:q+" "+_.a.fullborder,b.a.createElement("div",{className:q+" "+(p?_.a.bluePrintLayar:""),onDragEnter:this.dragEnter,onDragOver:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.attachDrop},R&&b.a.createElement("div",{className:_.a.attachOver},E.h.getI18NValue("support.request.attachment.drop.files")),b.a.createElement("div",{"data-id":"commentBox",className:_.a.postHeader},p?null:b.a.createElement("span",{className:_.a.postAvatar},b.a.createElement(y.a,{src:r,name:i,size:"xsmall",iconName:"conversation"==t&&"ZD-zdeskCommentfilled",borderPalette:"conversation"==t&&"primary",iconColor:"conversation"==t&&"primary",iconSize:"conversation"==t?"8":"10"})),b.a.createElement("div",{className:_.a.commentBox+" "+(K?"":"hideTools")+" "},b.a.createElement(z.a,{id:"Comment_"+n,value:B,editorCallback:this.commentCallback,editorMode:u,editorOptions:F,type:"leftPanel"==a?"mini":"small",border:"borderNone"})),C?b.a.createElement("div",{className:_.a.attachHolder+" "+(K?_.a.attachHolderVisi:"")},b.a.createElement(k.a,{oldAttachments:L,newAttachments:M,orgId:o,deleleUpload:this.deleleUpload,removeAttachment:this.removeAttachment,from:a,showAttachmentViewer:s})):null),b.a.createElement(x.Container,{alignBox:"row",className:"leftPanel"==a?_.a.leftFooter+" "+_.a.postFooter:_.a.postFooter},b.a.createElement(x.Box,{className:_.a.commentOptions},b.a.createElement("span",{className:_.a.listIcon},C&&w?b.a.createElement("span",{className:_.a.attachParent+" "+("edit"==t?_.a.bdrNone+" "+_.a.attchIcn:"leftPanel"==a?_.a.bdrNone+" "+_.a.mt0+" "+_.a.attchIcn:_.a.attchIcn),"data-id":"AttachIcon"},b.a.createElement("label",{className:_.a.fileCont,htmlFor:"commentAttach"+n},b.a.createElement("input",{className:_.a.fileAttch,type:"file",onChange:this.uploadAttach,multiple:"multiple",id:"commentAttach"+n})),b.a.createElement(P.a,{name:"ZD-attachment5",size:"14"}),"leftPanel"==a?b.a.createElement("div",{className:_.a.attchPopup},b.a.createElement(S.a,{labelName:"commentAttachLabel",boxPosition:"bottomRight",onAttchClick:this.uploadAttach,openCloudAttach:this.openCloudAttach})):null):null,C&&"leftPanel"!=a&&w?b.a.createElement("span",{className:_.a.iconCloud,onClick:this.openCloudAttach},b.a.createElement(P.a,{name:"ZD-cloudIcon",size:"12"})):null,b.a.createElement("span",{"data-title":E.h.getI18NValue("support.label.comments.format"),className:_.a.iconAttach,onClick:this.toggleTools},"A"))),p?null:b.a.createElement(I.a,{revertIsCommentChanged:c,isCommentChanged:d,closeComment:this.closeComment,updateComment:this.updateComment,toggleComment:this.toggleComment,clearComment:this.clearComment,type:t,from:a,isPublic:H,changeMode:this.changeMode,content:B,addComment:this.addComment,hasPrivacyMode:f,havePublicComment:A,isLoading:Z,dataId:"saveButtonId"}),v&&V&&j?b.a.createElement(j,{addCloudAttch:this.addCloudAttch,totalLen:L.length+M.length,closeIframe:this.closeCloudAttach,showMessage:O}):null))}}]),o}(b.a.Component);t.a=T,T.propTypes={CloudAttachmentIframe:C.a.node,addComment:C.a.func,attachmentIds:C.a.func,attachments:C.a.object,borderStyle:C.a.string,closeComment:C.a.func,deleleUpload:C.a.func,editorMode:C.a.string,from:C.a.string,getAutofillContacts:C.a.func,hasAttachments:C.a.bool,hasPrivacyMode:C.a.bool,havePublicComment:C.a.bool,id:C.a.string,isCloudAttchOpen:C.a.bool,isCommentChanged:C.a.bool,isFromBlueprint:C.a.bool,mention:C.a.array,name:C.a.string,needAttachment:C.a.bool,newAttachments:C.a.object,oldAttachments:C.a.object,openCloudAttach:C.a.func,orgId:C.a.string,page:C.a.string,photoURL:C.a.string,revertIsCommentChanged:C.a.func,setAttachmentIds:C.a.func,setIsCommentChanged:C.a.func,showAttachmentViewer:C.a.func,showConfirmBox:C.a.func,showMessage:C.a.func,toggleComment:C.a.func,type:C.a.string,updateComment:C.a.func,uploadAttach:C.a.func,uploadCloudAttachment:C.a.func,value:C.a.string},T.defaultProps={borderStyle:"bottom",isFromBlueprint:!1,needAttachment:!0}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/Subtab/CommentsList/CommentsList.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/Subtab/CommentsList/CommentsList.module.css"),C=o.n(g),v=o("./src/components/avatar/AvatarThread/AvatarThread.js"),_=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),y=o.n(_),k=o("./src/fz-i18n/index.js"),I=o("./src/components/Subtab/ThreadAttachments/ThreadAttachments.js"),E=o("./src/components/MorePopup/MorePopup.js"),j=o("./src/utils/Common.js"),A=o("./src/utils/loadResource.js"),w=o("./src/constants/index.js"),N=o("../components/lib/Layout/index.js"),x=(o("./src/components/Link/Link.js"),function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={editedId:"conversation"==o.props.page?o.props.editedId:""},o.attachRef={},o.closeComment=o.closeComment.bind(o),o.editComment=o.editComment.bind(o),o.updateComment=o.updateComment.bind(o),o.focusOnAttachments=o.focusOnAttachments.bind(o),o.setAttachmentRef=o.setAttachmentRef.bind(o),o.openMentionAgent=o.openMentionAgent.bind(o),o.showCommentHistory=o.showCommentHistory.bind(o),o}return u()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){e.editedId!=this.props.editedId&&this.setState({editedId:e.editedId})}},{key:"showCommentHistory",value:function(e){var t=this.props.showCommentHistory;t(e)}},{key:"setAttachmentRef",value:function(e,t){this.attachRef[t]=e}},{key:"constructMoreObj",value:function(){var e=this.props,t=e.haveCommentEditPermission,o=e.haveCommentDeletePermission,n=[];return t&&n.splice(0,0,{name:k.h.getI18NValue("crm.label.edit"),iconName:"ZD-pen2",size:"14"}),o&&n.splice(t?1:0,0,{name:k.h.getI18NValue("support.permission.delete.comment"),iconName:"ZD-delete2",size:"14"}),n}},{key:"editComment",value:function(e){var t=this,o=function(){var o=t.props,n=o.page,a=o.editComment;"conversation"==n?a(e):t.setState({editedId:e})};"undefined"==typeof ZohoDeskEditor?Object(A.a)(w.k,"js","ZohoDeskEditor").then(o):o()}},{key:"closeComment",value:function(){var e=this.props,t=e.page,o=e.closeComment;"conversation"==t?o():this.setState({editedId:""})}},{key:"updateComment",value:function(e,t,o,n,a,s,r){var i=this,l=this.props,c=l.updateComment,d=l.hasAttachments,m={content:t};(void 0===d||d)&&(m.attachmentIds=o),c(e,m,n,a,function(e){i.closeComment(),s&&s(e)},function(e){r&&r(e)})}},{key:"focusOnAttachments",value:function(e){Object(j.l)(this.props.scrollCont,this.attachRef[e].offsetTop-10)}},{key:"replaceMentions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments[2];return t.length&&(e=e.replace(/zsu[@[a-z]+(#|:).+?]zsu/g,function(e,n){var a=e,s=e.split("zsu[")[1].slice(0,-4);if(0==s.indexOf("@")){if(-1!==s.indexOf("user")){for(var r=s.replace("@user#","").replace("@user:","").split("_")[0],i={},l=0;l<t.length;l++)r!=t[l].zuid&&r!=t[l].id||(i=t[l]);var c=i,d=c.id,m=c.name,u=c.firstName,p=c.lastName,h=m||Object(j.e)(u,p);return o?h:'<a class="'+C.a.mention+'" data-agent-id="'+(o?null:d)+'" >'+h+"</a>"}for(var f=s.replace("@team#","").replace("@team:","").split("_")[0],b={},g=0;g<t.length;g++)f==t[g].id&&(b=t[g]);return o?b.name:"<a class="+C.a.mention+">"+b.name+"</a>"}if(0==s.indexOf("#")&&-1==s.indexOf("activity")){var v=s.split(":"),_=v[0],y=v[2];return o?_:"<a class="+C.a.mention+" href='#Cases/dv/"+y+'\' onclick="return false">'+_+"</a>"}return a})),e}},{key:"openMentionAgent",value:function(e){e.preventDefault();var t=e.target.getAttribute("data-agent-id");t&&this.props.openAgent(t)}},{key:"render",value:function(){var e=this,t=this.props,o=t.comments,n=t.orgId,a=t.page,s=t.deleteComment,r=t.uploadAttach,i=t.deleleUpload,l=t.from,c=t.showAttachmentViewer,d=t.downloadAttachment,m=t.setIsCommentChanged,u=t.revertIsCommentChanged,p=t.isCommentChanged,f=t.isAdminUser,b=t.hasPrivacyMode,g=void 0===b||b,_=t.haveCommentEditPermission,j=t.haveCommentDeletePermission,A=t.currentUserId,w=t.hasAttachments,x=void 0===w||w,O=t.CommentBoxContainer,P=t.isReadOnly,z=t.openAgent,S=t.departmentId,T=this.state.editedId,D=h.a.createElement(y.a,{name:"ZD-more",size:"20"}),B=C.a.tname;return"leftPanel"==l&&(B=B+" "+C.a.mw100),o.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[1],b=t.id,w=t.commenter,L=t.commenterId,M=t.attachments,R=t.content,U=t.mention,K=t.isPublic,V=t.commentedTime,Z=t.modifiedTime,F=w||{},H=F.name,q=F.photoURL,G=F.type,W=(L==A||f)&&(_||j);return b===T?h.a.createElement(O,{id:b,isCommentChanged:p,setIsCommentChanged:m,revertIsCommentChanged:u,key:"comment"+T,type:"edit",attachments:M,value:e.replaceMentions(R,U,!0),mention:U,orgId:n,closeComment:e.closeComment,page:a,uploadAttach:r,deleleUpload:i,updateComment:e.updateComment,showAttachmentViewer:c,hasAttachments:x,hasPrivacyMode:g,dataId:"commentListEdited_"+b,departmentId:S}):h.a.createElement(N.Container,{isCover:!1,alignBox:"row",className:"leftPanel"==l?C.a.leftList+" "+C.a.threadList:C.a.threadList,key:o,id:b,dataId:"commentList_"+b},h.a.createElement(N.Box,{className:C.a.cleft},h.a.createElement(v.a,{name:H,src:"null"!=q?q:null,size:"xmedium",iconName:"comment"!=a&&"task"!=l&&"ZD-zdeskCommentfilled",borderPalette:"comment"!=a&&"primary",iconColor:"comment"!=a&&"primary",iconSize:"comment"!=a?"8":"10",onClick:function(){"AGENT"==G&&z&&z(L)}})),h.a.createElement("div",{className:C.a.cRight},h.a.createElement("div",null,h.a.createElement("span",{className:B,"data-title":H,onClick:function(){"AGENT"==G&&z&&z(L)}},H),h.a.createElement("span",{className:C.a.prithrlist},g&&"leftPanel"!=l&&"task"!=l&&h.a.createElement("span",null,K?h.a.createElement("span",{className:C.a.thrdate},h.a.createElement(k.c,{i18NKey:"support.request.public"})):h.a.createElement("span",{className:C.a.thrdate},h.a.createElement(k.c,{i18NKey:"support.label.private"}))),h.a.createElement("span",{className:C.a.thrdate},h.a.createElement(k.e,{to:V,format:function(e){var t=e.years,o=e.days,n=e.months;e.hours;return 0==t&&0==o&&0==n?"hh:mm A":0==t&&o<7&&0==n?"ddd DD MMM":0==t&&n>1?"DD MMM":"DD MMM YYYY"},ago:"ago",later:"late"})),Z&&"leftPanel"!=l&&h.a.createElement("span",{className:C.a.thrdate+" "+C.a.editTxt,onClick:e.showCommentHistory.bind(e,b),"data-id":"CommentHistory","data-title":k.h.getI18NValue("support.request.history.commented.showhistory")},h.a.createElement(k.c,{i18NKey:"support.request.history.commented.editedtext"})))),h.a.createElement("div",{className:"leftPanel"==l&&C.a.mt12},h.a.createElement("p",{className:C.a.thrdPlain,onClick:e.openMentionAgent,dangerouslySetInnerHTML:{__html:e.replaceMentions(R,U)}})),M&&M.length?h.a.createElement("div",{className:C.a.attachCont,ref:function(t){e.setAttachmentRef(t,b)}},h.a.createElement(I.a,{data:M,downloadAttachment:d,showAttachmentViewer:c,orgId:n,size:"leftPanel"==l?"small":"medium",from:l})):null),h.a.createElement(N.Box,{className:C.a.moreOptions},"leftPanel"!=l&&W&&!P?h.a.createElement("span",{className:C.a.rgt+" "+C.a.more},h.a.createElement(E.a,{objValues:e.constructMoreObj(),moreIcon:D,Icnsize:"16",onSelect:function(t){"Edit"==t?e.editComment(b):"Delete"==t&&s(b)},dataId:"commentMorePoup",listStyle:"alpha"})):null,"leftPanel"!=l&&M&&M.length?h.a.createElement("span",{"data-title":k.h.getI18NValue("support.attachments"),className:C.a.rgt+" "+C.a.posrel,onClick:function(){e.focusOnAttachments(b)}},h.a.createElement("span",{className:C.a.mailicn},h.a.createElement(y.a,{name:"ZD-attachment5",size:"11"})),h.a.createElement("span",{className:C.a.attachCount},M.length)):null))})}}]),t}(h.a.Component));t.a=x,x.propTypes={CommentBoxContainer:b.a.node,closeComment:b.a.func,comments:b.a.array,currentUserId:b.a.string,deleleUpload:b.a.func,deleteComment:b.a.func,departmentId:b.a.string,downloadAttachment:b.a.func,editComment:b.a.func,editedId:b.a.string,focusOnAttachments:b.a.func,from:b.a.string,getThread:b.a.func,hasAttachments:b.a.bool,hasPrivacyMode:b.a.bool,haveCommentDeletePermission:b.a.bool,haveCommentEditPermission:b.a.bool,isAdminUser:b.a.bool,isCommentChanged:b.a.bool,isReadOnly:b.a.bool,name:b.a.string,openAgent:b.a.func,orgId:b.a.string,page:b.a.string,photoURL:b.a.string,renderCommentHistory:b.a.func,revertIsCommentChanged:b.a.func,scrollCont:b.a.object,setIsCommentChanged:b.a.func,showAttachmentViewer:b.a.func,showConfirmBox:b.a.func,showMessage:b.a.func,updateComment:b.a.func,uploadAttach:b.a.func,showCommentHistory:b.a.func}},"./src/components/Subtab/Loading/Loading.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("./src/components/Subtab/Loading/SubtabLoading.module.css"),b=o.n(f),g=o("../components/lib/Layout/index.js"),C=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(g.Container,{alignBox:"row",align:"both",className:b.a.container},h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}),h.a.createElement(g.Box,{className:b.a.dot}))}}]),t}(h.a.Component);t.a=C},"./src/components/Subtab/SubtabEmptystate/SubtabEmptystate.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/SVG/EmptyCloud.js"),C=o("./src/fz-i18n/index.js"),v=o("./src/components/Link/Link.js"),_=o("./src/components/Subtab/SubtabEmptystate/SubtabEmptystate.module.css"),y=o.n(_),k=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.subtabName,o=e.link,n=e.noNeedToShowAdd,a=e.noNeedToShowHelp,s=e.emptyMessage1,r=e.emptyMessage2,i=e.children,l=e.needClickHere,c=e.onClick,d=e.dataId;return t=t&&t.toLowerCase(),h.a.createElement("div",{className:y.a.emptyImgdiv,"data-id":d},h.a.createElement("div",{className:y.a.emptyImgbg},h.a.createElement(g.a,null)),h.a.createElement("div",{className:y.a.txtGrop},h.a.createElement("div",{className:y.a.dtemptytxt},s||h.a.createElement("span",null,C.h.getI18NValue("support.tab.empty.message",[t]))),!n&&h.a.createElement("div",{className:y.a.dtemptysubtxt},C.h.getI18NValue("support.tab.add.message",[t]),h.a.createElement("span",{className:y.a.plr10},i)," ",C.h.getI18NValue("support.icon")),r&&h.a.createElement("div",{className:y.a.dtemptysubtxt},h.a.createElement("span",null,r),l?h.a.createElement("span",{className:y.a.clickHere,onClick:c},C.h.getI18NValue("support.api.click.here")):null),!a&&h.a.createElement("div",null,h.a.createElement("div",{className:y.a.dtemptysubtxt2},C.h.getI18NValue("tab.request.emptypages.learnmore"),h.a.createElement(v.a,{className:y.a.slalink,target:"_blank",href:o},C.h.getI18NValue("support.api.click.here"))))))}}]),t}(h.a.Component);t.a=k,k.propTypes={children:b.a.node,dataId:b.a.string,emptyMessage1:b.a.string,emptyMessage2:b.a.string,link:b.a.string,needClickHere:b.a.bool,noNeedToShowAdd:b.a.bool,noNeedToShowHelp:b.a.bool,onClick:b.a.func,subtabName:b.a.string},k.defaultProps={needClickHere:!1}},"./src/components/Subtab/ThreadAttachments/ThreadAttachments.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/Subtab/ThreadAttachments/ThreadAttachments.module.css"),C=o.n(g),v=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),_=o.n(v),y=o("./src/utils/Attachment.js"),k=o("./src/components/Link/Link.js"),I=o("./src/fz-i18n/index.js"),E=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.data,n=t.orgId,a=t.showAttachmentViewer,s=t.size,r=t.neNeedToDownload,i=t.dataId,l=Object(y.h)(o);return h.a.createElement("div",null,h.a.createElement("div",{className:C.a.AttachCount,"data-id":i},h.a.createElement("span",{className:C.a.mr6},o.length),h.a.createElement("span",null,h.a.createElement(I.c,{i18NKey:o.length>1?"label.attachments":"support.feedback.attachment"})),h.a.createElement("span",{className:C.a.ml6},"(",Object(y.f)(l),")")),o.map(function(t,i){var l=t.name,c=t.downloadUrl,d=t.href,m=t.id,u=t.viewUrl,p=t.size,f=Object(y.l)(l)||Object(y.i)(l);return c=c||d,h.a.createElement("div",{className:C.a.docspan,key:i,onClick:r?null:f?y.b.bind(e,m,o,function(e){a(e)}):y.n.bind(e,u||d,n),"data-id":1===o.length?"threadAttch":"threadAttch_"+i},h.a.createElement("span",{className:C.a.attachment+" "+C.a[s]},h.a.createElement("div",{className:C.a.attachleft},h.a.createElement(_.a,{name:Object(y.d)(l),iconClass:C.a.attachIcon})),h.a.createElement("div",{className:C.a.attachright},h.a.createElement("span",{className:C.a.atatchName,"data-title":l},l),h.a.createElement("span",{className:C.a.attachSize},Object(y.f)(p))),r?null:h.a.createElement(k.a,{target:"_self",href:Object(y.a)(c,n),className:C.a.attachDownload,title:I.h.getI18NValue("support.label.download")},h.a.createElement(_.a,{name:"ZD-downloadNew",iconClass:C.a.downIcon}))))}))}}]),t}(h.a.Component);t.a=E,E.propTypes={data:b.a.array,dataId:b.a.string,downloadAttachment:b.a.func,neNeedToDownload:b.a.bool,orgId:b.a.string,showAttachmentViewer:b.a.func,size:b.a.string},E.defaultProps={size:"medium"}},"./src/components/Subtab/UploadList/UploadList.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/Subtab/UploadList/UploadList.module.css"),C=o.n(g),v=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),_=o.n(v),y=o("./src/components/Image/Image.js"),k=o("../components/lib/Layout/index.js"),I=o("./src/utils/Attachment.js"),E=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.constructPreviewData=o.constructPreviewData.bind(o),o}return u()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,o=e.indexOf("/api"),n=e.slice(o,e.length);return n+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,o=t.oldAttachments,n=t.newAttachments,a=t.showAttachmentViewer,s=o.length?o.concat(n):n;Object(I.b)(e,s,function(e){a(e)})}},{key:"constructAttachItem",value:function(e,t){var o=e.id,n=e.isPreview,a=e.viewUrl,s=e.href,r=e.name,i=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,m=d.deleleUpload,u=d.removeAttachment,p=a||(n?s:this.constructImgURL(s)),f=Object(I.i)(r),b=Object(I.l)(r)||f,g=Object(I.f)(i),v=Object(I.d)(r),k=b?r+" - ("+g+")":r;return h.a.createElement("div",{className:C.a.upload+" "+(f?C.a.isAudio:"")+" "+(n?C.a.preview:""),"data-title":k},n?h.a.createElement("div",{className:C.a.loader,style:{width:c+"%"}}):null,b?h.a.createElement(y.a,{onClick:!n&&this.constructPreviewData.bind(this,o),src:p,className:C.a.uploadimage+" ",alt:"Uploaded Image"}):h.a.createElement("div",{className:C.a.attachInfo,onClick:this.openNewTab.bind(this,p)},h.a.createElement(_.a,{name:v,iconClass:C.a.fileIcon}),h.a.createElement("span",{className:C.a.attachsize},g)),n?null:h.a.createElement("span",{className:C.a.uploadclose,onClick:n?null:"new"==t?m.bind(this,o):u.bind(this,o),"data-id":"deleteUpload"},h.a.createElement(_.a,{name:"ZD-close"})))}},{key:"render",value:function(){var e=this,t=this.props,o=t.oldAttachments,n=t.newAttachments,a=t.from,s=t.isPeekView,r=C.a.attachList;return"leftPanel"==a?r+=" ":"replyEdtior"==a&&(r=s?r+" "+C.a.peekReplyAttach:r+" "+C.a.replyAttach),o&&o.length||n&&n.length?h.a.createElement(k.Container,{alignBox:"row",scroll:"horizontal",className:r,dataId:"attachmentList"},o&&o.length?o.map(function(t,o){return h.a.createElement(k.Box,{key:o},e.constructAttachItem(t,"old"))}):null,n&&n.length?n.map(function(t,o){return h.a.createElement(k.Box,{key:o,dataId:t.name.toLowerCase().replace(".","_")},e.constructAttachItem(t,"new"))}):null):null}}]),t}(h.a.Component);t.a=E,E.propTypes={data:b.a.object,deleleUpload:b.a.func,from:b.a.string,isPeekView:b.a.bool,newAttachments:b.a.array,oldAttachments:b.a.array,orgId:b.a.string,removeAttachment:b.a.func,showAttachmentViewer:b.a.func}},"./src/components/Subtab/UploadPopup/UploadPopup.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("../components/lib/DropBox/DropBox.js"),C=o.n(g),v=o("../components/lib/ListItem/ListItemWithIcon.js"),_=o.n(v),y=o("./src/fz-i18n/index.js"),k=o("./src/components/Subtab/UploadPopup/UploadPopup.css"),I=o.n(k),E=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,o=e.bottom,n=e.left,a=e.onAttchClick,s=e.openCloudAttach,r=e.labelName;return h.a.createElement(C.a,{size:"small",boxPosition:t,isActive:!0,bottom:o,left:n},h.a.createElement("label",{htmlFor:r},h.a.createElement(_.a,{autoHover:!0,value:y.h.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"ZD-emptyfle",dataId:"fileAttach"}),h.a.createElement("input",{className:I.a.fileCont,type:"file",multiple:"multiple",id:r,onChange:a})),h.a.createElement(_.a,{autoHover:!0,value:y.h.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"ZD-cloudicn",onClick:s,dataId:"cloudAttach"}))}}]),t}(p.Component);t.a=E,E.propTypes={bottom:b.a.string,boxPosition:b.a.string,labelName:b.a.string,left:b.a.string,onAttchClick:b.a.func,openCloudAttach:b.a.func}},"./src/components/TextEditor/TextEditor.js":function(e,t,o){"use strict";(function(e){var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),b=o.n(f),g=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),C=o.n(g),v=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),_=o.n(v),y=o("../components/lib/Layout/index.js"),k=o("./src/utils/editorUtils.js"),I=o("./src/utils/bind.js"),E=(o("./src/components/TextEditor/ZohoDeskEditor_Init.js"),o("./src/components/TextEditor/TextEditor.module.css")),j=o.n(E),A=function(t){function o(e){d()(this,o);var t=h()(this,(o.__proto__||l()(o)).call(this,e));t.state={isEditorLoad:!1};return I.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return b()(o,t),u()(o,[{key:"componentDidMount",value:function(){var t=this.props,o=t.id,n=t.value,a=t.editorMode,s=void 0===a?"":a,i=t.editorOptions,l=void 0===i?{}:i,c=t.needEditorFocus,d=void 0===c||c,m=t.mode;if(o&&e.ZohoDeskEditor){var u={id:o,content:n,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:m};u=r()(u,l),ZohoDeskEditor_Init.init(s),ZohoDeskEditor.create&&ZohoDeskEditor.create(u)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.id,n=t.chageEditorContent;t.value;e.isEmptyContent&&editor[o]&&editor[o].setContent(""),e.chageEditorContent!=n&&e.chageEditorContent&&void 0!==n&&editor[o].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,o=e.id,n=editor[o]?editor[o]:{},a=n.getContent?n.getContent():"";Object(k.a)(n)||(a=""),a="plaintext"===n.mode?Object(k.b)(a):a,t&&t(a.trim(),o)}},{key:"editorCallback",value:function(t){var o=this.props.editorCallback;this.setState({isEditorLoad:!0});var n=this.props.id;e.editor=e.editor||{},editor[n]||(editor[n]=t),o&&o(t)}},{key:"handleInlineUpload",value:function(e,t,o,n,a){this.handleUpload(e).then(function(e){var o={};o[0]={url:e,desc:a},t(o,n)},function(){o(n)})}},{key:"handleDropUpload",value:function(e,t,o){this.handleUpload(e).then(function(e){t(e)},function(){o()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,o,n){var a=void 0;"blob"===t?a=e:(a=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(a).then(function(e){o(e)},function(){n()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var o=new FormData;return o.append("file",e),t(o).then(function(e){var t=e.data||{},o=t.data,n=t.orgId,a=o||{},s=a.id,r=a.href;if(s)return r+"?orgId="+n;throw{}},function(e){throw e})}catch(e){return a.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.dataId,n=e.type,a=e.border,s=this.state.isEditorLoad;return C.a.createElement(y.Container,{className:j.a.textEditor+" "+j.a[n]+" "+j.a[a],dataId:o},!s&&C.a.createElement("div",{className:j.a.stencillist9},C.a.createElement("div",{className:j.a.stencilLoading}),C.a.createElement("div",{className:j.a.stencilLoading}),C.a.createElement("div",{className:j.a.stencilLoading}),C.a.createElement("div",{className:j.a.stencilLoading}),C.a.createElement("div",{className:j.a.stencilLoading}),C.a.createElement("div",{className:j.a.stencilLoading})),C.a.createElement(y.Box,{flexible:!0,id:t,dataId:o}))}}]),o}(g.Component);t.a=A,A.defaultProps={type:"large",border:"borderTop"},A.propTypes={blurCallback:_.a.func,chageEditorContent:_.a.bool,dataId:_.a.string,editorCallback:_.a.func,editorMode:_.a.string,editorOptions:_.a.object,id:_.a.string,mode:_.a.string,needEditorFocus:_.a.bool,onChange:_.a.func,onFocus:_.a.func,onUpload:_.a.func,value:_.a.string,type:_.a.oneOf(["large","xlarge","medium","small","mini"]),border:_.a.oneOf(["borderTop","borderAll","borderNone"])}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/TextEditor/ZohoDeskEditor_Init.js":function(e,t,o){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0,ZohoDeskEditor_Init.retainOldList=!0;var o=window.location.protocol,n="",a="com",s="",r=".zohostatic.";"US".indexOf("SKY")>-1&&(r=".skydeskstatic.",a="jp"),"US".indexOf("RO")>-1&&(s="-ro"),["LOC","DEV"].indexOf("US")>-1&&(n="local"),ZohoDeskEditor_Init.jsurl=o+"//"+n+"localjs"+s+r+a+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=o+"//"+n+"localcss"+s+r+a+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=o+"//"+n+"localimg"+s+r+a+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var i=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,i(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),i(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",i(6))}}).call(this,o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/webpack/buildin/global.js"))},"./src/components/avatar/AvatarThread/AvatarThread.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/avatar/AvatarThread/AvatarThread.module.css"),C=o.n(g),v=o("../components/lib/Avatar/Avatar.js"),_=o.n(v),y=o("./node_modules/@zohodesk/icons/lib/Icon/index.js"),k=o.n(y),I=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,n=e.size,a=e.iconColor,s=e.iconName,r=e.iconSize,i=e.borderPalette,l=e.onClick,c=e.title,d=e.iconTitle,m=e.onIconClick,u=e.showOnHover,p=e.dataId,f=u?C.a.hover:"";return h.a.createElement("div",{className:C.a.container+" "+f},h.a.createElement(_.a,{src:t,name:o,title:c,size:n,onClick:l,dataId:p}),s&&h.a.createElement("span",{className:C.a.thread+" "+C.a["border_"+i],"data-title":d,"data-id":"Remove Follower"===d&&"removeFollower",onClick:m},h.a.createElement("span",{className:C.a.icon},h.a.createElement(k.a,{name:s,size:r,iconClass:C.a["text_"+a]?C.a["text_"+a]:a}))))}}]),t}(h.a.Component);t.a=I,I.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},I.propTypes={borderPalette:b.a.oneOfType([b.a.string,b.a.bool]),iconColor:b.a.string,iconName:b.a.oneOfType([b.a.string,b.a.bool]),iconSize:b.a.oneOfType([b.a.string,b.a.bool]),iconTitle:b.a.string,name:b.a.string,onClick:b.a.func,onIconClick:b.a.func,showOnHover:b.a.bool,size:b.a.string,src:b.a.string,title:b.a.string}},"./src/components/lookup/Lookup/Lookup.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o.n(f),g=o("./src/components/FreezeLayer/FreezeLayer.js"),C=o("../components/lib/Layout/index.js"),v=o("./src/components/lookup/Lookup/Lookup.module.css"),_=o.n(v),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,o=e.elementMedia,n=e.children,a=e.size,s=e.dataId,r=e.forwardRef;return h.a.createElement(g.a,{align:"horizontal",animationName:"fade",childAnimationName:"flyDown",isActive:t,palette:"snow",forwardRef:r},h.a.createElement(C.ResponsiveContainer,{alignBox:"row",className:_.a.container,dataId:"fldValue",elementMedia:o},h.a.createElement("div",{className:_.a.box+" "+_.a["size_"+a],"data-id":s},n)))}}]),t}(p.Component);t.a=y,y.propTypes={children:b.a.node,dataId:b.a.string,elementMedia:b.a.object,isActive:b.a.bool,size:b.a.oneOf(["small","medium"])},y.defaultProps={size:"medium"}},"./src/containers/Subtab/CommentBox/CommentBox.js":function(e,t,o){"use strict";var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),b=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),g=o("./src/components/Subtab/CommentBox/CommentBox.js"),C=o("./src/reducers/selector.js"),v=o("./src/utils/debounce.js"),_=o("./src/utils/Common.js"),y=o("./src/actions/index.js"),k=o("./src/actions/AgentAction.js"),I=o("./src/actions/AttachmentActions.js"),E=o("./src/containers/asyncComponent.js"),j=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e)),n=[],s=o.props.attachments;if(s&&s.length)for(var i=0;i<s.length;i++)n.push(s[i].id);return o.state={from:0,limit:25,attachmentIds:n},o.getAutofillContacts=Object(v.a)(o.getAutofillContacts.bind(o),100,!0),o.getMentions=o.getMentions.bind(o),o.setAttachmentIds=o.setAttachmentIds.bind(o),o}return u()(t,e),l()(t,[{key:"setAttachmentIds",value:function(e){this.setState({attachmentIds:e})}},{key:"getAutofillContacts",value:function(e,t,o){var n=this,a=this.props,s=a.deptId,r=a.teamsList,i=a.getTeamsList;r.length?this.getMentions(e,t,o):i(s).then(function(){n.getMentions(e,t,o)})}},{key:"getMentions",value:function(e,t,o){var n=this,a=this.props,s=a.deptId,r=a.getAgentsList,i=a.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?i(e,c,d).then(function(a){n.setState({searchAgentList:a.data.result}),n.invokeMentionsCallback(t,o,e)}):(this.invokeMentionsCallback(t,o),r(s,c,d).then(function(){n.invokeMentionsCallback(t,o)}))}},{key:"invokeMentionsCallback",value:function(e,t,o){for(var n=this.state.searchAgentList,a=this.props,s=a.agentsObject,r=a.teamsObject,i=a.agentsList,l=a.teamsList,c=o?n:i,d=c?c.map(function(e){return s[e]}):[],m=l.map(function(e){return r[e]}),u=o?m.filter(function(e){return-1!=e.name.toLowerCase().indexOf(o.toLowerCase())}):m,p=d.concat(u),h=25*(e-1),f=h+25,b=[],g=0;g<p.length;g++){var C=p[g],v=C.id,y=C.zuid,k=C.name,I=C.isConfirmed,E=C.photoURL,j=C.firstName,A=C.lastName;if(C.subTeams){var w={id:v,name:k,value:k,type:"team",team:Object(_.u)(k)};b.push(w)}else if(I){var N={id:y,userId:v,avatar:E||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(_.e)(j,A),value:k,type:"user"};b.push(N)}}b.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),b=b.slice(h,f);var x={};x.results=b,x.isMore=b.length>0,t(x)}},{key:"render",value:function(){var e=this.props,t=e.type,o=e.orgId,n=e.id,a=e.from,s=e.showAttachmentViewer,r=(e.photoURL,e.name,e.borderStyle),i=e.isPeekView,l=e.value,c=e.revertIsCommentChanged,d=e.setIsCommentChanged,m=e.isCommentChanged,u=e.addComment,p=e.uploadAttach,f=e.deleleUpload,b=e.toggleComment,C=e.updateComment,v=e.closeComment,y=e.showConfirmBox,k=e.showMessage,I=e.page,j=e.oldAttachments,A=e.newAttachments,w=e.attachments,N=e.editorMode,x=e.myInfo,O=e.hasAttachments,P=e.hasPrivacyMode,z=e.openCloudAttach,S=e.isCloudAttchOpen,T=e.mention,D=e.isLightAgent,B=e.havePublicComment,L=e.uploadCloudAttachment,M=e.needAttachment;return h.a.createElement(g.a,{id:n,orgId:o,value:l,from:a,page:I,type:t,addComment:u,updateComment:C,closeComment:v,toggleComment:b,oldAttachments:j,newAttachments:A,attachments:w,uploadAttach:p,deleleUpload:f,showAttachmentViewer:s,isPeekView:i,isCommentChanged:m,setIsCommentChanged:d,revertIsCommentChanged:c,showConfirmBox:y,showMessage:k,borderStyle:r,getAutofillContacts:this.getAutofillContacts,editorMode:N,photoURL:x.photoURL,name:Object(_.e)(x.firstName,x.lastName),setAttachmentIds:this.setAttachmentIds,attachmentIds:this.state.attachmentIds,hasAttachments:O,hasPrivacyMode:P,openCloudAttach:z,isCloudAttchOpen:S,CloudAttachmentIframe:E.n,mention:T,havePublicComment:B&&!D,uploadCloudAttachment:L,needAttachment:M})}}]),t}(h.a.Component);j.propTypes={addComment:f.PropTypes.func,agentsList:f.PropTypes.array,agentsObject:f.PropTypes.object,attachments:f.PropTypes.object,borderStyle:f.PropTypes.string,closeComment:f.PropTypes.func,deleleUpload:f.PropTypes.func,deptId:f.PropTypes.string,editorMode:f.PropTypes.string,from:f.PropTypes.string,getAgentsList:f.PropTypes.func,getTeamsList:f.PropTypes.func,hasAttachments:f.PropTypes.bool,hasPrivacyMode:f.PropTypes.bool,havePublicComment:f.PropTypes.bool,id:f.PropTypes.string,isCloudAttchOpen:f.PropTypes.bool,isCommentChanged:f.PropTypes.bool,isLightAgent:f.PropTypes.bool,isPeekView:f.PropTypes.bool,mention:f.PropTypes.array,myInfo:f.PropTypes.object,needAttachment:f.PropTypes.bool,newAttachments:f.PropTypes.object,oldAttachments:f.PropTypes.object,openCloudAttach:f.PropTypes.func,orgId:f.PropTypes.string,page:f.PropTypes.string,revertIsCommentChanged:f.PropTypes.func,searchAgents:f.PropTypes.func,setIsCommentChanged:f.PropTypes.func,showAttachmentViewer:f.PropTypes.func,showConfirmBox:f.PropTypes.func,showMessage:f.PropTypes.func,teamsList:f.PropTypes.array,teamsObject:f.PropTypes.object,toggleComment:f.PropTypes.func,type:f.PropTypes.string,updateComment:f.PropTypes.func,uploadAttach:f.PropTypes.func,uploadCloudAttachment:f.PropTypes.func,value:f.PropTypes.string},t.a=Object(b.connect)(function(e,t){var o=t.departmentId?t.departmentId:Object(C.t)(e),n=e.myInfo,a=e.module,s=e.isCloudAttchOpen,r=e.activeAgents,i=e.departmentSpecificState,l=Object(_.c)(n.profileId,a.profile);return{deptId:o,teamsList:i[o].teamsList,agentsList:r[o],agentsObject:a.agent,teamsObject:a.teams,myInfo:n,isCloudAttchOpen:s,isLightAgent:l}},{getTeamsList:y.u,getAgentsList:k.h,searchAgents:k.l,showConfirmBox:y.b.showConfirmBox,showMessage:y.Q,openCloudAttach:I.h,uploadCloudAttachment:I.l})(j)},"./src/containers/Subtab/Comments/Comments.js":function(e,t,o){"use strict";o.r(t);var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),a=o.n(n),s=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),r=o.n(s),i=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=o.n(i),c=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),d=o.n(c),m=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=o.n(m),p=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),h=o.n(p),f=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),b=o.n(f),g=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),C=o.n(g),v=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),_=o("./src/actions/CommentActions.js"),y=o("./src/actions/TicketCommentActions.js"),k=o("./src/actions/TicketDetailViewAction.js"),I=o("./src/actions/AttachmentActions.js"),E=o("./src/actions/index.js"),j=o("./src/containers/Subtab/CommentBox/CommentBox.js"),A=o("./src/components/Subtab/CommentsList/CommentsList.js"),w=o("./src/components/Subtab/SubtabEmptystate/SubtabEmptystate.js"),N=o("../components/lib/Card/index.js"),x=o("./src/containers/Subtab/Comments/SubtabComments.module.css"),O=o.n(x),P=o("./src/reducers/selector.js"),z=o("./src/utils/Common.js"),S=o("./src/actions/ExtensionsActions.js"),T=o("./src/fz-i18n/index.js"),D=o("./src/utils/loadResource.js"),B=o("./src/utils/bind.js"),L=o("./src/constants/index.js"),M=o("./src/components/Subtab/Loading/Loading.js"),R=o("./src/containers/asyncComponent.js"),U=o("./src/components/PortalLayer/PortalLayer.js"),K=o("./src/components/lookup/Lookup/Lookup.js"),V=function(e){function t(e){l()(this,t);var o=u()(this,(t.__proto__||r()(t)).call(this,e)),n=o.props,a=n.commentIds,s=n.comment;o.state={comment:s,commentIds:a,from:1,limit:15,noMoreData:!1,commentId:null};return B.a.apply(o,["downloadAttachment","deleteComment","addComment","uploadAttach","deleleUpload","updateComment","fetchData","handleError","handlePortalLayer","showCommentHistory","hideCommentHistory"]),o}return h()(t,e),d()(t,[{key:"handlePortalLayer",value:function(e,t){this["on"+t]=e}},{key:"showCommentHistory",value:function(e){this.setState({commentId:e}),this.onCommentHistory(!0)}},{key:"hideCommentHistory",value:function(){this.onCommentHistory(!1)}},{key:"componentDidMount",value:function(){var e=this,t=this.state.noMoreData;Object(D.a)(L.k,"js","ZohoDeskEditor").then(function(){e.setState({isEditorLoaded:!0})}),t||this.fetchData(this.state.from)}},{key:"componentDidUpdate",value:function(e){e.moduleId!=this.props.moduleId&&this.fetchData(this.state.from)}},{key:"downloadAttachment",value:function(e){this.props.downloadAttachment(e)}},{key:"componentWillReceiveProps",value:function(e){e.comment==this.props.comment&&e.commentIds==this.props.commentIds||this.setState({commentIds:e.commentIds,comment:e.comment})}},{key:"deleteComment",value:function(e){var t=this.props,o=t.module,n=t.module_s,a=t.moduleId,s=t.deleteComment,r=t.showConfirmBox,i=t.deleteTicketComment;r({type:"delete",submitText:T.h.getI18NValue("crm.button.delete"),cancelText:T.h.getI18NValue("support.label.cancel"),title:T.h.getI18NValue("support.label.delete.comment"),message:T.h.getI18NValue("support.task.label.comment.delete"),isActive:!0,palette:"danger"}).then(function(){if("tickets"==o)return i(a,e);s(o,n,a,e,"COMMENT")}).catch(function(){})}},{key:"addComment",value:function(e,t,o,n){var a=this,s=this.props,r=s.module,i=s.moduleId,l=s.zAppHookEvent,c=s.module_s,d=s.addComment;"tickets"==r?l("ticket.comment",{ticketId:i,content:e.content,isPublic:e.isPublic},function(){a.props.addTicketComment(i,e,t).then(function(e){o&&o(e)},function(e){n&&n(e)})}):d(r,c,i,e,"COMMENT",t).then(function(e){o&&o(e)},function(e){n&&n(e)})}},{key:"updateComment",value:function(e,t,o,n,a,s){var r=this.props,i=r.module,l=r.module_s,c=r.moduleId,d=r.updateComment,m=r.zAppHookEvent,u=function(){d(i,l,c,e,t,"COMMENT",n).then(function(e){a&&a(e)},function(e){s&&s(e)})};"tickets"==i?m("ticket.comment.edit",{commentId:e,oldContent:o,newContent:t.content,ticketId:c},u):u()}},{key:"handleError",value:function(){this.props.showMessage({type:"alert",message:T.h.getI18NValue("support.unable.to.process.your.request")})}},{key:"uploadAttach",value:function(e,t,o){var n=this;return this.props.uploadAttach(e,t,function(e,t){o(e,t)}).then(function(e){return e},function(e){throw n.handleError(),{attachIndex:t,err:e}})}},{key:"deleleUpload",value:function(e){var t=this;return this.props.deleleUpload(e).catch(function(){t.handleError()})}},{key:"fetchData",value:function(e){var t=this,o=this.props,n=o.module,a=o.module_s,s=o.moduleId,r=o.getComments,i=this.state,l=i.limit;if(!i.noMoreData)return r(n,a,s,e,l).then(function(o){t.setState({from:e,noMoreData:o.data.entities[a][s].comment.length<l})})}},{key:"render",value:function(){var e,t=this,o=this.state,n=o.commentIds,s=o.comment,r=o.from,i=o.limit,l=o.noMoreData,c=o.isEditorLoaded,d=o.commentId,m=this.props,u=m.showAttachmentViewer,p=m.myInfo,h=m.setIsCommentChanged,f=m.revertIsCommentChanged,g=m.isCommentChanged,C=m.moduleId,v=m.showConfirmBox,_=m.showMessage,y=m.isAdminUser,k=m.haveCommentEditPermission,I=m.haveCommentDeletePermission,E=m.currentUserId,x=m.hasAttachments,P=m.hasPrivacyMode,S=m.havePublicComment,D=m.showCommentBox,B=void 0===D||D,L=m.isReadOnly,V=m.emptyMessage,Z=m.openAgentDv,F=m.getAgentDvUrl,H=m.departmentId,q=[];if(n)for(var G=0;G<n.length;G++)q.push(s[n[G]]);return q?b.a.createElement(N.Card,{className:"leftPanel"==this.props.from?O.a.leftList:O.a.subTabList,needToFetch:!0,from:r,limit:i,noMoreData:l,fetchData:this.fetchData,noNeedUpScroll:!0},b.a.createElement(N.CardHeader,null,c&&B?b.a.createElement(j.a,(e={hasPrivacyMode:P,id:C},a()(e,"hasPrivacyMode",P),a()(e,"hasAttachments",x),a()(e,"addComment",this.addComment),a()(e,"uploadAttach",this.uploadAttach),a()(e,"deleleUpload",this.deleleUpload),a()(e,"orgId",this.props.orgId),a()(e,"from",this.props.from),a()(e,"showAttachmentViewer",u),a()(e,"isCommentChanged",g),a()(e,"setIsCommentChanged",h),a()(e,"revertIsCommentChanged",f),a()(e,"editorMode","leftPanel"==this.props.from?"replyComments":"CommentEditor"),a()(e,"havePublicComment",S),a()(e,"updateComment",this.updateComment),a()(e,"departmentId",H),e)):null),b.a.createElement(N.CardContent,{eleRef:function(e){t.scrollCont=e},className:O.a.commentScroll},q.length?b.a.createElement(b.a.Fragment,null,b.a.createElement(A.a,{comments:q,downloadAttachment:this.downloadAttachment,deleteComment:this.deleteComment,updateComment:this.updateComment,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,page:"comment",orgId:this.props.orgId,from:this.props.from,showAttachmentViewer:u,photoURL:p.photoURL,name:Object(z.e)(p.firstName,p.lastName),scrollCont:this.scrollCont,isCommentChanged:g,setIsCommentChanged:h,revertIsCommentChanged:f,showConfirmBox:v,showMessage:_,isAdminUser:y,haveCommentEditPermission:k,haveCommentDeletePermission:I,currentUserId:E,hasAttachments:x,hasPrivacyMode:P,CommentBoxContainer:j.a,moduleId:C,isReadOnly:L,openAgent:Z,getAgentDvUrl:F,departmentId:H,showCommentHistory:this.showCommentHistory}),b.a.createElement(U.a,{saveUpdateFunction:this.handlePortalLayer,name:"CommentHistory"},b.a.createElement(K.a,null,b.a.createElement(R.p,{commentId:d,hideCommentHistory:this.hideCommentHistory})))):B?null:b.a.createElement(w.a,{subtabName:T.h.getI18NValue("tabs.request.comment"),emptyMessage1:T.h.getI18NValue("support.comment.notfound"),emptyMessage2:V||"",noNeedToShowAdd:!0,noNeedToShowHelp:!0}))):b.a.createElement(M.a,null)}}]),t}(f.Component);V.propTypes={addComment:C.a.func,addTicketComment:C.a.func,comment:C.a.object,commentCount:C.a.number,commentIds:C.a.array,currentUserId:C.a.string,deleleUpload:C.a.func,deleteComment:C.a.func,deleteTicketComment:C.a.func,departmentId:C.a.string,downloadAttachment:C.a.func,emptyMessage:C.a.string,from:C.a.string,getAgentDvUrl:C.a.func,getComments:C.a.func,hasAttachments:C.a.bool,hasPrivacyMode:C.a.bool,haveCommentDeletePermission:C.a.bool,haveCommentEditPermission:C.a.bool,havePublicComment:C.a.bool,id:C.a.string,isAdminUser:C.a.bool,isCommentChanged:C.a.bool,isReadOnly:C.a.bool,module:C.a.string,moduleId:C.a.string,module_s:C.a.string,myInfo:C.a.object,openAgentDv:C.a.func,orgId:C.a.string,revertIsCommentChanged:C.a.func,setIsCommentChanged:C.a.func,showAttachmentViewer:C.a.func,showCommentBox:C.a.bool,showConfirmBox:C.a.func,showMessage:C.a.func,updateComment:C.a.func,uploadAttach:C.a.func,zAppHookEvent:C.a.func},t.default=Object(v.connect)(function(e,t){var o=e.ticketUIState.isCommentChanged,n=void 0!==o&&o,a=e.module[t.module_s][t.moduleId];return{comment:e.module.comment,commentIds:a.comment||[],commentCount:parseInt(a.commentCount),orgId:Object(P.T)(e),orgName:e.routing.paramMap.orgName,sanitizedDeptName:e.routing.paramMap.deptName,myInfo:e.myInfo,isCommentChanged:n,getAgentDvUrl:Object(P.e)(e)}},{getComments:_.d,downloadAttachment:I.e,deleteComment:_.b,addComment:_.a,uploadAttach:I.k,deleleUpload:I.d,updateComment:_.e,showAttachmentViewer:I.i,zAppHookEvent:S.l,setIsCommentChanged:k.t,revertIsCommentChanged:k.r,showConfirmBox:E.b.showConfirmBox,showMessage:E.Q,addTicketComment:y.a,deleteTicketComment:y.b,push:E.L,openAgentDv:E.E})(V)},"./src/containers/Subtab/Comments/SubtabComments.module.css":function(e,t,o){e.exports={commentScroll:"zd-subtabcomments-commentScroll"}},"./src/utils/Attachment.js":function(e,t,o){"use strict";o.d(t,"d",function(){return i}),o.d(t,"f",function(){return l}),o.d(t,"e",function(){return c}),o.d(t,"l",function(){return d}),o.d(t,"i",function(){return m}),o.d(t,"p",function(){return u}),o.d(t,"q",function(){return p}),o.d(t,"m",function(){return h}),o.d(t,"k",function(){return f}),o.d(t,"h",function(){return g}),o.d(t,"j",function(){return C}),o.d(t,"b",function(){return v}),o.d(t,"a",function(){return _}),o.d(t,"n",function(){return y}),o.d(t,"c",function(){return k}),o.d(t,"o",function(){return I}),o.d(t,"g",function(){return E});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/promise.js"),a=o.n(n),s=o("./src/utils/Browser.js"),r=o("./src/fz-i18n/index.js");function i(e){var t=c(e),o=Object(s.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"ZD-filePicture";case"txt":case"rtf":return"ZD-fileText2";case"pdf":return"ZD-filePdf";case"html":case"htm":case"xhtml":return-1!==o.indexOf("chrome")||-1!==o.indexOf("safari")?"ZD-chrome":-1!==o.indexOf("ie")||-1!==o.indexOf("edge")?"ZD-ie":"ZD-firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ZD-ppt";case"rar":case"jar":case"zip":return"ZD-zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"ZD-fileOpenoffice":"ZD-fileWord";case"xml":return"ZD-xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"ZD-fileExcel";case"ics":return"ZD-ics";case"exe":return"ZD-exe";case"sh":case"bin":return"ZD-sh2";case"css":return"ZD-css5";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"ZD-fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"ZD-fileVideo";default:return"ZD-unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&-1!=e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return/jpeg|jpg|png|gif|bmp|ico/i.test(t)}function m(e){var t=c(e);return/mp3|wav|ogg/i.test(t)}function u(e,t){var o={inValidArray:[],validArray:[]};if(t+e.length>10)return o.isCountExceeds=!0,o;for(var n=0;n<e.length;n++){var a=e[n],s=a.name,r=a.size;h(s)?o.inValidArray.push({isUnSupported:!0}):f(s)?o.inValidArray.push({isFileNameSizeInvalid:!0}):0===a.size?o.inValidArray.push({isEmpty:!0}):b(r)?o.inValidArray.push({isAttachSizeExceeded:!0}):o.validArray.push(a)}return o}function p(e,t,o,n){if(t+e.length>10)n(r.h.getI18NValue("support.attachments.count.exceeds",[10]));else for(var a=0;a<e.length;a++){var s=e[a],i=s.name,l=s.size;if(h(i))n(r.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(i))n(r.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==s.size)if(b(l))n(r.h.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var c=new FormData;c.append("file",s),o&&o(c)}else n(r.h.getI18NValue("support.request.empty.attachment.message"))}}function h(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function b(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function C(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function v(e,t,o){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&(d(e.name)||m(e.name))}),n.previewData.filter(function(t,o){t.id===e&&(n.selectedIndex=o)}),o&&o(n)}function _(e,t,o){var n=e.indexOf("/api"),a=e;return n>-1&&(a=e.slice(n,e.length),a+="?orgId="+t+(o?"&inline=true":"")),a}function y(e,t){window.open(_(e,t,!0))}function k(e,t){window.location.href=_(e,t,!1)}function I(e,t,o,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],m=0;if(n&&l>n-o){var u=r.h.getI18NValue("support.attachments.count.exceeds",[n]);return a.a.resolve({isError:!0,errorI18N:u})}for(var p=0;p<l;p++){var b=e[p],g=b||{},C=g.size,v=void 0===C?0:C,_=g.name,y=void 0===_?"":_;if(m+=v,h(y)){var k=r.h.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:k,fileName:y,errorType:"fileType"})}else if(f(y)){var I=r.h.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:I,fileName:y,errorType:"fileNameSize"})}else if(0===v){var E=r.h.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:E,fileName:y,errorType:"emptyFile"})}else d.push(b)}if(!d.length){if(1===c.length){var j=c[0].errorI18N;return a.a.resolve({isError:!0,errorI18N:j})}var A=r.h.getI18NValue("support.unable.to.process.your.request");return a.a.resolve({isError:!0,errorI18N:A})}if(0===m){var w=r.h.getI18NValue("support.request.empty.attachment.message");return a.a.resolve({isError:!0,errorI18N:w})}if(m+i>1024*s*1024){var N=r.h.getI18NValue("support.attachments.size.limit.exceeds",[s]);return a.a.resolve({isError:!0,errorI18N:N})}for(var x=[],O=[],P=[],z=[],S=function(e){var o=d[e];if(t){var n=new FormData;n.append("file",o);var a=e,s=t(n,o,a).then(function(e){var t=(e.data||{}).data,o=void 0===t?{}:t,n=o.id;n&&(x[a]=o,O[a]=n)},function(t){var n=o.name,a=r.h.getI18NValue("support.unable.to.process.your.request");return z.push(e),c.push({errorI18N:a,fileName:n,errorType:"apiError"}),t});P.push(s)}},T=0;T<d.length;T++)S(T);var D={uploadFiles:x,inValidFiles:c,isError:!1,uploadFileIds:O,inValidFilesIndex:z};return a.a.all(P).then(function(){return O.length?D:{isError:!0,errorI18N:r.h.getI18NValue("support.unable.to.process.your.request")}})}function E(e,t){var o=e.name;return{index:t,isPreview:!0,size:e.size,name:o,href:URL.createObjectURL(e)}}},"./src/utils/DataStorage.js":function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=o("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/json/stringify.js"),a=o.n(n),s=o("./src/utils/Common.js"),r={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(s.N)(t)?localStorage.setItem(e,a()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var o=localStorage.length,n=new Date,r=0;r<o;r++){var i=localStorage.key(r),l=this.getItemFromStorage(i)||{};l&&l.time&&n>l.expireTime&&this.removeItem(i)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var o=localStorage.key(t),n=this.getItemFromStorage(o);e[o]=n}return e}return this.storage},setItem:function(e,t,o){-1==(o=null==o||null==o?10800:o)&&(o=86400);var n=new Date,a={value:t,expireTime:new Date(n.setSeconds(n.getSeconds()+o))};this.storeItemIntoStorage(e,a)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},"./src/utils/Editor.js":function(e,t,o){"use strict";o.d(t,"c",function(){return a}),o.d(t,"a",function(){return s}),o.d(t,"b",function(){return r}),o.d(t,"f",function(){return i}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c});var n=o("./src/utils/Common.js");function a(e,t){var o=editor[e];o&&t&&o.insertHTML(t)}function s(e){var t=editor[e];if(null!=t){var o=t.getContent();return"<br>"==(o=o.trim())?"":("plaintext"==t.mode&&(o=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(o)),o)}return""}function r(e,t,o,n){var a={content:"",isSnippetExist:!1,triggerWord:""},s="";if(e.modify){var r=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var i=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==i.toLowerCase()});null!=(s=l.length?l[0].expandedContent:"")&&""!=s&&s.length>0?(a.isSnippetExist=!0,a.content=s,a.triggerWord=i.toLowerCase(),r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)):(a.content="&nbsp;&nbsp;&nbsp;&nbsp;",a.triggerWord=i.toLowerCase()),e.removeAllRanges(),e.addRange(r)}else a=function(e,t,o,n){var a="",s=e.getRangeAt(0);s.collapse(!0),s.setStart(e.anchorNode,0),a=s.toString();var r=s.cloneRange(),i=e.anchorNode.textContent,l=/\s+/,c=i.split(l).filter(Boolean),d=a.split(l).filter(Boolean),m="",u="",p={content:"",isSnippetExist:!1,triggerWord:""},h=d[d.length-1];if(""!=h&&void 0!==h){m=c[d.length-1],parseInt(m.length);var f=m.toLowerCase(),b=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});u=b.length?b[0].expandedContent:""}if(null!=u&&""!=u&&null!=u){var g=parseInt(m.length-h.length),C=parseInt(a.length);g>0&&(C+=g);var v=parseInt(a.length+g-m.length),_=a.length-a.replace(/\s+$/g,"").length;(v-=_)<0&&(v=0),r.setStart(e.anchorNode,v),r.setEnd(e.focusNode,C),p.isSnippetExist=!0}else u=a;return p.content=u,p.triggerWord=m.toLowerCase(),e.removeAllRanges(),e.addRange(r),p}(e,0,0,n);return a}function i(e,t,o,a,s){for(var r={"${Cases.Contact Name}":Object(n.e)(o.firstName,o.lastName),"${Cases.Email}":o.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":a?a.accountName:"","${Cases.First Name}":o.firstName||"","${Cases.Last Name}":o.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(s.firstName,s.lastName),"${User.Email}":s.emailId||"","${User.Phone}":s.phone||"","${User.First Name}":s.firstName||"","${User.Last Name}":s.lastName||"","${User.Mobile}":s.mobile||""},i=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<i.length;l++)e=e.replace(i[l],r[i[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},"./src/utils/bind.js":function(e,t,o){"use strict";function n(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){e[t]=e[t].bind(e)})}o.d(t,"a",function(){return n})},"./src/utils/editorUtils.js":function(e,t,o){"use strict";function n(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function a(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})}}]);