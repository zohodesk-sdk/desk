(window.deskappJsonp=window.deskappJsonp||[]).push([[165],{"../components/lib/Button/Button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=s(n("../components/lib/Button/Button.module.css")),i=n("../components/lib/utils/dummyFunction.js");function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.palette,a=e.disabled,r=e.size,i=e.onClick,s=e.rounded,c=e.status,u=e.children,d=e.isBold,m=e.dataId,p=e.needAppearance,f=e.className,b=e.getRef,y=p?l.default[n.toLowerCase()]+" "+(s?l.default.rounded:"")+"   "+(u?l.default["button_"+r.toLowerCase()]:l.default[r.toLowerCase()]):""+l.default.default;return o.default.createElement("button",{className:(f||"")+" "+y+" "+(d?l.default.bold:"")+"  ","data-id":a?m+"_disabled":m,disabled:a||"loading"===c.toLowerCase(),onClick:i,type:"button",ref:b},u||t,"none"!==c&&p&&o.default.createElement("div",{className:l.default.overlay},o.default.createElement("div",{className:"loading"===c.toLowerCase()?l.default.loading:l.default.success},o.default.createElement("div",{className:l.default.element}))))}}]),t}();t.default=c,c.defaultProps={children:null,dataId:"buttonComp",disabled:!1,isBold:!0,needAppearance:!0,onClick:i.dummyFunction,palette:"primary",rounded:!1,size:"medium",status:"none",text:"Button"},c.propTypes={children:r.default.node,className:r.default.string,dataId:r.default.string,disabled:r.default.bool,getRef:r.default.func,isBold:r.default.bool,needAppearance:r.default.bool,onClick:r.default.func,palette:r.default.oneOf(["plainPrimary","plainSecondary","primary","primaryFilled","danger","dangerFilled","secondary","secondaryFilled","successFilled","info"]),rounded:r.default.bool,size:r.default.oneOf(["small","medium","large","xlarge"]),status:r.default.oneOf(["loading","success","none"]),text:r.default.string},c.propTypesDescription={onClick:" ",text:" ",palette:" ",disabled:" ",size:" ",rounded:" ",status:" ",isBold:" ",children:" "}},"../components/lib/CheckBox/CheckBox.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=s(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=s(n("../components/lib/CheckBox/CheckBox.module.css")),i=s(n("../components/lib/Label/Label.js"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.checked,r=e.disabled,s=e.palette,c=e.text,u=e.labelPalette,d=e.active,m=e.labelSize,p=e.getRef,f=e.dataId,b=d?l.default[s+"_active"]:"",y=r?l.default.disabled:l.default.pointer;return o.default.createElement("span",{className:l.default.container+" "+y+" "+(c?l.default.layout:l.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:l.default.input+" "+(a?l.default.checked:""),name:n,checked:a,disabled:r,ref:p}),o.default.createElement("label",{className:l.default["label_"+s]+" "+b+" "+(c?l.default.layoutshrink:""),onClick:this.onChange,"data-id":f},o.default.createElement("span",null)),c&&o.default.createElement("span",{className:l.default.text},o.default.createElement(i.default,{text:c,palette:u,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:r.default.bool,checked:r.default.bool,dataId:r.default.string,disabled:r.default.bool,getRef:r.default.func,id:r.default.string,labelPalette:r.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:r.default.oneOf(["small","medium","large"]),name:r.default.string,onChange:r.default.func,palette:r.default.oneOf(["primary","danger"]),text:r.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},"../components/lib/Label/Label.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js")),r=i(n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js")),l=i(n("../components/lib/Label/Label.module.css"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.type,a=e.palette,r=e.size,i=e.clipped,s=e.name,c=e.title,u=e.onClick,d=e.dataId;return o.default.createElement("label",{className:l.default.label+" "+l.default[n]+" "+l.default[r]+" "+l.default[a]+"\n          "+(i?l.default.dotted:"")+" "+(u?l.default.pointer:l.default.cursor),name:s,"data-title":c,"data-id":d,onClick:u},t)}}]),t}();t.default=s,s.defaultProps={clipped:!1,dataId:"label",palette:"default",size:"medium",text:"Label",type:"title"},s.propTypes={clipped:r.default.bool,dataId:r.default.string,name:r.default.string,onClick:r.default.func,palette:r.default.oneOf(["default","primary","secondary","danger","mandatory"]),size:r.default.oneOf(["small","medium","large"]),text:r.default.string,title:r.default.string,type:r.default.oneOf(["title","subtitle"])},s.propTypesDescription={type:" ",size:" ",name:" ",palette:" ",text:" ",id:" ",clipped:" ",title:" "}},"../components/lib/Tag/Tag.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),r=u(o),l=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),i=u(n("../components/node_modules/@zohodesk/icons/lib/Icon/index.js")),s=u(n("../components/lib/Avatar/Avatar.js")),c=u(n("../components/lib/Tag/Tag.module.css"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.handleRemove=n.handleRemove.bind(n),n.getRef=n.getRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"handleSelect",value:function(e){var t=this.props,n=t.id,a=t.onSelectTag,o=void 0===a?null:a;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),o&&o(n,e)}},{key:"handleRemove",value:function(e){var t=this.props,n=t.onRemove,a=t.id;e&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),n&&n(a)}},{key:"getRef",value:function(e){var t=this.props,n=t.getRef,a=t.id;n&&n(e,a)}},{key:"render",value:function(){var e=this.props,t=e.imageURL,n=e.hasAvatar,a=e.text,o=e.onRemove,l=e.initial,u=e.active,d=e.size,m=e.rounded,p=e.palette,f=e.disabled,b=e.closePalette,y=e.onSelectTag,g=e.closeTitle,h=e.dataId,j=e.className,_=e.iconName,v=e.iconSize;return r.default.createElement("div",{className:c.default.container+" "+(u?c.default.selected:"")+" "+(o?c.default.effect:"")+"  "+c.default[d]+" "+(m?c.default.lgRadius:c.default.smRadius)+" "+c.default[p]+" "+(f?c.default.disabled:"")+" "+(y?c.default.pointer:"")+" "+(j||""),"data-id":u?h+"_TagSelected":h+"_Tag",onClick:this.handleSelect,ref:this.getRef},n?r.default.createElement("div",{className:c.default.avatar},r.default.createElement(s.default,{name:l,size:"small",src:t})):null,_?r.default.createElement("div",{className:c.default.icon},r.default.createElement(i.default,{name:_,size:v})):null,r.default.createElement("div",{className:c.default.text,"data-title":a},a),o&&r.default.createElement("div",{className:c.default.close+" "+c.default["close"+b],"data-id":h+"_RemoveTag","data-title":g,onClick:this.handleRemove},r.default.createElement(i.default,{isBold:!0,name:"ZD-close2",size:"8"})))}}]),t}();t.default=d,d.defaultProps={active:!1,closePalette:"danger",hasAvatar:!1,palette:"default",rounded:!0,size:"medium",dataId:"tag"},d.propTypes={active:l.PropTypes.bool,className:l.PropTypes.string,closePalette:l.PropTypes.oneOf(["danger","primary"]),closeTitle:l.PropTypes.string,dataId:l.PropTypes.string,disabled:l.PropTypes.bool,getRef:l.PropTypes.func,hasAvatar:l.PropTypes.bool,iconName:l.PropTypes.string,iconSize:l.PropTypes.string,id:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number]),imageURL:l.PropTypes.string,initial:l.PropTypes.string,onRemove:l.PropTypes.func,onSelectTag:l.PropTypes.func,palette:l.PropTypes.oneOf(["default","danger","secondary","pureDotted","primaryDotted"]),rounded:l.PropTypes.bool,size:l.PropTypes.oneOf(["small","medium"]),text:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number])},d.propTypesDescription={hasAvatar:" ",onRemove:" ",active:" ",onSelectTag:" ",text:" ",imageURL:" ",id:" ",initial:" ",size:" ",rounded:" ",palette:" ",closePalette:" ",disabled:" ",getRef:" ",closeTitle:" "}},"./src/actions/SubtabActions.js":function(e,t,n){"use strict";n.d(t,"j",function(){return h}),n.d(t,"i",function(){return j}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return v}),n.d(t,"g",function(){return E}),n.d(t,"d",function(){return T}),n.d(t,"h",function(){return O}),n.d(t,"a",function(){return I}),n.d(t,"k",function(){return k}),n.d(t,"l",function(){return P}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return z}),n.d(t,"m",function(){return x});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/toConsumableArray.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),l=n.n(r),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),u=n.n(c),d=n("./src/utils/Common.js"),m=n("./src/utils/RequestAPI.js"),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/simple-normalizr/es/index.js"),f=n("./src/constants/index.js"),b=n("./src/utils/departmentQuery.js"),y=n("./src/constants/TimeEntryConstants.js"),g=n("./src/reducers/selector.js"),h=function(e,t,n,a,r,i){return{types:Object(d.m)("CUSTOMER_TICKET"),callAPI:function(c){var u=null,d=null,y=!1;"Overdue"===i?d=i:"Spam"===i?y=!0:"All"!==i&&(u=i);var g="contact"===t?"products,assignee,team":"contacts,products,assignee,team";return Object(m.a)(""+f.B+e+"/"+n+"/tickets?from="+a+"&limit="+r+(u?"&statusType="+u:"")+(d?"&dueDate="+d:"")+(y?"&isSpam=true":"")+"&include="+g+"&sortBy=-createdTime"+Object(b.a)(c,!0),!1,{orgId:c.currentOrgId}).get().then(function(e){var u=f.R.TICKET_L,d=f.R.TEAMS_L,m=f.R.AGENT_L,b=f.R.CONTACT_L,y=f.R.ACCOUNT_L,g=s()({id:n},u,204!==e.responseStatus?e.data:[]),h=Object(p.b)(g,Object(p.c)(t,{mapping:s()({},u,Object(p.a)(Object(p.c)(u,{mapping:{contact:Object(p.c)(b,{mapping:{account:Object(p.c)(y)}}),assignee:Object(p.c)(m),team:Object(p.c)(d)}})))})),j=h.entities[t][n].ticket.length,_=j<r;if(1==a)return l()({},h,{noMoreData:_,from:a,limit:r,statusType:i,module_s:t,isEmpty:0==j});var v=c.module[t][n],E=h.entities[t][n];return E&&E[u]&&(E[u]=[].concat(o()(v[u]),o()(E[u]))),l()({},h,{noMoreData:_,from:a,limit:r,statusType:i,module_s:t})})}}},j=function(e,t){return{types:Object(d.m)("STATISTICS"),callAPI:function(n){var a="contacts"==e?Object(b.b)(n):Object(b.a)(n),o=""!=a?"?"+a:"";return Object(m.a)(""+f.B+e+"/"+t+"/statistics"+o,!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}},_=function(e,t){return{types:Object(d.m)(f.R.CUSTOMERHAPPINESSRATING),callAPI:function(n){return Object(m.a)(f.B+"customerHappiness?"+Object(b.b)(n)+"&"+e+"Id="+t+"&include=contacts,tickets&sortBy=-ratedTime",!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=Object(p.b)(e.data,Object(p.a)(Object(p.c)(f.R.CUSTOMERHAPPINESSRATING_L,{mapping:{ticket:Object(p.c)(f.R.TICKET_L),contact:Object(p.c)(f.R.CONTACT_L,{mapping:{account:Object(p.c)(f.R.ACCOUNT_L)}})}})));return l()(n,{moduleId:t})}return{entities:{},result:[],noMoreData:!0}})}}},v=function(e,t){return{types:Object(d.m)("CUSTOMERHAPPINESSCOUNT"),callAPI:function(n){return Object(m.a)(f.B+"customerHappiness/count?"+Object(b.b)(n)+"&"+e+"Id="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){var n=e;return l()(n,{moduleId:t})})}}},E=function(e){return{types:Object(d.m)("CUSTOMERHAPPINESSLABEL"),shouldCallAPI:function(t){return e=e||Object(g.t)(t),!t.departmentSpecificState[e].customerHappiness.config},callAPI:function(t){return e=e||Object(g.t)(t),Object(m.a)(f.B+"customerHappinessSetup?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){var n=t;return l()({deptId:e},n)})}}},T=function(e,t,n,a,r,i){return{types:Object(d.m)(f.R.CONTACT),callAPI:function(s){return Object(m.a)(""+f.B+e+"/"+n+"/contacts?from="+a+"&limit="+r+(i?"&isSpam=true":"")+"&sortBy=createdTime",!1,{orgId:s.currentOrgId}).get().then(function(e){var i=Object(p.b)({id:n,contacts:204!=e.responseStatus?e.data:[]},Object(p.c)(t,{mapping:{contacts:Object(p.a)(Object(p.c)(f.R.CONTACT_L))}})),c=e.data&&e.data.length<r;if(1==a)return l()({},i,{noMoreData:c});var u=s.module[t][n],d=i.entities[t][n];return u&&u.contacts&&(d.contacts=[].concat(o()(u.contacts),o()(d.contacts))),l()({},i,{noMoreData:c})})}}},O=function(e,t,n,a,r){return{types:Object(d.m)(f.R.PRODUCT),callAPI:function(i){return Object(m.a)(""+f.B+e+"/"+n+"/products?from="+a+"&limit="+r,!1,{orgId:i.currentOrgId}).get().then(function(e){var s=Object(p.b)({id:n,products:204!=e.responseStatus?e.data:[]},Object(p.c)(t,{mapping:{products:Object(p.a)(Object(p.c)(f.R.PRODUCT_L))}})),c=e.data&&e.data.length<r;if(1==a)return l()({},s,{noMoreData:c});var u=i.module[t][n],d=s.entities[t][n];return u&&u.products&&(d.products=[].concat(o()(u.products),o()(d.products))),l()({},s,{noMoreData:c})})}}},I=function(e,t,n,a){return{types:Object(d.m)("ASSOCIATE_PRODUCTS"),callAPI:function(o){return Object(m.a)(""+f.B+e+"/"+t+"/associateProducts",!1,{orgId:o.currentOrgId}).post("",{ids:n,associate:a}).then(function(e){return e})}}},k=function(e,t,n,a){var o=n&&n!=y.c.ALL?"&module="+n:"",r=a&&a!=y.a.TOTAL?"&isBillable="+(a==y.a.BILLABLE):"",l=o||r?"&"+o+r:"";return{types:Object(d.m)("TIME_ENTRY_STATS"),callAPI:function(n){return Object(m.a)(""+f.B+e+"/"+t+"/timeEntrySummation?"+l,!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}},P=function(e,t,n,a,r,i){return{types:Object(d.m)("TIMEENTRY"),callAPI:function(c,d){var b=r&&r!=y.c.ALL?"&module="+r:"",h=i&&i!=y.a.TOTAL?"&isBillable="+(i==y.a.BILLABLE):"",j=Object(g.t)(c),_=e.match(/^(contacts|accounts)$/)?"allDepartment"!==j?j:"0":null;return Object(m.a)(""+f.B+e+"/"+t+"/timeEntry?from="+n+"&limit="+a+"&include=owner"+b+h+(_?"&departmentId="+_:"")+"&orderBy=DESC",!1,{orgId:c.currentOrgId}).get().then(function(r){var i,c=f.n[e],m=204==r.responseStatus?[]:r.data,b=s()({id:t},f.R.TIMEENTRY_L,m),y=Object(p.b)(b,Object(p.c)(c,{mapping:{timeentry:Object(p.a)(Object(p.c)(f.R.TIMEENTRY_L))}})),g=(u()("entities["+c+"]["+t+"].timeentry",y)||[]).length<a;if(1==n)return l()(y,{noMoreData:g});var h=d(),j=l()({},h.module.timeentry,y.entities.timeentry),_=u()("module["+c+"]["+t+"].timeentry",h)||[],v=u()("entities["+c+"]["+t+"].timeentry",y)||[],E=[].concat(o()(_),o()(v));return{entities:(i={timeentry:j},s()(i,c,s()({},t,{timeentry:E})),s()(i,f.R.AGENT_L,y.entities[f.R.AGENT_L]),i),noMoreData:g}})}}},C=function(e,t,n,a){return{types:Object(d.m)(f.n[e].toUpperCase()+"_HISTORY"),callAPI:function(o){return Object(m.a)(""+f.B+e+"/"+t+"/history?from="+n+"&limit="+a+Object(b.a)(o,!0),!1,{orgId:o.currentOrgId}).get().then(function(e){return 204===e.responseStatus?{noMoreData:!0,moduleHistory:[]}:{noMoreData:e.data.length<a,moduleHistory:e.data}})}}};function z(e,t,n){var a={entityIds:[e]};return{types:Object(d.m)("DELETE_TIMEENTRY"),callAPI:function(o){return Object(m.a)("/api/v1/movetoTrash",!1,{orgId:o.currentOrgId}).post("",a).then(function(a){var r=f.n[t];if(200===a.responseStatus){var l=u()("module["+r+"]["+n+"]",o);return{entities:s()({},r,s()({},n,{timeEntryCount:l.timeentry.length-1,timeentry:l.timeentry.filter(function(t){return t!==e})}))}}})}}}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"timeEntryCount";return function(a,o){var r=Number(u()("module["+e+"]["+t+"]["+n+"]",o()));r=NaN==r?"1":r+1,a({type:"_SUCCESS",data:{entities:s()({},e,s()({},t,s()({},n,""+r)))}})}}},"./src/components/ExternalLink/ExternalLink.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(r),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),s=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(p),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(b),g=n("./src/components/ExternalLink/ExternalLink.module.css"),h=n.n(g),j=function(e){function t(){return l()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.title,a=e.target,o=e.className,r=e.children,l=e.rel,i=(e.download,e.dataTestid);return f.a.createElement("a",{href:t,target:a,className:h.a.link+" "+(o||""),"data-title":n,rel:l,dataId:i},r)}}]),t}(f.a.Component);t.a=j,j.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},j.propTypes={className:y.a.string,href:y.a.string,isDownload:y.a.bool,rel:y.a.string,target:y.a.oneOf(["_blank","_self"]),text:y.a.string,title:y.a.string}},"./src/components/Subtab/Loading/Loading.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(r),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),s=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(p),b=n("./src/components/Subtab/Loading/SubtabLoading.module.css"),y=n.n(b),g=n("../components/lib/Layout/index.js"),h=function(e){function t(){return l()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){return f.a.createElement(g.Container,{alignBox:"row",align:"both",className:y.a.container},f.a.createElement(g.Box,{className:y.a.dot}),f.a.createElement(g.Box,{className:y.a.dot}),f.a.createElement(g.Box,{className:y.a.dot}),f.a.createElement(g.Box,{className:y.a.dot}),f.a.createElement(g.Box,{className:y.a.dot}),f.a.createElement(g.Box,{className:y.a.dot}))}}]),t}(f.a.Component);t.a=h},"./src/components/detailsubtab/leftpanel/PrimaryInfo/PrimaryInfo.js":function(e,t,n){"use strict";var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),l=n.n(r),i=n("./src/components/detailsubtab/leftpanel/PrimaryInfo/PrimaryInfo.module.css"),s=n.n(i),c=n("../components/lib/CheckBox/CheckBox.js"),u=n.n(c),d=n("../components/lib/Tag/Tag.js"),m=n.n(d),p=n("./src/components/Link/Link.js"),f=n("./src/fz-i18n/index.js"),b=n("./src/utils/Urls.js"),y=n("./src/components/ExternalLink/ExternalLink.js"),g=function(e){var t=e.label,n=e.text,r=e.fieldType,l=e.onClick,i=e.size,c=e.isBold,d=e.labelcolor,g=e.textcolor,h=e.url,j=e.theme,_=e.currency;return o.a.createElement("div",{className:s.a.title},o.a.createElement("span",{className:s.a[j]+" "+s.a[i]+" "+s.a[d],"data-title":t},t),o.a.createElement("span",{className:s.a.name+" "+s.a[i]+" "+s.a[g]+" "+(c&&s.a.bold)},r.match(/^(Fax|Lookup|LookUp|OwnerLookup|User Lookup|Text|Number|Percent|Decimal|Picklist|Pick List|BigInt|Integer|Double|Formula)$/)&&n,"Currency"===r&&(n?_+" "+parseFloat(n).toFixed(2):_+" 0.00"),"Date"===r&&o.a.createElement(f.e,{ago:"ago",displayType:"date",later:"late",to:n}),"DateTime"===r&&o.a.createElement(f.e,{ago:"ago",displayType:"dateTime",later:"late",to:n}),"Email"===r&&o.a.createElement(p.a,{className:s.a.anchor,href:"mailto:"+n},n),"Phone"===r&&o.a.createElement(p.a,{className:s.a.anchor,href:"tel:"+n},n),r.match(/^(URL|Website)$/)&&o.a.createElement(y.a,{className:s.a.anchor,href:Object(b.c)(n),target:"_blank"},n),"Agent"===r&&o.a.createElement(p.a,{className:s.a.anchor,href:h,onClick:l},n),"Boolean"===r&&o.a.createElement(u.a,{checked:"true"===n,disabled:!0}),r.match(/^(Textarea|TextArea)$/)&&n.split("\n").map(function(e,t){return o.a.createElement(a.Fragment,{key:t},e,o.a.createElement("br",null))}),r.match(/^(Multiselect|Multiselect Pick List)$/)&&n.split(";").map(function(e,t){if(""!==e)return o.a.createElement(m.a,{key:t,text:e})})))};g.propTypes={currency:l.a.string,fieldType:l.a.string,isBold:l.a.bool,label:l.a.string,labelcolor:l.a.oneOf(["grey","black"]),onClick:l.a.func,size:l.a.oneOf(["small","medium"]),text:l.a.string,textcolor:l.a.oneOf(["grey","black"]),theme:l.a.oneOf(["user","regular"]),url:l.a.string},g.defaultProps={size:"small",labelcolor:"grey",textcolor:"black",isBold:!1,theme:"user"},t.a=g},"./src/components/detailsubtab/timeentry/DeleteInformation/DeleteInformation.module.css":function(e,t,n){e.exports={section:"zd-deleteinformation-section zdc4b505a7b0 zd5e5b61a61e",fieldSection:"zd-deleteinformation-fieldSection",title:"zd-deleteinformation-title zd499ee8d763 zdccf2edd024",deleteIcon:"zd-deleteinformation-deleteIcon",subTitle:"zd-deleteinformation-subTitle",buttonSection:"zd-deleteinformation-buttonSection",cancelButton:"zd-deleteinformation-cancelButton"}},"./src/constants/TimeEntryConstants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r});var a={from:1,limit:20,totalTime:"00:00:00",totalCost:"0.00"},o={ALL:"all",TICKETS:"tickets",TASKS:"tasks",CALLS:"calls",EVENTS:"events",ACTIVETIMERS:"activetimer"},r={TOTAL:"total",BILLABLE:"billable",NON_BILLABLE:"nonbillable"}},"./src/containers/detailsubtab/timeentry/TimeEntryDetail/TimeEntryDetail.js":function(e,t,n){"use strict";n.r(t);var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/get-prototype-of.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/classCallCheck.js"),l=n.n(r),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/createClass.js"),s=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),d=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/inherits.js"),m=n.n(d),p=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react/index.js"),f=n.n(p),b=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/prop-types/index.js"),y=n.n(b),g=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),h=n.n(g),j=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/react-redux/es/index.js"),_=n("./src/containers/detailsubtab/timeentry/TimeEntryDetail/TimeEntryDetail.module.css"),v=n.n(_),E=n("../components/lib/Layout/index.js"),T=n("../components/lib/Avatar/Avatar.js"),O=n.n(T),I=n("./src/actions/FormAction.js"),k=n("./node_modules/@zohodesk/icons/lib/Icon/index.js"),P=n.n(k),C=n("./src/components/Subtab/Loading/Loading.js"),z=n("./src/components/detailsubtab/leftpanel/PrimaryInfo/PrimaryInfo.js"),x=n("./src/fz-i18n/index.js"),S=n("./src/actions/index.js"),N=n("./src/reducers/selector.js"),L=n("./src/reducers/timeEntrySelector.js"),B=n("./src/components/detailsubtab/timeentry/DeleteInformation/DeleteInformation.module.css"),D=n.n(B),R=n("../components/lib/Button/Button.js"),A=n.n(R),w=x.h.getI18NValue,M=function(e){function t(){return l()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,a=e.onDelete,o=e.onCancel;return f.a.createElement(E.Container,{className:D.a.section,alignBox:"column"},f.a.createElement(E.Box,{className:D.a.deleteIcon},f.a.createElement(P.a,{name:"ZD-delete2"})),t&&f.a.createElement(E.Box,{className:D.a.title},t),n&&f.a.createElement(E.Box,{className:D.a.subTitle},n),f.a.createElement(E.Box,{className:D.a.buttonSection},f.a.createElement("span",{onClick:a},f.a.createElement(A.a,{text:w("crm.button.delete"),palette:"dangerFilled"})),f.a.createElement("span",{className:D.a.cancelButton,onClick:o},f.a.createElement(A.a,{text:w("support.label.cancel"),palette:"secondary"}))))}}]),t}(f.a.Component),F=M;M.propTypes={onCancel:y.a.func,onDelete:y.a.func,subtitle:y.a.string,title:y.a.string};var U=n("./src/actions/SubtabActions.js"),H=x.h.getI18NValue,Y=function(e){function t(e){l()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.state={showDelete:!1},n.openEditPage=n.openEditPage.bind(n),n.deleteTimeEntry=n.deleteTimeEntry.bind(n),n.showDeletePopup=n.showDeletePopup.bind(n),n.closeDeletePopup=n.closeDeletePopup.bind(n),n}return m()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getMyForm)("timeEntry",e.departmentId)}},{key:"openEditPage",value:function(){var e=this.props,t=e.id,n=e.openForm;e.module,e.moduleId;n(t,"detail")}},{key:"deleteTimeEntry",value:function(){var e=this.props,t=e.id,n=e.deleteTimeEntry,a=e.disableFreezeLayer;n(t,e.module,e.moduleId).then(a)}},{key:"showDeletePopup",value:function(){this.setState({showDelete:!0})}},{key:"closeDeletePopup",value:function(){this.setState({showDelete:!1})}},{key:"render",value:function(){var e=this.props,t=e.list,n=void 0===t?[]:t,a=(e.disableFreezeLayer,e.editPermission),o=e.deletePermission,r=e.currency,l=e.timeEntry,i=e.timeEntryDisplayName,s=e.onClose,c=this.state.showDelete;if(n.length){var u=l.owner,d=l.mode;return d=H("AUTO"===d?"support.setup.timetrack.auto":"support.setup.timetrack.manual"),c?f.a.createElement(F,{title:H("crm.button.delete"),subtitle:H("support.solution.category.delete.alert",i),onDelete:this.deleteTimeEntry,onCancel:this.closeDeletePopup}):f.a.createElement(E.Container,{className:v.a.accInfo,dataId:"timeEntryDetailView",alignBox:"vertical"},f.a.createElement(E.Box,null,f.a.createElement(E.Container,{className:v.a.container,align:"vertical",alignBox:"row"},f.a.createElement(E.Box,{className:v.a.accInfoImg},f.a.createElement(O.a,{src:u&&u.photoURL,name:u&&u.name,size:"xmedium"})),f.a.createElement(E.Box,{className:v.a.accInfoSection,flexible:!0},f.a.createElement("div",null,f.a.createElement("span",{className:v.a.accInfoName,"data-title":u.name},u.name),!l.invoiceId&&f.a.createElement(f.a.Fragment,null,a&&f.a.createElement(P.a,{name:"ZD-pen2",size:"14",iconClass:v.a.icons,onClick:this.openEditPage}),o&&f.a.createElement(P.a,{name:"ZD-delete2",size:"14",iconClass:v.a.icons,onClick:this.showDeletePopup}))),f.a.createElement("div",{className:v.a.value},f.a.createElement("span",{className:v.a.type},H("Type"))," - ",d)),f.a.createElement(E.Box,{className:v.a.closeIcon,dataId:"closeButton",onClick:s},f.a.createElement(P.a,{name:"ZD-close2",size:"10"})))),f.a.createElement(E.Box,{scroll:"vertical",flexible:!0,className:v.a.accInfohgt},f.a.createElement("div",{className:v.a.accInfoClient},n.map(function(e,t){return f.a.createElement(z.a,{text:e.value,label:e.label,fieldType:e.type,key:t,size:"medium",labelcolor:"black",textcolor:"black",theme:"regular",isBold:!0,currency:r})}))))}return f.a.createElement(C.a,null)}}]),t}(p.Component);t.default=Object(j.connect)(function(){var e=Object(L.e)();return function(t,n){var a=h()("module.timeentry["+n.id+"]",t),o=h()("departmentId",a),r=t.moduleMeta.timeEntry.singularLabel,l=Object(N.Ub)(t,{module:"timeEntry",mode:"delete"}),i=Object(N.Ub)(t,{module:"timeEntry",mode:"edit"});return{list:e(t,{data:a,deptId:o}),currency:Object(N.S)(t),timeEntry:a,departmentId:o,timeEntryDisplayName:r,editPermission:i,deletePermission:l}}},{getMyForm:I.m,disableFreezeLayer:S.g,deleteTimeEntry:U.b})(Y);Y.propTypes={currency:y.a.string,deletePermission:y.a.bool,deleteTimeEntry:y.a.func,departmentId:y.a.string,disableFreezeLayer:y.a.func,editPermission:y.a.bool,getMyForm:y.a.func,id:y.a.string,list:y.a.object,module:y.a.string,moduleId:y.a.string,timeEntryDisplayName:y.a.string,onClose:y.a.func}},"./src/containers/detailsubtab/timeentry/TimeEntryDetail/TimeEntryDetail.module.css":function(e,t,n){e.exports={container:"zd-timeentrydetail-container",accInfoSection:"zd-timeentrydetail-accInfoSection",accInfoName:"zd-timeentrydetail-accInfoName zd6063afa107 zdbce71b4599 zdccf2edd024 zd6063afa107",accInfoDepart:"zd-timeentrydetail-accInfoDepart zd6063afa107 zd6063afa107",title:"zd-timeentrydetail-title",user:"zd-timeentrydetail-user zd6063afa107",name:"zd-timeentrydetail-name zd6063afa107",value:"zd-timeentrydetail-value",accInfo:"zd-timeentrydetail-accInfo",accInfohgt:"zd-timeentrydetail-accInfohgt",accInfoClient:"zd-timeentrydetail-accInfoClient",accInfoPart:"zd-timeentrydetail-accInfoPart",type:"zd-timeentrydetail-type",icons:"zd-timeentrydetail-icons",closeIcon:"zd-timeentrydetail-closeIcon"}},"./src/reducers/timeEntrySelector.js":function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return T});var a=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/helpers/defineProperty.js"),o=n.n(a),r=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/babel-runtime/core-js/object/assign.js"),l=n.n(r),i=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/selectn/index.js"),s=n.n(i),c=n("../../../../npm-global/lib/node_modules/@zohodesk/react-cli/node_modules/reselect/es/index.js"),u=n("./src/utils/TimeFormat.js"),d=n("./src/fz-i18n/index.js"),m=n("./src/reducers/selector.js"),p=n("./src/constants/index.js"),f=function(e){return e.module.department},b=function(e){return e.module.timeentry},y=function(e,t){return s()("module["+p.n[t.module]+"]["+t.moduleId+"].timeentry",e)},g=function(){return Object(c.createSelector)([y,b,f],function(e,t,n){return e?e.reduce(function(e,a){var r=s()("["+a+"].departmentId",t);return l()(e,o()({},a,l()({},t[a],{departmentName:s()("["+r+"].name",n)})))},{}):{}})},h=d.h.getI18NValue,j=function(e,t){var n=t.deptId;return Object(m.I)(e,"timeEntry",n)},_=function(e,t){return t.data},v=function(){return Object(c.createSelector)([j,_],function(e,t){if(e){var n=e.fieldDetails,a=e.sections,o=a.ids,r=a.details,l=!1,i=[];return o.map(function(e){r[e].fields.map(function(e){var a=n[e],o=a.type,r=a.displayLabel,s=a.apiName,c=a.isCustomField,d=void 0;if(s.match(/^(hoursSpent|minutesSpent|secondsSpent)$/)){if(l)return;var m=t.hoursSpent,p=t.minutesSpent,f=t.secondsSpent;d=Object(u.b)(m,p,f)+" "+h("crm.workflow.scheduler.hours"),r=h("support.integ.timeentry.duration"),l=!0}else c?d=t.cf[s]:"isBillable"===s?(o="Picklist",d="true"===t[s]?h("support.request.timeentry.billable"):h("support.request.timeentry.nonbillable")):d=t[s];d||(d="-",o="Text"),"ownerId"!==s&&i.push({label:r,value:d,type:o})})}),i}})},E=function(e,t,n,a){var o=e.myForm,r=e.dependencyMapping,l=o.myTimeEntryLayoutId,i=o.timeEntryFields,s=o.timeEntryLayoutRules,c=o.timeEntryValidationRules,u=t||(n?"":l[a]);return{timeEntryFields:i[u]||{},dependencyMapping:r.timeEntry[u],layoutRules:s[u],validationRules:c[u],loadFormLayoutId:u}},T=function(e,t){var n=e.module.timeentry[t],a=n.isBillable,o=n.hoursSpent,r=n.minutesSpent,i=n.secondsSpent,s=n.agentCostPerHour,c=n.additionalCost,u=n.totalCost;return l()({},n,{isBillable:a?"billable":"nonbillable",duration:{hoursSpent:"0"===o?"00":o,minutesSpent:"0"===r?"00":r,secondsSpent:"0"===i?"00":i},agentCostPerHour:s&&"0.0"!=s?parseFloat(s).toString():"0.00",additionalCost:c&&"0.0"!=c?parseFloat(c).toString():"0.00",totalCost:u&&"0.0"!=u?parseFloat(u).toString():"0.00"})}},"./src/utils/TimeFormat.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s});var a=n("./src/fz-i18n/index.js"),o=function(e){return e%10==e?"0"+e:""+e},r=function(e,t,n){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?o(e)+" : "+o(t)+" : "+o(n):o(e)+":"+o(t)+":"+o(n)},l=function(e){return Math.round(e/36e5)},i=function(e){if(!e)return"00:00";var t=Math.floor(e/6e4%60),n=Math.floor(e/36e5),a=("0"+t).slice(-2);return(1==n.toString().length?"0"+n:n)+":"+a},s=function(e){var t=a.h.getI18NValue,n=a.h.userDateFormat;if(e){var o=!1,r="support.ticket.label.overduetime.info",l=n(e,{},r,"support.ticket.label.duetime.info",!1,function(e){return e.suffix===r&&(o=!0),"DD MMM YYYY hh:mm A"});return{isOverDue:o,overDueText:t(o?r:"support.ticket.label.duetime.info",l)}}return{isOverDue:!1}}},"./src/utils/Urls.js":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});var a=function(e){var t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")?t:"http://"+t};function o(e){return 10==e.length?"("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6,10):e}function r(e,t,n){return void 0!==n?e=e+"&"+t+"="+n:"limit"==t&&(e+="&limit=10"),e}}}]);