(window.deskappJsonp=window.deskappJsonp||[]).push([[137],{1025:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l});var o=function(e){var t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")?t:"http://"+t};function n(e){return 10==e.length?"("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6,10):e}function l(e,t,a){return void 0!==a?e=e+"&"+t+"="+a:"limit"==t&&(e+="&limit=10"),e}},1195:function(e,t,a){"use strict";var o=a(12),n=a.n(o),l=a(9),r=a.n(l),i=a(10),c=a.n(i),m=a(13),u=a.n(m),d=a(14),s=a.n(d),p=a(0),_=a.n(p),f=a(1),y=a.n(f),h=a(1196),b=a.n(h),g=a(947),E=a.n(g),k=a(246),v=a.n(k),x=a(109),P=a(8),I=a(1025),C=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||n()(t)).apply(this,arguments))}return s()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.text,o=e.fieldType,n=(e.onClick,e.size),l=e.isBold,r=e.labelcolor,i=e.textcolor;return _.a.createElement("div",{className:b.a.title},_.a.createElement("span",{className:b.a.user+" "+b.a[n]+" "+b.a[r],"data-title":t},t),_.a.createElement("span",{className:b.a.name+" "+b.a[n]+" "+b.a[i]+" "+(l&&b.a.bold)},o.match(/^(Lookup|LookUp|OwnerLookup|User Lookup|Text|Number|Percent|Decimal|Picklist|Pick List|BigInt|Integer|Double|Formula)$/)&&a,"Currency"==o&&a,"Date"==o&&_.a.createElement(P.d,{ago:"ago",format:function(){return"DD/MM/YYYY"},later:"late",to:a}),"DateTime"==o&&_.a.createElement(P.d,{ago:"ago",format:function(){return"DD/MM/YYYY hh:mm A"},later:"late",to:a}),"Email"==o&&_.a.createElement(x.a,{className:b.a.anchor,href:"mailto:"+a},a),"Phone"==o&&_.a.createElement(x.a,{className:b.a.anchor,href:"tel:"+a},a),o.match(/^(URL|Website)$/)&&_.a.createElement(x.a,{className:b.a.anchor,href:Object(I.c)(a),target:"_blank"},a),"Boolean"==o&&_.a.createElement(E.a,{checked:"true"==a,disabled:!0}),o.match(/^(Textarea|TextArea)$/)&&a.split("\n").map(function(e,t){return _.a.createElement(p.Fragment,{key:t},e,_.a.createElement("br",null))}),o.match(/^(Multiselect|Multiselect Pick List)$/)&&a.split(";").map(function(e,t){if(""!=e)return _.a.createElement(v.a,{key:t,text:e})})))}}]),t}(p.Component);t.a=C,C.propTypes={fieldType:y.a.string,isBold:y.a.bool,label:y.a.string,labelcolor:y.a.oneOf(["grey","black"]),onClick:y.a.func,size:y.a.oneOf(["small","medium"]),text:y.a.string,textcolor:y.a.oneOf(["grey","black"])},C.defaultProps={size:"small",labelcolor:"grey",textcolor:"black",isBold:!1}},1196:function(e,t,a){e.exports={title:"PrimaryInfo-module__title",user:"PrimaryInfo-module__user common-module__dotted common-module__oflow common-module__ellipsis",name:"PrimaryInfo-module__name",grey:"PrimaryInfo-module__grey",black:"PrimaryInfo-module__black",medium:"PrimaryInfo-module__medium common-module__semibold common-module__ftsmooth",small:"PrimaryInfo-module__small",anchor:"PrimaryInfo-module__anchor",agent:"PrimaryInfo-module__agent",bold:"PrimaryInfo-module__bold common-module__semibold common-module__ftsmooth"}},1293:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var o={preferences:a(78).a.PREFERENCESALERTPOPUPDATA,timeEntryDelete:"TIMEENTRY_DELETE_OPEN_POPUP"},n=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:o[e],data:{action:e,showAlertPopup:t,metaData:a,moduleData:n}}}},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},1744:function(e,t,a){e.exports={container:"TimeEntryDetail-module__container",accInfoSection:"TimeEntryDetail-module__accInfoSection",accInfoName:"TimeEntryDetail-module__accInfoName common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",accInfoDepart:"TimeEntryDetail-module__accInfoDepart common-module__dotted common-module__oflow common-module__ellipsis common-module__dotted common-module__oflow common-module__ellipsis",title:"TimeEntryDetail-module__title",user:"TimeEntryDetail-module__user common-module__dotted common-module__oflow common-module__ellipsis",name:"TimeEntryDetail-module__name common-module__dotted common-module__oflow common-module__ellipsis",value:"TimeEntryDetail-module__value",accInfo:"TimeEntryDetail-module__accInfo",accInfohgt:"TimeEntryDetail-module__accInfohgt",accInfoClient:"TimeEntryDetail-module__accInfoClient",accInfoPart:"TimeEntryDetail-module__accInfoPart",type:"TimeEntryDetail-module__type",icons:"TimeEntryDetail-module__icons",closeIcon:"TimeEntryDetail-module__closeIcon"}},458:function(e,t,a){"use strict";var o=a(12),n=a.n(o),l=a(9),r=a.n(l),i=a(10),c=a.n(i),m=a(13),u=a.n(m),d=a(14),s=a.n(d),p=a(0),_=a.n(p),f=a(173),y=a.n(f),h=a(16),b=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||n()(t)).apply(this,arguments))}return s()(t,e),c()(t,[{key:"render",value:function(){return _.a.createElement(h.Container,{alignBox:"row",align:"both",className:y.a.container},_.a.createElement(h.Box,{className:y.a.dot}),_.a.createElement(h.Box,{className:y.a.dot}),_.a.createElement(h.Box,{className:y.a.dot}),_.a.createElement(h.Box,{className:y.a.dot}),_.a.createElement(h.Box,{className:y.a.dot}),_.a.createElement(h.Box,{className:y.a.dot}))}}]),t}(_.a.Component);t.a=b},564:function(e,t,a){"use strict";a.r(t);var o=a(23),n=a.n(o),l=a(12),r=a.n(l),i=a(9),c=a.n(i),m=a(10),u=a.n(m),d=a(13),s=a.n(d),p=a(14),_=a.n(p),f=a(0),y=a.n(f),h=a(1),b=a.n(h),g=a(26),E=a(1744),k=a.n(E),v=a(16),x=a(64),P=a.n(x),I=a(175),C=a(261),T=a.n(C),D=a(22),N=a(458),B=a(1195),w=a(8),O=a(24),L=a(1293),A=a(17),z=function(e){function t(e){c()(this,t);var a=s()(this,(t.__proto__||r()(t)).call(this,e));return a.state={page:a.props.page||"view"},a.openEditPage=a.openEditPage.bind(a),a.deleteTimeEntry=a.deleteTimeEntry.bind(a),a.toggleAlertPopup=a.toggleAlertPopup.bind(a),a}return _()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getMyForm)("timeEntry",e.departmentId)}},{key:"openEditPage",value:function(){this.setState({page:"edit"})}},{key:"toggleAlertPopup",value:function(e,t){var a=this.props.toggleAlertPopup;a("timeEntryDelete",e,t)}},{key:"deleteTimeEntry",value:function(){var e=this;if(this.props.deletePermission){var t=this.props,a=t.id,o=t.timeEntryDisplayName,n=t.moveToTrash,l=t.parentId,r=t.module_s,i=w.f.getI18NValue,c={iconColor:"Red",buttonOneText:i("crm.button.delete"),buttonTwoText:i("support.button.cancel"),buttonOneClick:function(){n([a],"timeentry",l,r).then(function(){return e.toggleAlertPopup(!1)})},buttonTwoClick:function(){return e.toggleAlertPopup(!1)},showAlertPopup:!0,icon:"delete2",title:i("crm.button.delete"),subTitle:i("support.solution.category.delete.alert",o)};this.toggleAlertPopup(!0,c)}}},{key:"render",value:function(){var e=this.props,t=e.layout,a=e.timeEntryData,o=e.id,l=e.departmentId,r=e.parentId,i=e.isParentShared,c=e.disableFreezeLayer,m=e.editPermission,u=e.deletePermission,d=w.f.getI18NValue;if(t){var s=this.state.page;if("add"==s)return y.a.createElement(D.Hb,{departmentId:l,isAddForm:!0,isParentShared:i,parentId:r});if(a){var p=t.fieldDetails,_=t.sections,f=_.ids,h=_.details,b=f.reduce(function(e,t){var o=h[t];return[].concat(n()(e),n()(o.fields.map(function(e){var t=p[e].apiName,o=p[e].type;"isBillable"===t&&(o="Picklist");var n=p[e].displayLabel,l=void 0;return(l="Agent"==t?a.owner.name:p[e].isCustomField?a.cf[t]:a[t])||(l="-",o="Text"),{label:n,value:l,type:o}})))},[]),g=a.owner,E="AUTO"==a.mode?d("support.setup.timetrack.auto"):d("support.setup.timetrack.manual");return"view"==s?y.a.createElement(v.Container,{className:k.a.accInfo,isCover:!1},y.a.createElement(v.Box,null,y.a.createElement(v.Container,{className:k.a.container,align:"vertical",alignBox:"row"},y.a.createElement(v.Box,{className:k.a.accInfoImg},y.a.createElement(P.a,{src:g&&g.photoURL,name:g&&g.name,size:"xmedium"})),y.a.createElement(v.Box,{className:k.a.accInfoSection,flexible:!0},y.a.createElement("div",null,y.a.createElement("span",{className:k.a.accInfoName},g.name),m&&y.a.createElement(T.a,{name:"pen2",size:"14",iconClass:k.a.icons,onClick:this.openEditPage}),u&&y.a.createElement(T.a,{name:"delete2",size:"14",iconClass:k.a.icons})),y.a.createElement("div",{className:k.a.value},y.a.createElement("span",{className:k.a.type},"Type")," - ",E)),y.a.createElement("span",{className:k.a.closeIcon,onClick:c},y.a.createElement(T.a,{name:"closee",size:"20"})))),y.a.createElement(v.Box,{scroll:"vertical",flexible:!0,className:k.a.accInfohgt},y.a.createElement("div",{className:k.a.accInfoClient},b&&b.map(function(e,t){return y.a.createElement(B.a,{text:e.value,label:e.label,fieldType:e.type,key:t,size:"medium",labelcolor:"grey",textcolor:"black",isBold:!0})})))):y.a.createElement(D.Hb,{timeEntryId:o,isParentShared:i})}}return y.a.createElement(N.a,null)}}]),t}(f.Component);t.default=Object(g.connect)(function(e,t){var a=t.id?e.module.timeentry[t.id]:null,o=(a||e.module.ticket[t.parentId]).departmentId,n=e.moduleMeta.timeEntry.singularLabel,l=Object(A.Ib)(e,{module:"timeEntry",mode:"delete"}),r=Object(A.Ib)(e,{module:"timeEntry",mode:"edit"});return{timeEntryData:a,departmentId:o,layout:e.myForm.timeEntryFields[e.myForm.myTimeEntryLayoutId[o]],timeEntryDisplayName:n,editPermission:r,deletePermission:l}},{getMyForm:I.k,disableFreezeLayer:O.f,toggleAlertPopup:L.a,moveToTrash:O.D})(z),z.propTypes={deletePermission:b.a.bool,departmentId:b.a.string,disableFreezeLayer:b.a.func,editPermission:b.a.bool,getMyForm:b.a.func,id:b.a.string,isParentShared:b.a.string,layout:b.a.object,module_s:b.a.string,moveToTrash:b.a.func,page:b.a.string,parentId:b.a.string,timeEntryData:b.a.object,timeEntryDisplayName:b.a.string,toggleAlertPopup:b.a.func}},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),n=c(a(0)),l=c(a(1)),r=c(a(953)),i=c(a(151));function c(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),o(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,o=t.checked;a&&a(!o,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,o=e.checked,l=e.disabled,c=e.palette,m=e.text,u=e.labelPalette,d=e.active,s=e.labelSize,p=e.getRef,_=e.dataId,f=d?r.default[c+"_active"]:"",y=l?r.default.disabled:r.default.pointer;return n.default.createElement("span",{className:r.default.container+" "+y+" "+(m?r.default.layout:r.default.basic)+" "},n.default.createElement("input",{type:"checkbox",className:r.default.input+" "+(o?r.default.checked:""),name:a,checked:o,disabled:l,ref:p}),n.default.createElement("label",{className:r.default["label_"+c]+" "+f+" "+(m?r.default.layoutshrink:""),onClick:this.onChange,"data-id":_},n.default.createElement("span",null)),m&&n.default.createElement("span",{className:r.default.text},n.default.createElement(i.default,{text:m,palette:u,id:t,size:s,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=m,m.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},m.propTypes={active:l.default.bool,checked:l.default.bool,dataId:l.default.string,disabled:l.default.bool,getRef:l.default.func,id:l.default.string.isRequired,labelPalette:l.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:l.default.oneOf(["small","medium","large"]),name:l.default.string,onChange:l.default.func,palette:l.default.oneOf(["primary","danger"]),text:l.default.string},m.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}}}]);