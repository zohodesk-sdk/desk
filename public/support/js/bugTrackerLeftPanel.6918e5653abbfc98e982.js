(window.deskappJsonp=window.deskappJsonp||[]).push([[52],{1228:function(e,t,n){"use strict";var a=n(12),u=n.n(a),r=n(9),o=n.n(r),i=n(10),l=n.n(i),c=n(13),s=n.n(c),d=n(14),m=n.n(d),g=n(0),p=n.n(g),f=n(1),_=n.n(f),b=n(1246),k=n.n(b),I=n(151),B=n.n(I),E=n(30),h=function(e){function t(){return o()(this,t),s()(this,(t.__proto__||u()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=(e.status,e.children),a=e.id,u=e.isLocked,r=e.lockedMsg;return p.a.createElement("div",{className:""+(u?k.a.locked:"")},p.a.createElement("div",{className:""+(u?k.a.inline:"")},p.a.createElement(B.a,{size:"small",text:t,type:"title",id:a,clipped:!0})),r?p.a.createElement("span",{className:k.a.lockIcon,"data-title":r},p.a.createElement(E.CommunityFontIcon,{name:"locked",size:"14",isBold:!0})):null,p.a.createElement("div",{className:k.a.ticketForm},n))}}]),t}(p.a.Component);t.a=h,h.defaultProps={status:"data",text:"Label",isLocked:!1,lockedMsg:""},h.propTypes={children:_.a.node,id:_.a.string,isLocked:_.a.bool,lockedMsg:_.a.string,status:_.a.oneOfType([_.a.string,_.a.bool]),text:_.a.string}},1246:function(e,t,n){e.exports={ticketForm:"FieldItem-module__ticketForm common-module__semibold common-module__ftsmooth",locked:"FieldItem-module__locked",inline:"FieldItem-module__inline",lockIcon:"FieldItem-module__lockIcon"}},1324:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"i",function(){return s}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return _}),n.d(t,"b",function(){return b});var a=n(2),u=n.n(a),r=n(5),o=n.n(r),i=n(15),l=n(6);function c(e){return{types:Object(l.m)("GET_BUG_INFO"),callAPI:function(t){return Object(i.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:o()({},e,{bugInfo:t})},result:[]}})}}}function s(e,t){return{types:Object(l.m)("UPDATE_BUG_STATUS"),callAPI:function(n,a){return Object(i.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:n.currentOrgId}).patch("",{status:t}).then(function(t){var n=a().module.ticket[e].bugInfo,r=u()(n,t);return{entities:{ticket:o()({},e,{bugInfo:r})},result:[]}})}}}function d(e){return{types:Object(l.m)("DELINK_BUG"),callAPI:function(t,n){return Object(i.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:t.currentOrgId}).del().then(function(t){return{entities:{ticket:o()({},e,{bugInfo:{message:"No Bug Id available for this case Id"}})},result:[]}})}}}function m(e,t){return{types:Object(l.m)("FILE_A_BUG"),callAPI:function(n,a){return Object(i.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:n.currentOrgId}).post("",t).then(function(t){return t.key?{key:t.key,entities:{ticket:o()({},e,{bugInfo:t})},result:[]}:{message:t.message}})}}}function g(e,t,n){return{types:Object(l.m)("ASSOCIATE_A_BUG"),callAPI:function(a,u){return Object(i.a)("/api/v1/tickets/"+e+"/associateBug?bugKey="+t+"&projectId="+n,!1,{orgId:a.currentOrgId}).post().then(function(t){return t.key?{key:t.key,entities:{ticket:o()({},e,{bugInfo:t})},result:[]}:{message:t.message}})}}}function p(){return{types:Object(l.m)("GET_BUGTRACKER_CONFIGURATION"),callAPI:function(e){return Object(i.a)("/api/v1/bugTrackerConfiguration",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function f(e){return{types:Object(l.m)("GET_BUGTRACKER_PROJECTS"),callAPI:function(t){return Object(i.a)("/api/v1/bugTrackerProjects?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return{data:t.data,depId:e}})}}}function _(e){return{type:"OPEN_BUGTRACKER_FORM",data:e}}function b(){return{type:"CLOSE_BUGTRACKER_FORM"}}},1760:function(e,t,n){e.exports={jiraContainer:"BugTrackerLeftPanel-module__jiraContainer",jiraHead:"BugTrackerLeftPanel-module__jiraHead",titleHead:"BugTrackerLeftPanel-module__titleHead common-module__dflex",bugName:"BugTrackerLeftPanel-module__bugName common-module__semibold common-module__ftsmooth common-module__flexgrow",newTab:"BugTrackerLeftPanel-module__newTab",jiraDetails:"BugTrackerLeftPanel-module__jiraDetails common-module__dotted common-module__oflow common-module__ellipsis",jiraContent:"BugTrackerLeftPanel-module__jiraContent",jiraFooter:"BugTrackerLeftPanel-module__jiraFooter common-module__dflex",delinkButtom:"BugTrackerLeftPanel-module__delinkButtom"}},675:function(e,t,n){"use strict";n.r(t);var a=n(12),u=n.n(a),r=n(9),o=n.n(r),i=n(10),l=n.n(i),c=n(13),s=n.n(c),d=n(14),m=n.n(d),g=n(0),p=n.n(g),f=n(1),_=n.n(f),b=n(26),k=(n(24),n(1324)),I=n(1760),B=n.n(I),E=n(16),h=n(30),y=n(73),O=n.n(y),j=n(8),v=n(1228),N=n(109),T=function(e){function t(e){o()(this,t);var n=s()(this,(t.__proto__||u()(t)).call(this,e));return n.state={},n.updateBugStatus=n.updateBugStatus.bind(n),n}return m()(t,e),l()(t,[{key:"updateBugStatus",value:function(e){var t=this;e="Closed"==e?"reopen":"close",this.setState({updateStatus:"loading"}),this.props.updateBugStatus(e).then(function(){t.setState({updateStatus:"none"})},function(){t.setState({updateStatus:"none"})})}},{key:"render",value:function(){var e=this.state.updateStatus,t=void 0===e?"none":e,n=this.props,a=n.isReadOnly,u=n.bugName,r=n.info,o=void 0===r?{}:r,i=n.delinkBug,l=o.assigneename,c=o.status,s=o.title,d=o.bugkey,m=o.duedate;return p.a.createElement(E.Container,null,p.a.createElement(E.Box,{flexible:!0,scroll:"vertical",className:B.a.jiraContainer},p.a.createElement("div",{className:B.a.jiraHead},p.a.createElement(N.a,{className:B.a.titleHead,href:"bugInfoUrl",target:"_blank"},p.a.createElement("span",{className:B.a.bugName},d),p.a.createElement("span",{className:B.a.newTab},p.a.createElement(h.TopbandFontIcon,{name:"newtab",size:"14",isBold:!0}))),p.a.createElement("span",{className:B.a.jiraDetails},s)),p.a.createElement("div",{className:B.a.jiraContent},p.a.createElement(v.a,{text:j.f.getI18NValue("support.bug.detail.bug.assignto",[u])},p.a.createElement("span",null,l)),p.a.createElement(v.a,{text:j.f.getI18NValue("support.bug.detail.bug.status.new",[u])},p.a.createElement("span",null,c)),m?p.a.createElement(v.a,{text:j.f.getI18NValue("support.dueon")},p.a.createElement("span",null,m)):null)),a?null:p.a.createElement(E.Box,{className:B.a.jiraFooter},p.a.createElement(O.a,{text:"Closed"==c?j.f.getI18NValue("support.label.reopen.req",[u]):j.f.getI18NValue("support.common.set.close.entity",[u]),palette:"primaryFilled",onClick:this.updateBugStatus.bind(this,c),status:t}),p.a.createElement("span",{className:B.a.delinkButtom},p.a.createElement(O.a,{text:j.f.getI18NValue("support.integ.bug.delink",[u]),palette:"secondary",onClick:i,status:"none"}))))}}]),t}(p.a.Component),S=T;T.propTypes={bugName:_.a.string,delinkBug:_.a.func,info:_.a.object,isReadOnly:_.a.bool,updateBugStatus:_.a.func};var C=function(e){function t(e){o()(this,t);var n=s()(this,(t.__proto__||u()(t)).call(this,e));return n.updateBugStatus=n.updateBugStatus.bind(n),n}return m()(t,e),l()(t,[{key:"updateBugStatus",value:function(e){var t=this.props,n=t.ticketId,a=t.updateBugStatus;return a(n,e)}},{key:"render",value:function(){var e=this.props,t=e.bugInfo,n=e.bugName,a=e.isReadOnly,u=e.delinkBug;return p.a.createElement(S,{info:t,bugName:n,isReadOnly:a,updateBugStatus:this.updateBugStatus,delinkBug:u})}}]),t}(g.Component);C.propTypes={bugInfo:_.a.object,bugName:_.a.string,delinkBug:_.a.func,isReadOnly:_.a.bool,ticketId:_.a.string,updateBugStatus:_.a.func};t.default=Object(b.connect)(function(e,t){return{bugInfo:e.module.ticket[t.ticketId].bugInfo}},{updateBugStatus:k.i})(C)}}]);