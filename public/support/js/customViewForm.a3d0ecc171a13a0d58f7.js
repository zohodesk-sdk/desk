(window.deskappJsonp=window.deskappJsonp||[]).push([[66],{1003:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=s(a(0)),r=s(a(1)),o=s(a(1011)),l=s(a(151));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=a.handleChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"handleChange",value:function(e){var t=this.props,a=t.onChange,n=t.value;a&&a(n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.value,r=e.checked,s=e.disabled,c=e.text,d=e.labelPalette,u=e.active,m=e.size,h=e.labelSize,p=e.dataId,f=s?o.default.disabled:o.default.pointer,g=u?o.default.active:"";return i.default.createElement("span",{className:o.default.container+" "+f+" "+(c?o.default.layout:o.default.basic),onClick:this.handleChange,"data-id":p},i.default.createElement("input",{type:"radio",id:t,className:o.default.input+"  "+(r?o.default.checked:""),name:a,value:n,checked:r,disabled:s}),i.default.createElement("label",{className:g+" "+o.default[m]+" "+(c?o.default.layoutshrink:"")}),c&&i.default.createElement("span",{className:o.default.text},i.default.createElement(l.default,{text:c,palette:d,size:h,type:"title",clipped:!0})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",size:"medium",dataId:"RadioComp"},c.propTypes={active:r.default.bool,checked:r.default.bool,dataId:r.default.string,disabled:r.default.bool,id:r.default.string.isRequired,labelPalette:r.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:r.default.oneOf(["small","medium","large"]),name:r.default.string,onChange:r.default.func,size:r.default.oneOf(["small","medium"]),text:r.default.string,value:r.default.string},c.propTypesDescription={checked:" ",disabled:" ",active:" ",labelPalette:" ",id:" ",name:" ",value:" ",text:" ",size:" ",labelSize:" ",onChange:" "}},1011:function(e,t,a){e.exports={container:"Radio-module__container common-module__offSelection",layout:"Radio-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"Radio-module__basic",input:"Radio-module__input",disabled:"Radio-module__disabled common-module__disabled",pointer:"Radio-module__pointer",small:"Radio-module__small",medium:"Radio-module__medium",layoutshrink:"Radio-module__layoutshrink common-module__flexshrink",text:"Radio-module__text common-module__flexgrow",checked:"Radio-module__checked",active:"Radio-module__active"}},1018:function(e,t,a){e.exports={primary:"ValidationMessage-module__primary",secondary:"ValidationMessage-module__secondary"}},1024:function(e,t,a){"use strict";var n=a(12),i=a.n(n),r=a(9),o=a.n(r),l=a(10),s=a.n(l),c=a(13),d=a.n(c),u=a(14),m=a.n(u),h=a(0),p=a.n(h),f=a(1),g=a.n(f),v=a(951),b=a.n(v),y=a(151),A=a.n(y),C=a(99),S=a.n(C),_=a(952),E=function(e){function t(e){o()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.handleChange=a.handleChange.bind(a),a.handleGetRef=a.handleGetRef.bind(a),a.focusInput=a.focusInput.bind(a),a}return m()(t,e),s()(t,[{key:"handleChange",value:function(e){var t=this.props,a=t.id,n=t.onChange;n&&n(a,e)}},{key:"handleGetRef",value:function(e){var t=this.props,a=t.getRef,n=t.id;this.textBoxElem=e,a&&a(e,n)}},{key:"focusInput",value:function(e){this.textBoxElem.focus()}},{key:"render",value:function(){var e=this.props,t=e.labelName,a=e.id,n=e.textBoxSize,i=e.textBoxVariant,r=e.textBoxType,o=e.isMandatory,l=e.validationMessage,s=e.validationPalette,c=e.maxLength,d=e.isReadOnly,u=e.value,m=e.errorType,h=e.isDisabled,f=e.title,g=e.onBlur,v=e.dataId,y=e.validationRuleMessage,C=e.validationRulePalette;return p.a.createElement("div",{className:b.a.container+" "+(h?b.a.disabled:""),"data-title":h?f:""},p.a.createElement(A.a,{text:t,id:a,size:"medium",palette:o?"mandatory":"primary",onClick:this.focusInput}),p.a.createElement("div",{className:b.a.fieldContainer},p.a.createElement(S.a,{id:a,type:r,variant:i,size:n,maxLength:c,isReadOnly:d,inputRef:this.handleGetRef,value:u,onChange:this.handleChange,dataId:v,onBlur:g}),l&&p.a.createElement(_.a,{text:l,palette:s,type:m,size:"small",dataId:v+"_validation"}),y&&p.a.createElement(_.a,{text:y,palette:C,type:m,size:"small"})))}}]),t}(h.PureComponent);t.a=E,E.propTypes={dataId:g.a.string,errorType:g.a.oneOf(["primary","secondary"]),getRef:g.a.func,id:g.a.string,isDisabled:g.a.bool,isMandatory:g.a.bool,isReadOnly:g.a.bool,labelName:g.a.string.isRequired,maxLength:g.a.number,onBlur:g.a.func,onChange:g.a.func,textBoxSize:g.a.string,textBoxType:g.a.string,textBoxVariant:g.a.string,title:g.a.string,validationMessage:g.a.string,validationPalette:g.a.string,validationRuleMessage:g.a.string,validationRulePalette:g.a.string,value:g.a.string},E.defaultProps={textBoxType:"text",textBoxSize:"xmedium",isMandatory:!1,textBoxVariant:"default",errorType:"primary"}},1075:function(e,t,a){"use strict";a.d(t,"b",function(){return p}),a.d(t,"c",function(){return f}),a.d(t,"a",function(){return g});var n=a(2),i=a.n(n),r=a(20),o=a.n(r),l=a(15),s=a(6),c=a(7),d=a(17),u=(a(8),a(46)),m=(a(93),a(92)),h=(a(3),a(19),a(24));function p(e){var t=e.toLowerCase()||"";return{types:Object(s.m)("ARCHIVED_VIEW"),shouldCallAPI:function(e){var a=Object(d.r)(e);return!o()(e.departmentSpecificState[a][t+"List"].views.archived).length},callAPI:function(e){var a=Object(d.r)(e);return Object(l.a)("/api/v1/archivedViews?module="+("activities"===t?""+t:t+"s")+Object(u.a)(e,!0),!1,{orgId:e.currentOrgId}).get().then(function(e){var n={};return i()(Object(c.normalize)(e.data,Object(c.arrayOf)(Object(c.schema)(t+"view",{entityAssignment:function(e){return n[e.sanitizedName]=e.id,e.isCustomView=!0,e}}))),{deptId:a,mapper:n,moduleName:t})})}}}function f(e,t){var a=e.toLowerCase()||"";return function(n,i){return n({types:Object(s.m)("UNARCHIVED_VIEW"),callAPI:function(i){var r=Object(d.r)(i);Object(d.jb)(i),Object(d.O)(i),i.routing.paramMap.moduleName,Object(d.u)(i);return Object(l.a)("/api/v1/archivedViews/"+t+"/unArchive",!1,{orgId:i.currentOrgId}).post().then(function(i){if(204===i.responseStatus)return n(Object(m.c)(e,!0)).then(function(e){return{moduleName:a,deptId:r,viewId:t}})})}})}}function g(e,t,a){var n=e.toLowerCase()||"";return function(e,i){return e({types:Object(s.m)("DELETE_ARCHIVED_VIEW"),callAPI:function(i){var r=Object(d.r)(i),o=(Object(d.jb)(i),Object(d.O)(i)),s=i.routing.paramMap.moduleName,c=Object(d.u)(i);return Object(l.a)("/api/v1/archivedViews/"+t,!1,{orgId:i.currentOrgId}).del().then(function(i){if(204===i.responseStatus){var l={module:n+"view",id:t,res:i,deptId:r,moduleName:n,isArchivedView:!0};return t===a?e(Object(h.y)(r)).then(function(t){return e(Object(h.K)({pathname:"/"+o+"/"+c+"/"+s+"/list"})),l}):l}})}})}}},1085:function(e,t,a){"use strict";a.d(t,"a",function(){return O});var n=a(23),i=a.n(n),r=a(11),o=a.n(r),l=a(12),s=a.n(l),c=a(9),d=a.n(c),u=a(10),m=a.n(u),h=a(13),p=a.n(h),f=a(14),g=a.n(f),v=a(0),b=a.n(v),y=a(1),A=a.n(y),C=a(8),S=a(949),_=a.n(S),E=a(976),x=a(974),I=function(e){function t(e){d()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.handlePopupOpen=a.handlePopupOpen.bind(a),a.handleSearchAgents=a.handleSearchAgents.bind(a),a.handleSelectAgent=a.handleSelectAgent.bind(a),a.handleDefaulValueSet=a.handleDefaulValueSet.bind(a),a.state={defaultSelectedAgentDetails:[],isPopupFirstTimeOpened:!1},a.getAgentsList=Object(x.a)(),a}return g()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.handleDefaulValueSet(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.selectedAgent!==this.props.selectedAgent&&this.handleDefaulValueSet(e)}},{key:"handleDefaulValueSet",value:function(e){var t=e.selectedAgent,a=e.agents,n=e.namePattern,i=this.getAgentsList({},{agents:a,agentIds:[t],namePattern:n});this.setState({defaultSelectedAgentDetails:i})}},{key:"handleSearchAgents",value:function(e){var t=this.props,a=t.onSearchAgents,n=t.getAgents;return a(e),e?n():o.a.resolve()}},{key:"handlePopupOpen",value:function(e){var t=this.props.getAgents,a=this.state.isPopupFirstTimeOpened;return a||this.setState({isPopupFirstTimeOpened:!0}),a?o.a.resolve():t(e)}},{key:"handleSelectAgent",value:function(e){var t=this.props.onChange;"none"!==e&&t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.agentsList,a=e.getNextAgents,n=e.isNextAgents,r=e.selectedAgent,o=e.needNoneValue,l=e.searchString,s=e.excludeAgents,c=e.getRef,d=e.isReadOnly,u=e.textBoxSize,m=e.textBoxVariant,h=e.dataId,p=e.isNeedAllAgentValue,f=this.state.defaultSelectedAgentDetails,g=C.f.getI18NValue("None");return t=o&&!l?[{id:"none",name:"--"+g+"--"}].concat(i()(t)):t,t=p&&!l?[{id:"allAgents",name:C.f.getI18NValue("AllUsers")}].concat(i()(t)):t,b.a.createElement(_.a,{valueField:"id",textField:"name",options:[].concat(i()(t),i()(f)),getNextOptions:a,isNextOptions:n,selectedValue:r,onChange:this.handleSelectAgent,onDropBoxOpen:this.handlePopupOpen,onSearch:this.handleSearchAgents,excludeOptions:s,needLocalSearch:!1,needSearch:t.length>=6,emptyMessage:C.f.getI18NValue("support.label.no.match.found"),getRef:c,isReadOnly:d,textBoxSize:u,textBoxVariant:m,dataId:h})}}]),t}(v.Component);I.propTypes={selectedAgent:A.a.string.isRequired,onChange:A.a.func.isRequired,needNoneValue:A.a.bool,excludeAgents:A.a.array,getRef:A.a.func,isReadOnly:A.a.bool,textBoxVariant:A.a.string,textField:A.a.string,textBoxSize:A.a.string,agents:A.a.object,agentsList:A.a.array,getAgents:A.a.func,getNextAgents:A.a.func,searchString:A.a.string,onSearchAgents:A.a.func,isNextAgents:A.a.bool,namePattern:A.a.array,dataId:A.a.string,isNeedAllAgentValue:A.a.bool},I.defaultProps={needNoneValue:!1,isNeedAllAgentValue:!1},t.b=Object(E.a)("activeConfirmedAgents")(I);var O=Object(E.a)("activeConfirmedNonLightAgents")(I)},1118:function(e,t,a){"use strict";var n,i=a(5),r=a.n(i),o=a(12),l=a.n(o),s=a(9),c=a.n(s),d=a(10),u=a.n(d),m=a(13),h=a.n(m),p=a(14),f=a.n(p),g=a(0),v=a.n(g),b=a(1),y=a.n(b),A=a(156),C=a.n(A),S=a(109),_=a(8),E=a(16),x=a(1119),I=a.n(x),O=function(e){function t(e){c()(this,t);var a=h()(this,(t.__proto__||l()(t)).call(this,e));return a.onClickText=a.onClickText.bind(a),a}return f()(t,e),u()(t,[{key:"onClickText",value:function(){var e=this.props.onUnarchive;e&&e()}},{key:"render",value:function(){var e=this.props,t=e.errorTxt,a=e.messageTxt,n=e.successTxt,i=e.isSuccess,r=e.hrefLink,o=e.needIcon,l=void 0===o||o,s=_.f.getI18NValue("support.crmlabel.learnmore");return v.a.createElement(E.Container,{alignBox:"row",align:"vertical"},i?v.a.createElement(E.Box,{flexible:!0,className:I.a.sucessName},v.a.createElement(E.Container,{alignBox:"row",align:"vertical"},v.a.createElement(E.Box,{className:I.a.sucessIcon},v.a.createElement(C.a,{name:"ZD-ticknew"})),v.a.createElement(E.Box,{flexible:!0,"data-title":n,className:I.a.successText},n))):v.a.createElement(E.Box,{flexible:!0},v.a.createElement(E.Container,{alignBox:"row",align:"vertical"},v.a.createElement(E.Box,{shrink:!0,"data-title":t,className:I.a.errorName},v.a.createElement("span",null,t),l&&v.a.createElement(S.a,{href:r,target:"_blank",className:I.a.srchLink},v.a.createElement("span",{className:I.a.errorIcon},v.a.createElement(C.a,{name:"ZD-information57",title:s})))),v.a.createElement(E.Box,{className:I.a.gap},"."),v.a.createElement(E.Box,{className:I.a.messageName,onClick:this.onClickText},l&&v.a.createElement("span",{className:I.a.messageIcon},v.a.createElement(C.a,{name:"ZD-archive"})),v.a.createElement("span",null,a)))))}}]),t}(g.Component);t.a=O,O.propTypes=(n={errorTxt:y.a.string,hrefLink:y.a.string,isSuccess:y.a.bool},r()(n,"isSuccess",y.a.bool),r()(n,"messageTxt",y.a.string),r()(n,"needIcon",y.a.bool),r()(n,"onUnarchive",y.a.func),r()(n,"successTxt",y.a.string),n)},1119:function(e,t,a){e.exports={errorName:"Unarchive-module__errorName common-module__dotted common-module__oflow common-module__ellipsis",messageName:"Unarchive-module__messageName",sucessName:"Unarchive-module__sucessName",errorIcon:"Unarchive-module__errorIcon",messageIcon:"Unarchive-module__messageIcon",sucessIcon:"Unarchive-module__sucessIcon",gap:"Unarchive-module__gap",successText:"Unarchive-module__successText common-module__dotted common-module__oflow common-module__ellipsis"}},1125:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=l(a(0)),r=l(a(1)),o=l(a(1126));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.type,n=e.buttonPosition,r=[];return t.forEach(function(e){var t=i.default.createElement("span",{className:o.default[a]},e);r.push(t)}),i.default.createElement("div",{className:o.default.buttonGroup+" "+o.default[a]},i.default.createElement("div",{className:o.default["align"+n]},t))}}]),t}();t.default=s,s.defaultProps={buttonPosition:"left",children:null},s.propTypes={buttonPosition:r.default.oneOf(["left","right","center"]),children:r.default.node,type:r.default.string.isRequired}},1126:function(e,t,a){e.exports={buttonGroup:"Buttongroup-module__buttonGroup common-module__cboth",footer:"Buttongroup-module__footer",header:"Buttongroup-module__header",tab:"Buttongroup-module__tab",alignleft:"Buttongroup-module__alignleft common-module__fleft",alignright:"Buttongroup-module__alignright common-module__fright",aligncenter:"Buttongroup-module__aligncenter common-module__tcenter"}},1166:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return d});var n=a(2),i=a.n(n),r=a(7),o=a(15),l=a(6),s=a(3);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.T,n=arguments[3];return{types:Object(l.m)(s.L.ROLE),callAPI:function(l){var c=2*a>500?500:2*a;return Object(o.a)("/api/v1/roles?from="+e+"&limit="+c+(t?"&searchStr=*"+t+"*":"")+(n?"&isVisible=true":""),!1,{orgId:l.currentOrgId}).get().then(function(n){return i()({},Object(r.normalize)(204!==n.responseStatus?n.data:[],Object(r.arrayOf)(Object(r.schema)(s.L.ROLE_L))),{from:e,limit:a,isNext:!!n.data&&n.data.length>a,searchStr:t})},function(e){throw e})}}}function d(e){return{types:Object(l.m)("ROLE"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(o.a)("/api/v1/rolesByIds?roleIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.normalize)(204!==e.responseStatus?e.data:[],Object(r.arrayOf)(Object(r.schema)(s.L.ROLE_L)))})}}}},1317:function(e,t,a){"use strict";a.d(t,"a",function(){return O});var n=a(23),i=a.n(n),r=a(11),o=a.n(r),l=a(12),s=a.n(l),c=a(9),d=a.n(c),u=a(10),m=a.n(u),h=a(13),p=a.n(h),f=a(14),g=a.n(f),v=a(0),b=a.n(v),y=a(1),A=a.n(y),C=a(254),S=a.n(C),_=a(8),E=a(976),x=a(974),I=function(e){function t(e){d()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.handleSelectAgent=a.handleSelectAgent.bind(a),a.handleSearchAgents=a.handleSearchAgents.bind(a),a.handlePopupOpen=a.handlePopupOpen.bind(a),a.state={defaultSelectedAgentDetails:[],isPopupFirstTimeOpened:!1},a.getAgentsList=Object(x.a)(),a}return g()(t,e),m()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.selectedAgents,a=e.agents,n=e.namePattern,i=this.getAgentsList({},{agents:a,agentIds:t,namePattern:n});this.setState({defaultSelectedAgentDetails:i})}},{key:"handleSelectAgent",value:function(e){(0,this.props.onChange)(e)}},{key:"handleSearchAgents",value:function(e){var t=this.props,a=t.onSearchAgents,n=t.getAgents;return a(e),e?n():o.a.resolve()}},{key:"handlePopupOpen",value:function(e){var t=this.props.getAgents,a=this.state.isPopupFirstTimeOpened;return a||this.setState({isPopupFirstTimeOpened:!0}),a?o.a.resolve():t(e)}},{key:"render",value:function(){var e=this.props,t=e.agentsList,a=e.getNextAgents,n=e.isNextAgents,r=e.selectedAgents,o=e.noMoreAgentsMessage,l=e.noAgentsMessage,s=e.placeHolder,c=e.dataId,d=this.state.defaultSelectedAgentDetails,u=_.f.getI18NValue("support.label.no.match.found");return b.a.createElement(S.a,{imageField:"photoURL",textField:"name",options:[].concat(i()(t),i()(d)),onChange:this.handleSelectAgent,onSearch:this.handleSearchAgents,selectedOptions:r,isNextOptions:n,getNextOptions:a,emptyMessage:l||u,noMoreOptionssMessage:o,needLocalSearch:!1,onDropBoxOpen:this.handlePopupOpen,placeHolder:s,size:"xmedium",dataId:c})}}]),t}(v.Component);I.propTypes={selectedAgents:A.a.array.isRequired,onChange:A.a.func.isRequired,noAgentsMessage:A.a.string,noMoreAgentsMessage:A.a.string,placeHolder:A.a.string,dataId:A.a.string,agents:A.a.object,agentsList:A.a.array,getAgents:A.a.func,getNextAgents:A.a.func,onSearchAgents:A.a.func,isNextAgents:A.a.bool,namePattern:A.a.array,departmentId:A.a.string},t.b=Object(E.a)("activeConfirmedAgents")(I);var O=Object(E.a)("activeConfirmedNonLightAgents")(I)},1351:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return s}),a.d(t,"a",function(){return d}),a.d(t,"f",function(){return m}),a.d(t,"b",function(){return h});var n=a(2),i=a.n(n),r=a(8);function o(e){var t=e.replace(/\s+/g,""),a=r.f.getI18NValue("and"),n=r.f.getI18NValue("or");return t=(t=(t=function(e){for(var t="",a=0;a<e.length;a++){var n=e.charAt(a);"("===n||"d"===n||"r"===n?t=t+n+" ":")"===n||"a"===n||"o"===n?t=t+" "+n:t+=n}return t}(l(t))).replace(/(and)/gi,a)).replace(/(or)/gi,n)}function l(e){var t=e.replace(/\s+/g,""),a=r.f.getI18NValue("and"),n=r.f.getI18NValue("or");return t=(t=t.replace(new RegExp("(and|"+a+")","gi"),"and")).replace(new RegExp("(or|"+n+")","gi"),"or")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];if(!e.trim())return{errorMessage:"support.label.enter.cv.pattern",isValid:!1};var a=l(e);if((a.match(/\(/gi)||[]).length!==(a.match(/\)/gi)||[]).length)return{errorMessage:"criteria.error.alert.brackets.count.mismatch",isValid:!1};var n=a.replace(/#/g,"~");if(-1!==(n=a.replace(/(and|or)/g,"#")).indexOf("(#")||-1!==n.indexOf("#)"))return{errorMessage:"criteria.error.alert.brackets.invalid",isValid:!1};if(-1!==n.indexOf("()"))return{errorMessage:"criteria.error.alert.brackets",isValid:!1};for(var i=a.match(/[0-9]+/g)||[],r=i.length,o=0;o<r;o++){if(parseInt(i[o])!==o+1)return{errorMessage:"sb.criteria.number.notmatch.check",isValid:!1}}var s=n.replace(/[()]/g,"#").replace(/[0-9]+/g,"#").replace(/#/g,"");return s&&s.length>=1?{errorMessage:"criteria.error.alert.other.params",isValid:!1}:t-1!==(a.match(/(and|or)/gi)||[]).length?{errorMessage:"criteria.error.alert.andor.rowcount.mismatch",isValid:!1}:r!==t?{errorMessage:"criteria.error.alert.andor.rowcount.mismatch",isValid:!1}:{isValid:!0,pattern:a}}function c(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=i()({},e),r=n.accessibility,o=void 0===r?{}:r,l=o.teams,s=o.roles,c=o.agents,d=o.rolesAndSubordinates,u=o.type,h=void 0===u?"onlyMe":u,p=n.name,f=void 0===p?"":p,g=n.department;g=g||t;for(var v=n.criteria,b=v.pattern,y=void 0===b?"":b,A=v.fieldConditions,C=[],S=[],_=A.length,E=0;E<_;E++){var x=A[E],I=x.condition,O=x.fieldName,T=x.value;if(O&&"-- Click to select --"!==O){var N=i()({},{condition:I},{fieldName:O},{value:T});a&&(N.index=E),S.push(N)}else C.push(E)}var k=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,a=arguments[1],n=e.length,i=0;i<n;i++){var r=e[i]-t;r>=0&&(a=m(r,a),t++)}return a}(C,y),w=i()({},{fieldConditions:S},{pattern:k});return i()({},{accessibility:{teams:l,roles:s,agents:c,rolesAndSubordinates:d,type:h}},{criteria:w},{name:f},{department:g})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],n=arguments[3],i=arguments[4],r=c(e,a,!0),o=c(e,a),l=r.name,s=void 0===l?"":l,d=r.criteria,u=r.accessibility,m=d.fieldConditions,h=u.agents,p=void 0===h?[]:h,f=u.roles,g=void 0===f?[]:f,v=u.rolesAndSubordinates,b=void 0===v?[]:v,y=u.teams,A=void 0===y?[]:y,C=s.replace(/\s+/g,"");if(!s||!C)return{isValid:!1,errorField:"name",errorMessage:"support.label.cv.name.empty.check"};if(!function(e){for(var t=["`","~","!","#","^","*","[","]","{","}","|","\\",'"',";","/","(",")"],a=t.length,n=0;n<a;n++)if(e.indexOf(t[n])>=0)return!1;return!0}(s))return{isValid:!1,errorField:"name",errorMessage:"crm.alert.label.special.characters"};for(var S=n.length,_=!1,E=0;E<S;E++){if(s.replace(/\s+/g,"").toLowerCase()===(n[E]||"").replace(/\s+/g,"").toLowerCase()){_=!0;break}}if(_)return{isValid:!1,errorField:"name",errorMessage:"crm.alert.customview.name.exists"};var x=m.length;if(!x)return{isValid:!1,errorField:"criteria",errorMessage:"support.label.cv.criteria.empty.check",payloadObj:r};if(x>25)return{isValid:!1,errorField:"criteria",errorMessage:"Criteria limit only 25!",payloadObj:r};for(var I=!1,O=!1,T="",N=0,k=0;k<x;k++){var w=m[k],V=w.fieldName,R=w.value,P=void 0===R?[]:R,M=w.condition,D=w.index,j=t[V].type;if(!P[0]&&"Happiness Rating"!==V){I=!0,T=(t[V]||{}).i18NLabel,N=D;break}if(!(P[1]||"between"!==M&&"not between"!==M)){O=!0,T=(t[V]||{}).i18NLabel,N=D;break}if(("user"===j||"team"===j&&"hasAgents"===M)&&P.length>50)return{isValid:!1,errorField:"criteria",errorMessage:(t[V]||{}).i18NLabel+" can select only 50 agents",errorFieldIndex:D,payloadObj:r}}return I||O?{isValid:!1,errorField:"criteria",errorMessage:O?"crm.end.date.field.empty.check":"crm.field.empty.check",criteriaField:T,errorFieldIndex:N,payloadObj:r}:"specificAgents"===i&&p&&!p.length&&g&&!g.length&&b&&!b.length&&A&&!A.length?{isValid:!1,errorField:"accessibility",errorMessage:"support.associate.entity.atleast.one.select.message",payloadObj:r}:{isValid:!0,errorField:"",errorMessage:"",payloadObj:o}}function u(e,t){var a=t;return"("!==t&&")"!==t||(a="\\"+t),(e.match(a+"$")||[])[0]===t}function m(e,t){for(var a=e+1,n=l(t),i=(n=n.replace(/[0-9]+/g,"$")).length,r="",o=!1,s=!1,c=0,d="",m=!1,h=0,p="",f=0,g=0;g<i;g++){if("$"===(p=n.charAt(g))?(h++,d=n.substring(c,g),c=0,m=!0,p=h):(m=!1,0===c&&")"!==p&&"("!==p&&(c=g)),m&&h===a)if(o=!0,s=!0,u(d,"and")||u(d,"or"))r=r.substring(0,r.length-d.length);else for(var v=1;v<i;v++)if(i>g+v){if(")"===(p=n.charAt(g+v))&&u(d,"("))if(""===r)r=d.substring(0,d.length-1),g++;else{if(1!==a){r=r.substring(0,r.length-d.length),g++;break}r=r.substring(0,r.length-1),g++}if("$"===p||"("===p)break;f++}o||(m&&s?m&&s&&(r+=h-1):0===f?r+=p:f-=1),o=!1}return r}function h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=[],n=e.length||0,i=t?Math.ceil(n/t):0,r=0;r<i;r++){var o=r*t,l=o+t;a[r]=e.slice(o,l)}return a}},1449:function(e,t,a){"use strict";var n=a(12),i=a.n(n),r=a(9),o=a.n(r),l=a(10),s=a.n(l),c=a(13),d=a.n(c),u=a(14),m=a.n(u),h=a(0),p=a.n(h),f=a(1),g=a.n(f),v=a(16),b=a(1450),y=a.n(b),A=function(e){function t(e){return o()(this,t),d()(this,(t.__proto__||i()(t)).call(this,e))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.children;return p.a.createElement(v.Container,{alignBox:"column",className:y.a.container,isCover:!1},e)}}]),t}(h.Component);t.a=A,A.propTypes={children:g.a.node}},1450:function(e,t,a){e.exports={container:"Criteria-module__container"}},1451:function(e,t,a){e.exports={smooth:"CriteriaRow-module__smooth undefined",container:"CriteriaRow-module__container",box:"CriteriaRow-module__box",delete:"CriteriaRow-module__delete",roleNo:"CriteriaRow-module__roleNo",column1:"CriteriaRow-module__column1",column2:"CriteriaRow-module__column2",column3:"CriteriaRow-module__column3",column4:"CriteriaRow-module__column4",disable:"CriteriaRow-module__disable",actionsArea:"CriteriaRow-module__actionsArea",gate:"CriteriaRow-module__gate"}},1452:function(e,t,a){e.exports={date:"CriteriaDateWidget-module__date",posRel:"CriteriaDateWidget-module__posRel"}},1453:function(e,t,a){e.exports={disp:"CriteriaValue-module__disp",defaultCriteriaInp:"CriteriaValue-module__defaultCriteriaInp"}},1454:function(e,t,a){e.exports={plus:"AndOrPopup-module__plus",text:"AndOrPopup-module__text common-module__offSelection"}},1533:function(e,t,a){"use strict";var n=a(12),i=a.n(n),r=a(9),o=a.n(r),l=a(10),s=a.n(l),c=a(13),d=a.n(c),u=a(14),m=a.n(u),h=a(0),p=a.n(h),f=a(1),g=a.n(f),v=a(8),b=a(1451),y=a.n(b),A=a(949),C=a.n(A),S=a(38),_=a.n(S),E=a(99),x=a.n(E),I=a(947),O=a.n(I),T=a(971),N=a.n(T),k=a(80),w=a.n(k),V=a(1452),R=a.n(V),P=function(e){function t(e){o()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a}return m()(t,e),s()(t,[{key:"handleSelect",value:function(e,t){var a=this.props,n=a.onSelect,i=a.togglePopup,r=e?new Date(e).toISOString():"";i(t),n(r)}},{key:"render",value:function(){var e=this.props,t=e.togglePopup,a=e.isPopupOpen,n=e.removeClose,i=e.isDateTime,r=e.value,o=e.position,l=e.timeZone,s=e.isPopupReady,c=e.getContainerRef,d=e.getTargetRef;return p.a.createElement("div",{className:R.a.posRel},p.a.createElement("div",{className:R.a.date,onClick:t,ref:d},p.a.createElement(x.a,{value:r?v.f.userDateFormat(r,{},"","",!1,function(){return i?"DD MMM YYYY hh:mm A":"DD/MMM/YYYY"}):"",isReadOnly:!0,placeHolder:i?"DD MMM YYYY hh:mm A":v.f.getI18NValue("support.label.enter.date")})),p.a.createElement(N.a,{value:r,isDateTimeField:i,onSelect:this.handleSelect,timeZone:l,position:o,noNeedToCheckRange:!0,isActive:s,isReady:a,onClick:n,getRef:c}))}}]),t}(h.Component);P.propTypes={getContainerRef:g.a.func,getTargetRef:g.a.func,isDateTime:g.a.bool,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,onSelect:g.a.func,position:g.a.string,removeClose:g.a.func,timeZone:g.a.string,togglePopup:g.a.func,value:g.a.string};var M=w()(P),D=a(1317),j=a(203),F=a.n(j),B=(a(1453),a(22)),L=function(e){function t(e){o()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.handleValueChange=a.handleValueChange.bind(a),a.handleToggleCheckBox=a.handleToggleCheckBox.bind(a),a.handleDateTimeFieldChange=a.handleDateTimeFieldChange.bind(a),a.handleDateTimeDropDownChange=a.handleDateTimeDropDownChange.bind(a),a.handleLookupClear=a.handleLookupClear.bind(a),a}return m()(t,e),s()(t,[{key:"handleValueChange",value:function(e){(0,this.props.onChange)(Array.isArray(e)?e:[e])}},{key:"handleToggleCheckBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.onChange;t([e.toString()])}},{key:"handleDateTimeDropDownChange",value:function(e){var t=this.props,a=t.onChange,n=t.conditionName;return a("between"===n||"not between"===n?"${CUSTOM}"===e?["",""]:[e,""]:"${CUSTOM}"===e?[""]:[e])}},{key:"handleDateTimeFieldChange",value:function(e,t){var a=this.props,n=a.onChange,i=a.value;i[e]=t,n(i)}},{key:"handleLookupClear",value:function(){(0,this.props.onChange)("")}},{key:"render",value:function(){var e=this.props,t=e.value,a=void 0===t?[]:t,n=e.type,i=e.timeZone,r=e.conditionName,o=e.isReadOnly,l=e.fieldName,s=e.pickValues,c=void 0===s?[]:s,d=e.teamsList,u=e.criteriaIndex,m=e.deptId,h=e.dataId,f=v.f.getI18NValue("support.label.no.match.found"),g=v.f.getI18NValue("support.label.currentTime"),b=v.f.getI18NValue("support.label.customTime"),y=v.f.getI18NValue("support.label.cv.empty.value"),A=v.f.getI18NValue("support.label.cv.notempty.value"),S={needClearIcon:!0,needSearchIcon:!0,needLookupBox:!0,needSuggestionBox:!1,onSelect:this.handleValueChange,selectedId:a,isInputDisable:!0,onClear:this.handleLookupClear};if(o)return p.a.createElement(x.a,{dataId:h,isReadOnly:!0,value:"is empty"===r?y:"is not empty"===r?A:""});if(("Happiness Rating"===l||"CRM Contact Type"===l)&&c.length)return p.a.createElement(C.a,{dataId:h,emptyMessage:v.f.getI18NValue("support.label.no.match.found"),onChange:this.handleValueChange,options:c,selectedValue:a[0]});if("text"===n)return p.a.createElement(x.a,{dataId:h,onChange:this.handleValueChange,isReadOnly:o,value:a[0]});if("boolean"===n){var E="true"===a[0];return p.a.createElement(O.a,{dataId:h,checked:E,id:"criteriaCheckbox"+u,onChange:this.handleToggleCheckBox})}return"integer"===n?p.a.createElement(x.a,{dataId:h,needBorder:!1,onChange:this.handleValueChange,type:"number",value:a[0]}):"date"===n?p.a.createElement(M,{dataId:h,isDateTime:!1,onSelect:this.handleValueChange,timeZone:i,value:a[0]}):"dateTime"===n?p.a.createElement("span",null,p.a.createElement(C.a,{dataId:h,needBorder:!0,onChange:this.handleDateTimeDropDownChange,options:[{value:"${CURRENTTIME}",text:g},{value:"${CUSTOM}",text:b}],selectedValue:"${CURRENTTIME}"===a[0]?"${CURRENTTIME}":"${CUSTOM}",textField:"text",valueField:"value"}),"${CURRENTTIME}"!==a[0]?p.a.createElement(M,{dataId:h,isDateTime:!0,onSelect:this.handleDateTimeFieldChange.bind(this,0),timeZone:i,value:a[0]}):null,2===a.length?p.a.createElement(M,{dataId:h,isDateTime:!0,onSelect:this.handleDateTimeFieldChange.bind(this,1),timeZone:i,value:a[1]}):null):"user"===n||"team"===n&&"has agents"===r?p.a.createElement(D.b,{dataId:h,onChange:this.handleValueChange,selectedAgents:a}):"team"===n?p.a.createElement(F.a,{dataId:h,emptyMessage:f,onChange:this.handleValueChange,options:d,selectedOptions:a,size:"xmedium",textField:"name",valueField:"id"}):"lookup"===n?"Contact Name"===l?p.a.createElement(B.A,_()({dataId:h},S)):"Product Name"===l?p.a.createElement(B.hb,_()({dataId:h},S,{deptId:m,needAddIcon:!1})):"Account Name"===l?p.a.createElement(B.d,_()({dataId:h},S)):"Request"===l?p.a.createElement(B.Bb,_()({dataId:h},S,{deptId:m})):p.a.createElement(x.a,{readOnly:!0,value:"",dataId:h}):p.a.createElement(x.a,{readOnly:!0,value:"",dataId:h})}}]),t}(h.Component),G=L;L.propTypes={conditionName:g.a.string,criteriaIndex:g.a.number,dataId:g.a.string,deptId:g.a.string,fieldName:g.a.string,isReadOnly:g.a.bool,onChange:g.a.func,pickValues:g.a.array,teamsList:g.a.array,timeZone:g.a.string,type:g.a.string,value:g.a.array};var U=a(1454),z=a.n(U),H=a(30),Y=a(16),K=function(e){function t(e){o()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.handleToggle=a.handleToggle.bind(a),a}return m()(t,e),s()(t,[{key:"handleToggle",value:function(){var e=this.props,t=e.operator,a=e.updateCriteria;"and"==t?a("or"):"or"==t&&a("and")}},{key:"render",value:function(){var e=this.props,t=e.operator,a=e.addCriteria,n=e.dataId;return t?p.a.createElement(v.c,{className:z.a.text,onClick:this.handleToggle,i18NKey:t}):p.a.createElement(Y.Container,{align:"vertical",isCover:!1,className:z.a.plus,dataId:n,onClick:a.bind(this,"and")},p.a.createElement(H.TopbandFontIcon,{name:"plus",size:"11"}))}}]),t}(h.Component);K.propTypes={addCriteria:f.PropTypes.func.isRequired,dataId:f.PropTypes.string,operator:f.PropTypes.string,updateCriteria:f.PropTypes.func.isRequired};var W=K,Z=function(e){function t(e){o()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.handleFieldChange=a.handleFieldChange.bind(a),a.handleConditionChange=a.handleConditionChange.bind(a),a.handleValueChange=a.handleValueChange.bind(a),a.handleDeleteCriteria=a.handleDeleteCriteria.bind(a),a.handleUpdateCriteriaOperator=a.handleUpdateCriteriaOperator.bind(a),a}return m()(t,e),s()(t,[{key:"handleFieldChange",value:function(e){var t=this.props,a=t.onFieldChange,n=t.criteriaIndex;e!==t.selectedField&&a(n,e)}},{key:"handleConditionChange",value:function(e){var t=this.props,a=t.onConditionChange,n=t.criteriaIndex;e!==t.SelectedCondition&&a(n,e)}},{key:"handleValueChange",value:function(e){var t=this.props;(0,t.onValueChange)(t.criteriaIndex,e)}},{key:"handleDeleteCriteria",value:function(){var e=this.props;(0,e.onDeleteCriteria)(e.criteriaIndex)}},{key:"handleUpdateCriteriaOperator",value:function(e){var t=this.props;(0,t.onUpdateCriteriaOperator)(t.criteriaIndex,e)}},{key:"render",value:function(){var e=this.props,t=e.roleNo,a=e.isDeleteCriteria,n=e.fieldDisable,i=e.fields,r=e.selectedField,o=e.conditionDisable,l=e.conditions,s=e.SelectedCondition,c=e.operator,d=e.onAddCriteria,u=e.value,m=e.valueType,h=e.timeZone,f=e.pickValues,g=e.teamsList,b=e.criteriaIndex,A=e.deptId;return p.a.createElement(Y.Container,{alignBox:"row",align:"vertical",className:y.a.container,isCover:!1},p.a.createElement(Y.Box,{className:y.a.box,flexible:!0},p.a.createElement(Y.Container,{alignBox:"row"},p.a.createElement(Y.Box,{className:y.a.column1},p.a.createElement("span",{className:y.a.roleNo,dataId:"criteriaRow_"+t},t),a?p.a.createElement(Y.Container,{align:"vertical",className:y.a.delete,onClick:this.handleDeleteCriteria},p.a.createElement(H.ChannelsFontIcon,{name:"close2",size:"7"})):null),p.a.createElement(Y.Box,{flexible:!0},p.a.createElement(Y.Container,{alignBox:"row"},p.a.createElement(Y.Box,{className:o?y.a.column2+" "+y.a.disable:""+y.a.column2,flexible:!0,shrink:!0},p.a.createElement(C.a,{emptyMessage:v.f.getI18NValue("support.label.no.match.found"),dataId:"criteriaField",isReadOnly:n,needBorder:!1,needSearch:!0,onChange:this.handleFieldChange,options:i,selectedValue:r,textField:"i18NLabel",valueField:"fieldLabel"})),p.a.createElement(Y.Box,{className:o?y.a.column3+" "+y.a.disable:""+y.a.column3,flexible:!0,shrink:!0},p.a.createElement(C.a,{emptyMessage:v.f.getI18NValue("support.label.no.match.found"),dataId:"criteriaCondition",isReadOnly:o,needBorder:!1,onChange:this.handleConditionChange,options:l,selectedValue:s,textField:"i18NCondition",valueField:"condition"})),p.a.createElement(Y.Box,{className:y.a.column4,flexible:!0,shrink:!0},p.a.createElement(G,{conditionName:s,criteriaIndex:b,dataId:"criteriaValue",fieldName:r,isReadOnly:"is empty"===s||"is not empty"===s||"is OPEN"===s||"is CLOSED"===s||!u,onChange:this.handleValueChange,pickValues:f,teamsList:g,timeZone:h,type:m,value:u,deptId:A})))))),p.a.createElement(Y.Box,{className:y.a.actionsArea,shrink:!1},p.a.createElement("div",{className:y.a.gate},p.a.createElement(W,{addCriteria:d,operator:c,updateCriteria:this.handleUpdateCriteriaOperator,dataId:"criteriaAddBtn"}))))}}]),t}(h.PureComponent);t.a=Z;Z.propTypes={SelectedCondition:g.a.string,conditionDisable:g.a.bool,conditions:g.a.array,criteriaIndex:g.a.number,deptId:g.a.string,fieldDisable:g.a.bool,fields:g.a.array,isDeleteCriteria:g.a.bool,onAddCriteria:g.a.func,onConditionChange:g.a.func,onDeleteCriteria:g.a.func,onFieldChange:g.a.func,onUpdateCriteriaOperator:g.a.func,onValueChange:g.a.func,operator:g.a.string,pickValues:g.a.array,roleNo:g.a.number,selectedField:g.a.string,teamsList:g.a.array,timeZone:g.a.string,value:g.a.array,valueType:g.a.string}},1690:function(e,t,a){e.exports={criteriaPattern:"CriteriaPattern-module__criteriaPattern",ctPrtnTx:"CriteriaPattern-module__ctPrtnTx",patternEditCont:"CriteriaPattern-module__patternEditCont",pattrenEditTx:"CriteriaPattern-module__pattrenEditTx common-module__semibold common-module__ftsmooth",patternEdit:"CriteriaPattern-module__patternEdit",errorMsg:"CriteriaPattern-module__errorMsg",patternSave:"CriteriaPattern-module__patternSave",patternCancel:"CriteriaPattern-module__patternCancel",fsm:"CriteriaPattern-module__fsm undefined",pattrenEditBtn:"CriteriaPattern-module__pattrenEditBtn common-module__semibold common-module__ftsmooth"}},1691:function(e,t,a){e.exports={options:"CVAccessibility-module__options",tags:"CVAccessibility-module__tags",tag:"CVAccessibility-module__tag",option:"CVAccessibility-module__option"}},1692:function(e,t,a){e.exports={arcHead:"ArchiveSection-module__arcHead",ArrowLft:"ArchiveSection-module__ArrowLft",titleTxt:"ArchiveSection-module__titleTxt",arrowIcon:"ArchiveSection-module__arrowIcon",moreOption:"ArchiveSection-module__moreOption common-module__offSelection",listparent:"ArchiveSection-module__listparent",list:"ArchiveSection-module__list",icon:"ArchiveSection-module__icon",listAction:"ArchiveSection-module__listAction",primary:"ArchiveSection-module__primary",danger:"ArchiveSection-module__danger"}},1693:function(e,t,a){e.exports={headerCustview:"CustomViewForm-module__headerCustview",custview:"CustomViewForm-module__custview",labelPart:"CustomViewForm-module__labelPart",criteriaLabel:"CustomViewForm-module__criteriaLabel",visbleTxt:"CustomViewForm-module__visbleTxt",radiosec:"CustomViewForm-module__radiosec",radioTxt:"CustomViewForm-module__radioTxt",criteria:"CustomViewForm-module__criteria",disabled:"CustomViewForm-module__disabled common-module__disabled"}},607:function(e,t,a){"use strict";a.r(t);var n=a(20),i=a.n(n),r=a(23),o=a.n(r),l=a(12),s=a.n(l),c=a(9),d=a.n(c),u=a(10),m=a.n(u),h=a(13),p=a.n(h),f=a(14),g=a.n(f),v=a(0),b=a.n(v),y=a(1),A=a.n(y),C=a(26),S=a(8),_=a(19),E=a.n(_),x=a(75),I=a(92),O=a(1075),T=a(2),N=a.n(T),k=a(7),w=a(15),V=a(6),R=a(1351),P=a(24),M=a(93),D=a(956),j=a(17);function F(e,t,a){var n=e[t],i=n.availableConditions,r=n.type,o=i[a].value;return o?"text"===r||"integer"===r||"date"===r||"user"===r||"team"===r||"lookup"===r?"${CUSTOM}"===o[0]?"user"===r||"team"===r||"lookup"===r?{value:[]}:{value:[""]}:o.length?{value:[o[0]],pickValues:o}:{value:[""]}:"boolean"===r?{value:["false"]}:"dateTime"===r?"between"===a||"not between"===a?{value:["${CURRENTTIME}",""]}:{value:["${CURRENTTIME}"]}:{value:[""]}:{value:o}}var B=a(1166),L=a(73),G=a.n(L),U=a(1003),z=a.n(U),H=a(151),Y=a.n(H),K=a(65),W=a(16),Z=a(1125),J=a.n(Z),q=a(1024),$=a(1449),X=a(1533),Q=a(235),ee=a.n(Q),te=a(1690),ae=a.n(te),ne=function(e){function t(){return d()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.labelText,a=e.onChange,n=e.pattern,i=e.errorMessage,r=e.editText,o=e.isEditMode,l=e.saveText,s=e.onSave,c=e.cancelText,d=e.onCancel,u=e.formatPattern,m=e.onEdit;return b.a.createElement("div",{className:ae.a.criteriaPattern},b.a.createElement("span",{className:ae.a.ctPrtnTx},t),o?b.a.createElement("div",{className:ae.a.patternEdit},b.a.createElement("div",{className:ae.a.patternEditCont},b.a.createElement(ee.a,{text:n,onChange:a,size:"large"}),i?b.a.createElement("span",{className:ae.a.errorMsg},i):null),b.a.createElement("div",null,b.a.createElement("span",{className:ae.a.patternSave,onClick:s},l),b.a.createElement("span",{className:ae.a.patternCancel,onClick:d},c))):b.a.createElement("span",{className:ae.a.pattrenEditTx+" "+ae.a.fsm},u),n&&"1"!==n&&!o?b.a.createElement("span",{className:ae.a.pattrenEditBtn+" "+ae.a.fsm,onClick:m},r):null)}}]),t}(v.PureComponent),ie=ne;ne.propTypes={cancelText:A.a.string,editText:A.a.string,errorMessage:A.a.string,formatPattern:A.a.string,isEditMode:A.a.bool,labelText:A.a.string,onCancel:A.a.func,onChange:A.a.func,onEdit:A.a.func,onSave:A.a.func,pattern:A.a.string,saveText:A.a.string};var re=a(949),oe=a.n(re),le=a(246),se=a.n(le),ce=a(1085),de=a(11),ue=a.n(de),me=a(38),he=a.n(me),pe=a(154),fe=a.n(pe),ge=a(21),ve=[],be={},ye=Object(ge.createSelector)([function(e,t){return E()("module.role",e)||t.roles||be},function(e,t){return t.roleIds||ve},function(e,t){return t.isVisible}],function(e,t,a){var n=[];return t.forEach(function(t){var i=(e[t]||{}).isVisible;a?i&&n.push(e[t]):e[t]&&n.push(e[t])}),n}),Ae=function(){return ye},Ce=a(3);function Se(e){return{globalRoleIds:e.rolesList,roles:e.module.role}}var _e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce.T,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=function(i){function r(e){d()(this,r);var t=p()(this,(r.__proto__||s()(r)).call(this,e));return t._isMounted=!1,t.state={listUIState:{from:1,isNext:!1},searchUIState:{from:1,isNext:!1,roleIds:[],searchStr:""},searchStr:"",isFetching:!1},t.getRolesListSel=Ae(),t.handleGetRoles=t.handleGetRoles.bind(t),t.handleGetNextRoles=t.handleGetNextRoles.bind(t),t.handleSearchRoles=t.handleSearchRoles.bind(t),t.handleAPI=t.handleAPI.bind(t),t.handleSearchRolesArray=t.handleSearchRolesArray.bind(t),t.handleGetRolesList=t.handleGetRolesList.bind(t),t.handleLocalRolesSearch=t.handleLocalRolesSearch.bind(t),t}return g()(r,i),m()(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAPI",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=a.slice(1,a.length),r=a[0],l=this.state.isFetching,s=this._isMounted;return l?ue.a.resolve():(this.setState({isFetching:!0}),r.apply(void 0,o()(i)).then(function(t){return s&&e.setState({isFetching:!1}),t&&204!==t.responseStatus?t:ue.a.resolve()},function(t){throw s&&e.setState({isFetching:!1}),t}))}},{key:"handleGetRolesList",value:function(e){var a=this,i=this.props.getRolesList,r=this.state,o=r.searchStr,l=r.listUIState,s=r.searchUIState,c=this._isMounted,d="NEXT"===e,u=o.replace(/\s+/g,""),m=s.searchStr,h=void 0===m?"":m,p=o.replace(/\s+/g,"").toLowerCase(),f=h.replace(/\s+/g,"").toLowerCase();if(o){if("CURRENT"!==e||p!==f){var g=s.isNext,v=void 0!==g&&g,b=s.from,y=void 0===b?1:b,A=d?y+t:1;return this.setState({searchUIState:N()({},s,{from:A,isNext:!1})}),this.handleAPI(i,A,u,t,n).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},n=t.result,i=void 0===n?[]:n,r=t.isNext,o=t.from,l=t.searchStr;return a.handleSearchRolesArray(i,o,r,l,d),e},function(e){throw c&&a.setState({searchUIState:N()({},s,{from:y,isNext:v})}),e})}return ue.a.resolve()}var C=l.from,S=void 0===C?1:C,_=l.isNext,E=void 0!==_&&_,x=d?S+t:1;return this.setState({listUIState:N()({},l,{from:x,isNext:!1})}),this.handleAPI(i,x,o,t,n).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},n=t.from,i=t.isNext;return c&&a.setState({listUIState:N()({},l,{from:n,isNext:i})}),e},function(e){throw c&&a.setState({listUIState:N()({},l,{from:S,isNext:E})}),e})}},{key:"handleSearchRolesArray",value:function(e,a,n,i,r){var l=this.state.searchUIState.roleIds,s=this._isMounted,c=a-1,d=c+(2*t>500?500:2*t),u=r?[].concat(o()(l.slice(0,c)),o()(e),o()(l.slice(d,l.length))):e;s&&this.setState({searchUIState:{roleIds:u,from:a,isNext:n,searchStr:i}})}},{key:"handleGetRoles",value:function(){return this.handleGetRolesList("CURRENT").then(function(e){return e},function(e){throw e})}},{key:"handleSearchRoles",value:function(e){this.setState({searchStr:e})}},{key:"handleGetNextRoles",value:function(){return this.handleGetRolesList("NEXT").then(function(e){return e},function(e){throw e})}},{key:"handleLocalRolesSearch",value:function(){var e=this.state.searchStr,t=this.props,a=t.roles;return t.globalRoleIds.filter(function(t){var n=a[t],i=n.name,r=n.description,o=i.replace(/\s+/g,"").toLowerCase(),l=e.replace(/\s+/g,"").toLowerCase();return-1!==o.indexOf(l)||-1!==r.indexOf(l)})}},{key:"render",value:function(){var i=this.state,r=i.searchStr,o=void 0===r?"":r,l=i.listUIState,s=i.isFetching,c=i.searchUIState,d=this.props,u=d.globalRoleIds,m=d.roles,h=o?c:l,p=h.from,f=h.isNext,g=h.roleIds,v=h.searchStr,y=void 0===v?"":v,A=o.replace(/\s+/g,"").toLowerCase(),C=y.replace(/\s+/g,"").toLowerCase(),S=A?C===A?g:a?this.handleLocalRolesSearch():[]:u,_=this.getRolesListSel({},{roles:m,roleIds:S.slice(0,p-1+t),isVisible:n});return b.a.createElement(e,he()({},this.props,{rolesList:_,roleIds:S,getRoles:this.handleGetRoles,getNextRoles:this.handleGetNextRoles,searchString:o,isFetching:s,onSearchRoles:this.handleSearchRoles,isNextRoles:f}))}}]),r}(b.a.Component);return i.propTypes={getRolesList:A.a.func,globalRoleIds:A.a.array,roles:A.a.object},fe()(Object(C.connect)(Se,{getRolesList:B.b})(i),e)},Ee=function(e){function t(e){d()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.handlePopupOpen=a.handlePopupOpen.bind(a),a.handleSearchRoles=a.handleSearchRoles.bind(a),a.handleSelectRole=a.handleSelectRole.bind(a),a.handleDefaulValueSet=a.handleDefaulValueSet.bind(a),a.state={defaultSelectedRoleDetails:[],isPopupFirstTimeOpened:!1},a.getRolesList=Ae(),a}return g()(t,e),m()(t,[{key:"componentDidMount",value:function(){this.handleDefaulValueSet(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.selectedRole!==this.props.selectedRole&&this.handleDefaulValueSet(e)}},{key:"handleDefaulValueSet",value:function(e){var t=e.selectedRole,a=e.roles,n=e.isShowVisibleRoles,i=this.getRolesList({},{roles:a,roleIds:[t],isVisible:n});this.setState({defaultSelectedRoleDetails:i})}},{key:"handleSearchRoles",value:function(e){var t=this.props,a=t.onSearchRoles,n=t.getRoles;return a(e),e?n():ue.a.resolve()}},{key:"handlePopupOpen",value:function(e){var t=this.props.getRoles,a=this.state.isPopupFirstTimeOpened;return a||this.setState({isPopupFirstTimeOpened:!0}),a?ue.a.resolve():t(e)}},{key:"handleSelectRole",value:function(e){var t=this.props.onChange;"none"!==e&&t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.rolesList,a=e.getNextRoles,n=e.isNextRoles,i=e.selectedRole,r=e.needNoneValue,l=e.searchString,s=e.excludeRoles,c=this.state.defaultSelectedRoleDetails,d=S.f.getI18NValue("None");return t=r&&!l?[{id:"none",name:"--"+d+"--"}].concat(o()(t)):t,b.a.createElement(oe.a,{valueField:"id",textField:"name",options:[].concat(o()(t),o()(c)),getNextOptions:a,isNextOptions:n,selectedValue:i,onChange:this.handleSelectRole,onDropBoxOpen:this.handlePopupOpen,onSearch:this.handleSearchRoles,excludeOptions:s,needSearch:!0,emptyMessage:S.f.getI18NValue("support.label.no.match.found")})}}]),t}(v.Component);Ee.propTypes={selectedRole:A.a.string.isRequired,onChange:A.a.func.isRequired,needNoneValue:A.a.bool,excludeRoles:A.a.array,isShowVisibleRoles:A.a.bool,roles:A.a.object,rolesList:A.a.array,getRoles:A.a.func,getNextRoles:A.a.func,searchString:A.a.string,onSearchRoles:A.a.func,isNextRoles:A.a.bool},Ee.defaultProps={isShowVisibleRoles:!0,needNoneValue:!1};var xe=_e(Ee),Ie=(_e(Ee,Ce.T,!0,!1),a(1691)),Oe=a.n(Ie),Te=[{i18NValue:S.f.getI18NValue("support.setup.label.teams"),value:"Teams"},{i18NValue:S.f.getI18NValue("support.setup.label.roles"),value:"Roles"},{i18NValue:S.f.getI18NValue("support.label.cv.roles.and.subordinates"),value:"RS"},{i18NValue:S.f.getI18NValue("support.setup.label.agents"),value:"Agents"}],Ne=function(e){function t(e){d()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.state={selectedAccessibility:"Teams",isFirstTimeGetTeams:!1},a.handleChangeAccessibility=a.handleChangeAccessibility.bind(a),a.handleAgentAdd=a.handleAgentAdd.bind(a),a.handleAgentRemove=a.handleAgentRemove.bind(a),a.handleTeamAdd=a.handleTeamAdd.bind(a),a.handleTeamRemove=a.handleTeamRemove.bind(a),a.handleRoleAdd=a.handleRoleAdd.bind(a),a.handleRoleRemove=a.handleRoleRemove.bind(a),a.handleRSAdd=a.handleRSAdd.bind(a),a.handleRSRemove=a.handleRSRemove.bind(a),a.handleGetTeams=a.handleGetTeams.bind(a),a}return g()(t,e),m()(t,[{key:"handleGetTeams",value:function(){var e=this.state.isFirstTimeGetTeams,t=this.props.getTeams;!e&&t(),this.setState({isFirstTimeGetTeams:!0})}},{key:"handleChangeAccessibility",value:function(e){this.setState({selectedAccessibility:e})}},{key:"handleAgentAdd",value:function(e){var t=this.props.onChange;"none"!==e&&t([e],"Agents","add")}},{key:"handleAgentRemove",value:function(e){(0,this.props.onChange)([e],"Agents","remove")}},{key:"handleTeamAdd",value:function(e){var t=this.props.onChange;"none"!==e&&t([e],"Teams","add")}},{key:"handleTeamRemove",value:function(e){(0,this.props.onChange)([e],"Teams","remove")}},{key:"handleRoleAdd",value:function(e){var t=this.props.onChange;"none"!==e&&t([e],"Roles","add")}},{key:"handleRoleRemove",value:function(e){(0,this.props.onChange)([e],"Roles","remove")}},{key:"handleRSAdd",value:function(e){var t=this.props.onChange;"none"!==e&&t([e],"RS","add")}},{key:"handleRSRemove",value:function(e){(0,this.props.onChange)([e],"RS","remove")}},{key:"render",value:function(){var e=this,t=this.state.selectedAccessibility,a=this.props,n=a.selectedAgents,i=a.selectedTeams,r=a.selectedRoles,l=a.selectedRS,s=a.teamsList,c=a.selectedValues,d=a.agents,u=a.roles,m=a.teams,h=a.agentNamePattern,p=a.nextAccessibilitiesCount,f=a.getNextAccessibilities,g={id:"none",name:"--"+S.f.getI18NValue("None")+"--"},v=null;return"Agents"===t?v=b.a.createElement(ce.b,{needNoneValue:!0,selectedAgent:"none",onChange:this.handleAgentAdd,excludeAgents:n}):"Teams"===t?v=b.a.createElement(oe.a,{options:[g].concat(o()(s)),selectedValue:"none",valueField:"id",textField:"name",excludeOptions:i,onChange:this.handleTeamAdd,onDropBoxOpen:this.handleGetTeams,needSearch:!0,emptyMessage:S.f.getI18NValue("support.label.no.match.found")}):"Roles"!==t&&"RS"!==t||(v=b.a.createElement(xe,{needNoneValue:!0,selectedRole:"none",onChange:"RS"===t?this.handleRSAdd:this.handleRoleAdd,excludeRoles:"RS"===t?l:r})),b.a.createElement(W.Container,{alignBox:"Column",className:Oe.a.options},b.a.createElement(W.Box,null,b.a.createElement(W.Container,{alignBox:"row"},b.a.createElement("div",{className:Oe.a.option},b.a.createElement(Y.a,{text:"Select source type",palette:"primary",size:"medium",type:"subtitle"}),b.a.createElement(oe.a,{options:Te,selectedValue:t,valueField:"value",textField:"i18NValue",onChange:this.handleChangeAccessibility,emptyMessage:S.f.getI18NValue("support.label.no.match.found")})),b.a.createElement("div",{className:Oe.a.option},b.a.createElement(Y.a,{text:"Available",palette:"primary",size:"medium",type:"subtitle"}),v))),b.a.createElement(W.Box,null,b.a.createElement("div",{className:Oe.a.tags},c.map(function(t){var a=t.id,n=t.type,i=null,r="";if("Agents"===n){i=e.handleAgentRemove;var o=d[a]||{},l=o.firstName,s=void 0===l?"":l,c=o.lastName,p=void 0===c?"":c,f=o.name,g=Object(V.f)(h,s,p),v=g||f;r=v?"(A) "+v:""}else if("Roles"===n){i=e.handleRoleRemove;var y=(u[a]||{}).name,A=void 0===y?"":y;r=A?"(R) "+A:""}else if("Teams"===n){i=e.handleTeamRemove;var C=(m[a]||{}).name,S=void 0===C?"":C;r=S?"(T) "+S:""}else if("RS"===n){i=e.handleRSRemove;var _=(u[a]||{}).name,E=void 0===_?"":_;r=E?"(RS) "+E:""}return r?b.a.createElement("span",{className:Oe.a.tag},b.a.createElement(se.a,{key:"selectedAccessibility"+a+n,id:a,text:r,palette:"danger",onRemove:i})):null}),p?b.a.createElement("span",{onClick:f},"+ ",p," ",S.f.getI18NValue("crm.label.More")):null)))}}]),t}(v.Component),ke=Ne;Ne.propTypes={agentNamePattern:A.a.array,agents:A.a.object,getNextAccessibilities:A.a.func,getTeams:A.a.func,nextAccessibilitiesCount:A.a.number,onChange:A.a.func,roles:A.a.object,rolesList:A.a.array,selectedAgents:A.a.array,selectedRS:A.a.array,selectedRoles:A.a.array,selectedTeams:A.a.array,selectedValues:A.a.arrayOf(A.a.shape({id:A.a.string,type:A.a.string})),teams:A.a.object,teamsList:A.a.array};var we=a(1692),Ve=a.n(we),Re=a(63),Pe=a.n(Re),Me=a(120),De=a.n(Me),je=a(262),Fe=a.n(je),Be=a(1118),Le=a(72),Ge=a.n(Le),Ue=a(80),ze=a.n(Ue),He=function(e){function t(e){d()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.handleContextMenu=a.handleContextMenu.bind(a),a.handleTogglePopup=a.handleTogglePopup.bind(a),a}return g()(t,e),m()(t,[{key:"handleContextMenu",value:function(e){e&&e.preventDefault(),(0,this.props.togglePopup)(e)}},{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,bottomLeft)}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.leftArrow,n=void 0===a?"arrowLeft2":a,i=e.moreIcon,r=void 0===i?"more22":i,o=e.onBackClick,l=e.onUnarchive,s=e.archiveDeleteText,c=e.removeClose,d=e.isArchivedView,u=e.isPopupOpen,m=e.isPopupReady,h=e.position,p=e.getTargetRef,f=e.getContainerRef;return b.a.createElement(W.Container,{alignBox:"row",className:Ve.a.arcHead,align:"vertical",isCover:!1},b.a.createElement(W.Box,{flexible:!0},n?b.a.createElement("span",{className:Ve.a.ArrowLft,onClick:o},b.a.createElement(De.a,{name:n})):"",t?b.a.createElement("span",{className:Ve.a.titleTxt},t):""),b.a.createElement(W.Box,null,b.a.createElement(Be.a,{errorTxt:s,messageTxt:"Unarchive Now",onUnarchive:l,sucessTxt:""})),b.a.createElement(W.Box,null,b.a.createElement("span",{className:Ve.a.moreOption},b.a.createElement("span",null,b.a.createElement(Pe.a,{name:r,ref:p,onClick:this.handleTogglePopup})),u?b.a.createElement(Ge.a,{boxPosition:h,isActive:m,isAnimate:!0,size:"xmini",getRef:f,onClick:c},b.a.createElement("ul",{className:Ve.a.listparent},d?b.a.createElement("li",{className:Ve.a.list+" "+Ve.a.primary,onClick:this.handleViewCriteria},b.a.createElement("span",{className:Ve.a.icon},b.a.createElement(Fe.a,{name:"eye4",size:"18"})),b.a.createElement(S.c,{className:Ve.a.listAction,i18NKey:"support.criteria.show"})):b.a.createElement("li",{className:Ve.a.list+" "+Ve.a.primary,onClick:this.handleEdit},b.a.createElement("span",{className:Ve.a.icon},b.a.createElement(Fe.a,{name:"eye4",size:"18"})),b.a.createElement(S.c,{className:Ve.a.listAction,i18NKey:"crm.label.edit"})),b.a.createElement("li",{className:Ve.a.list+" "+Ve.a.danger,onClick:this.handleDelete},b.a.createElement("span",{className:Ve.a.icon},b.a.createElement(Pe.a,{name:"delete2",size:"13"})),b.a.createElement(S.c,{className:Ve.a.listAction,i18NKey:"Delete"})))):null)))}}]),t}(v.Component);He.propTypes={archiveDeleteText:A.a.string,getContainerRef:A.a.func,getTargetRef:A.a.func,isArchivedView:A.a.bool,isPopupOpen:A.a.bool,isPopupReady:A.a.bool,leftArrow:A.a.string,moreIcon:A.a.string,onBackClick:A.a.func,onUnarchive:A.a.func,position:A.a.string,removeClose:A.a.func.isRequired,title:A.a.string,togglePopup:A.a.func};var Ye=ze()(He),Ke=a(1693),We=a.n(Ke),Ze=function(e){function t(e){d()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.state={isnotValidView:!1,patternEditable:!1,patternError:"",patternStr:"",viewNameErr:"",accessibilitySelected:"onlyMe",accessibilitySelectedValues:[],showedAccessibilityLength:0},a._isMounted=!1,a.handleGetCVFields=a.handleGetCVFields.bind(a),a.handleGetCustomView=a.handleGetCustomView.bind(a),a.handleViewNameChange=a.handleViewNameChange.bind(a),a.handleConditionChange=a.handleConditionChange.bind(a),a.handleFieldChange=a.handleFieldChange.bind(a),a.handleAddCriteria=a.handleAddCriteria.bind(a),a.handleEditCase=a.handleEditCase.bind(a),a.handleRemoveCriteria=a.handleRemoveCriteria.bind(a),a.handlePatternEditToggle=a.handlePatternEditToggle.bind(a),a.handlePatternSave=a.handlePatternSave.bind(a),a.handlePatternChange=a.handlePatternChange.bind(a),a.handleCustomViewSave=a.handleCustomViewSave.bind(a),a.handleCustomViewCancel=a.handleCustomViewCancel.bind(a),a.handleVisibleTo=a.handleVisibleTo.bind(a),a.handlePatternUpdate=a.handlePatternUpdate.bind(a),a.handleClearState=a.handleClearState.bind(a),a.handleCriteriaValueChange=a.handleCriteriaValueChange.bind(a),a.handleAccessibilityValueChange=a.handleAccessibilityValueChange.bind(a),a.handleGetAccessibilityIds=a.handleGetAccessibilityIds.bind(a),a.onUnArchiveView=a.onUnArchiveView.bind(a),a.handleAccessibilityMore=a.handleAccessibilityMore.bind(a),a}return g()(t,e),m()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isEdit,a=e.isEditArchivedView;this._isMounted=!0,this.handleClearState(),a||t?this.handleEditCase():this.handleGetCVFields()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.deptId,n=t.isEdit,i=t.viewId,r=t.isEditArchivedView;n!==e.isEdit||a!==e.deptId?(n&&this.handleEditCase(),n||(this.handleClearState(),this.handleGetCVFields())):(r||n)&&i!==e.viewId&&"default"!==e.viewId&&this.handleEditCase()}},{key:"componentWillUnmount",value:function(){this.handleClearState(),this._isMounted=!1}},{key:"handleClearState",value:function(){var e=this.props.clearCriteria;this.setState({isnotValidView:!1,patternEditable:!1,patternError:"",patternStr:"",viewNameErr:"",accessibilitySelected:"onlyMe",accessibilitySelectedValues:[]}),e()}},{key:"handleViewNameChange",value:function(e,t){(0,this.props.cvViewNameChange)(t)}},{key:"handleGetCVFields",value:function(){var e=this,t=this.props,a=t.getCVFields,n=t.module,i=t.CVFields,r=void 0===i?{}:i,o=this._isMounted;return a(n).then(function(t){return t?e.handleAddCriteria(t.data.res||{},"and"):e.handleAddCriteria(r,"and"),t},function(t){throw o&&e.setState({isnotValidView:!0}),t})}},{key:"handleEditCase",value:function(){var e=this,t=this.props,a=t.viewId,n=t.module,i=t.getViewsCommon,r=t.viewName,o=t.cvEditCase,l=t.views,s=this._isMounted;return this.handleClearState(),this.handleGetCVFields().then(function(t){return a&&"default"!==a?(l[a].criteria&&o(l[a]),e.handleGetCustomView(a)):i(n).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.data||{},n=a.mapper,i=void 0===n?{}:n;i[r]?e.handleGetCustomView(i[r]):s&&e.setState({isnotValidView:!0})}),t},function(e){throw e})}},{key:"handleGetCustomView",value:function(e){var t=this,a=this.props,n=a.getCustomView,i=a.cvEditCase,r=a.module,o=a.CVFields,l=a.isEditArchivedView,s=this._isMounted;n(e,r,l).then(function(e){if(i(e?e.data.res:{},o),e&&e.data){var a=(e.data.res||{}).accessibility,n=void 0===a?{}:a,r=n.agents,l=void 0===r?[]:r,c=n.roles,d=void 0===c?[]:c,u=n.rolesAndSubordinates,m=void 0===u?[]:u,h=n.teams,p=void 0===h?[]:h,f=n.type,g="";if(g="restrictedAccess"===f?"specificAgents":"allAgents"===f?"allAgents":"onlyMe",s&&t.setState({accessibilitySelected:g}),"specificAgents"===g&&s){var v=[];p&&p.forEach(function(e){v.push({id:e,type:"Teams"})}),d&&d.forEach(function(e){v.push({id:e,type:"Roles"})}),m&&m.forEach(function(e){v.push({id:e,type:"RS"})}),l&&l.forEach(function(e){v.push({id:e,type:"Agents"})}),t.setState({accessibilitySelectedValues:v},function(){t.handleAccessibilityMore()})}}},function(){s&&t.setState({isnotValidView:!0})})}},{key:"handleAddCriteria",value:function(e,t,a){a&&a.preventDefault();var n=this.state.patternEditable,i=this.props,r=i.addFilterCriteria,o=i.showConfirmBox,l=i.i18n,s=i.customViewFormUIState.criteria,c=void 0===s?{}:s,d=c.pattern,u=void 0===d?"":d,m=c.fieldConditions,h=(void 0===m?[]:m).length||0,p=Object(R.d)(u);if(p=h>1?("("===p[0]?"":"(")+p+(")"===p[p.length-1]?"":")"):p,p=0!==h?"("+p+t+(h+1)+")":p,n)o({type:"alert",submitText:Object(S.e)(l,"crm.button.ok"),title:Object(S.e)(l,"support.history.operation.label.wfalert"),confirmationMessage:Object(S.e)(l,"suport.label.criteria.changing.alert"),isActive:!0,palette:"danger"});else if(h>=25)o({type:"alert",submitText:Object(S.e)(l,"crm.button.ok"),title:Object(S.e)(l,"support.history.operation.label.wfalert"),confirmationMessage:"Criteria limit only 25!",isActive:!0,palette:"danger"});else{var f=e.fields,g=void 0===f?{}:f;r(e.fieldsOrder[0],g,p)}}},{key:"handleFieldChange",value:function(e,t){var a=this.props,n=a.cvCriteriaFieldChange,i=a.CVFields,r=a.getTeamsList,o=i.fields;"team"===o[t].type&&r(),n(t,o,e)}},{key:"handleConditionChange",value:function(e,t){var a=this.props;(0,a.cvCriteriaConditionChange)(t,a.CVFields.fields,e)}},{key:"handleCriteriaValueChange",value:function(e,t){(0,this.props.cvCriteriaValueChange)(e,t)}},{key:"handleRemoveCriteria",value:function(e){var t=this.props,a=t.removeCVCriteria,n=t.showConfirmBox,i=t.i18n,r=t.customViewFormUIState,o=this.state.patternEditable,l=r.criteria,s=void 0===l?{}:l,c=s.pattern,d=void 0===c?"":c,u=s.fieldConditions,m=void 0===u?[]:u;d=Object(R.f)(e,d),d=2===m.length?"1":d,o&&n({type:"alert",submitText:Object(S.e)(i,"crm.button.ok"),title:Object(S.e)(i,"support.history.operation.label.wfalert"),iconName:"notifiExclamation",confirmationMessage:Object(S.e)(i,"suport.label.criteria.changing.alert"),isActive:!0,palette:"danger"}),!o&&a(e,d)}},{key:"handlePatternChange",value:function(e,t){t&&t.preventDefault(),this.setState({patternStr:e})}},{key:"handlePatternEditToggle",value:function(){var e=this.state.patternEditable,t=this.props.customViewFormUIState.criteria.pattern;t=Object(R.c)(t),this.setState({patternEditable:!e,patternStr:e?"":t,patternError:""})}},{key:"handlePatternSave",value:function(){var e=this.props.customViewFormUIState.criteria,t=(void 0===e?{}:e).fieldConditions,a=this.state.patternStr,n=this.props.CVPatternChange,i=Object(R.e)(a,t.length),r=i.errorMessage,o=i.isValid,l=i.pattern;o?(n(l),this.handlePatternEditToggle(),this.setState({patternError:""})):this.setState({patternError:r})}},{key:"handlePatternUpdate",value:function(e,t,a){a&&a.preventDefault();var n=this.props,i=n.customViewFormUIState,r=n.CVPatternChange,o=i.criteria,l=(void 0===o?{}:o).pattern,s=(l=Object(R.d)(l)).match(/(and|or)/gi);s[e]=t;var c=l.replace(/(and|or)/g,"#").split("#");r(s.reduce(function(e,t,a){return 0===a?e+c[a]+t+c[a+1]:e+t+c[a+1]},""))}},{key:"handleCustomViewSave",value:function(e){e&&e.preventDefault();var t=this.props,a=t.customViewAdd,n=t.module,i=t.customViewFormUIState,r=t.isEdit,o=t.showConfirmBox,l=t.i18n,s=t.CVFields,c=t.customViewUpdate,d=t.push,u=t.deptId,m=t.allViewNames,h=t.orgName,p=t.deptName,f=t.moduleMeta,g=this.state,v=g.viewNameErr,b=g.accessibilitySelected;if(!g.patternEditable){var y=s.fields,A=void 0===y?{}:y,C=Object(R.a)(i,A,u,m,b),_=C.isValid,E=C.errorField,x=C.errorMessage,I=C.payloadObj,O=C.criteriaField;C.errorFieldIndex;if(!_){if("name"===E)return void this.setState({viewNameErr:x});if(v&&this.setState({viewNameErr:""}),"criteria"===E&&O){var T=Object(S.e)(l,x,O);return void o({type:"alert",submitText:Object(S.e)(l,"crm.button.ok"),title:Object(S.e)(l,"support.history.operation.label.wfalert"),iconName:"notifiExclamation",confirmationMessage:T,isActive:!0,palette:"danger"})}if("criteria"===E)return void o({type:"alert",submitText:Object(S.e)(l,"crm.button.ok"),title:Object(S.e)(l,"support.history.operation.label.wfalert"),iconName:"notifiExclamation",confirmationMessage:Object(S.e)(l,x),isActive:!0,palette:"danger"});if("accessibility"===E){var N=Object(S.e)(l,"support.label.cv.resource");return void o({type:"alert",submitText:Object(S.e)(l,"crm.button.ok"),title:Object(S.e)(l,"support.history.operation.label.wfalert"),iconName:"notifiExclamation",confirmationMessage:Object(S.e)(l,x,N),isActive:!0,palette:"danger"})}}_&&r?c(n,I).then(function(e){var t=e.data.res.sanitizedName;d({pathname:"/"+h+"/"+p+"/"+f[n+"s"].sanitizedName+"/list"+(t?"/"+t:"")})}):a(n,I).then(function(e){var t=e.data.res.sanitizedName;d({pathname:"/"+h+"/"+p+"/"+f[n+"s"].sanitizedName+"/list"+(t?"/"+t:"")})})}}},{key:"handleCustomViewCancel",value:function(e){e&&e.preventDefault(),(0,this.props.goBack)()}},{key:"handleVisibleTo",value:function(e,t){t.preventDefault&&t.preventDefault();var a=this.props.CVAccessibilityChange,n=this.state,i=n.accessibilitySelected,r=n.accessibilitySelectedValues;e!==i&&(this.setState({accessibilitySelected:e}),a("allAgents"===e?{type:"allAgents"}:"specificAgents"===e?this.handleGetAccessibilityIds(r):{type:"onlyMe"}))}},{key:"handleGetAccessibilityIds",value:function(e){var t=[],a=[],n=[],i=[];return e.forEach(function(e){var r=e.id,o=e.type;"Agents"===o?-1===t.indexOf(r)&&t.push(r):"Teams"===o?-1===i.indexOf(r)&&i.push(r):"Roles"===o?-1===a.indexOf(r)&&a.push(r):"RS"!==o||-1===n.indexOf(r)&&n.push(r)}),{teams:i,roles:a,rolesAndSubordinates:n,agents:t,type:"restrictedAccess"}}},{key:"handleAccessibilityValueChange",value:function(e,t,a){var n=this.props.CVAccessibilityChange,i=this.state,r=i.accessibilitySelectedValues,l=i.showedAccessibilityLength;if("add"===a){var s=[];"Agents"===t?e.forEach(function(e){s.push({id:e,type:"Agents"})}):"Roles"!==t&&"RS"!==t&&"Teams"!==t||e.forEach(function(e){s.push({id:e,type:t})});var c=[].concat(o()(r),s);return n(this.handleGetAccessibilityIds(c)),void this.setState({accessibilitySelectedValues:c,showedAccessibilityLength:l+1})}if("remove"===a){var d=r.filter(function(t){var a=t.id;return-1===e.indexOf(a)});n(this.handleGetAccessibilityIds(d)),this.setState({accessibilitySelectedValues:d,showedAccessibilityLength:l-1})}}},{key:"onUnArchiveView",value:function(){var e=this.props,t=e.orgName,a=e.deptName,n=e.moduleMeta,i=e.push,r=e.unArchivedViews,o=e.viewId,l=e.module,s=e.viewName;r(l,o).then(function(){i({pathname:"/"+t+"/"+a+"/"+n[l+"s"].sanitizedName+"/view/edit/"+s})})}},{key:"handleAccessibilityMore",value:function(){for(var e=this.state,t=e.accessibilitySelectedValues,a=e.showedAccessibilityLength,n=this.props,r=n.getAgentDetails,o=n.getRoleDetails,l=n.agents,s=n.roles,c=[],d=[],u=i()(l),m=i()(s),h=2*Ce.D,p=t.length,f=a+h>p?p:a+h,g=a;g<f;g++){var v=t[g],b=v.type,y=v.id;"Agents"===b&&-1===c.indexOf(y)&&-1===u.indexOf(y)?c.push(y):"Roles"===b&&-1===d.indexOf(y)&&-1===m.indexOf(y)&&d.push(y)}r(c),o(d),this.setState({showedAccessibilityLength:a+Ce.D})}},{key:"render",value:function(){var e=this,t=this.props,a=t.CVFields,n=void 0===a?{}:a,i=t.i18n,r=t.views,o=t.viewId,l=t.customViewFormUIState,s=t.fieldLabels,c=t.timeZone,d=t.teamsList,u=t.getTeamsList,m=t.namePattern,h=t.isEditArchivedView,p=t.agents,f=t.teams,g=t.roles,v=t.deptId,y=r[o],A=l.criteria,C=void 0===A?{}:A,_=l.name,E=l.accessibility,x=C.fieldConditions,I=void 0===x?[]:x,O=C.pattern,T=n.fields,N=void 0===T?{}:T,k=this.state,w=k.isnotValidView,V=k.patternEditable,P=k.patternStr,M=k.patternError,D=k.viewNameErr,j=k.accessibilitySelected,F=k.accessibilitySelectedValues,B=k.showedAccessibilityLength,L=F.slice(0,B),U=Object(R.d)(O).match(/(and|or)/g)||[];O=V?P:O;var H=E.agents,Z=E.roles,Q=E.rolesAndSubordinates,ee=E.teams,te=h,ae=S.f.getI18NValue,ne=ae("support.desk.view.archived.delete.today");if(h){var re=y.deleteInDays;1===re?ne=ae("support.desk.view.archived.delete.day",re):re>1&&(ne=ae("support.desk.view.archived.delete.days",re))}return b.a.createElement(W.Container,null,b.a.createElement(W.Box,{flexible:!0},w?b.a.createElement("span",null,"Please check the URL or viewName"):b.a.createElement(K.Card,null,b.a.createElement(K.CardHeader,null,h?b.a.createElement("div",{className:We.a.headerCustview},b.a.createElement(Ye,{title:"Archived Views",archiveDeleteText:ne,onUnarchive:this.onUnArchiveView,onBackClick:this.handleCustomViewCancel})):null),b.a.createElement(K.CardContent,null,b.a.createElement("div",{className:We.a.custview+" "+(te?We.a.disabled:"")},b.a.createElement("div",{className:We.a.labelPart},b.a.createElement(q.a,{labelName:Object(S.e)(i,"support.custom.view.new.name"),value:_,maxLength:50,dataId:"CVName",isMandatory:!0,onChange:this.handleViewNameChange,validationMessage:Object(S.e)(i,D)})),b.a.createElement("div",{className:We.a.criteriaLabel},b.a.createElement(Y.a,{text:Object(S.e)(i,"support.label.custom.view.criteria"),palette:"primary",size:"medium",type:"subtitle"})),b.a.createElement($.a,null,I.map(function(t,a){var i=t.condition,r=t.fieldName,o=t.value,l=t.pickValues,u=N[r]||{},m=u.conditionsOrder,h=void 0===m?[]:m,p=u.availableConditions,f=u.type,g=h.map(function(e){var t=p[e];return{condition:t.condition,i18NCondition:t.i18NCondition}}),y=U[a];return b.a.createElement(X.a,{key:"criteria"+a,roleNo:a+1,criteriaIndex:a,isDeleteCriteria:I.length>1,fieldDisable:!1,fields:s,selectedField:r,conditionDisable:!1,conditions:g,SelectedCondition:i,operator:y,value:o,pickValues:l,teamsList:d,valueType:f,timeZone:c,onFieldChange:e.handleFieldChange,onConditionChange:e.handleConditionChange,onDeleteCriteria:e.handleRemoveCriteria,onAddCriteria:e.handleAddCriteria.bind(e,n),onUpdateCriteriaOperator:e.handlePatternUpdate,onValueChange:e.handleCriteriaValueChange,deptId:v})}),b.a.createElement(ie,{labelText:Object(S.e)(i,"support.label.criteria.pattern"),onChange:this.handlePatternChange,pattern:O,formatPattern:Object(R.c)(O),errorMessage:Object(S.e)(i,M),editText:Object(S.e)(i,"support.permission.edit.comment"),isEditMode:V,saveText:Object(S.e)(i,"support.button.save"),onSave:this.handlePatternSave,cancelText:Object(S.e)(i,"support.label.cancel"),onCancel:this.handlePatternEditToggle,onEdit:this.handlePatternEditToggle})),b.a.createElement("div",{className:We.a.radiosec},b.a.createElement("span",{className:We.a.visbleTxt},b.a.createElement(Y.a,{text:Object(S.e)(i,"support.label.cv.visible.to"),size:"small",type:"title"})),b.a.createElement("span",{className:We.a.radioTxt},b.a.createElement(z.a,{checked:"onlyMe"===j,text:Object(S.e)(i,"support.label.only.me"),name:"accessibility",value:"onlyMe",onChange:this.handleVisibleTo,dataId:"onlyMeRadioButton"})),b.a.createElement("span",{className:We.a.radioTxt},b.a.createElement(z.a,{checked:"allAgents"===j,name:"accessibility",value:"allAgents",text:Object(S.e)(i,"AllUsers"),onChange:this.handleVisibleTo,dataId:"allAgentsRadioButton"})),b.a.createElement("span",{className:We.a.radioTxt},b.a.createElement(z.a,{checked:"specificAgents"===j,text:Object(S.e)(i,"support.label.criteria.specific.agents"),value:"specificAgents",name:"accessibility",onChange:this.handleVisibleTo,dataId:"specificAgentsRadioButton"}))),"specificAgents"===j?b.a.createElement(ke,{onChange:this.handleAccessibilityValueChange,getTeams:u,selectedTeams:ee,selectedAgents:H,selectedRoles:Z,selectedRS:Q,selectedValues:F.slice(0,B),teamsList:d,agents:p,roles:g,teams:f,agentNamePattern:m,nextAccessibilitiesCount:F.length-L.length,getNextAccessibilities:this.handleAccessibilityMore}):null)),b.a.createElement(K.CardFooter,null,te?null:b.a.createElement(J.a,{type:"footer",buttonPosition:"left"},b.a.createElement(G.a,{text:Object(S.e)(i,"support.button.save"),palette:"primaryFilled",onClick:this.handleCustomViewSave,disabled:V,dataId:"saveBtn"}),b.a.createElement(G.a,{text:Object(S.e)(i,"support.label.cancel"),palette:"secondary",onClick:this.handleCustomViewCancel}))))))}}]),t}(v.Component),Je={},qe=[];t.default=Object(C.connect)(function(e){var t=e.moduleMapper,a=e.i18n,n=e.UIState,i=e.routing,r=e.module,o=n.customViewFormUIState,l=Object(j.r)(e),s=r.agent,c=r.teams,d=r.role,u=t[e.routing.paramMap.moduleName],m=e.routing.paramMap.viewName;u=u.substring(0,u.length-1);var h=i.urls,p=h.editCV,f=h.editArchivedCV,g=2===p.match,v=2===f.match,b=E()("module."+u+"view",e)||Je,y=Object(M.b)(e,u),A=E()("departmentSpecificState."+l+"."+u+"CVFields",e)||Je,C=Object(j.lb)(e,{views:b,viewId:y})||qe,S=Object(j.L)(e);return{CVFields:A,i18n:a,module:u,deptId:l,customViewFormUIState:o,isEdit:g,isEditArchivedView:v,viewId:y,viewName:m,views:b,fieldLabels:Object(j.g)(e,{fields:A}),allViewNames:C,moduleMeta:e.moduleMeta,orgName:e.routing.paramMap.orgName,deptName:e.routing.paramMap.deptName,timeZone:e.myInfo.timeZone,teamsList:Object(j.bb)(e),agents:s,teams:c,roles:d,namePattern:S}},{getCVFields:function(e){var t=e.toLowerCase()||"";return{types:Object(V.m)("CVFIELDS"),shouldCallAPI:function(e){var a=Object(j.r)(e);return!(e.departmentSpecificState[a]&&i()(e.departmentSpecificState[a][t+"CVFields"]).length)},callAPI:function(e){var a=Object(j.r)(e),n="allDepartment"===a?"0":a;return Object(w.a)("/api/v1/cvCriteriaFields?module="+t+"s&departmentId="+n,!1,{orgId:e.currentOrgId}).get().then(function(e){var n=(e.criteriaFields&&e.criteriaFields[0]||{}).fieldDetails,i=void 0===n?[]:n,r=[{fieldLabel:"-- Click to select --",i18NLabel:S.f.getI18NValue("support.label.click.to.select"),type:"text",availableConditions:[{condition:"None",i18NCondition:S.f.getI18NValue("None"),value:["${CUSTOM}"]}]}].concat(o()(i)),l=Object(k.normalize)(204!==e.responseStatus?r:[],Object(k.arrayOf)(Object(k.schema)("fields",{id:"fieldLabel",entityAssignment:function(e){var t=Object(k.normalize)(e.availableConditions||[],Object(k.arrayOf)(Object(k.schema)("conditions",{id:"condition"}))),a=t.entities,n=t.result;return N()({},e,{availableConditions:a.conditions,conditionsOrder:n})}}))),s=l.entities,c=l.result;return{deptId:a,res:{fields:s.fields,fieldsOrder:c},moduleName:t}})}}},getCustomView:function(e,t,a){var n=t.toLowerCase(),i=a?"/api/v1/archivedViews/"+e:"/api/v1/views/"+e;return{types:Object(V.m)("VIEW_UPDATE"),callAPI:function(t){return Object(w.a)(i,!1,{orgId:t.currentOrgId}).get().then(function(t){if(204!==t.responseStatus)return{res:t=N()({},t,{isCustomView:!0}),module:n+"view",id:e,moduleName:n};throw{}})}}},addFilterCriteria:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",n=(t[e]||{}).conditionsOrder,i=(void 0===n?[]:n)[0]||"",r=F(t,e,i);return{type:"CV_FILTERCRITERIA_ADD",data:{fieldConditions:{condition:i,fieldName:e,value:r.value,pickValues:r.pickValues},pattern:a}}},cvViewNameChange:function(e){return{type:"CV_VIEWNAME_CHANGE",data:e}},cvCriteriaConditionChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(n,i){var r=i().UIState.customViewFormUIState.criteria.fieldConditions[a].fieldName,o=F(t,r,e),l=o.value,s=o.pickValues;return n({type:"CV_CRITERIACONDITION_CHANGE",data:{criteria:{condition:e,fieldName:r,value:l,pickValues:s},index:a}})}},cvCriteriaFieldChange:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(t[e]||{}).conditionsOrder,i=(void 0===n?[]:n)[0]||"",r=F(t,e,i);return{type:"CV_CRITERIAFIELD_CHANGE",data:{criteria:{condition:i,fieldName:e,value:r.value,pickValues:r.pickValues},index:a}}},cvCriteriaValueChange:function(e,t){return function(a,n){var i=n().UIState.customViewFormUIState.criteria.fieldConditions[e],r=i.fieldName,o=i.condition,l=i.pickValues;return a({type:"CV_CRITERIAVALUE_CHANGE",data:{criteria:{fieldName:r,condition:o,value:t,pickValues:l},index:e}})}},getViewsCommon:I.c,clearCriteria:function(){return{type:"CLEAR_CRITERIA"}},cvEditCase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,a){var n=a(),r=n.moduleMapper,o=n.module,l=Object(j.r)(n),s=r[n.routing.paramMap.moduleName];s=s.substring(0,s.length-1);var c=(E()("departmentSpecificState."+l+"."+s+"CVFields",n)||{}).fields,d=void 0===c?{}:c,u=e.accessibility,m=void 0===u?{}:u,h=e.criteria,p=((void 0===h?{}:h)||{}).fieldConditions,f=void 0===p?[]:p,g=m.teams,v=void 0===g?[]:g,b=[],y=i()(o.agent),A=!(!v||!v.length);f.forEach(function(e){var t=e.fieldName,a=e.condition,n=e.value,i=d[t].type;"user"===i||"team"===i&&"has agents"===a?b=n.reduce(function(e,t){return-1===e.indexOf(t)&&-1===y.indexOf(t)&&e.push(t),e},b):"team"===i&&(A=!0)}),Object(R.b)(b,50).forEach(function(e){t(Object(D.c)(e))}),A&&t(Object(P.u)()),t({type:"CV_SET_INITIAL_STATE",data:e})}},removeCVCriteria:function(e){return{type:"CV_FILTERCRITERIA_REMOVE",data:{index:e,pattern:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1"}}},CVPatternChange:function(e){return{type:"CV_PATTERN_CHANGE",data:e}},customViewAdd:function(e,t){var a=e.toLowerCase();return{types:Object(V.m)("VIEW_CREATE"),callAPI:function(n){return Object(w.a)("/api/v1/views",!1,{orgId:n.currentOrgId}).post("",N()({},{module:e+"s"},t)).then(function(e){if(204!==e.responseStatus){var t=e.name,n=e.displayLabel,i=e.isCustomView,r=e.department,o=N()({},e,{isCustomView:i||!0,displayLabel:n||t});return{res:o,module:a+"view",id:o.id,deptId:r,moduleName:a}}return{}})}}},customViewUpdate:function(e,t){var a=e.toLowerCase();return{types:Object(V.m)("VIEW_UPDATE"),callAPI:function(n){var i=Object(M.b)(n,e);return Object(w.a)("/api/v1/views/"+i,!1,{orgId:n.currentOrgId}).put("",t).then(function(e){if(204!==e.responseStatus){var t=e.name,n=e.displayLabel,r=e.isCustomView,o=e.department;return{res:N()({},e,{isCustomView:r||!0,displayLabel:n||t}),module:a+"view",id:i,deptId:o,moduleName:a}}return{}})}}},push:P.K,goBack:x.goBack,showConfirmBox:P.a.showConfirmBox,CVAccessibilityChange:function(e){return{type:"CV_ACCESSIBILITY_CHANGE",data:e}},CVDepartmentChange:function(e){return{type:"CV_DEPT_CHANGE",data:e}},getTeamsList:P.u,unArchivedViews:O.c,getAgentDetails:D.c,getRoleDetails:B.a})(Ze);Ze.propTypes={CVAccessibilityChange:A.a.func,CVDepartmentChange:A.a.func,CVFields:A.a.object,CVPatternChange:A.a.func,addFilterCriteria:A.a.func,agents:A.a.object,allViewNames:A.a.array,clearCriteria:A.a.func,customViewAdd:A.a.func,customViewFormUIState:A.a.object,customViewUpdate:A.a.func,cvCriteriaConditionChange:A.a.func,cvCriteriaFieldChange:A.a.func,cvCriteriaValueChange:A.a.func,cvEditCase:A.a.func,cvViewNameChange:A.a.func,deptId:A.a.string,deptName:A.a.string,fieldLabels:A.a.array,getAgentDetails:A.a.func,getAgents:A.a.func,getCVFields:A.a.func,getCustomView:A.a.func,getRoleDetails:A.a.func,getTeamsList:A.a.func,getViewsCommon:A.a.func,goBack:A.a.func,i18n:A.a.object,isEdit:A.a.bool,isEditArchivedView:A.a.bool,module:A.a.string,moduleMeta:A.a.object,namePattern:A.a.array,orgName:A.a.string,push:A.a.func,removeCVCriteria:A.a.func,roles:A.a.object,showConfirmBox:A.a.func,teams:A.a.object,teamsList:A.a.array,timeZone:A.a.string,unArchivedViews:A.a.func,viewId:A.a.string,viewName:A.a.string,views:A.a.object}},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=s(a(0)),r=s(a(1)),o=s(a(953)),l=s(a(151));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,r=e.disabled,s=e.palette,c=e.text,d=e.labelPalette,u=e.active,m=e.labelSize,h=e.getRef,p=e.dataId,f=u?o.default[s+"_active"]:"",g=r?o.default.disabled:o.default.pointer;return i.default.createElement("span",{className:o.default.container+" "+g+" "+(c?o.default.layout:o.default.basic)+" "},i.default.createElement("input",{type:"checkbox",className:o.default.input+" "+(n?o.default.checked:""),name:a,checked:n,disabled:r,ref:h}),i.default.createElement("label",{className:o.default["label_"+s]+" "+f+" "+(c?o.default.layoutshrink:""),onClick:this.onChange,"data-id":p},i.default.createElement("span",null)),c&&i.default.createElement("span",{className:o.default.text},i.default.createElement(l.default,{text:c,palette:d,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:r.default.bool,checked:r.default.bool,dataId:r.default.string,disabled:r.default.bool,getRef:r.default.func,id:r.default.string.isRequired,labelPalette:r.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:r.default.oneOf(["small","medium","large"]),name:r.default.string,onChange:r.default.func,palette:r.default.oneOf(["primary","danger"]),text:r.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},949:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),r=y(i),o=y(a(1)),l=y(a(80)),s=y(a(72)),c=y(a(234)),d=y(a(99)),u=a(202),m=y(u),h=y(a(236)),p=y(a(237)),f=y(a(957)),g=y(a(63)),v=a(358),b=a(201);function y(e){return e&&e.__esModule?e:{default:e}}var A=[],C=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFilterSuggestions=(0,v.makeGetMultiSelectFilterSuggestions)(),a.formatOptions=(0,v.makeFormatOptions)(),a.getSelectedValue=(0,v.makeGetSelectedValueText)(),a.selectedFormatOptions={};var n=e.selectedValue,i=e.searchDebounceTime,r=void 0===i?500:i,o=e.isDefaultSelectValue,l=a.handleFormatOptions(a.props),s=l.allOptions,c=l.normalizedAllOptions,d=l.optionsOrder,u=l.normalizedFormatOptions,m=a.getSelectedValue({optionsOrder:d,selectedValue:n,normalizedFormatOptions:u,selectedFormatOptions:a.selectedFormatOptions,isDefaultSelectValue:o}),h=m.selected,p=m.hoverIndex,f=m.selectedValueDetails,g=m.selectedId;m.isSelfValueChanged;return a.state={selected:h,options:s,optionsNormalize:c,hoverIndex:p,searchStr:"",isFetchingOptions:!1,selectedId:g,selectedValueIndex:p},a.optionsOrder=d,a._isMounted=!1,a.normalizedFormatOptions=u,a.allSelectedOptions=f,a.handleChange=a.handleChange.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleFilterSuggestions=a.handleFilterSuggestions.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleFetchOptions=a.handleFetchOptions.bind(a),a.handleGetNextOptions=a.handleGetNextOptions.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleSearchOptions=(0,b.debounce)(a.handleSearchOptions.bind(a),r),a.suggestionContainerRef=a.suggestionContainerRef.bind(a),a.suggestionItemRef=a.suggestionItemRef.bind(a),a.searchInputRef=a.searchInputRef.bind(a),a.valueInputRef=a.valueInputRef.bind(a),a.togglePopup=a.togglePopup.bind(a),a.handleSelectFocus=a.handleSelectFocus.bind(a),a.handleFormatOptions=a.handleFormatOptions.bind(a),a.handlePopupClose=a.handlePopupClose.bind(a),a.handleClearSearch=a.handleClearSearch.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,a=e.isDefaultSelectValue,n=this.state.hoverIndex,i=this.handleFormatOptions(e),r=i.allOptions,o=i.normalizedAllOptions,l=i.optionsOrder,s=i.normalizedFormatOptions,c=this.selectedFormatOptions,d=this.getSelectedValue({optionsOrder:l,selectedValue:t,normalizedFormatOptions:s,selectedFormatOptions:c,isDefaultSelectValue:a}),u=d.selected,m=d.hoverIndex,h=d.selectedValueDetails,p=d.selectedId;d.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(c,h),this.normalizedFormatOptions=s,this.optionsOrder=l,this.setState({options:r,optionsNormalize:o,selected:u,hoverIndex:n||m,selectedId:p,selectedValueIndex:m})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.suggestionContainer,n=this.optionsOrder,i=this.isSelectWithAvatarComponent,r=this.state,o=r.hoverIndex,l=r.searchStr,s=r.selectedValueIndex,c=this.props,d=c.needLocalSearch,u=c.onDropBoxClose,m=c.onDropBoxOpen,h=c.needSearch,p=c.onSearch,f=c.isPopupOpen,g=this["suggestion_"+((0,b.getIsEmptyValue)(n[o])?"":n[o])];f&&(0,b.scrollTo)(a,g),e.isPopupOpen!==f&&(f?(m&&this.handleFetchOptions(m,l),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(h&&this.valueInput&&this.valueInput.focus(),u&&u(),p&&p(""),this.setState({searchStr:i?l:"",hoverIndex:s})));var v=this.props,y=v.isNextOptions,A=v.getNextOptions,C=(f?this.handleFilterSuggestions():[]).length;f&&C<=5&&y&&A&&!d&&this.handleFetchOptions(A,l)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,a=e.valueField,n=e.textField;return this.formatOptions({options:t,valueField:a,textField:n})}},{key:"handleChange",value:function(e,t,a,n){n&&n.preventDefault&&n.preventDefault();var i=this.props,r=i.onChange,o=i.isReadOnly,l=this.state.optionsNormalize;!o&&r&&r(e,l[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,a=t.onChange,n=t.isPopupOpen,i=this.state,r=i.hoverIndex,o=i.optionsNormalize,l=this.handleFilterSuggestions(),s=e.keyCode;if(n&&(38===s||40===s)&&e.preventDefault&&e.preventDefault(),38===s&&n&&l.length)0===r||(r-=1),this.setState({hoverIndex:r});else if(40===s&&n&&l.length)r===l.length-1||(r===l.length-3&&this.handleGetNextOptions(),r+=1),this.setState({hoverIndex:r});else if(13===s){var c=(l[r]||{}).id;n&&!(0,b.getIsEmptyValue)(c)&&a&&a(c,o[c]),n?!(0,b.getIsEmptyValue)(c)&&this.togglePopup(e):this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,a=this.state.searchStr,n=void 0===a?"":a,i=this.props.onSearch,r=n.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?r&&i&&t.handleSearchOptions():i&&t.handleFetchOptions(i,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,a=this.optionsOrder.indexOf(e);t!==a&&this.setState({hoverIndex:a})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,a=e.excludeOptions,n=void 0===a?A:a,i=e.needSearch,r=this.state,o=r.options,l=void 0===o?A:o,s=r.searchStr;return i&&s&&s.trim().length||n&&n.length?this.getFilterSuggestions({options:l,selectedOptions:n,searchStr:s,needSearch:t}).suggestions:l}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.isFetchingOptions,i=void 0!==n&&n,r=this._isMounted;if(!i&&e){this.setState({isFetchingOptions:!0});try{return e(a).then(function(){r&&t.setState({isFetchingOptions:!1})},function(){r&&t.setState({isFetchingOptions:!1})})}catch(e){r&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,a=e.getNextOptions,n=this.state.searchStr;t&&a&&this.handleFetchOptions(a,n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.isReadOnly,i=t.defaultDropBoxPosition;!n&&a(e,i?i+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,a){this["suggestion_"+a]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(e){var t=(e||{}).target;t&&t.setSelectionRange(t,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"render",value:function(){var e=this.props,t=e.needSearch,a=e.dropBoxSize,n=e.emptyMessage,i=e.searchEmptyMessage,o=e.needBorder,l=e.needSelectDownIcon,v=e.position,b=e.defaultDropBoxPosition,y=e.getTargetRef,A=e.getContainerRef,C=e.isPopupOpen,S=e.removeClose,_=e.isPopupReady,E=e.animationStyle,x=e.textBoxSize,I=e.textBoxVariant,O=e.searchBoxSize,T=e.searchBoxPlaceHolder,N=e.maxLength,k=e.isDisabled,w=e.title,V=e.size,R=e.placeHolder,P=e.className,M=e.portalId,D=e.isReadOnly,j=e.dataId,F=this.state,B=F.hoverIndex,L=F.selected,G=F.searchStr,U=F.isFetchingOptions,z=F.selectedId,H=F.options,Y=this.handleFilterSuggestions();return r.default.createElement("div",{className:f.default.container+" "+f.default["box_"+V]+" ","data-title":k?w:""},r.default.createElement("div",{className:""+(P||""),onClick:k||D?null:this.togglePopup,ref:y},l?r.default.createElement(c.default,{isDisabled:k,iconRotated:C,inputRef:this.valueInputRef,maxLength:N,needBorder:o,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:R,isReadOnly:!0,size:x,value:L,variant:I,needReadOnlyStyle:!!D,dataId:j,isClickable:!D&&!k,className:D||k?"":f.default.input,needEffect:!D},r.default.createElement("div",{className:f.default.arrowIcon,"data-id":j+"_downIcon"},r.default.createElement(g.default,{name:"blockDownArrow",size:"8"}))):r.default.createElement(d.default,{disabled:k,inputRef:this.valueInputRef,maxLength:N,needBorder:o,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:R,readOnly:!0,size:x,value:L,variant:I,needReadOnlyStyle:!!D,dataId:j,isClickable:!D&&!k})),D||k||!C?null:r.default.createElement(s.default,{animationStyle:E,boxPosition:v||b+"Center",getRef:A,isActive:_,isAnimate:!0,isArrow:!1,onClick:S,portalId:M,dataIdContainer:j+"_suggestions"},r.default.createElement(m.default,{className:f.default.box,onScroll:this.handleScroll},t?r.default.createElement(u.CardHeader,null,r.default.createElement("div",{className:f.default.search+" "+f.default[V]},r.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:N,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:T,size:O,value:G,onClear:this.handleClearSearch,dataIdSearchBox:j+"_searchBox"}))):null,r.default.createElement(u.CardContent,{className:a?f.default[a]:"",eleRef:this.suggestionContainerRef,dataId:j+"_Options"},Y.length?r.default.createElement(h.default,{activeId:z,suggestions:Y,getRef:this.suggestionItemRef,hoverOption:B,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):r.default.createElement(p.default,{emptyMessage:n,isLoading:U,options:H,searchEmptyMessage:i,searchString:G,suggestions:Y,dataIdLoading:j+"_loading",dataIdSrchEmptyMsg:j+"_srchEmptyMsg",dataIdNoOptnsMsg:j+"_noOptnsMsg"})))))}}]),t}();C.propTypes={animationStyle:o.default.string,className:o.default.string,closePopupOnly:o.default.func,dataId:o.default.string,defaultDropBoxPosition:o.default.oneOf(["bottom","top","left","right"]),dropBoxSize:o.default.oneOf(["small","medium","large"]),emptyMessage:o.default.string,excludeOptions:o.default.array,getContainerRef:o.default.func,getNextOptions:o.default.func,getRef:o.default.func,getTargetRef:o.default.func,isDefaultSelectValue:o.default.bool,isDisabled:o.default.bool,isNextOptions:o.default.bool,isPopupOpen:o.default.bool,isPopupReady:o.default.bool,isReadOnly:o.default.bool,maxLength:o.default.string,needBorder:o.default.bool,needLocalSearch:o.default.bool,needSearch:o.default.bool,needSelectDownIcon:o.default.bool,onChange:o.default.func.isRequired,onDropBoxClose:o.default.func,onDropBoxOpen:o.default.func,onSearch:o.default.func,options:o.default.oneOfType([o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.number])),o.default.arrayOf(o.default.shape({id:o.default.oneOfType([o.default.string,o.default.number]),text:o.default.oneOfType([o.default.string,o.default.number])}))]).isRequired,placeHolder:o.default.string,portalId:o.default.string,position:o.default.string,removeClose:o.default.func,searchBoxPlaceHolder:o.default.string,searchBoxSize:o.default.string,searchDebounceTime:o.default.number,searchEmptyMessage:o.default.string,selectedValue:o.default.oneOfType([o.default.oneOfType([o.default.string,o.default.number]),o.default.shape({id:o.default.oneOfType([o.default.string,o.default.number]),text:o.default.oneOfType([o.default.string,o.default.number])})]),size:o.default.oneOf(["small","medium"]),textBoxSize:o.default.string,textBoxVariant:o.default.string,textField:o.default.string,title:o.default.string,togglePopup:o.default.func,valueField:o.default.string},C.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},C.defaultProps={animationStyle:"bounce",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",dataId:"selectComponent",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},C.displayName="Select";var S=(0,l.default)(C);S.propTypes=C.propTypes,S.defaultProps=C.defaultProps,t.default=S},951:function(e,t,a){e.exports={container:"Fields-module__container",fieldContainer:"Fields-module__fieldContainer",checkbox:"Fields-module__checkbox common-module__dflex common-module__alignFend",disabled:"Fields-module__disabled common-module__disabled",inblk:"Fields-module__inblk",radio:"Fields-module__radio",duration:"Fields-module__duration",flex:"Fields-module__flex common-module__dflex",periodContainer:"Fields-module__periodContainer common-module__dflex common-module__flexrow common-module__flexwrap"}},952:function(e,t,a){"use strict";var n=a(12),i=a.n(n),r=a(9),o=a.n(r),l=a(10),s=a.n(l),c=a(13),d=a.n(c),u=a(14),m=a.n(u),h=a(0),p=a.n(h),f=a(1),g=a.n(f),v=a(1018),b=a.n(v),y=a(151),A=a.n(y),C=function(e){function t(){return o()(this,t),d()(this,(t.__proto__||i()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.palette,a=e.text,n=e.id,i=e.onClick,r=e.type,o=e.size,l=e.dataId;return p.a.createElement("div",{onClick:i,className:""+("primary"===r?b.a.primary:b.a.secondary)},p.a.createElement(A.a,{text:a,id:n,palette:t,size:o,dataId:l}))}}]),t}(p.a.Component);t.a=C,C.propTypes={id:g.a.string,onClick:g.a.func,palette:g.a.oneOf(["primary","mandatory","danger"]),size:g.a.oneOf(["small","medium","large"]),text:g.a.string,type:g.a.oneOf(["primary","secondary"])},C.defaultProps={palette:"danger",size:"medium",type:"primary"}},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},954:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.offsetMap={"Africa/Abidjan":0,"Africa/Accra":0,"Africa/Addis_Ababa":180,"Africa/Algiers":0,"Africa/Asmara":180,"Africa/Asmera":180,"Africa/Bamako":0,"Africa/Bangui":60,"Africa/Banjul":0,"Africa/Bissau":-60,"Africa/Blantyre":120,"Africa/Brazzaville":60,"Africa/Bujumbura":120,"Africa/Cairo":120,"Africa/Casablanca":0,"Africa/Ceuta":0,"Africa/Conakry":0,"Africa/Dakar":0,"Africa/Dar_es_Salaam":180,"Africa/Djibouti":180,"Africa/Douala":60,"Africa/El_Aaiun":-60,"Africa/Freetown":0,"Africa/Gaborone":120,"Africa/Harare":120,"Africa/Johannesburg":120,"Africa/Juba":120,"Africa/Kampala":180,"Africa/Khartoum":120,"Africa/Kigali":120,"Africa/Kinshasa":60,"Africa/Lagos":60,"Africa/Libreville":60,"Africa/Lome":0,"Africa/Luanda":60,"Africa/Lubumbashi":120,"Africa/Lusaka":120,"Africa/Malabo":60,"Africa/Maputo":120,"Africa/Maseru":120,"Africa/Mbabane":120,"Africa/Mogadishu":180,"Africa/Monrovia":44,"Africa/Nairobi":180,"Africa/Ndjamena":60,"Africa/Niamey":60,"Africa/Nouakchott":0,"Africa/Ouagadougou":0,"Africa/Porto-Novo":60,"Africa/Sao_Tome":0,"Africa/Timbuktu":0,"Africa/Tripoli":120,"Africa/Tunis":60,"Africa/Windhoek":120,"America/Adak":-660,"America/Anchorage":-600,"America/Anguilla":-240,"America/Antigua":-240,"America/Araguaina":-180,"America/Argentina/Buenos_Aires":-180,"America/Argentina/Catamarca":-180,"America/Argentina/ComodRivadavia":-180,"America/Argentina/Cordoba":-180,"America/Argentina/Jujuy":-180,"America/Argentina/La_Rioja":-180,"America/Argentina/Mendoza":-180,"America/Argentina/Rio_Gallegos":-180,"America/Argentina/Salta":-180,"America/Argentina/San_Juan":-180,"America/Argentina/San_Luis":-180,"America/Argentina/Tucuman":-180,"America/Argentina/Ushuaia":-180,"America/Aruba":-240,"America/Asuncion":-240,"America/Atikokan":-300,"America/Atka":-660,"America/Bahia":-180,"America/Bahia_Banderas":-480,"America/Barbados":-240,"America/Belem":-180,"America/Belize":-360,"America/Blanc-Sablon":-240,"America/Boa_Vista":-240,"America/Bogota":-300,"America/Boise":-420,"America/Buenos_Aires":-180,"America/Cambridge_Bay":-420,"America/Campo_Grande":-240,"America/Cancun":-360,"America/Caracas":-240,"America/Catamarca":-180,"America/Cayenne":-180,"America/Cayman":-300,"America/Chicago":-360,"America/Chihuahua":-360,"America/Coral_Harbour":-300,"America/Cordoba":-180,"America/Costa_Rica":-360,"America/Creston":-420,"America/Cuiaba":-240,"America/Curacao":-240,"America/Danmarkshavn":-180,"America/Dawson":-540,"America/Dawson_Creek":-480,"America/Denver":-420,"America/Detroit":-300,"America/Dominica":-240,"America/Edmonton":-420,"America/Eirunepe":-300,"America/El_Salvador":-360,"America/Ensenada":-480,"America/Fort_Nelson":-420,"America/Fort_Wayne":-300,"America/Fortaleza":-180,"America/Glace_Bay":-240,"America/Godthab":-180,"America/Goose_Bay":-240,"America/Grand_Turk":-300,"America/Grenada":-240,"America/Guadeloupe":-240,"America/Guatemala":-360,"America/Guayaquil":-300,"America/Guyana":-135,"America/Halifax":-240,"America/Havana":-300,"America/Hermosillo":-480,"America/Indiana/Indianapolis":-300,"America/Indiana/Knox":-360,"America/Indiana/Marengo":-300,"America/Indiana/Petersburg":-360,"America/Indiana/Tell_City":-300,"America/Indiana/Vevay":-300,"America/Indiana/Vincennes":-300,"America/Indiana/Winamac":-300,"America/Indianapolis":-300,"America/Inuvik":-480,"America/Iqaluit":-300,"America/Jamaica":-300,"America/Jujuy":-180,"America/Juneau":-480,"America/Kentucky/Louisville":-300,"America/Kentucky/Monticello":-360,"America/Knox_IN":-360,"America/Kralendijk":-240,"America/La_Paz":-240,"America/Lima":-300,"America/Los_Angeles":-480,"America/Louisville":-300,"America/Lower_Princes":-240,"America/Maceio":-180,"America/Managua":-360,"America/Manaus":-240,"America/Marigot":-240,"America/Martinique":-240,"America/Matamoros":-360,"America/Mazatlan":-480,"America/Mendoza":-180,"America/Menominee":-300,"America/Merida":-360,"America/Metlakatla":-480,"America/Mexico_City":-360,"America/Miquelon":-240,"America/Moncton":-240,"America/Monterrey":-360,"America/Montevideo":-180,"America/Montreal":-300,"America/Montserrat":-240,"America/Nassau":-300,"America/New_York":-300,"America/Nipigon":-300,"America/Nome":-660,"America/Noronha":-120,"America/North_Dakota/Beulah":-420,"America/North_Dakota/Center":-420,"America/North_Dakota/New_Salem":-420,"America/Ojinaga":-360,"America/Panama":-300,"America/Pangnirtung":-240,"America/Paramaribo":-150,"America/Phoenix":-420,"America/Port-au-Prince":-300,"America/Port_of_Spain":-240,"America/Porto_Acre":-300,"America/Porto_Velho":-240,"America/Puerto_Rico":-240,"America/Punta_Arenas":-180,"America/Rainy_River":-360,"America/Rankin_Inlet":-360,"America/Recife":-180,"America/Regina":-360,"America/Resolute":-360,"America/Rio_Branco":-300,"America/Rosario":-180,"America/Santa_Isabel":-480,"America/Santarem":-240,"America/Santiago":-180,"America/Santo_Domingo":-210,"America/Sao_Paulo":-180,"America/Scoresbysund":-120,"America/Shiprock":-420,"America/Sitka":-480,"America/St_Barthelemy":-240,"America/St_Johns":-150,"America/St_Kitts":-240,"America/St_Lucia":-240,"America/St_Thomas":-240,"America/St_Vincent":-240,"America/Swift_Current":-420,"America/Tegucigalpa":-360,"America/Thule":-240,"America/Thunder_Bay":-300,"America/Tijuana":-480,"America/Toronto":-300,"America/Tortola":-240,"America/Vancouver":-480,"America/Virgin":-240,"America/Whitehorse":-480,"America/Winnipeg":-360,"America/Yakutat":-540,"America/Yellowknife":-420,"Antarctica/Casey":480,"Antarctica/Davis":420,"Antarctica/DumontDUrville":600,"Antarctica/Macquarie":660,"Antarctica/Mawson":360,"Antarctica/McMurdo":720,"Antarctica/Palmer":-180,"Antarctica/Rothera":0,"Antarctica/South_Pole":720,"Antarctica/Syowa":180,"Antarctica/Troll":0,"Antarctica/Vostok":360,"Arctic/Longyearbyen":60,"Asia/Aden":180,"Asia/Almaty":360,"Asia/Amman":120,"Asia/Anadyr":780,"Asia/Aqtau":300,"Asia/Aqtobe":300,"Asia/Ashgabat":300,"Asia/Ashkhabad":300,"Asia/Atyrau":300,"Asia/Baghdad":180,"Asia/Bahrain":240,"Asia/Baku":240,"Asia/Bangkok":420,"Asia/Barnaul":420,"Asia/Beirut":120,"Asia/Bishkek":360,"Asia/Brunei":480,"Asia/Calcutta":330,"Asia/Chita":540,"Asia/Choibalsan":420,"Asia/Chongqing":420,"Asia/Chungking":420,"Asia/Colombo":330,"Asia/Dacca":360,"Asia/Damascus":120,"Asia/Dhaka":360,"Asia/Dili":540,"Asia/Dubai":240,"Asia/Dushanbe":360,"Asia/Famagusta":120,"Asia/Gaza":120,"Asia/Harbin":510,"Asia/Hebron":120,"Asia/Ho_Chi_Minh":420,"Asia/Hong_Kong":480,"Asia/Hovd":360,"Asia/Irkutsk":480,"Asia/Istanbul":120,"Asia/Jakarta":420,"Asia/Jayapura":540,"Asia/Jerusalem":120,"Asia/Kabul":270,"Asia/Kamchatka":720,"Asia/Karachi":300,"Asia/Kashgar":300,"Asia/Kathmandu":330,"Asia/Katmandu":330,"Asia/Khandyga":540,"Asia/Kolkata":330,"Asia/Krasnoyarsk":420,"Asia/Kuala_Lumpur":450,"Asia/Kuching":480,"Asia/Kuwait":180,"Asia/Macao":480,"Asia/Macau":480,"Asia/Magadan":660,"Asia/Makassar":480,"Asia/Manila":480,"Asia/Muscat":240,"Asia/Nicosia":120,"Asia/Novokuznetsk":420,"Asia/Novosibirsk":420,"Asia/Omsk":360,"Asia/Oral":300,"Asia/Phnom_Penh":420,"Asia/Pontianak":480,"Asia/Pyongyang":540,"Asia/Qatar":240,"Asia/Qyzylorda":300,"Asia/Rangoon":390,"Asia/Riyadh":180,"Asia/Saigon":420,"Asia/Sakhalin":660,"Asia/Samarkand":300,"Asia/Seoul":540,"Asia/Shanghai":480,"Asia/Singapore":450,"Asia/Srednekolymsk":660,"Asia/Taipei":480,"Asia/Tashkent":360,"Asia/Tbilisi":240,"Asia/Tehran":210,"Asia/Tel_Aviv":120,"Asia/Thimbu":330,"Asia/Thimphu":330,"Asia/Tokyo":540,"Asia/Tomsk":420,"Asia/Ujung_Pandang":480,"Asia/Ulaanbaatar":420,"Asia/Ulan_Bator":420,"Asia/Urumqi":360,"Asia/Ust-Nera":600,"Asia/Vientiane":420,"Asia/Vladivostok":600,"Asia/Yakutsk":540,"Asia/Yangon":390,"Asia/Yekaterinburg":300,"Asia/Yerevan":240,"Atlantic/Azores":-60,"Atlantic/Bermuda":-240,"Atlantic/Canary":0,"Atlantic/Cape_Verde":-120,"Atlantic/Faeroe":0,"Atlantic/Faroe":0,"Atlantic/Jan_Mayen":60,"Atlantic/Madeira":0,"Atlantic/Reykjavik":0,"Atlantic/South_Georgia":-120,"Atlantic/St_Helena":0,"Atlantic/Stanley":-240,"Australia/ACT":600,"Australia/Adelaide":570,"Australia/Brisbane":600,"Australia/Broken_Hill":570,"Australia/Canberra":600,"Australia/Currie":600,"Australia/Darwin":570,"Australia/Eucla":525,"Australia/Hobart":660,"Australia/LHI":600,"Australia/Lindeman":600,"Australia/Lord_Howe":600,"Australia/Melbourne":600,"Australia/NSW":600,"Australia/North":570,"Australia/Perth":480,"Australia/Queensland":600,"Australia/South":570,"Australia/Sydney":600,"Australia/Tasmania":660,"Australia/Victoria":600,"Australia/West":480,"Australia/Yancowinna":570,"Brazil/Acre":-300,"Brazil/DeNoronha":-120,"Brazil/East":-180,"Brazil/West":-240,CET:60,CST6CDT:-360,"Canada/Atlantic":-240,"Canada/Central":-360,"Canada/Eastern":-300,"Canada/Mountain":-420,"Canada/Newfoundland":-150,"Canada/Pacific":-480,"Canada/Saskatchewan":-360,"Canada/Yukon":-480,"Chile/Continental":-180,"Chile/EasterIsland":-360,Cuba:-300,EET:120,EST5EDT:-300,Egypt:120,Eire:60,"Etc/GMT":0,"Etc/GMT+0":0,"Etc/GMT+1":-60,"Etc/GMT+10":-600,"Etc/GMT+11":-660,"Etc/GMT+12":-720,"Etc/GMT+2":-120,"Etc/GMT+3":-180,"Etc/GMT+4":-240,"Etc/GMT+5":-300,"Etc/GMT+6":-360,"Etc/GMT+7":-420,"Etc/GMT+8":-480,"Etc/GMT+9":-540,"Etc/GMT-0":0,"Etc/GMT-1":60,"Etc/GMT-10":600,"Etc/GMT-11":660,"Etc/GMT-12":720,"Etc/GMT-13":780,"Etc/GMT-14":840,"Etc/GMT-2":120,"Etc/GMT-3":180,"Etc/GMT-4":240,"Etc/GMT-5":300,"Etc/GMT-6":360,"Etc/GMT-7":420,"Etc/GMT-8":480,"Etc/GMT-9":540,"Etc/GMT0":0,"Etc/Greenwich":0,"Etc/UCT":0,"Etc/UTC":0,"Etc/Universal":0,"Etc/Zulu":0,"Europe/Amsterdam":60,"Europe/Andorra":60,"Europe/Astrakhan":240,"Europe/Athens":120,"Europe/Belfast":60,"Europe/Belgrade":60,"Europe/Berlin":60,"Europe/Bratislava":60,"Europe/Brussels":60,"Europe/Bucharest":120,"Europe/Budapest":60,"Europe/Busingen":60,"Europe/Chisinau":180,"Europe/Copenhagen":60,"Europe/Dublin":60,"Europe/Gibraltar":60,"Europe/Guernsey":60,"Europe/Helsinki":120,"Europe/Isle_of_Man":60,"Europe/Istanbul":120,"Europe/Jersey":60,"Europe/Kaliningrad":180,"Europe/Kiev":180,"Europe/Kirov":180,"Europe/Lisbon":60,"Europe/Ljubljana":60,"Europe/London":60,"Europe/Luxembourg":60,"Europe/Madrid":60,"Europe/Malta":60,"Europe/Mariehamn":120,"Europe/Minsk":180,"Europe/Monaco":60,"Europe/Moscow":180,"Europe/Nicosia":120,"Europe/Oslo":60,"Europe/Paris":60,"Europe/Podgorica":60,"Europe/Prague":60,"Europe/Riga":180,"Europe/Rome":60,"Europe/Samara":240,"Europe/San_Marino":60,"Europe/Sarajevo":60,"Europe/Saratov":240,"Europe/Simferopol":180,"Europe/Skopje":60,"Europe/Sofia":120,"Europe/Stockholm":60,"Europe/Tallinn":180,"Europe/Tirane":60,"Europe/Tiraspol":180,"Europe/Ulyanovsk":240,"Europe/Uzhgorod":180,"Europe/Vaduz":60,"Europe/Vatican":60,"Europe/Vienna":60,"Europe/Vilnius":180,"Europe/Volgograd":240,"Europe/Warsaw":60,"Europe/Zagreb":60,"Europe/Zaporozhye":180,"Europe/Zurich":60,GB:60,"GB-Eire":60,GMT:0,GMT0:0,Greenwich:0,Hongkong:480,Iceland:0,"Indian/Antananarivo":180,"Indian/Chagos":300,"Indian/Christmas":420,"Indian/Cocos":390,"Indian/Comoro":180,"Indian/Kerguelen":300,"Indian/Mahe":240,"Indian/Maldives":300,"Indian/Mauritius":240,"Indian/Mayotte":180,"Indian/Reunion":240,Iran:210,Israel:120,Jamaica:-300,Japan:540,Kwajalein:-720,Libya:120,MET:60,MST7MDT:-420,"Mexico/BajaNorte":-480,"Mexico/BajaSur":-480,"Mexico/General":-360,NZ:720,"NZ-CHAT":765,Navajo:-420,PRC:480,PST8PDT:-480,"Pacific/Apia":-660,"Pacific/Auckland":720,"Pacific/Bougainville":660,"Pacific/Chatham":765,"Pacific/Chuuk":600,"Pacific/Easter":-360,"Pacific/Efate":660,"Pacific/Enderbury":-720,"Pacific/Fakaofo":-600,"Pacific/Fiji":720,"Pacific/Funafuti":720,"Pacific/Galapagos":-300,"Pacific/Gambier":-540,"Pacific/Guadalcanal":660,"Pacific/Guam":600,"Pacific/Honolulu":-600,"Pacific/Johnston":-600,"Pacific/Kiritimati":-560,"Pacific/Kosrae":720,"Pacific/Kwajalein":-720,"Pacific/Majuro":720,"Pacific/Marquesas":-510,"Pacific/Midway":-660,"Pacific/Nauru":690,"Pacific/Niue":-630,"Pacific/Norfolk":690,"Pacific/Noumea":660,"Pacific/Pago_Pago":-660,"Pacific/Palau":540,"Pacific/Pitcairn":-450,"Pacific/Pohnpei":660,"Pacific/Ponape":660,"Pacific/Port_Moresby":600,"Pacific/Rarotonga":-570,"Pacific/Saipan":600,"Pacific/Samoa":-660,"Pacific/Tahiti":-600,"Pacific/Tarawa":720,"Pacific/Tongatapu":780,"Pacific/Truk":600,"Pacific/Wake":720,"Pacific/Wallis":720,"Pacific/Yap":600,Poland:60,Portugal:60,ROK:540,Singapore:450,"SystemV/AST4":-240,"SystemV/AST4ADT":-240,"SystemV/CST6":-360,"SystemV/CST6CDT":-360,"SystemV/EST5":-300,"SystemV/EST5EDT":-300,"SystemV/HST10":-600,"SystemV/MST7":-420,"SystemV/MST7MDT":-420,"SystemV/PST8":-480,"SystemV/PST8PDT":-480,"SystemV/YST9":-540,"SystemV/YST9YDT":-540,Turkey:120,UCT:0,"US/Alaska":-600,"US/Aleutian":-660,"US/Arizona":-420,"US/Central":-360,"US/East-Indiana":-300,"US/Eastern":-300,"US/Hawaii":-600,"US/Indiana-Starke":-360,"US/Michigan":-300,"US/Mountain":-420,"US/Pacific":-480,"US/Pacific-New":-480,"US/Samoa":-660,UTC:0,Universal:0,"W-SU":180,WET:0,Zulu:0,EST:-300,HST:-600,MST:-420,ACT:570,AET:600,AGT:-180,ART:120,AST:-540,BET:-180,BST:360,CAT:120,CNT:-150,CST:-360,CTT:480,EAT:180,ECT:60,IET:-300,IST:330,JST:540,MIT:780,NET:240,NST:720,PLT:300,PNT:-420,PRT:-240,PST:-480,SST:660,VST:420}},956:function(e,t,a){"use strict";a.d(t,"i",function(){return m}),a.d(t,"g",function(){return h}),a.d(t,"b",function(){return p}),a.d(t,"j",function(){return f}),a.d(t,"h",function(){return g}),a.d(t,"c",function(){return v}),a.d(t,"e",function(){return b}),a.d(t,"a",function(){return y}),a.d(t,"k",function(){return C}),a.d(t,"d",function(){return _}),a.d(t,"f",function(){return E}),a.d(t,"l",function(){return x});a(20);var n=a(2),i=a.n(n),r=a(15),o=a(6),l=a(7),s=a(17),c=a(46),d=a(3),u=a(39);function m(e){return{types:Object(o.m)("AGENTS_COUNT"),callAPI:function(t){var a=Object(s.r)(t);return Object(r.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return i()({},e,{id:e.agentId})}),{countData:e.data,deptId:a}):{}})}}}function h(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(o.m)(d.L.AGENT),callAPI:function(o){return Object(r.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+a+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:o.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<a,r=Object(l.normalize)(t.data,Object(l.arrayOf)(Object(l.schema)(d.L.AGENT_L)));return i()(r,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function p(e,t){return{types:Object(o.m)(d.L.AGENT),callAPI:function(a){return Object(r.a)("/api/v1/agents/"+e,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=Object(l.normalize)(e,Object(l.schema)(d.L.AGENT_L));return i()(a,{depId:t})})}}}function f(e,t,a){return{types:Object(o.m)("AGENT_SEARCH"),callAPI:function(n){return Object(r.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+a,!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<a,r=Object(l.normalize)(e.data,Object(l.arrayOf)(Object(l.schema)(d.L.AGENT_L)));return i()(r,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.u,u=arguments[4];return{types:Object(o.m)(d.L.AGENT),callAPI:function(o){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",h=u||Object(s.r)(o),p=u?"&departmentId="+u:Object(c.a)(o,!0),f="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(a?"&searchStr=*"+a+"*":"")+p;return Object(r.a)(encodeURI(f),!1,{orgId:o.currentOrgId}).get().then(function(r){return i()({},Object(l.normalize)(204!==r.responseStatus?r.data:[],Object(l.arrayOf)(Object(l.schema)(d.L.AGENT_L))),{deptId:h,from:t,limit:n,isNext:!!r.data&&r.data.length>n,searchStr:a,agentType:e})},function(e){throw e})}}}function v(e){return{types:Object(o.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(r.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.normalize)(204!==e.responseStatus?e.data:[],Object(l.arrayOf)(Object(l.schema)(d.L.AGENT_L)))})}}}function b(e){return{types:Object(o.m)("TEAM_AGENT"),callAPI:function(t){return Object(r.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.normalize)(e.members,Object(l.arrayOf)(Object(l.schema)(d.L.AGENT_L)))})}}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a="";return t.map(function(t){void 0!==e[t]&&(a+="&"+t+"="+e[t])}),a}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return void 0!==e[t]?e[t]:a}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=A(e,"searchType","string"),a=e.searchStr;return a&&(a="string*"==t?a+"*":"*string*"==t?"*"+a+"*":a),a}function S(e){var t=e.isConfirmed,a=e.status;switch(a){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===a)return u.b}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=A(e,"from","1"),e.limit=A(e,"limit","100"),e.searchStr=C(e);var t=e.from>1?u.k:u.j;return{types:Object(o.m)(t),callAPI:function(t){var a="/api/v1/agents?orgId="+t.currentOrgId;return a+=y(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(r.a)(a).get().then(function(t){return i()(Object(l.normalize)(void 0!==t.data?t.data:[],Object(l.arrayOf)(Object(l.schema)(d.L.AGENT_L))),{status:S(e)})})}}}function E(e,t,a){var n={status:e,isConfirmed:t,includeLightAgent:a};return n.includeLightAgent=A(n,"includeLightAgent",!0),{types:Object(o.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=y(n,["status","isConfirmed","includeLightAgent"]),Object(r.a)(t).get().then(function(e){return i()({},e,{status:S(n)})})}}}function x(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}},957:function(e,t,a){e.exports={input:"Select-module__input",small:"Select-module__small",medium:"Select-module__medium",large:"Select-module__large",emptyState:"Select-module__emptyState common-module__semibold common-module__ftsmooth",box_small:"Select-module__box_small",box_medium:"Select-module__box_medium",hide:"Select-module__hide common-module__vishidden",container:"Select-module__container",arrowIcon:"Select-module__arrowIcon",box:"Select-module__box",search:"Select-module__search"}},958:function(e,t,a){e.exports={container:"DateTime-module__container",header:"DateTime-module__header",thArrowConatainer:"DateTime-module__thArrowConatainer",thArrow:"DateTime-module__thArrow common-module__offSelection",datesStr:"DateTime-module__datesStr common-module__offSelection",thMonYear:"DateTime-module__thMonYear",dateContainer:"DateTime-module__dateContainer",days:"DateTime-module__days",daysStr:"DateTime-module__daysStr",dateRow:"DateTime-module__dateRow",sunday:"DateTime-module__sunday",today:"DateTime-module__today",emptySpan:"DateTime-module__emptySpan",timesection:"DateTime-module__timesection",timeStr:"DateTime-module__timeStr",dropDownContainer:"DateTime-module__dropDownContainer",dropDown:"DateTime-module__dropDown",footer:"DateTime-module__footer",space:"DateTime-module__space"}},959:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserOffset=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.formatDate=l,t.pad=s,t.replaceI18NValuesWithRegex=c,t.unescapeUnicode=d,t.getValues=u,t.getI18NValue=function(e){if(void 0===e)return function(e){return e};return function(t,a){var n=e[t];return void 0===n?t:d(n=c(n,a))}},t.getI18NInfo=function(e,t,a){var i=null,r=void 0,o=null;if("function"==typeof t){var l=t(diffObj1);i=l.key,r=u(l.params,a)}else"object"===(void 0===t?"undefined":n(t))?(i=t.key,r=u(t.params,a)):"string"==typeof t&&(o=e.format(t));return{key:i,values:r,text:o}},t.isToday=function(e,t){var a=t.clone().startOf("day");return e.isSame(a,"d")},t.isYesterday=m,t.isTomorrow=function(e,t){return m(t,e)},t.isWithinAWeek=h,t.isTwoWeeksOrMore=function(e,t){return!h(e,t)},t.userDateFormat=function(e,t){return function(a,o,c,d){var m=o.today,h=o.yesterday,p=o.tomorrow,f=o.others,g=arguments.length>4&&void 0!==arguments[4]&&arguments[4],v=arguments[5],b=(new Date).getTime(),C=new Date(a).getTime(),S=A(b,r,0);S=A(S,0,i.offsetMap[t]);var _=A(C,r,0);_=A(_,0,i.offsetMap[t]);var E=C-b,x=void 0;x=E<0?c||"":E>0&&d||"";var I=y(E),O=0==I.y&&I.yd<=7,T={h:I.h,m:I.m,s:I.s,y:I.y,hh:s(I.h,2),mm:s(I.m,2),ss:s(I.s,2),yy:s(I.y,2),days:I.yd,yDays:s(I.yd,2),isWithInAWeek:O,suffix:x},N={hours:I.h,minutes:I.m,seconds:I.s,years:I.y,yDays:I.yd,isWithInAWeek:O,suffix:x},k="",w=[],V=null;if(v){var R=void 0,P=void 0,M=void 0,D=void 0;R=N.years>1?"2":N.years,P=I.yd>1?"2":I.yd,M=N.hours>1?"2":N.hours,D=N.minutes>1?"2":N.minutes;var j=0,F=[R,P,M,D].reduce(function(e,t){return 2==j||0==t?e+="0":0!=t?(j++,e+=t):e+=t,e},""),B=v(N,F);B&&"object"===(void 0===B?"undefined":n(B))?(k=B.key,w=u(B.params,T),g=!0):"string"==typeof B&&(V=l(_,B))}else if(0!=I.y||0!=I.yd&&1!=I.yd){var L=f(N);"object"===(void 0===L?"undefined":n(L))?(k=L.key,w=u(L.params,T),g=!0):"string"==typeof L&&(V=l(_,p),_.format(L))}else{var G=new Date(_);new Date(S);G.getDate()==curDateObj.getDate()?"object"===(void 0===m?"undefined":n(m))?(k=m.key,w=u(m.params,T),g=!0):"string"==typeof m&&(V=l(_,m)):G.getDate()<curDateObj.getDate()?"object"===(void 0===h?"undefined":n(h))?(k=h.key,w=u(h.params,T)):"string"==typeof h&&(V=l(_,h)):G.getDate()>curDateObj.getDate()&&("object"===(void 0===p?"undefined":n(p))?(k=p.key,w=u(p.params,T)):"string"==typeof p&&(V=l(_,p)))}var U=g&&""!=x?k+"."+x:k;return V||e(U,w)}},t.getDiffObj=y,t.convertTimezone=A;var i=a(954),r=t.browserOffset=-(new Date).getTimezoneOffset(),o={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function l(e,t){var a=new Date(e),n=a.getDate(),i=a.getDay(),r=a.getMonth(),l=a.getFullYear(),c=a.getHours(),d=a.getMinutes(),u=a.getSeconds(),m=a.getMilliseconds(),h={d:n,dd:s(n,2),ddd:o.dayNames[i],dddd:o.dayNames[i+7],D:n,DD:s(n,2),DDD:o.dayNames[i],DDDD:o.dayNames[i+7],M:r+1,MM:s(r+1,2),MMM:o.monthNames[r],MMMM:o.monthNames[r+12],yy:String(l).slice(2),YY:String(l).slice(2),yyyy:l,YYYY:l,h:c%12||12,hh:s(c%12||12,2),H:c,HH:s(c,2),m:d,mm:s(d,2),s:u,ss:s(u,2),l:s(m,3),L:s(Math.round(m/10)),t:c<12?o.timeNames[0]:o.timeNames[1],A:c<12?o.timeNames[6]:o.timeNames[7],T:c<12?o.timeNames[4]:o.timeNames[5]};return t.replace(/D{1,4}|M{1,4}|YY(?:YY)?|([HhmsA])\1?|[LloSZWN]|\[[^\]]*\]|'[^']*'/g,function(e){return e in h?h[e]:e.slice(1,e.length-1)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments[2];return a=a||"0",(e=""+e).length>=t?e:new Array(t-e.length+1).join(a)+e}function c(e,t){if(void 0!==t)if(Array.isArray(t))for(var a=0;a<t.length;a++)e=e.replace(new RegExp("\\{"+a+"\\}","g"),t[a]);else e=e.replace(new RegExp("\\{0\\}","g"),t);return e}function d(e){return e.replace(/\\u([a-fA-F0-9]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.map(function(e){return t[e]})}function m(e,t){var a=t.clone().subtract(1,"days").startOf("day");return e.isSame(a,"d")}function h(e,t){var a=t.clone().subtract(7,"days").startOf("day");return e.isAfter(a)}var p=31536e6,f=864e5,g=36e5,v=6e4;function b(e){return-1!==e.toString().toLowerCase().indexOf("e")?e.toFixed(20):e}function y(e){var t=(e=Math.abs(e))/p;t=b(t);var a=e%p/f;a=b(a);var n=e%f/g;n=b(n);var i=e%f%g/v,r=e%f%g%v/1e3;return a=parseInt(a),n=parseInt(n),i=parseInt(i),r=parseInt(r),{y:t=parseInt(t),yd:a,h:n,m:i,s:r}}function A(e,t,a){var n=a-t;return e=Number(e)+n*v}},971:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=p(a(0)),r=p(a(1)),o=p(a(975)),l=p(a(958)),s=a(16),c=p(a(949)),d=p(a(73)),u=p(a(72)),m=a(959),h=a(954);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[31,28,31,30,31,30,31,31,30,31,30,31],y=["January","February","March","April","May","June","July","August","September","October","November","December"];var A=function(e){function t(e){f(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getHours=a.getHours.bind(a),a.amPmSelect=a.amPmSelect.bind(a),a.hoursSelect=a.hoursSelect.bind(a),a.dateSelect=a.dateSelect.bind(a),a.timeSelect=a.timeSelect.bind(a),a.handleClear=a.handleClear.bind(a),a.handleSelect=a.handleSelect.bind(a),a.minutesSelect=a.minutesSelect.bind(a),a.modifyCalendar=a.modifyCalendar.bind(a),a.hourSuggestions=function(){for(var e=[],t=1;t<=12;t++){var a=t<10?"0"+t:""+t;e.push({id:a,text:a})}return e}(),a.minSuggestions=function(){for(var e=[],t=0;t<=59;t++){var a=t<10?"0"+t:""+t;e.push({id:a,text:a})}return e}(),a.ampmSuggestions=[{id:"AM",text:"AM"},{id:"PM",text:"PM"}],a.state=a.getStateFromProps(e),a}return v(t,i.default.Component),n(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.value;e.value!==t&&this.setState(this.getStateFromProps(this.props))}},{key:"getStateFromProps",value:function(e){var t,a,n,i,r=void 0,o=void 0,l=void 0,s=e.value,c=e.timeZone,d=s?new Date(s).valueOf():"";d||(d=(new Date).valueOf());var u="",p=h.offsetMap[c]?h.offsetMap[c]:m.browserOffset;return u=(0,m.convertTimezone)(d,m.browserOffset,0),u=(0,m.convertTimezone)(u,0,p),t=(l=new Date(u)).getDate(),a=l.getMonth(),n=l.getFullYear(),i=(r=l.getHours())<12?"AM":"PM",{date:t,month:a,year:n,mins:o=(o=l.getMinutes())<10?"0"+o:o,hours:r=this.getHours(r),amPm:i}}},{key:"getHours",value:function(e){var t=e;return 0===t?t=12:t>12&&(t-=12),t=t<10?"0"+t:t}},{key:"handleSelect",value:function(e){e.preventDefault();var t=this.props,a=t.min,n=t.max,i=t.onError,r=t.onSelect,o=t.minErrorText,l=t.maxErrorText,s=t.timeZone,c=t.isDateTimeField,d=this.state,u=d.year,p=d.month,f=d.date,g=d.hours,v=d.mins,b=d.amPm;12===g&&(g="AM"===b?0:12),"PM"===b&&g<12&&(g=parseInt(g)+12);var y=null,A=null,C=h.offsetMap[s]?h.offsetMap[s]:m.browserOffset;a&&(y=a.valueOf(),y=(0,m.convertTimezone)(y,C,0),y=(0,m.convertTimezone)(y,0,m.browserOffset)),n&&(A=n.valueOf(),A=(0,m.convertTimezone)(A,C,0),A=(0,m.convertTimezone)(A,0,m.browserOffset));var S=new Date(c?u+"/"+(p+1)+"/"+f+" "+g+":"+v:u+"/"+(p+1)+"/"+f);S=(0,m.convertTimezone)(S,C,0),S=(0,m.convertTimezone)(S,0,m.browserOffset);var _=new Date(S);y&&y>S?i(o,!0):A&&A<S?i(l,!0):r(_,e)}},{key:"handleClear",value:function(e){(0,this.props.onSelect)("",e)}},{key:"dateSelect",value:function(e,t,a){this.setState({date:e,month:t,year:a})}},{key:"timeSelect",value:function(e,t,a){this.setState({hours:e,mins:t,amPm:a})}},{key:"hoursSelect",value:function(e){this.setState({hours:e})}},{key:"minutesSelect",value:function(e){this.setState({mins:e})}},{key:"amPmSelect",value:function(e){this.setState({amPm:e})}},{key:"closePopup",value:function(){closeGroupPopups("dropdown")}},{key:"modifyCalendar",value:function(e){var t=this.state,a=t.year,n=t.month;"gg"===e?this.setState({year:a+1}):"ll"===e?this.setState({year:a-1}):"g"===e?(11===n?(n=0,a++):n++,this.setState({year:a,month:n})):(0===n?(n=11,a--):n--,this.setState({year:a,month:n}))}},{key:"render",value:function(){var e=this.state,t=e.date,a=e.month,n=e.year,r=e.hours,m=e.mins,h=e.amPm,p=function(e,t,a){return 1===a&&(b[1]=t%400==0||t%4==0&&t%100!=0?29:28),y[a]+" "+t}(0,n,a),f=this.props,g=f.isDateTimeField,v=f.position,A=f.isActive,S=f.isReady,_=f.getRef,E=f.onClick,x=f.dataIdPrevYear,I=f.dataIdPrevMonth,O=f.dataIdResultString,T=f.dataIdNextyear,N=f.portalId,k=f.subPortalId;return S?i.default.createElement(u.default,{size:"mlarge",boxPosition:v,isActive:A,isArrow:!1,isAnimate:!0,animationStyle:"bounce",getRef:_,onClick:E,portalId:N},i.default.createElement("div",{className:l.default.container,"data-id":"Calendar",onClick:this.closePopup},i.default.createElement(s.Container,{alignBox:"row",align:"both",className:l.default.header},i.default.createElement(C,{dataTitle:"prevYear",dataId:x,modifyCalendar:this.modifyCalendar,type:"ll"},"<<"),i.default.createElement(C,{dataId:I,modifyCalendar:this.modifyCalendar,type:"l"},"<"),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{"data-id":O,className:l.default.thMonYear},p)),i.default.createElement(C,{dataId:"DateContainer",modifyCalendar:this.modifyCalendar,type:"g"},">"),i.default.createElement(C,{dataId:T,modifyCalendar:this.modifyCalendar,type:"gg"},">>")),i.default.createElement(s.Container,{alignBox:"row",align:"both",className:l.default.days},i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr+" "+l.default.sunday},"Sun")),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr},"Mon")),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr},"Tue")),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr},"Wed")),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr},"Thu")),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr},"Fri")),i.default.createElement(s.Box,{flexible:!0},i.default.createElement("span",{className:l.default.daysStr},"Sat"))),i.default.createElement(o.default,{date:t,year:n,month:a,onSelect:this.dateSelect}),g&&i.default.createElement(s.Container,{alignBox:"row",align:"vertical",className:l.default.timesection,isCover:!1},i.default.createElement("span",{className:l.default.timeStr},"Time"),i.default.createElement(s.Box,{flexible:!0,className:l.default.dropDownContainer},i.default.createElement(c.default,{options:this.hourSuggestions,onChange:this.hoursSelect,selectedValue:r,needSearch:!0,emptyMessage:"No search results",animationStyle:"bounce",textBoxSize:"xmedium",textBoxVariant:"primary",searchBoxSize:"xmedium",searchBoxPlaceHolder:"",maxLength:"2",popupGroup:"calender",size:"small",portalId:k})),i.default.createElement(s.Box,{flexible:!0,className:l.default.dropDownContainer},i.default.createElement(c.default,{options:this.minSuggestions,onChange:this.minutesSelect,selectedValue:m,needSearch:!0,emptyMessage:"No search results",animationStyle:"bounce",textBoxSize:"xmedium",textBoxVariant:"primary",searchBoxSize:"xmedium",searchBoxPlaceHolder:"",maxLength:"2",popupGroup:"calender",size:"small",portalId:k})),i.default.createElement(s.Box,{flexible:!0,className:l.default.dropDownContainer},i.default.createElement(c.default,{options:this.ampmSuggestions,onChange:this.amPmSelect,selectedValue:h,emptyMessage:"No matches found",animationStyle:"bounce",textBoxSize:"xmedium",textBoxVariant:"primary",maxLength:"2",popupGroup:"calender",size:"small",portalId:k}))),i.default.createElement(s.Container,{isCover:!1,align:"horizontal",alignBox:"row",className:l.default.footer},i.default.createElement(d.default,{text:"Set",size:"medium",palette:"primaryFilled",onClick:this.handleSelect,dataId:"savebtn"}),i.default.createElement("span",{className:l.default.space}),i.default.createElement(d.default,{text:"Clear",size:"medium",palette:"secondary",onClick:this.handleClear})))):null}}]),t}();t.default=A,A.propTypes={dataIdDateTime:r.default.string,dataIdNextMonth:r.default.string,dataIdNextyear:r.default.string,dataIdPrevMonth:r.default.string,dataIdPrevYear:r.default.string,dataIdResultString:r.default.string,getRef:r.default.func,isActive:r.default.bool,isDateTimeField:r.default.bool,isReady:r.default.bool,max:r.default.string,maxErrorText:r.default.string,min:r.default.string,minErrorText:r.default.string,onClick:r.default.func,onError:r.default.func,onSelect:r.default.func,portalId:r.default.string,position:r.default.string,subPortalId:r.default.string,timeZone:r.default.string,value:r.default.string},A.defaultProps={dataIdDateTime:"dateTimeComp",dataIdNextMonth:"nextMonth",dataIdNextyear:"nextyear",dataIdPrevMonth:"prevMonth",dataIdPrevYear:"prevYear",dataIdResultString:"resultString",isDateTimeField:!0};var C=t.Span=function(e){function t(e){f(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.modifyCalendarChild=a.modifyCalendarChild.bind(a),a}return v(t,i.default.Component),n(t,[{key:"modifyCalendarChild",value:function(){var e=this.props;(0,e.modifyCalendar)(e.type)}},{key:"render",value:function(){var e=this.props,t=e.dataTitle,a=e.children,n=e.dataId;return i.default.createElement("div",{className:l.default.thArrowConatainer},i.default.createElement("span",{"data-title":t,"data-id":n,className:l.default.thArrow,onClick:this.modifyCalendarChild},a))}}]),t}();C.propTypes={children:r.default.node,dataId:r.default.string,dataTitle:r.default.string,modifyCalendar:r.default.func,type:r.default.string}},974:function(e,t,a){"use strict";a.d(t,"a",function(){return h});var n=a(2),i=a.n(n),r=a(21),o=a(17),l=a(19),s=a.n(l),c=a(6),d=[],u={},m=Object(r.createSelector)([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s()("module.agent",e)||t.agents||u},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.agentIds||d},o.L],function(e,t,a){var n=[];return t.forEach(function(t){var r=e[t],o=r||{},l=o.name,s=void 0===l?"":l,d=o.firstName,u=void 0===d?"":d,m=o.lastName,h=void 0===m?"":m;s=u||h?Object(c.f)(a,u,h):s,r&&n.push(i()({},r,{name:s}))}),n}),h=function(){return m}},975:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=s(a(0)),r=s(a(1)),o=s(a(958)),l=a(16);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[31,28,31,30,31,30,31,31,30,31,30,31],h=function(e){function t(e){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a}return u(t,i.default.Component),n(t,[{key:"handleSelect",value:function(e,t,a){(0,this.props.onSelect)(e,t,a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.date,n=t.year,r=t.month,s=t.dataId,c=new Date(n,r,1),d=c.getDay()+1,u=c.getFullYear(),h=c.getMonth(),f=5;31===m[r]&&d>=6||30===m[r]&&7===d?f=6:28===m[r]&&1===d&&(f=4);var g=1,v=1,b=function(){for(var t=[],s=1;s<=f;s++){for(var c=[],b=null,y=1;y<8;y++){if(v>=d&&g<=m[r]){var A=o.default.datesStr;1===y&&(A+=" "+o.default.sunday),g===parseInt(a)&&parseInt(r)===h&&parseInt(n)===u&&(A+=" "+o.default.today),b=i.default.createElement(p,{i:y,tdclass:A,handleSelect:e.handleSelect,incremday:g,userSeeMonth:h,userSeeYear:u,dataId:"property"}),g++}else b=i.default.createElement(l.Box,{flexible:!0},i.default.createElement("span",{key:y,className:o.default.emptySpan}));v++,c.push(b)}t.push(i.default.createElement(l.Container,{key:s,alignBox:"row",align:"both",isCover:!1,className:o.default.dateRow},c))}return t}();return i.default.createElement("div",{"data-id":s,className:o.default.dateContainer},b)}}]),t}();t.default=h,h.propTypes={dataId:r.default.string,date:r.default.oneOfType([r.default.string,r.default.number]),month:r.default.oneOfType([r.default.string,r.default.number]),onSelect:r.default.func,year:r.default.oneOfType([r.default.string,r.default.number])},h.defaultProps={dataId:"dateContainer"};var p=t.Span=function(e){function t(e){c(this,t);var a=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelectChild=a.handleSelectChild.bind(a),a}return u(t,i.default.Component),n(t,[{key:"handleSelectChild",value:function(){var e=this.props;(0,e.handleSelect)(e.incremday,e.userSeeMonth,e.userSeeYear)}},{key:"render",value:function(){var e=this.props,t=e.tdclass,a=e.incremday,n=e.i,r=e.dataId;return i.default.createElement(l.Box,{flexible:!0},i.default.createElement("span",{"data-id":r,className:t,key:n,onClick:this.handleSelectChild}," ",a))}}]),t}();p.propTypes={dataId:r.default.string,handleSelect:r.default.func,i:r.default.number,incremday:r.default.number,tdclass:r.default.string,userSeeMonth:r.default.number,userSeeYear:r.default.number},p.defaultProps={dataId:"calendar-view"}},976:function(e,t,a){"use strict";var n=a(38),i=a.n(n),r=a(2),o=a.n(r),l=a(11),s=a.n(l),c=a(23),d=a.n(c),u=a(12),m=a.n(u),h=a(9),p=a.n(h),f=a(10),g=a.n(f),v=a(13),b=a.n(v),y=a(14),A=a.n(y),C=a(0),S=a.n(C),_=a(1),E=a.n(_),x=a(26),I=a(154),O=a.n(I),T=a(19),N=a.n(T),k=a(3),w=a(956),V=a(974),R=a(17);function P(e,t,a){var n=t.departmentId||Object(R.r)(e),i=N()("departmentSpecificState."+n+".agentList."+a,e)||[],r=Object(R.L)(e);return{globalAgentIds:i,agents:N()("module.agent",e),namePattern:r,deptId:n}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"activeAgents",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.u,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r){var l=function(l){function c(e){p()(this,c);var t=b()(this,(c.__proto__||m()(c)).call(this,e));return t.state={listUIState:{from:1,isNext:!1},searchUIState:{from:1,isNext:!1,agentIds:[],searchStr:""},searchStr:"",isFetching:!1},t._isMounted=!1,t.getAgentsListSel=Object(V.a)(),t.handleGetAgents=t.handleGetAgents.bind(t),t.handleGetNextAgents=t.handleGetNextAgents.bind(t),t.handleSearchAgents=t.handleSearchAgents.bind(t),t.handleAPI=t.handleAPI.bind(t),t.handleSearchAgentsArray=t.handleSearchAgentsArray.bind(t),t.handleGetAgentsList=t.handleGetAgentsList.bind(t),t.handleLocalAgentsSearch=t.handleLocalAgentsSearch.bind(t),t}return A()(c,l),g()(c,[{key:"componentDidMount",value:function(){this._isMounted=!0,n&&this.handleGetAgents()}},{key:"componentDidUpdate",value:function(e){this.props.deptId,e.deptId}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAPI",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var i=a.slice(1,a.length),r=a[0],o=this.state.isFetching,l=this._isMounted;return o?s.a.resolve():(l&&this.setState({isFetching:!0}),r.apply(void 0,d()(i)).then(function(t){return l&&e.setState({isFetching:!1}),t&&204!==t.responseStatus?t:s.a.resolve()},function(t){throw l&&e.setState({isFetching:!1}),t}))}},{key:"handleGetAgentsList",value:function(a){var n=this,i=this.props,r=i.getAgentsList,l=i.departmentId,c=this.state,d=c.searchStr,u=c.listUIState,m=c.searchUIState,h=this._isMounted,p="NEXT"===a,f=d.replace(/\s+/g,""),g=m.searchStr,v=void 0===g?"":g,b=d.replace(/\s+/g,"").toLowerCase(),y=v.replace(/\s+/g,"").toLowerCase();if(d){if("CURRENT"!==a||b!==y){var A=m.from,C=void 0===A?1:A,S=p?C+t:1;return this.setState({searchUIState:o()({},m,{from:S,isNext:!1})}),this.handleAPI(r,e+"Search",S,f,t,l).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},a=t.result,i=void 0===a?[]:a,r=t.isNext,o=t.from,l=t.searchStr;return n.handleSearchAgentsArray(i,o,r,l,p),e},function(e){throw h&&n.setState({searchUIState:o()({},m,{from:C,isNext:!1})}),e})}return s.a.resolve()}var _=u.from,E=void 0===_?1:_,x=p?E+t:1;return this.setState({listUIState:o()({},u,{from:x,isNext:!1})}),this.handleAPI(r,e,x,d,t,l).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},a=t.from,i=t.isNext;return h&&n.setState({listUIState:o()({},u,{from:a,isNext:i})}),e},function(e){throw h&&n.setState({listUIState:o()({},u,{from:E,isNext:!1})}),e})}},{key:"handleSearchAgentsArray",value:function(e,a,n,i,r){var o=this.state.searchUIState.agentIds,l=this._isMounted,s=a-1,c=s+(2*t>200?200:2*t),u=r?[].concat(d()(o.slice(0,s)),d()(e),d()(o.slice(c,o.length))):e;l&&this.setState({searchUIState:{agentIds:u,from:a,isNext:n,searchStr:i}})}},{key:"handleGetAgents",value:function(){return this.handleGetAgentsList("CURRENT").then(function(e){return e},function(e){throw e})}},{key:"handleSearchAgents",value:function(e){this.setState({searchStr:e})}},{key:"handleGetNextAgents",value:function(){return this.handleGetAgentsList("NEXT").then(function(e){return e},function(e){throw e})}},{key:"handleLocalAgentsSearch",value:function(){var e=this.state.searchStr,t=this.props,a=t.agents;return t.globalAgentIds.filter(function(t){var n=a[t],i=n.firstName,r=void 0===i?"":i,o=n.lastName,l=void 0===o?"":o,s=n.emailId,c=void 0===s?"":s,d=(r+l).replace(/\s+/g,"").toLowerCase(),u=e.replace(/\s+/g,"").toLowerCase();return-1!==d.indexOf(u)||-1!==c.indexOf(u)})}},{key:"render",value:function(){var e=this.state,n=e.searchStr,o=void 0===n?"":n,l=e.listUIState,s=e.isFetching,c=e.searchUIState,d=this.props,u=d.globalAgentIds,m=d.namePattern,h=d.agents,p=o?c:l,f=p.from,g=p.isNext,v=p.agentIds,b=p.searchStr,y=void 0===b?"":b,A=o.replace(/\s+/g,"").toLowerCase(),C=y.replace(/\s+/g,"").toLowerCase(),_=A?C===A?v:a?this.handleLocalAgentsSearch():[]:u,E=this.getAgentsListSel({},{agents:h,agentIds:_.slice(0,f-1+t),namePattern:m});return S.a.createElement(r,i()({},this.props,{agentIds:_,agentsList:E,getAgents:this.handleGetAgents,getNextAgents:this.handleGetNextAgents,isFetching:s,isNextAgents:g,onSearchAgents:this.handleSearchAgents,searchString:o}))}}]),c}(S.a.Component);return l.propTypes={agents:E.a.object,departmentId:E.a.string,deptId:E.a.string,getAgentsList:E.a.func,globalAgentIds:E.a.array,namePattern:E.a.array},O()(Object(x.connect)(function(t,a){return P(t,a,e)},{getAgentsList:w.h})(l),r)}}}}]);