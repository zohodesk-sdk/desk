(window.deskappJsonp=window.deskappJsonp||[]).push([[71],{1023:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),s=a.n(o),i=a(10),c=a.n(i),l=a(13),u=a.n(l),m=a(14),p=a.n(m),d=a(0),g=a.n(d),f=a(1),_=a.n(f),b=a(1046),h=a.n(b),y=a(152),I=function(e){function t(e){return s()(this,t),u()(this,(t.__proto__||r()(t)).call(this,e))}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.iconName,a=e.iconClass,n=e.iconSize,r=e.palette,o=e.size,s=e.onClick,i=e.iconColor,c=e.title;return g.a.createElement("span",{className:h.a.container,onClick:s,"data-id":"addreqNowbutton","data-title":c},g.a.createElement(y.a,{name:t,iconClass:a,iconSize:n,palette:r,size:o,iconColor:i}))}}]),t}(g.a.Component);t.a=I,I.defaultProps={size:"xmedium",iconName:"plus",palette:"secondary",iconSize:"16",iconColor:"primary"},I.propTypes={iconClass:_.a.string,iconColor:_.a.string,iconName:_.a.string,iconSize:_.a.string,onClick:_.a.func,palette:_.a.string,size:_.a.string,title:_.a.string}},1034:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),s=a.n(o),i=a(10),c=a.n(i),l=a(13),u=a.n(l),m=a(14),p=a.n(m),d=a(0),g=a.n(d),f=a(153),_=a(1035),b=a.n(_),h=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){return g.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"cloud"},g.a.createElement("image",{xlinkHref:b.a,height:"100%",width:"100%"}))}}]),t}(g.a.Component);t.a=h},1035:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyCloud.ad84742889552ed3919f.svg"},1038:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),s=a.n(o),i=a(10),c=a.n(i),l=a(13),u=a.n(l),m=a(14),p=a.n(m),d=a(0),g=a.n(d),f=a(1),_=a.n(f),b=a(1043),h=a.n(b),y=a(1034),I=a(8),C=a(109),E=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.subtabName,a=e.link,n=e.noNeedToShowAdd,r=e.noNeedToShowHelp,o=e.emptyMessage1,s=e.emptyMessage2,i=e.children,c=e.needClickHere,l=e.onClick;return t=t.toLowerCase(),g.a.createElement("div",{className:h.a.emptyImgdiv},g.a.createElement("div",{className:h.a.emptyImgbg},g.a.createElement(y.a,null)),g.a.createElement("div",{className:h.a.txtGrop},g.a.createElement("div",{className:h.a.dtemptytxt},o||g.a.createElement("span",null,I.f.getI18NValue("support.tab.empty.message",[t]))),!n&&g.a.createElement("div",{className:h.a.dtemptysubtxt},I.f.getI18NValue("support.tab.add.message",[t]),g.a.createElement("span",{className:h.a.plr10},i)," ",I.f.getI18NValue("support.icon")),s&&g.a.createElement("div",{className:h.a.dtemptysubtxt},g.a.createElement("span",null,s),c?g.a.createElement("span",{className:h.a.clickHere,onClick:l},I.f.getI18NValue("support.api.click.here")):null),!r&&g.a.createElement("div",null,g.a.createElement("div",{className:h.a.dtemptysubtxt2},I.f.getI18NValue("tab.request.emptypages.learnmore"),g.a.createElement(C.a,{className:h.a.slalink,target:"_blank",href:a},I.f.getI18NValue("support.api.click.here"))))))}}]),t}(g.a.Component);t.a=E,E.propTypes={children:_.a.node,emptyMessage1:_.a.string,emptyMessage2:_.a.string,link:_.a.string,needClickHere:_.a.bool,noNeedToShowAdd:_.a.bool,noNeedToShowHelp:_.a.bool,onClick:_.a.func,subtabName:_.a.string},E.defaultProps={needClickHere:!1}},1043:function(e,t,a){e.exports={emptyImgdiv:"SubtabEmptystate-module__emptyImgdiv",emptyImgbg:"SubtabEmptystate-module__emptyImgbg",dtemptytxt:"SubtabEmptystate-module__dtemptytxt common-module__semibold common-module__ftsmooth",dtemptysubtxt:"SubtabEmptystate-module__dtemptysubtxt undefined",dtemptysep:"SubtabEmptystate-module__dtemptysep",dtemptysubtxt2:"SubtabEmptystate-module__dtemptysubtxt2 undefined",slalink:"SubtabEmptystate-module__slalink",txtGrop:"SubtabEmptystate-module__txtGrop",plr10:"SubtabEmptystate-module__plr10",clickHere:"SubtabEmptystate-module__clickHere"}},1046:function(e,t,a){e.exports={container:"PlusIcon-module__container common-module__dinblk"}},1055:function(e,t,a){"use strict";var n=a(38),r=a.n(n),o=a(12),s=a.n(o),i=a(9),c=a.n(i),l=a(10),u=a.n(l),m=a(13),p=a.n(m),d=a(14),g=a.n(d),f=a(0),_=a.n(f),b=a(1),h=a.n(b),y=a(16),I=a(65),C=a(1023),E=a(1070),T=a.n(E),v=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.onAdd,a=e.getLeftPlaceHolder,n=e.title,o=e.label,s=e.getRightPlaceHolder,i=e.type,c=e.leftClassName,l=e.rightClassName,u=e.needBorder,m=void 0===u||u,p=e.needShadow,d=void 0===p||p,g=e.needPlusIconLine,f=void 0===g||g,b=e.children;return _.a.createElement(I.CardHeader,r()({className:T.a.tabHead+" "+(d?T.a.shadowStyle:"")+" "+(m?T.a.borderStyle:"")},this.props),_.a.createElement(y.Container,{alignBox:"row",className:""+T.a[i],align:"vertical"},t||b?_.a.createElement(y.Box,{className:T.a.left+" "+(f?T.a.plusIconLine:"")},t?_.a.createElement(C.a,{onClick:t}):b):null,n?_.a.createElement(y.Box,{className:T.a.title},n):null,a&&_.a.createElement(y.Box,{flexible:!0,shrink:!0,adjust:!!s,className:""+(c||"")},o?_.a.createElement("div",{className:T.a.label},o):null,a),s&&_.a.createElement(y.Box,{flexible:!0,shrink:!0,adjust:!!a,className:" "+(l||"")},_.a.createElement(y.Container,{alignBox:"row",align:"vertical",className:T.a.aside},s))))}}]),t}(_.a.Component);v.propTypes={children:h.a.element,getLeftPlaceHolder:h.a.func,getRightPlaceHolder:h.a.func,label:h.a.string,leftClassName:h.a.string,needBorderShadow:h.a.bool,needPlusIconLine:h.a.bool,onAdd:h.a.func,rightClassName:h.a.string,title:h.a.string,type:h.a.oneOf(["primary","secondary"])},v.defaultProps={type:"primary"};var N=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.scroll,n=e.className,r=e.eleRef,o=e.dataId,s=e.onScroll;return console.log("====onScroll"),_.a.createElement(I.CardContent,{scroll:a,isScrollAttribute:!0,onScroll:s,className:n||"",eleRef:r,dataId:o},t)}}]),t}(_.a.Component);N.propTypes={children:h.a.element,className:h.a.element,dataId:h.a.string,eleRef:h.a.func,scroll:h.a.oneOf(["vertical"])},N.defaultProps={scroll:"vertical"};var O=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.children;return _.a.createElement(I.Card,r()({isScrollAttribute:!0,dataId:"subTabLayout"},this.props,{childTypes:{cardHeader:v,cardContent:N}}),e)}}]),t}(_.a.Component),H=O;O.propTypes={children:h.a.element},a.d(t,"c",function(){return H}),a.d(t,"b",function(){return v}),a.d(t,"a",function(){return N})},1070:function(e,t,a){e.exports={tabHead:"SubtabLayout-module__tabHead",shadowStyle:"SubtabLayout-module__shadowStyle",left:"SubtabLayout-module__left",plusIconLine:"SubtabLayout-module__plusIconLine",borderStyle:"SubtabLayout-module__borderStyle",aside:"SubtabLayout-module__aside common-module__justifyFend",title:"SubtabLayout-module__title",label:"SubtabLayout-module__label",primary:"SubtabLayout-module__primary",secondary:"SubtabLayout-module__secondary"}},1076:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return o});var n={from:1,limit:20,totalTime:"00:00:00",totalCost:"0.00"},r={ALL:"all",TICKETS:"tickets",TASKS:"tasks",CALLS:"calls",EVENTS:"events"},o={TOTAL:"total",BILLABLE:"billable",NON_BILLABLE:"nonbillable"}},1079:function(e,t,a){"use strict";a.d(t,"i",function(){return f}),a.d(t,"h",function(){return _}),a.d(t,"d",function(){return b}),a.d(t,"e",function(){return h}),a.d(t,"f",function(){return y}),a.d(t,"c",function(){return I}),a.d(t,"g",function(){return C}),a.d(t,"a",function(){return E}),a.d(t,"j",function(){return T}),a.d(t,"l",function(){return v}),a.d(t,"k",function(){return N}),a.d(t,"b",function(){return O});var n=a(23),r=a.n(n),o=a(2),s=a.n(o),i=a(5),c=a.n(i),l=a(6),u=a(15),m=a(7),p=a(3),d=a(46),g=a(1076),f=function(e,t,a,n,o,i){return{types:Object(l.m)("CUSTOMER_TICKET"),callAPI:function(l){var g=void 0;return"All"==i?i=null:"Overdue"==i&&(g=i,i=null),Object(u.a)(""+p.w+e+"/"+a+"/tickets?from="+n+"&limit="+o+(i?"&statusType="+i:"")+(g?"&dueDate="+g:"")+"&include=assignee,team&sortBy=-createdTime"+Object(d.a)(l,!0),!1,{orgId:l.currentOrgId}).get().then(function(e){var i=p.L.TICKET_L,u=p.L.TEAMS_L,d=p.L.AGENT_L,g=c()({id:a},i,204!=e.responseStatus?e.data:[]),f=Object(m.normalize)(g,Object(m.schema)(t,{mapping:c()({},i,Object(m.arrayOf)(Object(m.schema)(i,{mapping:{assignee:Object(m.schema)(d),team:Object(m.schema)(u)}})))})),_=f.entities[t][a].ticket.length<o;if(1==n)return s()({},f,{noMoreData:_});var b=l.module[t][a],h=f.entities[t][a];return h&&h[i]&&(h[i]=[].concat(r()(b[i]),r()(h[i]))),s()({},f,{noMoreData:_})})}}},_=function(e,t){return{types:Object(l.m)("STATISTICS"),callAPI:function(a){var n="contacts"==e?Object(d.b)(a):Object(d.a)(a),r=""!=n?"?"+n:"";return Object(u.a)(""+p.w+e+"/"+t+"/statistics"+r,!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}},b=function(e,t){return{types:Object(l.m)(p.L.CUSTOMERHAPPINESSRATING),callAPI:function(a){return Object(u.a)(p.w+"customerHappiness?"+Object(d.b)(a)+"&"+e+"Id="+t+"&include=contacts,tickets&sortBy=-ratedTime",!1,{orgId:a.currentOrgId}).get().then(function(e){if(204!=e.responseStatus){var a=Object(m.normalize)(e.data,Object(m.arrayOf)(Object(m.schema)(p.L.CUSTOMERHAPPINESSRATING_L,{mapping:{ticket:Object(m.schema)(p.L.TICKET_L),contact:Object(m.schema)(p.L.CONTACT_L,{mapping:{account:Object(m.schema)(p.L.ACCOUNT_L)}})}})));return s()(a,{moduleId:t})}return{entities:{},result:[],noMoreData:!0}})}}},h=function(e,t){return{types:Object(l.m)("CUSTOMERHAPPINESSCOUNT"),callAPI:function(a){return Object(u.a)(p.w+"customerHappiness/count?"+Object(d.b)(a)+"&"+e+"Id="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=e;return s()(a,{moduleId:t})})}}},y=function(e){return{types:Object(l.m)("CUSTOMERHAPPINESSLABEL"),shouldCallAPI:function(t){return!t.departmentSpecificState[e].customerHappiness.setup},callAPI:function(t){return Object(u.a)(p.w+"customerHappinessSetup?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){var a=t;return s()({deptId:e},a)})}}},I=function(e,t,a,n,o,i){return{types:Object(l.m)(p.L.CONTACT),callAPI:function(c){return Object(u.a)(""+p.w+e+"/"+a+"/contacts?from="+n+"&limit="+o+(i?"&isSpam=true":"")+"&sortBy=createdTime",!1,{orgId:c.currentOrgId}).get().then(function(e){var i=Object(m.normalize)({id:a,contacts:204!=e.responseStatus?e.data:[]},Object(m.schema)(t,{mapping:{contacts:Object(m.arrayOf)(Object(m.schema)(p.L.CONTACT_L))}})),l=e.data&&e.data.length<o;if(1==n)return s()({},i,{noMoreData:l});var u=c.module[t][a],d=i.entities[t][a];return u&&u.contacts&&(d.contacts=[].concat(r()(u.contacts),r()(d.contacts))),s()({},i,{noMoreData:l})})}}},C=function(e,t,a,n,o){return{types:Object(l.m)(p.L.PRODUCT),callAPI:function(i){return Object(u.a)(""+p.w+e+"/"+a+"/products?from="+n+"&limit="+o,!1,{orgId:i.currentOrgId}).get().then(function(e){var c=Object(m.normalize)({id:a,products:204!=e.responseStatus?e.data:[]},Object(m.schema)(t,{mapping:{products:Object(m.arrayOf)(Object(m.schema)(p.L.PRODUCT_L))}})),l=e.data&&e.data.length<o;if(1==n)return s()({},c,{noMoreData:l});var u=i.module[t][a],d=c.entities[t][a];return u&&u.products&&(d.products=[].concat(r()(u.products),r()(d.products))),s()({},c,{noMoreData:l})})}}},E=function(e,t,a){return{types:Object(l.m)("ASSOCIATE_PRODUCTS"),callAPI:function(n){return Object(u.a)(p.w+"accounts/"+e+"/associateProducts",!1,{orgId:n.currentOrgId}).post("",{ids:t,associate:a}).then(function(e){return e})}}},T=function(e,t,a,n){var r=a&&a!=g.c.ALL?"&module="+a:"",o=n&&n!=g.a.TOTAL?"&isBillable="+(n==g.a.BILLABLE):"",s=r||o?"&"+r+o:"";return{types:Object(l.m)("TIME_ENTRY_STATS"),callAPI:function(a){return Object(u.a)(""+p.w+e+"/"+t+"/timeEntrySummation?"+s,!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}},v=function(e,t,a){return{types:Object(l.m)("TIME_ENTRY_DETAIL"),callAPI:function(n){return Object(u.a)(""+p.w+e+"/"+t+"/timeEntry/"+a+"?include=owner",!1,{orgId:n.currentOrgId}).get().then(function(e){return Object(m.normalize)(e,Object(m.schema)(p.L.TIMEENTRY_L))})}}};function N(e,t,a,n,o,i,d){var f=i&&i!=g.c.ALL?"&module="+i:"",_=d&&d!=g.a.TOTAL?"&isBillable="+(d==g.a.BILLABLE):"";return{types:Object(l.m)("TIMEENTRY"),callAPI:function(i,l){return Object(u.a)(""+p.w+e+"/"+a+"/timeEntry?from="+n+"&limit="+o+"&include=owner"+f+_+"&orderBy=DESC",!1,{orgId:i.currentOrgId}).get().then(function(e){var i,u=204==e.responseStatus?[]:e.data,d=c()({id:a},p.L.TIMEENTRY_L,u),g=Object(m.normalize)(d,Object(m.schema)(t,{mapping:{timeentry:Object(m.arrayOf)(Object(m.schema)(p.L.TIMEENTRY_L))}})),f=g.entities[t][a].timeentry.length<o;if(1==n)return s()(g,{noMoreData:f});var _=l(),b=s()({},_.module.timeentry,g.entities.timeentry),h=_.module[t][a].timeentry,y=g.entities[t][a].timeentry,I=[].concat(r()(h),r()(y));return{entities:(i={timeentry:b},c()(i,t,c()({},a,{timeentry:I})),c()(i,p.L.AGENT_L,g.entities[p.L.AGENT_L]),i),noMoreData:f}})}}}var O=function(e,t,a,n,r){return{types:Object(l.m)(t.toUpperCase()+"_HISTORY"),callAPI:function(t){return Object(u.a)(""+p.w+e+"/"+a+"/history?from="+n+"&limit="+r+Object(d.a)(t,!0),!1,{orgId:t.currentOrgId}).get().then(function(e){return 204==e.responseStatus?{noMoreData:!0,moduleHistory:[]}:{noMoreData:e.data.length<r,moduleHistory:e.data}})}}}},1467:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),s=a.n(o),i=a(10),c=a.n(i),l=a(13),u=a.n(l),m=a(14),p=a.n(m),d=a(0),g=a.n(d),f=a(1),_=a.n(f),b=a(1468),h=a.n(b),y=function(e){function t(e){s()(this,t);var a=u()(this,(t.__proto__||r()(t)).call(this,e));return a.onClick=a.onClick.bind(a),a}return p()(t,e),c()(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick,a=e.id,n=e.text;t&&t(n,a)}},{key:"render",value:function(){var e=this.props,t=e.text,a=e.count,n=e.palette,r=e.onClick;return g.a.createElement("div",{className:h.a.allTict+" "+h.a[n]+" "+(r?h.a.pointer:""),onClick:this.onClick},g.a.createElement("span",{className:h.a.allTxt},t),g.a.createElement("span",{className:h.a.tictCount},a))}}]),t}(d.Component);t.a=y,y.propTypes={count:_.a.string,id:_.a.string,onClick:_.a.func,palette:_.a.oneOf(["default","primary","secondary","danger","success"]),text:_.a.string},y.defaultProps={palette:"default"}},1468:function(e,t,a){e.exports={allTict:"HappinessRating-module__allTict",allTxt:"HappinessRating-module__allTxt common-module__dotted common-module__oflow common-module__ellipsis",tictCount:"HappinessRating-module__tictCount",pointer:"HappinessRating-module__pointer",default:"HappinessRating-module__default",danger:"HappinessRating-module__danger",success:"HappinessRating-module__success",primary:"HappinessRating-module__primary",secondary:"HappinessRating-module__secondary"}},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},1736:function(e,t,a){e.exports={acthistoryCont:"CustomerHappinessHistory-module__acthistoryCont",parentSection:"CustomerHappinessHistory-module__parentSection",list:"CustomerHappinessHistory-module__list",avtDiv:"CustomerHappinessHistory-module__avtDiv common-module__rounded",cliImg:"CustomerHappinessHistory-module__cliImg",actHisContent:"CustomerHappinessHistory-module__actHisContent",sudjectTxt:"CustomerHappinessHistory-module__sudjectTxt",subParent:"CustomerHappinessHistory-module__subParent",tickNumber:"CustomerHappinessHistory-module__tickNumber",tickTitle:"CustomerHappinessHistory-module__tickTitle",dateTxt:"CustomerHappinessHistory-module__dateTxt",timeTxt:"CustomerHappinessHistory-module__timeTxt",userIcon:"CustomerHappinessHistory-module__userIcon"}},1737:function(e,t,a){},1738:function(e,t,a){e.exports={list:"CustomerHappinessTitle-module__list",titleTxt:"CustomerHappinessTitle-module__titleTxt",timeTitle:"CustomerHappinessTitle-module__timeTitle",cliImg:"CustomerHappinessTitle-module__cliImg",ratingPercent:"CustomerHappinessTitle-module__ratingPercent common-module__semibold common-module__ftsmooth"}},458:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),s=a.n(o),i=a(10),c=a.n(i),l=a(13),u=a.n(l),m=a(14),p=a.n(m),d=a(0),g=a.n(d),f=a(173),_=a.n(f),b=a(16),h=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){return g.a.createElement(b.Container,{alignBox:"row",align:"both",className:_.a.container},g.a.createElement(b.Box,{className:_.a.dot}),g.a.createElement(b.Box,{className:_.a.dot}),g.a.createElement(b.Box,{className:_.a.dot}),g.a.createElement(b.Box,{className:_.a.dot}),g.a.createElement(b.Box,{className:_.a.dot}),g.a.createElement(b.Box,{className:_.a.dot}))}}]),t}(g.a.Component);t.a=h},637:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),o=a(12),s=a.n(o),i=a(9),c=a.n(i),l=a(10),u=a.n(l),m=a(13),p=a.n(m),d=a(14),g=a.n(d),f=a(0),_=a.n(f),b=a(26),h=a(1),y=a.n(h),I=a(1055),C=a(1736),E=a.n(C),T=a(16),v=a(64),N=a.n(v),O=(a(30),a(8)),H=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||s()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.subject,a=e.ratedTime,n=e.userName,r=e.src,o=e.tickId,s=e.ticksubject,i=e.userImg;return _.a.createElement(T.Box,null,_.a.createElement(T.Container,{alignBox:"column",className:E.a.list},_.a.createElement(T.Box,{className:E.a.acthistoryCont},_.a.createElement(T.Container,{alignBox:"row",className:E.a.parentSection},_.a.createElement(T.Box,{flexible:!0},_.a.createElement("span",{className:E.a.avtDiv},_.a.createElement("img",{src:r,className:E.a.cliImg})),_.a.createElement("div",{className:E.a.actHisContent},_.a.createElement("div",null,a&&_.a.createElement("span",null,_.a.createElement("span",{className:E.a.dateTxt},_.a.createElement(O.d,{to:a,format:function(){return"DD MMM YYYY"},ago:"ago",later:"late"})),_.a.createElement("span",{className:E.a.timeTxt},_.a.createElement(O.d,{to:a,format:function(){return"hh:mm A"},ago:"ago",later:"late"})))),_.a.createElement("div",null,t&&_.a.createElement("span",{className:E.a.sudjectTxt},t)),_.a.createElement("div",{className:E.a.subParent},o&&_.a.createElement("span",{className:E.a.tickNumber},"#",o," -"),s&&_.a.createElement("span",{className:E.a.tickTitle},s)))),n||r?_.a.createElement(T.Box,{className:E.a.userIcon},_.a.createElement(N.a,{name:n,size:"xmedium",src:i})):null))))}}]),t}(_.a.Component),L=H;H.propTypes={ratedTime:y.a.string,src:y.a.string,subject:y.a.string,tickId:y.a.string,ticksubject:y.a.string,userImg:y.a.string,userName:y.a.string};a(1737);var S=a(1738),k=a.n(S),x=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.state={isOpen:!1},a.togglePopup=a.togglePopup.bind(a),a}return g()(t,e),u()(t,[{key:"togglePopup",value:function(e){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props,t=e.ratingPercent,a=e.happinessImg;return _.a.createElement("div",{className:k.a.list},_.a.createElement("span",{className:k.a.titleTxt},"Happiness Rating"),_.a.createElement("span",{className:k.a.timeTitle},_.a.createElement("span",{className:k.a.tickSmilyImg},_.a.createElement("img",{src:a,className:k.a.cliImg})),_.a.createElement("span",{className:k.a.ratingPercent},t+"%")))}}]),t}(_.a.Component),j=x;x.propTypes={happinessImg:y.a.string,ratingPercent:y.a.number};var P=a(1467),A=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.getRightPlaceHolder=a.getRightPlaceHolder.bind(a),a.getLeftPlaceHolder=a.getLeftPlaceHolder.bind(a),a}return g()(t,e),u()(t,[{key:"getRightPlaceHolder",value:function(){var e=this.props.data;return _.a.createElement(T.Container,{align:"vertical",alignBox:"row",isCover:!1},e.map(function(e,t){return _.a.createElement(P.a,{text:e.text,palette:e.palette,count:e.count,key:t})}))}},{key:"getLeftPlaceHolder",value:function(){var e=this.props,t=e.ratingPercent,a=e.happinessImg;return _.a.createElement("div",null,_.a.createElement(j,{ratingPercent:t,happinessImg:a}))}},{key:"render",value:function(){var e=this.props;e.data,e.ratingPercent,e.happinessImg,e.needToShowAdd;return _.a.createElement(I.b,{getRightPlaceHolder:this.getRightPlaceHolder(),getLeftPlaceHolder:this.getLeftPlaceHolder()})}}]),t}(_.a.Component),w=A;A.propTypes={data:y.a.array,happinessImg:y.a.string,needToShowAdd:y.a.bool,ratingPercent:y.a.number};var M=a(1038),R=a(458),B=a(17),D=a(1079),z=(a(3),function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.state={isFetchDone:!1},a.fetchData=a.fetchData.bind(a),a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){e.moduleId!=this.props.moduleId&&this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this.props,a=t.getModuleCustomerHappiness,n=t.getModuleCustomerHappinessCount,o=t.getModuleCustomerHappinessLabel,s=t.moduleId,i=t.module,c=t.deptId,l=a(i,s),u=n(i,s),m=o(c);r.a.all([l,u,m]).then(function(t){e.setState({isFetchDone:!0})})}},{key:"getCHOptions",value:function(e,t){var a=[];return e.good&&a.push({text:e.good.logoLable,count:t.good,palette:"success"}),e.ok&&a.push({text:e.ok.logoLable,count:t.okay,palette:"primary"}),e.bad&&a.push({text:e.bad.logoLable,count:t.good,palette:"danger"}),a}},{key:"getTopChImage",value:function(e,t){return e[t]&&e[t].logo||""}},{key:"render",value:function(){if(this.state.isFetchDone){var e=this.props,t=e.happinessRating,a=e.happinessRatingConfig,n=e.module_d,r=this.props.deptId,o=t.count,s=t.rating,i=o&&o[r]||{},c=i.good,l=i.okay,u=i.bad,m=c+l+u,p=Math.max(c,u,l),d=Math.round(100*(0!=m?p/m:0)),g=p==c?"good":p==l?"ok":"bad",f=s&&s.entities||{},b=f.ticket,h=f.contact,y=f.customerhappinessrating;return _.a.createElement(I.c,null,_.a.createElement(w,{data:this.getCHOptions(a,o[r]),ratingPercent:d,happinessImg:this.getTopChImage(a,g),needToShowAdd:!1}),_.a.createElement(I.a,null,s&&0!=s.result.length?s.result.map(function(e,t){return _.a.createElement(L,{src:a[y[e].rating.toLowerCase()].logo,ratedTime:y[e].ratedTime,timezone:y[e].timezoneOffset,subject:h[y[e].contactId].name+" "+O.f.getI18NValue("support.account.surveycontact.text"),tickId:b[y[e].ticketId].ticketNumber,ticksubject:b[y[e].ticketId].subject,userImg:"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53827300&exp=20&nps=404",key:t})}):_.a.createElement(M.a,{subtabName:O.f.getI18NValue("Customer")+" "+O.f.getI18NValue("support.survey.report.rated"),emptyMessage1:O.f.getI18NValue("support.customer.happiness.empty",[O.f.getI18NValue(n.toLowerCase())]),moduleName:n,noNeedToShowAdd:!0,link:"https://www.zoho.com/support/help/contacts.html"})))}return _.a.createElement(R.a,null)}}]),t}(_.a.Component));z.propTypes={deptId:y.a.string,getModuleCustomerHappiness:y.a.func,getModuleCustomerHappinessCount:y.a.func,getModuleCustomerHappinessLabel:y.a.func,happinessRating:y.a.object,module:y.a.string,moduleId:y.a.string,module_d:y.a.string};t.default=Object(b.connect)(function(e,t){var a=e.routing.paramMap.moduleId,n=e.departmentMapper[e.routing.paramMap.deptName];return{moduleId:a,happinessRating:e.module[t.module][a].happinessRating||{},happinessRatingConfig:Object(B.f)(e,n),deptId:n}},{getModuleCustomerHappiness:D.d,getModuleCustomerHappinessCount:D.e,getModuleCustomerHappinessLabel:D.f})(z)}}]);