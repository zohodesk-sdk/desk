(window.deskappJsonp=window.deskappJsonp||[]).push([[118],{1028:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"f",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return c});var n=a(6);function r(e,t){var a=editor[e];a&&t&&a.insertHTML(t)}function o(e){var t=editor[e];if(null!=t){var a=t.getContent();return"<br>"==(a=a.trim())?"":("plaintext"==t.mode&&(a=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(a)),a)}return""}function i(e,t,a,n){var r={content:"",isSnippetExist:!1,triggerWord:""},o="";if(e.modify){var i=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var s=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==s.toLowerCase()});null!=(o=l.length?l[0].expandedContent:"")&&""!=o&&o.length>0?(r.isSnippetExist=!0,r.content=o,r.triggerWord=s.toLowerCase(),i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)):(r.content="&nbsp;&nbsp;&nbsp;&nbsp;",r.triggerWord=s.toLowerCase()),e.removeAllRanges(),e.addRange(i)}else r=function(e,t,a,n){var r="",o=e.getRangeAt(0);o.collapse(!0),o.setStart(e.anchorNode,0),r=o.toString();var i=o.cloneRange(),s=e.anchorNode.textContent,l=/\s+/,c=s.split(l).filter(Boolean),u=r.split(l).filter(Boolean),m="",d="",p={content:"",isSnippetExist:!1,triggerWord:""},h=u[u.length-1];if(""!=h&&void 0!==h){m=c[u.length-1],parseInt(m.length);var f=m.toLowerCase(),g=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});d=g.length?g[0].expandedContent:""}if(null!=d&&""!=d&&null!=d){var v=parseInt(m.length-h.length),_=parseInt(r.length);v>0&&(_+=v);var b=parseInt(r.length+v-m.length),w=r.length-r.replace(/\s+$/g,"").length;(b-=w)<0&&(b=0),i.setStart(e.anchorNode,b),i.setEnd(e.focusNode,_),p.isSnippetExist=!0}else d=r;return p.content=d,p.triggerWord=m.toLowerCase(),e.removeAllRanges(),e.addRange(i),p}(e,0,0,n);return r}function s(e,t,a,r,o){for(var i={"${Cases.Contact Name}":Object(n.e)(a.firstName,a.lastName),"${Cases.Email}":a.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":r?r.accountName:"","${Cases.First Name}":a.firstName||"","${Cases.Last Name}":a.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(o.firstName,o.lastName),"${User.Email}":o.emailId||"","${User.Phone}":o.phone||"","${User.First Name}":o.firstName||"","${User.Last Name}":o.lastName||"","${User.Mobile}":o.mobile||""},s=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<s.length;l++)e=e.replace(s[l],i[s[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},122:function(e,t,a){e.exports={attachment:"ThreadAttachments-module__attachment common-module__cboth",medium:"ThreadAttachments-module__medium",small:"ThreadAttachments-module__small",attachleft:"ThreadAttachments-module__attachleft common-module__tcenter",attachright:"ThreadAttachments-module__attachright",atatchName:"ThreadAttachments-module__atatchName common-module__dotted common-module__oflow common-module__ellipsis",attachSize:"ThreadAttachments-module__attachSize",attachDownload:"ThreadAttachments-module__attachDownload",pt8:"ThreadAttachments-module__pt8",docspan:"ThreadAttachments-module__docspan",attachCount:"ThreadAttachments-module__attachCount",mr6:"ThreadAttachments-module__mr6",ml6:"ThreadAttachments-module__ml6"}},1294:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),i=a.n(o),s=a(10),l=a.n(s),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1295),_=a.n(v),b=a(63),w=a.n(b),E=a(459),N=a(8),x=a(16),I=function(e){function t(e){i()(this,t);var a=u()(this,(t.__proto__||r()(t)).call(this,e));return a.shareLink=a.shareLink.bind(a),a.pasteContent=a.pasteContent.bind(a),a}return d()(t,e),l()(t,[{key:"shareLink",value:function(){var e=this.props,t=e.shareLink;t(e.previewData.id)}},{key:"pasteContent",value:function(){var e=this.props,t=e.pasteContent;t(e.previewData.id)}},{key:"render",value:function(){var e=this.props,t=e.closePreviewBox,a=e.previewData,n=e.ticketLabel,r=e.orgId,o=e.downloadAttachment,i=e.showAttachmentViewer,s=e.isPeekView,l=e.isLightAgent,c=a.createdTime,u=a.title,m=a.createdBy,d=a.category,p=a.answer,f=a.attachments,g=void 0===f?[]:f,v=a.status,b=a.permission;return c=N.f.userDateFormat(new Date(c),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}),h.a.createElement(x.Container,{className:_.a.suggestnDtls+" "+(s&&_.a.peeksuggestnDtls)},h.a.createElement(x.Box,{onClick:t,className:_.a.header},h.a.createElement("span",{className:_.a.icnClse},h.a.createElement(w.a,{name:"cross",size:"20"}))),h.a.createElement(x.Box,{flexible:!0,scroll:"both",className:_.a.textArea},h.a.createElement("div",{className:_.a.topDiv},h.a.createElement("div",{className:_.a.topContnt},u)),h.a.createElement("div",{className:_.a.titleFormat},N.f.getI18NValue("support.label.created"),": ",h.a.createElement("span",{className:_.a.highLight},m&&m.name," "),N.f.getI18NValue("support.solutions.in.topic"),h.a.createElement("span",{className:_.a.highLight}," ",d&&d.name," "),N.f.getI18NValue("support.label.at")," ",c),h.a.createElement("div",{className:_.a.dtlsComnt,dangerouslySetInnerHTML:{__html:p}})),g.length?h.a.createElement("div",{className:_.a.attachCont},h.a.createElement(E.a,{data:g,downloadAttachment:o,showAttachmentViewer:i,orgId:r})):null,l?null:h.a.createElement(x.Box,null,h.a.createElement("div",{className:_.a.btmOptions},"Published"===v&&"AGENTS"!=b?h.a.createElement("span",{className:_.a.optnList,onClick:this.shareLink},h.a.createElement("span",{className:_.a.optionIcn},h.a.createElement(w.a,{name:"share",size:"14",color:"primary"})),h.a.createElement("span",{className:_.a.optionName},N.f.getI18NValue("support.label.share.link.to.ticket",[n]))):null,h.a.createElement("span",{className:_.a.optnList,onClick:this.pasteContent},h.a.createElement("span",{className:_.a.optionIcn},h.a.createElement(w.a,{name:"copy22",size:"14",color:"primary"})),h.a.createElement("span",{className:_.a.optionName},N.f.getI18NValue("support.label.paste.to.ticket",[n]))))))}}]),t}(h.a.Component);t.a=I,I.propTypes={closePreviewBox:g.a.func,downloadAttachment:g.a.func,isLightAgent:g.a.bool,isPeekView:g.a.bool,orgId:g.a.number,pasteContent:g.a.func,previewData:g.a.object,shareLink:g.a.func,showAttachmentViewer:g.a.func,ticketLabel:g.a.string}},1295:function(e,t,a){e.exports={suggestnDtls:"SuggestionPreviewBox-module__suggestnDtls",header:"SuggestionPreviewBox-module__header",sideArrow:"SuggestionPreviewBox-module__sideArrow common-module__posab",attachCont:"SuggestionPreviewBox-module__attachCont",topDiv:"SuggestionPreviewBox-module__topDiv",topContnt:"SuggestionPreviewBox-module__topContnt common-module__wbreak",icnClse:"SuggestionPreviewBox-module__icnClse",dtlsComnt:"SuggestionPreviewBox-module__dtlsComnt",textArea:"SuggestionPreviewBox-module__textArea",btmOptions:"SuggestionPreviewBox-module__btmOptions",optnList:"SuggestionPreviewBox-module__optnList",optionIcn:"SuggestionPreviewBox-module__optionIcn",optionName:"SuggestionPreviewBox-module__optionName",titleFormat:"SuggestionPreviewBox-module__titleFormat",highLight:"SuggestionPreviewBox-module__highLight",peeksuggestnDtls:"SuggestionPreviewBox-module__peeksuggestnDtls SuggestionPreviewBox-module__suggestnDtls"}},1383:function(e,t,a){"use strict";a.d(t,"a",function(){return m}),a.d(t,"b",function(){return d});var n=a(2),r=a.n(n),o=a(5),i=a.n(o),s=a(15),l=a(3),c=a(6),u=a(7);function m(e){return{types:Object(c.m)(l.L.ARTICLE),callAPI:function(t){return Object(s.a)("/api/v1/articles/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(u.normalize)(e,Object(u.schema)(l.L.ARTICLE_L))})}}}function d(e,t,a,n,o){return{types:Object(c.m)("SEARCH_ARTICLE"),callAPI:function(c,m){return Object(s.a)("/api/v1/articles/search?from="+t+"&limit="+a+"&title="+e,!1,{orgId:c.currentOrgId}).get().then(function(e){if("ticketDetailview"==n){if(204!=e.responseStatus){var s=e.data.length<a,c=(i()({id:o},l.L.ARTICLE_L,e.data),Object(u.normalize)(e.data,Object(u.arrayOf)(Object(u.schema)(l.L.ARTICLE_L)))),d=m(),p=i()({},o,{article:1==t?c.result:d.module.ticket[o].article.concat(c.result)}),h=r()(c.entities,{ticket:p});return r()(c,h,{noMoreData:s})}return 1==t?{entities:{isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}}return Object(u.normalize)(e,Object(u.arrayOf)(Object(u.schema)(l.L.ARTICLE_L)))})}}}},1579:function(e,t,a){e.exports={serachCont:"SuggestedSolution-module__serachCont"}},1580:function(e,t,a){e.exports={item:"SuggestedSolutionItem-module__item",isActive:"SuggestedSolutionItem-module__isActive",title:"SuggestedSolutionItem-module__title common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",summary:"SuggestedSolutionItem-module__summary",content:"SuggestedSolutionItem-module__content common-module__cboth",department:"SuggestedSolutionItem-module__department",depIcon:"SuggestedSolutionItem-module__depIcon",depName:"SuggestedSolutionItem-module__depName common-module__textCap",options:"SuggestedSolutionItem-module__options",copy:"SuggestedSolutionItem-module__copy",share:"SuggestedSolutionItem-module__share"}},1581:function(e,t,a){e.exports={contDetail:"ArticleEmpty-module__contDetail",emptyDiv:"ArticleEmpty-module__emptyDiv",icnExclatn:"ArticleEmpty-module__icnExclatn",emptyMessage:"ArticleEmpty-module__emptyMessage"}},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},174:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"e",function(){return l}),a.d(t,"d",function(){return c}),a.d(t,"j",function(){return u}),a.d(t,"n",function(){return m}),a.d(t,"o",function(){return d}),a.d(t,"k",function(){return p}),a.d(t,"i",function(){return h}),a.d(t,"g",function(){return g}),a.d(t,"h",function(){return v}),a.d(t,"a",function(){return _}),a.d(t,"l",function(){return w}),a.d(t,"b",function(){return E}),a.d(t,"m",function(){return N}),a.d(t,"f",function(){return x});var n=a(11),r=a.n(n),o=a(177),i=a(8);function s(e){var t=c(e),a=Object(o.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"filePicture";case"txt":case"rtf":return"fileText2";case"pdf":return"filePdf";case"html":case"htm":case"xhtml":return-1!==a.indexOf("chrome")||-1!==a.indexOf("safari")?"chrome":-1!==a.indexOf("ie")||-1!==a.indexOf("edge")?"ie":"firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ppt";case"rar":case"jar":case"zip":return"zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"fileOpenoffice":"fileWord";case"xml":return"xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"fileExcel";case"ics":return"ics";case"exe":return"exe";case"sh":case"bin":return"sh2";case"css":return"css52";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"fileVideo";default:return"unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function u(e){var t=c(e);return-1!=="jpeg|jpg|png|gif|bmp|ico".indexOf(t)}function m(e,t){var a={inValidArray:[],validArray:[]};if(t+e.length>10)return a.isCountExceeds=!0,a;for(var n=0;n<e.length;n++){var r=e[n],o=r.name,i=r.size;p(o)?a.inValidArray.push({isUnSupported:!0}):h(o)?a.inValidArray.push({isFileNameSizeInvalid:!0}):0===r.size?a.inValidArray.push({isEmpty:!0}):f(i)?a.inValidArray.push({isAttachSizeExceeded:!0}):a.validArray.push(r)}return a}function d(e,t,a){if(t+e.length>10)alert(i.f.getI18NValue("support.attachments.count.exceeds",[10]));else for(var n=0;n<e.length;n++){var r=e[n],o=r.name,s=r.size;if(p(o))alert(i.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(h(o))alert(i.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==r.size)if(f(s))alert(i.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var l=new FormData;l.append("file",r),a&&a(l)}else alert(i.f.getI18NValue("support.request.empty.attachment.message"))}}function p(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function h(e){return e.length>100}function f(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function v(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function _(e,t,a){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&u(e.name)}),n.previewData.filter(function(t,a){t.id===e&&(n.selectedIndex=a)}),a&&a(n)}function b(e,t,a){var n=e.indexOf("/api"),r=e;return n>-1&&(r=e.slice(n,e.length),r+="?orgId="+t+(a?"&inline=true":"")),r}function w(e,t){window.open(b(e,t,!0))}function E(e,t){window.location.href=b(e,t,!1)}function N(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],u=[],m=0;if(n&&l>n-a){var d=i.f.getI18NValue("support.attachments.count.exceeds",[n]);return r.a.resolve({isError:!0,errorI18N:d})}for(var f=0;f<l;f++){var g=e[f],v=g||{},_=v.size,b=void 0===_?0:_,w=v.name,E=void 0===w?"":w;if(m+=b,p(E)){var N=i.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:N,fileName:E,errorType:"fileType"})}else if(h(E)){var x=i.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:x,fileName:E,errorType:"fileNameSize"})}else if(0===b){var I=i.f.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:I,fileName:E,errorType:"emptyFile"})}else u.push(g)}if(!u.length){if(1===c.length){var y=c[0].errorI18N;return r.a.resolve({isError:!0,errorI18N:y})}var C=i.f.getI18NValue("support.unable.to.process.your.request");return r.a.resolve({isError:!0,errorI18N:C})}if(0===m){var k=i.f.getI18NValue("support.request.empty.attachment.message");return r.a.resolve({isError:!0,errorI18N:k})}if(m+s>1024*o*1024){var A=i.f.getI18NValue("support.attachments.size.limit.exceeds",[o]);return r.a.resolve({isError:!0,errorI18N:A})}for(var L=[],S=[],D=[],P=function(e){var a=u[e];if(t){var n=new FormData;n.append("file",a);var r=t(n).then(function(e){var t=(e.data||{}).data,a=void 0===t?{}:t,n=a.id;n&&(L.push(a),S.push(n))},function(e){var t=a.name,n=i.f.getI18NValue("support.unable.to.process.your.request");throw c.push({errorI18N:n,fileName:t,errorType:"apiError"}),e});D.push(r)}},O=0;O<u.length;O++)P(O);var B={uploadFiles:L,inValidFiles:c,isError:!1,uploadFileIds:S};return r.a.all(D).then(function(){return B},function(){return L.length?B:{isError:!0,errorI18N:i.f.getI18NValue("support.unable.to.process.your.request")}})}function x(e,t){var a=e.name;return{index:t,isPreview:!0,size:e.size,name:a,href:URL.createObjectURL(e)}}},458:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),i=a.n(o),s=a(10),l=a.n(s),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),h=a.n(p),f=a(173),g=a.n(f),v=a(16),_=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(v.Container,{alignBox:"row",align:"both",className:g.a.container},h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}))}}]),t}(h.a.Component);t.a=_},459:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),i=a.n(o),s=a(10),l=a.n(s),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(122),_=a.n(v),b=a(176),w=a.n(b),E=a(120),N=a.n(E),x=a(174),I=a(109),y=a(8),C=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.orgId,r=t.showAttachmentViewer,o=t.size,i=t.neNeedToDownload,s=t.dataId,l=Object(x.g)(a);return h.a.createElement("div",null,h.a.createElement("div",{className:_.a.AttachCount,"data-id":s},h.a.createElement("span",{className:_.a.mr6},a.length),h.a.createElement("span",null,h.a.createElement(y.c,{i18NKey:"label.attachments"})),h.a.createElement("span",{className:_.a.ml6},"(",Object(x.e)(l),")")),a.map(function(t,s){var l=Object(x.j)(t.name);return h.a.createElement("div",{className:_.a.docspan,key:s,onClick:i?null:l?x.a.bind(e,t.id,a,function(e){r(e)}):x.l.bind(e,t.viewUrl?t.viewUrl:t.href,n),"data-id":1===a.length?"threadAttch":"threadAttch_"+s},h.a.createElement("span",{className:_.a.attachment+" "+_.a[o]},h.a.createElement("div",{className:_.a.attachleft},h.a.createElement(w.a,{name:Object(x.c)(t.name),size:"20"})),h.a.createElement("div",{className:_.a.attachright},h.a.createElement("span",{className:_.a.atatchName},t.name),h.a.createElement("span",{className:_.a.attachSize},Object(x.e)(t.size))),i?null:h.a.createElement(I.a,{onClick:e.props.downloadAttachment.bind(e,t.downloadUrl?t.downloadUrl:t.href),target:"_blank",className:_.a.attachDownload},h.a.createElement(N.a,{name:"downloadNew",size:"medium"==o?"14":"13",color:"pure"}))))}))}}]),t}(h.a.Component);t.a=C,C.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},C.defaultProps={size:"medium"}},655:function(e,t,a){"use strict";a.r(t);var n,r=a(12),o=a.n(r),i=a(9),s=a.n(i),l=a(10),c=a.n(l),u=a(13),m=a.n(u),d=a(14),p=a.n(d),h=a(0),f=a.n(h),g=a(1),v=a.n(g),_=a(26),b=a(1579),w=a.n(b),E=a(8),N=a(65),x=a(74),I=a(1383),y=a(17),C=a(242),k=a(5),A=a.n(k),L=a(1580),S=a.n(L),D=a(30),P=function(e){function t(e){s()(this,t);var a=m()(this,(t.__proto__||o()(t)).call(this,e));return a.openPreviewBox=a.openPreviewBox.bind(a),a.shareLink=a.shareLink.bind(a),a.pasteContent=a.pasteContent.bind(a),a}return p()(t,e),c()(t,[{key:"openPreviewBox",value:function(){var e=this.props,t=e.openPreviewBox;t(e.article.id)}},{key:"shareLink",value:function(e){var t=this.props,a=t.shareLink,n=t.article;e.stopPropagation(),a(n.id)}},{key:"pasteContent",value:function(e){var t=this.props,a=t.pasteContent,n=t.article;e.stopPropagation(),a(n.id)}},{key:"render",value:function(){var e=this.props,t=e.article,a=e.isLightAgent,n=e.ticketLabel,r=e.isActive,o=t.title,i=t.summary,s=t.permission,l=t.status,c=t.category,u=void 0===c?{}:c;return f.a.createElement("div",{className:S.a.item+" "+(r?S.a.isActive:""),onClick:this.openPreviewBox},f.a.createElement("div",{className:S.a.title,"data-title":o},o),f.a.createElement("p",{className:S.a.summary},i),f.a.createElement("div",{className:S.a.content},f.a.createElement("div",{className:S.a.department},f.a.createElement("span",{className:S.a.depIcon},f.a.createElement(D.SetupFontIcon,{name:"department",size:"12"})),f.a.createElement("span",{className:S.a.depName},u.name)),a?null:f.a.createElement("div",{className:S.a.options},"Published"===l&&"AGENTS"!=s?f.a.createElement(D.TopbandFontIcon,{iconClass:S.a.share,name:"share",size:"18",onClick:this.shareLink,title:E.f.getI18NValue("support.label.share.link.to.ticket",[n])}):null,f.a.createElement(D.TopbandFontIcon,{name:"copy22",size:"18",iconClass:S.a.copy,onClick:this.pasteContent,title:E.f.getI18NValue("support.label.paste.to.ticket",[n])}))))}}]),t}(f.a.Component),O=P;P.propTypes=(n={article:v.a.object,isActive:v.a.bool},A()(n,"isActive",v.a.bool),A()(n,"isLightAgent",v.a.bool),A()(n,"openPreviewBox",v.a.func),A()(n,"pasteContent",v.a.func),A()(n,"shareLink",v.a.func),A()(n,"ticketLabel",v.a.string),n),P.defaultProps={isActive:!1},P.defaultProps={isActive:!1};var B=a(458),T=a(1581),j=a.n(T),V=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||o()(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.label;return f.a.createElement("div",{className:j.a.contDetail},f.a.createElement("div",{className:j.a.emptyDiv},f.a.createElement("span",{className:j.a.icnExclatn},f.a.createElement(D.CommonFontIcon,{name:"exclamationThincircle",size:"30"}))),f.a.createElement("span",{className:j.a.emptyMessage},E.f.getI18NValue("support.module.empty.message",[e])))}}]),t}(f.a.Component),z=V;V.propTypes={label:v.a.string};var M=a(1294),F=a(99),R=a.n(F),U=a(131),$=a(1028),W=(a(987),function(e){function t(e){s()(this,t);var a=m()(this,(t.__proto__||o()(t)).call(this,e));return a.state={previewId:null,from:1,limit:15,isEmpty:!1,noMoreData:!1,value:""},a.openPreviewBox=a.openPreviewBox.bind(a),a.closePreviewBox=a.closePreviewBox.bind(a),a.serachArticles=Object(U.a)(a.serachArticles.bind(a),100,!0),a.fetchData=a.fetchData.bind(a),a.shareLink=a.shareLink.bind(a),a.pasteContent=a.pasteContent.bind(a),a.insertContentInEditor=a.insertContentInEditor.bind(a),a.handleChange=a.handleChange.bind(a),a}return p()(t,e),c()(t,[{key:"insertContentInEditor",value:function(e,t){var a=this.props,n=a.recentThread,r=a.setSolutionContentInEditor,o=a.recentThreadId,i=a.ticketId;this.closePreviewBox(),n?"DRAFT"==n.status?r(o,n.content,n,"editDraft",e,t):r(o,n.content,n,"replyall",e,t):r(i," ","","replyall",e,t)}},{key:"shareLink",value:function(e){var t=this,a=this.props,n=a.articlesData,r=a.isEdtiorOpen,o=a.editorId,i=n[e];if(i.webUrl){var s='<br><ExternalLink href="'+i.webUrl+'" >'+i.title+"</ExternalLink><br>";this.closePreviewBox(),r?Object($.c)(o,s):this.insertContentInEditor(s)}else this.props.getArticle(e).then(function(a){var n=a.data.entities.article[e],i='<br><ExternalLink href="'+n.webUrl+'" >'+n.title+"</ExternalLink><br>";t.closePreviewBox(),r?Object($.c)(o,i):t.insertContentInEditor(i)})}},{key:"pasteContent",value:function(e){var t=this,a=this.props,n=a.articlesData,r=a.isEdtiorOpen,o=a.editorId,i=n[e];i.answer?(this.closePreviewBox(),r?Object($.c)(o,"<br>"+i.answer+"<br></br>",i.attachments):this.insertContentInEditor("<br>"+i.answer+"<br></br>")):this.props.getArticle(e).then(function(a){var n=a.data.entities.article[e];t.closePreviewBox(),r?Object($.c)(o,"<br>"+n.answer+"<br></br>"):t.insertContentInEditor("<br>"+n.answer+"<br></br>",n.attachments)})}},{key:"componentDidMount",value:function(){this.fetchData(this.state.from)}},{key:"handleChange",value:function(e){this.setState({value:e})}},{key:"fetchData",value:function(e){var t=this,a=this.props,n=a.ticketId,r=a.getSuggestedSolution,o=a.searchArticle,i=this.state,s=i.limit,l=i.value;return l.length>2?o(l,e,s,"ticketDetailview",n).then(function(a){var n=(a.data.entities||a.data).noMoreData;t.setState({noMoreData:n,from:e}),a.data.entities.isEmpty?t.setState({isEmpty:!0}):t.setState({isEmpty:!1})}):r(n,e,s).then(function(a){var n=(a.data.entities||a.data).noMoreData;t.setState({noMoreData:n,from:e}),a.data.entities.isEmpty?t.setState({isEmpty:!0}):t.setState({isEmpty:!1})})}},{key:"openPreviewBox",value:function(e){this.setState({previewId:e}),this.props.getArticle(e)}},{key:"closePreviewBox",value:function(){this.setState({previewId:null})}},{key:"serachArticles",value:function(e){var t=this,a=e.target.value,n=this.props,r=n.ticketId,o=n.searchArticle;a.length>2?this.setState({from:1,noMoreData:!1},function(){o(a,1,t.state.limit,"ticketDetailview",r).then(function(e){e.data.entities.isEmpty?t.setState({isEmpty:!0}):t.setState({isEmpty:!1})})}):this.setState({from:1,noMoreData:!1},function(){t.fetchData(t.state.from)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.articlesIds,n=t.articlesData,r=t.moduleMeta,o=t.downloadAttachment,i=t.showAttachmentViewer,s=t.orgId,l=t.isPeekView,c=t.isLightAgent,u=this.state,m=u.isEmpty,d=u.from,p=u.limit,h=u.noMoreData,g=u.previewId,v=u.value,_=[];if(a)for(var b=0;b<a.length;b++)_.push(n[a[b]]);var x={};if(g)for(var I=0;I<_.length;I++)if(_[I].id==g){x=_[I];break}var y=r.tickets.singularLabel;return f.a.createElement(N.Card,{needToFetch:!0,from:d,limit:p,noMoreData:h,fetchData:!h&&this.fetchData,noNeedUpScroll:!0},f.a.createElement(N.CardHeader,null,f.a.createElement("div",{className:w.a.serachCont},f.a.createElement(R.a,{name:"input",maxLength:"100",placeHolder:E.f.getI18NValue("support.search",[r.kbCategory.displayLabel]),onKeyUp:this.serachArticles,onChange:this.handleChange,value:v}))),f.a.createElement(N.CardContent,null,m?f.a.createElement(z,{label:r.kbCategory.displayLabel}):_.length?_.map(function(t,a){return f.a.createElement(O,{key:a,article:t,openPreviewBox:e.openPreviewBox,shareLink:e.shareLink,pasteContent:e.pasteContent,isLightAgent:c,ticketLabel:y,isActive:t.id===g})}):f.a.createElement(B.a,null),g&&f.a.createElement(M.a,{closePreviewBox:this.closePreviewBox,previewData:x,ticketLabel:y,downloadAttachment:o,showAttachmentViewer:i,orgId:s,shareLink:this.shareLink,pasteContent:this.pasteContent,isPeekView:l,isLightAgent:c})))}}]),t}(h.Component));W.propTypes={articlesData:v.a.object,articlesIds:v.a.array,downloadAttachment:v.a.func,editorId:v.a.string,getArticle:v.a.func,getSuggestedSolution:v.a.func,isEdtiorOpen:v.a.bool,isLightAgent:v.a.bool,isPeekView:v.a.bool,moduleMeta:v.a.object,orgId:v.a.number,pasteArticleContent:v.a.func,recentThread:v.a.object,recentThreadId:v.a.string,searchArticle:v.a.func,setSolutionContentInEditor:v.a.func,shareArticleLink:v.a.func,showAttachmentViewer:v.a.func,ticketId:v.a.string};t.default=Object(_.connect)(function(e,t){return{articlesIds:e.module.ticket[t.ticketId].article,articlesData:e.module.article,moduleMeta:e.moduleMeta,orgId:Object(y.N)(e)}},{getSuggestedSolution:x.i,getArticle:I.a,searchArticle:I.b,downloadAttachment:C.e,showAttachmentViewer:C.i})(W)},987:function(e,t,a){"use strict";var n=a(12),r=a.n(n),o=a(9),i=a.n(o),s=a(10),l=a.n(s),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(993),_=a.n(v),b=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||r()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.href,a=e.title,n=e.target,r=e.className,o=e.children,i=e.rel,s=(e.download,e.dataTestid);return h.a.createElement("a",{href:t,target:n,className:_.a.link+" "+(r||""),"data-title":a,rel:i,dataId:s},o)}}]),t}(h.a.Component);t.a=b,b.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},b.propTypes={className:g.a.string,href:g.a.string,isDownload:g.a.bool,rel:g.a.string,target:g.a.oneOf(["_blank","_self"]),text:g.a.string,title:g.a.string}},993:function(e,t,a){e.exports={link:"ExternalLink-module__link"}}}]);