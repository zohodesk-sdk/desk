(window.deskappJsonp=window.deskappJsonp||[]).push([[82],{1004:function(e,t,o){"use strict";(function(e){var n=o(11),a=o.n(n),r=o(2),i=o.n(r),s=o(12),l=o.n(s),c=o(9),d=o.n(c),u=o(10),m=o.n(u),p=o(13),f=o.n(p),h=o(14),g=o.n(h),_=o(0),v=o.n(_),C=(o(1),o(16)),b=o(1012),w=o(997),y=o(1013),E=o.n(y),I=(o(1014),function(t){function o(e){d()(this,o);var t=f()(this,(o.__proto__||l()(o)).call(this,e));t.state={isEditorLoad:!1};return w.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return g()(o,t),m()(o,[{key:"componentDidMount",value:function(){var t=this.props,o=t.id,n=t.value,a=t.editorMode,r=void 0===a?"":a,s=t.editorOptions,l=void 0===s?{}:s,c=t.needEditorFocus,d=void 0===c||c,u=t.mode;if(o&&e.ZohoDeskEditor){var m={id:o,content:n,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:u};m=i()(m,l),ZohoDeskEditor_Init.init(r),ZohoDeskEditor.create&&ZohoDeskEditor.create(m)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.id,n=t.chageEditorContent;t.value;e.isEmptyContent&&editor[o]&&editor[o].setContent(""),e.chageEditorContent!=n&&e.chageEditorContent&&void 0!==n&&editor[o].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,o=e.id,n=editor[o]?editor[o]:{},a=n.getContent?n.getContent():"";Object(b.a)(n)||(a=""),a="plaintext"===n.mode?Object(b.b)(a):a,t&&t(a.trim(),o)}},{key:"editorCallback",value:function(t){var o=this.props.editorCallback;this.setState({isEditorLoad:!0});var n=this.props.id;e.editor=e.editor||{},editor[n]||(editor[n]=t),o&&o(t)}},{key:"handleInlineUpload",value:function(e,t,o,n,a){this.handleUpload(e).then(function(e){var o={};o[0]={url:e,desc:a},t(o,n)},function(){o(n)})}},{key:"handleDropUpload",value:function(e,t,o){this.handleUpload(e).then(function(e){t(e)},function(){o()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,o,n){var a=void 0;"blob"===t?a=e:(a=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(a).then(function(e){o(e)},function(){n()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var o=new FormData;return o.append("file",e),t(o).then(function(e){var t=e.data||{},o=t.data,n=t.orgId,a=o||{},r=a.id,i=a.href;if(r)return i+"?orgId="+n;throw{}},function(e){throw e})}catch(e){return a.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.dataId,n=this.state.isEditorLoad;return v.a.createElement(C.Container,{className:E.a.editDraft,dataId:o},!n&&v.a.createElement("div",{className:E.a.stencillist9},v.a.createElement("div",{className:E.a.stencilLoading}),v.a.createElement("div",{className:E.a.stencilLoading}),v.a.createElement("div",{className:E.a.stencilLoading}),v.a.createElement("div",{className:E.a.stencilLoading}),v.a.createElement("div",{className:E.a.stencilLoading}),v.a.createElement("div",{className:E.a.stencilLoading})),v.a.createElement(C.Box,{flexible:!0,id:t,dataId:o}))}}]),o}(_.Component));t.a=I}).call(this,o(68))},1007:function(e,t,o){"use strict";var n,a=o(5),r=o.n(a),i=o(12),s=o.n(i),l=o(9),c=o.n(l),d=o(10),u=o.n(d),m=o(13),p=o.n(m),f=o(14),h=o.n(f),g=o(0),_=o.n(g),v=o(1),C=o.n(v),b=o(1042),w=o.n(b),y=o(157),E=o.n(y),I=o(30),k=o(80),A=o.n(k),T=o(72),S=o.n(T),N=o(1026),x=o.n(N),P=o(361),O=o.n(P),B=function(e){function t(e){c()(this,t);var o=p()(this,(t.__proto__||s()(t)).call(this,e));return o.handleSelect=o.handleSelect.bind(o),o.togglePopup=o.togglePopup.bind(o),o}return h()(t,e),u()(t,[{key:"handleSelect",value:function(e,t,o,n){if(void 0!==this.props.onSelect){var a=this.props;(0,a.onSelect)(e,a.entity)}this.props.togglePopup(n)}},{key:"togglePopup",value:function(e){var t=this.props,o=t.togglePopup,n=t.boxPosition;e.stopPropagation(),o(e,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.isPopupOpen,n=t.onPopupChange;e.isPopupOpen!==o&&n&&n(o)}},{key:"render",value:function(){var e=this,t=this.props,o=t.theme,n=void 0===o?"white":o,a=t.objValues,r=t.Icnsize,i=t.IcnName,s=(t.removeClose,t.listStyle,t.arrowPosition),l=t.position,c=t.right,d=(t.isScroll,t.widgets),u=void 0===d?[]:d,m=t.onWidgetScroll,p=t.onWidgetSelect,f=t.selectedWidgetId,h=t.arrowRight,g=t.arrowLeft,v=t.size,C=t.left,b=t.isPopupOpen,y=t.isPopupReady,k=t.getTargetRef,A=t.getContainerRef;return r=r||"medium",_.a.createElement("span",{className:E.a.posrel,ref:k,onClick:this.togglePopup},_.a.createElement("span",{className:w.a.defaultSize+" "+E.a.posrel+" "+w.a[n]},_.a.createElement("span",null,_.a.createElement(I.TopbandFontIcon,{name:i,size:r}))),b?_.a.createElement("span",{className:w.a.dropDivPosition},_.a.createElement(S.a,{isAnimate:!0,right:c,left:C,isActive:y,size:v,arrowRight:h,arrowLeft:g,boxPosition:l,getRef:A,arrowPosition:s},a.map(function(t,o){return _.a.createElement(O.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:o,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),a.length&&u.length?_.a.createElement(x.a,null):null,u.length?_.a.createElement("div",{className:w.a.widgetList,onScroll:m},u.map(function(e){var t=e.name,o=e.sanitisedName+"_"+e.installationId;return f!=o?_.a.createElement(O.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:o,id:o,onClick:function(){p(o,e)}}):null})):null)):null)}}]),t}(g.Component);B.defaultProps={IcnName:"more1",size:"small"},B.propTypes=(n={IcnName:C.a.string,Icnsize:C.a.string,arrowLeft:C.a.string,arrowPosition:C.a.string,arrowRight:C.a.string,boxPosition:C.a.string,entity:C.a.object,getContainerRef:C.a.func},r()(n,"getContainerRef",C.a.func),r()(n,"getTargetRef",C.a.func),r()(n,"isPopupOpen",C.a.bool),r()(n,"isPopupReady",C.a.bool),r()(n,"isScroll",C.a.bool),r()(n,"left",C.a.string),r()(n,"listStyle",C.a.string),r()(n,"objValues",C.a.array),r()(n,"onPopupChange",C.a.func),r()(n,"onSelect",C.a.func),r()(n,"onWidgetScroll",C.a.func),r()(n,"onWidgetSelect",C.a.func),r()(n,"position",C.a.string),r()(n,"removeClose",C.a.func),r()(n,"right",C.a.string),r()(n,"selectedWidgetId",C.a.string),r()(n,"size",C.a.string),r()(n,"theme",C.a.string),r()(n,"togglePopup",C.a.func),r()(n,"widgets",C.a.array),n),t.a=A()(B)},1012:function(e,t,o){"use strict";function n(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function a(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},1013:function(e,t,o){e.exports={icon:"TextEditor-module__icon",small:"TextEditor-module__small",threeDotIcon:"TextEditor-module__threeDotIcon",editDraft:"TextEditor-module__editDraft",New_Editor_MultiTools:"TextEditor-module__New_Editor_MultiTools",cardDetail:"TextEditor-module__cardDetail",stencilLoading:"TextEditor-module__stencilLoading",stencillist9:"TextEditor-module__stencillist9",Stencils__placeHolderShimmer:"TextEditor-module__Stencils__placeHolderShimmer"}},1014:function(e,t,o){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0;var o=window.location.protocol,n="",a="com",r="",i=".zohostatic.";"US".indexOf("SKY")>-1&&(i=".skydeskstatic.",a="jp"),"US".indexOf("RO")>-1&&(r="-ro"),["LOC","DEV"].indexOf("US")>-1&&(n="local"),ZohoDeskEditor_Init.jsurl=o+"//"+n+"localjs"+r+i+a+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=o+"//"+n+"localcss"+r+i+a+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=o+"//"+n+"localimg"+r+i+a+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var s=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,s(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),s(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",s(6))}}).call(this,o(68))},1019:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1027),v=o.n(_),C=o(30),b=o(16),w=o(174),y=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.constructPreviewData=o.constructPreviewData.bind(o),o}return m()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,o=e.indexOf("/api"),n=e.slice(o,e.length);return n+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,o=t.oldAttachments,n=t.newAttachments,a=t.showAttachmentViewer,r=o.length?o.concat(n):n;Object(w.a)(e,r,function(e){a(e)})}},{key:"constructAttachItem",value:function(e,t){var o=e.id,n=e.isPreview,a=e.viewUrl,r=e.href,i=e.name,s=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,u=d.deleleUpload,m=d.removeAttachment,p=(d.isPeekView,a||(n?r:this.constructImgURL(r))),h=Object(w.j)(i),g=Object(w.e)(s),_=Object(w.c)(i);return f.a.createElement("div",{className:v.a.upload+" "+v.a.mr12+" "+(n?v.a.preview:"")},n?f.a.createElement("div",{className:v.a.loader,style:{width:c+"%"}}):null,h?f.a.createElement("img",{onClick:!n&&this.constructPreviewData.bind(this,o),src:p,className:v.a.uploadimage}):f.a.createElement("div",{className:v.a.attachInfo,onClick:this.openNewTab.bind(this,p)},f.a.createElement(C.CommonFontIcon,{name:_,size:"14"}),f.a.createElement("span",{className:v.a.attachsize},g)),n?null:f.a.createElement("span",{className:v.a.uploadclose,onClick:n?null:"new"==t?u.bind(this,o):m.bind(this,o),"data-id":"deleteUpload"},f.a.createElement(C.TopbandFontIcon,{name:"close",size:"12",color:"pure"})))}},{key:"render",value:function(){var e=this,t=this.props,o=t.oldAttachments,n=t.newAttachments,a=t.from,r=t.isPeekView,i=v.a.attachList;return"leftPanel"==a?i=i+" "+v.a.w75:"replyEdtior"==a&&(i=r?i+" "+v.a.peekReplyAttach:i+" "+v.a.replyAttach),o&&o.length||n&&n.length?f.a.createElement(b.Container,{alignBox:"row",scroll:"horizontal",className:i},o&&o.length?o.map(function(t,o){return f.a.createElement(b.Box,{key:o},e.constructAttachItem(t,"old"))}):null,n&&n.length?n.map(function(t,o){return f.a.createElement(b.Box,{key:o,dataId:"attachmentItem_"+(o+1)},e.constructAttachItem(t,"new"))}):null):null}}]),t}(f.a.Component);t.a=y,y.propTypes={data:g.a.object,deleleUpload:g.a.func,from:g.a.string,isPeekView:g.a.bool,newAttachments:g.a.array,oldAttachments:g.a.array,orgId:g.a.string,removeAttachment:g.a.func,showAttachmentViewer:g.a.func}},1026:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=i(o(0)),r=i(o(360));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){return a.default.createElement("div",{className:r.default.separator})}}]),t}();t.default=s},1027:function(e,t,o){e.exports={upload:"UploadList-module__upload common-module__cboth",uploadimage:"UploadList-module__uploadimage",loader:"UploadList-module__loader",uploadclose:"UploadList-module__uploadclose",attachsize:"UploadList-module__attachsize common-module__dotted common-module__oflow common-module__ellipsis",attachInfo:"UploadList-module__attachInfo",attachList:"UploadList-module__attachList",mr12:"UploadList-module__mr12",w75:"UploadList-module__w75",preview:"UploadList-module__preview",replyAttach:"UploadList-module__replyAttach",peekReplyAttach:"UploadList-module__peekReplyAttach"}},1028:function(e,t,o){"use strict";o.d(t,"c",function(){return a}),o.d(t,"a",function(){return r}),o.d(t,"b",function(){return i}),o.d(t,"f",function(){return s}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c});var n=o(6);function a(e,t){var o=editor[e];o&&t&&o.insertHTML(t)}function r(e){var t=editor[e];if(null!=t){var o=t.getContent();return"<br>"==(o=o.trim())?"":("plaintext"==t.mode&&(o=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(o)),o)}return""}function i(e,t,o,n){var a={content:"",isSnippetExist:!1,triggerWord:""},r="";if(e.modify){var i=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var s=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==s.toLowerCase()});null!=(r=l.length?l[0].expandedContent:"")&&""!=r&&r.length>0?(a.isSnippetExist=!0,a.content=r,a.triggerWord=s.toLowerCase(),i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)):(a.content="&nbsp;&nbsp;&nbsp;&nbsp;",a.triggerWord=s.toLowerCase()),e.removeAllRanges(),e.addRange(i)}else a=function(e,t,o,n){var a="",r=e.getRangeAt(0);r.collapse(!0),r.setStart(e.anchorNode,0),a=r.toString();var i=r.cloneRange(),s=e.anchorNode.textContent,l=/\s+/,c=s.split(l).filter(Boolean),d=a.split(l).filter(Boolean),u="",m="",p={content:"",isSnippetExist:!1,triggerWord:""},f=d[d.length-1];if(""!=f&&void 0!==f){u=c[d.length-1],parseInt(u.length);var h=u.toLowerCase(),g=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==h.toLowerCase()});m=g.length?g[0].expandedContent:""}if(null!=m&&""!=m&&null!=m){var _=parseInt(u.length-f.length),v=parseInt(a.length);_>0&&(v+=_);var C=parseInt(a.length+_-u.length),b=a.length-a.replace(/\s+$/g,"").length;(C-=b)<0&&(C=0),i.setStart(e.anchorNode,C),i.setEnd(e.focusNode,v),p.isSnippetExist=!0}else m=a;return p.content=m,p.triggerWord=u.toLowerCase(),e.removeAllRanges(),e.addRange(i),p}(e,0,0,n);return a}function s(e,t,o,a,r){for(var i={"${Cases.Contact Name}":Object(n.e)(o.firstName,o.lastName),"${Cases.Email}":o.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":a?a.accountName:"","${Cases.First Name}":o.firstName||"","${Cases.Last Name}":o.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(r.firstName,r.lastName),"${User.Email}":r.emailId||"","${User.Phone}":r.phone||"","${User.First Name}":r.firstName||"","${User.Last Name}":r.lastName||"","${User.Mobile}":r.mobile||""},s=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<s.length;l++)e=e.replace(s[l],i[s[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},1042:function(e,t,o){e.exports={defaultSize:"MorePopup-module__defaultSize common-module__offSelection",black:"MorePopup-module__black",white:"MorePopup-module__white",iconCustom:"MorePopup-module__iconCustom",mr10:"MorePopup-module__mr10",dropDivPosition:"MorePopup-module__dropDivPosition",dropdownPosition:"MorePopup-module__dropdownPosition",secondaryIcon:"MorePopup-module__secondaryIcon",widgetList:"MorePopup-module__widgetList"}},1053:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1080),v=o.n(_),C=o(64),b=o.n(C),w=o(56),y=o.n(w),E=function(e){function t(e){return i()(this,t),d()(this,(t.__proto__||a()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,n=e.size,a=e.iconClass,r=e.iconName,i=e.iconSize,s=e.iconColor,l=e.borderPalette,c=e.onClick,d=e.title,u=e.iconTitle,m=e.onIconClick,p=e.showOnHover?v.a.hover:"";return f.a.createElement("div",{className:v.a.container+" "+p},f.a.createElement(b.a,{src:t,name:o,title:d,size:n,onClick:c}),r&&f.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+l],"data-title":u,onClick:m},f.a.createElement("span",{className:v.a.icon},f.a.createElement(y.a,{name:r,size:i,color:s,className:a}))))}}]),t}(f.a.Component);t.a=E,E.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},E.propTypes={borderPalette:g.a.oneOfType([g.a.string,g.a.bool]),iconClass:g.a.string,iconColor:g.a.oneOfType([g.a.string,g.a.bool]),iconName:g.a.oneOfType([g.a.string,g.a.bool]),iconSize:g.a.oneOfType([g.a.string,g.a.bool]),iconTitle:g.a.string,name:g.a.string,onClick:g.a.func,onIconClick:g.a.func,showOnHover:g.a.bool,size:g.a.string,src:g.a.string,title:g.a.string}},1080:function(e,t,o){e.exports={container:"AvatarThread-module__container common-module__dInflex",thread:"AvatarThread-module__thread common-module__rounded",icon:"AvatarThread-module__icon common-module__middleBoth common-module__middle",border_primary:"AvatarThread-module__border_primary",border_success:"AvatarThread-module__border_success",border_danger:"AvatarThread-module__border_danger",hover:"AvatarThread-module__hover"}},1081:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o(71),a=o.n(n),r=o(6),i={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(r.J)(t)?localStorage.setItem(e,a()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var o=localStorage.length,n=new Date,i=0;i<o;i++){var s=localStorage.key(i),l=this.getItemFromStorage(s)||{};l&&l.time&&n>l.expireTime&&this.removeItem(s)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var o=localStorage.key(t),n=this.getItemFromStorage(o);e[o]=n}return e}return this.storage},setItem:function(e,t,o){-1==(o=null==o||null==o?10800:o)&&(o=86400);var n=new Date,a={value:t,expireTime:new Date(n.setSeconds(n.getSeconds()+o))};this.storeItemIntoStorage(e,a)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},1082:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(72),v=o.n(_),C=o(361),b=o.n(C),w=o(8),y=o(1097),E=o.n(y),I=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,o=e.bottom,n=e.left,a=e.onAttchClick,r=e.openCloudAttach,i=e.labelName;return f.a.createElement(v.a,{size:"small",boxPosition:t,isActive:!0,bottom:o,left:n},f.a.createElement("label",{htmlFor:i},f.a.createElement(b.a,{autoHover:!0,value:w.f.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"emptyfle",dataId:"fileAttach"}),f.a.createElement("input",{className:E.a.fileCont,type:"file",multiple:"multiple",id:i,onChange:a})),f.a.createElement(b.a,{autoHover:!0,value:w.f.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"cloudicn",onClick:r,dataId:"cloudAttach"}))}}]),t}(p.Component);t.a=I,I.propTypes={bottom:g.a.string,boxPosition:g.a.string,labelName:g.a.string,left:g.a.string,onAttchClick:g.a.func,openCloudAttach:g.a.func}},1097:function(e,t,o){e.exports={fileCont:"UploadPopup__fileCont"}},1107:function(e,t,o){"use strict";(function(e){var n=o(2),a=o.n(n),r=o(12),i=o.n(r),s=o(9),l=o.n(s),c=o(10),d=o.n(c),u=o(13),m=o.n(u),p=o(14),f=o.n(p),h=o(0),g=o.n(h),_=o(1),v=o.n(_),C=o(1122),b=o.n(C),w=(o(1007),o(1053)),y=o(1019),E=o(1123),I=o(8),k=o(174),A=o(6),T=o(1081),S=o(1028),N=o(30),x=o(16),P=o(1004),O=o(1082),B=function(t){function o(e){l()(this,o);var t=m()(this,(o.__proto__||i()(o)).call(this,e)),n=t.props,a=n.value,r=n.attachments;return t.state={content:a||"",oldAttachments:r||[],newAttachments:[],isAttachmentUploading:!1,isDragOver:!1,mode:"private",showTools:T.a.getItem("showCommentTools"),isAttachmentModified:!1,isLoading:!1},t._isMounted=!1,t.uploadAttach=t.uploadAttach.bind(t),t.deleleUpload=t.deleleUpload.bind(t),t.removeAttachment=t.removeAttachment.bind(t),t.updateComment=t.updateComment.bind(t),t.clearComment=t.clearComment.bind(t),t.toggleComment=t.toggleComment.bind(t),t.dragEnter=t.dragEnter.bind(t),t.dragLeave=t.dragLeave.bind(t),t.attachDrop=t.attachDrop.bind(t),t.changeMode=t.changeMode.bind(t),t.toggleTools=t.toggleTools.bind(t),t.commentCallback=t.commentCallback.bind(t),t.checkCommentChanged=t.checkCommentChanged.bind(t),t.addComment=t.addComment.bind(t),t.dragAttach=t.dragAttach.bind(t),t.addCloudAttch=t.addCloudAttch.bind(t),t.openCloudAttach=t.openCloudAttach.bind(t),t.closeCloudAttach=t.closeCloudAttach.bind(t),t.closeComment=t.closeComment.bind(t),t}return f()(o,t),d()(o,[{key:"componentWillReceiveProps",value:function(e){e.oldAttachments==this.props.oldAttachments&&e.value==this.props.value&&e.newAttachments==this.props.newAttachments||this.setState({content:e.value||"",oldAttachments:e.oldAttachments||[],newAttachments:e.newAttachments||[]})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"addComment",value:function(){var e=this,t=this.state,o=t.mode,n=t.isCommentAdding,a=this.props,r=a.attachmentIds,i=a.hasAttachments,s=void 0===i||i,l=a.hasPrivacyMode,c=void 0===l||l;if(!n){var d=editor["Comment_"+this.props.id],u=d.mentionsList,m=d.mentionsHandler("val");if(this.isValid(d)){var p="public"==o,f=this.props,h=f.revertIsCommentChanged,g=f.addComment;f.isCommentChanged&&h&&h(),this.setState({isCommentAdding:!0});var _={content:m};s&&(_.attachmentIds=r),c&&(_.isPublic=p),this.setState({isLoading:!0}),g(_,u,function(){e._isMounted&&(e.setState({oldAttachments:[],newAttachments:[],isAttachmentModified:!1,isCommentAdding:!1,mode:"private"}),e.props.setAttachmentIds([]),e.clearComment()),e.setState({isLoading:!1})},function(){e.setState({isLoading:!1})})}}}},{key:"updateComment",value:function(){var e=this,t=this.props,o=t.id,n=t.value,a=t.revertIsCommentChanged,r=t.isCommentChanged,i=t.updateComment,s=t.attachmentIds,l=editor["Comment_"+o],c=l.mentionsList,d=l.mentionsHandler("val");r&&a&&a(),this.setState({isAttachmentModified:!1}),this.isValid(l)&&(this.setState({isLoading:!0}),i(o,d,s,n,c,function(){e.setState({isLoading:!1})}))}},{key:"isValid",value:function(t){var o=this.state.isAttachmentUploading,n=this.props.attachmentIds,a=!0,r=t.getContent();return o?(a=!1,this.props.showMessage({type:"alert",message:I.f.getI18NValue("support.attachment.upload.process")})):Object(S.d)(t)&&!n.length?(a=!1,this.props.showConfirmBox({type:"alert",submitText:I.f.getI18NValue("crm.button.ok"),title:I.f.getI18NValue("support.history.operation.label.wfalert"),message:I.f.getI18NValue("support.contact.comment.empty"),isActive:!0,palette:"danger"}).then(function(){deleteComment(id,commentId,e)}).catch(function(){})):r.length>32e3&&(a=!1,this.props.showMessage({type:"alert",message:I.f.getI18NValue("support.comment.limit.exceeded")})),a}},{key:"addCloudAttch",value:function(e,t,o){var n=this,r=this.state,i=r.newAttachments,s=r.oldAttachments.length+i.length+o,l={index:s,href:null,isPreview:!0};this.setState(function(e){var t=a()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,s,function(e,t){var o=n.state.newAttachments.map(function(o){return o.index===t?a()({},o,{percentComplete:e}):o});n.setState({newAttachments:o})}).then(function(e){var t=e.data,o=n.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});n.setState({newAttachments:o});var a=n.props,r=a.attachmentIds,i=a.setAttachmentIds;r.push(t.data.id),i(r);var s=n.props,l=s.isCommentChanged,c=s.setIsCommentChanged;!l&&c&&c(),n.setState({isAttachmentModified:!0})},function(){n.setState(function(e){var t=a()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return s!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,o=this.state,n=o.newAttachments,r=o.oldAttachments.length+n.length,i=e.target?e.target.files:e,s=i.length,l=Object(k.n)(i,r),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:I.f.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c.length)for(var m=0;m<c.length;m++){var p=c[m];p.isUnSupported&&u({type:"alert",message:I.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&u({type:"alert",message:I.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&u({type:"alert",message:I.f.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&u({type:"alert",message:I.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d.length&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var o=function(o){var n=d[o],i=new FormData;i.append("file",n);var l=r+o,u=Object(k.f)(n,l);t.setState(function(e){var t=a()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(i,l,function(e,o){var n=t.state.newAttachments.map(function(t){return t.index===o?a()({},t,{percentComplete:e}):t});t.setState({newAttachments:n})}).then(function(o){if(o){var n=o.data;e+=1;var a=t.state.newAttachments.map(function(e){return e.index===n.data.index?n.data:e});t.setState({newAttachments:a});var r=t.props,i=r.attachmentIds,l=r.setAttachmentIds;i.push(n.data.id),l(i);var d=t.props,u=d.isCommentChanged,m=d.setIsCommentChanged;!u&&m&&m(),t.setState({isAttachmentModified:!0}),e+c.length==s&&t.setState({isAttachmentUploading:!1})}}).catch(function(e){t.setState(function(t){var o=a()({},t);return o.newAttachments=o.newAttachments.filter(function(t){return e.attachIndex!==t.index}),o})})},n=0;n<d.length;n++)o(n)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(o){var n=a()({},o);n.newAttachments=n.newAttachments.filter(function(t){return e!==t.id});var r=t.props,i=r.isCommentChanged,s=r.setIsCommentChanged,l=r.revertIsCommentChanged;return n.newAttachments.length?(!i&&s&&s(),t.setState({isAttachmentModified:!0})):(i&&l&&l(),t.setState({isAttachmentModified:!1},function(){return[t.checkCommentChanged()]})),n});var o=t.props,n=o.attachmentIds;(0,o.setAttachmentIds)(n.filter(function(t){return e!==t}))})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(o){var n=a()({},o);n.oldAttachments=n.oldAttachments.filter(function(t){return e!==t.id});var r=t.props,i=r.isCommentChanged,s=r.setIsCommentChanged;return!i&&s&&s(),t.setState({isAttachmentModified:!0}),n});var o=this.props,n=o.attachmentIds;(0,o.setAttachmentIds)(n.filter(function(t){return e!==t}))}},{key:"clearComment",value:function(){this.setState({content:""});var e=editor["Comment_"+this.props.id];e.setContent(""),Object(A.N)(e.doc)}},{key:"toggleComment",value:function(){if(""==this.state.content)this.props.toggleComment();else{var e=this.props,t=e.revertIsCommentChanged;e.isCommentChanged&&t&&t(),this.setState({isAttachmentModified:!1}),this.clearComment()}}},{key:"dragEnter",value:function(){this.setState({isDragOver:!0})}},{key:"dragLeave",value:function(){this.setState({isDragOver:!1})}},{key:"attachDrop",value:function(e){var t=e.nativeEvent.dataTransfer;Object(k.h)(t,e)&&(e.preventDefault(),this.uploadAttach(t.files),this.setState({isDragOver:!1})),e.stopPropagation(),this.setState({isDragOver:!1})}},{key:"dragAttach",value:function(e){this.uploadAttach(e)}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?T.a.setItem("showCommentTools",!0):T.a.setItem("showCommentTools",!1)})}},{key:"commentCallback",value:function(e){var t=this,o=this.props.mention,n=(void 0===o?[]:o).map(function(e){var t=e.type,o=e.name,n=e.zuid,a=e.id,r=e.firstName,i=e.lastName,s=e.photoURL,l=Object(A.e)(r,i);return"AGENT"==t?{avatar:s,id:n,name:l,type:"user",value:l}:{id:a,name:o,type:"team",value:o}});e.mentionsHandler("setMentions",n),ZohoDeskEditor._addEvent(e.doc,"keyup",function(){setTimeout(function(){t.checkCommentChanged(e)},1)})}},{key:"checkCommentChanged",value:function(e){e=e||editor["Comment_"+this.props.id];var t=this.props,o=t.value,n=t.type,a=t.isCommentChanged,r=t.setIsCommentChanged,i=t.revertIsCommentChanged,s=this.state.isAttachmentModified,l=e.getContent()||"";"edit"==n?o==l?!s&&a&&i&&i():!a&&r&&r():Object(S.d)(e)?(this.setState({content:""}),!s&&a&&i&&i()):(this.setState({content:l}),!a&&r&&r())}},{key:"openCloudAttach",value:function(){this.setState({isCLoudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCLoudOpen:!1})}},{key:"closeComment",value:function(){var e=this.props,t=e.id,o=e.closeComment;o(t)}},{key:"render",value:function(){I.f.getI18NValue("support.create.form.label.attachment.mycomputer"),I.f.getI18NValue("support.create.form.label.attachment.cloud");var e=this.props,t=e.type,o=e.orgId,n=e.id,a=e.from,r=e.showAttachmentViewer,i=e.photoURL,s=e.name,l=e.borderStyle,c=(e.value,e.revertIsCommentChanged),d=e.isCommentChanged,u=e.editorMode,m=void 0===u?"CommentEditor":u,p=e.isFromBlueprint,f=e.hasPrivacyMode,h=void 0===f||f,_=e.hasAttachments,v=void 0===_||_,C=e.isCloudAttchOpen,k=e.CloudAttachmentIframe,A=e.havePublicComment,T=e.needAttachment,S=e.getAutofillContacts,B=this.state,D=B.content,$=void 0===D?"":D,R=B.oldAttachments,L=B.newAttachments,F=B.isDragOver,M=B.mode,j=B.showTools,V=B.isCLoudOpen,q=B.isLoading,z={handleAutoFill:!0,needEditorFocus:"feeds"!=a&&!p,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:S,handleInlineDropImage:this.dragAttach},K="public"==M,U=b.a.postbox;return"leftPanel"==a&&(U=U+" "+b.a.minW319),U="bottom"==l?U+" "+b.a.defaultborder:U+" "+b.a.fullborder,g.a.createElement("div",{className:U+" "+(p?b.a.bluePrintLayar:""),onDragEnter:this.dragEnter,onDragOver:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.attachDrop},F&&g.a.createElement("div",{className:b.a.attachOver},I.f.getI18NValue("support.request.attachment.drop.files")),g.a.createElement("div",{className:b.a.postHeader},p?null:g.a.createElement("span",{className:b.a.postAvatar},g.a.createElement(w.a,{src:i,name:s,size:"xsmall",iconName:"conversation"==t&&"zdeskCommentfilled",borderPalette:"conversation"==t&&"primary",iconColor:"conversation"==t&&"primary",iconSize:"conversation"==t&&"8"})),g.a.createElement("div",{className:b.a.commentBox+" commentArea "+(j?"":"hideTools")+" "+("leftPanel"==a?"leftCommentArea":"")},g.a.createElement(P.a,{id:"Comment_"+n,value:$,editorCallback:this.commentCallback,editorMode:m,editorOptions:z})),v?g.a.createElement("div",{className:b.a.attachHolder+" "+(j?b.a.attachHolderVisi:"")},g.a.createElement(y.a,{oldAttachments:R,newAttachments:L,orgId:o,deleleUpload:this.deleleUpload,removeAttachment:this.removeAttachment,from:a,showAttachmentViewer:r})):null),g.a.createElement(x.Container,{alignBox:"row",className:"leftPanel"==a?b.a.leftFooter+" "+b.a.postFooter:b.a.postFooter},g.a.createElement(x.Box,{className:b.a.commentOptions},g.a.createElement("span",{className:b.a.listIcon},v&&T?g.a.createElement("span",{className:b.a.attachParent+" "+("edit"==t?b.a.bdrNone+" "+b.a.attchIcn:"leftPanel"==a?b.a.bdrNone+" "+b.a.mt0+" "+b.a.attchIcn:b.a.attchIcn),"data-id":"AttachIcon"},g.a.createElement("label",{className:b.a.fileCont,htmlFor:"commentAttach"},g.a.createElement("input",{className:b.a.fileAttch,type:"file",onChange:this.uploadAttach,multiple:"multiple",id:"commentAttach"})),g.a.createElement(N.TopbandFontIcon,{name:"attachment5",size:"14"}),"leftPanel"==a?g.a.createElement("div",{className:b.a.attchPopup},g.a.createElement(O.a,{labelName:"commentAttachLabel",boxPosition:"bottomRight",onAttchClick:this.uploadAttach,openCloudAttach:this.openCloudAttach})):null):null,v&&"leftPanel"!=a&&T?g.a.createElement("span",{className:b.a.iconCloud,onClick:this.openCloudAttach},g.a.createElement(N.TopbandFontIcon,{name:"cloudIcon",size:"12"})):null,g.a.createElement("span",{"data-title":I.f.getI18NValue("support.label.comments.format"),className:b.a.iconAttach,onClick:this.toggleTools},"A"))),p?null:g.a.createElement(E.a,{revertIsCommentChanged:c,isCommentChanged:d,closeComment:this.closeComment,updateComment:this.updateComment,toggleComment:this.toggleComment,clearComment:this.clearComment,type:t,from:a,isPublic:K,changeMode:this.changeMode,content:$,addComment:this.addComment,hasPrivacyMode:h,havePublicComment:A,isLoading:q}),C&&V&&k?g.a.createElement(k,{addCloudAttch:this.addCloudAttch,totalLen:R.length+L.length,closeIframe:this.closeCloudAttach}):null))}}]),o}(g.a.Component);t.a=B,B.propTypes={CloudAttachmentIframe:v.a.node,addComment:v.a.func,attachmentIds:v.a.func,attachments:v.a.object,borderStyle:v.a.string,closeComment:v.a.func,deleleUpload:v.a.func,editorMode:v.a.string,from:v.a.string,getAutofillContacts:v.a.func,hasAttachments:v.a.bool,hasPrivacyMode:v.a.bool,havePublicComment:v.a.bool,id:v.a.string,isCloudAttchOpen:v.a.bool,isCommentChanged:v.a.bool,isFromBlueprint:v.a.bool,mention:v.a.array,name:v.a.string,needAttachment:v.a.bool,newAttachments:v.a.object,oldAttachments:v.a.object,openCloudAttach:v.a.func,orgId:v.a.string,page:v.a.string,photoURL:v.a.string,revertIsCommentChanged:v.a.func,setAttachmentIds:v.a.func,setIsCommentChanged:v.a.func,showAttachmentViewer:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func,toggleComment:v.a.func,type:v.a.string,updateComment:v.a.func,uploadAttach:v.a.func,uploadCloudAttachment:v.a.func,value:v.a.string},B.defaultProps={borderStyle:"bottom",isFromBlueprint:!1,needAttachment:!0}}).call(this,o(530)(e))},1122:function(e,t,o){e.exports={defaultborder:"CommentBox-module__defaultborder",fullborder:"CommentBox-module__fullborder",postHeader:"CommentBox-module__postHeader",commentBox:"CommentBox-module__commentBox",attachOver:"CommentBox-module__attachOver",postAvatar:"CommentBox-module__postAvatar",fileCont:"CommentBox-module__fileCont",postFooter:"CommentBox-module__postFooter",leftFooter:"CommentBox-module__leftFooter common-module__alignBetween",mt0:"CommentBox-module__mt0",postSubmit:"CommentBox-module__postSubmit",radioDiv:"CommentBox-module__radioDiv",radiobtn:"CommentBox-module__radiobtn",bdrNone:"CommentBox-module__bdrNone",minW319:"CommentBox-module__minW319",minW259:"CommentBox-module__minW259",attchIcn:"CommentBox-module__attchIcn",commentOptions:"CommentBox-module__commentOptions common-module__flexgrow",listIcon:"CommentBox-module__listIcon common-module__dflex",iconCloud:"CommentBox-module__iconCloud",iconAttach:"CommentBox-module__iconAttach",sentButton:"CommentBox-module__sentButton",clearButton:"CommentBox-module__clearButton",attachHolderVisi:"CommentBox-module__attachHolderVisi",attachHolder:"CommentBox-module__attachHolder",bluePrintLayar:"CommentBox-module__bluePrintLayar",fileAttch:"CommentBox-module__fileAttch",attchPopup:"CommentBox-module__attchPopup",attachParent:"CommentBox-module__attachParent",postbox:"CommentBox-module__postbox"}},1123:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1124),v=o.n(_),C=o(30),b=o(239),w=o.n(b),y=o(8),E=o(16),I=o(73),k=o.n(I),A=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={isPopupOpen:!1},o.togglePopup=o.togglePopup.bind(o),o}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,o=t.revertIsCommentChanged,n=t.isCommentChanged,a=t.closeComment,r=t.toggleComment,i=t.clearComment,s=t.type,l=t.from,c=t.content,d=void 0===c?"":c,u=t.isPublic,m=t.changeMode,p=t.addComment,h=t.updateComment,g=t.hasPrivacyMode,_=t.havePublicComment,b=t.isLoading,I=this.state.isPopupOpen,A="large";"leftPanel"==l&&(A="medium");var T=""==d&&"conversation"!=s;return f.a.createElement(E.Box,{className:v.a.postSubmit},f.a.createElement("span",{className:v.a.sentButton},"edit"==s?f.a.createElement(k.a,{text:y.f.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",onClick:h,status:b?"loading":"none"}):_&&g?f.a.createElement("span",{className:v.a.commentButton},g?f.a.createElement("div",{className:v.a[A]+" "+(b?"":v.a.isActive)},b?f.a.createElement(k.a,{status:"loading",palette:"primaryFilled",size:"medium",className:v.a.loading}):f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:v.a.content,onClick:p},f.a.createElement("p",{className:v.a.actionType},y.f.getI18NValue("tabs.request.comment")),f.a.createElement("p",{className:v.a.subtitle},u?y.f.getI18NValue("support.request.public"):y.f.getI18NValue("support.department.type.internal"))),f.a.createElement("span",{className:v.a.arrow,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.togglePopup(t)}},f.a.createElement(C.TopbandFontIcon,{name:"blockDownArrow",size:"6"})))):f.a.createElement(k.a,{text:y.f.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,status:b?"loading":"none"}),f.a.createElement("div",{className:v.a.buttonAction+" "+(I?v.a.active:"")+" "+("leftPanel"==l?v.a.commentLeftPopup:" "),onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},f.a.createElement("div",{className:v.a.switchAction,onClick:function(){m(u?"private":"public")}},f.a.createElement("p",null,f.a.createElement("span",{className:v.a.actionNotify},y.f.getI18NValue("support.request.public")),f.a.createElement("span",{className:v.a.switchbox},f.a.createElement(w.a,{id:"commentPrivate",name:"commentPrivate",size:"small",checked:u,onChange:function(){m(u?"private":"public")}}))),f.a.createElement("p",{className:v.a.actionSubtitle},y.f.getI18NValue("support.solutions.comments.display.in.customer.self.service.portal"))))):f.a.createElement(k.a,{text:y.f.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,status:b?"loading":"none"})),f.a.createElement("span",{className:v.a.clearButton},f.a.createElement(k.a,{text:"edit"==s||"task"==l||"conversation"==s&&""==d?y.f.getI18NValue("support.label.cancel"):y.f.getI18NValue("support.request.clear"),palette:"secondary",size:"medium",disabled:T,onClick:function(){"edit"==s||"task"==l?(n&&o&&o(),a()):"conversation"==s?r():i()}})))}}]),t}(f.a.Component);t.a=A,A.propTypes={addComment:g.a.func,changeMode:g.a.func,clearComment:g.a.func,closeComment:g.a.func,content:g.a.string,from:g.a.string,hasPrivacyMode:g.a.bool,havePublicComment:g.a.bool,isCommentChanged:g.a.bool,isLoading:g.a.bool,isPublic:g.a.bool,module:g.a.string,revertIsCommentChanged:g.a.func,toggleComment:g.a.func,type:g.a.string,updateComment:g.a.func}},1124:function(e,t,o){e.exports={commentButton:"CommentActionButton-module__commentButton common-module__dflex",commentAction:"CommentActionButton-module__commentAction common-module__dtable",isActive:"CommentActionButton-module__isActive",large:"CommentActionButton-module__large CommentActionButton-module__commentAction common-module__dtable",medium:"CommentActionButton-module__medium CommentActionButton-module__commentAction common-module__dtable",loading:"CommentActionButton-module__loading",peekLeftClearBtn:"CommentActionButton-module__peekLeftClearBtn",arrow:"CommentActionButton-module__arrow",content:"CommentActionButton-module__content common-module__tcenter common-module__pointer",actionType:"CommentActionButton-module__actionType common-module__semibold common-module__ftsmooth",subtitle:"CommentActionButton-module__subtitle common-module__oflow",buttonAction:"CommentActionButton-module__buttonAction common-module__vishidden",active:"CommentActionButton-module__active common-module__visible",actionSubtitle:"CommentActionButton-module__actionSubtitle",switchAction:"CommentActionButton-module__switchAction",actionNotify:"CommentActionButton-module__actionNotify",switchbox:"CommentActionButton-module__switchbox",peekLeftPopup:"CommentActionButton-module__peekLeftPopup",commentLeftPopup:"CommentActionButton-module__commentLeftPopup",pl30:"CommentActionButton-module__pl30",sentButton:"CommentActionButton-module__sentButton",postSubmit:"CommentActionButton-module__postSubmit common-module__dflex"}},1155:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o(26),_=o(1107),v=o(17),C=o(131),b=o(6),w=o(24),y=o(956),E=o(242),I=o(22),k=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e)),n=[],r=o.props.attachments;if(r&&r.length)for(var s=0;s<r.length;s++)n.push(r[s].id);return o.state={from:0,limit:25,attachmentIds:n},o.getAutofillContacts=Object(C.a)(o.getAutofillContacts.bind(o),100,!0),o.getMentions=o.getMentions.bind(o),o.setAttachmentIds=o.setAttachmentIds.bind(o),o}return m()(t,e),l()(t,[{key:"setAttachmentIds",value:function(e){this.setState({attachmentIds:e})}},{key:"getAutofillContacts",value:function(e,t,o){var n=this,a=this.props,r=a.deptId,i=a.teamsList,s=a.getTeamsList;i.length?this.getMentions(e,t,o):s(r).then(function(){n.getMentions(e,t,o)})}},{key:"getMentions",value:function(e,t,o){var n=this,a=this.props,r=a.deptId,i=a.getAgentsList,s=a.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?s(e,c,d).then(function(e){console.log("res",e)}):(this.invokeMentionsCallback(t,o),i(r,c,d).then(function(){n.invokeMentionsCallback(t,o)}))}},{key:"invokeMentionsCallback",value:function(e,t){for(var o=this.props,n=o.agentsObject,a=o.teamsObject,r=o.agentsList,i=o.teamsList,s=r?r.map(function(e){return n[e]}):[],l=i.map(function(e){return a[e]}),c=s.concat(l),d=25*(e-1),u=d+25,m=[],p=0;p<c.length;p++){var f=c[p],h=f.id,g=f.zuid,_=f.name,v=f.isConfirmed,C=f.photoURL,w=f.firstName,y=f.lastName;if(f.subTeams){var E={id:h,name:_,value:_,type:"team",team:Object(b.u)(_)};m.push(E)}else if(v){var I={id:g,userId:h,avatar:C||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(b.e)(w,y),value:_,type:"user"};m.push(I)}}m.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),m=m.slice(d,u);var k={};k.results=m,k.isMore=m.length>0,t(k)}},{key:"render",value:function(){var e=this.props,t=e.type,o=e.orgId,n=e.id,a=e.from,r=e.showAttachmentViewer,i=(e.photoURL,e.name,e.borderStyle),s=e.isPeekView,l=e.value,c=e.revertIsCommentChanged,d=e.setIsCommentChanged,u=e.isCommentChanged,m=e.addComment,p=e.uploadAttach,h=e.deleleUpload,g=e.toggleComment,v=e.updateComment,C=e.closeComment,w=e.showConfirmBox,y=e.showMessage,E=e.page,k=e.oldAttachments,A=e.newAttachments,T=e.attachments,S=e.editorMode,N=e.myInfo,x=e.hasAttachments,P=e.hasPrivacyMode,O=e.openCloudAttach,B=e.isCloudAttchOpen,D=e.mention,$=e.isLightAgent,R=e.havePublicComment,L=e.uploadCloudAttachment,F=e.needAttachment;return f.a.createElement(_.a,{id:n,orgId:o,value:l,from:a,page:E,type:t,addComment:m,updateComment:v,closeComment:C,toggleComment:g,oldAttachments:k,newAttachments:A,attachments:T,uploadAttach:p,deleleUpload:h,showAttachmentViewer:r,isPeekView:s,isCommentChanged:u,setIsCommentChanged:d,revertIsCommentChanged:c,showConfirmBox:w,showMessage:y,borderStyle:i,getAutofillContacts:this.getAutofillContacts,editorMode:S,photoURL:N.photoURL,name:Object(b.e)(N.firstName,N.lastName),setAttachmentIds:this.setAttachmentIds,attachmentIds:this.state.attachmentIds,hasAttachments:x,hasPrivacyMode:P,openCloudAttach:O,isCloudAttchOpen:B,CloudAttachmentIframe:I.s,mention:D,havePublicComment:R&&!$,uploadCloudAttachment:L,needAttachment:F})}}]),t}(f.a.Component);k.propTypes={addComment:h.PropTypes.func,agentsList:h.PropTypes.array,agentsObject:h.PropTypes.object,attachments:h.PropTypes.object,borderStyle:h.PropTypes.string,closeComment:h.PropTypes.func,deleleUpload:h.PropTypes.func,deptId:h.PropTypes.string,editorMode:h.PropTypes.string,from:h.PropTypes.string,getAgentsList:h.PropTypes.func,getTeamsList:h.PropTypes.func,hasAttachments:h.PropTypes.bool,hasPrivacyMode:h.PropTypes.bool,havePublicComment:h.PropTypes.bool,id:h.PropTypes.string,isCloudAttchOpen:h.PropTypes.bool,isCommentChanged:h.PropTypes.bool,isLightAgent:h.PropTypes.bool,isPeekView:h.PropTypes.bool,mention:h.PropTypes.array,myInfo:h.PropTypes.object,needAttachment:h.PropTypes.bool,newAttachments:h.PropTypes.object,oldAttachments:h.PropTypes.object,openCloudAttach:h.PropTypes.func,orgId:h.PropTypes.string,page:h.PropTypes.string,revertIsCommentChanged:h.PropTypes.func,searchAgents:h.PropTypes.func,setIsCommentChanged:h.PropTypes.func,showAttachmentViewer:h.PropTypes.func,showConfirmBox:h.PropTypes.func,showMessage:h.PropTypes.func,teamsList:h.PropTypes.array,teamsObject:h.PropTypes.object,toggleComment:h.PropTypes.func,type:h.PropTypes.string,updateComment:h.PropTypes.func,uploadAttach:h.PropTypes.func,uploadCloudAttachment:h.PropTypes.func,value:h.PropTypes.string},t.a=Object(g.connect)(function(e,t){var o=Object(v.r)(e),n=e.myInfo,a=e.module,r=e.isCloudAttchOpen,i=e.activeAgents,s=e.departmentSpecificState,l=Object(b.c)(n.profileId,a.profile);return{deptId:o,teamsList:s[o].teamsList,agentsList:i[o],agentsObject:a.agent,teamsObject:a.teams,myInfo:n,isCloudAttchOpen:r,isLightAgent:l}},{getTeamsList:w.u,getAgentsList:y.g,searchAgents:y.j,showConfirmBox:w.a.showConfirmBox,showMessage:w.Q,openCloudAttach:E.h,uploadCloudAttachment:E.l})(k)},1168:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1197),v=o.n(_),C=o(8),b=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={playingIndex:1},o.play=o.play.bind(o),o.playNext=o.playNext.bind(o),o.pauseOthers=o.pauseOthers.bind(o),o}return m()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var o=document.getElementById("audio"+t);o&&o.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,o){e!=o+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,o=this.props.thread,n=JSON.parse(o.content),a=n.voicemailurl,r=n.recordingurl,i=n.voicemailduration,s=n.recordingduration,l=void 0,c=void 0,d=void 0,u=[],m=0;if(a.startsWith("https://")||r.startsWith("https://"))a.startsWith("https://")?(l=a,c=i,d=C.f.getI18NValue("support.twi.msg.voicemessage")):(l=r,c=s,d=C.f.getI18NValue("support.twi.msg.callrecording"));else{m=(u=JSON.parse(n.recordingurl)).length,l=u[0].url,l=m>2?l:l+u[1].rid;var p=s%3600,h=Math.floor(p/60),g=p%60,_=Math.ceil(g);c=Math.floor(s/3600)+":"+h+":"+_+" (H:M:S)",d=C.f.getI18NValue("support.twi.msg.callrecording")}return f.a.createElement("div",{className:v.a.audioDiv},f.a.createElement("div",{className:v.a.audioHead},f.a.createElement("span",{className:v.a.audioTitle},d),f.a.createElement("span",{className:v.a.audioDur},"( ",C.f.getI18NValue("crm.activities.call.duration"),":",f.a.createElement("span",null,c)," )"),m>2?f.a.createElement("span",null,C.f.getI18NValue("support.label.playing")," ",f.a.createElement("span",null,t),"/",m-1," ",C.f.getI18NValue("support.label.recording")):null),f.a.createElement("div",{className:v.a.audioSource},m>2?u.map(function(t,o){var n=u[o].rid;return n?f.a.createElement("audio",{controls:!0,id:"audio"+o,src:l+n,key:o,className:v.a.audio,onPlay:function(){e.play(o)},onEnded:function(){e.playNext(o)},style:{display:"block"}}):null}):f.a.createElement("audio",{controls:!0,src:l,className:v.a.audio})))}}]),t}(f.a.Component);t.a=b,b.propTypes={thread:g.a.object}},1175:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopOverContainer=t.PopOverTarget=void 0;var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=c(o(0)),r=c(o(1)),i=c(o(1210)),s=c(o(80)),l=c(o(72));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e){d(this,t);var o=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.popOverTargetRef=o.popOverTargetRef.bind(o),o.popOverContainerRef=o.popOverContainerRef.bind(o),o.togglePopup=o.togglePopup.bind(o),o}return m(t,a.default.Component),n(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.isPopupOpen,n=t.onPopupOpen,a=t.onPopupClose;e.isPopupOpen!==o&&(o&&n&&n(),!o&&a&&a())}},{key:"popOverTargetRef",value:function(e){this.popOverTarget=e,(0,this.props.getTargetRef)(e)}},{key:"popOverContainerRef",value:function(e){this.popOverContainer=e,(0,this.props.getContainerRef)(e)}},{key:"togglePopup",value:function(e){var t=this.props,o=t.togglePopup;o(e,t.boxPosition)}},{key:"render",value:function(){var e=this,t=this.props,o=t.children,n=t.isPopupOpen,r=t.removeClose,s=t.right,l=t.left,c=t.top,d=t.bottom,u=t.arrowRight,m=t.arrowLeft,p=t.arrowTop,f=t.arrowBottom,h=t.isAnimate,g=t.isArrow,_=t.arrowPosition,v=t.position,C=t.size,b=t.onClick,w=t.isPopupReady,y=a.default.Children.map(o,function(t,o){return 1===o?a.default.cloneElement(t,{isPopupOpen:n,togglePopup:e.togglePopup,removeClose:r,right:s,left:l,top:c,bottom:d,arrowRight:u,arrowLeft:m,arrowTop:p,arrowBottom:f,boxPosition:v,isAnimate:h,isArrow:g,arrowPosition:_,size:C,onClick:b,getRef:e.popOverContainerRef,isPopupReady:w}):a.default.cloneElement(t,{isPopupOpen:n,togglePopup:e.togglePopup,removeClose:r,getRef:e.popOverTargetRef})});return a.default.createElement("div",{className:i.default.popup},y)}}]),t}();p.defaultProps={isAnimate:!1,isArrow:!1},p.propTypes={arrowBottom:r.default.string,arrowLeft:r.default.string,arrowPosition:r.default.string,arrowRight:r.default.string,arrowTop:r.default.string,bottom:r.default.string,boxPosition:r.default.string,children:r.default.node,getContainerRef:r.default.func,getTargetRef:r.default.func,isAnimate:r.default.bool,isArrow:r.default.bool,isPopupOpen:r.default.bool,isPopupReady:r.default.bool,left:r.default.string,onClick:r.default.func,onPopupClose:r.default.func,onPopupOpen:r.default.func,position:r.default.string,removeClose:r.default.func,right:r.default.string,size:r.default.string,togglePopup:r.default.func,top:r.default.string},p.propTypesDescription={right:" ",left:" ",top:" ",bottom:" ",arrowRight:" ",arrowLeft:" ",arrowTop:" ",arrowBottom:" ",arrowPosition:" ",boxPosition:" ",size:" ",children:" ",onPopupOpen:" ",isPopupOpen:" ",onPopupClose:" ",getTargetRef:" ",getContainerRef:" "},t.default=(0,s.default)(p),(t.PopOverTarget=function(e){function t(e){d(this,t);var o=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getRef=o.getRef.bind(o),o}return m(t,a.default.Component),n(t,[{key:"getRef",value:function(e){var t=this.props.getRef;t(e)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.togglePopup;return a.default.createElement("div",{className:i.default.target,onClick:o,ref:this.getRef},t)}}]),t}()).propTypes={children:r.default.node,getRef:r.default.func,togglePopup:r.default.func};var f=t.PopOverContainer=function(e){function t(e){d(this,t);var o=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleClick=o.handleClick.bind(o),o.getRef=o.getRef.bind(o),o}return m(t,a.default.Component),n(t,[{key:"getRef",value:function(e){var t=this.props.getRef;t&&t(e)}},{key:"handleClick",value:function(e){var t=this.props,o=t.onClick,n=t.removeClose;n&&n(e),o&&o()}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.isPopupOpen,n=e.isAnimate,r=e.isArrow,i=e.size,s=e.arrowPosition,c=e.boxPosition,d=e.right,u=e.left,m=e.top,p=e.bottom,f=e.arrowRight,h=e.arrowLeft,g=e.arrowTop,_=e.arrowBottom,v=e.animationStyle,C=e.getRef;return a.default.createElement(l.default,{animationStyle:v,arrowBottom:_,arrowLeft:h,arrowPosition:s,arrowRight:f,arrowTop:g,bottom:p,boxPosition:c,getRef:C,isActive:o,isAnimate:n,isArrow:r,left:u,right:d,size:i,top:m},t)}}]),t}();f.defaultProps={isArrow:!1},f.propTypes={animationStyle:r.default.string,arrowBottom:r.default.string,arrowLeft:r.default.string,arrowPosition:r.default.string,arrowRight:r.default.string,arrowTop:r.default.string,bottom:r.default.string,boxPosition:r.default.string,children:r.default.node,getRef:r.default.func,isAnimate:r.default.bool,isArrow:r.default.bool,isPopupOpen:r.default.bool,left:r.default.string,onClick:r.default.func,removeClose:r.default.func,right:r.default.string,size:r.default.string,top:r.default.string}},1197:function(e,t,o){e.exports={audioDiv:"AudioMessage-module__audioDiv",audioHead:"AudioMessage-module__audioHead",audioTitle:"AudioMessage-module__audioTitle",audioDur:"AudioMessage-module__audioDur",audioSource:"AudioMessage-module__audioSource",audio:"AudioMessage-module__audio"}},1210:function(e,t,o){e.exports={popup:"PopOver-module__popup",target:"PopOver-module__target common-module__offSelection"}},122:function(e,t,o){e.exports={attachment:"ThreadAttachments-module__attachment common-module__cboth",medium:"ThreadAttachments-module__medium",small:"ThreadAttachments-module__small",attachleft:"ThreadAttachments-module__attachleft common-module__tcenter",attachright:"ThreadAttachments-module__attachright",atatchName:"ThreadAttachments-module__atatchName common-module__dotted common-module__oflow common-module__ellipsis",attachSize:"ThreadAttachments-module__attachSize",attachDownload:"ThreadAttachments-module__attachDownload",pt8:"ThreadAttachments-module__pt8",docspan:"ThreadAttachments-module__docspan",attachCount:"ThreadAttachments-module__attachCount",mr6:"ThreadAttachments-module__mr6",ml6:"ThreadAttachments-module__ml6"}},1266:function(e,t,o){"use strict";(function(e){o.d(t,"c",function(){return i}),o.d(t,"a",function(){return s}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c}),o.d(t,"b",function(){return d});var n=o(253),a=o(1318),r=o(6);function i(t,o){o(function(){var o,r;AcsApi.autoCorrect=(o=AcsApi.autoCorrect,r={},function(){var e=this,t=arguments[0],n=r[t];n&&clearTimeout(n);var a=arguments;r[t]=setTimeout(function(){o.apply(e,a),r[t]=null},1e3)}),AcsApi.init("Support","crmcsrfparam","crmcsr"),AcsDesktopNotification.syncOwner(),t(Object(n.l)()),"undefined"==typeof AcsResource&&(e.AcsResource={}),AcsResource.resourceobject=a.a,AcsApi.getBadgeCount("UNS")})}function s(e,t){var o={},n=t(),a=e.getInfo(void 0,!0),r=null,i=e.getAdditionalProperty("zgid")||"null",s=e.getAdditionalProperty("sanitizedOrgName")||n.module.org[i].portalName;e.getActionOwner()&&("_NONE_"!=e.getActionOwner().split(":")[0]&&(r=e.getAdditionalProperty("photoUrl")||r));var l=e.getAdditionalProperty("LAST_ACTIVITY");if("INCOMING_MAIL"==l||"RESPONSE_RECEIVED"==l||"contact"==e.getAdditionalProperty("photo_type")){r=null;var c=""+e.getAdditionalProperty("Contact_Id")||"";"undefined"!=c&&""!=c&&"null"!=c&&"null"!=i&&(r="/api/v1/contacts/"+c+"/photo?portalname="+s)}var d=e.getSkey()||Date.now(),u="";e.getProperty("viewkey")&&(u=e.getProperty("viewkey"));var m="";e.getRepeatCount()&&(m=e.getRepeatCount());var p="";e.getRepeatUsers()&&(p=e.getRepeatUsers());var f=e.getTime()||"";o.fdk=e._ntfn["Feed.fdk"],o.departmentId=e.getAdditionalProperty("Department"),o.accessFrom=e.getAccFrom(),o.type=e.getType(),o.title=a,o.photourl=r,o.ISNEW=e.isNew(),o.SKEY=d,o.info=e.getAdditionalProperty("info")||e.getAdditionalProperty("niceurl"),o.VIEWKEY=u,o.repCount=m,o.repUsers=p,o.time=f,o.seid=e.getAdditionalProperty("seid"),o.caseNumber=e.getAdditionalProperty("caseNumber"),o.subject=e.getAdditionalProperty("subject"),o.type=e.getProperty("type"),o.orgId=i;var h=e.getAdditionalProperty("sanitizedDepName"),g=e.getAdditionalProperty("sanitizedModule");if("Request"===o.type||"Ticket"===o.type){var _=e.getAdditionalProperty("caseId");o.entityURL=h?"/agent/"+s+"/"+h+"/"+g+"/details/"+_:"/support/"+s+"/ShowHomePage.do#Cases/dv/"+o.seid}else"status"===o.type||"Direct Message"===o.type||"StatusMessage"===o.type?(o.subject=e.getAdditionalProperty("subject"),o.entityURL="/support/"+s+"/ShowHomePage.do#feeds/"+o.info):"Task"===o.type&&(o.entityURL=h?"/agent/"+s+"/"+h+"/"+g+"/details/"+o.seid:"/support/"+s+"/ShowHomePage.do#Tasks/dv/"+o.seid);return o}function l(e,t){return(e=s(e,t)).isRead=!1,e.ISNEW=!1,e}function c(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{t=void 0===t?{}:t,o=null==o||o;for(var a=e,i=new RegExp("zsu[@[a-z]+(#|:).+?]zsu","g"),s=void 0;null!=(s=i.exec(e));){var l=s[0],c=l.split("zsu[")[1].slice(0,-4);if(0==c.indexOf("#")){var d=c.split(":"),u=d[0],m=d[2],p=u,f=n.routing.paramMap,h="/agent/"+f.orgName+"/"+f.deptName+"/"+n.moduleMeta.tickets.sanitizedName+"/details/"+m;o&&(p="<a href="+h+' class="clrblu">'+u+"</a>"),a=a.replace(l,p)}else if(0==c.indexOf("@"))if(-1!==c.indexOf("user")){var g=t[(_=c.replace("@user#","").replace("@user:","").split("_"))[0]];p=g;o?(g=g.replace(/>/g,"&gt;").replace(/</g,"&lt;"),p='<a href="javascript:;" class="clrblu" onclick="return false">'+Object(r.k)(g)+"</a>"):p=Object(r.k)(p),a=a.replace(l,p)}else{(_=c.replace("@team#","").replace("@team:","").split("_"))[0];var _,v=_[1];v=v.replace(/>/g,"&gt;").replace(/</g,"&lt;"),p='<a href="javascript:;" class="clrblu" onclick="return false">'+Object(r.k)(v)+"</a>",a=a.replace(l,p)}}return a}catch(t){return e}}function d(e,t){t=""+t,e="feedback widget"==(e=(""+e).toLowerCase())?e.replace(/\s+/g,""):e;var o={email:["support.request.status.email.icon.title"],phone:["support.request.status.phone.icon.title"],forums:["support.request.status.forums.icon.title"],web:["support.request.status.web.icon.title"],twitter:["support.request.status.request.twitter.incoming.icon.title"],facebook:["support.request.status.request.facebook.incoming.icon.title"],chat:["support.request.status.chat.icon.title"],feedbackwidget:["support.request.status.feedbackwidget.icon.title"],2:["support.request.status.request.sent.icon.title","ogmrequest"],3:["support.request.status.req.receive.icon.title","icmrequest"],6:["support.request.status.request.drafted.icon.title","ogmrequest"],7:["support.request.status.request.drafted.icon.title","icmrequest"],9:["support.request.status.req.receive.icon.title","icmrequest"],11:["support.request.status.req.receive.icon.title","icmforumrequest"],12:["support.request.status.request.sent.icon.title","ogmforumrequest"],13:["support.request.status.request.sent.icon.title","ogmforumrequest"],14:["support.request.status.req.receive.icon.title","icmforumrequest"],15:["support.request.status.request.forward.icon.title","fwdrequest"],17:["support.request.status.req.receive.icon.title","incomingCTI"],18:["support.request.status.request.sent.icon.title","outgoingCTI"],19:["support.request.status.request.twitter.incoming.icon.title","NewTwiticm"],20:["support.request.status.request.twitter.response.icon.title","NewTwiticm"],21:["support.request.status.request.twitter.outgoing.icon.title","NewTwitogn"],22:["support.request.status.request.facebook.incoming.icon.title","NewFbookIcm"],23:["support.request.status.request.facebook.response.icon.title","NewFbookIcm"],24:["support.request.status.request.facebook.outgoing.icon.title","NewFbookogn"],25:["support.request.status.chat.icon.title","chat"],26:["support.request.status.offlinechat.icon.title","offlinechat"],32:["support.request.status.req.receive.icon.title","incomingCTI"],33:["support.request.status.request.sent.icon.title","outgoingCTI"],34:["support.survey.listview.feedback.received"],43:["support.request.history.new.facebook.directMessage.received","NewFbookIcm"],44:["support.request.history.new.facebook.directMessage.received","NewFbookIcm"],45:["support.request.history.new.facebook.directMessage.sent","NewFbookogn"]};return t=["","undefined","0","1","5"].includes(t)||!o.hasOwnProperty(t)?e:t,o.hasOwnProperty(t)?o[t][0]:""}}).call(this,o(68))},1318:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={"Status.direct.message.title":"$1 has sent a Direct Message in $2","Status.direct.message.title.min":"$1 has sent a Direct Message","Request.merged":"$2 has merged $1 in $3","Request.reassigned.with.account.min":"$5 reassigned a $1 from $2 | $3 to $4","Request.bug.added":"$2 added a $1 in $3","Request.restore.title.with.account":"$1 received from $2 | $3 in $4","Request.pickedup.without.account":"$3 self-assigned a $1 from $2 in $4","Request.updated.without.account":"$3 updated a $1 from $2 in $4","Task.update.min":"$2 updated a $1","Request.merged.min":"$2 has merged $1","Request.ownerupdate.without.account.min":"$1 from $2 was assigned to $3","Comment.updated.min":"$1 updated a comment","ACS.errortitle":"Error","ACS.errormsg":"Action cannot be performed as $1 has been deleted.","Task.completed":"$1 completed a $2 in $3","Request.add.without.account.min":"$1 from $2 was assigned to $3","Request.ownerupdate.with.account":"$1 from $2 | $3 was assigned to $4 in $5","User.mentions.comment":"$1 has mentioned you in a comment","Request.bug.reopened.min":"$2 re-opened a $1","Request.split.to.with.account.and.with.owner":"Spawned $1 from $2 | $3 was assigned to $4 in $5","Request.closed.without.account":"$2 from $3 was closed in $4","Request.response.received.with.account.min":"New Response received from $1 | $2","Request.updated.with.account":"$4 updated a $1 from $2 | $3 in $5","Task.update":"$2 updated a $1 in $3","Unassigned.Request.added.without.account":"New $1 received from $2 in $3","Request.closed.with.account.min":"$2 from $3 | $4 was closed","Request.reassigned.without.account":"$4 reassigned a $1 from $2 to $3 in $5","Request.pickedup.with.account.min":"$4 self-assigned a $1 from $2 | $3","Request.add.with.account":"$1 from $2 | $3 was assigned to $4 in $5","Comment.updated":"$1 updated a comment in $2","Request.split.to.without.account.and.without.owner":"$1 from $2 was spawned in $3","Request.resolution.deleted":"$1 has deleted a Resolution in $2","Task.add.min":"$3 assigned a new $1 to $2","Request.split.to.without.account.and.without.owner.min":"$1 from $2 was spawned","Request.response.sent.with.account":"$3 replied to $1 | $2 in $4","Request.split.to.with.account.and.with.owner.min":"Spawned $1 from $2 | $3 was assigned to $4","Comment.added.min":"$1 posted a comment","Request.response.received.without.account.min":"New Response received from $1","Request.restore.title.without.account":"$1 received from $2 in $3","Request.reopened.without.account.min":"$1 reopened a $2 from $3","Request.reopened.with.account":"$1 reopened a $2 from $3 | $4 in $5","Task.restore.title.min":"$2 was assigned with a $1","Task.reopened":"$2 re-opened a $1 in $3","Request.bug.closed.min":"$2 closed a $1","Request.response.received.without.account":"New Response received from $1 in $2","Request.resolution.added.min":"$1 has added a Resolution","Unassigned.Request.added.without.account.min":"New $1 received from $2","Request.resolution.deleted.min":"$1 has deleted a Resolution","Request.pickedup.without.account.min":"$3 self-assigned a $1 from $2 ","Request.pickedup.with.account":"$4 self-assigned a $1 from $2 | $3 in $5","Request.split.to.with.account.and.without.owner":"$1 from $2 | $3 was spawned in $4","Request.split.to.without.account.and.with.owner":"Spawned $1 from $2 was assigned to $3 in $4","Request.moved.min":"$4 moved a $1 from $3 to $2","Task.add":"$3 assigned a new $1 to $2 in $4","Survey.added.with.account":"$2 | $3 left a $4 rating for a $1 in $5","Request.split.to.without.account.and.with.owner.min":"Spawned $1 from $2 was assigned to $3","Request.closed.without.account.min":"$2 from $3 was closed","Request.updated.without.account.min":"$3 updated a $1 from $2","Survey.added.without.account.min":"$2 left a $3 rating for a $1","Comment.added":"$1 posted a comment in $2","Request.forwarded.min":"$2 forwarded a $1","Request.closed.with.account":"$2 from $3 | $4 was closed in $5","Unassigned.Request.added.with.account.min":"New $1 received from $2 | $3","Task.pickedup.min":"$2 self-assigned a $1","Status.update.message":"$1 has added a Status in $2","Status.update.message.min":"$1 has added a Status","Request.reopened.with.account.min":"$1 reopened a $2 from $3 | $4","Task.pickedup":"$2 self-assigned a $1 in $3","Request.reassigned.without.account.min":"$4 reassigned a $1 from $2 to $3","Request.resolution.added":"$1 has added a Resolution in $2","Task.owner.reassigned.min":"$3 reassigned a $1 to $2","Request.split.to.with.account.and.without.owner.min":"$1 from $2 | $3 was spawned","Request.response.received.with.account":"New Response received from $1 | $2 in $3","Survey.added.with.account.min":"$2 | $3 left a $4 rating for a $1","Request.restore.title.with.account.min":"$1 received from $2 | $3","Unassigned.Request.added.with.account":"New $1 received from $2 | $3 in $4","Request.resolution.modified.min":"Resolution updated by $1","Request.bug.reopened":"$2 re-opened a $1 in $3","Request.moved":"$4 moved a $1 from $3 to $2","Request.bug.closed":"$2 closed a $1 in $3","Task.reopened.min":"$2 re-opened a $1","Request.restore.title.without.account.min":"$1 received from $2","Request.splitted.min":"$3 has split a $1 from $2","Request.response.sent.with.account.min":"$3 replied to $1 | $2","Request.response.sent.without.account":"$2 replied to $1 in $3","Task.completed.min":"$1 completed a $2","Request.add.without.account":"$1 from $2 was assigned to $3 in $4","Request.ownerupdate.without.account":"$1 from $2 was assigned to $3 in $4","Request.updated.with.account.min":"$4 updated a $1 from $2 | $3","Task.owner.reassigned":"$3 reassigned a $1 to $2 in $4","Request.ownerupdate.with.account.min":"$1 from $2 | $3 was assigned to $4","Request.forwarded":"$2 forwarded a $1 in $3","Task.restore.title":"$2 was assigned with a $1 in $3","Request.resolution.modified":"Resolution updated by $1 in $2","Request.reassigned.with.account":"$5 reassigned a $1 from $2 | $3 to $4 in $6","Request.bug.added.min":"$2 added a $1","Request.response.sent.without.account.min":"$2 replied to $1","Survey.added.without.account":"$2 left a $3 rating for a $1 in $4","Request.splitted":"$3 has split a $1 from $2 in $4","Request.add.with.account.min":"$1 from $2 | $3 was assigned to $4","Request.reopened.without.account":"$1 reopened a $2 from $3 in $4"}},1319:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={LABEL_REQUEST:"LABEL_REQUEST",LABEL_REQUESTS:"LABEL_REQUESTS",LABEL_TASK:"LABEL_TASK",USER_NAME:"USER_NAME",ACTION_OWNER:"ACTION_OWNER",COMMENTED_BY:"COMMENTED_BY",RECORD_OWNER:"RECORD_OWNER",FROM_DEPARTMENT:"FROM_DEPARTMENT",TO_DEPARTMENT:"TO_DEPARTMENT",CONTACTS:"CONTACTS",ACCOUNTS:"ACCOUNTS",BUG_URL:"BUG_URL",DEPARTMENT:"DEPARTMENT",SURVEY_GOOD:"Good",SURVEY_OK:"OK",SURVEY_BAD:"Bad",COMMENTRANGE:"50"}},1456:function(e,t,o){"use strict";o.d(t,"b",function(){return h}),o.d(t,"g",function(){return g}),o.d(t,"f",function(){return _}),o.d(t,"d",function(){return v}),o.d(t,"c",function(){return C}),o.d(t,"e",function(){return b}),o.d(t,"a",function(){return w});var n=o(5),a=o.n(n),r=o(2),i=o.n(r),s=o(15),l=o(6),c=o(46),d=o(17),u=o(24),m=o(8),p=o(7),f=o(3);function h(){return{types:Object(l.m)("FEEDS_VIEWS_KEY"),callAPI:function(e){var t=Object(d.r)(e),o="";return o="allDepartment"==t?"departmentId=0":Object(c.a)(e),Object(s.a)("/api/v1/feed/viewKey?"+o,!1,{orgId:e.currentOrgId}).get().then(function(e){return{deptId:t,feedsViewKey:e}})}}}function g(e){return function(t,o){var n=Object(d.r)(o());return t({type:"UPDATE_FEED_VIEW",data:{view:e,deptId:n}})}}function _(e,t){return function(o,n){var a=Object(d.r)(n()),r=Object(p.normalize)(t,Object(p.schema)(f.L.FEEDS_L,{id:"fdk"}));return o({type:"FEEDS_SUCCESS",data:r=i()({},r,{viewKey:e,noData:t.noData,deptId:a,renderType:t.rendertype})})}}function v(e){return{types:Object(l.m)("POST_STATUS_MESSAGE"),callAPI:function(t){return Object(s.a)("/api/v1/feed/userStatus",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){return{res:e,entities:{},result:[]}})}}}function C(e){return function(t,o){var n=e.getAdditionalProperty("data")||{},a=m.f.getI18NValue("support.unable.to.process.your.request"),r=n.message||"InternalError";"Unknown_Module"===r||"InternalError"===r||"Unknown_Type"===r?a=m.f.getI18NValue("support.unable.to.process.your.request"):"Unauthorized"===r?a=m.f.getI18NValue("crm.security.error"):"Record_Deleted"===r?a=m.f.getI18NValue("crm.record.not.accessible.message"):"CommentEmpty"===r&&(a=m.f.getI18NValue("crm.field.empty.check",[m.f.getI18NValue("tabs.request.comment")])),t(Object(u.Q)({type:"alert",message:a}))}}function b(e,t,o){return function(n){return n({type:"REMOVE_FEED",data:{viewkey:e,fdk:t,deptId:o}})}}function w(e,t,o){return function(e,n){var r=n().module.feeds[t].comments.filter(function(e){return e.cfdk!=o});e({type:"REMOVE_FEED_COMMENT_DELETED_SUCCESS",data:{entities:{feeds:a()({},t,{comments:r})}}})}}},1457:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=(o(1),o(1458)),g=o.n(h),_=o(16),v=o(233),C=o.n(v),b=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(_.Container,{alignBox:"column",isCover:!1},f.a.createElement(_.Box,{className:g.a.stencilSec},f.a.createElement(_.Container,{alignBox:"row",className:g.a.stencil,isCover:!1},f.a.createElement(_.Box,null,f.a.createElement(C.a,{shape:"circle",size:"large",palette:"primary"})),f.a.createElement(_.Box,{flexible:!0,className:g.a.middle},f.a.createElement(_.Container,{alignBox:"row",isCover:!1},f.a.createElement(_.Box,{flexible:!0},f.a.createElement(C.a,{size:"default",palette:"primary"})),f.a.createElement(_.Box,{className:g.a.rgt},f.a.createElement(C.a,{size:"default",palette:"primary"}))),f.a.createElement(_.Box,{className:g.a.secondLIne},f.a.createElement(C.a,{size:"default",palette:"primary"})),f.a.createElement(_.Box,{className:g.a.secondLIne},f.a.createElement(C.a,{size:"default",palette:"primary"})),f.a.createElement(_.Box,{className:g.a.secondLIne},f.a.createElement(C.a,{size:"default",palette:"primary"}))))))}}]),t}(p.Component);t.a=b,b.propTypes={}},1458:function(e,t,o){e.exports={stencilSec:"Loading-module__stencilSec",stencil:"Loading-module__stencil",middle:"Loading-module__middle",secondLIne:"Loading-module__secondLIne",rgt:"Loading-module__rgt"}},1459:function(e,t,o){e.exports={feedTickContainer:"FeedLayer-module__feedTickContainer",notificationTickContainer:"FeedLayer-module__notificationTickContainer",feedLft:"FeedLayer-module__feedLft",feedRgt:"FeedLayer-module__feedRgt",feedArrow:"FeedLayer-module__feedArrow",vMore:"FeedLayer-module__vMore",displaying:"FeedLayer-module__displaying",arrgrey:"FeedLayer-module__arrgrey",arrwhite:"FeedLayer-module__arrwhite",latitle:"FeedLayer-module__latitle",notilatitle:"FeedLayer-module__notilatitle",closeArrow:"FeedLayer-module__closeArrow",backToHome:"FeedLayer-module__backToHome",commentHolder:"FeedLayer-module__commentHolder"}},1460:function(e,t,o){e.exports={feedTick:"FeedBody-module__feedTick",notifyTick:"FeedBody-module__notifyTick",userLft:"FeedBody-module__userLft",notifycont:"FeedBody-module__notifycont",dot:"FeedBody-module__dot common-module__dinblk common-module__posrel common-module__vtop",user:"FeedBody-module__user",text:"FeedBody-module__text",team:"FeedBody-module__team",cont:"FeedBody-module__cont",moreIcon:"FeedBody-module__moreIcon",rlySec:"FeedBody-module__rlySec",cmntTxt:"FeedBody-module__cmntTxt common-module__dotted common-module__oflow common-module__ellipsis",countTxt:"FeedBody-module__countTxt common-module__dotted common-module__oflow common-module__ellipsis",dateTxt:"FeedBody-module__dateTxt common-module__dotted common-module__oflow common-module__ellipsis",dueSection:"FeedBody-module__dueSection",dueIcon:"FeedBody-module__dueIcon",dueDate:"FeedBody-module__dueDate",timeCont:"FeedBody-module__timeCont",chanlIcon:"FeedBody-module__chanlIcon"}},1461:function(e,t,o){e.exports={container:"FeedPopContent-module__container",moreIcon:"FeedPopContent-module__moreIcon",popup:"FeedPopContent-module__popup",txt:"FeedPopContent-module__txt common-module__oflowy",closeIcn:"FeedPopContent-module__closeIcn"}},1462:function(e,t,o){e.exports={cmtSection:"FeedComment-module__cmtSection",AvaImg:"FeedComment-module__AvaImg",contArea:"FeedComment-module__contArea",attachCont:"FeedComment-module__attachCont",isNew:"FeedComment-module__isNew",popup:"FeedComment-module__popup",titleTxt:"FeedComment-module__titleTxt",priteTxt:"FeedComment-module__priteTxt common-module__dotted common-module__oflow common-module__ellipsis",cmtTxt:"FeedComment-module__cmtTxt",priThread:"FeedComment-module__priThread",dateTxt:"FeedComment-module__dateTxt common-module__dotted common-module__oflow common-module__ellipsis",downArrow:"FeedComment-module__downArrow",show:"FeedComment-module__show"}},1463:function(e,t,o){e.exports={feeddata:"AuthorPopup-module__feeddata",AvaImg:"AuthorPopup-module__AvaImg",popSec:"AuthorPopup-module__popSec",userTxt:"AuthorPopup-module__userTxt common-module__dotted common-module__oflow common-module__ellipsis",mailTxt:"AuthorPopup-module__mailTxt common-module__dotted common-module__oflow common-module__ellipsis",box:"AuthorPopup-module__box"}},1531:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1459),v=o.n(_),C=o(16),b=o(64),w=o.n(b),y=o(1460),E=o.n(y),I=o(1461),k=o.n(I),A=o(1175),T=o.n(A),S=o(63),N=o.n(S),x=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.content,o=e.toggleFeedPopup;return f.a.createElement("div",{className:k.a.container},f.a.createElement(T.a,{onmouseOver:this.handleMouseOver,isArrow:!0,position:"bottomLeft"},f.a.createElement(A.PopOverTarget,null,f.a.createElement("div",{className:k.a.moreIcon,onClick:o},f.a.createElement(N.a,{name:"more22",size:"15"}))),f.a.createElement(A.PopOverContainer,{left:"-20px"},f.a.createElement("div",{className:k.a.popup},f.a.createElement("div",{className:k.a.closeIcn},f.a.createElement(N.a,{name:"cross"})),f.a.createElement("div",{className:k.a.txt,dangerouslySetInnerHTML:{__html:t}})))))}}]),t}(p.Component),P=x;x.propTypes={content:g.a.string,toggleFeedPopup:g.a.func};var O=o(176),B=o.n(O),D=o(120),$=o.n(D),R=o(248),L=o(969),F=o(1168),M=o(8),j=(o(6),o(1266)),V=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.changeStatus=o.changeStatus.bind(o),o}return m()(t,e),l()(t,[{key:"changeStatus",value:function(e,t,o){var n={department:this.props.department};this.props.changeStatus(e,t,o,n)}},{key:"render",value:function(){var e=this.props,t=e.time,o=e.duedate,n=e.title,a=e.type,r=e.cont,i=e.cmdcount,s=(e.recordOwner,e.activityType),l=e.isClosed,c=e.isOnHold,d=e.isCompleted,u=e.haveCloseTicketPermission,m=e.haveMailSendPermission,p=e.haveTaskCreatePermission,h=e.toggleComment,g=e.fdk,_=e.moduleId,v=e.openTicketDv,b=e.openTicketTask,y=e.toggleFeedPopup,I=e.threadContent,k=e.isFromNotification,A=(e.timeZone,e.onholdtime),T=e.channel,S=e.threadStatus,N=e.threadObj,x=e.photourl,O=e.priority;A=A?M.f.userDateFormat(new Date(Number(A)).toISOString(),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}):null;var D=!1;o=o?M.f.userDateFormat(new Date(Number(o)).toISOString(),{},"lateby","left",!1,function(e){return"lateby"==e.suffix&&(D=!0),"DD MMM YYYY hh:mm A"}):null;var R="",V="";if("Request"==a){R=Object(j.b)(T,S),T=[0,1,5].includes(S)?T:N.channel;var q=N.isForward,z=N.status,K=N.isIncoming;q?(V="forward","Draft"==z&&(V="forwardDraft")):V="Draft"==z?"draft":K?"incoming":"outgoing",V=[0,1,5].includes(S)?"default":V}return T=T||"Phone",f.a.createElement(C.Container,{className:k?E.a.notifyTick:E.a.feedTick,alignBox:k?"row":"column"},k?f.a.createElement(C.Box,null,f.a.createElement(w.a,{src:x||"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",size:"xmedium"})):null,f.a.createElement(C.Box,{className:k?E.a.notifycont:"",flexible:!0},f.a.createElement(C.Container,{alignBox:"column"},f.a.createElement(C.Box,null,f.a.createElement(C.Container,{alignBox:"row"},f.a.createElement(C.Box,{className:E.a.userLft,flexible:!0},f.a.createElement("span",{className:E.a.text,dangerouslySetInnerHTML:{__html:n}})),"Request"==a?f.a.createElement(C.Box,{className:E.a.dueDate},k?null:f.a.createElement("span",null,c?f.a.createElement("div",{className:E.a.timeCont,"data-title":M.f.getI18NValue("support.label.onhold.time.duration",[A])},f.a.createElement("span",null,f.a.createElement($.a,{iconClass:"onholdIcon",name:"onHold",size:"12"})),f.a.createElement("span",{className:E.a.dueDate},A)):D?f.a.createElement("span",{className:E.a.dueSection,"data-title":M.f.getI18NValue("support.ticket.label.overduetime.info",[o])+(O&&""!=O?" - "+O:"")},f.a.createElement("span",{className:E.a.dueIcon},f.a.createElement(B.a,{name:"overdue2"})),f.a.createElement("span",{className:E.a.dueDate},o)):null),f.a.createElement("span",{className:E.a.chanlIcon,"data-title":M.f.getI18NValue(R)},f.a.createElement(L.a,{name:T.toUpperCase(),action:V,iconSize:"14",iconColor:"secondary"}))):null)),f.a.createElement(C.Box,null,f.a.createElement("div",{className:E.a.cont,dangerouslySetInnerHTML:{__html:r},onClick:function(){!k&&("Request"==a||"Ticket"==a?v(_):"Task"==a&&b(_))}}),"Request"==a||"Ticket"==a?k?f.a.createElement("div",null,"TELEPHONY"!=N.channel&&"TWILIO"!=N.channel||!I?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:I}}):f.a.createElement(F.a,{thread:{content:I}})):f.a.createElement("div",{className:E.a.moreIcon},f.a.createElement(P,{content:I,toggleFeedPopup:y})):null,f.a.createElement("div",{className:E.a.rlySec},f.a.createElement(M.d,{className:E.a.dateTxt,to:new Date(Number(t)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}),f.a.createElement("span",{className:E.a.dot},"."),"Request"==a||"Ticket"==a||"Task"==a||"Call"==a||"Event"==a||"StatusMessage"==a?f.a.createElement("span",null,f.a.createElement("span",null,f.a.createElement("span",{onClick:h},f.a.createElement("span",{className:E.a.cmntTxt},M.f.getI18NValue("tabs.request.comment")),i?f.a.createElement("span",{className:E.a.countTxt},"(",i,")"):null),"StatusMessage"!==a?f.a.createElement("span",{className:E.a.dot},"."):null),"Request"==a||"Ticket"==a?f.a.createElement("span",null,m&&!k?f.a.createElement("span",null,f.a.createElement("span",{className:E.a.cmntTxt,onClick:function(){v({isPeekView:!0,ticketId:_,needToOpenEditor:!0})}},M.f.getI18NValue("crm.button.reply")),f.a.createElement("span",{className:E.a.dot},".")):null,u?l||c?f.a.createElement("span",{className:E.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Request","reopen")},M.f.getI18NValue("support.feed.subactions.label.reopen")):f.a.createElement("span",{className:E.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Request","close")},M.f.getI18NValue("crm.label.close")):null):"Calls"!=s&&"Events"!=s||d?"Task"==a&&p?d?f.a.createElement("span",{className:E.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Task","reopen")},M.f.getI18NValue("support.feed.subactions.label.reopen")):f.a.createElement("span",{className:E.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Task","complete")},M.f.getI18NValue("support.complete.icon")):null:f.a.createElement("span",{className:E.a.cmntTxt},M.f.getI18NValue("support.complete.icon"))):null)))))}}]),t}(p.Component),q=V;V.propTypes={activityType:g.a.string,changeStatus:g.a.func,channel:g.a.string,cmdcount:g.a.string,cont:g.a.string,department:g.a.string,duedate:g.a.string,fdk:g.a.string,haveCloseTicketPermission:g.a.bool,haveMailSendPermission:g.a.bool,haveTaskCreatePermission:g.a.bool,isClosed:g.a.bool,isCompleted:g.a.bool,isFromNotification:g.a.bool,isOnHold:g.a.bool,moduleId:g.a.string,onholdtime:g.a.string,openTicketDv:g.a.func,openTicketTask:g.a.func,photourl:g.a.string,priority:g.a.string,recordOwner:g.a.string,threadContent:g.a.string,threadObj:g.a.object,threadStatus:g.a.number,time:g.a.string,timeZone:g.a.string,title:g.a.string,toggleComment:g.a.func,toggleFeedPopup:g.a.func,type:g.a.string};var z=o(1462),K=o.n(z),U=o(459),H=o(72),Z=o.n(H),W=o(80),G=o.n(W),Y=o(112),Q=o.n(Y),J=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={mode:"list"},o}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.comment,n=t.downloadAttachment,a=t.showAttachmentViewer,r=t.orgId,i=t.updateComment,s=t.deleteComment,l=t.uploadAttach,c=t.deleleUpload,d=t.isNew,u=t.togglePopup,m=t.isEditorLoaded,p=t.CommentBoxContainer,h=t.isPopupOpen,g=t.isPopupReady,_=t.position,v=t.getTargetRef,b=t.getContainerRef,y=this.state.mode,E=o.photourl,I=o.commentedby,k=o.cmdtime,A=o.cmtcont,T=o.attachments,S=void 0===T?[]:T;return"list"==y?f.a.createElement(C.Container,{className:K.a.cmtSection+" "+(d?K.a.isNew:""),alignBox:"row"},f.a.createElement(C.Box,{className:K.a.AvaImg},f.a.createElement(w.a,{src:E||null,size:"medium",name:I})),f.a.createElement(C.Box,{className:K.a.contArea,flexible:!0},f.a.createElement(C.Box,null,f.a.createElement(C.Container,{alignBox:"row"},f.a.createElement(C.Box,{flexible:!0},f.a.createElement("span",{className:K.a.titleTxt},I)),f.a.createElement(C.Box,{className:K.a.popup},f.a.createElement("span",{className:K.a.downArrow+" "+(h?K.a.show:""),onClick:u,ref:v},f.a.createElement(N.a,{name:"down1"})),h?f.a.createElement(Z.a,{size:"mini",arrowPosition:"end",arrowTop:"-17",arrowRight:"48",isAnimate:!0,boxPosition:_,isActive:g,getRef:b},f.a.createElement(Q.a,{value:M.f.getI18NValue("crm.label.edit"),onClick:function(){e.setState({mode:"edit"})},autoHover:!0}),f.a.createElement(Q.a,{value:M.f.getI18NValue("support.permission.delete.comment"),onClick:s.bind(this,o.cfdk),autoHover:!0})):null))),f.a.createElement("div",{className:K.a.cmtTxt,dangerouslySetInnerHTML:{__html:A}}),S&&S.length?f.a.createElement("div",{className:K.a.attachCont},f.a.createElement(U.a,{data:S,downloadAttachment:n,showAttachmentViewer:a,orgId:r})):null,f.a.createElement("div",{className:K.a.priThread},f.a.createElement(R.a,{wrap:!0},f.a.createElement("span",{className:K.a.priteTxt},o.is_public?M.f.getI18NValue("support.request.public.comment"):M.f.getI18NValue("support.request.private.comment")),f.a.createElement(M.d,{className:K.a.dateTxt,to:new Date(Number(k)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}))))):m?f.a.createElement(p,{from:"feeds",id:o.cfdk,type:"edit",attachments:S,value:A,orgId:r,closeComment:function(){e.setState({mode:"list"})},uploadAttach:l,deleleUpload:c,updateComment:function(t,n,a,r,s,l){i(o.cfdk,t,n,a,r,s,function(){e.setState({mode:"list"}),l&&l()})},showAttachmentViewer:a}):null}}]),t}(p.Component);J.propTypes={CommentBoxContainer:g.a.node,comment:g.a.object,deleleUpload:g.a.func,deleteComment:g.a.func,downloadAttachment:g.a.func,getContainerRef:g.a.func,getTargetRef:g.a.func,isEditorLoaded:g.a.func,isNew:g.a.bool,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,orgId:g.a.string,position:g.a.string,showAttachmentViewer:g.a.func,togglePopup:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func};var X=G()(J),ee=o(1463),te=o.n(ee),oe=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,n=e.email;return f.a.createElement(C.Container,{className:te.a.feeddata,alignBox:"row"},f.a.createElement(C.Box,{className:te.a.AvaImg},f.a.createElement(w.a,{needTitle:!1,src:t,size:"large",name:o,shape:"square"})),f.a.createElement(C.Box,{className:te.a.popSec,flexible:!0},f.a.createElement("div",{className:te.a.userTxt,"data-title":o},o),f.a.createElement("div",{className:te.a.mailTxt,"data-title":n},n)))}}]),t}(p.Component),ne=oe;oe.propTypes={email:g.a.string,name:g.a.string,src:g.a.string};var ae=function(e){function t(e){i()(this,t);var o=d()(this,(t.__proto__||a()(t)).call(this,e));return o.state={threadContent:o.props.feed.threadContent,isCommentOpen:!!o.props.feed.cmdcount},o.toggleComment=o.toggleComment.bind(o),o.toggleFeedPopup=o.toggleFeedPopup.bind(o),o.postComment=o.postComment.bind(o),o.deleteComment=o.deleteComment.bind(o),o.updateComment=o.updateComment.bind(o),o}return m()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.feed.threadContent!==e.feed.threadContent){var t=e.feed.threadContent;t=""===t?M.f.getI18NValue("support.label.threads.nocontent"):t,this.setState({threadContent:t})}this.props.feed.cmdcount!==e.feed.cmdcount&&this.setState({isCommentOpen:!!e.feed.cmdcount})}},{key:"toggleComment",value:function(){this.setState({isCommentOpen:!this.state.isCommentOpen})}},{key:"postComment",value:function(e,t,o){var n=this.props.feed,a=e.content,r=e.isPublic,i=e.attachmentIds,s={};s.value=a,s.department=n.department,s.attachmentIds=i.toString(),"Request"==n.type?(s.isPublic=r,this.props.postComment(n.fdk,"Request","comment",s,n.viewkey).then(function(){o()})):"Task"==n.type?this.props.postComment(n.fdk,"Task","comment",s,n.viewkey).then(function(){o()}):"StatusMessage"==n.type&&this.props.postComment(n.fdk,"StatusMessage","comment",s,n.viewkey).then(function(){o()})}},{key:"updateComment",value:function(e,t,o,n,a,r,i){var s=this.props.feed,l={};if(o=encodeURIComponent(o),l.value=o,l.department=s.department,l.cfdk=e,l.fdk=s.fdk,n.length){var c="";n.forEach(function(e,t){c+=0==t?e:","+e}),l.attachmentIds=c}"Request"==s.type?(l.module="Cases",this.props.updateComment(s.fdk,"Request","editComment",l,s.viewkey).then(function(){i()})):"Task"==s.type?(l.module="Tasks",this.props.updateComment(s.fdk,"Task","editComment",l,s.viewkey).then(function(){i()})):"StatusMessage"==s.type&&(l.module="Direct Message",this.props.updateComment(s.fdk,"StatusMessage","editComment",l,s.viewkey).then(function(){i()}))}},{key:"toggleFeedPopup",value:function(){var e=this.props,t=e.feed,o=e.toggleFeedPopup;this.state.threadContent||this.setState({threadContent:"Loading..."}),o(t.seid,t.fdk)}},{key:"deleteComment",value:function(e){var t=this.props,o=t.feed,n=t.deleteComment,a={};a.department=o.department,a.cfdk=e,a.fdk=o.fdk,"Request"==o.type?(a.module="Cases",n(o.fdk,"Request","deleteComment",a)):"Task"==o.type?(a.module="Tasks",n(o.fdk,"Task","deleteComment",a)):"StatusMessage"==o.type&&(a.module="Direct Message",n(o.fdk,"StatusMessage","deleteComment",a))}},{key:"render",value:function(){var e=this,t=this.props,o=t.feed,n=t.haveCloseTicketPermission,a=t.haveMailSendPermission,r=t.haveTaskCreatePermission,i=t.changeStatus,s=t.openTicketDv,l=t.openTicketTask,c=t.downloadAttachment,d=t.uploadAttach,u=(t.deleleUpload,t.showAttachmentViewer),m=t.viewAllComment,p=t.orgId,h=t.isFromNotification,g=t.deptId,_=t.isSingleFeed,b=t.backToHome,y=t.isEditorLoaded,E=t.feedId,I=t.timeZone,k=t.CommentBoxContainer,S=this.state,x=S.isCommentOpen,P=S.threadContent;return f.a.createElement(C.Container,{className:h?v.a.notificationTickContainer:v.a.feedTickContainer,alignBox:"column",scroll:h?"both":null},_?f.a.createElement(C.Box,{className:v.a.backToHome,onClick:b},""," ",M.f.getI18NValue("support.label.zohosupport.home")):null,h?f.a.createElement("span",{className:v.a.closeArrow},f.a.createElement(N.a,{name:"cross"})):null,o.latitle?f.a.createElement(C.Box,{dangerouslySetInnerHTML:{__html:h||"allDepartment"==g?o.laplaintitle:o.lamintitle},className:h?v.a.notilatitle:v.a.latitle}):null,f.a.createElement(C.Box,null,f.a.createElement(C.Container,{alignBox:"row"},h?null:f.a.createElement(C.Box,{className:v.a.feedLft},f.a.createElement(T.a,{onmouseOver:function(){},size:"large",boxPosition:"bottomRight"},f.a.createElement(A.PopOverTarget,null,f.a.createElement(w.a,{name:o.name||"Sridhar",src:o.photourl,size:"xmedium",needTitle:!1})),f.a.createElement(A.PopOverContainer,null,f.a.createElement("div",null,f.a.createElement(ne,{src:o.photourl||"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",name:o.name||"Sridhar",email:o.email||"sridhar.parthsarathy@zohocorp.com"}))))),f.a.createElement(C.Box,{className:h?"":v.a.feedRgt,flexible:!0},h?null:f.a.createElement("div",{className:v.a.feedArrow},f.a.createElement("div",{className:v.a.arrgrey}),f.a.createElement("div",{className:v.a.arrwhite})),f.a.createElement(C.Box,null,f.a.createElement(q,{type:o.type,title:"allDepartment"==g?o.title:o.mintitle,moduleId:o.seid,cont:o.cont,cmdcount:o.comments.length,recordOwner:o.recordOwner,activityType:o.activityType,isCompleted:o.isCompleted,isClosed:o.isClosed,isOnHold:o.isOnHold,onholdtime:o.onholdtime,haveCloseTicketPermission:n,haveMailSendPermission:a,haveTaskCreatePermission:r,toggleComment:this.toggleComment,changeStatus:function(e,t,n,a){i(e,t,n,a,o.viewkey)},fdk:o.fdk,department:o.department,openTicketDv:s,openTicketTask:l,toggleFeedPopup:this.toggleFeedPopup,threadContent:P||o.threadContent,duedate:o.duedate,time:o.time,isFromNotification:h,timeZone:I,channel:o.channel,threadStatus:o.threadStatus,threadObj:o.threadObj,photourl:o.photourl,priority:o.priority})),x?f.a.createElement("div",null,(o.cmore||o.displayingCmt)&&o.comments.length?f.a.createElement("div",{className:o.cmore?v.a.vMore:v.a.displaying,onClick:function(){var e=o.skey,t=o.fdk,n=o.cmore,a=o.viewkey;m(e,t,n,a)}},o.cmore?M.f.getI18NValue("support.zti.viewall"):M.f.getI18NValue("support.comment.display.all")):null,o.cmdcount?o.comments.map(function(t,n){return f.a.createElement(X,{key:n,comment:t,isEditorLoaded:y,downloadAttachment:c,showAttachmentViewer:u,orgId:p,updateComment:e.updateComment,deleteComment:e.deleteComment,uploadAttach:d,deleleUpload:d,isNew:"push"==o.rendertype&&"comment"==o.latype&&o.comments.length==n+1,timeZone:I,CommentBoxContainer:k})}):null,y?f.a.createElement("div",{className:v.a.commentHolder},f.a.createElement(k,{id:E,from:"feeds",orgId:p,downloadAttachment:c,uploadAttach:d,deleleUpload:d,showAttachmentViewer:u,addComment:this.postComment,needAttachment:"StatusMessage"!=o.type})):null):null))))}}]),t}(p.Component);t.a=ae;ae.propTypes={CommentBoxContainer:g.a.node,backToHome:g.a.func,changeStatus:g.a.func,deleleUpload:g.a.func,deleteComment:g.a.func,deptId:g.a.string,downloadAttachment:g.a.func,feed:g.a.object,feedId:g.a.string,haveCloseTicketPermission:g.a.bool,haveMailSendPermission:g.a.bool,haveTaskCreatePermission:g.a.bool,isEditorLoaded:g.a.bool,isFromNotification:g.a.bool,isSingleFeed:g.a.bool,openTicketDv:g.a.func,openTicketTask:g.a.func,orgId:g.a.string,postComment:g.a.func,showAttachmentViewer:g.a.func,timeZone:g.a.string,toggleFeedPopup:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func,viewAllComment:g.a.func}},1706:function(e,t,o){e.exports={container:"FeedContainer-module__container",topHeader:"FeedContainer-module__topHeader",box:"FeedContainer-module__box",pageUp:"FeedContainer-module__pageUp",loadingCont:"FeedContainer-module__loadingCont",loadingWithBtn:"FeedContainer-module__loadingWithBtn",endLoad:"FeedContainer-module__endLoad"}},1707:function(e,t,o){e.exports={container:"FeedTitle-module__container",topHeader:"FeedTitle-module__topHeader",titleTxt:"FeedTitle-module__titleTxt",downIcon:"FeedTitle-module__downIcon",fpopTitle:"FeedTitle-module__fpopTitle common-module__dotted common-module__oflow common-module__ellipsis"}},1708:function(e,t,o){e.exports={fnodata:"EmptyPage-module__fnodata",title:"EmptyPage-module__title",fnodatadiv:"EmptyPage-module__fnodatadiv"}},1709:function(e,t,o){e.exports={header:"PostStatusBox-module__header",AvaImg:"PostStatusBox-module__AvaImg",feedSec:"PostStatusBox-module__feedSec",txtAreaSection:"PostStatusBox-module__txtAreaSection",txtArea:"PostStatusBox-module__txtArea",feedArrow:"PostStatusBox-module__feedArrow",arrgrey:"PostStatusBox-module__arrgrey",arrwhite:"PostStatusBox-module__arrwhite",dropTitle:"PostStatusBox-module__dropTitle",titleTxt:"PostStatusBox-module__titleTxt",downIcon:"PostStatusBox-module__downIcon",subButton:"PostStatusBox-module__subButton",attachHolderVisi:"PostStatusBox-module__attachHolderVisi",attachHolder:"PostStatusBox-module__attachHolder",directMsg:"PostStatusBox-module__directMsg"}},1710:function(e,t,o){e.exports={container:"StatusBoxFooter-module__container common-module__alignVertical",attchIcn:"StatusBoxFooter-module__attchIcn",iconCloud:"StatusBoxFooter-module__iconCloud",editTxt:"StatusBoxFooter-module__editTxt",departSection:"StatusBoxFooter-module__departSection",dropTitle:"StatusBoxFooter-module__dropTitle",directTxt:"StatusBoxFooter-module__directTxt",messageSection:"StatusBoxFooter-module__messageSection",departmentTxt:"StatusBoxFooter-module__departmentTxt",downIcon:"StatusBoxFooter-module__downIcon",searchList:"StatusBoxFooter-module__searchList"}},174:function(e,t,o){"use strict";o.d(t,"c",function(){return s}),o.d(t,"e",function(){return l}),o.d(t,"d",function(){return c}),o.d(t,"j",function(){return d}),o.d(t,"n",function(){return u}),o.d(t,"o",function(){return m}),o.d(t,"k",function(){return p}),o.d(t,"i",function(){return f}),o.d(t,"g",function(){return g}),o.d(t,"h",function(){return _}),o.d(t,"a",function(){return v}),o.d(t,"l",function(){return b}),o.d(t,"b",function(){return w}),o.d(t,"m",function(){return y}),o.d(t,"f",function(){return E});var n=o(11),a=o.n(n),r=o(177),i=o(8);function s(e){var t=c(e),o=Object(r.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"filePicture";case"txt":case"rtf":return"fileText2";case"pdf":return"filePdf";case"html":case"htm":case"xhtml":return-1!==o.indexOf("chrome")||-1!==o.indexOf("safari")?"chrome":-1!==o.indexOf("ie")||-1!==o.indexOf("edge")?"ie":"firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ppt";case"rar":case"jar":case"zip":return"zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"fileOpenoffice":"fileWord";case"xml":return"xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"fileExcel";case"ics":return"ics";case"exe":return"exe";case"sh":case"bin":return"sh2";case"css":return"css52";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"fileVideo";default:return"unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return-1!=="jpeg|jpg|png|gif|bmp|ico".indexOf(t)}function u(e,t){var o={inValidArray:[],validArray:[]};if(t+e.length>10)return o.isCountExceeds=!0,o;for(var n=0;n<e.length;n++){var a=e[n],r=a.name,i=a.size;p(r)?o.inValidArray.push({isUnSupported:!0}):f(r)?o.inValidArray.push({isFileNameSizeInvalid:!0}):0===a.size?o.inValidArray.push({isEmpty:!0}):h(i)?o.inValidArray.push({isAttachSizeExceeded:!0}):o.validArray.push(a)}return o}function m(e,t,o){if(t+e.length>10)alert(i.f.getI18NValue("support.attachments.count.exceeds",[10]));else for(var n=0;n<e.length;n++){var a=e[n],r=a.name,s=a.size;if(p(r))alert(i.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(r))alert(i.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==a.size)if(h(s))alert(i.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var l=new FormData;l.append("file",a),o&&o(l)}else alert(i.f.getI18NValue("support.request.empty.attachment.message"))}}function p(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function h(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function _(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function v(e,t,o){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&d(e.name)}),n.previewData.filter(function(t,o){t.id===e&&(n.selectedIndex=o)}),o&&o(n)}function C(e,t,o){var n=e.indexOf("/api"),a=e;return n>-1&&(a=e.slice(n,e.length),a+="?orgId="+t+(o?"&inline=true":"")),a}function b(e,t){window.open(C(e,t,!0))}function w(e,t){window.location.href=C(e,t,!1)}function y(e,t,o,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],u=0;if(n&&l>n-o){var m=i.f.getI18NValue("support.attachments.count.exceeds",[n]);return a.a.resolve({isError:!0,errorI18N:m})}for(var h=0;h<l;h++){var g=e[h],_=g||{},v=_.size,C=void 0===v?0:v,b=_.name,w=void 0===b?"":b;if(u+=C,p(w)){var y=i.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:y,fileName:w,errorType:"fileType"})}else if(f(w)){var E=i.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:E,fileName:w,errorType:"fileNameSize"})}else if(0===C){var I=i.f.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:I,fileName:w,errorType:"emptyFile"})}else d.push(g)}if(!d.length){if(1===c.length){var k=c[0].errorI18N;return a.a.resolve({isError:!0,errorI18N:k})}var A=i.f.getI18NValue("support.unable.to.process.your.request");return a.a.resolve({isError:!0,errorI18N:A})}if(0===u){var T=i.f.getI18NValue("support.request.empty.attachment.message");return a.a.resolve({isError:!0,errorI18N:T})}if(u+s>1024*r*1024){var S=i.f.getI18NValue("support.attachments.size.limit.exceeds",[r]);return a.a.resolve({isError:!0,errorI18N:S})}for(var N=[],x=[],P=[],O=function(e){var o=d[e];if(t){var n=new FormData;n.append("file",o);var a=t(n).then(function(e){var t=(e.data||{}).data,o=void 0===t?{}:t,n=o.id;n&&(N.push(o),x.push(n))},function(e){var t=o.name,n=i.f.getI18NValue("support.unable.to.process.your.request");throw c.push({errorI18N:n,fileName:t,errorType:"apiError"}),e});P.push(a)}},B=0;B<d.length;B++)O(B);var D={uploadFiles:N,inValidFiles:c,isError:!1,uploadFileIds:x};return a.a.all(P).then(function(){return D},function(){return N.length?D:{isError:!0,errorI18N:i.f.getI18NValue("support.unable.to.process.your.request")}})}function E(e,t){var o=e.name;return{index:t,isPreview:!0,size:e.size,name:o,href:URL.createObjectURL(e)}}},233:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=s(o(0)),r=s(o(1)),i=s(o(527));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.shape,o=e.size,n=e.palette;return o="rect"===t?i.default[o]:i.default["c"+o],t="rect"===t?i.default.rectangular:i.default.circle,a.default.createElement("div",{className:t+" "+o+" "+i.default[n]})}}]),t}();t.default=l,l.propTypes={palette:r.default.oneOf(["primary","secondary"]),shape:r.default.oneOf(["rect","circle"]),size:r.default.oneOf(["small","medium","large","default"])},l.defaultProps={palette:"primary",shape:"rect",size:"medium"},l.propTypesDescription={shape:" ",size:" ",palette:" "}},459:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(122),v=o.n(_),C=o(176),b=o.n(C),w=o(120),y=o.n(w),E=o(174),I=o(109),k=o(8),A=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.data,n=t.orgId,a=t.showAttachmentViewer,r=t.size,i=t.neNeedToDownload,s=t.dataId,l=Object(E.g)(o);return f.a.createElement("div",null,f.a.createElement("div",{className:v.a.AttachCount,"data-id":s},f.a.createElement("span",{className:v.a.mr6},o.length),f.a.createElement("span",null,f.a.createElement(k.c,{i18NKey:"label.attachments"})),f.a.createElement("span",{className:v.a.ml6},"(",Object(E.e)(l),")")),o.map(function(t,s){var l=Object(E.j)(t.name);return f.a.createElement("div",{className:v.a.docspan,key:s,onClick:i?null:l?E.a.bind(e,t.id,o,function(e){a(e)}):E.l.bind(e,t.viewUrl?t.viewUrl:t.href,n),"data-id":1===o.length?"threadAttch":"threadAttch_"+s},f.a.createElement("span",{className:v.a.attachment+" "+v.a[r]},f.a.createElement("div",{className:v.a.attachleft},f.a.createElement(b.a,{name:Object(E.c)(t.name),size:"20"})),f.a.createElement("div",{className:v.a.attachright},f.a.createElement("span",{className:v.a.atatchName},t.name),f.a.createElement("span",{className:v.a.attachSize},Object(E.e)(t.size))),i?null:f.a.createElement(I.a,{onClick:e.props.downloadAttachment.bind(e,t.downloadUrl?t.downloadUrl:t.href),target:"_blank",className:v.a.attachDownload},f.a.createElement(y.a,{name:"downloadNew",size:"medium"==r?"14":"13",color:"pure"}))))}))}}]),t}(f.a.Component);t.a=A,A.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},A.defaultProps={size:"medium"}},527:function(e,t,o){e.exports={stencil:"Stencils-module__stencil",placeHolderShimmer:"Stencils-module__placeHolderShimmer",rectangular:"Stencils-module__rectangular Stencils-module__stencil",primary:"Stencils-module__primary",secondary:"Stencils-module__secondary",small:"Stencils-module__small",default:"Stencils-module__default",medium:"Stencils-module__medium",large:"Stencils-module__large",circle:"Stencils-module__circle Stencils-module__stencil",clarge:"Stencils-module__clarge",cmedium:"Stencils-module__cmedium",cdefault:"Stencils-module__cdefault",csmall:"Stencils-module__csmall"}},617:function(e,t,o){"use strict";o.r(t);var n=o(11),a=o.n(n),r=o(12),i=o.n(r),s=o(9),l=o.n(s),c=o(10),d=o.n(c),u=o(13),m=o.n(u),p=o(14),f=o.n(p),h=o(0),g=o.n(h),_=o(1),v=o.n(_),C=o(26),b=o(16),w=o(1706),y=o.n(w),E=o(159),I=o.n(E),k=o(1456),A=o(253),T=o(24),S=o(100),N=o(74),x=o(242),P=o(17),O=o(1457),B=o(1707),D=o.n(B),$=o(63),R=o.n($),L=o(72),F=o.n(L),M=o(8),j=o(80),V=o.n(j),q=o(112),z=o.n(q),K=function(e){function t(e){l()(this,t);var o=m()(this,(t.__proto__||i()(t)).call(this,e));return o.state={selectedView:"support.setup.label.allusers",viewsList:[{key:"support.setup.label.allusers",value:"allFeeds"},{key:"support.feed.view.openrequest",value:"openRequestsFeeds"},{key:"support.feed.view.allstatus",value:"statusMessageFeeds"}]},o.handleTogglePopup=o.handleTogglePopup.bind(o),o.onSelect=o.onSelect.bind(o),o}return f()(t,e),d()(t,[{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,"bottomRight")}},{key:"onSelect",value:function(e){this.setState({selectedView:e.key}),this.props.onViewChange(e.value)}},{key:"render",value:function(){var e=this,t=this.props,o=t.isPopupOpen,n=t.isPopupReady,a=t.getTargetRef,r=t.getContainerRef,i=t.moduleMeta,s=t.position,l=this.state,c=l.selectedView,d=l.viewsList;return g.a.createElement(b.Box,{className:D.a.container},g.a.createElement("span",{className:D.a.topHeader,ref:a,onClick:this.handleTogglePopup},g.a.createElement("span",{className:D.a.titleTxt},M.f.getI18NValue(c,[i.tickets.pluralLabel])),g.a.createElement("span",{className:D.a.downIcon},g.a.createElement(R.a,{name:"down"})),o?g.a.createElement(F.a,{isArrow:!0,size:"small",top:"18",left:"0",isAnimate:!0,isActive:n,getRef:r,boxPosition:s},d.map(function(t,o){return t.key!=c&&g.a.createElement(z.a,{value:M.f.getI18NValue(t.key,[i.tickets.pluralLabel]),onClick:e.onSelect.bind(e,t),autoHover:!0})})):null))}}]),t}(h.Component);K.propTypes={getContainerRef:v.a.func,getTargetRef:v.a.func,isPopupOpen:v.a.bool,isPopupReady:v.a.bool,moduleMeta:v.a.object,position:v.a.string,selectedView:v.a.string,togglePopup:v.a.func};var U=V()(K),H=o(1708),Z=o.n(H),W=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||i()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){return g.a.createElement("div",{className:Z.a.fnodata},g.a.createElement("div",{className:Z.a.title},M.f.getI18NValue("support.feed.empty.title")),g.a.createElement("div",{className:Z.a.fnodatadiv},M.f.getI18NValue("support.feed.empty.detail")))}}]),t}(h.Component);var G=o(1531),Y=o(1155),Q=o(131),J=o(6),X=o(956),ee=(o(22),o(5)),te=o.n(ee),oe=o(1709),ne=o.n(oe),ae=(o(235),o(73)),re=o.n(ae),ie=o(64),se=o.n(ie),le=o(1710),ce=o.n(le),de=o(30),ue=o(306),me=function(e){function t(e){return l()(this,t),m()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.currentDepartment,o=e.departments,n=e.onSelectDepartment,a=e.toggleTools,r=e.postStatus,i=e.actionStatus;return g.a.createElement(b.Box,null,g.a.createElement(b.Container,{alignBox:"row",className:ce.a.container},g.a.createElement(b.Box,{flexible:!0},g.a.createElement("span",{className:ce.a.attchIcn},g.a.createElement(de.TopbandFontIcon,{name:"attachment5",size:"14"})),g.a.createElement("span",{className:ce.a.iconCloud},g.a.createElement(de.TopbandFontIcon,{name:"cloudIcon",size:"12"})),g.a.createElement("span",{className:ce.a.editTxt,onClick:a},"A")),g.a.createElement(b.Box,{className:ce.a.departSection},g.a.createElement(ue.a,{fromFeeds:!0,departments:o,currentDepartment:t.name,onSelect:n,keyName:"name"})),g.a.createElement(b.Box,{className:ce.a.departSection},g.a.createElement(re.a,{onClick:r,text:M.f.getI18NValue("crm.button.submit"),palette:"primaryFilled",status:i}))))}}]),t}(g.a.Component),pe=me;me.propTypes={actionStatus:v.a.string,currentDepartment:v.a.object,departments:v.a.array,onSelectDepartment:v.a.func,postStatus:v.a.func,toggleTools:v.a.func};var fe=o(947),he=o.n(fe),ge=o(1019),_e=o(204),ve=o(3),Ce=o(1004),be=o(1081),we=o(1028),ye=function(e){function t(e){l()(this,t);var o=m()(this,(t.__proto__||i()(t)).call(this,e)),n={},a=o.props,r=a.currentDepartment,s=a.departments;return n="allDepartment"!=r.id?r:s[0],o.state={selectedDepartment:n,actionStatus:"none",showTools:be.a.getItem("showCommentTools"),haveMentions:!1,isDirectMsgChecked:!1},o.postStatus=o.postStatus.bind(o),o.onSelectDepartment=o.onSelectDepartment.bind(o),o.toggleTools=o.toggleTools.bind(o),o.onContentChange=o.onContentChange.bind(o),o.toogleDirectMsg=o.toogleDirectMsg.bind(o),o.handleError=o.handleError.bind(o),o}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;Object(_e.a)(ve.j,"js","ZohoDeskEditor").then(function(){e.setState({isEditorLoaded:!0})})}},{key:"onSelectDepartment",value:function(e,t){this.setState({selectedDepartment:t.name})}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?be.a.setItem("showCommentTools",!0):be.a.setItem("showCommentTools",!1)})}},{key:"onContentChange",value:function(){var e=this;setTimeout(function(){var t=editor.PostBox;t.mentionsList&&e.setState({haveMentions:!!t.mentionsList.length})})}},{key:"toogleDirectMsg",value:function(e){this.setState({isDirectMsgChecked:e})}},{key:"postStatus",value:function(){var e=this,t=editor.PostBox,o=t.mentionsHandler("val");o=encodeURIComponent(o);var n=this.props,a=n.showConfirmBox,r=n.postStatus;if(!Object(we.d)(t))if(o.length>3e3)a({type:"alert",submitText:M.f.getI18NValue("crm.button.ok"),title:M.f.getI18NValue("support.history.operation.label.wfalert"),message:M.f.getI18NValue("maxlenmsg"),isActive:!0,palette:"danger"});else{var i=this.state,s=i.isDirectMsgChecked,l=i.selectedDepartment,c=t.mentionsList;if(!s||c.length){var d={accessFrom:"WEB",message:o,isPrivate:s,departmentId:l.id};this.setState({actionStatus:"loading"}),r(d).then(function(o){"success"==o.data.res.status?(t.setContent(""),e.setState({actionStatus:"done",isDirectMsgChecked:!1},function(){setTimeout(function(){e.setState({actionStatus:"none"})},1e3)})):(e.handleError(M.f.getI18NValue("support.unable.to.process.your.request")),e.setState({actionStatus:"none"}))},function(){e.handleError(M.f.getI18NValue("support.unable.to.process.your.request")),e.setState({actionStatus:"none"})})}else a({type:"alert",submitText:M.f.getI18NValue("crm.button.ok"),title:M.f.getI18NValue("support.history.operation.label.wfalert"),message:M.f.getI18NValue("support.feed.nomentions.error.msg"),isActive:!0,palette:"danger"})}}},{key:"handleError",value:function(e){this.props.showMessage({type:"alert",message:e})}},{key:"render",value:function(){var e=this.props,t=e.photoURL,o=e.name,n=e.departments,a=e.isAcsInit,r=e.getAutofillContacts,i=this.state,s=i.selectedDepartment,l=i.actionStatus,c=i.isEditorLoaded,d=i.showTools,u=i.haveMentions,m=i.isDirectMsgChecked,p=te()({handleAutoFill:!0,needEditorFocus:"feeds"!=this.props.from,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:null,handleInlineDropImage:null,contentChanged:this.onContentChange},"getAutofillContacts",r);return g.a.createElement(b.Container,{className:ne.a.header,alignBox:"row"},g.a.createElement(b.Box,{className:ne.a.AvaImg},g.a.createElement(se.a,{imgSrc:t,name:o,size:"xmedium"})),c?g.a.createElement(b.Box,{className:ne.a.feedSec+" statusArea "+(d?"":"hideTools")+" ",flexible:!0},g.a.createElement(b.Container,{alignBox:"column",className:ne.a.txtAreaSection},g.a.createElement(b.Box,{className:ne.a.txtArea},g.a.createElement("div",{className:ne.a.feedArrow},g.a.createElement("div",{className:ne.a.arrgrey}),g.a.createElement("div",{className:ne.a.arrwhite})),g.a.createElement(Ce.a,{id:"PostBox",editorMode:"CommentEditor",editorOptions:p})),u||m?g.a.createElement(b.Box,{className:ne.a.directMsg},g.a.createElement(he.a,{id:"directMsg",onChange:this.toogleDirectMsg,text:M.f.getI18NValue("support.feed.send.as.direct.message"),labelSize:"small",checked:m})):null,g.a.createElement(b.Box,{className:ne.a.attachHolder+" "+(d?ne.a.attachHolderVisi:"")},g.a.createElement(ge.a,{oldAttachments:[],newAttachments:[],orgId:"10521561",deleleUpload:function(){},removeAttachment:function(){},showAttachmentViewer:function(){}})),a?g.a.createElement(b.Box,null,g.a.createElement(pe,{currentDepartment:s,departments:n,onSelectDepartment:this.onSelectDepartment,toggleTools:this.toggleTools,postStatus:this.postStatus,actionStatus:l})):null)):null)}}]),t}(h.Component),Ee=ye;ye.propTypes={currentDepartment:v.a.object,departments:v.a.array,getAutofillContacts:v.a.func,isAcsInit:v.a.bool,name:v.a.string,photoURL:v.a.string,postStatus:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func};var Ie=function(e){function t(e){l()(this,t);var o=m()(this,(t.__proto__||i()(t)).call(this,e));return o.state={from:0,limit:25},o.getAutofillContacts=Object(Q.a)(o.getAutofillContacts.bind(o),100,!0),o.getMentions=o.getMentions.bind(o),o}return f()(t,e),d()(t,[{key:"getAutofillContacts",value:function(e,t,o){var n=this,a=this.props,r=a.deptId,i=a.teamsList,s=a.getTeamsList;i.length?this.getMentions(e,t,o):s(r).then(function(){n.getMentions(e,t,o)})}},{key:"getMentions",value:function(e,t,o){var n=this,a=this.props,r=a.deptId,i=a.getAgentsList,s=a.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?s(e,c,d).then(function(e){console.log("res",e)}):(this.invokeMentionsCallback(t,o),i(r,c,d).then(function(){n.invokeMentionsCallback(t,o)}))}},{key:"invokeMentionsCallback",value:function(e,t){for(var o=this.props,n=o.agentsObject,a=o.teamsObject,r=o.agentsList,i=o.teamsList,s=r?r.map(function(e){return n[e]}):[],l=i.map(function(e){return a[e]}),c=s.concat(l),d=25*(e-1),u=d+25,m=[],p=0;p<c.length;p++){var f=c[p],h=f.id,g=f.zuid,_=f.name,v=f.isConfirmed,C=f.photoURL,b=f.firstName,w=f.lastName;if(f.subTeams){var y={id:h,name:_,value:_,type:"team",team:Object(J.u)(_)};m.push(y)}else if(v){var E={id:g,userId:h,avatar:C||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(J.e)(b,w),value:_,type:"user"};m.push(E)}}m.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),m=m.slice(d,u);var I={};I.results=m,I.isMore=m.length>0,t(I)}},{key:"render",value:function(){var e=this.props,t=e.name,o=e.photoURL,n=e.departments,a=e.currentDepartment,r=e.postStatus,i=e.showMessage,s=e.isAcsInit,l=e.showConfirmBox;return g.a.createElement(Ee,{name:t,photoURL:o,departments:n,currentDepartment:a,postStatus:r,showMessage:i,isAcsInit:s,getAutofillContacts:this.getAutofillContacts,showConfirmBox:l})}}]),t}(g.a.Component);Ie.propTypes={agentsList:_.PropTypes.array,agentsObject:_.PropTypes.object,currentDepartment:_.PropTypes.object,deleleUpload:_.PropTypes.func,departments:_.PropTypes.array,deptId:_.PropTypes.string,getAgentsList:_.PropTypes.func,getTeamsList:_.PropTypes.func,isAcsInit:_.PropTypes.bool,isCloudAttchOpen:_.PropTypes.bool,name:_.PropTypes.string,openCloudAttach:_.PropTypes.func,photoURL:_.PropTypes.string,postStatus:_.PropTypes.func,searchAgents:_.PropTypes.func,showAttachmentViewer:_.PropTypes.func,showConfirmBox:_.PropTypes.func,showMessage:_.PropTypes.func,teamsList:_.PropTypes.array,teamsObject:_.PropTypes.object,uploadAttach:_.PropTypes.func};var ke=Object(C.connect)(function(e,t){var o=Object(P.r)(e);return{deptId:o,teamsList:e.departmentSpecificState[o].teamsList,agentsList:e.activeAgents[o],agentsObject:e.module.agent,teamsObject:e.module.teams,isCloudAttchOpen:e.isCloudAttchOpen}},{getTeamsList:T.u,getAgentsList:X.g,searchAgents:X.j,showConfirmBox:T.a.showConfirmBox,showMessage:T.Q,openCloudAttach:x.h})(Ie),Ae=o(1319),Te=function(e){function t(e){l()(this,t);var o=m()(this,(t.__proto__||i()(t)).call(this,e));return o.state={view:"allFeeds"},o.containerRef=null,o.onViewChange=o.onViewChange.bind(o),o.renderFeeds=o.renderFeeds.bind(o),o.postStatus=o.postStatus.bind(o),o.changeStatus=o.changeStatus.bind(o),o.openTicketDv=o.openTicketDv.bind(o),o.toggleFeedPopup=o.toggleFeedPopup.bind(o),o.postComment=o.postComment.bind(o),o.uploadAttach=o.uploadAttach.bind(o),o.deleleUpload=o.deleleUpload.bind(o),o.downloadAttachment=o.downloadAttachment.bind(o),o.getViewKey=o.getViewKey.bind(o),o.viewAllComment=o.viewAllComment.bind(o),o.deleteComment=o.deleteComment.bind(o),o.updateComment=o.updateComment.bind(o),o.backToHome=o.backToHome.bind(o),o.handleError=o.handleError.bind(o),o}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isAcsInit&&this.renderFeeds(),this.containerRef.addEventListener("scroll",function(){var t=e.containerRef.scrollHeight,o=e.containerRef.scrollTop;if(t<=o+e.containerRef.offsetHeight&&!e.state.isShowMoreCalled&&!e.props.feedId){e.setState({isShowMoreCalled:!0});var n=e.getViewKey();AcsApi&&AcsApi.isMoreAvailable(n)&&(AcsApi.showMore("Support",n,10),e.setState({isShowMoreCalled:!1}))}o>1e3&&e.setState({showScrollTopBtn:!0}),0===o&&e.setState({showScrollTopBtn:!1})}),Object(_e.a)(ve.j,"js","ZohoDeskEditor").then(function(){e.setState({isEditorLoaded:!0})})}},{key:"componentWillReceiveProps",value:function(e){this.props.isAcsInit!==e.isAcsInit&&e.isAcsInit&&this.renderFeeds(),this.props.feedId!==e.feedId&&this.renderFeeds()}},{key:"renderFeeds",value:function(){var e=this,t=this.props,o=t.getSingleFeed;(0,t.getFeedsViewKey)().then(function(t){var n=e.props.feedId;n?o(n).then(function(t){e.setState({singleFdk:t.data.fdk})},function(){e.setState({singleFeedFailed:!0})}):AcsApi.initStream("Support",t.data.feedsViewKey.allFeeds,25)})}},{key:"onViewChange",value:function(e){this.setState({view:e}),this.backToHome(),this.props.updateFeedsView(e),AcsApi.initStream("Support",this.props.feedsKeys[e],25)}},{key:"postStatus",value:function(e){return this.props.postStatusMessage(e)}},{key:"getViewKey",value:function(){return this.props.feedsKeys[this.state.view]}},{key:"changeStatus",value:function(e,t,o,n){var a=this.getViewKey();AcsApi.invoke("Support",a,e,t,o,n)}},{key:"openTicketDv",value:function(e){this.props.openTicketDv({isPeekView:!0,ticketId:e})}},{key:"toggleFeedPopup",value:function(e,t){return this.props.getFeedThreadContent(e,t)}},{key:"postComment",value:function(e,t,o,n){var r=this.getViewKey();return AcsApi.invoke("Support",r,e,t,o,n),a.a.resolve()}},{key:"viewAllComment",value:function(e,t,o){var n=this.getViewKey();AcsApi.getComments(n,e,t,o,Ae.a.COMMENTRANGE)}},{key:"downloadAttachment",value:function(e){this.props.downloadAttachment(e)}},{key:"handleError",value:function(){this.props.showMessage({type:"alert",message:M.f.getI18NValue("support.unable.to.process.your.request")})}},{key:"uploadAttach",value:function(e,t,o){var n=this;return this.props.uploadAttach(e,t,function(e,t){o(e,t)}).then(function(e){return e},function(e){throw n.handleError(),{attachIndex:t,err:e}})}},{key:"deleleUpload",value:function(e){var t=this;return this.props.deleleUpload(e).catch(function(){t.handleError()})}},{key:"updateComment",value:function(e,t,o,n){var r=this.getViewKey();return AcsApi.invoke("Support",r,e,t,o,n),a.a.resolve()}},{key:"deleteComment",value:function(e,t,o,n){var a=this;this.props.showConfirmBox({type:"delete",submitText:M.f.getI18NValue("crm.button.ok"),cancelText:M.f.getI18NValue("support.label.cancel"),title:M.f.getI18NValue("support.history.operation.label.wfalert"),message:M.f.getI18NValue("crm.general.delete.comment.confirm"),isActive:!0,palette:"danger"}).then(function(){var r=a.getViewKey();AcsApi.invoke("Support",r,e,t,o,n)},function(){})}},{key:"backToHome",value:function(){var e=this.props,t="/"+e.orgName+"/"+e.deptName+"/feed";this.props.push({pathname:t})}},{key:"render",value:function(){var e=this,t=this.props,o=t.isAcsInit,n=t.moduleMeta,a=t.myInfo,r=t.departments,i=t.currentDepartment,s=t.feedsKeyObj,l=t.feedsKeys,c=t.haveCloseTicketPermission,d=t.haveMailSendPermission,u=t.haveTaskCreatePermission,m=(t.downloadAttachment,t.deleleUpload,t.showAttachmentViewer),p=t.orgId,f=t.openTicketTask,h=t.feeds,_=t.deptId,v=t.feedId,C=t.timeZone,w=t.showConfirmBox,E=this.state,k=E.view,A=E.showScrollTopBtn,T=E.singleFdk,S=E.singleFeedFailed,N=E.isEditorLoaded,x=l[k],P=l[k],B=[];s[P]&&(B=s[P].map(function(e){return h[e]}));var D=o&&AcsApi.isMoreAvailable(x);return B.length<25&&(D=!1),v&&(B=[h[T]]||!1),console.log("feeds",this.props),g.a.createElement(b.Container,{className:y.a.container,isScrollAttribute:!0},g.a.createElement(b.Box,{className:y.a.topHeader},g.a.createElement(U,{moduleMeta:n,onViewChange:this.onViewChange})),g.a.createElement(b.Box,{flexible:!0,scroll:"vertical",className:y.a.box,eleRef:function(t){e.containerRef=t}},g.a.createElement("div",null,g.a.createElement(ke,{name:Object(J.e)(a.firstName,a.lastName),photoURL:a.photoURL,departments:r,currentDepartment:i,postStatus:this.postStatus,isAcsInit:o,showConfirmBox:w})),g.a.createElement("div",null,o&&(s[P]||v&&T)?B.length?g.a.createElement("div",null,B.map(function(t,o){return g.a.createElement(G.a,{key:o,feed:t,feedId:v||o,isEditorLoaded:N,isSingleFeed:!!v,backToHome:e.backToHome,deptId:_,haveCloseTicketPermission:c,haveMailSendPermission:d,haveTaskCreatePermission:u,changeStatus:e.changeStatus,postComment:e.postComment,openTicketDv:e.openTicketDv,openTicketTask:f,toggleFeedPopup:e.toggleFeedPopup,downloadAttachment:e.downloadAttachment,uploadAttach:e.uploadAttach,deleleUpload:e.deleleUpload,showAttachmentViewer:m,orgId:p,viewAllComment:e.viewAllComment,deleteComment:e.deleteComment,updateComment:e.updateComment,timeZone:C,CommentBoxContainer:Y.a})}),D&&!v?g.a.createElement("div",{className:y.a.endLoad},g.a.createElement(O.a,null)):null,A?g.a.createElement("span",{className:y.a.pageUp,onClick:function(){e.containerRef.scrollTop=0}},g.a.createElement(I.a,{name:"collapse1",size:"25"})):null):g.a.createElement(W,null):S?g.a.createElement("div",null,g.a.createElement("div",{onClick:function(){e.setState({singleFeedFailed:!1}),e.backToHome()}},""," ",M.f.getI18NValue("support.label.zohosupport.home")),g.a.createElement("div",null,"error")):g.a.createElement("div",{className:o?y.a.loadingWithBtn:y.a.loadingCont},g.a.createElement(O.a,null),g.a.createElement(O.a,null)))))}}]),t}(h.Component);Te.propTypes={currentDepartment:v.a.string,deleleUpload:v.a.func,departments:v.a.array,deptId:v.a.string,deptName:v.a.string,downloadAttachment:v.a.func,feedId:v.a.string,feeds:v.a.object,feedsKeyObj:v.a.object,feedsKeys:v.a.object,getFeedThreadContent:v.a.func,getFeedsViewKey:v.a.func,getSingleFeed:v.a.func,haveCloseTicketPermission:v.a.bool,haveMailSendPermission:v.a.bool,haveTaskCreatePermission:v.a.bool,isAcsInit:v.a.bool,moduleMeta:v.a.object,myInfo:v.a.object,openTicketDv:v.a.func,openTicketTask:v.a.func,orgId:v.a.string,orgName:v.a.string,postStatusMessage:v.a.func,push:v.a.func,showAttachmentViewer:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func,timeZone:v.a.string,updateFeedsView:v.a.func,uploadAttach:v.a.func};t.default=Object(C.connect)(function(e,t){var o=e.routing.paramMap,n=o.feedId,a=o.orgName,r=o.deptName,i=Object(P.r)(e);return{deptId:i,feedId:n,orgName:a,deptName:r,feeds:e.module.feeds,isAcsInit:e.isAcsInit,feedsKeys:e.departmentSpecificState[i].feedsKeys,feedsKeyObj:e.departmentSpecificState[i].feedsKeyObj,moduleMeta:e.moduleMeta,myInfo:e.myInfo,timeZone:Object(P.hb)(e),orgId:Object(P.N)(e),departments:Object(P.e)(e),currentDepartment:Object(P.l)(e),haveCloseTicketPermission:Object(P.Ib)(e,{module:"tickets",mode:"closeTicket"}),haveMailSendPermission:Object(P.Ib)(e,{module:"tickets",mode:"mailSend"}),haveTaskCreatePermission:Object(P.Ib)(e,{module:"tasks",mode:"create"})}},{getFeedsViewKey:k.b,postStatusMessage:k.d,showMessage:T.Q,push:T.K,openTicketDv:S.i,openTicketTask:N.p,getFeedThreadContent:A.e,updateFeedsView:k.g,downloadAttachment:x.e,uploadAttach:x.k,deleleUpload:x.d,showAttachmentViewer:x.i,getSingleFeed:A.g,showConfirmBox:T.a.showConfirmBox})(Te)},947:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=l(o(0)),r=l(o(1)),i=l(o(953)),s=l(o(151));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,o=t.onChange,n=t.checked;o&&o(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.name,n=e.checked,r=e.disabled,l=e.palette,c=e.text,d=e.labelPalette,u=e.active,m=e.labelSize,p=e.getRef,f=e.dataId,h=u?i.default[l+"_active"]:"",g=r?i.default.disabled:i.default.pointer;return a.default.createElement("span",{className:i.default.container+" "+g+" "+(c?i.default.layout:i.default.basic)+" "},a.default.createElement("input",{type:"checkbox",className:i.default.input+" "+(n?i.default.checked:""),name:o,checked:n,disabled:r,ref:p}),a.default.createElement("label",{className:i.default["label_"+l]+" "+h+" "+(c?i.default.layoutshrink:""),onClick:this.onChange,"data-id":f},a.default.createElement("span",null)),c&&a.default.createElement("span",{className:i.default.text},a.default.createElement(s.default,{text:c,palette:d,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:r.default.bool,checked:r.default.bool,dataId:r.default.string,disabled:r.default.bool,getRef:r.default.func,id:r.default.string.isRequired,labelPalette:r.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:r.default.oneOf(["small","medium","large"]),name:r.default.string,onChange:r.default.func,palette:r.default.oneOf(["primary","danger"]),text:r.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},953:function(e,t,o){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},956:function(e,t,o){"use strict";o.d(t,"i",function(){return m}),o.d(t,"g",function(){return p}),o.d(t,"b",function(){return f}),o.d(t,"j",function(){return h}),o.d(t,"h",function(){return g}),o.d(t,"c",function(){return _}),o.d(t,"e",function(){return v}),o.d(t,"a",function(){return C}),o.d(t,"k",function(){return w}),o.d(t,"d",function(){return E}),o.d(t,"f",function(){return I}),o.d(t,"l",function(){return k});o(20);var n=o(2),a=o.n(n),r=o(15),i=o(6),s=o(7),l=o(17),c=o(46),d=o(3),u=o(39);function m(e){return{types:Object(i.m)("AGENTS_COUNT"),callAPI:function(t){var o=Object(l.r)(t);return Object(r.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return a()({},e,{id:e.agentId})}),{countData:e.data,deptId:o}):{}})}}}function p(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(i.m)(d.L.AGENT),callAPI:function(i){return Object(r.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+o+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:i.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<o,r=Object(s.normalize)(t.data,Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)));return a()(r,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(i.m)(d.L.AGENT),callAPI:function(o){return Object(r.a)("/api/v1/agents/"+e,!1,{orgId:o.currentOrgId}).get().then(function(e){var o=Object(s.normalize)(e,Object(s.schema)(d.L.AGENT_L));return a()(o,{depId:t})})}}}function h(e,t,o){return{types:Object(i.m)("AGENT_SEARCH"),callAPI:function(n){return Object(r.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+o,!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<o,r=Object(s.normalize)(e.data,Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)));return a()(r,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],o=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.u,u=arguments[4];return{types:Object(i.m)(d.L.AGENT),callAPI:function(i){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=u||Object(l.r)(i),f=u?"&departmentId="+u:Object(c.a)(i,!0),h="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(o?"&searchStr=*"+o+"*":"")+f;return Object(r.a)(encodeURI(h),!1,{orgId:i.currentOrgId}).get().then(function(r){return a()({},Object(s.normalize)(204!==r.responseStatus?r.data:[],Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L))),{deptId:p,from:t,limit:n,isNext:!!r.data&&r.data.length>n,searchStr:o,agentType:e})},function(e){throw e})}}}function _(e){return{types:Object(i.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(r.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)))})}}}function v(e){return{types:Object(i.m)("TEAM_AGENT"),callAPI:function(t){return Object(r.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(s.normalize)(e.members,Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)))})}}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o="";return t.map(function(t){void 0!==e[t]&&(o+="&"+t+"="+e[t])}),o}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2];return void 0!==e[t]?e[t]:o}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b(e,"searchType","string"),o=e.searchStr;return o&&(o="string*"==t?o+"*":"*string*"==t?"*"+o+"*":o),o}function y(e){var t=e.isConfirmed,o=e.status;switch(o){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===o)return u.b}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=b(e,"from","1"),e.limit=b(e,"limit","100"),e.searchStr=w(e);var t=e.from>1?u.k:u.j;return{types:Object(i.m)(t),callAPI:function(t){var o="/api/v1/agents?orgId="+t.currentOrgId;return o+=C(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(r.a)(o).get().then(function(t){return a()(Object(s.normalize)(void 0!==t.data?t.data:[],Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L))),{status:y(e)})})}}}function I(e,t,o){var n={status:e,isConfirmed:t,includeLightAgent:o};return n.includeLightAgent=b(n,"includeLightAgent",!0),{types:Object(i.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=C(n,["status","isConfirmed","includeLightAgent"]),Object(r.a)(t).get().then(function(e){return a()({},e,{status:y(n)})})}}}function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}},960:function(e,t,o){"use strict";function n(e,t){var o=void 0,n="";return e?"OFFLINE_CHAT"==(o=e.channel)?n="missed":e.isDraft?n="draft":e.isForward?n="forward":"in"===e.direction?n="incoming":"out"===e.direction&&(n="outgoing"):(o=t||"",n="default"),{channelName:o,action:n}}function a(e){return{in:{icon:"emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function r(){return{EMAIL:{default:"chEmail1",incoming:"chEmailIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chEmailMis"},FACEBOOK:{default:"chFacebook",incoming:"chFacebookIn",outgoing:"chFacebookOut",draft:"chFacebookDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFacebookMis"},FACEBOOK_DM:{default:"chFacebookDmOut",incoming:"chFacebookDmOut",outgoing:"chFacebookDmOut",draft:"chFacebookDmOut",forward:"chFacebookDmOut",forwardDraft:"chFacebookDmOut",missed:""},TWITTER:{default:"chTwitter",incoming:"chTwitterIn",outgoing:"chTwitterOut",draft:"chTwitterDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chTwitterMis"},FORUMS:{default:"chForums",incoming:"chForumsIn",outgoing:"chForumsOut",draft:"chForumsDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chForumsMis"},CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},OFFLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},ONLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},PHONE:{default:"activityCalls",incoming:"chPhoneIn",outgoing:"chPhoneOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chPhoneMis"},WEB:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},CUSTOMERPORTAL:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},FEEDBACK:{default:"chFeedback",incoming:"chFeedback",out:"chFeedbackOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFeedbackMis"}}}o.d(t,"c",function(){return n}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return r})},969:function(e,t,o){"use strict";var n=o(12),a=o.n(n),r=o(9),i=o.n(r),s=o(10),l=o.n(s),c=o(13),d=o.n(c),u=o(14),m=o.n(u),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(972),v=o.n(_),C=o(64),b=o.n(C),w=o(152),y=o(56),E=o.n(y),I=o(960),k=function(e){function t(e){return i()(this,t),d()(this,(t.__proto__||a()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,o=e.action,n=e.iconSize,a=e.size,r=e.iconColor,i=e.topicIcon,s=e.topicIconTitle,l=e.topicIconSize,c=e.topicIconColor,d=e.iconClass,u=e.dataId,m=e.className,p=e.palette,h=t&&Object(I.a)()[t.toUpperCase()],g=null,_=null;return h?_=h[o]:g=t,f.a.createElement("span",{className:v.a.container},g?f.a.createElement(b.a,{name:g,size:a,palette:p}):a?_?f.a.createElement(w.a,{name:_,iconSize:n,size:a,iconColor:r,iconClass:(d||"")+" "+v.a.iconStyle+" "+(t&&o?v.a[t.toLowerCase()+"_"+o.toLowerCase()]:""),dataId:u,className:m}):f.a.createElement(b.a,{name:t,size:a,palette:p}):f.a.createElement(E.a,{name:_,size:n,color:r,iconClass:d||""}),i?f.a.createElement("span",{className:v.a.thread,"data-title":s},f.a.createElement(E.a,{name:i,size:l,color:c})):null)}}]),t}(p.Component);t.a=k,k.defaultProps={iconSize:"18",name:"phone"},k.propTypes={action:g.a.string,className:g.a.string,dataId:g.a.string,iconClass:g.a.string,iconColor:g.a.string,iconSize:g.a.string,name:g.a.string,palette:g.a.oneOf(["primary","secondary","info","default"]),size:g.a.string,topicIcon:g.a.string,topicIconColor:g.a.string,topicIconSize:g.a.string,topicIconTitle:g.a.string}},972:function(e,t,o){e.exports={container:"ChannelIcon-module__container common-module__dInflex",thread:"ChannelIcon-module__thread common-module__rounded common-module__dflex common-module__alignVertical common-module__alignHorizontal",iconStyle:"ChannelIcon-module__iconStyle",email_incoming:"ChannelIcon-module__email_incoming",email_outgoing:"ChannelIcon-module__email_outgoing",chat_outgoing:"ChannelIcon-module__chat_outgoing",offline_chat_outgoing:"ChannelIcon-module__offline_chat_outgoing",online_chat_outgoing:"ChannelIcon-module__online_chat_outgoing",email_forward:"ChannelIcon-module__email_forward",facebook_forward:"ChannelIcon-module__facebook_forward",twitter_forward:"ChannelIcon-module__twitter_forward",forums_forward:"ChannelIcon-module__forums_forward",chat_forward:"ChannelIcon-module__chat_forward",offline_chat_forward:"ChannelIcon-module__offline_chat_forward",online_chat_forward:"ChannelIcon-module__online_chat_forward",phone_forward:"ChannelIcon-module__phone_forward",web_forward:"ChannelIcon-module__web_forward",customerportal_forward:"ChannelIcon-module__customerportal_forward",feedback_forward:"ChannelIcon-module__feedback_forward",email_forwardDraft:"ChannelIcon-module__email_forwardDraft",facebook_forwardDraft:"ChannelIcon-module__facebook_forwardDraft",twitter_forwardDraft:"ChannelIcon-module__twitter_forwardDraft",forums_forwardDraft:"ChannelIcon-module__forums_forwardDraft",chat_forwardDraft:"ChannelIcon-module__chat_forwardDraft",offline_chat_forwardDraft:"ChannelIcon-module__offline_chat_forwardDraft",online_chat_forwardDraft:"ChannelIcon-module__online_chat_forwardDraft",phone_forwardDraft:"ChannelIcon-module__phone_forwardDraft",web_forwardDraft:"ChannelIcon-module__web_forwardDraft",customerportal_forwardDraft:"ChannelIcon-module__customerportal_forwardDraft",feedback_forwardDraft:"ChannelIcon-module__feedback_forwardDraft",email_missed:"ChannelIcon-module__email_missed",facebook_incoming:"ChannelIcon-module__facebook_incoming",facebook_outgoing:"ChannelIcon-module__facebook_outgoing",facebook_missed:"ChannelIcon-module__facebook_missed",facebook_dm_default:"ChannelIcon-module__facebook_dm_default",facebook_dm_incoming:"ChannelIcon-module__facebook_dm_incoming",facebook_dm_outgoing:"ChannelIcon-module__facebook_dm_outgoing",facebook_dm_draft:"ChannelIcon-module__facebook_dm_draft",facebook_dm_forward:"ChannelIcon-module__facebook_dm_forward",facebook_dm_forwardDraft:"ChannelIcon-module__facebook_dm_forwardDraft",twitter_incoming:"ChannelIcon-module__twitter_incoming",twitter_outgoing:"ChannelIcon-module__twitter_outgoing",twitter_missed:"ChannelIcon-module__twitter_missed",forums_incoming:"ChannelIcon-module__forums_incoming",forums_outgoing:"ChannelIcon-module__forums_outgoing",forums_missed:"ChannelIcon-module__forums_missed",chat_incoming:"ChannelIcon-module__chat_incoming",offline_chat_incoming:"ChannelIcon-module__offline_chat_incoming",online_chat_incoming:"ChannelIcon-module__online_chat_incoming",chat_missed:"ChannelIcon-module__chat_missed",offline_chat_missed:"ChannelIcon-module__offline_chat_missed",online_chat_missed:"ChannelIcon-module__online_chat_missed",phone_incoming:"ChannelIcon-module__phone_incoming",phone_outgoing:"ChannelIcon-module__phone_outgoing",phone_missed:"ChannelIcon-module__phone_missed",feedback_default:"ChannelIcon-module__feedback_default",feedback_incoming:"ChannelIcon-module__feedback_incoming",web_incoming:"ChannelIcon-module__web_incoming",customerportal_incoming:"ChannelIcon-module__customerportal_incoming",web_missed:"ChannelIcon-module__web_missed",customerportal_missed:"ChannelIcon-module__customerportal_missed",feedback_missed:"ChannelIcon-module__feedback_missed",email_default:"ChannelIcon-module__email_default",twitter_default:"ChannelIcon-module__twitter_default",facebook_default:"ChannelIcon-module__facebook_default",chat_default:"ChannelIcon-module__chat_default",offline_chat_default:"ChannelIcon-module__offline_chat_default",online_chat_default:"ChannelIcon-module__online_chat_default",forums_default:"ChannelIcon-module__forums_default",phone_default:"ChannelIcon-module__phone_default",web_default:"ChannelIcon-module__web_default",customerportal_default:"ChannelIcon-module__customerportal_default",email_draft:"ChannelIcon-module__email_draft",facebook_draft:"ChannelIcon-module__facebook_draft",twitter_draft:"ChannelIcon-module__twitter_draft",forums_draft:"ChannelIcon-module__forums_draft",chat_draft:"ChannelIcon-module__chat_draft",offline_chat_draft:"ChannelIcon-module__offline_chat_draft",online_chat_draft:"ChannelIcon-module__online_chat_draft",phone_draft:"ChannelIcon-module__phone_draft",web_draft:"ChannelIcon-module__web_draft",customerportal_draft:"ChannelIcon-module__customerportal_draft",feedback_draft:"ChannelIcon-module__feedback_draft"}},997:function(e,t,o){"use strict";function n(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];o.forEach(function(t){e[t]=e[t].bind(e)})}o.d(t,"a",function(){return n})}}]);