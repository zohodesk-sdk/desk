(window.deskappJsonp=window.deskappJsonp||[]).push([[97],{1004:function(e,t,o){"use strict";(function(e){var a=o(11),n=o.n(a),i=o(2),r=o.n(i),s=o(12),l=o.n(s),c=o(9),d=o.n(c),m=o(10),u=o.n(m),p=o(13),f=o.n(p),h=o(14),g=o.n(h),_=o(0),v=o.n(_),C=(o(1),o(16)),b=o(1012),E=o(997),w=o(1013),I=o.n(w),y=(o(1014),function(t){function o(e){d()(this,o);var t=f()(this,(o.__proto__||l()(o)).call(this,e));t.state={isEditorLoad:!1};return E.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return g()(o,t),u()(o,[{key:"componentDidMount",value:function(){var t=this.props,o=t.id,a=t.value,n=t.editorMode,i=void 0===n?"":n,s=t.editorOptions,l=void 0===s?{}:s,c=t.needEditorFocus,d=void 0===c||c,m=t.mode;if(o&&e.ZohoDeskEditor){var u={id:o,content:a,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:m};u=r()(u,l),ZohoDeskEditor_Init.init(i),ZohoDeskEditor.create&&ZohoDeskEditor.create(u)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,o=t.id,a=t.chageEditorContent;t.value;e.isEmptyContent&&editor[o]&&editor[o].setContent(""),e.chageEditorContent!=a&&e.chageEditorContent&&void 0!==a&&editor[o].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,o=e.id,a=editor[o]?editor[o]:{},n=a.getContent?a.getContent():"";Object(b.a)(a)||(n=""),n="plaintext"===a.mode?Object(b.b)(n):n,t&&t(n.trim(),o)}},{key:"editorCallback",value:function(t){var o=this.props.editorCallback;this.setState({isEditorLoad:!0});var a=this.props.id;e.editor=e.editor||{},editor[a]||(editor[a]=t),o&&o(t)}},{key:"handleInlineUpload",value:function(e,t,o,a,n){this.handleUpload(e).then(function(e){var o={};o[0]={url:e,desc:n},t(o,a)},function(){o(a)})}},{key:"handleDropUpload",value:function(e,t,o){this.handleUpload(e).then(function(e){t(e)},function(){o()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,o,a){var n=void 0;"blob"===t?n=e:(n=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(n).then(function(e){o(e)},function(){a()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var o=new FormData;return o.append("file",e),t(o).then(function(e){var t=e.data||{},o=t.data,a=t.orgId,n=o||{},i=n.id,r=n.href;if(i)return r+"?orgId="+a;throw{}},function(e){throw e})}catch(e){return n.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,o=e.dataId,a=this.state.isEditorLoad;return v.a.createElement(C.Container,{className:I.a.editDraft,dataId:o},!a&&v.a.createElement("div",{className:I.a.stencillist9},v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading}),v.a.createElement("div",{className:I.a.stencilLoading})),v.a.createElement(C.Box,{flexible:!0,id:t,dataId:o}))}}]),o}(_.Component));t.a=y}).call(this,o(68))},1007:function(e,t,o){"use strict";var a,n=o(5),i=o.n(n),r=o(12),s=o.n(r),l=o(9),c=o.n(l),d=o(10),m=o.n(d),u=o(13),p=o.n(u),f=o(14),h=o.n(f),g=o(0),_=o.n(g),v=o(1),C=o.n(v),b=o(1042),E=o.n(b),w=o(157),I=o.n(w),y=o(30),k=o(80),A=o.n(k),N=o(72),T=o.n(N),S=o(1026),x=o.n(S),D=o(361),P=o.n(D),O=function(e){function t(e){c()(this,t);var o=p()(this,(t.__proto__||s()(t)).call(this,e));return o.handleSelect=o.handleSelect.bind(o),o.togglePopup=o.togglePopup.bind(o),o}return h()(t,e),m()(t,[{key:"handleSelect",value:function(e,t,o,a){if(void 0!==this.props.onSelect){var n=this.props;(0,n.onSelect)(e,n.entity)}this.props.togglePopup(a)}},{key:"togglePopup",value:function(e){var t=this.props,o=t.togglePopup,a=t.boxPosition;e.stopPropagation(),o(e,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.isPopupOpen,a=t.onPopupChange;e.isPopupOpen!==o&&a&&a(o)}},{key:"render",value:function(){var e=this,t=this.props,o=t.theme,a=void 0===o?"white":o,n=t.objValues,i=t.Icnsize,r=t.IcnName,s=(t.removeClose,t.listStyle,t.arrowPosition),l=t.position,c=t.right,d=(t.isScroll,t.widgets),m=void 0===d?[]:d,u=t.onWidgetScroll,p=t.onWidgetSelect,f=t.selectedWidgetId,h=t.arrowRight,g=t.arrowLeft,v=t.size,C=t.left,b=t.isPopupOpen,w=t.isPopupReady,k=t.getTargetRef,A=t.getContainerRef;return i=i||"medium",_.a.createElement("span",{className:I.a.posrel,ref:k,onClick:this.togglePopup},_.a.createElement("span",{className:E.a.defaultSize+" "+I.a.posrel+" "+E.a[a]},_.a.createElement("span",null,_.a.createElement(y.TopbandFontIcon,{name:r,size:i}))),b?_.a.createElement("span",{className:E.a.dropDivPosition},_.a.createElement(T.a,{isAnimate:!0,right:c,left:C,isActive:w,size:v,arrowRight:h,arrowLeft:g,boxPosition:l,getRef:A,arrowPosition:s},n.map(function(t,o){return _.a.createElement(P.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:o,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),n.length&&m.length?_.a.createElement(x.a,null):null,m.length?_.a.createElement("div",{className:E.a.widgetList,onScroll:u},m.map(function(e){var t=e.name,o=e.sanitisedName+"_"+e.installationId;return f!=o?_.a.createElement(P.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:o,id:o,onClick:function(){p(o,e)}}):null})):null)):null)}}]),t}(g.Component);O.defaultProps={IcnName:"more1",size:"small"},O.propTypes=(a={IcnName:C.a.string,Icnsize:C.a.string,arrowLeft:C.a.string,arrowPosition:C.a.string,arrowRight:C.a.string,boxPosition:C.a.string,entity:C.a.object,getContainerRef:C.a.func},i()(a,"getContainerRef",C.a.func),i()(a,"getTargetRef",C.a.func),i()(a,"isPopupOpen",C.a.bool),i()(a,"isPopupReady",C.a.bool),i()(a,"isScroll",C.a.bool),i()(a,"left",C.a.string),i()(a,"listStyle",C.a.string),i()(a,"objValues",C.a.array),i()(a,"onPopupChange",C.a.func),i()(a,"onSelect",C.a.func),i()(a,"onWidgetScroll",C.a.func),i()(a,"onWidgetSelect",C.a.func),i()(a,"position",C.a.string),i()(a,"removeClose",C.a.func),i()(a,"right",C.a.string),i()(a,"selectedWidgetId",C.a.string),i()(a,"size",C.a.string),i()(a,"theme",C.a.string),i()(a,"togglePopup",C.a.func),i()(a,"widgets",C.a.array),a),t.a=A()(O)},1012:function(e,t,o){"use strict";function a(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function n(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}o.d(t,"a",function(){return a}),o.d(t,"b",function(){return n})},1013:function(e,t,o){e.exports={icon:"TextEditor-module__icon",small:"TextEditor-module__small",threeDotIcon:"TextEditor-module__threeDotIcon",editDraft:"TextEditor-module__editDraft",New_Editor_MultiTools:"TextEditor-module__New_Editor_MultiTools",cardDetail:"TextEditor-module__cardDetail",stencilLoading:"TextEditor-module__stencilLoading",stencillist9:"TextEditor-module__stencillist9",Stencils__placeHolderShimmer:"TextEditor-module__Stencils__placeHolderShimmer"}},1014:function(e,t,o){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0;var o=window.location.protocol,a="",n="com",i="",r=".zohostatic.";"US".indexOf("SKY")>-1&&(r=".skydeskstatic.",n="jp"),"US".indexOf("RO")>-1&&(i="-ro"),["LOC","DEV"].indexOf("US")>-1&&(a="local"),ZohoDeskEditor_Init.jsurl=o+"//"+a+"localjs"+i+r+n+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=o+"//"+a+"localcss"+i+r+n+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=o+"//"+a+"localimg"+i+r+n+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var s=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,s(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),s(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",s(6))}}).call(this,o(68))},1019:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1027),v=o.n(_),C=o(30),b=o(16),E=o(174),w=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e));return o.constructPreviewData=o.constructPreviewData.bind(o),o}return u()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,o=e.indexOf("/api"),a=e.slice(o,e.length);return a+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,o=t.oldAttachments,a=t.newAttachments,n=t.showAttachmentViewer,i=o.length?o.concat(a):a;Object(E.a)(e,i,function(e){n(e)})}},{key:"constructAttachItem",value:function(e,t){var o=e.id,a=e.isPreview,n=e.viewUrl,i=e.href,r=e.name,s=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,m=d.deleleUpload,u=d.removeAttachment,p=(d.isPeekView,n||(a?i:this.constructImgURL(i))),h=Object(E.j)(r),g=Object(E.e)(s),_=Object(E.c)(r);return f.a.createElement("div",{className:v.a.upload+" "+v.a.mr12+" "+(a?v.a.preview:"")},a?f.a.createElement("div",{className:v.a.loader,style:{width:c+"%"}}):null,h?f.a.createElement("img",{onClick:!a&&this.constructPreviewData.bind(this,o),src:p,className:v.a.uploadimage}):f.a.createElement("div",{className:v.a.attachInfo,onClick:this.openNewTab.bind(this,p)},f.a.createElement(C.CommonFontIcon,{name:_,size:"14"}),f.a.createElement("span",{className:v.a.attachsize},g)),a?null:f.a.createElement("span",{className:v.a.uploadclose,onClick:a?null:"new"==t?m.bind(this,o):u.bind(this,o),"data-id":"deleteUpload"},f.a.createElement(C.TopbandFontIcon,{name:"close",size:"12",color:"pure"})))}},{key:"render",value:function(){var e=this,t=this.props,o=t.oldAttachments,a=t.newAttachments,n=t.from,i=t.isPeekView,r=v.a.attachList;return"leftPanel"==n?r=r+" "+v.a.w75:"replyEdtior"==n&&(r=i?r+" "+v.a.peekReplyAttach:r+" "+v.a.replyAttach),o&&o.length||a&&a.length?f.a.createElement(b.Container,{alignBox:"row",scroll:"horizontal",className:r},o&&o.length?o.map(function(t,o){return f.a.createElement(b.Box,{key:o},e.constructAttachItem(t,"old"))}):null,a&&a.length?a.map(function(t,o){return f.a.createElement(b.Box,{key:o,dataId:"attachmentItem_"+(o+1)},e.constructAttachItem(t,"new"))}):null):null}}]),t}(f.a.Component);t.a=w,w.propTypes={data:g.a.object,deleleUpload:g.a.func,from:g.a.string,isPeekView:g.a.bool,newAttachments:g.a.array,oldAttachments:g.a.array,orgId:g.a.string,removeAttachment:g.a.func,showAttachmentViewer:g.a.func}},1026:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),n=r(o(0)),i=r(o(360));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"render",value:function(){return n.default.createElement("div",{className:i.default.separator})}}]),t}();t.default=s},1027:function(e,t,o){e.exports={upload:"UploadList-module__upload common-module__cboth",uploadimage:"UploadList-module__uploadimage",loader:"UploadList-module__loader",uploadclose:"UploadList-module__uploadclose",attachsize:"UploadList-module__attachsize common-module__dotted common-module__oflow common-module__ellipsis",attachInfo:"UploadList-module__attachInfo",attachList:"UploadList-module__attachList",mr12:"UploadList-module__mr12",w75:"UploadList-module__w75",preview:"UploadList-module__preview",replyAttach:"UploadList-module__replyAttach",peekReplyAttach:"UploadList-module__peekReplyAttach"}},1028:function(e,t,o){"use strict";o.d(t,"c",function(){return n}),o.d(t,"a",function(){return i}),o.d(t,"b",function(){return r}),o.d(t,"f",function(){return s}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c});var a=o(6);function n(e,t){var o=editor[e];o&&t&&o.insertHTML(t)}function i(e){var t=editor[e];if(null!=t){var o=t.getContent();return"<br>"==(o=o.trim())?"":("plaintext"==t.mode&&(o=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(o)),o)}return""}function r(e,t,o,a){var n={content:"",isSnippetExist:!1,triggerWord:""},i="";if(e.modify){var r=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var s=e.toString().toLowerCase().trim(),l=a.filter(function(e){return e.snippetWord.toLowerCase()==s.toLowerCase()});null!=(i=l.length?l[0].expandedContent:"")&&""!=i&&i.length>0?(n.isSnippetExist=!0,n.content=i,n.triggerWord=s.toLowerCase(),r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)):(n.content="&nbsp;&nbsp;&nbsp;&nbsp;",n.triggerWord=s.toLowerCase()),e.removeAllRanges(),e.addRange(r)}else n=function(e,t,o,a){var n="",i=e.getRangeAt(0);i.collapse(!0),i.setStart(e.anchorNode,0),n=i.toString();var r=i.cloneRange(),s=e.anchorNode.textContent,l=/\s+/,c=s.split(l).filter(Boolean),d=n.split(l).filter(Boolean),m="",u="",p={content:"",isSnippetExist:!1,triggerWord:""},f=d[d.length-1];if(""!=f&&void 0!==f){m=c[d.length-1],parseInt(m.length);var h=m.toLowerCase(),g=a.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==h.toLowerCase()});u=g.length?g[0].expandedContent:""}if(null!=u&&""!=u&&null!=u){var _=parseInt(m.length-f.length),v=parseInt(n.length);_>0&&(v+=_);var C=parseInt(n.length+_-m.length),b=n.length-n.replace(/\s+$/g,"").length;(C-=b)<0&&(C=0),r.setStart(e.anchorNode,C),r.setEnd(e.focusNode,v),p.isSnippetExist=!0}else u=n;return p.content=u,p.triggerWord=m.toLowerCase(),e.removeAllRanges(),e.addRange(r),p}(e,0,0,a);return n}function s(e,t,o,n,i){for(var r={"${Cases.Contact Name}":Object(a.e)(o.firstName,o.lastName),"${Cases.Email}":o.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":n?n.accountName:"","${Cases.First Name}":o.firstName||"","${Cases.Last Name}":o.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(a.e)(i.firstName,i.lastName),"${User.Email}":i.emailId||"","${User.Phone}":i.phone||"","${User.First Name}":i.firstName||"","${User.Last Name}":i.lastName||"","${User.Mobile}":i.mobile||""},s=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<s.length;l++)e=e.replace(s[l],r[s[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},1042:function(e,t,o){e.exports={defaultSize:"MorePopup-module__defaultSize common-module__offSelection",black:"MorePopup-module__black",white:"MorePopup-module__white",iconCustom:"MorePopup-module__iconCustom",mr10:"MorePopup-module__mr10",dropDivPosition:"MorePopup-module__dropDivPosition",dropdownPosition:"MorePopup-module__dropdownPosition",secondaryIcon:"MorePopup-module__secondaryIcon",widgetList:"MorePopup-module__widgetList"}},1053:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1080),v=o.n(_),C=o(64),b=o.n(C),E=o(56),w=o.n(E),I=function(e){function t(e){return r()(this,t),d()(this,(t.__proto__||n()(t)).call(this,e))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,a=e.size,n=e.iconClass,i=e.iconName,r=e.iconSize,s=e.iconColor,l=e.borderPalette,c=e.onClick,d=e.title,m=e.iconTitle,u=e.onIconClick,p=e.showOnHover?v.a.hover:"";return f.a.createElement("div",{className:v.a.container+" "+p},f.a.createElement(b.a,{src:t,name:o,title:d,size:a,onClick:c}),i&&f.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+l],"data-title":m,onClick:u},f.a.createElement("span",{className:v.a.icon},f.a.createElement(w.a,{name:i,size:r,color:s,className:n}))))}}]),t}(f.a.Component);t.a=I,I.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},I.propTypes={borderPalette:g.a.oneOfType([g.a.string,g.a.bool]),iconClass:g.a.string,iconColor:g.a.oneOfType([g.a.string,g.a.bool]),iconName:g.a.oneOfType([g.a.string,g.a.bool]),iconSize:g.a.oneOfType([g.a.string,g.a.bool]),iconTitle:g.a.string,name:g.a.string,onClick:g.a.func,onIconClick:g.a.func,showOnHover:g.a.bool,size:g.a.string,src:g.a.string,title:g.a.string}},1080:function(e,t,o){e.exports={container:"AvatarThread-module__container common-module__dInflex",thread:"AvatarThread-module__thread common-module__rounded",icon:"AvatarThread-module__icon common-module__middleBoth common-module__middle",border_primary:"AvatarThread-module__border_primary",border_success:"AvatarThread-module__border_success",border_danger:"AvatarThread-module__border_danger",hover:"AvatarThread-module__hover"}},1081:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var a=o(71),n=o.n(a),i=o(6),r={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(i.J)(t)?localStorage.setItem(e,n()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var o=localStorage.length,a=new Date,r=0;r<o;r++){var s=localStorage.key(r),l=this.getItemFromStorage(s)||{};l&&l.time&&a>l.expireTime&&this.removeItem(s)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var o=localStorage.key(t),a=this.getItemFromStorage(o);e[o]=a}return e}return this.storage},setItem:function(e,t,o){-1==(o=null==o||null==o?10800:o)&&(o=86400);var a=new Date,n={value:t,expireTime:new Date(a.setSeconds(a.getSeconds()+o))};this.storeItemIntoStorage(e,n)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},1082:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(72),v=o.n(_),C=o(361),b=o.n(C),E=o(8),w=o(1097),I=o.n(w),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,o=e.bottom,a=e.left,n=e.onAttchClick,i=e.openCloudAttach,r=e.labelName;return f.a.createElement(v.a,{size:"small",boxPosition:t,isActive:!0,bottom:o,left:a},f.a.createElement("label",{htmlFor:r},f.a.createElement(b.a,{autoHover:!0,value:E.f.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"emptyfle",dataId:"fileAttach"}),f.a.createElement("input",{className:I.a.fileCont,type:"file",multiple:"multiple",id:r,onChange:n})),f.a.createElement(b.a,{autoHover:!0,value:E.f.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"cloudicn",onClick:i,dataId:"cloudAttach"}))}}]),t}(p.Component);t.a=y,y.propTypes={bottom:g.a.string,boxPosition:g.a.string,labelName:g.a.string,left:g.a.string,onAttchClick:g.a.func,openCloudAttach:g.a.func}},1097:function(e,t,o){e.exports={fileCont:"UploadPopup__fileCont"}},1107:function(e,t,o){"use strict";(function(e){var a=o(2),n=o.n(a),i=o(12),r=o.n(i),s=o(9),l=o.n(s),c=o(10),d=o.n(c),m=o(13),u=o.n(m),p=o(14),f=o.n(p),h=o(0),g=o.n(h),_=o(1),v=o.n(_),C=o(1122),b=o.n(C),E=(o(1007),o(1053)),w=o(1019),I=o(1123),y=o(8),k=o(174),A=o(6),N=o(1081),T=o(1028),S=o(30),x=o(16),D=o(1004),P=o(1082),O=function(t){function o(e){l()(this,o);var t=u()(this,(o.__proto__||r()(o)).call(this,e)),a=t.props,n=a.value,i=a.attachments;return t.state={content:n||"",oldAttachments:i||[],newAttachments:[],isAttachmentUploading:!1,isDragOver:!1,mode:"private",showTools:N.a.getItem("showCommentTools"),isAttachmentModified:!1,isLoading:!1},t._isMounted=!1,t.uploadAttach=t.uploadAttach.bind(t),t.deleleUpload=t.deleleUpload.bind(t),t.removeAttachment=t.removeAttachment.bind(t),t.updateComment=t.updateComment.bind(t),t.clearComment=t.clearComment.bind(t),t.toggleComment=t.toggleComment.bind(t),t.dragEnter=t.dragEnter.bind(t),t.dragLeave=t.dragLeave.bind(t),t.attachDrop=t.attachDrop.bind(t),t.changeMode=t.changeMode.bind(t),t.toggleTools=t.toggleTools.bind(t),t.commentCallback=t.commentCallback.bind(t),t.checkCommentChanged=t.checkCommentChanged.bind(t),t.addComment=t.addComment.bind(t),t.dragAttach=t.dragAttach.bind(t),t.addCloudAttch=t.addCloudAttch.bind(t),t.openCloudAttach=t.openCloudAttach.bind(t),t.closeCloudAttach=t.closeCloudAttach.bind(t),t.closeComment=t.closeComment.bind(t),t}return f()(o,t),d()(o,[{key:"componentWillReceiveProps",value:function(e){e.oldAttachments==this.props.oldAttachments&&e.value==this.props.value&&e.newAttachments==this.props.newAttachments||this.setState({content:e.value||"",oldAttachments:e.oldAttachments||[],newAttachments:e.newAttachments||[]})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"addComment",value:function(){var e=this,t=this.state,o=t.mode,a=t.isCommentAdding,n=this.props,i=n.attachmentIds,r=n.hasAttachments,s=void 0===r||r,l=n.hasPrivacyMode,c=void 0===l||l;if(!a){var d=editor["Comment_"+this.props.id],m=d.mentionsList,u=d.mentionsHandler("val");if(this.isValid(d)){var p="public"==o,f=this.props,h=f.revertIsCommentChanged,g=f.addComment;f.isCommentChanged&&h&&h(),this.setState({isCommentAdding:!0});var _={content:u};s&&(_.attachmentIds=i),c&&(_.isPublic=p),this.setState({isLoading:!0}),g(_,m,function(){e._isMounted&&(e.setState({oldAttachments:[],newAttachments:[],isAttachmentModified:!1,isCommentAdding:!1,mode:"private"}),e.props.setAttachmentIds([]),e.clearComment()),e.setState({isLoading:!1})},function(){e.setState({isLoading:!1})})}}}},{key:"updateComment",value:function(){var e=this,t=this.props,o=t.id,a=t.value,n=t.revertIsCommentChanged,i=t.isCommentChanged,r=t.updateComment,s=t.attachmentIds,l=editor["Comment_"+o],c=l.mentionsList,d=l.mentionsHandler("val");i&&n&&n(),this.setState({isAttachmentModified:!1}),this.isValid(l)&&(this.setState({isLoading:!0}),r(o,d,s,a,c,function(){e.setState({isLoading:!1})}))}},{key:"isValid",value:function(t){var o=this.state.isAttachmentUploading,a=this.props.attachmentIds,n=!0,i=t.getContent();return o?(n=!1,this.props.showMessage({type:"alert",message:y.f.getI18NValue("support.attachment.upload.process")})):Object(T.d)(t)&&!a.length?(n=!1,this.props.showConfirmBox({type:"alert",submitText:y.f.getI18NValue("crm.button.ok"),title:y.f.getI18NValue("support.history.operation.label.wfalert"),message:y.f.getI18NValue("support.contact.comment.empty"),isActive:!0,palette:"danger"}).then(function(){deleteComment(id,commentId,e)}).catch(function(){})):i.length>32e3&&(n=!1,this.props.showMessage({type:"alert",message:y.f.getI18NValue("support.comment.limit.exceeded")})),n}},{key:"addCloudAttch",value:function(e,t,o){var a=this,i=this.state,r=i.newAttachments,s=i.oldAttachments.length+r.length+o,l={index:s,href:null,isPreview:!0};this.setState(function(e){var t=n()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,s,function(e,t){var o=a.state.newAttachments.map(function(o){return o.index===t?n()({},o,{percentComplete:e}):o});a.setState({newAttachments:o})}).then(function(e){var t=e.data,o=a.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});a.setState({newAttachments:o});var n=a.props,i=n.attachmentIds,r=n.setAttachmentIds;i.push(t.data.id),r(i);var s=a.props,l=s.isCommentChanged,c=s.setIsCommentChanged;!l&&c&&c(),a.setState({isAttachmentModified:!0})},function(){a.setState(function(e){var t=n()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return s!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,o=this.state,a=o.newAttachments,i=o.oldAttachments.length+a.length,r=e.target?e.target.files:e,s=r.length,l=Object(k.n)(r,i),c=l.inValidArray,d=l.validArray,m=this.props.showMessage;if(l.isCountExceeds)m({type:"alert",message:y.f.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c.length)for(var u=0;u<c.length;u++){var p=c[u];p.isUnSupported&&m({type:"alert",message:y.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&m({type:"alert",message:y.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&m({type:"alert",message:y.f.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&m({type:"alert",message:y.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d.length&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var o=function(o){var a=d[o],r=new FormData;r.append("file",a);var l=i+o,m=Object(k.f)(a,l);t.setState(function(e){var t=n()({},e);return t.newAttachments.push(m),t}),t.props.uploadAttach(r,l,function(e,o){var a=t.state.newAttachments.map(function(t){return t.index===o?n()({},t,{percentComplete:e}):t});t.setState({newAttachments:a})}).then(function(o){if(o){var a=o.data;e+=1;var n=t.state.newAttachments.map(function(e){return e.index===a.data.index?a.data:e});t.setState({newAttachments:n});var i=t.props,r=i.attachmentIds,l=i.setAttachmentIds;r.push(a.data.id),l(r);var d=t.props,m=d.isCommentChanged,u=d.setIsCommentChanged;!m&&u&&u(),t.setState({isAttachmentModified:!0}),e+c.length==s&&t.setState({isAttachmentUploading:!1})}}).catch(function(e){t.setState(function(t){var o=n()({},t);return o.newAttachments=o.newAttachments.filter(function(t){return e.attachIndex!==t.index}),o})})},a=0;a<d.length;a++)o(a)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(o){var a=n()({},o);a.newAttachments=a.newAttachments.filter(function(t){return e!==t.id});var i=t.props,r=i.isCommentChanged,s=i.setIsCommentChanged,l=i.revertIsCommentChanged;return a.newAttachments.length?(!r&&s&&s(),t.setState({isAttachmentModified:!0})):(r&&l&&l(),t.setState({isAttachmentModified:!1},function(){return[t.checkCommentChanged()]})),a});var o=t.props,a=o.attachmentIds;(0,o.setAttachmentIds)(a.filter(function(t){return e!==t}))})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(o){var a=n()({},o);a.oldAttachments=a.oldAttachments.filter(function(t){return e!==t.id});var i=t.props,r=i.isCommentChanged,s=i.setIsCommentChanged;return!r&&s&&s(),t.setState({isAttachmentModified:!0}),a});var o=this.props,a=o.attachmentIds;(0,o.setAttachmentIds)(a.filter(function(t){return e!==t}))}},{key:"clearComment",value:function(){this.setState({content:""});var e=editor["Comment_"+this.props.id];e.setContent(""),Object(A.N)(e.doc)}},{key:"toggleComment",value:function(){if(""==this.state.content)this.props.toggleComment();else{var e=this.props,t=e.revertIsCommentChanged;e.isCommentChanged&&t&&t(),this.setState({isAttachmentModified:!1}),this.clearComment()}}},{key:"dragEnter",value:function(){this.setState({isDragOver:!0})}},{key:"dragLeave",value:function(){this.setState({isDragOver:!1})}},{key:"attachDrop",value:function(e){var t=e.nativeEvent.dataTransfer;Object(k.h)(t,e)&&(e.preventDefault(),this.uploadAttach(t.files),this.setState({isDragOver:!1})),e.stopPropagation(),this.setState({isDragOver:!1})}},{key:"dragAttach",value:function(e){this.uploadAttach(e)}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"toggleTools",value:function(){var e=this;this.setState({showTools:!this.state.showTools},function(){e.state.showTools?N.a.setItem("showCommentTools",!0):N.a.setItem("showCommentTools",!1)})}},{key:"commentCallback",value:function(e){var t=this,o=this.props.mention,a=(void 0===o?[]:o).map(function(e){var t=e.type,o=e.name,a=e.zuid,n=e.id,i=e.firstName,r=e.lastName,s=e.photoURL,l=Object(A.e)(i,r);return"AGENT"==t?{avatar:s,id:a,name:l,type:"user",value:l}:{id:n,name:o,type:"team",value:o}});e.mentionsHandler("setMentions",a),ZohoDeskEditor._addEvent(e.doc,"keyup",function(){setTimeout(function(){t.checkCommentChanged(e)},1)})}},{key:"checkCommentChanged",value:function(e){e=e||editor["Comment_"+this.props.id];var t=this.props,o=t.value,a=t.type,n=t.isCommentChanged,i=t.setIsCommentChanged,r=t.revertIsCommentChanged,s=this.state.isAttachmentModified,l=e.getContent()||"";"edit"==a?o==l?!s&&n&&r&&r():!n&&i&&i():Object(T.d)(e)?(this.setState({content:""}),!s&&n&&r&&r()):(this.setState({content:l}),!n&&i&&i())}},{key:"openCloudAttach",value:function(){this.setState({isCLoudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCLoudOpen:!1})}},{key:"closeComment",value:function(){var e=this.props,t=e.id,o=e.closeComment;o(t)}},{key:"render",value:function(){y.f.getI18NValue("support.create.form.label.attachment.mycomputer"),y.f.getI18NValue("support.create.form.label.attachment.cloud");var e=this.props,t=e.type,o=e.orgId,a=e.id,n=e.from,i=e.showAttachmentViewer,r=e.photoURL,s=e.name,l=e.borderStyle,c=(e.value,e.revertIsCommentChanged),d=e.isCommentChanged,m=e.editorMode,u=void 0===m?"CommentEditor":m,p=e.isFromBlueprint,f=e.hasPrivacyMode,h=void 0===f||f,_=e.hasAttachments,v=void 0===_||_,C=e.isCloudAttchOpen,k=e.CloudAttachmentIframe,A=e.havePublicComment,N=e.needAttachment,T=e.getAutofillContacts,O=this.state,B=O.content,$=void 0===B?"":B,F=O.oldAttachments,L=O.newAttachments,R=O.isDragOver,M=O.mode,j=O.showTools,z=O.isCLoudOpen,q=O.isLoading,V={handleAutoFill:!0,needEditorFocus:"feeds"!=n&&!p,skipScrollOnEnter:!0,resizeOptions:{minHeight:80,maxHeight:225},defaultfontfamily:"'ProximaNovaRegular',Arial,Helvetica,sans-serif",defaultfontsize:"14px",padding:"0",lineHeight:"22px",needInlineAttachHandling:!1,getAutofillContacts:T,handleInlineDropImage:this.dragAttach},U="public"==M,K=b.a.postbox;return"leftPanel"==n&&(K=K+" "+b.a.minW319),K="bottom"==l?K+" "+b.a.defaultborder:K+" "+b.a.fullborder,g.a.createElement("div",{className:K+" "+(p?b.a.bluePrintLayar:""),onDragEnter:this.dragEnter,onDragOver:this.dragEnter,onDragLeave:this.dragLeave,onDrop:this.attachDrop},R&&g.a.createElement("div",{className:b.a.attachOver},y.f.getI18NValue("support.request.attachment.drop.files")),g.a.createElement("div",{className:b.a.postHeader},p?null:g.a.createElement("span",{className:b.a.postAvatar},g.a.createElement(E.a,{src:r,name:s,size:"xsmall",iconName:"conversation"==t&&"zdeskCommentfilled",borderPalette:"conversation"==t&&"primary",iconColor:"conversation"==t&&"primary",iconSize:"conversation"==t&&"8"})),g.a.createElement("div",{className:b.a.commentBox+" commentArea "+(j?"":"hideTools")+" "+("leftPanel"==n?"leftCommentArea":"")},g.a.createElement(D.a,{id:"Comment_"+a,value:$,editorCallback:this.commentCallback,editorMode:u,editorOptions:V})),v?g.a.createElement("div",{className:b.a.attachHolder+" "+(j?b.a.attachHolderVisi:"")},g.a.createElement(w.a,{oldAttachments:F,newAttachments:L,orgId:o,deleleUpload:this.deleleUpload,removeAttachment:this.removeAttachment,from:n,showAttachmentViewer:i})):null),g.a.createElement(x.Container,{alignBox:"row",className:"leftPanel"==n?b.a.leftFooter+" "+b.a.postFooter:b.a.postFooter},g.a.createElement(x.Box,{className:b.a.commentOptions},g.a.createElement("span",{className:b.a.listIcon},v&&N?g.a.createElement("span",{className:b.a.attachParent+" "+("edit"==t?b.a.bdrNone+" "+b.a.attchIcn:"leftPanel"==n?b.a.bdrNone+" "+b.a.mt0+" "+b.a.attchIcn:b.a.attchIcn),"data-id":"AttachIcon"},g.a.createElement("label",{className:b.a.fileCont,htmlFor:"commentAttach"},g.a.createElement("input",{className:b.a.fileAttch,type:"file",onChange:this.uploadAttach,multiple:"multiple",id:"commentAttach"})),g.a.createElement(S.TopbandFontIcon,{name:"attachment5",size:"14"}),"leftPanel"==n?g.a.createElement("div",{className:b.a.attchPopup},g.a.createElement(P.a,{labelName:"commentAttachLabel",boxPosition:"bottomRight",onAttchClick:this.uploadAttach,openCloudAttach:this.openCloudAttach})):null):null,v&&"leftPanel"!=n&&N?g.a.createElement("span",{className:b.a.iconCloud,onClick:this.openCloudAttach},g.a.createElement(S.TopbandFontIcon,{name:"cloudIcon",size:"12"})):null,g.a.createElement("span",{"data-title":y.f.getI18NValue("support.label.comments.format"),className:b.a.iconAttach,onClick:this.toggleTools},"A"))),p?null:g.a.createElement(I.a,{revertIsCommentChanged:c,isCommentChanged:d,closeComment:this.closeComment,updateComment:this.updateComment,toggleComment:this.toggleComment,clearComment:this.clearComment,type:t,from:n,isPublic:U,changeMode:this.changeMode,content:$,addComment:this.addComment,hasPrivacyMode:h,havePublicComment:A,isLoading:q}),C&&z&&k?g.a.createElement(k,{addCloudAttch:this.addCloudAttch,totalLen:F.length+L.length,closeIframe:this.closeCloudAttach}):null))}}]),o}(g.a.Component);t.a=O,O.propTypes={CloudAttachmentIframe:v.a.node,addComment:v.a.func,attachmentIds:v.a.func,attachments:v.a.object,borderStyle:v.a.string,closeComment:v.a.func,deleleUpload:v.a.func,editorMode:v.a.string,from:v.a.string,getAutofillContacts:v.a.func,hasAttachments:v.a.bool,hasPrivacyMode:v.a.bool,havePublicComment:v.a.bool,id:v.a.string,isCloudAttchOpen:v.a.bool,isCommentChanged:v.a.bool,isFromBlueprint:v.a.bool,mention:v.a.array,name:v.a.string,needAttachment:v.a.bool,newAttachments:v.a.object,oldAttachments:v.a.object,openCloudAttach:v.a.func,orgId:v.a.string,page:v.a.string,photoURL:v.a.string,revertIsCommentChanged:v.a.func,setAttachmentIds:v.a.func,setIsCommentChanged:v.a.func,showAttachmentViewer:v.a.func,showConfirmBox:v.a.func,showMessage:v.a.func,toggleComment:v.a.func,type:v.a.string,updateComment:v.a.func,uploadAttach:v.a.func,uploadCloudAttachment:v.a.func,value:v.a.string},O.defaultProps={borderStyle:"bottom",isFromBlueprint:!1,needAttachment:!0}}).call(this,o(530)(e))},1122:function(e,t,o){e.exports={defaultborder:"CommentBox-module__defaultborder",fullborder:"CommentBox-module__fullborder",postHeader:"CommentBox-module__postHeader",commentBox:"CommentBox-module__commentBox",attachOver:"CommentBox-module__attachOver",postAvatar:"CommentBox-module__postAvatar",fileCont:"CommentBox-module__fileCont",postFooter:"CommentBox-module__postFooter",leftFooter:"CommentBox-module__leftFooter common-module__alignBetween",mt0:"CommentBox-module__mt0",postSubmit:"CommentBox-module__postSubmit",radioDiv:"CommentBox-module__radioDiv",radiobtn:"CommentBox-module__radiobtn",bdrNone:"CommentBox-module__bdrNone",minW319:"CommentBox-module__minW319",minW259:"CommentBox-module__minW259",attchIcn:"CommentBox-module__attchIcn",commentOptions:"CommentBox-module__commentOptions common-module__flexgrow",listIcon:"CommentBox-module__listIcon common-module__dflex",iconCloud:"CommentBox-module__iconCloud",iconAttach:"CommentBox-module__iconAttach",sentButton:"CommentBox-module__sentButton",clearButton:"CommentBox-module__clearButton",attachHolderVisi:"CommentBox-module__attachHolderVisi",attachHolder:"CommentBox-module__attachHolder",bluePrintLayar:"CommentBox-module__bluePrintLayar",fileAttch:"CommentBox-module__fileAttch",attchPopup:"CommentBox-module__attchPopup",attachParent:"CommentBox-module__attachParent",postbox:"CommentBox-module__postbox"}},1123:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1124),v=o.n(_),C=o(30),b=o(239),E=o.n(b),w=o(8),I=o(16),y=o(73),k=o.n(y),A=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e));return o.state={isPopupOpen:!1},o.togglePopup=o.togglePopup.bind(o),o}return u()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,o=t.revertIsCommentChanged,a=t.isCommentChanged,n=t.closeComment,i=t.toggleComment,r=t.clearComment,s=t.type,l=t.from,c=t.content,d=void 0===c?"":c,m=t.isPublic,u=t.changeMode,p=t.addComment,h=t.updateComment,g=t.hasPrivacyMode,_=t.havePublicComment,b=t.isLoading,y=this.state.isPopupOpen,A="large";"leftPanel"==l&&(A="medium");var N=""==d&&"conversation"!=s;return f.a.createElement(I.Box,{className:v.a.postSubmit},f.a.createElement("span",{className:v.a.sentButton},"edit"==s?f.a.createElement(k.a,{text:w.f.getI18NValue("support.button.save"),palette:"primaryFilled",size:"medium",onClick:h,status:b?"loading":"none"}):_&&g?f.a.createElement("span",{className:v.a.commentButton},g?f.a.createElement("div",{className:v.a[A]+" "+(b?"":v.a.isActive)},b?f.a.createElement(k.a,{status:"loading",palette:"primaryFilled",size:"medium",className:v.a.loading}):f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:v.a.content,onClick:p},f.a.createElement("p",{className:v.a.actionType},w.f.getI18NValue("tabs.request.comment")),f.a.createElement("p",{className:v.a.subtitle},m?w.f.getI18NValue("support.request.public"):w.f.getI18NValue("support.department.type.internal"))),f.a.createElement("span",{className:v.a.arrow,onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.togglePopup(t)}},f.a.createElement(C.TopbandFontIcon,{name:"blockDownArrow",size:"6"})))):f.a.createElement(k.a,{text:w.f.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,status:b?"loading":"none"}),f.a.createElement("div",{className:v.a.buttonAction+" "+(y?v.a.active:"")+" "+("leftPanel"==l?v.a.commentLeftPopup:" "),onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},f.a.createElement("div",{className:v.a.switchAction,onClick:function(){u(m?"private":"public")}},f.a.createElement("p",null,f.a.createElement("span",{className:v.a.actionNotify},w.f.getI18NValue("support.request.public")),f.a.createElement("span",{className:v.a.switchbox},f.a.createElement(E.a,{id:"commentPrivate",name:"commentPrivate",size:"small",checked:m,onChange:function(){u(m?"private":"public")}}))),f.a.createElement("p",{className:v.a.actionSubtitle},w.f.getI18NValue("support.solutions.comments.display.in.customer.self.service.portal"))))):f.a.createElement(k.a,{text:w.f.getI18NValue("tabs.request.comment"),palette:"primaryFilled",size:"medium",onClick:p,status:b?"loading":"none"})),f.a.createElement("span",{className:v.a.clearButton},f.a.createElement(k.a,{text:"edit"==s||"task"==l||"conversation"==s&&""==d?w.f.getI18NValue("support.label.cancel"):w.f.getI18NValue("support.request.clear"),palette:"secondary",size:"medium",disabled:N,onClick:function(){"edit"==s||"task"==l?(a&&o&&o(),n()):"conversation"==s?i():r()}})))}}]),t}(f.a.Component);t.a=A,A.propTypes={addComment:g.a.func,changeMode:g.a.func,clearComment:g.a.func,closeComment:g.a.func,content:g.a.string,from:g.a.string,hasPrivacyMode:g.a.bool,havePublicComment:g.a.bool,isCommentChanged:g.a.bool,isLoading:g.a.bool,isPublic:g.a.bool,module:g.a.string,revertIsCommentChanged:g.a.func,toggleComment:g.a.func,type:g.a.string,updateComment:g.a.func}},1124:function(e,t,o){e.exports={commentButton:"CommentActionButton-module__commentButton common-module__dflex",commentAction:"CommentActionButton-module__commentAction common-module__dtable",isActive:"CommentActionButton-module__isActive",large:"CommentActionButton-module__large CommentActionButton-module__commentAction common-module__dtable",medium:"CommentActionButton-module__medium CommentActionButton-module__commentAction common-module__dtable",loading:"CommentActionButton-module__loading",peekLeftClearBtn:"CommentActionButton-module__peekLeftClearBtn",arrow:"CommentActionButton-module__arrow",content:"CommentActionButton-module__content common-module__tcenter common-module__pointer",actionType:"CommentActionButton-module__actionType common-module__semibold common-module__ftsmooth",subtitle:"CommentActionButton-module__subtitle common-module__oflow",buttonAction:"CommentActionButton-module__buttonAction common-module__vishidden",active:"CommentActionButton-module__active common-module__visible",actionSubtitle:"CommentActionButton-module__actionSubtitle",switchAction:"CommentActionButton-module__switchAction",actionNotify:"CommentActionButton-module__actionNotify",switchbox:"CommentActionButton-module__switchbox",peekLeftPopup:"CommentActionButton-module__peekLeftPopup",commentLeftPopup:"CommentActionButton-module__commentLeftPopup",pl30:"CommentActionButton-module__pl30",sentButton:"CommentActionButton-module__sentButton",postSubmit:"CommentActionButton-module__postSubmit common-module__dflex"}},1155:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o(26),_=o(1107),v=o(17),C=o(131),b=o(6),E=o(24),w=o(956),I=o(242),y=o(22),k=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e)),a=[],i=o.props.attachments;if(i&&i.length)for(var s=0;s<i.length;s++)a.push(i[s].id);return o.state={from:0,limit:25,attachmentIds:a},o.getAutofillContacts=Object(C.a)(o.getAutofillContacts.bind(o),100,!0),o.getMentions=o.getMentions.bind(o),o.setAttachmentIds=o.setAttachmentIds.bind(o),o}return u()(t,e),l()(t,[{key:"setAttachmentIds",value:function(e){this.setState({attachmentIds:e})}},{key:"getAutofillContacts",value:function(e,t,o){var a=this,n=this.props,i=n.deptId,r=n.teamsList,s=n.getTeamsList;r.length?this.getMentions(e,t,o):s(i).then(function(){a.getMentions(e,t,o)})}},{key:"getMentions",value:function(e,t,o){var a=this,n=this.props,i=n.deptId,r=n.getAgentsList,s=n.searchAgents,l=this.state,c=l.from,d=l.limit;d=(c=(t-1)*d)+d,e.length>1?s(e,c,d).then(function(e){console.log("res",e)}):(this.invokeMentionsCallback(t,o),r(i,c,d).then(function(){a.invokeMentionsCallback(t,o)}))}},{key:"invokeMentionsCallback",value:function(e,t){for(var o=this.props,a=o.agentsObject,n=o.teamsObject,i=o.agentsList,r=o.teamsList,s=i?i.map(function(e){return a[e]}):[],l=r.map(function(e){return n[e]}),c=s.concat(l),d=25*(e-1),m=d+25,u=[],p=0;p<c.length;p++){var f=c[p],h=f.id,g=f.zuid,_=f.name,v=f.isConfirmed,C=f.photoURL,E=f.firstName,w=f.lastName;if(f.subTeams){var I={id:h,name:_,value:_,type:"team",team:Object(b.u)(_)};u.push(I)}else if(v){var y={id:g,userId:h,avatar:C||"https://contacts.localzoho.com/file?t=user&fs=thumb&ID=53746212&exp=600",name:Object(b.e)(E,w),value:_,type:"user"};u.push(y)}}u.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),u=u.slice(d,m);var k={};k.results=u,k.isMore=u.length>0,t(k)}},{key:"render",value:function(){var e=this.props,t=e.type,o=e.orgId,a=e.id,n=e.from,i=e.showAttachmentViewer,r=(e.photoURL,e.name,e.borderStyle),s=e.isPeekView,l=e.value,c=e.revertIsCommentChanged,d=e.setIsCommentChanged,m=e.isCommentChanged,u=e.addComment,p=e.uploadAttach,h=e.deleleUpload,g=e.toggleComment,v=e.updateComment,C=e.closeComment,E=e.showConfirmBox,w=e.showMessage,I=e.page,k=e.oldAttachments,A=e.newAttachments,N=e.attachments,T=e.editorMode,S=e.myInfo,x=e.hasAttachments,D=e.hasPrivacyMode,P=e.openCloudAttach,O=e.isCloudAttchOpen,B=e.mention,$=e.isLightAgent,F=e.havePublicComment,L=e.uploadCloudAttachment,R=e.needAttachment;return f.a.createElement(_.a,{id:a,orgId:o,value:l,from:n,page:I,type:t,addComment:u,updateComment:v,closeComment:C,toggleComment:g,oldAttachments:k,newAttachments:A,attachments:N,uploadAttach:p,deleleUpload:h,showAttachmentViewer:i,isPeekView:s,isCommentChanged:m,setIsCommentChanged:d,revertIsCommentChanged:c,showConfirmBox:E,showMessage:w,borderStyle:r,getAutofillContacts:this.getAutofillContacts,editorMode:T,photoURL:S.photoURL,name:Object(b.e)(S.firstName,S.lastName),setAttachmentIds:this.setAttachmentIds,attachmentIds:this.state.attachmentIds,hasAttachments:x,hasPrivacyMode:D,openCloudAttach:P,isCloudAttchOpen:O,CloudAttachmentIframe:y.s,mention:B,havePublicComment:F&&!$,uploadCloudAttachment:L,needAttachment:R})}}]),t}(f.a.Component);k.propTypes={addComment:h.PropTypes.func,agentsList:h.PropTypes.array,agentsObject:h.PropTypes.object,attachments:h.PropTypes.object,borderStyle:h.PropTypes.string,closeComment:h.PropTypes.func,deleleUpload:h.PropTypes.func,deptId:h.PropTypes.string,editorMode:h.PropTypes.string,from:h.PropTypes.string,getAgentsList:h.PropTypes.func,getTeamsList:h.PropTypes.func,hasAttachments:h.PropTypes.bool,hasPrivacyMode:h.PropTypes.bool,havePublicComment:h.PropTypes.bool,id:h.PropTypes.string,isCloudAttchOpen:h.PropTypes.bool,isCommentChanged:h.PropTypes.bool,isLightAgent:h.PropTypes.bool,isPeekView:h.PropTypes.bool,mention:h.PropTypes.array,myInfo:h.PropTypes.object,needAttachment:h.PropTypes.bool,newAttachments:h.PropTypes.object,oldAttachments:h.PropTypes.object,openCloudAttach:h.PropTypes.func,orgId:h.PropTypes.string,page:h.PropTypes.string,revertIsCommentChanged:h.PropTypes.func,searchAgents:h.PropTypes.func,setIsCommentChanged:h.PropTypes.func,showAttachmentViewer:h.PropTypes.func,showConfirmBox:h.PropTypes.func,showMessage:h.PropTypes.func,teamsList:h.PropTypes.array,teamsObject:h.PropTypes.object,toggleComment:h.PropTypes.func,type:h.PropTypes.string,updateComment:h.PropTypes.func,uploadAttach:h.PropTypes.func,uploadCloudAttachment:h.PropTypes.func,value:h.PropTypes.string},t.a=Object(g.connect)(function(e,t){var o=Object(v.r)(e),a=e.myInfo,n=e.module,i=e.isCloudAttchOpen,r=e.activeAgents,s=e.departmentSpecificState,l=Object(b.c)(a.profileId,n.profile);return{deptId:o,teamsList:s[o].teamsList,agentsList:r[o],agentsObject:n.agent,teamsObject:n.teams,myInfo:a,isCloudAttchOpen:i,isLightAgent:l}},{getTeamsList:E.u,getAgentsList:w.g,searchAgents:w.j,showConfirmBox:E.a.showConfirmBox,showMessage:E.Q,openCloudAttach:I.h,uploadCloudAttachment:I.l})(k)},1168:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1197),v=o.n(_),C=o(8),b=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e));return o.state={playingIndex:1},o.play=o.play.bind(o),o.playNext=o.playNext.bind(o),o.pauseOthers=o.pauseOthers.bind(o),o}return u()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var o=document.getElementById("audio"+t);o&&o.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,o){e!=o+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,o=this.props.thread,a=JSON.parse(o.content),n=a.voicemailurl,i=a.recordingurl,r=a.voicemailduration,s=a.recordingduration,l=void 0,c=void 0,d=void 0,m=[],u=0;if(n.startsWith("https://")||i.startsWith("https://"))n.startsWith("https://")?(l=n,c=r,d=C.f.getI18NValue("support.twi.msg.voicemessage")):(l=i,c=s,d=C.f.getI18NValue("support.twi.msg.callrecording"));else{u=(m=JSON.parse(a.recordingurl)).length,l=m[0].url,l=u>2?l:l+m[1].rid;var p=s%3600,h=Math.floor(p/60),g=p%60,_=Math.ceil(g);c=Math.floor(s/3600)+":"+h+":"+_+" (H:M:S)",d=C.f.getI18NValue("support.twi.msg.callrecording")}return f.a.createElement("div",{className:v.a.audioDiv},f.a.createElement("div",{className:v.a.audioHead},f.a.createElement("span",{className:v.a.audioTitle},d),f.a.createElement("span",{className:v.a.audioDur},"( ",C.f.getI18NValue("crm.activities.call.duration"),":",f.a.createElement("span",null,c)," )"),u>2?f.a.createElement("span",null,C.f.getI18NValue("support.label.playing")," ",f.a.createElement("span",null,t),"/",u-1," ",C.f.getI18NValue("support.label.recording")):null),f.a.createElement("div",{className:v.a.audioSource},u>2?m.map(function(t,o){var a=m[o].rid;return a?f.a.createElement("audio",{controls:!0,id:"audio"+o,src:l+a,key:o,className:v.a.audio,onPlay:function(){e.play(o)},onEnded:function(){e.playNext(o)},style:{display:"block"}}):null}):f.a.createElement("audio",{controls:!0,src:l,className:v.a.audio})))}}]),t}(f.a.Component);t.a=b,b.propTypes={thread:g.a.object}},1175:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopOverContainer=t.PopOverTarget=void 0;var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),n=c(o(0)),i=c(o(1)),r=c(o(1210)),s=c(o(80)),l=c(o(72));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e){d(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.popOverTargetRef=o.popOverTargetRef.bind(o),o.popOverContainerRef=o.popOverContainerRef.bind(o),o.togglePopup=o.togglePopup.bind(o),o}return u(t,n.default.Component),a(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.isPopupOpen,a=t.onPopupOpen,n=t.onPopupClose;e.isPopupOpen!==o&&(o&&a&&a(),!o&&n&&n())}},{key:"popOverTargetRef",value:function(e){this.popOverTarget=e,(0,this.props.getTargetRef)(e)}},{key:"popOverContainerRef",value:function(e){this.popOverContainer=e,(0,this.props.getContainerRef)(e)}},{key:"togglePopup",value:function(e){var t=this.props,o=t.togglePopup;o(e,t.boxPosition)}},{key:"render",value:function(){var e=this,t=this.props,o=t.children,a=t.isPopupOpen,i=t.removeClose,s=t.right,l=t.left,c=t.top,d=t.bottom,m=t.arrowRight,u=t.arrowLeft,p=t.arrowTop,f=t.arrowBottom,h=t.isAnimate,g=t.isArrow,_=t.arrowPosition,v=t.position,C=t.size,b=t.onClick,E=t.isPopupReady,w=n.default.Children.map(o,function(t,o){return 1===o?n.default.cloneElement(t,{isPopupOpen:a,togglePopup:e.togglePopup,removeClose:i,right:s,left:l,top:c,bottom:d,arrowRight:m,arrowLeft:u,arrowTop:p,arrowBottom:f,boxPosition:v,isAnimate:h,isArrow:g,arrowPosition:_,size:C,onClick:b,getRef:e.popOverContainerRef,isPopupReady:E}):n.default.cloneElement(t,{isPopupOpen:a,togglePopup:e.togglePopup,removeClose:i,getRef:e.popOverTargetRef})});return n.default.createElement("div",{className:r.default.popup},w)}}]),t}();p.defaultProps={isAnimate:!1,isArrow:!1},p.propTypes={arrowBottom:i.default.string,arrowLeft:i.default.string,arrowPosition:i.default.string,arrowRight:i.default.string,arrowTop:i.default.string,bottom:i.default.string,boxPosition:i.default.string,children:i.default.node,getContainerRef:i.default.func,getTargetRef:i.default.func,isAnimate:i.default.bool,isArrow:i.default.bool,isPopupOpen:i.default.bool,isPopupReady:i.default.bool,left:i.default.string,onClick:i.default.func,onPopupClose:i.default.func,onPopupOpen:i.default.func,position:i.default.string,removeClose:i.default.func,right:i.default.string,size:i.default.string,togglePopup:i.default.func,top:i.default.string},p.propTypesDescription={right:" ",left:" ",top:" ",bottom:" ",arrowRight:" ",arrowLeft:" ",arrowTop:" ",arrowBottom:" ",arrowPosition:" ",boxPosition:" ",size:" ",children:" ",onPopupOpen:" ",isPopupOpen:" ",onPopupClose:" ",getTargetRef:" ",getContainerRef:" "},t.default=(0,s.default)(p),(t.PopOverTarget=function(e){function t(e){d(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getRef=o.getRef.bind(o),o}return u(t,n.default.Component),a(t,[{key:"getRef",value:function(e){var t=this.props.getRef;t(e)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.togglePopup;return n.default.createElement("div",{className:r.default.target,onClick:o,ref:this.getRef},t)}}]),t}()).propTypes={children:i.default.node,getRef:i.default.func,togglePopup:i.default.func};var f=t.PopOverContainer=function(e){function t(e){d(this,t);var o=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleClick=o.handleClick.bind(o),o.getRef=o.getRef.bind(o),o}return u(t,n.default.Component),a(t,[{key:"getRef",value:function(e){var t=this.props.getRef;t&&t(e)}},{key:"handleClick",value:function(e){var t=this.props,o=t.onClick,a=t.removeClose;a&&a(e),o&&o()}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.isPopupOpen,a=e.isAnimate,i=e.isArrow,r=e.size,s=e.arrowPosition,c=e.boxPosition,d=e.right,m=e.left,u=e.top,p=e.bottom,f=e.arrowRight,h=e.arrowLeft,g=e.arrowTop,_=e.arrowBottom,v=e.animationStyle,C=e.getRef;return n.default.createElement(l.default,{animationStyle:v,arrowBottom:_,arrowLeft:h,arrowPosition:s,arrowRight:f,arrowTop:g,bottom:p,boxPosition:c,getRef:C,isActive:o,isAnimate:a,isArrow:i,left:m,right:d,size:r,top:u},t)}}]),t}();f.defaultProps={isArrow:!1},f.propTypes={animationStyle:i.default.string,arrowBottom:i.default.string,arrowLeft:i.default.string,arrowPosition:i.default.string,arrowRight:i.default.string,arrowTop:i.default.string,bottom:i.default.string,boxPosition:i.default.string,children:i.default.node,getRef:i.default.func,isAnimate:i.default.bool,isArrow:i.default.bool,isPopupOpen:i.default.bool,left:i.default.string,onClick:i.default.func,removeClose:i.default.func,right:i.default.string,size:i.default.string,top:i.default.string}},1197:function(e,t,o){e.exports={audioDiv:"AudioMessage-module__audioDiv",audioHead:"AudioMessage-module__audioHead",audioTitle:"AudioMessage-module__audioTitle",audioDur:"AudioMessage-module__audioDur",audioSource:"AudioMessage-module__audioSource",audio:"AudioMessage-module__audio"}},1210:function(e,t,o){e.exports={popup:"PopOver-module__popup",target:"PopOver-module__target common-module__offSelection"}},122:function(e,t,o){e.exports={attachment:"ThreadAttachments-module__attachment common-module__cboth",medium:"ThreadAttachments-module__medium",small:"ThreadAttachments-module__small",attachleft:"ThreadAttachments-module__attachleft common-module__tcenter",attachright:"ThreadAttachments-module__attachright",atatchName:"ThreadAttachments-module__atatchName common-module__dotted common-module__oflow common-module__ellipsis",attachSize:"ThreadAttachments-module__attachSize",attachDownload:"ThreadAttachments-module__attachDownload",pt8:"ThreadAttachments-module__pt8",docspan:"ThreadAttachments-module__docspan",attachCount:"ThreadAttachments-module__attachCount",mr6:"ThreadAttachments-module__mr6",ml6:"ThreadAttachments-module__ml6"}},1266:function(e,t,o){"use strict";(function(e){o.d(t,"c",function(){return r}),o.d(t,"a",function(){return s}),o.d(t,"d",function(){return l}),o.d(t,"e",function(){return c}),o.d(t,"b",function(){return d});var a=o(253),n=o(1318),i=o(6);function r(t,o){o(function(){var o,i;AcsApi.autoCorrect=(o=AcsApi.autoCorrect,i={},function(){var e=this,t=arguments[0],a=i[t];a&&clearTimeout(a);var n=arguments;i[t]=setTimeout(function(){o.apply(e,n),i[t]=null},1e3)}),AcsApi.init("Support","crmcsrfparam","crmcsr"),AcsDesktopNotification.syncOwner(),t(Object(a.l)()),"undefined"==typeof AcsResource&&(e.AcsResource={}),AcsResource.resourceobject=n.a,AcsApi.getBadgeCount("UNS")})}function s(e,t){var o={},a=t(),n=e.getInfo(void 0,!0),i=null,r=e.getAdditionalProperty("zgid")||"null",s=e.getAdditionalProperty("sanitizedOrgName")||a.module.org[r].portalName;e.getActionOwner()&&("_NONE_"!=e.getActionOwner().split(":")[0]&&(i=e.getAdditionalProperty("photoUrl")||i));var l=e.getAdditionalProperty("LAST_ACTIVITY");if("INCOMING_MAIL"==l||"RESPONSE_RECEIVED"==l||"contact"==e.getAdditionalProperty("photo_type")){i=null;var c=""+e.getAdditionalProperty("Contact_Id")||"";"undefined"!=c&&""!=c&&"null"!=c&&"null"!=r&&(i="/api/v1/contacts/"+c+"/photo?portalname="+s)}var d=e.getSkey()||Date.now(),m="";e.getProperty("viewkey")&&(m=e.getProperty("viewkey"));var u="";e.getRepeatCount()&&(u=e.getRepeatCount());var p="";e.getRepeatUsers()&&(p=e.getRepeatUsers());var f=e.getTime()||"";o.fdk=e._ntfn["Feed.fdk"],o.departmentId=e.getAdditionalProperty("Department"),o.accessFrom=e.getAccFrom(),o.type=e.getType(),o.title=n,o.photourl=i,o.ISNEW=e.isNew(),o.SKEY=d,o.info=e.getAdditionalProperty("info")||e.getAdditionalProperty("niceurl"),o.VIEWKEY=m,o.repCount=u,o.repUsers=p,o.time=f,o.seid=e.getAdditionalProperty("seid"),o.caseNumber=e.getAdditionalProperty("caseNumber"),o.subject=e.getAdditionalProperty("subject"),o.type=e.getProperty("type"),o.orgId=r;var h=e.getAdditionalProperty("sanitizedDepName"),g=e.getAdditionalProperty("sanitizedModule");if("Request"===o.type||"Ticket"===o.type){var _=e.getAdditionalProperty("caseId");o.entityURL=h?"/agent/"+s+"/"+h+"/"+g+"/details/"+_:"/support/"+s+"/ShowHomePage.do#Cases/dv/"+o.seid}else"status"===o.type||"Direct Message"===o.type||"StatusMessage"===o.type?(o.subject=e.getAdditionalProperty("subject"),o.entityURL="/support/"+s+"/ShowHomePage.do#feeds/"+o.info):"Task"===o.type&&(o.entityURL=h?"/agent/"+s+"/"+h+"/"+g+"/details/"+o.seid:"/support/"+s+"/ShowHomePage.do#Tasks/dv/"+o.seid);return o}function l(e,t){return(e=s(e,t)).isRead=!1,e.ISNEW=!1,e}function c(e,t,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{t=void 0===t?{}:t,o=null==o||o;for(var n=e,r=new RegExp("zsu[@[a-z]+(#|:).+?]zsu","g"),s=void 0;null!=(s=r.exec(e));){var l=s[0],c=l.split("zsu[")[1].slice(0,-4);if(0==c.indexOf("#")){var d=c.split(":"),m=d[0],u=d[2],p=m,f=a.routing.paramMap,h="/agent/"+f.orgName+"/"+f.deptName+"/"+a.moduleMeta.tickets.sanitizedName+"/details/"+u;o&&(p="<a href="+h+' class="clrblu">'+m+"</a>"),n=n.replace(l,p)}else if(0==c.indexOf("@"))if(-1!==c.indexOf("user")){var g=t[(_=c.replace("@user#","").replace("@user:","").split("_"))[0]];p=g;o?(g=g.replace(/>/g,"&gt;").replace(/</g,"&lt;"),p='<a href="javascript:;" class="clrblu" onclick="return false">'+Object(i.k)(g)+"</a>"):p=Object(i.k)(p),n=n.replace(l,p)}else{(_=c.replace("@team#","").replace("@team:","").split("_"))[0];var _,v=_[1];v=v.replace(/>/g,"&gt;").replace(/</g,"&lt;"),p='<a href="javascript:;" class="clrblu" onclick="return false">'+Object(i.k)(v)+"</a>",n=n.replace(l,p)}}return n}catch(t){return e}}function d(e,t){t=""+t,e="feedback widget"==(e=(""+e).toLowerCase())?e.replace(/\s+/g,""):e;var o={email:["support.request.status.email.icon.title"],phone:["support.request.status.phone.icon.title"],forums:["support.request.status.forums.icon.title"],web:["support.request.status.web.icon.title"],twitter:["support.request.status.request.twitter.incoming.icon.title"],facebook:["support.request.status.request.facebook.incoming.icon.title"],chat:["support.request.status.chat.icon.title"],feedbackwidget:["support.request.status.feedbackwidget.icon.title"],2:["support.request.status.request.sent.icon.title","ogmrequest"],3:["support.request.status.req.receive.icon.title","icmrequest"],6:["support.request.status.request.drafted.icon.title","ogmrequest"],7:["support.request.status.request.drafted.icon.title","icmrequest"],9:["support.request.status.req.receive.icon.title","icmrequest"],11:["support.request.status.req.receive.icon.title","icmforumrequest"],12:["support.request.status.request.sent.icon.title","ogmforumrequest"],13:["support.request.status.request.sent.icon.title","ogmforumrequest"],14:["support.request.status.req.receive.icon.title","icmforumrequest"],15:["support.request.status.request.forward.icon.title","fwdrequest"],17:["support.request.status.req.receive.icon.title","incomingCTI"],18:["support.request.status.request.sent.icon.title","outgoingCTI"],19:["support.request.status.request.twitter.incoming.icon.title","NewTwiticm"],20:["support.request.status.request.twitter.response.icon.title","NewTwiticm"],21:["support.request.status.request.twitter.outgoing.icon.title","NewTwitogn"],22:["support.request.status.request.facebook.incoming.icon.title","NewFbookIcm"],23:["support.request.status.request.facebook.response.icon.title","NewFbookIcm"],24:["support.request.status.request.facebook.outgoing.icon.title","NewFbookogn"],25:["support.request.status.chat.icon.title","chat"],26:["support.request.status.offlinechat.icon.title","offlinechat"],32:["support.request.status.req.receive.icon.title","incomingCTI"],33:["support.request.status.request.sent.icon.title","outgoingCTI"],34:["support.survey.listview.feedback.received"],43:["support.request.history.new.facebook.directMessage.received","NewFbookIcm"],44:["support.request.history.new.facebook.directMessage.received","NewFbookIcm"],45:["support.request.history.new.facebook.directMessage.sent","NewFbookogn"]};return t=["","undefined","0","1","5"].includes(t)||!o.hasOwnProperty(t)?e:t,o.hasOwnProperty(t)?o[t][0]:""}}).call(this,o(68))},1318:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var a={"Status.direct.message.title":"$1 has sent a Direct Message in $2","Status.direct.message.title.min":"$1 has sent a Direct Message","Request.merged":"$2 has merged $1 in $3","Request.reassigned.with.account.min":"$5 reassigned a $1 from $2 | $3 to $4","Request.bug.added":"$2 added a $1 in $3","Request.restore.title.with.account":"$1 received from $2 | $3 in $4","Request.pickedup.without.account":"$3 self-assigned a $1 from $2 in $4","Request.updated.without.account":"$3 updated a $1 from $2 in $4","Task.update.min":"$2 updated a $1","Request.merged.min":"$2 has merged $1","Request.ownerupdate.without.account.min":"$1 from $2 was assigned to $3","Comment.updated.min":"$1 updated a comment","ACS.errortitle":"Error","ACS.errormsg":"Action cannot be performed as $1 has been deleted.","Task.completed":"$1 completed a $2 in $3","Request.add.without.account.min":"$1 from $2 was assigned to $3","Request.ownerupdate.with.account":"$1 from $2 | $3 was assigned to $4 in $5","User.mentions.comment":"$1 has mentioned you in a comment","Request.bug.reopened.min":"$2 re-opened a $1","Request.split.to.with.account.and.with.owner":"Spawned $1 from $2 | $3 was assigned to $4 in $5","Request.closed.without.account":"$2 from $3 was closed in $4","Request.response.received.with.account.min":"New Response received from $1 | $2","Request.updated.with.account":"$4 updated a $1 from $2 | $3 in $5","Task.update":"$2 updated a $1 in $3","Unassigned.Request.added.without.account":"New $1 received from $2 in $3","Request.closed.with.account.min":"$2 from $3 | $4 was closed","Request.reassigned.without.account":"$4 reassigned a $1 from $2 to $3 in $5","Request.pickedup.with.account.min":"$4 self-assigned a $1 from $2 | $3","Request.add.with.account":"$1 from $2 | $3 was assigned to $4 in $5","Comment.updated":"$1 updated a comment in $2","Request.split.to.without.account.and.without.owner":"$1 from $2 was spawned in $3","Request.resolution.deleted":"$1 has deleted a Resolution in $2","Task.add.min":"$3 assigned a new $1 to $2","Request.split.to.without.account.and.without.owner.min":"$1 from $2 was spawned","Request.response.sent.with.account":"$3 replied to $1 | $2 in $4","Request.split.to.with.account.and.with.owner.min":"Spawned $1 from $2 | $3 was assigned to $4","Comment.added.min":"$1 posted a comment","Request.response.received.without.account.min":"New Response received from $1","Request.restore.title.without.account":"$1 received from $2 in $3","Request.reopened.without.account.min":"$1 reopened a $2 from $3","Request.reopened.with.account":"$1 reopened a $2 from $3 | $4 in $5","Task.restore.title.min":"$2 was assigned with a $1","Task.reopened":"$2 re-opened a $1 in $3","Request.bug.closed.min":"$2 closed a $1","Request.response.received.without.account":"New Response received from $1 in $2","Request.resolution.added.min":"$1 has added a Resolution","Unassigned.Request.added.without.account.min":"New $1 received from $2","Request.resolution.deleted.min":"$1 has deleted a Resolution","Request.pickedup.without.account.min":"$3 self-assigned a $1 from $2 ","Request.pickedup.with.account":"$4 self-assigned a $1 from $2 | $3 in $5","Request.split.to.with.account.and.without.owner":"$1 from $2 | $3 was spawned in $4","Request.split.to.without.account.and.with.owner":"Spawned $1 from $2 was assigned to $3 in $4","Request.moved.min":"$4 moved a $1 from $3 to $2","Task.add":"$3 assigned a new $1 to $2 in $4","Survey.added.with.account":"$2 | $3 left a $4 rating for a $1 in $5","Request.split.to.without.account.and.with.owner.min":"Spawned $1 from $2 was assigned to $3","Request.closed.without.account.min":"$2 from $3 was closed","Request.updated.without.account.min":"$3 updated a $1 from $2","Survey.added.without.account.min":"$2 left a $3 rating for a $1","Comment.added":"$1 posted a comment in $2","Request.forwarded.min":"$2 forwarded a $1","Request.closed.with.account":"$2 from $3 | $4 was closed in $5","Unassigned.Request.added.with.account.min":"New $1 received from $2 | $3","Task.pickedup.min":"$2 self-assigned a $1","Status.update.message":"$1 has added a Status in $2","Status.update.message.min":"$1 has added a Status","Request.reopened.with.account.min":"$1 reopened a $2 from $3 | $4","Task.pickedup":"$2 self-assigned a $1 in $3","Request.reassigned.without.account.min":"$4 reassigned a $1 from $2 to $3","Request.resolution.added":"$1 has added a Resolution in $2","Task.owner.reassigned.min":"$3 reassigned a $1 to $2","Request.split.to.with.account.and.without.owner.min":"$1 from $2 | $3 was spawned","Request.response.received.with.account":"New Response received from $1 | $2 in $3","Survey.added.with.account.min":"$2 | $3 left a $4 rating for a $1","Request.restore.title.with.account.min":"$1 received from $2 | $3","Unassigned.Request.added.with.account":"New $1 received from $2 | $3 in $4","Request.resolution.modified.min":"Resolution updated by $1","Request.bug.reopened":"$2 re-opened a $1 in $3","Request.moved":"$4 moved a $1 from $3 to $2","Request.bug.closed":"$2 closed a $1 in $3","Task.reopened.min":"$2 re-opened a $1","Request.restore.title.without.account.min":"$1 received from $2","Request.splitted.min":"$3 has split a $1 from $2","Request.response.sent.with.account.min":"$3 replied to $1 | $2","Request.response.sent.without.account":"$2 replied to $1 in $3","Task.completed.min":"$1 completed a $2","Request.add.without.account":"$1 from $2 was assigned to $3 in $4","Request.ownerupdate.without.account":"$1 from $2 was assigned to $3 in $4","Request.updated.with.account.min":"$4 updated a $1 from $2 | $3","Task.owner.reassigned":"$3 reassigned a $1 to $2 in $4","Request.ownerupdate.with.account.min":"$1 from $2 | $3 was assigned to $4","Request.forwarded":"$2 forwarded a $1 in $3","Task.restore.title":"$2 was assigned with a $1 in $3","Request.resolution.modified":"Resolution updated by $1 in $2","Request.reassigned.with.account":"$5 reassigned a $1 from $2 | $3 to $4 in $6","Request.bug.added.min":"$2 added a $1","Request.response.sent.without.account.min":"$2 replied to $1","Survey.added.without.account":"$2 left a $3 rating for a $1 in $4","Request.splitted":"$3 has split a $1 from $2 in $4","Request.add.with.account.min":"$1 from $2 | $3 was assigned to $4","Request.reopened.without.account":"$1 reopened a $2 from $3 in $4"}},1319:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var a={LABEL_REQUEST:"LABEL_REQUEST",LABEL_REQUESTS:"LABEL_REQUESTS",LABEL_TASK:"LABEL_TASK",USER_NAME:"USER_NAME",ACTION_OWNER:"ACTION_OWNER",COMMENTED_BY:"COMMENTED_BY",RECORD_OWNER:"RECORD_OWNER",FROM_DEPARTMENT:"FROM_DEPARTMENT",TO_DEPARTMENT:"TO_DEPARTMENT",CONTACTS:"CONTACTS",ACCOUNTS:"ACCOUNTS",BUG_URL:"BUG_URL",DEPARTMENT:"DEPARTMENT",SURVEY_GOOD:"Good",SURVEY_OK:"OK",SURVEY_BAD:"Bad",COMMENTRANGE:"50"}},1457:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=(o(1),o(1458)),g=o.n(h),_=o(16),v=o(233),C=o.n(v),b=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(_.Container,{alignBox:"column",isCover:!1},f.a.createElement(_.Box,{className:g.a.stencilSec},f.a.createElement(_.Container,{alignBox:"row",className:g.a.stencil,isCover:!1},f.a.createElement(_.Box,null,f.a.createElement(C.a,{shape:"circle",size:"large",palette:"primary"})),f.a.createElement(_.Box,{flexible:!0,className:g.a.middle},f.a.createElement(_.Container,{alignBox:"row",isCover:!1},f.a.createElement(_.Box,{flexible:!0},f.a.createElement(C.a,{size:"default",palette:"primary"})),f.a.createElement(_.Box,{className:g.a.rgt},f.a.createElement(C.a,{size:"default",palette:"primary"}))),f.a.createElement(_.Box,{className:g.a.secondLIne},f.a.createElement(C.a,{size:"default",palette:"primary"})),f.a.createElement(_.Box,{className:g.a.secondLIne},f.a.createElement(C.a,{size:"default",palette:"primary"})),f.a.createElement(_.Box,{className:g.a.secondLIne},f.a.createElement(C.a,{size:"default",palette:"primary"}))))))}}]),t}(p.Component);t.a=b,b.propTypes={}},1458:function(e,t,o){e.exports={stencilSec:"Loading-module__stencilSec",stencil:"Loading-module__stencil",middle:"Loading-module__middle",secondLIne:"Loading-module__secondLIne",rgt:"Loading-module__rgt"}},1459:function(e,t,o){e.exports={feedTickContainer:"FeedLayer-module__feedTickContainer",notificationTickContainer:"FeedLayer-module__notificationTickContainer",feedLft:"FeedLayer-module__feedLft",feedRgt:"FeedLayer-module__feedRgt",feedArrow:"FeedLayer-module__feedArrow",vMore:"FeedLayer-module__vMore",displaying:"FeedLayer-module__displaying",arrgrey:"FeedLayer-module__arrgrey",arrwhite:"FeedLayer-module__arrwhite",latitle:"FeedLayer-module__latitle",notilatitle:"FeedLayer-module__notilatitle",closeArrow:"FeedLayer-module__closeArrow",backToHome:"FeedLayer-module__backToHome",commentHolder:"FeedLayer-module__commentHolder"}},1460:function(e,t,o){e.exports={feedTick:"FeedBody-module__feedTick",notifyTick:"FeedBody-module__notifyTick",userLft:"FeedBody-module__userLft",notifycont:"FeedBody-module__notifycont",dot:"FeedBody-module__dot common-module__dinblk common-module__posrel common-module__vtop",user:"FeedBody-module__user",text:"FeedBody-module__text",team:"FeedBody-module__team",cont:"FeedBody-module__cont",moreIcon:"FeedBody-module__moreIcon",rlySec:"FeedBody-module__rlySec",cmntTxt:"FeedBody-module__cmntTxt common-module__dotted common-module__oflow common-module__ellipsis",countTxt:"FeedBody-module__countTxt common-module__dotted common-module__oflow common-module__ellipsis",dateTxt:"FeedBody-module__dateTxt common-module__dotted common-module__oflow common-module__ellipsis",dueSection:"FeedBody-module__dueSection",dueIcon:"FeedBody-module__dueIcon",dueDate:"FeedBody-module__dueDate",timeCont:"FeedBody-module__timeCont",chanlIcon:"FeedBody-module__chanlIcon"}},1461:function(e,t,o){e.exports={container:"FeedPopContent-module__container",moreIcon:"FeedPopContent-module__moreIcon",popup:"FeedPopContent-module__popup",txt:"FeedPopContent-module__txt common-module__oflowy",closeIcn:"FeedPopContent-module__closeIcn"}},1462:function(e,t,o){e.exports={cmtSection:"FeedComment-module__cmtSection",AvaImg:"FeedComment-module__AvaImg",contArea:"FeedComment-module__contArea",attachCont:"FeedComment-module__attachCont",isNew:"FeedComment-module__isNew",popup:"FeedComment-module__popup",titleTxt:"FeedComment-module__titleTxt",priteTxt:"FeedComment-module__priteTxt common-module__dotted common-module__oflow common-module__ellipsis",cmtTxt:"FeedComment-module__cmtTxt",priThread:"FeedComment-module__priThread",dateTxt:"FeedComment-module__dateTxt common-module__dotted common-module__oflow common-module__ellipsis",downArrow:"FeedComment-module__downArrow",show:"FeedComment-module__show"}},1463:function(e,t,o){e.exports={feeddata:"AuthorPopup-module__feeddata",AvaImg:"AuthorPopup-module__AvaImg",popSec:"AuthorPopup-module__popSec",userTxt:"AuthorPopup-module__userTxt common-module__dotted common-module__oflow common-module__ellipsis",mailTxt:"AuthorPopup-module__mailTxt common-module__dotted common-module__oflow common-module__ellipsis",box:"AuthorPopup-module__box"}},1531:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(1459),v=o.n(_),C=o(16),b=o(64),E=o.n(b),w=o(1460),I=o.n(w),y=o(1461),k=o.n(y),A=o(1175),N=o.n(A),T=o(63),S=o.n(T),x=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.content,o=e.toggleFeedPopup;return f.a.createElement("div",{className:k.a.container},f.a.createElement(N.a,{onmouseOver:this.handleMouseOver,isArrow:!0,position:"bottomLeft"},f.a.createElement(A.PopOverTarget,null,f.a.createElement("div",{className:k.a.moreIcon,onClick:o},f.a.createElement(S.a,{name:"more22",size:"15"}))),f.a.createElement(A.PopOverContainer,{left:"-20px"},f.a.createElement("div",{className:k.a.popup},f.a.createElement("div",{className:k.a.closeIcn},f.a.createElement(S.a,{name:"cross"})),f.a.createElement("div",{className:k.a.txt,dangerouslySetInnerHTML:{__html:t}})))))}}]),t}(p.Component),D=x;x.propTypes={content:g.a.string,toggleFeedPopup:g.a.func};var P=o(176),O=o.n(P),B=o(120),$=o.n(B),F=o(248),L=o(969),R=o(1168),M=o(8),j=(o(6),o(1266)),z=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e));return o.changeStatus=o.changeStatus.bind(o),o}return u()(t,e),l()(t,[{key:"changeStatus",value:function(e,t,o){var a={department:this.props.department};this.props.changeStatus(e,t,o,a)}},{key:"render",value:function(){var e=this.props,t=e.time,o=e.duedate,a=e.title,n=e.type,i=e.cont,r=e.cmdcount,s=(e.recordOwner,e.activityType),l=e.isClosed,c=e.isOnHold,d=e.isCompleted,m=e.haveCloseTicketPermission,u=e.haveMailSendPermission,p=e.haveTaskCreatePermission,h=e.toggleComment,g=e.fdk,_=e.moduleId,v=e.openTicketDv,b=e.openTicketTask,w=e.toggleFeedPopup,y=e.threadContent,k=e.isFromNotification,A=(e.timeZone,e.onholdtime),N=e.channel,T=e.threadStatus,S=e.threadObj,x=e.photourl,P=e.priority;A=A?M.f.userDateFormat(new Date(Number(A)).toISOString(),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}):null;var B=!1;o=o?M.f.userDateFormat(new Date(Number(o)).toISOString(),{},"lateby","left",!1,function(e){return"lateby"==e.suffix&&(B=!0),"DD MMM YYYY hh:mm A"}):null;var F="",z="";if("Request"==n){F=Object(j.b)(N,T),N=[0,1,5].includes(T)?N:S.channel;var q=S.isForward,V=S.status,U=S.isIncoming;q?(z="forward","Draft"==V&&(z="forwardDraft")):z="Draft"==V?"draft":U?"incoming":"outgoing",z=[0,1,5].includes(T)?"default":z}return N=N||"Phone",f.a.createElement(C.Container,{className:k?I.a.notifyTick:I.a.feedTick,alignBox:k?"row":"column"},k?f.a.createElement(C.Box,null,f.a.createElement(E.a,{src:x||"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",size:"xmedium"})):null,f.a.createElement(C.Box,{className:k?I.a.notifycont:"",flexible:!0},f.a.createElement(C.Container,{alignBox:"column"},f.a.createElement(C.Box,null,f.a.createElement(C.Container,{alignBox:"row"},f.a.createElement(C.Box,{className:I.a.userLft,flexible:!0},f.a.createElement("span",{className:I.a.text,dangerouslySetInnerHTML:{__html:a}})),"Request"==n?f.a.createElement(C.Box,{className:I.a.dueDate},k?null:f.a.createElement("span",null,c?f.a.createElement("div",{className:I.a.timeCont,"data-title":M.f.getI18NValue("support.label.onhold.time.duration",[A])},f.a.createElement("span",null,f.a.createElement($.a,{iconClass:"onholdIcon",name:"onHold",size:"12"})),f.a.createElement("span",{className:I.a.dueDate},A)):B?f.a.createElement("span",{className:I.a.dueSection,"data-title":M.f.getI18NValue("support.ticket.label.overduetime.info",[o])+(P&&""!=P?" - "+P:"")},f.a.createElement("span",{className:I.a.dueIcon},f.a.createElement(O.a,{name:"overdue2"})),f.a.createElement("span",{className:I.a.dueDate},o)):null),f.a.createElement("span",{className:I.a.chanlIcon,"data-title":M.f.getI18NValue(F)},f.a.createElement(L.a,{name:N.toUpperCase(),action:z,iconSize:"14",iconColor:"secondary"}))):null)),f.a.createElement(C.Box,null,f.a.createElement("div",{className:I.a.cont,dangerouslySetInnerHTML:{__html:i},onClick:function(){!k&&("Request"==n||"Ticket"==n?v(_):"Task"==n&&b(_))}}),"Request"==n||"Ticket"==n?k?f.a.createElement("div",null,"TELEPHONY"!=S.channel&&"TWILIO"!=S.channel||!y?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:y}}):f.a.createElement(R.a,{thread:{content:y}})):f.a.createElement("div",{className:I.a.moreIcon},f.a.createElement(D,{content:y,toggleFeedPopup:w})):null,f.a.createElement("div",{className:I.a.rlySec},f.a.createElement(M.d,{className:I.a.dateTxt,to:new Date(Number(t)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}),f.a.createElement("span",{className:I.a.dot},"."),"Request"==n||"Ticket"==n||"Task"==n||"Call"==n||"Event"==n||"StatusMessage"==n?f.a.createElement("span",null,f.a.createElement("span",null,f.a.createElement("span",{onClick:h},f.a.createElement("span",{className:I.a.cmntTxt},M.f.getI18NValue("tabs.request.comment")),r?f.a.createElement("span",{className:I.a.countTxt},"(",r,")"):null),"StatusMessage"!==n?f.a.createElement("span",{className:I.a.dot},"."):null),"Request"==n||"Ticket"==n?f.a.createElement("span",null,u&&!k?f.a.createElement("span",null,f.a.createElement("span",{className:I.a.cmntTxt,onClick:function(){v({isPeekView:!0,ticketId:_,needToOpenEditor:!0})}},M.f.getI18NValue("crm.button.reply")),f.a.createElement("span",{className:I.a.dot},".")):null,m?l||c?f.a.createElement("span",{className:I.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Request","reopen")},M.f.getI18NValue("support.feed.subactions.label.reopen")):f.a.createElement("span",{className:I.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Request","close")},M.f.getI18NValue("crm.label.close")):null):"Calls"!=s&&"Events"!=s||d?"Task"==n&&p?d?f.a.createElement("span",{className:I.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Task","reopen")},M.f.getI18NValue("support.feed.subactions.label.reopen")):f.a.createElement("span",{className:I.a.cmntTxt,onClick:this.changeStatus.bind(this,g,"Task","complete")},M.f.getI18NValue("support.complete.icon")):null:f.a.createElement("span",{className:I.a.cmntTxt},M.f.getI18NValue("support.complete.icon"))):null)))))}}]),t}(p.Component),q=z;z.propTypes={activityType:g.a.string,changeStatus:g.a.func,channel:g.a.string,cmdcount:g.a.string,cont:g.a.string,department:g.a.string,duedate:g.a.string,fdk:g.a.string,haveCloseTicketPermission:g.a.bool,haveMailSendPermission:g.a.bool,haveTaskCreatePermission:g.a.bool,isClosed:g.a.bool,isCompleted:g.a.bool,isFromNotification:g.a.bool,isOnHold:g.a.bool,moduleId:g.a.string,onholdtime:g.a.string,openTicketDv:g.a.func,openTicketTask:g.a.func,photourl:g.a.string,priority:g.a.string,recordOwner:g.a.string,threadContent:g.a.string,threadObj:g.a.object,threadStatus:g.a.number,time:g.a.string,timeZone:g.a.string,title:g.a.string,toggleComment:g.a.func,toggleFeedPopup:g.a.func,type:g.a.string};var V=o(1462),U=o.n(V),K=o(459),Z=o(72),H=o.n(Z),W=o(80),Y=o.n(W),G=o(112),J=o.n(G),Q=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e));return o.state={mode:"list"},o}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.comment,a=t.downloadAttachment,n=t.showAttachmentViewer,i=t.orgId,r=t.updateComment,s=t.deleteComment,l=t.uploadAttach,c=t.deleleUpload,d=t.isNew,m=t.togglePopup,u=t.isEditorLoaded,p=t.CommentBoxContainer,h=t.isPopupOpen,g=t.isPopupReady,_=t.position,v=t.getTargetRef,b=t.getContainerRef,w=this.state.mode,I=o.photourl,y=o.commentedby,k=o.cmdtime,A=o.cmtcont,N=o.attachments,T=void 0===N?[]:N;return"list"==w?f.a.createElement(C.Container,{className:U.a.cmtSection+" "+(d?U.a.isNew:""),alignBox:"row"},f.a.createElement(C.Box,{className:U.a.AvaImg},f.a.createElement(E.a,{src:I||null,size:"medium",name:y})),f.a.createElement(C.Box,{className:U.a.contArea,flexible:!0},f.a.createElement(C.Box,null,f.a.createElement(C.Container,{alignBox:"row"},f.a.createElement(C.Box,{flexible:!0},f.a.createElement("span",{className:U.a.titleTxt},y)),f.a.createElement(C.Box,{className:U.a.popup},f.a.createElement("span",{className:U.a.downArrow+" "+(h?U.a.show:""),onClick:m,ref:v},f.a.createElement(S.a,{name:"down1"})),h?f.a.createElement(H.a,{size:"mini",arrowPosition:"end",arrowTop:"-17",arrowRight:"48",isAnimate:!0,boxPosition:_,isActive:g,getRef:b},f.a.createElement(J.a,{value:M.f.getI18NValue("crm.label.edit"),onClick:function(){e.setState({mode:"edit"})},autoHover:!0}),f.a.createElement(J.a,{value:M.f.getI18NValue("support.permission.delete.comment"),onClick:s.bind(this,o.cfdk),autoHover:!0})):null))),f.a.createElement("div",{className:U.a.cmtTxt,dangerouslySetInnerHTML:{__html:A}}),T&&T.length?f.a.createElement("div",{className:U.a.attachCont},f.a.createElement(K.a,{data:T,downloadAttachment:a,showAttachmentViewer:n,orgId:i})):null,f.a.createElement("div",{className:U.a.priThread},f.a.createElement(F.a,{wrap:!0},f.a.createElement("span",{className:U.a.priteTxt},o.is_public?M.f.getI18NValue("support.request.public.comment"):M.f.getI18NValue("support.request.private.comment")),f.a.createElement(M.d,{className:U.a.dateTxt,to:new Date(Number(k)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}))))):u?f.a.createElement(p,{from:"feeds",id:o.cfdk,type:"edit",attachments:T,value:A,orgId:i,closeComment:function(){e.setState({mode:"list"})},uploadAttach:l,deleleUpload:c,updateComment:function(t,a,n,i,s,l){r(o.cfdk,t,a,n,i,s,function(){e.setState({mode:"list"}),l&&l()})},showAttachmentViewer:n}):null}}]),t}(p.Component);Q.propTypes={CommentBoxContainer:g.a.node,comment:g.a.object,deleleUpload:g.a.func,deleteComment:g.a.func,downloadAttachment:g.a.func,getContainerRef:g.a.func,getTargetRef:g.a.func,isEditorLoaded:g.a.func,isNew:g.a.bool,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,orgId:g.a.string,position:g.a.string,showAttachmentViewer:g.a.func,togglePopup:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func};var X=Y()(Q),ee=o(1463),te=o.n(ee),oe=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,a=e.email;return f.a.createElement(C.Container,{className:te.a.feeddata,alignBox:"row"},f.a.createElement(C.Box,{className:te.a.AvaImg},f.a.createElement(E.a,{needTitle:!1,src:t,size:"large",name:o,shape:"square"})),f.a.createElement(C.Box,{className:te.a.popSec,flexible:!0},f.a.createElement("div",{className:te.a.userTxt,"data-title":o},o),f.a.createElement("div",{className:te.a.mailTxt,"data-title":a},a)))}}]),t}(p.Component),ae=oe;oe.propTypes={email:g.a.string,name:g.a.string,src:g.a.string};var ne=function(e){function t(e){r()(this,t);var o=d()(this,(t.__proto__||n()(t)).call(this,e));return o.state={threadContent:o.props.feed.threadContent,isCommentOpen:!!o.props.feed.cmdcount},o.toggleComment=o.toggleComment.bind(o),o.toggleFeedPopup=o.toggleFeedPopup.bind(o),o.postComment=o.postComment.bind(o),o.deleteComment=o.deleteComment.bind(o),o.updateComment=o.updateComment.bind(o),o}return u()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.feed.threadContent!==e.feed.threadContent){var t=e.feed.threadContent;t=""===t?M.f.getI18NValue("support.label.threads.nocontent"):t,this.setState({threadContent:t})}this.props.feed.cmdcount!==e.feed.cmdcount&&this.setState({isCommentOpen:!!e.feed.cmdcount})}},{key:"toggleComment",value:function(){this.setState({isCommentOpen:!this.state.isCommentOpen})}},{key:"postComment",value:function(e,t,o){var a=this.props.feed,n=e.content,i=e.isPublic,r=e.attachmentIds,s={};s.value=n,s.department=a.department,s.attachmentIds=r.toString(),"Request"==a.type?(s.isPublic=i,this.props.postComment(a.fdk,"Request","comment",s,a.viewkey).then(function(){o()})):"Task"==a.type?this.props.postComment(a.fdk,"Task","comment",s,a.viewkey).then(function(){o()}):"StatusMessage"==a.type&&this.props.postComment(a.fdk,"StatusMessage","comment",s,a.viewkey).then(function(){o()})}},{key:"updateComment",value:function(e,t,o,a,n,i,r){var s=this.props.feed,l={};if(o=encodeURIComponent(o),l.value=o,l.department=s.department,l.cfdk=e,l.fdk=s.fdk,a.length){var c="";a.forEach(function(e,t){c+=0==t?e:","+e}),l.attachmentIds=c}"Request"==s.type?(l.module="Cases",this.props.updateComment(s.fdk,"Request","editComment",l,s.viewkey).then(function(){r()})):"Task"==s.type?(l.module="Tasks",this.props.updateComment(s.fdk,"Task","editComment",l,s.viewkey).then(function(){r()})):"StatusMessage"==s.type&&(l.module="Direct Message",this.props.updateComment(s.fdk,"StatusMessage","editComment",l,s.viewkey).then(function(){r()}))}},{key:"toggleFeedPopup",value:function(){var e=this.props,t=e.feed,o=e.toggleFeedPopup;this.state.threadContent||this.setState({threadContent:"Loading..."}),o(t.seid,t.fdk)}},{key:"deleteComment",value:function(e){var t=this.props,o=t.feed,a=t.deleteComment,n={};n.department=o.department,n.cfdk=e,n.fdk=o.fdk,"Request"==o.type?(n.module="Cases",a(o.fdk,"Request","deleteComment",n)):"Task"==o.type?(n.module="Tasks",a(o.fdk,"Task","deleteComment",n)):"StatusMessage"==o.type&&(n.module="Direct Message",a(o.fdk,"StatusMessage","deleteComment",n))}},{key:"render",value:function(){var e=this,t=this.props,o=t.feed,a=t.haveCloseTicketPermission,n=t.haveMailSendPermission,i=t.haveTaskCreatePermission,r=t.changeStatus,s=t.openTicketDv,l=t.openTicketTask,c=t.downloadAttachment,d=t.uploadAttach,m=(t.deleleUpload,t.showAttachmentViewer),u=t.viewAllComment,p=t.orgId,h=t.isFromNotification,g=t.deptId,_=t.isSingleFeed,b=t.backToHome,w=t.isEditorLoaded,I=t.feedId,y=t.timeZone,k=t.CommentBoxContainer,T=this.state,x=T.isCommentOpen,D=T.threadContent;return f.a.createElement(C.Container,{className:h?v.a.notificationTickContainer:v.a.feedTickContainer,alignBox:"column",scroll:h?"both":null},_?f.a.createElement(C.Box,{className:v.a.backToHome,onClick:b},""," ",M.f.getI18NValue("support.label.zohosupport.home")):null,h?f.a.createElement("span",{className:v.a.closeArrow},f.a.createElement(S.a,{name:"cross"})):null,o.latitle?f.a.createElement(C.Box,{dangerouslySetInnerHTML:{__html:h||"allDepartment"==g?o.laplaintitle:o.lamintitle},className:h?v.a.notilatitle:v.a.latitle}):null,f.a.createElement(C.Box,null,f.a.createElement(C.Container,{alignBox:"row"},h?null:f.a.createElement(C.Box,{className:v.a.feedLft},f.a.createElement(N.a,{onmouseOver:function(){},size:"large",boxPosition:"bottomRight"},f.a.createElement(A.PopOverTarget,null,f.a.createElement(E.a,{name:o.name||"Sridhar",src:o.photourl,size:"xmedium",needTitle:!1})),f.a.createElement(A.PopOverContainer,null,f.a.createElement("div",null,f.a.createElement(ae,{src:o.photourl||"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",name:o.name||"Sridhar",email:o.email||"sridhar.parthsarathy@zohocorp.com"}))))),f.a.createElement(C.Box,{className:h?"":v.a.feedRgt,flexible:!0},h?null:f.a.createElement("div",{className:v.a.feedArrow},f.a.createElement("div",{className:v.a.arrgrey}),f.a.createElement("div",{className:v.a.arrwhite})),f.a.createElement(C.Box,null,f.a.createElement(q,{type:o.type,title:"allDepartment"==g?o.title:o.mintitle,moduleId:o.seid,cont:o.cont,cmdcount:o.comments.length,recordOwner:o.recordOwner,activityType:o.activityType,isCompleted:o.isCompleted,isClosed:o.isClosed,isOnHold:o.isOnHold,onholdtime:o.onholdtime,haveCloseTicketPermission:a,haveMailSendPermission:n,haveTaskCreatePermission:i,toggleComment:this.toggleComment,changeStatus:function(e,t,a,n){r(e,t,a,n,o.viewkey)},fdk:o.fdk,department:o.department,openTicketDv:s,openTicketTask:l,toggleFeedPopup:this.toggleFeedPopup,threadContent:D||o.threadContent,duedate:o.duedate,time:o.time,isFromNotification:h,timeZone:y,channel:o.channel,threadStatus:o.threadStatus,threadObj:o.threadObj,photourl:o.photourl,priority:o.priority})),x?f.a.createElement("div",null,(o.cmore||o.displayingCmt)&&o.comments.length?f.a.createElement("div",{className:o.cmore?v.a.vMore:v.a.displaying,onClick:function(){var e=o.skey,t=o.fdk,a=o.cmore,n=o.viewkey;u(e,t,a,n)}},o.cmore?M.f.getI18NValue("support.zti.viewall"):M.f.getI18NValue("support.comment.display.all")):null,o.cmdcount?o.comments.map(function(t,a){return f.a.createElement(X,{key:a,comment:t,isEditorLoaded:w,downloadAttachment:c,showAttachmentViewer:m,orgId:p,updateComment:e.updateComment,deleteComment:e.deleteComment,uploadAttach:d,deleleUpload:d,isNew:"push"==o.rendertype&&"comment"==o.latype&&o.comments.length==a+1,timeZone:y,CommentBoxContainer:k})}):null,w?f.a.createElement("div",{className:v.a.commentHolder},f.a.createElement(k,{id:I,from:"feeds",orgId:p,downloadAttachment:c,uploadAttach:d,deleleUpload:d,showAttachmentViewer:m,addComment:this.postComment,needAttachment:"StatusMessage"!=o.type})):null):null))))}}]),t}(p.Component);t.a=ne;ne.propTypes={CommentBoxContainer:g.a.node,backToHome:g.a.func,changeStatus:g.a.func,deleleUpload:g.a.func,deleteComment:g.a.func,deptId:g.a.string,downloadAttachment:g.a.func,feed:g.a.object,feedId:g.a.string,haveCloseTicketPermission:g.a.bool,haveMailSendPermission:g.a.bool,haveTaskCreatePermission:g.a.bool,isEditorLoaded:g.a.bool,isFromNotification:g.a.bool,isSingleFeed:g.a.bool,openTicketDv:g.a.func,openTicketTask:g.a.func,orgId:g.a.string,postComment:g.a.func,showAttachmentViewer:g.a.func,timeZone:g.a.string,toggleFeedPopup:g.a.func,updateComment:g.a.func,uploadAttach:g.a.func,viewAllComment:g.a.func}},1711:function(e,t,o){e.exports={header:"NotificationContainer-module__header",closeIcon:"NotificationContainer-module__closeIcon",clearIcon:"NotificationContainer-module__clearIcon",notiCont:"NotificationContainer-module__notiCont",countCont:"NotificationContainer-module__countCont",posrel:"NotificationContainer-module__posrel",failureIcon:"NotificationContainer-module__failureIcon",count:"NotificationContainer-module__count",countShow:"NotificationContainer-module__countShow",bounceIn:"NotificationContainer-module__bounceIn"}},1712:function(e,t,o){e.exports={listItem:"Notification-module__listItem",selected:"Notification-module__selected",subjectContainer:"Notification-module__subjectContainer",title:"Notification-module__title",time:"Notification-module__time",moreActivity:"Notification-module__moreActivity",isNew:"Notification-module__isNew",userImage:"Notification-module__userImage"}},1713:function(e,t,o){e.exports={listItem:"Sublist-module__listItem",header:"Sublist-module__header",back:"Sublist-module__back",subject:"Sublist-module__subject common-module__dotted common-module__oflow common-module__ellipsis",unAccessSubject:"Sublist-module__unAccessSubject common-module__semibold common-module__ftsmooth",subjectContainer:"Sublist-module__subjectContainer",title:"Sublist-module__title",time:"Sublist-module__time",SublistContainer:"Sublist-module__SublistContainer",userImage:"Sublist-module__userImage"}},1714:function(e,t,o){e.exports={container:"NotificationList-module__container",popBox:"NotificationList-module__popBox",more:"NotificationList-module__more"}},1715:function(e,t,o){e.exports={notificationDtls:"NotificationDetails-module__notificationDtls",errMsg:"NotificationDetails-module__errMsg",loadCont:"NotificationDetails-module__loadCont"}},1716:function(e,t,o){e.exports={emailListDiv:"FailureList-module__emailListDiv",listDiv:"FailureList-module__listDiv",channelIcon:"FailureList-module__channelIcon",emailName:"FailureList-module__emailName",reasonMsg:"FailureList-module__reasonMsg",reasonDetail:"FailureList-module__reasonDetail",reason:"FailureList-module__reason",errorMsg:"FailureList-module__errorMsg",selected:"FailureList-module__selected"}},1717:function(e,t,o){e.exports={failureDetails:"FailureDetails-module__failureDetails",faliureInfo:"FailureDetails-module__faliureInfo",errMsg:"FailureDetails-module__errMsg",mailSubject:"FailureDetails-module__mailSubject common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",channelIcon:"FailureDetails-module__channelIcon",newTabicon:"FailureDetails-module__newTabicon",mailAlert:"FailureDetails-module__mailAlert",senderDetail:"FailureDetails-module__senderDetail",composeArea:"FailureDetails-module__composeArea",leftArea:"FailureDetails-module__leftArea",rightArea:"FailureDetails-module__rightArea common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",agentInfo:"FailureDetails-module__agentInfo",senterInfo:"FailureDetails-module__senterInfo",agentDescription:"FailureDetails-module__agentDescription common-module__semibold common-module__ftsmooth",mailTiming:"FailureDetails-module__mailTiming",mailDescription:"FailureDetails-module__mailDescription",footerDiv:"FailureDetails-module__footerDiv",dangerButton:"FailureDetails-module__dangerButton",reportMail:"FailureDetails-module__reportMail",mailsubject:"FailureDetails-module__mailsubject"}},173:function(e,t,o){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},174:function(e,t,o){"use strict";o.d(t,"c",function(){return s}),o.d(t,"e",function(){return l}),o.d(t,"d",function(){return c}),o.d(t,"j",function(){return d}),o.d(t,"n",function(){return m}),o.d(t,"o",function(){return u}),o.d(t,"k",function(){return p}),o.d(t,"i",function(){return f}),o.d(t,"g",function(){return g}),o.d(t,"h",function(){return _}),o.d(t,"a",function(){return v}),o.d(t,"l",function(){return b}),o.d(t,"b",function(){return E}),o.d(t,"m",function(){return w}),o.d(t,"f",function(){return I});var a=o(11),n=o.n(a),i=o(177),r=o(8);function s(e){var t=c(e),o=Object(i.a)().toLowerCase()||"",a=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"filePicture";case"txt":case"rtf":return"fileText2";case"pdf":return"filePdf";case"html":case"htm":case"xhtml":return-1!==o.indexOf("chrome")||-1!==o.indexOf("safari")?"chrome":-1!==o.indexOf("ie")||-1!==o.indexOf("edge")?"ie":"firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ppt";case"rar":case"jar":case"zip":return"zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==a.indexOf("mac")||-1!==a.indexOf("linux")?"fileOpenoffice":"fileWord";case"xml":return"xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"fileExcel";case"ics":return"ics";case"exe":return"exe";case"sh":case"bin":return"sh2";case"css":return"css52";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"fileVideo";default:return"unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return-1!=="jpeg|jpg|png|gif|bmp|ico".indexOf(t)}function m(e,t){var o={inValidArray:[],validArray:[]};if(t+e.length>10)return o.isCountExceeds=!0,o;for(var a=0;a<e.length;a++){var n=e[a],i=n.name,r=n.size;p(i)?o.inValidArray.push({isUnSupported:!0}):f(i)?o.inValidArray.push({isFileNameSizeInvalid:!0}):0===n.size?o.inValidArray.push({isEmpty:!0}):h(r)?o.inValidArray.push({isAttachSizeExceeded:!0}):o.validArray.push(n)}return o}function u(e,t,o){if(t+e.length>10)alert(r.f.getI18NValue("support.attachments.count.exceeds",[10]));else for(var a=0;a<e.length;a++){var n=e[a],i=n.name,s=n.size;if(p(i))alert(r.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(i))alert(r.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==n.size)if(h(s))alert(r.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var l=new FormData;l.append("file",n),o&&o(l)}else alert(r.f.getI18NValue("support.request.empty.attachment.message"))}}function p(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function h(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function _(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function v(e,t,o){var a={};a.previewData=t.filter(function(e){return!e.isPreview&&d(e.name)}),a.previewData.filter(function(t,o){t.id===e&&(a.selectedIndex=o)}),o&&o(a)}function C(e,t,o){var a=e.indexOf("/api"),n=e;return a>-1&&(n=e.slice(a,e.length),n+="?orgId="+t+(o?"&inline=true":"")),n}function b(e,t){window.open(C(e,t,!0))}function E(e,t){window.location.href=C(e,t,!1)}function w(e,t,o,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],m=0;if(a&&l>a-o){var u=r.f.getI18NValue("support.attachments.count.exceeds",[a]);return n.a.resolve({isError:!0,errorI18N:u})}for(var h=0;h<l;h++){var g=e[h],_=g||{},v=_.size,C=void 0===v?0:v,b=_.name,E=void 0===b?"":b;if(m+=C,p(E)){var w=r.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:w,fileName:E,errorType:"fileType"})}else if(f(E)){var I=r.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:I,fileName:E,errorType:"fileNameSize"})}else if(0===C){var y=r.f.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:y,fileName:E,errorType:"emptyFile"})}else d.push(g)}if(!d.length){if(1===c.length){var k=c[0].errorI18N;return n.a.resolve({isError:!0,errorI18N:k})}var A=r.f.getI18NValue("support.unable.to.process.your.request");return n.a.resolve({isError:!0,errorI18N:A})}if(0===m){var N=r.f.getI18NValue("support.request.empty.attachment.message");return n.a.resolve({isError:!0,errorI18N:N})}if(m+s>1024*i*1024){var T=r.f.getI18NValue("support.attachments.size.limit.exceeds",[i]);return n.a.resolve({isError:!0,errorI18N:T})}for(var S=[],x=[],D=[],P=function(e){var o=d[e];if(t){var a=new FormData;a.append("file",o);var n=t(a).then(function(e){var t=(e.data||{}).data,o=void 0===t?{}:t,a=o.id;a&&(S.push(o),x.push(a))},function(e){var t=o.name,a=r.f.getI18NValue("support.unable.to.process.your.request");throw c.push({errorI18N:a,fileName:t,errorType:"apiError"}),e});D.push(n)}},O=0;O<d.length;O++)P(O);var B={uploadFiles:S,inValidFiles:c,isError:!1,uploadFileIds:x};return n.a.all(D).then(function(){return B},function(){return S.length?B:{isError:!0,errorI18N:r.f.getI18NValue("support.unable.to.process.your.request")}})}function I(e,t){var o=e.name;return{index:t,isPreview:!0,size:e.size,name:o,href:URL.createObjectURL(e)}}},233:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),n=s(o(0)),i=s(o(1)),r=s(o(527));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.shape,o=e.size,a=e.palette;return o="rect"===t?r.default[o]:r.default["c"+o],t="rect"===t?r.default.rectangular:r.default.circle,n.default.createElement("div",{className:t+" "+o+" "+r.default[a]})}}]),t}();t.default=l,l.propTypes={palette:i.default.oneOf(["primary","secondary"]),shape:i.default.oneOf(["rect","circle"]),size:i.default.oneOf(["small","medium","large","default"])},l.defaultProps={palette:"primary",shape:"rect",size:"medium"},l.propTypesDescription={shape:" ",size:" ",palette:" "}},458:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(173),g=o.n(h),_=o(16),v=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(_.Container,{alignBox:"row",align:"both",className:g.a.container},f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}))}}]),t}(f.a.Component);t.a=v},459:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(122),v=o.n(_),C=o(176),b=o.n(C),E=o(120),w=o.n(E),I=o(174),y=o(109),k=o(8),A=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||n()(t)).apply(this,arguments))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.data,a=t.orgId,n=t.showAttachmentViewer,i=t.size,r=t.neNeedToDownload,s=t.dataId,l=Object(I.g)(o);return f.a.createElement("div",null,f.a.createElement("div",{className:v.a.AttachCount,"data-id":s},f.a.createElement("span",{className:v.a.mr6},o.length),f.a.createElement("span",null,f.a.createElement(k.c,{i18NKey:"label.attachments"})),f.a.createElement("span",{className:v.a.ml6},"(",Object(I.e)(l),")")),o.map(function(t,s){var l=Object(I.j)(t.name);return f.a.createElement("div",{className:v.a.docspan,key:s,onClick:r?null:l?I.a.bind(e,t.id,o,function(e){n(e)}):I.l.bind(e,t.viewUrl?t.viewUrl:t.href,a),"data-id":1===o.length?"threadAttch":"threadAttch_"+s},f.a.createElement("span",{className:v.a.attachment+" "+v.a[i]},f.a.createElement("div",{className:v.a.attachleft},f.a.createElement(b.a,{name:Object(I.c)(t.name),size:"20"})),f.a.createElement("div",{className:v.a.attachright},f.a.createElement("span",{className:v.a.atatchName},t.name),f.a.createElement("span",{className:v.a.attachSize},Object(I.e)(t.size))),r?null:f.a.createElement(y.a,{onClick:e.props.downloadAttachment.bind(e,t.downloadUrl?t.downloadUrl:t.href),target:"_blank",className:v.a.attachDownload},f.a.createElement(w.a,{name:"downloadNew",size:"medium"==i?"14":"13",color:"pure"}))))}))}}]),t}(f.a.Component);t.a=A,A.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},A.defaultProps={size:"medium"}},527:function(e,t,o){e.exports={stencil:"Stencils-module__stencil",placeHolderShimmer:"Stencils-module__placeHolderShimmer",rectangular:"Stencils-module__rectangular Stencils-module__stencil",primary:"Stencils-module__primary",secondary:"Stencils-module__secondary",small:"Stencils-module__small",default:"Stencils-module__default",medium:"Stencils-module__medium",large:"Stencils-module__large",circle:"Stencils-module__circle Stencils-module__stencil",clarge:"Stencils-module__clarge",cmedium:"Stencils-module__cmedium",cdefault:"Stencils-module__cdefault",csmall:"Stencils-module__csmall"}},611:function(e,t,o){"use strict";o.r(t);var a=o(5),n=o.n(a),i=o(38),r=o.n(i),s=o(2),l=o.n(s),c=o(12),d=o.n(c),m=o(9),u=o.n(m),p=o(10),f=o.n(p),h=o(13),g=o.n(h),_=o(14),v=o.n(_),C=o(0),b=o.n(C),E=o(1),w=o.n(E),I=o(26),y=o(1711),k=o.n(y),A=o(81),N=o(30),T=o(65),S=o(16),x=o(8),D=o(24),P=o(253),O=o(158),B=o(242),$=o(126),F=o(74),L=o(1712),R=o.n(L),M=o(64),j=o.n(M),z=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||d()(t)).call(this,e))}return v()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.openNotificationDetails,o=e.notification,a=e.openSublist,n=e.selectedSkey,i=o.subList,r=o.ISNEW,s=o.title,l=o.time,c=o.SKEY,d=o.photourl,m=o.fdk,u=o.departmentId,p=o.accessFrom,f=o.type,h=o.orgId;return b.a.createElement("div",{className:R.a.listItem+" "+(n==c?R.a.selected:"")+" "+(r?R.a.isNew:"")},b.a.createElement("div",null,b.a.createElement("div",{className:R.a.userImage},b.a.createElement(j.a,{src:d||"https://localimg.zohostatic.com/support/app/images/default-image.341d62cb40ea38f1d7ee.png",size:"xmedium"})),b.a.createElement("div",{onClick:t.bind(this,c,m,u,f,p,h),className:R.a.subjectContainer},b.a.createElement("div",{className:R.a.title},s),b.a.createElement(x.d,{className:R.a.time,to:new Date(Number(l)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}))),i.length?b.a.createElement("div",{className:R.a.moreActivity},b.a.createElement("span",{onClick:a.bind(this,o)},"+",1==i.length?x.f.getI18NValue("support.feed.activity.singular"):x.f.getI18NValue("support.feed.activities",[i.length]))):null)}}]),t}(C.Component),q=z;z.propTypes={notification:w.a.object,openNotificationDetails:w.a.func,openSublist:w.a.func,selectedSkey:w.a.string,timeZone:w.a.string};var V=o(1713),U=o.n(V),K=o(109),Z=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||d()(t)).call(this,e))}return v()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.notification,o=e.closeSublist,a=e.isUnAccess,n=(e.timeZone,t.subList),i=t.subject,r=t.type,s=t.caseNumber,l=t.title,c=t.entityURL;return a||(i=i?"Request"==r||"Ticket"==r?"#"+s+" "+i:i:l),b.a.createElement(T.Card,{className:U.a.SublistContainer},b.a.createElement(T.CardHeader,{className:U.a.header},b.a.createElement("span",{className:U.a.back,onClick:o},b.a.createElement(N.TopbandFontIcon,{name:"back"})),a?b.a.createElement("span",{className:U.a.unAccessSubject},x.f.getI18NValue("crm.title.unauthorized.access")):b.a.createElement(K.a,{className:U.a.subject,target:"_blank",href:c},i)),b.a.createElement(T.CardContent,null,!a&&n.map(function(e,t){var o=e.photourl,a=e.title,n=e.time;return b.a.createElement("div",{className:U.a.listItem,key:t},b.a.createElement("div",{className:U.a.userImage},b.a.createElement(j.a,{src:o||"https://contacts.zoho.com/file?t=user&fs=thumb&ID=38422263",size:"medium"})),b.a.createElement("div",{className:U.a.subjectContainer},b.a.createElement("div",{className:U.a.title},a),b.a.createElement(x.d,{className:U.a.time,to:new Date(Number(n)).toISOString(),format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"})))})))}}]),t}(C.Component),H=Z;Z.propTypes={closeSublist:w.a.func,isUnAccess:w.a.bool,notification:w.a.object,timeZone:w.a.string};var W=o(1714),Y=o.n(W),G=function(e){function t(e){u()(this,t);var o=g()(this,(t.__proto__||d()(t)).call(this,e));return o.state={isSublistOpen:!1},o.openSublist=o.openSublist.bind(o),o.closeSublist=o.closeSublist.bind(o),o.onScroll=o.onScroll.bind(o),o}return v()(t,e),f()(t,[{key:"openSublist",value:function(e){var t=this,o=e.SKEY,a=e.fdk,n=e.departmentId,i=e.type,r=e.accessFrom,s=e.orgId,l=this.props,c=l.isNotificationDetailOpen,d=l.getAssociatedDepartments;c&&this.props.openNotificationDetails(o,a,n,i,r,s),d(s).then(function(o){-1!=o.data.indexOf(n)?t.setState({subNotification:e,isSublistOpen:!0,isUnAccess:!1}):t.setState({subNotification:{},isUnAccess:!0,isSublistOpen:!0})},function(){t.setState({subNotification:{},isUnAccess:!0,isSublistOpen:!0})})}},{key:"closeSublist",value:function(){this.setState({isSublistOpen:!1})}},{key:"onScroll",value:function(){this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&this.props.morekey&&this.props.fetchData()}},{key:"render",value:function(){var e=this,t=this.props,o=t.notifications,a=t.openNotificationDetails,n=t.selectedSkey,i=t.morekey,r=t.timeZone,s=this.state,l=s.isSublistOpen,c=s.subNotification,d=s.isUnAccess;return b.a.createElement(S.Container,{className:Y.a.container},b.a.createElement(S.Box,{flexible:!0,scroll:"vertical",eleRef:function(t){e.containerRef=t},onScroll:this.onScroll},o.map(function(t,o){return b.a.createElement(q,{key:o,selectedSkey:n,notification:t,openNotificationDetails:a,openSublist:e.openSublist,timeZone:r})}),o.length&&i?b.a.createElement("div",{className:Y.a.more,onClick:function(){AcsApi.getNotificationList("UNS",25,i,void 0,void 0,!0)}},"More..."):null,l&&b.a.createElement(S.Box,{className:Y.a.popBox},b.a.createElement(H,{isUnAccess:d,notification:c,closeSublist:this.closeSublist,timeZone:r}))))}}]),t}(C.Component),J=G;G.propTypes={fetchData:w.a.func,getAssociatedDepartments:w.a.func,isNotificationDetailOpen:w.a.bool,morekey:w.a.string,notifications:w.a.array,openNotificationDetails:w.a.func,selectedSkey:w.a.string,timeZone:w.a.string};var Q,X=o(11),ee=o.n(X),te=o(1715),oe=o.n(te),ae=o(1531),ne=o(1457),ie=o(1319),re=o(204),se=o(6),le=o(3),ce=function(e){function t(e){u()(this,t);var o=g()(this,(t.__proto__||d()(t)).call(this,e));return o.state={},o.uploadAttach=o.uploadAttach.bind(o),o.deleleUpload=o.deleleUpload.bind(o),o.handleError=o.handleError.bind(o),o.changeStatus=o.changeStatus.bind(o),o.postComment=o.postComment.bind(o),o.viewAllComment=o.viewAllComment.bind(o),o.updateComment=o.updateComment.bind(o),o}return v()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;Object(re.a)(le.j,"js","ZohoDeskEditor").then(function(){e.setState({isEditorLoaded:!0})})}},{key:"changeStatus",value:function(e,t,o,a,n){AcsApi.invoke("Support",n,e,t,o,a)}},{key:"postComment",value:function(e,t,o,a,n){return AcsApi.invoke("Support",n,e,t,o,a),ee.a.resolve()}},{key:"viewAllComment",value:function(e,t,o,a){AcsApi.getComments(a,e,t,o,ie.a.COMMENTRANGE)}},{key:"updateComment",value:function(e,t,o,a,n){return AcsApi.invoke("Support",n,e,t,o,a),ee.a.resolve()}},{key:"handleError",value:function(){this.props.showMessage({type:"alert",message:i18NProviderUtils.getI18NValue("support.unable.to.process.your.request")})}},{key:"uploadAttach",value:function(e,t,o){var a=this;return this.props.uploadAttach(e,t,function(e,t){o(e,t)}).then(function(e){return e},function(e){throw a.handleError(),{attachIndex:t,err:e}})}},{key:"deleleUpload",value:function(e){var t=this;return this.props.deleleUpload(e).catch(function(){t.handleError()})}},{key:"render",value:function(){var e=this.props,t=e.feedDetails,o=e.feedDetailsErr,a=e.haveCloseTicketPermission,n=e.haveMailSendPermission,i=e.haveTaskCreatePermission,r=e.downloadAttachment,s=e.showAttachmentViewer,l=e.orgId,c=e.deleteComment,d=e.timeZone,m=e.CommentBoxContainer;return b.a.createElement("div",{className:oe.a.notificationDtls},o?b.a.createElement("div",{className:oe.a.errMsg},o):t&&!Object(se.F)(t)?b.a.createElement(ae.a,{feedId:"feeddetails",isEditorLoaded:this.state.isEditorLoaded,isFromNotification:!0,feed:t||{},haveCloseTicketPermission:a,haveMailSendPermission:n,haveTaskCreatePermission:i,changeStatus:this.changeStatus,postComment:this.postComment,downloadAttachment:r,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,showAttachmentViewer:s,orgId:l,viewAllComment:this.viewAllComment,deleteComment:c,updateComment:this.updateComment,timeZone:d,CommentBoxContainer:m}):b.a.createElement("div",{className:oe.a.loadCont},b.a.createElement(ne.a,null)))}}]),t}(C.Component),de=ce;ce.propTypes=(Q={CommentBoxContainer:w.a.node,deleleUpload:w.a.func,deleteComment:w.a.func},n()(Q,"deleteComment",w.a.func),n()(Q,"downloadAttachment",w.a.func),n()(Q,"feedDetails",w.a.any),n()(Q,"feedDetailsErr",w.a.any),n()(Q,"haveCloseTicketPermission",w.a.bool),n()(Q,"haveMailSendPermission",w.a.bool),n()(Q,"haveTaskCreatePermission",w.a.bool),n()(Q,"orgId",w.a.string),n()(Q,"showAttachmentViewer",w.a.func),n()(Q,"showMessage",w.a.func),n()(Q,"timeZone",w.a.string),n()(Q,"uploadAttach",w.a.func),Q);var me=o(1716),ue=o.n(me),pe=o(152),fe=o(973),he=function(e){function t(e){u()(this,t);var o=g()(this,(t.__proto__||d()(t)).call(this,e));return o.openDetails=o.openDetails.bind(o),o}return v()(t,e),f()(t,[{key:"openDetails",value:function(){var e=this.props,t=e.threadId,o=e.ticketId,a=e.channel,n=e.subject,i=e.ticketNumber,r=e.openDetails,s=e.caseid,l=e.caseChannel,c=e.casesubject,d=e.threadid;r({threadId:t=t||d,ticketId:o=o||s,ticketChannel:a=a||l,subject:n=n||c,ticketNumber:i})}},{key:"render",value:function(){var e=this.props,t=e.channel,o=e.errorMessage,a=e.reason,n=e.subject,i=e.threadId,r=e.ticketNumber,s=(e.openDetails,e.selectedThreadId),l=e.caseChannel,c=e.casesubject;n=n||c;var d="Phone"==(t=t||l)?{name:"chPhone",size:"16"}:"Twitter"==t?{name:"chTwitter",size:"16"}:"Facebook"==t?{name:"chFacebook",size:"18"}:"Web"==t?{name:"chWeb",size:"18"}:"Chat"==t?{name:"chChat",size:"16"}:"Forums"==t?{name:"chForums",size:"14"}:"Feedback Widget"==t?{name:"chFeedbackwidget",size:"19"}:{name:"chEmail1",size:"13"};return b.a.createElement("div",{className:ue.a.emailListDiv+" "+(s==i?ue.a.selected:""),onClick:this.openDetails},b.a.createElement(S.Container,{className:ue.a.listDiv},b.a.createElement(S.Box,null,b.a.createElement(S.Container,{alignBox:"row"},b.a.createElement(S.Box,{className:ue.a.channelIcon},["Email","Phone","Twitter","Facebook","Web","Chat","Forums","Feedback Widget"].includes(t)?b.a.createElement(pe.a,{name:d.name,iconSize:d.size,size:"xmedium",iconColor:"danger11"}):b.a.createElement(fe.a,{name:t,size:"xmedium"})),b.a.createElement(S.Box,{shrink:!1,flexible:!0,className:ue.a.emailDescription},b.a.createElement("div",{className:ue.a.emailName},"#",r," ",n),b.a.createElement("div",{className:ue.a.reasonMsg},a)))),b.a.createElement(S.Box,null,o?b.a.createElement("div",{className:ue.a.reasonDetail},b.a.createElement("span",{className:ue.a.reason},x.f.getI18NValue("crm.import.log.ignorereason")),b.a.createElement("span",{className:ue.a.errorMsg},o)):null)))}}]),t}(b.a.Component),ge=he;he.propTypes={caseChannel:w.a.string,caseid:w.a.string,casesubject:w.a.string,channel:w.a.string,errorMessage:w.a.string,openDetails:w.a.func,reason:w.a.func,selectedThreadId:w.a.string,subject:w.a.string,threadId:w.a.string,threadid:w.a.string,ticketId:w.a.string,ticketNumber:w.a.string};var _e=o(1717),ve=o.n(_e),Ce=o(73),be=o.n(Ce),Ee=o(458),we=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return v()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.selectedThread,o=e.haveMailSendPermission,a=e.resendFailedThread,n=e.deleteFailedThread,i=e.sanitizedDeptName,r=e.orgName,s=e.sanitizedTicketName,l=e.threadDetailsErr,c=t.subject,d=t.ticketNumber,m=t.ticketChannel,u=t.content,p=t.fromEmailAddress,f=t.to,h=t.bcc,g=t.cc,_=t.author,v=void 0===_?{}:_,C=t.createdTime,E=t.ticketId,w=t.caseid;E=E||w;var I="Phone"==m?{name:"chPhone",size:"16"}:"Twitter"==m?{name:"chTwitter",size:"16"}:"Facebook"==m?{name:"chFacebook",size:"18"}:"Web"==m?{name:"chWeb",size:"18"}:"Chat"==m?{name:"chChat",size:"16"}:"Forums"==m?{name:"chForums",size:"14"}:"Feedback Widget"==m?{name:"chFeedbackwidget",size:"19"}:{name:"chEmail1",size:"13"};C=x.f.userDateFormat(new Date(C),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"});var y="/agent/"+r+"/"+i+"/"+s+"/details/"+E;return l?b.a.createElement(S.Container,{className:ve.a.failureDetails,isCover:!1},b.a.createElement("span",{className:ve.a.errMsg},l)):b.a.createElement(S.Container,{className:ve.a.failureDetails,isCover:!1},b.a.createElement(S.Box,{className:ve.a.mailAlert},b.a.createElement(S.Container,{alignBox:"row",className:ve.a.faliureInfo,isCover:!1},b.a.createElement(S.Box,{className:ve.a.channelIcon},["Email","Phone","Twitter","Facebook","Web","Chat","Forums","Feedback Widget"].includes(m)?b.a.createElement(N.TicketsFontIcon,{name:I.name,size:I.size}):b.a.createElement(fe.a,{name:m,size:"xsmall"})),b.a.createElement(S.Box,{flexible:!0,className:ve.a.mailSubject},"#",d," ",c),b.a.createElement(S.Box,null,b.a.createElement(j.a,{name:"Avatar",src:"https://hjemly.dk/wp-content/uploads/2016/05/facebook-default-no-profile-pic.jpg",size:"xsmall",shape:"circle"})),b.a.createElement(K.a,{className:ve.a.newTabicon,href:y,target:"_blank"},b.a.createElement(N.TopbandFontIcon,{name:"newtab",isBold:!0,size:"13",hoverColor:"primary"})))),p?b.a.createElement(S.Box,{flexible:!0},b.a.createElement(S.Container,null,b.a.createElement(S.Box,{className:ve.a.senderDetail},b.a.createElement(S.Container,{alignBox:"row",isCover:!1,className:ve.a.composeArea},b.a.createElement(S.Box,{className:ve.a.leftArea},x.f.getI18NValue("label.request.from")),b.a.createElement(S.Box,{flexible:!0,className:ve.a.rightArea},p)),f?b.a.createElement(S.Container,{alignBox:"row",isCover:!1,className:ve.a.composeArea},b.a.createElement(S.Box,{className:ve.a.leftArea},x.f.getI18NValue("crm.label.to.email")),b.a.createElement(S.Box,{flexible:!0,className:ve.a.rightArea},f)):null,g?b.a.createElement(S.Container,{alignBox:"row",isCover:!1,className:ve.a.composeArea},b.a.createElement(S.Box,{className:ve.a.leftArea},x.f.getI18NValue("crm.label.cc.email")),b.a.createElement(S.Box,{flexible:!0,className:ve.a.rightArea},g)):null,h?b.a.createElement(S.Container,{alignBox:"row",isCover:!1,className:ve.a.composeArea},b.a.createElement(S.Box,{className:ve.a.leftArea},x.f.getI18NValue("crm.label.bcc.email")),b.a.createElement(S.Box,{flexible:!0,className:ve.a.rightArea},h)):null),b.a.createElement(S.Box,{className:ve.a.agentDetails},b.a.createElement(S.Container,{alignBox:"row",className:ve.a.agentInfo},b.a.createElement(S.Box,{className:ve.a.avatarDiv},b.a.createElement(j.a,{name:v.name,src:v.photoURL,size:"xmedium",shape:"circle"})),b.a.createElement(S.Box,{flexible:!0,className:ve.a.senterInfo},b.a.createElement("div",{className:ve.a.agentDescription},v.name),b.a.createElement("div",{className:ve.a.mailTiming},C)))),b.a.createElement(S.Box,{flexible:!0,scroll:"both",className:ve.a.mailDescription},b.a.createElement("div",{dangerouslySetInnerHTML:{__html:u}})),o?b.a.createElement(S.Box,{className:ve.a.footerDiv},b.a.createElement(S.Container,{alignBox:"row"},b.a.createElement(S.Box,{flexible:!0},b.a.createElement("span",null,b.a.createElement(be.a,{text:x.f.getI18NValue("support.mail.label.resend"),palette:"primaryFilled",onClick:a})),b.a.createElement("span",{className:ve.a.dangerButton},b.a.createElement(be.a,{text:x.f.getI18NValue("support.label.thread.delete"),palette:"danger",onClick:n}))),b.a.createElement(S.Box,{className:ve.a.reportMail},x.f.getI18NValue("support.email.report.failure")))):null)):b.a.createElement(Ee.a,null))}}]),t}(b.a.Component),Ie=we;we.propTypes={deleteFailedThread:w.a.func,haveMailSendPermission:w.a.bool,orgName:w.a.string,resendFailedThread:w.a.func,sanitizedDeptName:w.a.string,sanitizedTicketName:w.a.string,selectedThread:w.a.object,threadDetailsErr:w.a.string};var ye,ke=o(1155),Ae=o(17),Ne=function(e){function t(e){u()(this,t);var o=g()(this,(t.__proto__||d()(t)).call(this,e));return o.state={defaultTab:"notification",from:1},o.openNotificationDetails=o.openNotificationDetails.bind(o),o.renderNotification=o.renderNotification.bind(o),o.deleteComment=o.deleteComment.bind(o),o.fetchData=o.fetchData.bind(o),o.chageDefaultTab=o.chageDefaultTab.bind(o),o.clearFailureList=o.clearFailureList.bind(o),o.openFailureDetails=o.openFailureDetails.bind(o),o.resendFailedThread=o.resendFailedThread.bind(o),o.deleteFailedThread=o.deleteFailedThread.bind(o),o}return v()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.isAcsInit?this.props.getPortalList().then(function(){e.renderNotification()}):this.props.getPortalList()}},{key:"componentWillReceiveProps",value:function(e){this.props.isAcsInit!==e.isAcsInit&&e.isAcsInit&&this.renderNotification()}},{key:"renderNotification",value:function(){AcsApi.getNotificationList("UNS",25,void 0,void 0,void 0,!0)}},{key:"openNotificationDetails",value:function(e,t,o,a,n,i){var r=this;this.setState({selectedSkey:e,feedDetailsErr:null,selectedFdk:t}),this.props.openNotificationDetails(),this.props.getOneFeed(t,o,a,"WEB").then(function(e){if("true"==e.data.res.deleted)r.setState({feedDetailsErr:x.f.getI18NValue("crm.record.not.accessible.message")});else{var o=e.data.entities.feeds[t],a=o.type,n=o.seid;"Request"==a&&r.props.getFeedThreadContent(n,t,i)}},function(e){try{"You are not authorized to access department."==JSON.parse(e.responseText).message?r.setState({feedDetailsErr:x.f.getI18NValue("crm.security.error")}):r.setState({feedDetailsErr:x.f.getI18NValue("crm.record.not.accessible.message")})}catch(e){r.setState({feedDetailsErr:x.f.getI18NValue("support.social.general.error")})}})}},{key:"deleteComment",value:function(e,t,o,a){this.props.showConfirmBox({type:"delete",submitText:x.f.getI18NValue("crm.button.ok"),cancelText:x.f.getI18NValue("support.label.cancel"),title:x.f.getI18NValue("support.history.operation.label.wfalert"),message:x.f.getI18NValue("crm.general.delete.comment.confirm"),isActive:!0,palette:"danger"}).then(function(){AcsApi.invoke("Support",void 0,e,t,o,a)},function(){})}},{key:"fetchData",value:function(){var e=this;if("emailFailure"==this.state.defaultTab){var t=this.props,o=t.deptId,a=t.getEmailFailureList,n=this.state.from;return a(o,n+=10).then(function(t){var o=t.data.emailFailure.length<10;e.setState({from:n,noMoreData:o})})}AcsApi.getNotificationList("UNS",25,this.props.notifications.morekey,void 0,void 0,!0)}},{key:"chageDefaultTab",value:function(e){var t=this;this.setState({defaultTab:e,selectedThread:{}});var o=this.props,a=o.deptId,n=o.closeNotificationDetails,i=o.getEmailFailureList;n(),"emailFailure"==e&&(this.setState({from:1}),i(a).then(function(e){var o=e.data.emailFailure.length<10;t.setState({noMoreData:o})}))}},{key:"clearFailureList",value:function(){var e=this;this.props.showConfirmBox({type:"alert",submitText:x.f.getI18NValue("support.request.clear"),cancelText:x.f.getI18NValue("support.label.cancel"),title:x.f.getI18NValue("support.notifications.mail.clearalerts"),message:x.f.getI18NValue("support.failedmail.notification.clearall"),isActive:!0,palette:"danger"}).then(function(){var t=e.props,o=t.deptId,a=t.clearFailureList,n=t.showMessage,i=t.closeNotificationDetails;a(o).then(function(){e.setState({defaultTab:"notification"}),i(),n({type:"success",message:x.f.getI18NValue("support.label.alert.thread.failed.clearall")})})},function(){})}},{key:"openFailureDetails",value:function(e){var t=this;this.setState({selectedThread:e,threadDetailsErr:null});var o=this.props,a=o.openFailureDetails,n=o.getThread;a(),n(e.ticketId,e.threadId).then(function(o){t.setState(function(t){return{selectedThread:l()({},t.selectedThread,o.data.entities.thread[e.threadId])}})},function(e){t.setState({threadDetailsErr:JSON.parse(e.response).message})})}},{key:"resendFailedThread",value:function(){var e=this.state.selectedThread,t=this.props,o=t.deptId,a=t.resendFailedThread,n=t.showMessage,i=t.closeNotificationDetails,r=e.threadId;e.ticketId;a(e.actions[1].href,r,o).then(function(){i(),n({type:"success",message:x.f.getI18NValue("support.label.alert.ticket.resent.success",[x.f.getI18NValue("crm.label.email")])})},function(){n({type:"alert",message:x.f.getI18NValue("support.unable.to.process.your.request")})})}},{key:"deleteFailedThread",value:function(){var e=this.state.selectedThread,t=this.props,o=t.deptId,a=t.deleteThread,n=t.showConfirmBox,i=t.showMessage,r=t.closeNotificationDetails,s=e.threadId,l=(e.ticketId,e.actions[0].href);n({type:"alert",submitText:x.f.getI18NValue("support.permission.delete.comment"),cancelText:x.f.getI18NValue("support.label.cancel"),title:x.f.getI18NValue("support.history.operation.label.wfalert"),message:x.f.getI18NValue("support.failedmail.remove"),isActive:!0,palette:"danger"}).then(function(){a(l,s,o).then(function(){r(),i({type:"success",message:x.f.getI18NValue("support.label.alert.thread.failed.removed")})},function(){i({type:"alert",message:x.f.getI18NValue("support.unable.to.process.your.request")})})},function(){})}},{key:"render",value:function(){var e=this,t=this.state,o=t.defaultTab,a=(t.feedDetails,t.viewkey,t.feedDetailsErr),n=(t.threadContent,t.selectedFdk),i=t.selectedSkey,s=(t.showCount,t.selectedThread),l=void 0===s?{}:s,c=t.noMoreData,d=t.threadDetailsErr,m=this.props,u=m.notifications,p=m.feeds,f=m.haveCloseTicketPermission,h=m.haveMailSendPermission,g=m.haveTaskCreatePermission,_=m.downloadAttachment,v=m.uploadAttach,C=(m.deleleUpload,m.showAttachmentViewer),E=m.orgId,w=m.notificationCount,I=m.clearRealtimeList,y=m.getAssociatedDepartments,D=m.isNotificationDetailOpen,P=m.timeZone,O=m.failureList,B=m.haveEmailFailureList,$=m.isFailureDetailOpen,F=m.sanitizedDeptName,L=m.orgName,R=m.sanitizedTicketName;return b.a.createElement(S.Container,{onClick:closeGroupPopups.bind(this,"feedComment")},b.a.createElement(S.Box,{flexible:!0,className:k.a.notiCont},b.a.createElement(A.TabWrapper,{defaultTab:o,type:"beta",needTabBorder:!0,onSelect:this.chageDefaultTab},b.a.createElement(A.Tabs,{isResponsive:!1},b.a.createElement(A.Tab,{id:"notification"},b.a.createElement("div",null,b.a.createElement(N.TopbandFontIcon,{name:"bell3",size:"25"}))),B?b.a.createElement(A.Tab,{id:"emailFailure",className:k.a.posrel},b.a.createElement("div",null,b.a.createElement(N.TicketsFontIcon,{name:"email1",size:"18"}),b.a.createElement("div",{className:k.a.failureIcon},"!"))):null,b.a.createElement("div",{className:k.a.closeIcon,onClick:function(){e.props.disableNotificationPopup()}},b.a.createElement(N.TopbandFontIcon,{name:"close",size:"35"}))),b.a.createElement(A.TabContentWrapper,null,b.a.createElement(A.TabContent,{id:"notification"},b.a.createElement(T.Card,null,b.a.createElement(T.CardHeader,null,b.a.createElement("div",{className:k.a.countCont},b.a.createElement("div",{className:k.a.count+" "+(w?k.a.countShow:""),onClick:function(){AcsApi.resetBadgeCount("UNS"),I()}},w," ",x.f.getI18NValue("New"))),b.a.createElement("div",{className:k.a.header},x.f.getI18NValue("support.history.filter.notification"))),b.a.createElement(T.CardContent,null,b.a.createElement(J,{getAssociatedDepartments:y,selectedSkey:D?i:"",isNotificationDetailOpen:D,notifications:u.list||[],morekey:u.morekey,fetchData:this.fetchData,openNotificationDetails:this.openNotificationDetails,timeZone:P})))),b.a.createElement(A.TabContent,{id:"emailFailure"},b.a.createElement(T.Card,{needToFetch:!0,noNeedUpScroll:!0,noMoreData:c,fetchData:this.fetchData},b.a.createElement(T.CardHeader,null,b.a.createElement("div",{className:k.a.header},x.f.getI18NValue("support.label.mail.failure.alerts")),b.a.createElement("div",{className:k.a.clearIcon,"data-title":x.f.getI18NValue("support.label.clear.all"),onClick:this.clearFailureList},b.a.createElement(N.TopbandFontIcon,{name:"clearAll",size:"8"}))),b.a.createElement(T.CardContent,null,O.map(function(t,o){return b.a.createElement(ge,r()({key:o},t,{selectedThreadId:l.threadId,openDetails:e.openFailureDetails}))})))))),D?b.a.createElement(de,{feedDetailsErr:a,feedDetails:p[n],haveCloseTicketPermission:f,haveMailSendPermission:h,haveTaskCreatePermission:g,downloadAttachment:_,uploadAttach:v,deleleUpload:v,showAttachmentViewer:C,orgId:E,deleteComment:this.deleteComment,timeZone:P,CommentBoxContainer:ke.a}):$?b.a.createElement(Ie,{threadDetailsErr:d,selectedThread:l,haveMailSendPermission:h,resendFailedThread:this.resendFailedThread,deleteFailedThread:this.deleteFailedThread,sanitizedDeptName:F,orgName:L,sanitizedTicketName:R}):null))}}]),t}(C.Component);Ne.propTypes=(ye={clearFailureList:w.a.func,clearRealtimeList:w.a.func,closeNotificationDetails:w.a.func,deleleUpload:w.a.func,deleteThread:w.a.func,deptId:w.a.string,disableNotificationPopup:w.a.func,downloadAttachment:w.a.func,failureList:w.a.array,feeds:w.a.object,getAssociatedDepartments:w.a.func,getEmailFailureList:w.a.func,getFeedThreadContent:w.a.func,getOneFeed:w.a.func,getPortalList:w.a.func,getThread:w.a.func,haveCloseTicketPermission:w.a.bool,haveEmailFailureList:w.a.bool,haveMailSendPermission:w.a.bool,haveTaskCreatePermission:w.a.bool,isAcsInit:w.a.bool,isFailureDetailOpen:w.a.bool,isNotificationDetailOpen:w.a.bool,notificationCount:w.a.number,notifications:w.a.object,openFailureDetails:w.a.func,openNotificationDetails:w.a.func,orgId:w.a.string,orgName:w.a.string,resendFailedThread:w.a.func,sanitizedDeptName:w.a.string,sanitizedTicketName:w.a.string,showAttachmentViewer:w.a.func,showConfirmBox:w.a.func},n()(ye,"showConfirmBox",w.a.func),n()(ye,"showMessage",w.a.func),n()(ye,"timeZone",w.a.string),n()(ye,"uploadAttach",w.a.func),ye);t.default=Object(I.connect)(function(e,t){var o=Object(Ae.r)(e),a=e.departmentSpecificState[o].emailFailure;return{deptId:o,notifications:e.notifications,isAcsInit:e.isAcsInit,feeds:e.module.feeds,notificationCount:e.notificationCount,isNotificationDetailOpen:e.isNotificationDetailOpen,haveCloseTicketPermission:Object(Ae.Ib)(e,{module:"tickets",mode:"closeTicket"}),haveMailSendPermission:Object(Ae.Ib)(e,{module:"tickets",mode:"mailSend"}),haveTaskCreatePermission:Object(Ae.Ib)(e,{module:"tasks",mode:"create"}),orgId:Object(Ae.N)(e),timeZone:Object(Ae.hb)(e),failureList:a,haveEmailFailureList:a.length,isFailureDetailOpen:e.isFailureDetailOpen,sanitizedDeptName:e.routing.paramMap.deptName,orgName:e.routing.paramMap.orgName,sanitizedTicketName:e.moduleMeta.tickets.sanitizedName}},{getPortalList:O.c,disableNotificationPopup:D.g,getOneFeed:P.f,getFeedThreadContent:P.e,downloadAttachment:B.e,uploadAttach:B.k,deleleUpload:B.d,showAttachmentViewer:B.i,clearRealtimeList:P.b,getAssociatedDepartments:P.d,showMessage:D.Q,showConfirmBox:D.a.showConfirmBox,openNotificationDetails:P.h,closeNotificationDetails:P.c,getEmailFailureList:$.c,openFailureDetails:$.d,getThread:F.j,resendFailedThread:$.e,deleteThread:$.b,clearFailureList:$.a})(Ne)},956:function(e,t,o){"use strict";o.d(t,"i",function(){return u}),o.d(t,"g",function(){return p}),o.d(t,"b",function(){return f}),o.d(t,"j",function(){return h}),o.d(t,"h",function(){return g}),o.d(t,"c",function(){return _}),o.d(t,"e",function(){return v}),o.d(t,"a",function(){return C}),o.d(t,"k",function(){return E}),o.d(t,"d",function(){return I}),o.d(t,"f",function(){return y}),o.d(t,"l",function(){return k});o(20);var a=o(2),n=o.n(a),i=o(15),r=o(6),s=o(7),l=o(17),c=o(46),d=o(3),m=o(39);function u(e){return{types:Object(r.m)("AGENTS_COUNT"),callAPI:function(t){var o=Object(l.r)(t);return Object(i.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return n()({},e,{id:e.agentId})}),{countData:e.data,deptId:o}):{}})}}}function p(e,t,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(r.m)(d.L.AGENT),callAPI:function(r){return Object(i.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+o+"&status=ACTIVE&isConfirmed="+a,!1,{orgId:r.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var a=t.data.length<o,i=Object(s.normalize)(t.data,Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)));return n()(i,{noMoreData:a,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(r.m)(d.L.AGENT),callAPI:function(o){return Object(i.a)("/api/v1/agents/"+e,!1,{orgId:o.currentOrgId}).get().then(function(e){var o=Object(s.normalize)(e,Object(s.schema)(d.L.AGENT_L));return n()(o,{depId:t})})}}}function h(e,t,o){return{types:Object(r.m)("AGENT_SEARCH"),callAPI:function(a){return Object(i.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+o,!1,{orgId:a.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var a=e.data.length<o,i=Object(s.normalize)(e.data,Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)));return n()(i,{noMoreData:a})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],o=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.u,m=arguments[4];return{types:Object(r.m)(d.L.AGENT),callAPI:function(r){var u={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=m||Object(l.r)(r),f=m?"&departmentId="+m:Object(c.a)(r,!0),h="/api/v1/agents?"+(u?u+"&":"")+"from="+t+"&limit="+(2*a>200?200:2*a)+(o?"&searchStr=*"+o+"*":"")+f;return Object(i.a)(encodeURI(h),!1,{orgId:r.currentOrgId}).get().then(function(i){return n()({},Object(s.normalize)(204!==i.responseStatus?i.data:[],Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L))),{deptId:p,from:t,limit:a,isNext:!!i.data&&i.data.length>a,searchStr:o,agentType:e})},function(e){throw e})}}}function _(e){return{types:Object(r.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(i.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)))})}}}function v(e){return{types:Object(r.m)("TEAM_AGENT"),callAPI:function(t){return Object(i.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(s.normalize)(e.members,Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L)))})}}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o="";return t.map(function(t){void 0!==e[t]&&(o+="&"+t+"="+e[t])}),o}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],o=arguments[2];return void 0!==e[t]?e[t]:o}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b(e,"searchType","string"),o=e.searchStr;return o&&(o="string*"==t?o+"*":"*string*"==t?"*"+o+"*":o),o}function w(e){var t=e.isConfirmed,o=e.status;switch(o){case m.a:return m.a;case m.d:return m.d;case m.c:return m.c;default:if(void 0!==t&&!t)return m.l;if(void 0===o)return m.b}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=b(e,"from","1"),e.limit=b(e,"limit","100"),e.searchStr=E(e);var t=e.from>1?m.k:m.j;return{types:Object(r.m)(t),callAPI:function(t){var o="/api/v1/agents?orgId="+t.currentOrgId;return o+=C(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(i.a)(o).get().then(function(t){return n()(Object(s.normalize)(void 0!==t.data?t.data:[],Object(s.arrayOf)(Object(s.schema)(d.L.AGENT_L))),{status:w(e)})})}}}function y(e,t,o){var a={status:e,isConfirmed:t,includeLightAgent:o};return a.includeLightAgent=b(a,"includeLightAgent",!0),{types:Object(r.m)(m.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=C(a,["status","isConfirmed","includeLightAgent"]),Object(i.a)(t).get().then(function(e){return n()({},e,{status:w(a)})})}}}function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:m.m,data:{isEnabled:e}}}},960:function(e,t,o){"use strict";function a(e,t){var o=void 0,a="";return e?"OFFLINE_CHAT"==(o=e.channel)?a="missed":e.isDraft?a="draft":e.isForward?a="forward":"in"===e.direction?a="incoming":"out"===e.direction&&(a="outgoing"):(o=t||"",a="default"),{channelName:o,action:a}}function n(e){return{in:{icon:"emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function i(){return{EMAIL:{default:"chEmail1",incoming:"chEmailIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chEmailMis"},FACEBOOK:{default:"chFacebook",incoming:"chFacebookIn",outgoing:"chFacebookOut",draft:"chFacebookDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFacebookMis"},FACEBOOK_DM:{default:"chFacebookDmOut",incoming:"chFacebookDmOut",outgoing:"chFacebookDmOut",draft:"chFacebookDmOut",forward:"chFacebookDmOut",forwardDraft:"chFacebookDmOut",missed:""},TWITTER:{default:"chTwitter",incoming:"chTwitterIn",outgoing:"chTwitterOut",draft:"chTwitterDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chTwitterMis"},FORUMS:{default:"chForums",incoming:"chForumsIn",outgoing:"chForumsOut",draft:"chForumsDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chForumsMis"},CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},OFFLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},ONLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},PHONE:{default:"activityCalls",incoming:"chPhoneIn",outgoing:"chPhoneOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chPhoneMis"},WEB:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},CUSTOMERPORTAL:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},FEEDBACK:{default:"chFeedback",incoming:"chFeedback",out:"chFeedbackOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFeedbackMis"}}}o.d(t,"c",function(){return a}),o.d(t,"b",function(){return n}),o.d(t,"a",function(){return i})},969:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(972),v=o.n(_),C=o(64),b=o.n(C),E=o(152),w=o(56),I=o.n(w),y=o(960),k=function(e){function t(e){return r()(this,t),d()(this,(t.__proto__||n()(t)).call(this,e))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,o=e.action,a=e.iconSize,n=e.size,i=e.iconColor,r=e.topicIcon,s=e.topicIconTitle,l=e.topicIconSize,c=e.topicIconColor,d=e.iconClass,m=e.dataId,u=e.className,p=e.palette,h=t&&Object(y.a)()[t.toUpperCase()],g=null,_=null;return h?_=h[o]:g=t,f.a.createElement("span",{className:v.a.container},g?f.a.createElement(b.a,{name:g,size:n,palette:p}):n?_?f.a.createElement(E.a,{name:_,iconSize:a,size:n,iconColor:i,iconClass:(d||"")+" "+v.a.iconStyle+" "+(t&&o?v.a[t.toLowerCase()+"_"+o.toLowerCase()]:""),dataId:m,className:u}):f.a.createElement(b.a,{name:t,size:n,palette:p}):f.a.createElement(I.a,{name:_,size:a,color:i,iconClass:d||""}),r?f.a.createElement("span",{className:v.a.thread,"data-title":s},f.a.createElement(I.a,{name:r,size:l,color:c})):null)}}]),t}(p.Component);t.a=k,k.defaultProps={iconSize:"18",name:"phone"},k.propTypes={action:g.a.string,className:g.a.string,dataId:g.a.string,iconClass:g.a.string,iconColor:g.a.string,iconSize:g.a.string,name:g.a.string,palette:g.a.oneOf(["primary","secondary","info","default"]),size:g.a.string,topicIcon:g.a.string,topicIconColor:g.a.string,topicIconSize:g.a.string,topicIconTitle:g.a.string}},972:function(e,t,o){e.exports={container:"ChannelIcon-module__container common-module__dInflex",thread:"ChannelIcon-module__thread common-module__rounded common-module__dflex common-module__alignVertical common-module__alignHorizontal",iconStyle:"ChannelIcon-module__iconStyle",email_incoming:"ChannelIcon-module__email_incoming",email_outgoing:"ChannelIcon-module__email_outgoing",chat_outgoing:"ChannelIcon-module__chat_outgoing",offline_chat_outgoing:"ChannelIcon-module__offline_chat_outgoing",online_chat_outgoing:"ChannelIcon-module__online_chat_outgoing",email_forward:"ChannelIcon-module__email_forward",facebook_forward:"ChannelIcon-module__facebook_forward",twitter_forward:"ChannelIcon-module__twitter_forward",forums_forward:"ChannelIcon-module__forums_forward",chat_forward:"ChannelIcon-module__chat_forward",offline_chat_forward:"ChannelIcon-module__offline_chat_forward",online_chat_forward:"ChannelIcon-module__online_chat_forward",phone_forward:"ChannelIcon-module__phone_forward",web_forward:"ChannelIcon-module__web_forward",customerportal_forward:"ChannelIcon-module__customerportal_forward",feedback_forward:"ChannelIcon-module__feedback_forward",email_forwardDraft:"ChannelIcon-module__email_forwardDraft",facebook_forwardDraft:"ChannelIcon-module__facebook_forwardDraft",twitter_forwardDraft:"ChannelIcon-module__twitter_forwardDraft",forums_forwardDraft:"ChannelIcon-module__forums_forwardDraft",chat_forwardDraft:"ChannelIcon-module__chat_forwardDraft",offline_chat_forwardDraft:"ChannelIcon-module__offline_chat_forwardDraft",online_chat_forwardDraft:"ChannelIcon-module__online_chat_forwardDraft",phone_forwardDraft:"ChannelIcon-module__phone_forwardDraft",web_forwardDraft:"ChannelIcon-module__web_forwardDraft",customerportal_forwardDraft:"ChannelIcon-module__customerportal_forwardDraft",feedback_forwardDraft:"ChannelIcon-module__feedback_forwardDraft",email_missed:"ChannelIcon-module__email_missed",facebook_incoming:"ChannelIcon-module__facebook_incoming",facebook_outgoing:"ChannelIcon-module__facebook_outgoing",facebook_missed:"ChannelIcon-module__facebook_missed",facebook_dm_default:"ChannelIcon-module__facebook_dm_default",facebook_dm_incoming:"ChannelIcon-module__facebook_dm_incoming",facebook_dm_outgoing:"ChannelIcon-module__facebook_dm_outgoing",facebook_dm_draft:"ChannelIcon-module__facebook_dm_draft",facebook_dm_forward:"ChannelIcon-module__facebook_dm_forward",facebook_dm_forwardDraft:"ChannelIcon-module__facebook_dm_forwardDraft",twitter_incoming:"ChannelIcon-module__twitter_incoming",twitter_outgoing:"ChannelIcon-module__twitter_outgoing",twitter_missed:"ChannelIcon-module__twitter_missed",forums_incoming:"ChannelIcon-module__forums_incoming",forums_outgoing:"ChannelIcon-module__forums_outgoing",forums_missed:"ChannelIcon-module__forums_missed",chat_incoming:"ChannelIcon-module__chat_incoming",offline_chat_incoming:"ChannelIcon-module__offline_chat_incoming",online_chat_incoming:"ChannelIcon-module__online_chat_incoming",chat_missed:"ChannelIcon-module__chat_missed",offline_chat_missed:"ChannelIcon-module__offline_chat_missed",online_chat_missed:"ChannelIcon-module__online_chat_missed",phone_incoming:"ChannelIcon-module__phone_incoming",phone_outgoing:"ChannelIcon-module__phone_outgoing",phone_missed:"ChannelIcon-module__phone_missed",feedback_default:"ChannelIcon-module__feedback_default",feedback_incoming:"ChannelIcon-module__feedback_incoming",web_incoming:"ChannelIcon-module__web_incoming",customerportal_incoming:"ChannelIcon-module__customerportal_incoming",web_missed:"ChannelIcon-module__web_missed",customerportal_missed:"ChannelIcon-module__customerportal_missed",feedback_missed:"ChannelIcon-module__feedback_missed",email_default:"ChannelIcon-module__email_default",twitter_default:"ChannelIcon-module__twitter_default",facebook_default:"ChannelIcon-module__facebook_default",chat_default:"ChannelIcon-module__chat_default",offline_chat_default:"ChannelIcon-module__offline_chat_default",online_chat_default:"ChannelIcon-module__online_chat_default",forums_default:"ChannelIcon-module__forums_default",phone_default:"ChannelIcon-module__phone_default",web_default:"ChannelIcon-module__web_default",customerportal_default:"ChannelIcon-module__customerportal_default",email_draft:"ChannelIcon-module__email_draft",facebook_draft:"ChannelIcon-module__facebook_draft",twitter_draft:"ChannelIcon-module__twitter_draft",forums_draft:"ChannelIcon-module__forums_draft",chat_draft:"ChannelIcon-module__chat_draft",offline_chat_draft:"ChannelIcon-module__offline_chat_draft",online_chat_draft:"ChannelIcon-module__online_chat_draft",phone_draft:"ChannelIcon-module__phone_draft",web_draft:"ChannelIcon-module__web_draft",customerportal_draft:"ChannelIcon-module__customerportal_draft",feedback_draft:"ChannelIcon-module__feedback_draft"}},973:function(e,t,o){"use strict";var a=o(12),n=o.n(a),i=o(9),r=o.n(i),s=o(10),l=o.n(s),c=o(13),d=o.n(c),m=o(14),u=o.n(m),p=o(0),f=o.n(p),h=o(1),g=o.n(h),_=o(977),v=o.n(_),C=o(64),b=o.n(C),E=o(30),w=function(e){function t(e){return r()(this,t),d()(this,(t.__proto__||n()(t)).call(this,e))}return u()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,o=e.name,a=e.size,n=e.onClick,i=e.title,r=e.isPaid,s=e.isPortal,l=e.dataId;return f.a.createElement("div",{className:v.a.container+" "+v.a[a],"data-id":l||o},r?f.a.createElement("span",{className:v.a.paid},f.a.createElement(E.TopbandFontIcon,{name:"paiduser",size:"small"})):"",s?f.a.createElement("span",{className:v.a.portal},f.a.createElement(E.CustomersFontIcon,{name:"globe1",size:"small"})):"",f.a.createElement(b.a,{src:t,name:o,title:i,onClick:n,size:a}))}}]),t}(f.a.Component);t.a=w,w.defaultProps={size:"medium"},w.propTypes={dataId:g.a.string,isPaid:g.a.bool,isPortal:g.a.bool,name:g.a.string,onClick:g.a.func,size:g.a.string,src:g.a.string,title:g.a.string}},977:function(e,t,o){e.exports={container:"AvatarUser-module__container common-module__dInflex",paid:"AvatarUser-module__paid common-module__middle",portal:"AvatarUser-module__portal common-module__middle",small:"AvatarUser-module__small",xsmall:"AvatarUser-module__xsmall",medium:"AvatarUser-module__medium",xmedium:"AvatarUser-module__xmedium",large:"AvatarUser-module__large",xlarge:"AvatarUser-module__xlarge"}},997:function(e,t,o){"use strict";function a(){for(var e=this,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];o.forEach(function(t){e[t]=e[t].bind(e)})}o.d(t,"a",function(){return a})}}]);