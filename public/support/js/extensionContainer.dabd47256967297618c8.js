(window.deskappJsonp=window.deskappJsonp||[]).push([[81],{1125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=l(n(0)),i=l(n(1)),r=l(n(1126));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.type,o=e.buttonPosition,i=[];return t.forEach(function(e){var t=a.default.createElement("span",{className:r.default[n]},e);i.push(t)}),a.default.createElement("div",{className:r.default.buttonGroup+" "+r.default[n]},a.default.createElement("div",{className:r.default["align"+o]},t))}}]),t}();t.default=s,s.defaultProps={buttonPosition:"left",children:null},s.propTypes={buttonPosition:i.default.oneOf(["left","right","center"]),children:i.default.node,type:i.default.string.isRequired}},1126:function(e,t,n){e.exports={buttonGroup:"Buttongroup-module__buttonGroup common-module__cboth",footer:"Buttongroup-module__footer",header:"Buttongroup-module__header",tab:"Buttongroup-module__tab",alignleft:"Buttongroup-module__alignleft common-module__fleft",alignright:"Buttongroup-module__alignright common-module__fright",aligncenter:"Buttongroup-module__aligncenter common-module__tcenter"}},1228:function(e,t,n){"use strict";var o=n(12),a=n.n(o),i=n(9),r=n.n(i),l=n(10),s=n.n(l),u=n(13),d=n.n(u),c=n(14),m=n.n(c),p=n(0),f=n.n(p),h=n(1),g=n.n(h),_=n(1246),v=n.n(_),x=n(151),k=n.n(x),C=n(30),y=function(e){function t(){return r()(this,t),d()(this,(t.__proto__||a()(t)).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=(e.status,e.children),o=e.id,a=e.isLocked,i=e.lockedMsg;return f.a.createElement("div",{className:""+(a?v.a.locked:"")},f.a.createElement("div",{className:""+(a?v.a.inline:"")},f.a.createElement(k.a,{size:"small",text:t,type:"title",id:o,clipped:!0})),i?f.a.createElement("span",{className:v.a.lockIcon,"data-title":i},f.a.createElement(C.CommunityFontIcon,{name:"locked",size:"14",isBold:!0})):null,f.a.createElement("div",{className:v.a.ticketForm},n))}}]),t}(f.a.Component);t.a=y,y.defaultProps={status:"data",text:"Label",isLocked:!1,lockedMsg:""},y.propTypes={children:g.a.node,id:g.a.string,isLocked:g.a.bool,lockedMsg:g.a.string,status:g.a.oneOfType([g.a.string,g.a.bool]),text:g.a.string}},1246:function(e,t,n){e.exports={ticketForm:"FieldItem-module__ticketForm common-module__semibold common-module__ftsmooth",locked:"FieldItem-module__locked",inline:"FieldItem-module__inline",lockIcon:"FieldItem-module__lockIcon"}},1698:function(e,t,n){e.exports={imageContainer:"RequestUrlNotFound-module__imageContainer"}},1699:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/ReguestUrlNotFound.25c22092609d20549f04.svg"},1700:function(e,t,n){e.exports={text:"LinkText-module__text"}},1701:function(e,t,n){e.exports={container:"EmptyStates-module__container",top:"EmptyStates-module__top",header:"EmptyStates-module__header",title:"EmptyStates-module__title",subtitle:"EmptyStates-module__subtitle",footer:"EmptyStates-module__footer",btmText:"EmptyStates-module__btmText",smallText:"EmptyStates-module__smallText",midText:"EmptyStates-module__midText"}},1702:function(e,t,n){e.exports={leftContainer:"Authorization-module__leftContainer common-module__alignVertical common-module__alignHorizontal",alertCont:"Authorization-module__alertCont",mktAuthRgt:"Authorization-module__mktAuthRgt",mktAuthRdIcn:"Authorization-module__mktAuthRdIcn",mktAuthTxt:"Authorization-module__mktAuthTxt",marktPlLtPanel:"Authorization-module__marktPlLtPanel",container:"Authorization-module__container",mktAuthLft:"Authorization-module__mktAuthLft",leftPaneldiv:"Authorization-module__leftPaneldiv",marktPlRtPanel:"Authorization-module__marktPlRtPanel",marktPlSubPanel:"Authorization-module__marktPlSubPanel",marktPlMidPanel:"Authorization-module__marktPlMidPanel",topbandAlert:"Authorization-module__topbandAlert"}},1703:function(e,t,n){e.exports={configFields:"Configuration-module__configFields"}},1704:function(e,t,n){e.exports={headerDiv:"Header-module__headerDiv",headerInnerDiv:"Header-module__headerInnerDiv",headerLogo:"Header-module__headerLogo",headerTitle:"Header-module__headerTitle common-module__dotted common-module__oflow common-module__ellipsis",closePopup:"Header-module__closePopup",extnConfigureIcon:"Header-module__extnConfigureIcon"}},1705:function(e,t,n){e.exports={InvalidCont:"ExtensionContainer-module__InvalidCont",iframeDiv:"ExtensionContainer-module__iframeDiv",rightFrame:"ExtensionContainer-module__rightFrame"}},606:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),i=n(12),r=n.n(i),l=n(9),s=n.n(l),u=n(10),d=n.n(u),c=n(13),m=n.n(c),p=n(14),f=n.n(p),h=n(0),g=n.n(h),_=n(1),v=n.n(_),x=n(26),k=n(53),C=n(24),y=n(1698),E=n.n(y),b=n(16),P=n(153),I=n(1699),A=n.n(I),w=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.isRender;return g.a.createElement(P.a,{viewBox:"0 0 614.2 310.2",name:"UrlNotFound",isRender:e},g.a.createElement("image",{xlinkHref:A.a,height:"100%",width:"100%"}))}}]),t}(g.a.Component),N=w;w.propTypes={isRender:v.a.bool},w.defaultProps={isRender:!0};var F=n(109),T=n(1700),H=n.n(T),R=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.href,o=e.onClick;return g.a.createElement(F.a,{href:n||"javascript:void(0)",className:H.a.text,onClick:o},t)}}]),t}(g.a.Component),B=R;R.propTypes={href:v.a.string,onClick:v.a.func,text:v.a.string};var L=n(1701),S=n.n(L),z=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle,o=e.description,a=e.urlText,i=e.url,r=e.onClick;return g.a.createElement(b.Container,{className:""+S.a.container},g.a.createElement(b.Box,{className:S.a.top},t?g.a.createElement("div",{className:S.a.title},t):null,n?g.a.createElement("div",{className:S.a.subtitle},n):null),g.a.createElement(b.Box,{className:E.a.imageContainer},g.a.createElement(N,null)),g.a.createElement(b.Box,{className:S.a.footer},g.a.createElement("div",{className:S.a.btmText},o),g.a.createElement(B,{text:a,href:i,onClick:r})))}}]),t}(g.a.Component),O=z;z.propTypes={description:v.a.string,onClick:v.a.func,subtitle:v.a.string,title:v.a.string,url:v.a.string,urlText:v.a.string};var M=n(5),D=n.n(M),j=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e,t,n;return g.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 298 123.46"},g.a.createElement("defs",null),g.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},g.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},g.a.createElement("path",{style:{opacity:"0.25",isolation:"isolate",fill:"#ffdddd"},d:"M288.2,78.06H211c-1.9-2.6-2.1-5.1-.7-7.7h44a9.6,9.6,0,0,0,9.6-9.6h0a9.6,9.6,0,0,0-9.6-9.6H134.7c-1.8-2.7-1.7-5.4.2-8.2h40.7a9.6,9.6,0,0,0,9.6-9.6h0a9.6,9.6,0,0,0-9.6-9.6H9.6A9.6,9.6,0,0,0,0,33.36H0A9.6,9.6,0,0,0,9.6,43H69.3a7.81,7.81,0,0,1,.2,8.2H34.7a9.6,9.6,0,0,0-9.6,9.6h0a9.6,9.6,0,0,0,9.6,9.6H145.9a7.61,7.61,0,0,1-.6,7.7H63a9.6,9.6,0,0,0-9.6,9.6h0a9.6,9.6,0,0,0,9.6,9.6h72a7.84,7.84,0,0,1,0,7H102.4a9.6,9.6,0,0,0,0,19.2H216.9a9.6,9.6,0,0,0,0-19.2H199.7a6.36,6.36,0,0,1,0-7h88.7a9.6,9.6,0,0,0,9.6-9.6h0A9.77,9.77,0,0,0,288.2,78.06Z"}),g.a.createElement("polygon",{style:D()({isolation:"isolate",fill:"none",stroke:"#dadada",strokemiterlimit:"10",strokewidth:"0.75px",opacity:.7},"stroke","#ffd4d4"),points:"76.5 70.46 79.3 70.76 77.4 72.76 77.9 75.46 75.4 74.26 73 75.66 73.4 72.96 71.4 71.06 74.1 70.56 75.2 68.06 76.5 70.46"}),g.a.createElement("g",{style:{opacity:"0.7"}},g.a.createElement("circle",{style:D()({fill:"none",stroke:"#dadada",strokemiterlimit:"10",strokewidth:"0.75px"},"stroke","#ffd4d4"),cx:"66.6",cy:"22.76",r:"4.3"})),g.a.createElement("g",{style:{opacity:"0.7"}},g.a.createElement("circle",{style:D()({fill:"none",stroke:"#dadada",strokemiterlimit:"10",strokewidth:"0.75px"},"stroke","#ffd4d4"),cx:"192.3",cy:"117.76",r:"4.3"})),g.a.createElement("polygon",{style:(e={isolation:"isolate",fill:"none",stroke:"#dadada",strokemiterlimit:"10",strokewidth:"0.75px",opacity:.7},D()(e,"stroke","#ffd4d4"),D()(e,"strokedasharray","0.97 0.97"),e),points:"139.2 17.26 141.2 17.46 139.8 18.86 140.2 20.86 138.5 19.96 136.7 20.96 137 18.96 135.6 17.66 137.5 17.36 138.3 15.56 139.2 17.26"}),g.a.createElement("polygon",{style:(t={isolation:"isolate",fill:"none",stroke:"#dadada",strokemiterlimit:"10",strokewidth:"0.75px",opacity:.7},D()(t,"stroke","#ffd4d4"),D()(t,"strokedasharray","1.03 1.03"),t),points:"215.1 2.56 217.1 2.86 215.7 4.26 216.1 6.16 214.4 5.36 212.6 6.26 212.9 4.36 211.5 2.96 213.4 2.66 214.2 0.86 215.1 2.56"}),g.a.createElement("g",{style:{opacity:"0.7"}},g.a.createElement("circle",{style:(n={isolation:"isolate",fill:"none",stroke:"#dadada",strokemiterlimit:"10",strokewidth:"0.75px",opacity:.7},D()(n,"stroke","#ffd4d4"),D()(n,"strokedasharray","1.01 1.01"),n),cx:"260.9",cy:"54.26",r:"8"})))))}}]),t}(g.a.Component),V=n(1702),U=n.n(V),W=n(8),q=n(30),Z=n(73),G=n.n(Z),J=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isRequest,o=t.isConfig,a=t.handleAuthorisation,i=t.connectors,r=t.placeHolder,l="desk.ticket.detail.lefttab"==r?U.a.marktPlLtPanel:"desk.ticket.detail.rightpanel"==r?U.a.marktPlRtPanel:"desk.ticket.detail.subtab"==r?U.a.marktPlSubPanel:"desk.topband"==r?U.a.topbandAlert:U.a.marktPlMidPanel;return g.a.createElement(b.Box,{flexible:!0},g.a.createElement(b.Container,{alignBox:"column",className:U.a.leftPaneldiv},g.a.createElement("div",{className:U.a.alertCont},i.map(function(t,i){return g.a.createElement(b.Box,{flexible:!0,scroll:"vertical",className:U.a.container+" "+l,key:i},g.a.createElement("div",{className:U.a.mktAuthLft},g.a.createElement(j,null),g.a.createElement(q.TicketsFontIcon,{name:"exclamationNew",size:"55",className:"exclamationIcon",isBold:!0})),n?g.a.createElement("div",{className:U.a.mktAuthRgt},o?g.a.createElement("p",{className:U.a.mktAuthTxt},W.f.getI18NValue("support.extn.configure.request")):g.a.createElement("p",{className:U.a.mktAuthTxt},W.f.getI18NValue("support.extn.authorize.request"))):g.a.createElement("div",{className:U.a.mktAuthRgt},g.a.createElement("p",{className:U.a.mktAuthTxt},W.f.getI18NValue("support.extn.authorize")),g.a.createElement(G.a,{text:W.f.getI18NValue("support.extn.label.authorize"),palette:"dangerFilled",size:"large",onClick:a.bind(e,i)})))}))))}}]),t}(g.a.Component);var K=n(20),Q=n.n(K),X=n(1703),Y=n.n(X),$=n(1228),ee=n(99),te=n.n(ee),ne=n(1125),oe=n.n(ne),ae=function(e){function t(e){s()(this,t);var n=m()(this,(t.__proto__||r()(t)).call(this,e)),o=n.props.configList,i={};return o.forEach(function(e){var t=e.value?e.value:e.defaultValue;i=a()({},i,D()({},e.name,{mandatory:e.mandatory,value:t,errorMsg:null,name:e.name,secure:e.secure}))}),n.state={fields:i},n.onFieldChange=n.onFieldChange.bind(n),n.configFocus=n.configFocus.bind(n),n.submitConfiguration=n.submitConfiguration.bind(n),n.generateConfigurationPayload=n.generateConfigurationPayload.bind(n),n}return f()(t,e),d()(t,[{key:"onFieldChange",value:function(e,t){var n=this.state.fields;a()(n,D()({},t,a()(n[t],{value:e}))),this.setState({fields:n})}},{key:"configFocus",value:function(e){var t=this.state.fields;a()(t,D()({},e,a()(t[e],{value:"",isChanged:!0}))),this.setState({fields:t})}},{key:"submitConfiguration",value:function(){var e=this.state.fields,t=!0;if(Q()(e).map(function(n){var o=e[n];o.mandatory&&(o.value&&o.value.length?a()(e,D()({},o.name,a()(e[o.name],{errorMsg:null}))):(t=!1,a()(e,D()({},o.name,a()(e[o.name],{errorMsg:W.f.getI18NValue("crm.field.empty.check",[o.name])})))))}),this.setState(e),t){var n=this.props,o=n.extensionId,i=(n.addConfigParams,this.generateConfigurationPayload(e));this.props.addConfigParams(o,i)}}},{key:"generateConfigurationPayload",value:function(e){var t=[];return Q()(e).map(function(n){var o=e[n],a={};a.name=o.name,a.value=o.value,t.push(a)}),{variables:t}}},{key:"render",value:function(){var e=this,t=this.props,n=t.hasCancel,o=(t.configList,t.closeConfigurationForm),a=this.state.fields;return g.a.createElement(b.Box,{flexible:!0},g.a.createElement(b.Container,null,g.a.createElement(b.Box,{flexible:!0,scroll:"vertical",className:Y.a.configFields},Q()(a).map(function(t){var n=a[t],o=n.value?n.value:n.defaultValue;return g.a.createElement($.a,{text:n.name,status:n.mandatory&&"danger",key:t},g.a.createElement(te.a,{value:o||"",onChange:function(t){e.onFieldChange(t,n.name)},errorMsg:n.errorMsg,onFocus:function(){n.secure&&!n.isChanged&&e.configFocus(n.name)}}))})),g.a.createElement(b.Box,null,g.a.createElement(oe.a,{type:"footer",buttonPosition:"left"},g.a.createElement(G.a,{text:W.f.getI18NValue("support.button.save"),palette:"primaryFilled",onClick:this.submitConfiguration}),n?g.a.createElement(G.a,{text:W.f.getI18NValue("support.label.cancel"),palette:"secondary",onClick:o}):null))))}}]),t}(g.a.Component);var ie=n(1704),re=n.n(ie),le=n(6),se=function(e){function t(){return s()(this,t),m()(this,(t.__proto__||r()(t)).apply(this,arguments))}return f()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.widget,n=e.extension,o=e.needConfiguration,a=e.openConfigurationForm,i=e.placeHolder,r=e.closeExtensionPopup,l=n?n.baseURL:ZApp.GetExtensionBaseURL(),s=t.logo?t.logo.split("/"):[],u=l+"/"+(s=s.splice(1,s.length).join("/")),d=t.title||t.name;return g.a.createElement(b.Container,{alignBox:"row",className:re.a.headerDiv},s?g.a.createElement(b.Box,{className:re.a.headerLogo},g.a.createElement("img",{src:u,className:re.a.headerLogo})):null,g.a.createElement(b.Box,{className:re.a.headerTitle},d),"desk.ticket.detail.moreaction"==i||"desk.ticket.thread.moreaction"==i?g.a.createElement("div",{className:re.a.closePopup,onClick:r},g.a.createElement(q.TopbandFontIcon,{name:"close",size:"26"})):null,o?g.a.createElement(b.Box,{className:re.a.extnConfigureIcon,onClick:a},g.a.createElement(q.CommonFontIcon,{name:"quicksetupgear",size:"14"})):null)}}]),t}(g.a.Component),ue=se;se.propTypes={closeExtensionPopup:v.a.func,extension:v.a.object,needConfiguration:v.a.bool,openConfigurationForm:v.a.func,placeHolder:v.a.string,widget:v.a.object};var de=n(1705),ce=n.n(de),me=n(17),pe=function(e){function t(e){s()(this,t);var n=m()(this,(t.__proto__||r()(t)).call(this,e));return n.state={isInvalid:!1,isConfigurationFormOpen:!1},n.renderWidget=n.renderWidget.bind(n),n.handleAuthorisation=n.handleAuthorisation.bind(n),n.openConfigurationForm=n.openConfigurationForm.bind(n),n.closeConfigurationForm=n.closeConfigurationForm.bind(n),n.addConfigParams=n.addConfigParams.bind(n),n.setRenderContent=n.setRenderContent.bind(n),n}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){"desk.ticket.detail.rightpanel"!=this.props.placeHolder?this.renderWidget():(this.setState({isInvalid:!1}),this.setRenderContent(this.props.extension))}},{key:"componentDidUpdate",value:function(e,t){e.extensionId!=this.props.extensionId&&"desk.ticket.detail.rightpanel"!=this.props.placeHolder&&this.renderWidget()}},{key:"renderWidget",value:function(){var e=this,t=this.props,n=t.extensionId,o=t.getExtensionDetails,a=t.deptId,i=t.placeHolder;ZApp.isDevMode()?this.setState({renderContent:"iframe"},function(){ZApp.RenderWidgets(i,{})}):o(n,i,a).then(function(t){e.setState({isInvalid:!1});var o=t.data.entities.installedextensions[n];e.setRenderContent(o)}).catch(function(t){console.log("error",t),e.setState({isInvalid:!0})})}},{key:"setRenderContent",value:function(e){var t=this,n="iframe";if(e.isAuthorisationNeeded){var o=e.manifest.connectors||[];o.length&&!this.hasExtnAuthorized(o)?(this.setState({isConfigurationFormOpen:!1}),n="authorise"):this.handleExtnValidation(e.manifest.config)||(n="configuration"),this.setState({renderContent:n})}"iframe"==n&&this.setState({isConfigurationFormOpen:!1,renderContent:"iframe"},function(){ZApp.RenderWidgets(t.props.placeHolder,{})})}},{key:"hasExtnAuthorized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]||{},n=!0;return t.hasOwnProperty("isAuthorised")&&(n=t.isAuthorised),n}},{key:"handleExtnValidation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0;return e.length&&e.every(function(e,n){var o=e.value||e.defaultValue||"";return!(!e.userDefined||!e.mandatory||""!=o.trim())&&(t=!1,!1)}),t}},{key:"hasConfiguration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("org"==t)return!1;for(var n=[],o=0,a=e.length;o<a;o++){var i=e[o];i.userDefined&&n.push(i)}return!!n.length}},{key:"handleAuthorisation",value:function(e){var t=this.props,n=t.extension,o=t.showConfirmBox,a=n.extensionType;"personal"==a||"org"==a?this.openAuthoriseWindow(e):o({type:"alert",submitText:W.f.getI18NValue("crm.button.ok"),title:W.f.getI18NValue("support.history.operation.label.wfalert"),message:W.f.getI18NValue("crm.security.error"),isActive:!0,palette:"danger"})}},{key:"openAuthoriseWindow",value:function(e){var t=this,n=this.props,o=n.extensionId,i=n.extension,r=n.authorisationUpdate,l=a()({},i),s=l.manifest.connectors[e],u=s.authoriseUrl;window.open(u,"authoriseWindow_"+o,"height=640,width=960,toolbar=no,menubar=no,scrollbars=no,location=no,status=no"),window.addEventListener("message",function(n){Object(le.G)(n.data)&&(1==JSON.parse(n.data).status&&(s.isAuthorised=!0,l.manifest.connectors[e]=s,r(o,l),t.setRenderContent(l),window.removeEventListener("message",function(){})))})}},{key:"openConfigurationForm",value:function(){this.setState({isConfigurationFormOpen:!0})}},{key:"closeConfigurationForm",value:function(){this.setState({isConfigurationFormOpen:!1}),this.setRenderContent(this.props.extension)}},{key:"addConfigParams",value:function(e,t){var n=this;this.props.addConfigParams(e,t).then(function(){n.setRenderContent(n.props.extension)})}},{key:"renderErrorMsg",value:function(e){return g.a.createElement(b.Container,null,g.a.createElement("div",{className:ce.a.InvalidCont},g.a.createElement(O,{title:W.f.getI18NValue("support.common.portal.sorry"),highlightText:"Request URL",midText:"not found."})))}},{key:"render",value:function(){if(this.state.isInvalid)return this.renderErrorMsg(this.props.placeHolder);if(!ZApp.isDevMode()&&!this.props.extension)return null;if(!ZApp.isDevMode()&&!this.props.widget)return this.renderErrorMsg(this.props.placeHolder);var e=this.props,t=e.extension,n=e.widget,o=e.extensionId,a=e.placeHolder,i=e.closeExtensionPopup,r=e.profile,l=e.profileId,s=this.state,u=(s.isInvalid,s.renderContent),d=s.isConfigurationFormOpen,c=n.widgetId,m=t&&t.extensionType,p=Object(le.b)(l,r),f=t.manifest&&this.hasConfiguration(t.manifest.config,m),h=t.manifest&&t.manifest.connectors;return c?g.a.createElement(b.Box,{flexible:!0},g.a.createElement(b.Container,{alignBox:"column"},g.a.createElement(b.Box,null,g.a.createElement(ue,{widget:n,extension:t,needConfiguration:f&&"configuration"!=u&&!d,openConfigurationForm:this.openConfigurationForm,placeHolder:a,closeExtensionPopup:i})),"configuration"==u||d?"org"==m?p?g.a.createElement(ae,{configList:t.manifest.config,addConfigParams:this.addConfigParams,extensionId:o,hasCancel:d,closeConfigurationForm:this.closeConfigurationForm}):g.a.createElement(J,{isRequest:!0,isConfig:!0,placeHolder:a}):g.a.createElement(ae,{configList:t.manifest.config,addConfigParams:this.addConfigParams,extensionId:o,hasCancel:d,closeConfigurationForm:this.closeConfigurationForm}):"authorise"==u?"org"==m?p?g.a.createElement(J,{handleAuthorisation:this.handleAuthorisation,connectors:h,placeHolder:a}):g.a.createElement(J,{isRequest:!0,isConfig:!0,placeHolder:a}):g.a.createElement(J,{handleAuthorisation:this.handleAuthorisation,connectors:h,placeHolder:a}):"iframe"==u?g.a.createElement(b.Box,{flexible:!0},g.a.createElement("div",{id:c+"_iframeDiv",className:ce.a.iframeDiv+" "+("desk.ticket.detail.rightpanel"==a&&ce.a.rightFrame)})):null)):null}}]),t}(h.Component);pe.propTypes={addConfigParams:v.a.func,authorisationUpdate:v.a.func,closeExtensionPopup:v.a.func,extension:v.a.object,extensionId:v.a.string,getExtensionDetails:v.a.func,placeHolder:v.a.string,profile:v.a.object,profileId:v.a.string,showConfirmBox:v.a.func,widget:v.a.object};t.default=Object(x.connect)(function(e,t){var n=e.routing.paramMap,o=t.widgetName?t.widgetName:n.widgetName,a=t.extensionId?t.extensionId:n.extensionId,i=e.widgetMapper[encodeURIComponent(o)];return{extensionId:a,extension:e.module.installedextensions[a],widget:e.module.widgets[i],deptId:Object(me.r)(e),profile:e.module.profile,profileId:e.myInfo.profileId}},{getExtensionDetails:k.f,addConfigParams:k.a,authorisationUpdate:k.b,closeExtensionPopup:k.d,showConfirmBox:C.a.showConfirmBox})(pe)}}]);