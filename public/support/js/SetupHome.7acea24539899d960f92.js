(window.deskappJsonp=window.deskappJsonp||[]).push([[19],{1356:function(e,t,a){e.exports={header:"SetupHome-module__header common-module__posrel",headerSetup:"SetupHome-module__headerSetup common-module__posrel",setupGroup:"SetupHome-module__setupGroup",groupItem:"SetupHome-module__groupItem",input:"SetupHome-module__input common-module__ftsmooth",inputSetup:"SetupHome-module__inputSetup",icon:"SetupHome-module__icon",iconSetup:"SetupHome-module__iconSetup common-module__posab common-module__yMiddle common-module__middleY common-module__t50",esc:"SetupHome-module__esc",escText:"SetupHome-module__escText",searchResultHeight:"SetupHome-module__searchResultHeight",searchResultStyle:"SetupHome-module__searchResultStyle common-module__posab",result:"SetupHome-module__result SetupHome-module__searchResultStyle common-module__posab SetupHome-module__searchResultHeight",resultSetup:"SetupHome-module__resultSetup SetupHome-module__searchResultStyle common-module__posab",quicklink:"SetupHome-module__quicklink",list:"SetupHome-module__list",listSetup:"SetupHome-module__listSetup SetupHome-module__list",selected:"SetupHome-module__selected SetupHome-module__list",selectedTab:"SetupHome-module__selectedTab SetupHome-module__listSetup SetupHome-module__list",selectedString:"SetupHome-module__selectedString",subtabname:"SetupHome-module__subtabname",tabname:"SetupHome-module__tabname",emptyState:"SetupHome-module__emptyState",emptyStateSetup:"SetupHome-module__emptyStateSetup SetupHome-module__emptyState",heading:"SetupHome-module__heading",headingLink:"SetupHome-module__headingLink",link:"SetupHome-module__link",text:"SetupHome-module__text common-module__dotted common-module__oflow common-module__ellipsis"}},1410:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),l=a.n(o),r=a(10),u=a.n(r),i=a(13),c=a.n(i),m=a(14),p=a.n(m),d=a(0),h=a.n(d),_=(a(1),a(1411)),S=a.n(_),g=a(30),f=function(e){function t(){return l()(this,t),c()(this,(t.__proto__||s()(t)).apply(this,arguments))}return p()(t,e),u()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:S.a.starNew},h.a.createElement("span",{className:S.a.starOne},h.a.createElement(g.TicketsFontIcon,{name:"snippetStar",size:"10"})),h.a.createElement("span",{className:S.a.starTwo},h.a.createElement(g.TicketsFontIcon,{name:"snippetStar",size:"10"})),h.a.createElement("span",{className:S.a.starThree},h.a.createElement(g.TicketsFontIcon,{name:"snippetStar",size:"10"})))}}]),t}(h.a.Component);t.a=f,f.propTypes={}},1411:function(e,t,a){e.exports={starNew:"NewStar-module__starNew",stars:"NewStar-module__stars",twinkle:"NewStar-module__twinkle","star-scale":"NewStar-module__star-scale",starOne:"NewStar-module__starOne NewStar-module__stars",starTwo:"NewStar-module__starTwo NewStar-module__stars",starThree:"NewStar-module__starThree NewStar-module__stars"}},1507:function(e,t,a){"use strict";var n=a(2),s=a.n(n),o=a(23),l=a.n(o),r=a(12),u=a.n(r),i=a(9),c=a.n(i),m=a(10),p=a.n(m),d=a(13),h=a.n(d),_=a(14),S=a.n(_),g=a(0),f=a.n(g),N=a(1),v=a.n(N),k=a(1356),y=a.n(k),b=a(30),E=a(99),w=a.n(E),H=a(8),T=a(110),C=a(4),x=(a(18),function(e){function t(e){c()(this,t);var a=h()(this,(t.__proto__||u()(t)).call(this,e));return a.state={searchKeyJson:{},searchKey:"",searchedPages:[],focused:!1,count:1,keyPressType:""},a.handleBlur=a.handleBlur.bind(a),a.handleFocus=a.handleFocus.bind(a),a.handleEsc=a.handleEsc.bind(a),a.handleChange=a.handleChange.bind(a),a.handleKeyup=a.handleKeyup.bind(a),a.getQuickLinks=a.getQuickLinks.bind(a),a.getSearchResults=a.getSearchResults.bind(a),a.setSearchListHeight=a.setSearchListHeight.bind(a),a}return S()(t,e),p()(t,[{key:"onSelect",value:function(e){this.props.push({pathname:e}),this.setState({searchKey:"",searchedPages:[],keyPressType:""})}},{key:"setSearchListHeight",value:function(){var e=this.searchlist,t=e.getBoundingClientRect().top,a=document.body.clientHeight-t;e.style.height=a+"px"}},{key:"componentDidMount",value:function(){var e=Object(T.f)();this.setState({searchKeyJson:e})}},{key:"componentWillUnmount",value:function(){this.props.fromSetupPage&&window.removeEventListener("resize",this.setSearchListHeight)}},{key:"componentDidUpdate",value:function(e,t){var a=t.count,n=this.state,s=n.count,o=n.searchedPages,l=n.keyPressType,r=n.searchKey;if(a!==s&&""!==r){var u=this.searchlist,i=u.clientHeight-10,c=Math.round(i/30),m=this.selPage;if(s>c){var p=void 0;"UP"===l?(p=s+1,s===o.length?u.scrollTop=m.offsetTop:p%c==0&&(u.scrollTop=u.scrollTop-i)):"DOWN"===l&&(p=s-1)%c==0&&(u.scrollTop=m.offsetTop)}else u.scrollTop=0}else if(t.keyPressType!==l&&"ENTER"===l){var d=this.selPage;null!=d&&d.click()}this.props.fromSetupPage&&(window.removeEventListener("resize",this.setSearchListHeight),""!==r&&(this.setSearchListHeight(),window.addEventListener("resize",this.setSearchListHeight)))}},{key:"handleFocus",value:function(){this.state.focused||this.setState({focused:!0})}},{key:"handleBlur",value:function(e){var t=this.state,a=t.focused,n=t.searchKey;a&&""===n&&this.setState({focused:!1})}},{key:"handleChange",value:function(e){var t=e,a=this.state,n=(a.searchKey,a.searchKeyJson),s=[];if(""!==t){var o=Object(T.d)();for(var r in n)for(var u=n[r],i=o[r],c=!1,m=0,p=u.length;m<p;m++){if(-1!==u[m].toLowerCase().indexOf(t.toLowerCase())&&(c=!0),c){void 0!==i.tabs?s=[].concat(l()(s),l()(i.tabs)):-1===s.indexOf(r)&&s.push(r);break}}}this.setState({searchKey:t,searchedPages:s,count:1,keyPressType:""})}},{key:"handleKeyup",value:function(e){var t=e.which||e.keyCode;if(38===t||40===t){var a=s()({},this.state),n=a.count,o=a.searchedPages;if(""!==a.searchKey){var l="",r=o.length;38===t?(n=0===--n?r:n,l="UP"):(n=++n>r?1:n,l="DOWN"),this.setState({count:n,keyPressType:l})}}else 13===t&&this.setState({keyPressType:"ENTER"})}},{key:"handleEsc",value:function(){this.props.showSetup(!1)}},{key:"getQuickLinks",value:function(){var e=this,t=Object(T.g)(),a=this.props,n=a.setupModuleName,s=a.orgName,o=a.deptName,r=a.setupDeptName,u=a.UIState,i=a.moduleMeta,c=Object(T.d)(r,n,void 0,u,i),m=t.map(function(t,a){a++;var n=c[t],l="support.setup.label."+t,r=H.f.getI18NValue(l),u=n.url,i=void 0!==n.parent,m="support.setup.label."+n.parent,p=H.f.getI18NValue(m);return f.a.createElement("li",{className:y.a.searchlist,key:a,onMouseDown:e.onSelect.bind(e,"/"+s+"/"+o+u)},i?f.a.createElement("span",null,f.a.createElement("span",{className:y.a.selectedString},r),","," ",f.a.createElement("span",{className:y.a.tabname},p)," "):f.a.createElement("span",null,f.a.createElement("span",{className:y.a.selectedString},r)))}),p=[f.a.createElement("li",{className:y.a.quicklink,key:"0"},f.a.createElement("span",null,H.f.getI18NValue("support.setup.topsearch.quicklink")))];return m=[].concat(p,l()(m))}},{key:"getSearchResults",value:function(){var e=this,t=this.props,a=t.setupModuleName,n=t.moduleMeta,s=t.orgName,o=t.deptName,l=t.fromSetupPage,r=t.setupDeptName,u=t.UIState,i=this.state,c=i.searchedPages,m=i.searchKey,p=i.count,d=Object(T.d)(r,a,void 0,u,n),h=void 0;if(0!==c.length)h=c.map(function(t,a){var r=d[t],u=r.parent||"",i="",c=""!==u?u:t;c===C.Mb||c===C.y||c===C.x||c===C.ac?i=n[c].displayLabel:c===C.K?i=n[c].singularLabel:c===C.mc&&(i=n.tickets.singularLabel);var h="support.setup.label."+t,_=H.f.getI18NValue(h,i),S=r.url,g="support.setup.label."+u,N=H.f.getI18NValue(g,i),v=_.toLowerCase(),k=m.toLowerCase(),b="",E="",w="";if(v.startsWith(k))b="",E=k,w=v.split(k)[1];else if(-1!==v.indexOf(k)){var T=v.indexOf(k);b=v.slice(0,T),E=k,w=v.slice(T+k.length,v.length)}else b=v;var x=p-1,L=l?y.a.selectedTab:y.a.selected,I=l?y.a.listSetup:y.a.list,M=a===x?L:I;return f.a.createElement("li",{className:M,key:a,onClick:e.onSelect.bind(e,"/"+s+"/"+o+S),ref:function(t){a===x&&(e.selPage=t)}},""!==u?f.a.createElement("span",null,f.a.createElement("span",{className:y.a.subtabname},b,f.a.createElement("span",{className:y.a.selectedString},E),w),", ",f.a.createElement("span",{className:y.a.tabname},N)," "):f.a.createElement("span",null,f.a.createElement("span",{className:y.a.subtabname},b,f.a.createElement("span",{className:y.a.selectedString},E),w)))});else{var _=l?y.a.emptyStateSetup:y.a.emptyState;h=f.a.createElement("li",{className:_},f.a.createElement("span",null,H.f.getI18NValue("support.no.matches.found")))}return h}},{key:"render",value:function(){var e=this,t=this.props.fromSetupPage,a=this.state,n=a.focused,s=a.searchKey,o=a.searchedPages;return f.a.createElement("div",null,f.a.createElement("div",{className:t?y.a.headerSetup:y.a.header},f.a.createElement("div",null,f.a.createElement("span",{className:t?y.a.iconSetup:y.a.icon},f.a.createElement(b.TopbandFontIcon,{color:t?"smoke12":"pure",name:"moicons04",size:t?"13":"18"})),f.a.createElement(w.a,{className:t?y.a.inputSetup:y.a.input,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyUp:this.handleKeyup,placeHolder:H.f.getI18NValue("support.setup.topsearch.placeholder"),needAppearance:!1,value:s})),n&&(!t||t&&""!==s)&&f.a.createElement("ul",{className:t?y.a.resultSetup:y.a.result,ref:function(t){e.searchlist=t}},""===s&&0===o.length?this.getQuickLinks():this.getSearchResults())),!t&&f.a.createElement("div",null,f.a.createElement("div",{className:y.a.esc,onClick:this.handleEsc},f.a.createElement("span",{className:y.a.closeIcon},f.a.createElement(b.TopbandFontIcon,{name:"close",size:"31"})),f.a.createElement("span",{className:y.a.escText},H.f.getI18NValue("support.zohocrm.integration.lable.name.esc")))))}}]),t}(g.Component));t.a=x,x.propTypes={UIState:v.a.object,deptName:v.a.string,fromSetupPage:v.a.bool,moduleMeta:v.a.object,orgName:v.a.string,push:v.a.func,setupDeptName:v.a.string,setupModuleName:v.a.string,showSetup:v.a.func}},1858:function(e,t,a){e.exports={link:"MenuList-module__link",textwrap:"MenuList-module__textwrap",blink:"MenuList-module__blink"}},1859:function(e,t,a){e.exports={Container:"MenuGroup-module__Container common-module__ftsmooth",headingLink:"MenuGroup-module__headingLink common-module__semibold common-module__ftsmooth"}},648:function(e,t,a){"use strict";a.r(t);var n=a(12),s=a.n(n),o=a(9),l=a.n(o),r=a(10),u=a.n(r),i=a(13),c=a.n(i),m=a(14),p=a.n(m),d=a(0),h=a.n(d),_=a(1),S=a.n(_),g=a(16),f=a(110),N=a(8),v=a(1356),k=a.n(v),y=a(1507),b=a(1858),E=a.n(b),w=a(1410),H=a(109),T=function(e){function t(e){return l()(this,t),c()(this,(t.__proto__||s()(t)).call(this,e))}return p()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.isNew,a=e.Url,n=e.onClick,s=e.text;return h.a.createElement(H.a,{href:a,onClick:n,className:E.a.link},h.a.createElement("span",{className:E.a.textwrap},s,t&&h.a.createElement("span",{className:E.a.blink},h.a.createElement(w.a,null))))}}]),t}(h.a.Component),C=T;T.propTypes={Url:S.a.string,isNew:S.a.bool,onClick:S.a.func,text:S.a.string},T.defaultProps={isNew:!1};var x=a(1859),L=a.n(x),I=function(e){function t(e){return l()(this,t),c()(this,(t.__proto__||s()(t)).call(this,e))}return p()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.Url,n=e.onSelect,s=e.children;return h.a.createElement(g.Container,{alignBox:"column",className:L.a.Container},h.a.createElement(g.Box,null,h.a.createElement(H.a,{href:a,onClick:n,className:L.a.headingLink},t)),h.a.createElement(g.Box,null,s))}}]),t}(h.a.Component),M=I;I.propTypes={Url:S.a.string,children:S.a.element,onSelect:S.a.func,text:S.a.string};var P=a(4),K=(a(18),function(e){function t(e){l()(this,t);var a=c()(this,(t.__proto__||s()(t)).call(this,e));return a.getCategories=a.getCategories.bind(a),a.onSelect=a.onSelect.bind(a),a}return p()(t,e),u()(t,[{key:"onSelect",value:function(e){e.preventDefault();var t=e.currentTarget;this.props.push({pathname:t.pathname,search:t.search})}},{key:"getCategories",value:function(){var e=this,t=this.props,a=t.orgName,n=t.deptName,s=t.moduleMeta,o=void 0===s?{}:s,l=t.setupModuleName,r=t.setupDeptName,u=t.UIState,i=Object(f.e)(),c=Object(f.d)(r,l,void 0,u,o),m=[],p=0;for(var d in i){var _=i[d],S=_.map(function(t,s){var l=c[t],r="support.setup.label."+t,u="";t===P.Mb||t===P.y||t===P.x||t===P.ac?u=(o[t]||{}).displayLabel:t===P.K?u=(o[t]||{}).singularLabel:t===P.mc&&(u=(o.tickets||{}).singularLabel);var i=l.url;return h.a.createElement("div",{key:s},h.a.createElement(C,{isNew:!1,Url:"/"+a+"/"+n+i,onClick:e.onSelect,text:N.f.getI18NValue(r,u)}))}),g=c[_[0]].url,v=h.a.createElement(M,{Url:"/"+a+"/"+n+g,onSelect:this.onSelect,text:N.f.getI18NValue("support.setup.label."+d),key:p},h.a.createElement(h.a.Fragment,null,S));m.push(v),p++}return m}},{key:"render",value:function(){var e=this.getCategories(),t=this.props,a=t.showSetup,n=t.moduleMeta,s=t.setupModuleName,o=t.push,l=t.deptName,r=t.orgName,u=t.setupDeptName,i=t.UIState;return h.a.createElement(g.Container,{dataId:"mainSetupContainer"},h.a.createElement(g.Box,null,h.a.createElement(y.a,{moduleMeta:n,showSetup:a,setupModuleName:s,push:o,orgName:r,deptName:l,setupDeptName:u,UIState:i})),h.a.createElement(g.Box,{flexible:!0,scroll:"vertical"},h.a.createElement(g.Container,{wrap:!0,alignBox:"row",className:k.a.setupGroup},e)))}}]),t}(d.Component));t.default=K;K.propTypes={UIState:S.a.object,deptName:S.a.string,moduleMeta:S.a.object,orgName:S.a.string,push:S.a.func,setupDeptName:S.a.string,setupModuleName:S.a.string,showSetup:S.a.func}}}]);