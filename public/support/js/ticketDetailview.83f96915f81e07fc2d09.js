(window.deskappJsonp=window.deskappJsonp||[]).push([[125],{1000:function(e,t,a){e.exports={assign:"Assign-module__assign common-module__offSelection",arrow:"Assign-module__arrow",agent:"Assign-module__agent",pointer:"Assign-module__pointer",agentname:"Assign-module__agentname",name:"Assign-module__name common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",teamName:"Assign-module__teamName",spnBrckt:"Assign-module__spnBrckt common-module__ftsmooth",groupShareTxt:"Assign-module__groupShareTxt",circle:"Assign-module__circle",dot1:"Assign-module__dot1",dot2:"Assign-module__dot2",dot3:"Assign-module__dot3",lftPanTeam:"Assign-module__lftPanTeam common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis"}},1007:function(e,t,a){"use strict";var n,o=a(5),i=a.n(o),r=a(12),s=a.n(r),l=a(9),c=a.n(l),u=a(10),d=a.n(u),m=a(13),p=a.n(m),f=a(14),h=a.n(f),g=a(0),_=a.n(g),v=a(1),b=a.n(v),k=a(1042),I=a.n(k),y=a(157),C=a.n(y),T=a(30),E=a(80),S=a.n(E),N=a(72),A=a.n(N),O=a(1026),w=a.n(O),P=a(361),D=a.n(P),x=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a.togglePopup=a.togglePopup.bind(a),a}return h()(t,e),d()(t,[{key:"handleSelect",value:function(e,t,a,n){if(void 0!==this.props.onSelect){var o=this.props;(0,o.onSelect)(e,o.entity)}this.props.togglePopup(n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.boxPosition;e.stopPropagation(),a(e,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isPopupOpen,n=t.onPopupChange;e.isPopupOpen!==a&&n&&n(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=void 0===a?"white":a,o=t.objValues,i=t.Icnsize,r=t.IcnName,s=(t.removeClose,t.listStyle,t.arrowPosition),l=t.position,c=t.right,u=(t.isScroll,t.widgets),d=void 0===u?[]:u,m=t.onWidgetScroll,p=t.onWidgetSelect,f=t.selectedWidgetId,h=t.arrowRight,g=t.arrowLeft,v=t.size,b=t.left,k=t.isPopupOpen,y=t.isPopupReady,E=t.getTargetRef,S=t.getContainerRef;return i=i||"medium",_.a.createElement("span",{className:C.a.posrel,ref:E,onClick:this.togglePopup},_.a.createElement("span",{className:I.a.defaultSize+" "+C.a.posrel+" "+I.a[n]},_.a.createElement("span",null,_.a.createElement(T.TopbandFontIcon,{name:r,size:i}))),k?_.a.createElement("span",{className:I.a.dropDivPosition},_.a.createElement(A.a,{isAnimate:!0,right:c,left:b,isActive:y,size:v,arrowRight:h,arrowLeft:g,boxPosition:l,getRef:S,arrowPosition:s},o.map(function(t,a){return _.a.createElement(D.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:a,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),o.length&&d.length?_.a.createElement(w.a,null):null,d.length?_.a.createElement("div",{className:I.a.widgetList,onScroll:m},d.map(function(e){var t=e.name,a=e.sanitisedName+"_"+e.installationId;return f!=a?_.a.createElement(D.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:a,id:a,onClick:function(){p(a,e)}}):null})):null)):null)}}]),t}(g.Component);x.defaultProps={IcnName:"more1",size:"small"},x.propTypes=(n={IcnName:b.a.string,Icnsize:b.a.string,arrowLeft:b.a.string,arrowPosition:b.a.string,arrowRight:b.a.string,boxPosition:b.a.string,entity:b.a.object,getContainerRef:b.a.func},i()(n,"getContainerRef",b.a.func),i()(n,"getTargetRef",b.a.func),i()(n,"isPopupOpen",b.a.bool),i()(n,"isPopupReady",b.a.bool),i()(n,"isScroll",b.a.bool),i()(n,"left",b.a.string),i()(n,"listStyle",b.a.string),i()(n,"objValues",b.a.array),i()(n,"onPopupChange",b.a.func),i()(n,"onSelect",b.a.func),i()(n,"onWidgetScroll",b.a.func),i()(n,"onWidgetSelect",b.a.func),i()(n,"position",b.a.string),i()(n,"removeClose",b.a.func),i()(n,"right",b.a.string),i()(n,"selectedWidgetId",b.a.string),i()(n,"size",b.a.string),i()(n,"theme",b.a.string),i()(n,"togglePopup",b.a.func),i()(n,"widgets",b.a.array),n),t.a=S()(x)},1018:function(e,t,a){e.exports={primary:"ValidationMessage-module__primary",secondary:"ValidationMessage-module__secondary"}},1021:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(244),v=a(250),b=a(73),k=a.n(b),I=a(245),y=a(247),C=a(1063),T=a.n(C),E=a(359),S=a.n(E),N=a(3),A=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.documentKeyupHandler=a.documentKeyupHandler.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,a=t.onSubmitClick,n=t.onCancelClick,o=t.isActive;27===e.keyCode&&o?n():13===e.keyCode&&o&&a()}},{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.palette,n=e.size,o=e.type,i=e.title,r=e.message,s=e.confirmationMessage,l=e.submitText,c=e.cancelText,u=e.onSubmitClick,d=e.onCancelClick,m=e.children;return f.a.createElement(S.a,{portalId:N.v},f.a.createElement(_.a,{isShow:t,size:n},f.a.createElement(v.a,{title:i,palette:a,iconType:o}),f.a.createElement(I.a,{alignBox:"row",className:T.a.section},f.a.createElement("div",{className:T.a.innerSection},m||f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),s&&f.a.createElement("div",{className:T.a.text},s))),f.a.createElement("div",{className:T.a.footer},f.a.createElement(y.a,null,f.a.createElement("div",{className:T.a.footerInnerSpacing},f.a.createElement(k.a,{text:l,palette:"primary"==a?"primaryFilled":"dangerFilled",onClick:u}),c&&f.a.createElement("span",{className:T.a.buttonGap},f.a.createElement(k.a,{text:c,palette:"secondary",onClick:d}))))))))}}]),t}(p.Component);t.a=A,A.propTypes={alertData:g.a.object,isActive:g.a.bool,onCancelClick:g.a.func,onSubmitClick:g.a.func,palette:g.a.oneOf(["default","primary","danger"]),size:g.a.oneOf(["small","medium"]),type:g.a.oneOf(["delete","alert","remoteAssist","splitTicket"])},A.defaultProps={isActive:!1,type:"alert",palette:"danger",size:"small"}},1026:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a(0)),i=r(a(360));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){return o.default.createElement("div",{className:i.default.separator})}}]),t}();t.default=s},1028:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r}),a.d(t,"f",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return c});var n=a(6);function o(e,t){var a=editor[e];a&&t&&a.insertHTML(t)}function i(e){var t=editor[e];if(null!=t){var a=t.getContent();return"<br>"==(a=a.trim())?"":("plaintext"==t.mode&&(a=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(a)),a)}return""}function r(e,t,a,n){var o={content:"",isSnippetExist:!1,triggerWord:""},i="";if(e.modify){var r=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var s=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==s.toLowerCase()});null!=(i=l.length?l[0].expandedContent:"")&&""!=i&&i.length>0?(o.isSnippetExist=!0,o.content=i,o.triggerWord=s.toLowerCase(),r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)):(o.content="&nbsp;&nbsp;&nbsp;&nbsp;",o.triggerWord=s.toLowerCase()),e.removeAllRanges(),e.addRange(r)}else o=function(e,t,a,n){var o="",i=e.getRangeAt(0);i.collapse(!0),i.setStart(e.anchorNode,0),o=i.toString();var r=i.cloneRange(),s=e.anchorNode.textContent,l=/\s+/,c=s.split(l).filter(Boolean),u=o.split(l).filter(Boolean),d="",m="",p={content:"",isSnippetExist:!1,triggerWord:""},f=u[u.length-1];if(""!=f&&void 0!==f){d=c[u.length-1],parseInt(d.length);var h=d.toLowerCase(),g=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==h.toLowerCase()});m=g.length?g[0].expandedContent:""}if(null!=m&&""!=m&&null!=m){var _=parseInt(d.length-f.length),v=parseInt(o.length);_>0&&(v+=_);var b=parseInt(o.length+_-d.length),k=o.length-o.replace(/\s+$/g,"").length;(b-=k)<0&&(b=0),r.setStart(e.anchorNode,b),r.setEnd(e.focusNode,v),p.isSnippetExist=!0}else m=o;return p.content=m,p.triggerWord=d.toLowerCase(),e.removeAllRanges(),e.addRange(r),p}(e,0,0,n);return o}function s(e,t,a,o,i){for(var r={"${Cases.Contact Name}":Object(n.e)(a.firstName,a.lastName),"${Cases.Email}":a.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":o?o.accountName:"","${Cases.First Name}":a.firstName||"","${Cases.Last Name}":a.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(i.firstName,i.lastName),"${User.Email}":i.emailId||"","${User.Phone}":i.phone||"","${User.First Name}":i.firstName||"","${User.Last Name}":i.lastName||"","${User.Mobile}":i.mobile||""},s=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<s.length;l++)e=e.replace(s[l],r[s[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},1042:function(e,t,a){e.exports={defaultSize:"MorePopup-module__defaultSize common-module__offSelection",black:"MorePopup-module__black",white:"MorePopup-module__white",iconCustom:"MorePopup-module__iconCustom",mr10:"MorePopup-module__mr10",dropDivPosition:"MorePopup-module__dropDivPosition",dropdownPosition:"MorePopup-module__dropdownPosition",secondaryIcon:"MorePopup-module__secondaryIcon",widgetList:"MorePopup-module__widgetList"}},1063:function(e,t,a){e.exports={section:"AlertLookupPortal-module__section",innerSection:"AlertLookupPortal-module__innerSection",footerInnerSpacing:"AlertLookupPortal-module__footerInnerSpacing",footer:"AlertLookupPortal-module__footer",buttonGap:"AlertLookupPortal-module__buttonGap",text:"AlertLookupPortal-module__text",extraSmall:"AlertLookupPortal-module__extraSmall"}},1069:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i});var n=function(e){return e.module.profile[e.myInfo.profileId].permissions.financeInteg},o=function(e){return"ENABLED"===e.integrations.INVOICE.status?"invoice":"ENABLED"===e.integrations.BOOKS.status?"books":null},i=function(e){return"ENABLED"===e.integrations.INVOICE.status?"ZohoInvoice":"ENABLED"===e.integrations.BOOKS.status?"ZohoBooks":null}},1083:function(e,t,a){"use strict";function n(e){e=(e=o(e))?e.trim():e;return/^[\w]([\w\-\.\+\'\&]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(e)}function o(e){var t=e;return-1!==t.indexOf(">")&&-1!==t.indexOf("<")&&(t=t.substring(t.indexOf("<")+1,t.indexOf(">"))),t}function i(e,t){var a=e.trim();if(-1!==a.indexOf(">")&&a.indexOf("<")>0){var n=a;a=a.substring(0,a.indexOf("<")),t||(a=a.replace(/"/g,"")),""==a&&(a=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">")))}else a=a.replace(/<|>/g,"");return a}function r(e){var t=0,a=0,o=0,r=(e=e.trim()).indexOf("@",o);if(-1!==r)if(-1!==(o=e.indexOf(",",r))?(a=e.substring(t,o),t=o+1):(a=e.substring(t,e.length),-1),","===a||" "===a)-1;else{if(-1!=a.indexOf(",")){var l=i(a,!0);if(","===l.charAt(l.length-1))return!1;if(!(-1!==l.indexOf('"')&&l.lastIndexOf('"')>0||-1!==l.indexOf("'")&&l.lastIndexOf("'")>0)&&-1!=l.indexOf(",")&&","!=l.substring(0,1))return!1;var c=l.substring(l.indexOf('"')+1,l.lastIndexOf('"'));if(""==c&&(c=l.substring(l.indexOf("'")+1,l.lastIndexOf("'"))),""!=c&&-1==c.indexOf(","))return!1}var u=s(a);if(!n(u=u.trim()))return!1}else if(-1,o<=e.length)return!1;return!0}function s(e){return-1===e.indexOf("<")?e:e.substring(e.lastIndexOf("<")+1,e.lastIndexOf(">"))}function l(e,t){var a=!1,n=-1;if(e.length)for(var o=0;o<e.length;o++){s(e[o])==s(t)&&(a=!0,n=o)}return{isDuplicate:a,index:n}}function c(e){for(var t=[],a=e.indexOf("@"),n=void 0;-1!==a;)-1===(n=e.indexOf(",",a))&&(n=e.length),t.push(e.substring(0,n)),a=(e=e.substring(n+1,e.length)).indexOf("@");return-1===a&&""!==e&&t.push(e),t}a.d(t,"f",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"e",function(){return r}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return c})},1096:function(e,t,a){"use strict";(function(e){a.d(t,"n",function(){return p}),a.d(t,"l",function(){return f}),a.d(t,"a",function(){return h}),a.d(t,"k",function(){return g}),a.d(t,"j",function(){return _}),a.d(t,"B",function(){return v}),a.d(t,"A",function(){return b}),a.d(t,"r",function(){return k}),a.d(t,"b",function(){return I}),a.d(t,"q",function(){return y}),a.d(t,"o",function(){return C}),a.d(t,"f",function(){return T}),a.d(t,"g",function(){return E}),a.d(t,"p",function(){return N}),a.d(t,"m",function(){return A}),a.d(t,"t",function(){return O}),a.d(t,"u",function(){return w}),a.d(t,"s",function(){return P}),a.d(t,"z",function(){return D}),a.d(t,"w",function(){return x}),a.d(t,"d",function(){return L}),a.d(t,"v",function(){return R}),a.d(t,"c",function(){return M}),a.d(t,"x",function(){return B}),a.d(t,"e",function(){return j}),a.d(t,"i",function(){return V}),a.d(t,"h",function(){return z}),a.d(t,"y",function(){return U});var n=a(19),o=a.n(n),i=a(3),r=a(17),s=a(24),l=a(8),c=a(15),u=a(6),d=a(46),m=a(1069);function p(e,t,a,n){return{types:Object(u.m)("GETINVOICES"),callAPI:function(o){var r=t&&"all"!=t?"&status="+t:"",s="";"Cases"===e&&(s="&departmentId="+o.module.ticket[a].departmentId);var l="pageNumber="+n+"&deskEntityId="+a+"&deskModuleName="+e+r+s;return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(o)+"/invoices?"+l,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:n}})}}}e.ZInvoice={};var f=function(e,t,a,n){return{types:Object(u.m)("GETESTIMATES"),callAPI:function(o){var r="pageNumber="+n+"&deskEntityId="+a+"&deskModuleName="+e+(t&&"all"!=t?"&status="+t:"");return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(o)+"/estimates?"+r,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:n}})}}},h=function(e){return{type:"CHANGE_FINANCE_ENTITY",data:{entity:e.entity,module:e.module,status:e.status}}};function g(e,t){return{types:Object(u.m)("GETACTIVITY"),callAPI:function(a){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(a)+"/contacts/"+e+"/activity?pageNumber="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[]}})}}}function _(e){return{types:Object(u.m)("DELINKCONTACT"),callAPI:function(t){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/contacts/disassociate?deskEntityId="+e,!1,{orgId:t.currentOrgId}).del().then(function(e){return e})}}}function v(e,t){return{types:Object(u.m)("UPDATE_INVOICE_STATUS"),callAPI:function(a){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(a)+"/invoices/"+e,!1,{orgId:a.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function b(e,t){return{types:Object(u.m)("UPDATE_ESTIMATE_STATUS"),callAPI:function(a){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(a)+"/estimates/"+e,!1,{orgId:a.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function k(e){return{types:Object(u.m)("MARKALL_INVOICE_SENT"),callAPI:function(t){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/invoices/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}var I=function(){return{type:"CLEAR_SELECTED_FINANCE_ENTITIES"}};function y(e){return{types:Object(u.m)("MARKALL_ESTIMATE_SENT"),callAPI:function(t){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/estimates/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}function C(){return{types:Object(u.m)("GET_PAYMENTMETA"),callAPI:function(e){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(e)+"/paymentTermsMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function T(e){return{types:Object(u.m)("CREATE_CONTACT"),callAPI:function(t,a){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/contacts",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){return e})}}}function E(e,t){return{types:Object(u.m)("CREATE_CONTACT_MAPPING"),callAPI:function(a,n){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(a)+"/contacts/"+t,!1,{orgId:a.currentOrgId}).patch("",e).then(function(e){return e})}}}function S(e,t){var a={Cases:"tickets",Contacts:"contacts",Accounts:"accounts"};return{types:Object(u.m)("HAS_UNBILLED_TIMEENTRY"),callAPI:function(n){var o="Cases"!=t?Object(d.a)(n,!0):"",r=""+i.w+a[t]+"/"+e+"/timeEntry?isBillable=true"+o;return Object(c.a)(r,!1,{orgId:n.currentOrgId}).get().then(function(e){return{hasUnBilledTimeEntry:204!=e.responseStatus&&e.data.some(function(e){return null==e.invoiceId})}})}}}function N(e){return{types:Object(u.m)("GET_UNBILLED_TIMEENTRY"),callAPI:function(t){return Object(c.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function A(e){return{types:Object(u.m)("GET_FINACE_ENTITY"),callAPI:function(t){return Object(c.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function O(e,t){return{type:"CHANGE_INVOICE_MODULE",data:{module:e,status:t}}}function w(e){return{type:"CHANGE_INVOICE_STATUS",data:{status:e}}}function P(e){return{type:"SELECT_INVOICE",data:{selectedItem:e}}}function D(){return{type:"RESET_INVOICE_DEFAULT_DATA"}}function x(e){return{type:"OPEN_INVOICE_DETAILS",data:e}}function L(){return{type:"CLOSE_INVOICE_DETAILS"}}function R(e){return{type:"OPEN_INVOICE_IFRAME_FORM",data:e}}function M(){return{type:"CLOSE_INVOICE_IFRAME_FORM"}}function B(e){return{type:"OPEN_INVOICE_FORM",data:e}}function j(){return{type:"CLOSE_INVOICE_FORM"}}var F=function(e){var t=e.integrations,a=Object(r.I)(e),n=i.l[a],s=e.routing.paramMap.moduleId,l=e.module[n.stateKey][s];return{integrations:t,moduleId:s,contactId:"tickets"===a?l.contactId:s,moduleData:l,deskModuleName:n.deskModuleName,orgName:Object(r.O)(e),financeContact:o()("financeInfo.financeContact",e)||{}}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,n){var o=n(),i=F(o),r=i.moduleId,s=i.deskModuleName,l=i.moduleData,c=i.orgName,u=i.financeContact,d=i.integrations;ZInvoice.entityType="invoice",ZInvoice.isDetailView=!1,ZInvoice.includeTimeEntries=!1;var p=function(n){if(!n){ZInvoice.isHasUnbilledTimeEntries=!1,"Cases"===s?(ZInvoice.caseSubject="[## "+l.ticketNumber+" ##] "+l.subject,ZInvoice.caseId=l.id):(ZInvoice.caseSubject="",ZInvoice.caseId="");var i="/support/"+c+"/connectzb?entityType=2&acceptJHTML=true&entityid="+u.id+"&accountType="+Object(m.a)(o);return a(R({isOpen:!0,src:i,openFinance:e}))}ZInvoice.includeTimeEntries=!0,ZInvoice.isHasUnbilledTimeEntries=!0;var r=t.timeEntryIds;return a(B({type:"invoiceForm",data:{isPreferenceOpen:!0,financeContact:u,timeEntryIds:void 0===r?[]:r},accountType:"ENABLED"==d.INVOICE.status?"invoice":"books",entity:"invoice"}))},f=t.timeEntryIds;return(void 0===f?[]:f).length?p(!0):a(S(r,s)).then(function(e){return p(e.data.hasUnBilledTimeEntry)})}},z=function(e){return function(t,a){var n=a(),o=F(n),i=o.moduleData,r=o.deskModuleName,s=o.orgName,l=o.financeContact;return ZInvoice.includeTimeEntries=!1,ZInvoice.isDetailView=!1,ZInvoice.entityType="estimate","Cases"===r?(ZInvoice.caseSubject="[## "+i.ticketNumber+" ##] "+i.subject,ZInvoice.caseId=i.id):(ZInvoice.caseSubject="",ZInvoice.caseId=""),t(R({isOpen:!0,src:"/support/"+s+"/connectzb?entityType=1&acceptJHTML=true&entityid="+l.id+"&accountType="+Object(m.a)(n),openFinance:e}))}},U=function(e,t,a){return function(n,o){var r=o(),d=F(r),p=d.contactId,f=d.deskModuleName,h=d.integrations;return n(function(e,t){return{types:Object(u.m)("SEARCHCONTACTS"),callAPI:function(a){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(a)+"/contacts/search?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}}(p,f)).then(function(o){return o.data&&"contactId"==o.data.matchedBy?n(function(e,t){return{types:Object(u.m)("FINANCECONTACT"),callAPI:function(a){return Object(c.a)(i.w+"zohoFinance/"+Object(m.c)(a)+"/contacts?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}}(p,f)).then(function(){"invoice"===t?n(V(e,a)):"estimate"===t?n(z(e)):e()}):(n(B({type:"invoiceForm",data:204!=o.data.responseStatus?o.data:null,accountType:"ENABLED"==h.INVOICE.status?"invoice":"books",openFinance:e,entity:t})),{isInvoiceInfoOpen:!1})}).catch(function(e){throw n(Object(s.Q)({type:"alert",message:l.f.getI18NValue("support.invoice.integ.email.error")})),e})}}}).call(this,a(68))},1162:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1021),v=a(8),b=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteDraft,a=e.closeAlert;return f.a.createElement(_.a,{isActive:!0,title:v.f.getI18NValue("support.request.alert.discard.draft.header"),message:v.f.getI18NValue("crm.confirm.discard.draft"),submitText:v.f.getI18NValue("support.yes"),cancelText:v.f.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a})}}]),t}(p.Component);t.a=b,b.propTypes={deleteDraft:g.a.func,moduleMeta:g.a.object}},1186:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"g",function(){return c}),a.d(t,"j",function(){return u}),a.d(t,"h",function(){return d}),a.d(t,"e",function(){return m}),a.d(t,"a",function(){return p}),a.d(t,"f",function(){return f}),a.d(t,"b",function(){return h}),a.d(t,"i",function(){return g});var n=a(5),o=a.n(n),i=a(15),r=a(6);function s(e){return{types:Object(r.m)("GET_APPLIED_BLUEPRINT"),callAPI:function(t){return Object(i.a)("/api/v1/tickets/"+e+"/blueprint?include=transitionOwnerAgents,transitionOwnerTeams,transitionOwnerDept",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:o()({},e,{transitionData:204==t.responseStatus?"":t})},result:[]}})}}}function l(e,t){return{types:Object(r.m)("GET_TRANSITIONS"),callAPI:function(a){return Object(i.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/form",!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}}function c(e,t,a){return{types:Object(r.m)("PERFORM_TRANSITION"),callAPI:function(n){return Object(i.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/perform",!1,{orgId:n.currentOrgId}).post("",a).then(function(t){return{entities:{ticket:o()({},e,{status:t.updatedState})},result:[]}})}}}function u(e,t,a){return{types:Object(r.m)("VALIDATE_FIELD_UPDATES"),callAPI:function(n){return Object(i.a)("/api/v1/tickets/"+e+"/transitions/"+t+"/validateFieldUpdates",!1,{orgId:n.currentOrgId}).post("",a).then(function(e){return e})}}}function d(e){return{types:Object(r.m)("REVOKE_BLUEPRINT"),callAPI:function(t){return Object(i.a)("/api/v1/tickets/"+e+"/revokeBlueprint",!1,{orgId:t.currentOrgId}).post().then(function(t){return{entities:{ticket:o()({},e,{transitionData:""})},result:[]}})}}}function m(){return{type:"OPEN_FLOWCHAT"}}function p(){return{type:"CLOSE_FLOWCHAT"}}function f(e){return{type:"OPEN_TRANSITION_FORM",data:e}}function h(){return{type:"CLOSE_TRANSITION_FORM"}}function g(e){return{type:"TOGGLE_TRANSITION_FORM",data:e}}},1200:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1201),v=a.n(_),b=a(64),k=a.n(b),I=a(72),y=a.n(I),C=a(16),T=a(6),E=a(8),S=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.getScrollContainerRef=a.getScrollContainerRef.bind(a),a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a.onScroll=a.onScroll.bind(a),a.isFetching=!1,a}return m()(t,e),l()(t,[{key:"getScrollContainerRef",value:function(e){this.scrollContainerRef=e}},{key:"getSelectedItemRef",value:function(e){this.selectItemRef=e}},{key:"componentDidUpdate",value:function(){var e=this.props.selectSearchIndex,t=this.scrollContainerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,o=a.offsetHeight,i=t.offsetHeight;(n<0||o+n>i)&&(t.scrollTop=0==e?0:t.scrollTop+n)}}},{key:"onScroll",value:function(e){var t=this;if(this.props.fetchData&&!this.isFetching){var a=e.currentTarget;a.scrollHeight<=a.scrollTop+a.offsetHeight&&(this.isFetching=!0,this.props.fetchData().then(function(){t.isFetching=!1},function(){t.isFetching=!1}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.orgName,o=(t.selectEmail,t.type),i=t.selectSearchIndex,r=(t.addTag,t.needFixed),s=t.needAvatar,l=t.onSelect;return f.a.createElement(y.a,{onScroll:this.onScroll,isArrow:!1,boxPosition:"bottomCenter",isActive:!0,className:""+(r?v.a.resetDropbox:"")},f.a.createElement("div",{ref:this.getScrollContainerRef,className:s?v.a.agentSearch:v.a.tagsSearch},a.length?a.map(function(t,a){t.id;var r=t.name,c=t.email,u=t.isNew,d=t.firstName,m=t.lastName,p=t.photoURL,h=t.newLabel,g=s&&p?p+"?portalname="+n:null;s&&Object(T.g)(d,m);return r=s?Object(T.e)(d,m):r,f.a.createElement(C.Container,{alignBox:"row",align:"vertical",className:v.a.asItem+" "+(i==a?v.a.selectIem:""),onMouseDown:function(){l(t,o)},eleRef:a==i?e.getSelectedItemRef:null,key:a},s?f.a.createElement(C.Box,{className:v.a.imgCont},f.a.createElement(k.a,{src:g,name:r,size:"medium"})):null,f.a.createElement(C.Box,{flexible:!0},f.a.createElement("div",{className:v.a.ashead},u?f.a.createElement("span",{className:v.a.newTag},h):null,r),c?f.a.createElement("div",{className:v.a.asemail},c):null))}):f.a.createElement("div",{className:v.a.searchDiv},E.f.getI18NValue("support.label.searching"))))}}]),t}(f.a.Component);t.a=S,S.propTypes={addTag:g.a.func,data:g.a.array,fetchData:g.a.oneOfType([g.a.func,g.a.bool]),isPopupOpen:g.a.bool,needAvatar:g.a.bool,orgName:g.a.string,placeholder:g.a.string,removeClose:g.a.func,selectEmail:g.a.func,selectSearchIndex:g.a.number,theme:g.a.string,togglePopup:g.a.func,type:g.a.string},S.defaultProps={data:[],needAvatar:!0}},1201:function(e,t,a){e.exports={searchDrop:"SearchResults-module__searchDrop",resetDropbox:"SearchResults-module__resetDropbox",agentSearch:"SearchResults-module__agentSearch SearchResults-module__searchDrop",tagsSearch:"SearchResults-module__tagsSearch SearchResults-module__searchDrop",asItem:"SearchResults-module__asItem",ashead:"SearchResults-module__ashead common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",newTag:"SearchResults-module__newTag",selectIem:"SearchResults-module__selectIem",searchDiv:"SearchResults-module__searchDiv",imgCont:"SearchResults-module__imgCont",asemail:"SearchResults-module__asemail common-module__dotted common-module__oflow common-module__ellipsis",defaultSize:"SearchResults-module__defaultSize",black:"SearchResults-module__black",white:"SearchResults-module__white",iconCustom:"SearchResults-module__iconCustom"}},122:function(e,t,a){e.exports={attachment:"ThreadAttachments-module__attachment common-module__cboth",medium:"ThreadAttachments-module__medium",small:"ThreadAttachments-module__small",attachleft:"ThreadAttachments-module__attachleft common-module__tcenter",attachright:"ThreadAttachments-module__attachright",atatchName:"ThreadAttachments-module__atatchName common-module__dotted common-module__oflow common-module__ellipsis",attachSize:"ThreadAttachments-module__attachSize",attachDownload:"ThreadAttachments-module__attachDownload",pt8:"ThreadAttachments-module__pt8",docspan:"ThreadAttachments-module__docspan",attachCount:"ThreadAttachments-module__attachCount",mr6:"ThreadAttachments-module__mr6",ml6:"ThreadAttachments-module__ml6"}},1222:function(e,t,a){"use strict";a.d(t,"e",function(){return h}),a.d(t,"h",function(){return g}),a.d(t,"k",function(){return _}),a.d(t,"a",function(){return v}),a.d(t,"i",function(){return b}),a.d(t,"d",function(){return k}),a.d(t,"g",function(){return I}),a.d(t,"f",function(){return y}),a.d(t,"b",function(){return C}),a.d(t,"c",function(){return T}),a.d(t,"j",function(){return E});var n=a(20),o=a.n(n),i=a(23),r=a.n(i),s=a(2),l=a.n(s),c=a(5),u=a.n(c),d=a(15),m=a(6),p=(a(46),a(3)),f=a(7);function h(e,t){return{types:Object(m.m)("SAVEDRAFT"),callAPI:function(a,n){return Object(d.a)("/api/v1/tickets/"+e+"/draftReply",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=n(),o=t.id,i=u()({},o,t),s=l()({},i,a.module.thread),c=a.module.ticket[e].thread||[],d=a.module.ticket[e].conversationIds||[],m=[o].concat(r()(c)),p=[{id:o,type:"thread"}].concat(r()(d));return{data:t,entities:{thread:s,ticket:u()({},e,{thread:m,conversationIds:p})}}})}}}function g(e,t){return{types:Object(m.m)("SEND_FOR_REVIEW"),callAPI:function(a,n){return Object(d.a)("/api/v1/tickets/"+e+"/threads/"+t+"/sendForReview",!1,{orgId:a.currentOrgId}).post("").then(function(e){return e})}}}function _(e,t,a){return{types:Object(m.m)("UPDATEDRAFT"),callAPI:function(n,o){return Object(d.a)("/api/v1/tickets/"+e+"/draftReply/"+t,!1,{orgId:n.currentOrgId}).patch("",a).then(function(a){var n=o(),i=n.module.ticket[e].conversationIds||[],r=n.module.ticket[e].thread||[];if(i.length){for(var s=0,l=0;l<=i.length;l++)if(i[l].id==t){s=l;break}i.splice(0,0,i.splice(s,1)[0])}else{var c=r.indexOf(t);r.splice(0,0,r.splice(c,1)[0])}return{data:a,entities:{thread:u()({},t,a),ticket:u()({},e,{conversationIds:i,thread:r})}}})}}}function v(e,t,a){return{types:Object(m.m)("TICKET_THREAD_DELETE"),callAPI:function(n,o){return Object(d.a)(e,!1,{orgId:n.currentOrgId}).del().then(function(e){return{ticketId:t,threadId:a}})}}}function b(e,t,a){var n=a?"?isPrivate=true":"";return{types:Object(m.m)("SENDREPLY"),callAPI:function(a,o){return Object(d.a)("/api/v1/tickets/"+e+"/sendReply"+n,!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=o(),n=t.id,i=u()({},n,t),s=l()({},i,a.module.thread),c=a.module.ticket[e].thread||[],d=a.module.ticket[e].conversationIds||[],m=[n].concat(r()(c)),p=[{id:n,type:"thread"}].concat(r()(d));return{data:t,entities:{thread:s,ticket:u()({},e,{thread:m,conversationIds:p})}}})}}}function k(e,t,a){return{types:Object(m.m)("RESEND_THREAD"),callAPI:function(n,o){return Object(d.a)(e,!1,{orgId:n.currentOrgId}).post().then(function(e){var n=o(),i=n.module.ticket[a].conversationIds||[],r=n.module.ticket[a].thread||[];if(i.length){for(var s=0,l=0;l<=i.length;l++)if(i[l].id==t){s=l;break}i.splice(0,0,i.splice(s,1)[0])}else{var c=r.indexOf(t);r.splice(0,0,r.splice(c,1)[0])}return{data:e,entities:{thread:u()({},t,e),ticket:u()({},a,{thread:r,conversationIds:i})}}})}}}function I(e,t,a,n){return e=n?e+"&isPrivate=true":e,{types:Object(m.m)("SENDDRAFT"),callAPI:function(n,o){return Object(d.a)(e,!1,{orgId:n.currentOrgId}).post().then(function(e){var n=o(),i=n.module.ticket[t].conversationIds||[],r=n.module.ticket[t].thread||[];if(i.length){for(var s=0,l=0;l<=i.length;l++)if(i[l].id==a){s=l;break}i.splice(0,0,i.splice(s,1)[0])}else{var c=r.indexOf(a);r.splice(0,0,r.splice(c,1)[0])}return{data:e,entities:{thread:u()({},a,e),ticket:u()({},t,{conversationIds:i,thread:r})}}})}}}function y(e){return{types:Object(m.m)("SEARCHCONTACT"),callAPI:function(t,a){return Object(d.a)("/api/v1/contacts/search?limit=10&email="+e+"*",!1,{orgId:t.currentOrgId}).get().then(function(e){return 204==e.responseStatus?{list:[]}:l()(Object(f.normalize)(e.data,Object(f.arrayOf)(Object(f.schema)(p.L.CONTACT_L))),{list:e.data})})}}}function C(e){return{types:Object(m.m)("FROMEMAILADDRESS"),shouldCallAPI:function(t){return!t.departmentSpecificState[e]||!t.departmentSpecificState[e].fromEmailAddress.length},callAPI:function(t){return Object(d.a)("/api/v1/mailReplyAddress?departmentId="+e+"&isActive=true",!1,{orgId:t.currentOrgId}).get().then(function(t){return 204!=t.responseStatus?{entities:{},result:[],address:t.data,deptId:e}:{res:t,entity:{},result:[]}})}}}function T(e){return{types:Object(m.m)("MAIL_CONFIGURATIONS"),shouldCallAPI:function(t){return!o()(t.departmentSpecificState[e].mailConfigurations).length},callAPI:function(t){return Object(d.a)("/api/v1/departments/"+e+"/mailConfigurations",!1,{orgId:t.currentOrgId}).get().then(function(t){return{res:t,deptId:e,entity:{},result:[]}})}}}function E(e){return function(t,a){var n=a(),o=n.module.ticket[e],i=o.thread,r=void 0===i?[]:i,s=o.conversationIds,l=o.threadCount,c=o.commentCount;l=r.length;var d=r[0];if(s){for(var m=0;m<s.length;m++)if("thread"==s[m].type){d=s[m].id;break}l=s.length-parseInt(c)}var p={recentThreadId:d,recentThread:d?n.module.thread[d]:null,threadCount:l};return t({type:"SET_RECENT_THREAD_DATA_SUCCESS",data:{entities:{ticket:u()({},e,p)}}})}}},1228:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1246),v=a.n(_),b=a(151),k=a.n(b),I=a(30),y=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=(e.status,e.children),n=e.id,o=e.isLocked,i=e.lockedMsg;return f.a.createElement("div",{className:""+(o?v.a.locked:"")},f.a.createElement("div",{className:""+(o?v.a.inline:"")},f.a.createElement(k.a,{size:"small",text:t,type:"title",id:n,clipped:!0})),i?f.a.createElement("span",{className:v.a.lockIcon,"data-title":i},f.a.createElement(I.CommunityFontIcon,{name:"locked",size:"14",isBold:!0})):null,f.a.createElement("div",{className:v.a.ticketForm},a))}}]),t}(f.a.Component);t.a=y,y.defaultProps={status:"data",text:"Label",isLocked:!1,lockedMsg:""},y.propTypes={children:g.a.node,id:g.a.string,isLocked:g.a.bool,lockedMsg:g.a.string,status:g.a.oneOfType([g.a.string,g.a.bool]),text:g.a.string}},1232:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"c",function(){return m}),a.d(t,"a",function(){return p});var n=a(2),o=a.n(n),i=a(5),r=a.n(i),s=a(15),l=a(6),c=a(3),u=a(7);function d(e,t){return{types:Object(l.m)(c.L.FOLLOWERS),callAPI:function(a){return Object(s.a)("/api/v1/"+e+"/"+t+"/followers",!1,{orgId:a.currentOrgId}).get().then(function(e){return 0==e.data.length?{entities:r()({},c.L.AGENT_L,{}),result:[]}:Object(u.normalize)(e.data,Object(u.arrayOf)(Object(u.schema)(c.L.AGENT_L)))})}}}function m(e,t,a){return{types:Object(l.m)(e.toUpperCase()+"_REMOVEFOLLOWER"),callAPI:function(n,i){return Object(s.a)("/api/v1/"+e+"/"+t+"/removeFollowers",!1,{orgId:n.currentOrgId}).post("",{followerIds:[a]}).then(function(s){if("tickets"==e){var l=i().module.ticket[t].followerCount,c={followerCount:parseInt(l)-1};return c=n.myInfo.id==a?o()(c,{isFollowing:!1}):c,{res:s,entities:{ticket:r()({},t,c)},result:[]}}return s})}}}function p(e,t,a){return{types:Object(l.m)(e.toUpperCase()+"_ADDFOLLOWER"),callAPI:function(n,i){return Object(s.a)("/api/v1/"+e+"/"+t+"/addFollowers",!1,{orgId:n.currentOrgId}).post("",{followerIds:[a]}).then(function(s){if("tickets"==e){var l=i().module.ticket[t].followerCount,c={followerCount:parseInt(l)+1};return c=n.myInfo.id==a?o()(c,{isFollowing:!0}):c,{res:s,entities:{ticket:r()({},t,c)},result:[]}}return s})}}}},1233:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1234),v=a.n(_),b=a(16),k=a(239),I=a.n(k),y=a(8),C=a(73),T=a.n(C),E=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.closeTicket,a=e.reOpenTicket,n=e.isSpam,o=e.isClosed,i=e.isOnHold,r=e.notSpam,s=e.moduleName,l=e.haveCloseTicketPermission,c=e.isCancel,u=e.onClick,d=e.isCloserNotificationEnable,m=e.toggleCloserNotification,p=!1;l||o||i||(p=!0);var h=d?y.f.getI18NValue("support.survey.lable.last.notification.disable",[s]):y.f.getI18NValue("support.survey.lable.last.notification.enable",[s]);return f.a.createElement(b.Container,{alignBox:"row",align:"vertical",className:v.a.container},c||n||p||o||i?null:f.a.createElement(b.Box,{className:v.a.switch,"data-title":h},f.a.createElement(I.a,{id:"notification",checked:d,onChange:m})),f.a.createElement(b.Box,{flexible:!0},n?f.a.createElement(T.a,{className:v.a.spamButton,onClick:r,needAppearance:!1},y.f.getI18NValue("support.not.spam")):p?c?f.a.createElement(T.a,{className:v.a.cancelButton,onClick:u,needAppearance:!1},y.f.getI18NValue("support.label.cancel")):null:f.a.createElement(T.a,{className:v.a.blueBtn,onClick:o||i?a:t,dataId:"reopen-ticket",needAppearance:!1},o||i?y.f.getI18NValue("support.label.reopen.req",[s]):y.f.getI18NValue("support.common.set.close.entity",[s]))))}}]),t}(f.a.Component);t.a=E,E.propTypes={closeTicket:g.a.func,haveCloseTicketPermission:g.a.bool,isCancel:g.a.bool,isClosed:g.a.bool,isCloserNotificationEnable:g.a.bool,isOnHold:g.a.bool,isSpam:g.a.bool,moduleName:g.a.string,notSpam:g.a.func,onClick:g.a.func,reOpenTicket:g.a.func,toggleCloserNotification:g.a.func}},1234:function(e,t,a){e.exports={button:"TicketCloseButton-module__button common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",blueBtn:"TicketCloseButton-module__blueBtn common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",spamButton:"TicketCloseButton-module__spamButton TicketCloseButton-module__button common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",cancelButton:"TicketCloseButton-module__cancelButton TicketCloseButton-module__button common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",container:"TicketCloseButton-module__container",switch:"TicketCloseButton-module__switch"}},1235:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1236),v=a.n(_),b=a(52),k=a(64),I=a.n(k),y=a(73),C=a.n(y),T=a(8),E=a(6),S=a(359),N=a.n(S),A=a(3),O=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.documentKeyupHandler=a.documentKeyupHandler.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,a=t.replyConfirm,n=t.closeAlert;27===e.keyCode?n():13===e.keyCode&&a()}},{key:"render",value:function(){var e=this.props,t=e.agents,a=e.replyingUsers,n=e.replyConfirm,o=e.closeAlert,i=e.isFromReplyEditor;return f.a.createElement(N.a,{portalId:A.v},f.a.createElement(b.a,{align:"both",isActive:!0,animationName:"fadeIn"},f.a.createElement("div",{className:v.a.popup},f.a.createElement("div",{className:v.a.header},a.map(function(e,a){var n=t[e.agentId];return f.a.createElement("span",{key:a,className:v.a.user},f.a.createElement(I.a,{size:"large",src:n.photoURL,name:n.name||Object(E.e)(n.firstName,n.lastName)}))}),f.a.createElement("p",{className:v.a.information},a.map(function(e,n){var o=t[e.agentId];return n+=1,f.a.createElement("span",{className:v.a.name,key:n},f.a.createElement("span",null,o.name||Object(E.e)(o.firstName,o.lastName)),n===a.length-1?a.length>1?f.a.createElement("span",{className:v.a.name},T.f.getI18NValue("and")):null:n!==a.length?f.a.createElement("span",null,","):null)}),f.a.createElement("span",null," ",i?T.f.getI18NValue("support.label.collision.detection.newagent.replying"):a.length>1?T.f.getI18NValue("support.label.collision.detection.agent.replying",[T.f.getI18NValue("are")]):T.f.getI18NValue("support.label.collision.detection.agent.replying",[T.f.getI18NValue("is")])))),f.a.createElement("div",{className:v.a.footer},f.a.createElement("div",{className:v.a.footerTitle},T.f.getI18NValue("support.label.collision.detection.agent.reply.question")),f.a.createElement("div",null,f.a.createElement(C.a,{text:T.f.getI18NValue("support.yes"),size:"Medium",palette:"primaryFilled",onClick:n}),f.a.createElement("span",{className:v.a.lastButton},f.a.createElement(C.a,{text:T.f.getI18NValue("support.no"),size:"Medium",palette:"secondary",onClick:o})))))))}}]),t}(f.a.Component);t.a=O,O.propTypes={agents:g.a.object,closeAlert:g.a.func,isFromReplyEditor:g.a.bool,replyConfirm:g.a.func,replyingUsers:g.a.array}},1236:function(e,t,a){e.exports={popup:"CollisionReplyAlert-module__popup",header:"CollisionReplyAlert-module__header",information:"CollisionReplyAlert-module__information",name:"CollisionReplyAlert-module__name common-module__semibold common-module__ftsmooth",user:"CollisionReplyAlert-module__user",footer:"CollisionReplyAlert-module__footer",footerTitle:"CollisionReplyAlert-module__footerTitle",lastButton:"CollisionReplyAlert-module__lastButton"}},1246:function(e,t,a){e.exports={ticketForm:"FieldItem-module__ticketForm common-module__semibold common-module__ftsmooth",locked:"FieldItem-module__locked",inline:"FieldItem-module__inline",lockIcon:"FieldItem-module__lockIcon"}},1249:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1325),v=a.n(_),b=(a(30),function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.mode,n=e.cursor,o=e.status,i=void 0===o?"none":o,r=e.onClick,s=e.isList;return f.a.createElement("span",{className:v.a.transitionButton+" "+v.a[a]+" "+v.a[n]+" "+("loading"==i?v.a.loadingBtn:"success"==i?v.a.successBtn:"")+" "+(s?v.a.popBtn:""),onClick:r,"data-title":t},t,"none"!=i?f.a.createElement("div",{className:v.a.overlay},f.a.createElement("div",{className:"loading"==i?v.a.loading:v.a.success},f.a.createElement("div",{className:v.a.element}))):null)}}]),t}(f.a.Component));t.a=b,b.defaultProps={cursor:"default",mode:"default",isList:!1},b.propTypes={cursor:g.a.string,isList:g.a.bool,mode:g.a.oneOf(["default","autoTransition","assign","conditionFailed","assignButton","disable"]),onClick:g.a.func,status:g.a.string,text:g.a.string}},1256:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1312),v=a.n(_),b=a(16),k=a(30),I=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.value,n=e.onStart,o=e.onPause,i=e.onResume,r=e.onStop,s=e.onReset,l=e.isSuccessMessageNeeded,c=e.isStopIconNeeded;return f.a.createElement(b.Container,{isCover:!1,className:v.a.container},f.a.createElement(b.Box,null,f.a.createElement(b.Container,{align:"vertical",alignBox:"row",isCover:!1,className:v.a.timerBody},f.a.createElement(b.Box,{className:v.a.startButton,onClick:"RUNNING"==t?o:"INIT"==t?n:i},f.a.createElement(k.CommonFontIcon,{name:"RUNNING"==t?"commentTimerPause":"bcarr",size:"8",color:"prime"})),f.a.createElement(b.Box,{className:v.a.timerDiv},a),"INIT"!=t?f.a.createElement(f.a.Fragment,null,c?f.a.createElement(b.Box,{className:v.a.stopButton,onClick:r},f.a.createElement("div",{className:v.a.stopIcon})):null,f.a.createElement(b.Box,{className:v.a.refreshButton,onClick:s},f.a.createElement(k.CommonFontIcon,{name:"reload",size:"9",color:"prime"}))):null)),l?f.a.createElement(b.Box,null,f.a.createElement(b.Container,{align:"vertical",alignBox:"row",className:v.a.scuessContent},f.a.createElement(b.Box,{className:v.a.timeaddedTick}),f.a.createElement(b.Box,{flexible:!0,className:v.a.timeaddedContent},"Time Added Successfully."))):null)}}]),t}(f.a.Component),y=I;I.propTypes={isStopIconNeeded:g.a.bool,isSuccessMessageNeeded:g.a.bool,onPause:g.a.func,onReset:g.a.func,onResume:g.a.func,onStart:g.a.func,onStop:g.a.func,status:g.a.oneOf(["RUNNING","INIT","PAUSED"]),value:g.a.string},I.defaultProps={status:"INIT",value:"00:00:00",isStopIconNeeded:!0,isSuccessMessageNeeded:!1};var C=a(102),T=a(26),E=a(19),S=a.n(E),N=a(76),A=a(6),O=a(166),w=a(3),P=a(948),D=(a(32),function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.onStart=a.onStart.bind(a),a.onPause=a.onPause.bind(a),a.onResume=a.onResume.bind(a),a.onStop=a.onStop.bind(a),a.onReset=a.onReset.bind(a),a.configure=a.configure.bind(a),a.deconfigure=a.deconfigure.bind(a),a}return m()(t,e),l()(t,[{key:"configure",value:function(){var e=this.props,t=e.module,a=e.id;C.a.configure(t,a)}},{key:"deconfigure",value:function(e,t){O.a.remove("autoPause_"+t),C.a.clear(e,t)}},{key:"onStart",value:function(){var e=this.props,t=e.module,a=e.id;C.a.triggerTimerAction(t,a,void 0,"start")}},{key:"onPause",value:function(){var e=this.props,t=e.module,a=e.id;C.a.triggerTimerAction(t,a,void 0,"pause")}},{key:"onResume",value:function(){var e=this.props,t=e.module,a=e.id;C.a.triggerTimerAction(t,a,void 0,"resume")}},{key:"onStop",value:function(){var e=this.props,t=e.module,a=e.id;C.a.triggerTimerAction(t,a,void 0,"stop")}},{key:"onReset",value:function(){var e=this.props,t=e.module,a=e.id;C.a.triggerTimerAction(t,a,void 0,"reset")}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isSpam,a=e.isCompleted;t||a||this.configure()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.module,a=e.id;this.deconfigure(t,a)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.module,o=a.id,i=a.isSpam,r=a.isCompleted,s=e.module,l=e.id,c=e.isSpam,u=e.isCompleted;Object(A.K)({module:n,id:o},{module:s,id:l})?(this.deconfigure(s,l),this.configure()):i!=c?i?this.deconfigure(n,o):this.configure():r!=u&&r&&this.deconfigure(n,o)}},{key:"render",value:function(){var e=this.props,t=e.timer,a=void 0===t?{}:t,n=e.module,o=e.id,i=e.isSpam,r=e.isCompleted,s=a.value,l=a.status;if(s&&l&&!C.a.isTimerInHiddenMode(n,o)&&!i&&!r){var c=s.hours,u=s.minutes,d=s.seconds,m=Object(N.a)(c)+" : "+Object(N.a)(u)+" : "+Object(N.a)(d);return f.a.createElement(y,{value:m,status:l,onStart:this.onStart,onPause:this.onPause,onResume:this.onResume,onStop:this.onStop,onReset:this.onReset,isStopIconNeeded:!C.a.isAutoTimer(n,o)})}return null}}]),t}(f.a.Component)),x=Object(T.connect)(function(e,t){var a=t.module,n=t.id,o="tickets"==a?w.L.TICKET_L:"tasks"==a?w.L.TASK_L:a;return{timer:S()("timer["+a+"]["+n+"]",e),isSpam:S()("module["+o+"]["+n+"].isSpam",e)||!1,isCompleted:"tickets"!=a&&"Completed"==S()("module["+o+"]["+n+"].status")}})(D);D.propTypes={id:g.a.string,isCompleted:g.a.bool,isSpam:g.a.bool,module:g.a.string,timer:g.a.shape({value:g.a.shape({hours:g.a.oneOfType([g.a.string,g.a.number]),minutes:g.a.oneOfType([g.a.string,g.a.number]),seconds:g.a.oneOfType([g.a.string,g.a.number])}),intervalId:g.a.oneOfType([g.a.string,g.a.number]),startValue:g.a.oneOfType([g.a.string,g.a.number]),status:g.a.string,depId:g.a.string,isAutoTimer:g.a.bool})};var L=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isMounted:!1},a.configure=a.configure.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.configure()}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.module,o=a.id,i=e.module,r=e.id;C.a.checkDepId(n,o)!=C.a.checkDepId(i,r)&&this.setState({isMounted:!1},function(){t.configure()})}},{key:"configure",value:function(){var e=this,t=this.props,a=t.module,n=t.id;C.a.loadTimeTrackingSettings(void 0,a,n).then(function(){var t="*",o=C.a.getTimeTrackSettings(void 0,a,n).currentState,i=void 0===o?{}:o,r=(i.isTimeTracking,i.ticketPreference),s=void 0===r?{}:r,l=i.activityPreference,c=void 0===l?{}:l;if("tickets"==a)s.isAutoTimer||(t="timeEntry_create");else if("tasks"==a){if(!c.isTasksEnabled)return null;t="timeEntry_create"}else if("events"==a){if(!c.isEventsEnabled)return null;t="timeEntry_create"}e.component=Object(P.licensePermissionCheckHOC)({component:{license:["ENTERPRISE","PROFESSIONAL","CRMPLUS","ZOHOONE"],permission:t}})(x),e.setState({isMounted:!0})})}},{key:"render",value:function(){var e=this.props,t=e.module,a=e.id;if(this.state.isMounted){var n=this.component;return f.a.createElement(n,{module:t,id:a})}return null}}]),t}(f.a.Component);t.a=L;L.propTypes={id:g.a.string,module:g.a.string}},1274:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(45),v=a.n(_),b=a(16),k=function(e){function t(e){return r()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isLeftPanelOpen,a=e.constructLeftPanel,n=e.screenMode,o=e.changeLeftTab,i=e.leftTab,r=e.constructRightPanel,s=e.children,l=e.dataId;return f.a.createElement(b.Container,{alignBox:"row",dataId:l},a?f.a.createElement(b.Box,{className:v.a.column3+" "+(t?v.a.column3Active:"")+" "},f.a.createElement(b.Container,{alignBox:"column",className:""+v.a.column3box},f.a.createElement(b.Box,{flexible:!0},a()))):null,f.a.createElement(b.Box,{flexible:!0,className:""+v.a.column4,onClick:function(){"sm"==n&&o(i)}},r(),s))}}]),t}(p.Component);t.a=k,k.propTypes={changeLeftTab:g.a.func,children:g.a.node,constructLeftPanel:g.a.func,constructRightPanel:g.a.func,dataId:g.a.string,isLeftPanelOpen:g.a.bool,leftTab:g.a.string,screenMode:g.a.string}},1280:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1021),v=a(8),b=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteThread,a=e.closeAlert;return f.a.createElement(_.a,{isActive:!0,title:v.f.getI18NValue("support.history.operation.label.wfalert"),message:v.f.getI18NValue("support.failedmail.remove"),submitText:v.f.getI18NValue("crm.button.delete"),cancelText:v.f.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a})}}]),t}(p.Component);t.a=b,b.propTypes={deleteThread:g.a.func,moduleMeta:g.a.object}},1292:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"c",function(){return u}),a.d(t,"a",function(){return d});var n=a(2),o=a.n(n),i=a(3),r=a(15),s=a(6),l=a(7);function c(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c="?status=ACTIVE&isConfirmed=true";return c+="&departmentIds="+e+"&from="+t+"&limit="+a+(n.length>1?"&searchStr=*${searchStr}*":""),{types:Object(s.m)("SHARED_DEPARTMENT_AGENTS"),callAPI:function(e,n){return Object(r.a)("/api/v1/agents"+c,!1,{orgId:e.currentOrgId}).get().then(function(e){var n=e.data.length<a;return o()({},Object(l.normalize)(204!==e.responseStatus?e.data:[],Object(l.arrayOf)(Object(l.schema)(i.L.AGENT_L))),{from:t,noMoreData:n})})}}}function u(e){return{type:"OPEN_TICKETSHARE_FORM",data:e}}function d(){return{type:"CLOSE_TICKETSHARE_FORM"}}},1294:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1295),v=a.n(_),b=a(63),k=a.n(b),I=a(459),y=a(8),C=a(16),T=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.shareLink=a.shareLink.bind(a),a.pasteContent=a.pasteContent.bind(a),a}return m()(t,e),l()(t,[{key:"shareLink",value:function(){var e=this.props,t=e.shareLink;t(e.previewData.id)}},{key:"pasteContent",value:function(){var e=this.props,t=e.pasteContent;t(e.previewData.id)}},{key:"render",value:function(){var e=this.props,t=e.closePreviewBox,a=e.previewData,n=e.ticketLabel,o=e.orgId,i=e.downloadAttachment,r=e.showAttachmentViewer,s=e.isPeekView,l=e.isLightAgent,c=a.createdTime,u=a.title,d=a.createdBy,m=a.category,p=a.answer,h=a.attachments,g=void 0===h?[]:h,_=a.status,b=a.permission;return c=y.f.userDateFormat(new Date(c),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}),f.a.createElement(C.Container,{className:v.a.suggestnDtls+" "+(s&&v.a.peeksuggestnDtls)},f.a.createElement(C.Box,{onClick:t,className:v.a.header},f.a.createElement("span",{className:v.a.icnClse},f.a.createElement(k.a,{name:"cross",size:"20"}))),f.a.createElement(C.Box,{flexible:!0,scroll:"both",className:v.a.textArea},f.a.createElement("div",{className:v.a.topDiv},f.a.createElement("div",{className:v.a.topContnt},u)),f.a.createElement("div",{className:v.a.titleFormat},y.f.getI18NValue("support.label.created"),": ",f.a.createElement("span",{className:v.a.highLight},d&&d.name," "),y.f.getI18NValue("support.solutions.in.topic"),f.a.createElement("span",{className:v.a.highLight}," ",m&&m.name," "),y.f.getI18NValue("support.label.at")," ",c),f.a.createElement("div",{className:v.a.dtlsComnt,dangerouslySetInnerHTML:{__html:p}})),g.length?f.a.createElement("div",{className:v.a.attachCont},f.a.createElement(I.a,{data:g,downloadAttachment:i,showAttachmentViewer:r,orgId:o})):null,l?null:f.a.createElement(C.Box,null,f.a.createElement("div",{className:v.a.btmOptions},"Published"===_&&"AGENTS"!=b?f.a.createElement("span",{className:v.a.optnList,onClick:this.shareLink},f.a.createElement("span",{className:v.a.optionIcn},f.a.createElement(k.a,{name:"share",size:"14",color:"primary"})),f.a.createElement("span",{className:v.a.optionName},y.f.getI18NValue("support.label.share.link.to.ticket",[n]))):null,f.a.createElement("span",{className:v.a.optnList,onClick:this.pasteContent},f.a.createElement("span",{className:v.a.optionIcn},f.a.createElement(k.a,{name:"copy22",size:"14",color:"primary"})),f.a.createElement("span",{className:v.a.optionName},y.f.getI18NValue("support.label.paste.to.ticket",[n]))))))}}]),t}(f.a.Component);t.a=T,T.propTypes={closePreviewBox:g.a.func,downloadAttachment:g.a.func,isLightAgent:g.a.bool,isPeekView:g.a.bool,orgId:g.a.number,pasteContent:g.a.func,previewData:g.a.object,shareLink:g.a.func,showAttachmentViewer:g.a.func,ticketLabel:g.a.string}},1295:function(e,t,a){e.exports={suggestnDtls:"SuggestionPreviewBox-module__suggestnDtls",header:"SuggestionPreviewBox-module__header",sideArrow:"SuggestionPreviewBox-module__sideArrow common-module__posab",attachCont:"SuggestionPreviewBox-module__attachCont",topDiv:"SuggestionPreviewBox-module__topDiv",topContnt:"SuggestionPreviewBox-module__topContnt common-module__wbreak",icnClse:"SuggestionPreviewBox-module__icnClse",dtlsComnt:"SuggestionPreviewBox-module__dtlsComnt",textArea:"SuggestionPreviewBox-module__textArea",btmOptions:"SuggestionPreviewBox-module__btmOptions",optnList:"SuggestionPreviewBox-module__optnList",optionIcn:"SuggestionPreviewBox-module__optionIcn",optionName:"SuggestionPreviewBox-module__optionName",titleFormat:"SuggestionPreviewBox-module__titleFormat",highLight:"SuggestionPreviewBox-module__highLight",peeksuggestnDtls:"SuggestionPreviewBox-module__peeksuggestnDtls SuggestionPreviewBox-module__suggestnDtls"}},1308:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=s(a(0)),i=s(a(1)),r=s(a(1309));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.text,n=e.children,i=e.palette,s=e.size,l=e.dataId;return o.default.createElement("span",{className:r.default.basic+" "+("tag"!==t?"plain"===t||"box"===t||"stamp"===t?r.default["plain_"+i]:r.default["palette_"+i]:"")+" "+r.default[s]+" "+r.default[t],"data-id":l},"sticker"===t?o.default.createElement("span",{className:r.default.after}):null,n?o.default.createElement("span",{className:r.default.children},n):null,a,"sticker"===t?o.default.createElement("span",{className:r.default.before}):null)}}]),t}();t.default=l,l.propTypes={children:i.default.element,dataId:i.default.string,palette:i.default.oneOf(["default","danger","primary","secondary","info","dark"]),size:i.default.oneOf(["small","medium","large","xlarge"]),text:i.default.string,type:i.default.oneOf(["default","flag","plain","ribbon","box","stamp","sticker","tag"])},l.propTypesDescription={text:" ",type:" ",children:" ",palette:" ",size:" "},l.defaultProps={palette:"default",size:"large",text:"Ribbon",type:"default",dataId:"ribbonComp"}},1309:function(e,t,a){e.exports={basic:"Ribbon-module__basic",default:"Ribbon-module__default common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",flag:"Ribbon-module__flag common-module__dotted common-module__oflow common-module__ellipsis common-module__dotted common-module__oflow common-module__ellipsis",plain:"Ribbon-module__plain common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",ribbon:"Ribbon-module__ribbon common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",box:"Ribbon-module__box common-module__dotted common-module__oflow common-module__ellipsis",stamp:"Ribbon-module__stamp common-module__dotted common-module__oflow common-module__ellipsis",sticker:"Ribbon-module__sticker common-module__dotted common-module__oflow common-module__ellipsis",small:"Ribbon-module__small",medium:"Ribbon-module__medium",large:"Ribbon-module__large",xlarge:"Ribbon-module__xlarge",palette_default:"Ribbon-module__palette_default",palette_danger:"Ribbon-module__palette_danger",palette_primary:"Ribbon-module__palette_primary",palette_secondary:"Ribbon-module__palette_secondary",palette_info:"Ribbon-module__palette_info",palette_dark:"Ribbon-module__palette_dark",plain_default:"Ribbon-module__plain_default",plain_danger:"Ribbon-module__plain_danger",plain_primary:"Ribbon-module__plain_primary",plain_secondary:"Ribbon-module__plain_secondary",plain_info:"Ribbon-module__plain_info",plain_dark:"Ribbon-module__plain_dark",tag:"Ribbon-module__tag common-module__semibold common-module__ftsmooth",after:"Ribbon-module__after",before:"Ribbon-module__before",children:"Ribbon-module__children"}},1312:function(e,t,a){e.exports={container:"TimerUI__container common-module__dInflex",timerBody:"TimerUI__timerBody common-module__dInflex",timerDiv:"TimerUI__timerDiv",startButton:"TimerUI__startButton",stopButton:"TimerUI__stopButton TimerUI__startButton",refreshButton:"TimerUI__refreshButton TimerUI__startButton",stopIcon:"TimerUI__stopIcon",scuessContent:"TimerUI__scuessContent",timeaddedTick:"TimerUI__timeaddedTick",timeaddedContent:"TimerUI__timeaddedContent common-module__dotted common-module__oflow common-module__ellipsis"}},1322:function(e,t,a){"use strict";a.d(t,"d",function(){return f}),a.d(t,"c",function(){return h}),a.d(t,"b",function(){return g}),a.d(t,"a",function(){return _});var n=a(23),o=a.n(n),i=a(5),r=a.n(i),s=a(2),l=a.n(s),c=a(15),u=a(6),d=a(46),m=a(3),p=a(7);function f(e){return{types:Object(u.m)("GET_CONTRACT"),callAPI:function(t){return Object(c.a)(m.w+"contracts/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return l()(Object(p.normalize)(e,Object(p.schema)(m.L.CONTRACT_L)))}).catch(function(e){return{status:e.status}})}}}var h=function(e){return{types:Object(u.m)("GET_ACCOUNT_CONTRACTS"),callAPI:function(t){var a=Object(d.a)(t,!0);return Object(c.a)(m.w+"contracts?accountId="+e+a+"&sortBy=createdTime",!1,{orgId:t.currentOrgId}).get().then(function(t){var a=204!=t.responseStatus?t.data:[],n={id:e,contracts:a};return Object(p.normalize)(n,Object(p.schema)(m.L.ACCOUNT_L,{mapping:{contracts:Object(p.arrayOf)(Object(p.schema)(m.L.CONTRACT_L))}}))}).catch(function(e){return{status:e.status}})}}};function g(e,t){return{types:Object(u.m)("DELETE_ACCOUNT_CONTRACT"),callAPI:function(a){var n=a.module.account[e].contracts.filter(function(e){return e!=t});return Object(c.a)(m.w+"contracts/moveToTrash",!1,{orgId:a.currentOrgId}).post("",{contractIds:[t]}).then(function(){return{entities:{account:r()({},e,{id:e,contracts:n})}}}).catch(function(e){return{status:e.status}})}}}var _=function(e,t){return{types:Object(u.m)("CREATE_CONTRACT"),callAPI:function(a){var n=a.module.account[e].contracts;return Object(c.a)(m.w+"contracts",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){return{entities:{account:r()({},e,{id:e,contracts:[t.id].concat(o()(n))}),contract:r()({},t.id,t)}}})}}}},1323:function(e,t,a){"use strict";a.d(t,"d",function(){return c}),a.d(t,"b",function(){return u}),a.d(t,"c",function(){return d}),a.d(t,"i",function(){return m}),a.d(t,"f",function(){return p}),a.d(t,"e",function(){return f}),a.d(t,"g",function(){return h}),a.d(t,"h",function(){return g}),a.d(t,"a",function(){return _});var n=a(2),o=a.n(n),i=a(5),r=a.n(i),s=a(15),l=a(6);function c(e){return{types:Object(l.m)("GET_JIRABUG_INFO"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/jiraIssue",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:r()({},e,{jiraBugInfo:t.issueInfo?t:null})},result:[]}})}}}function u(e,t){return{types:Object(l.m)("CREATE_JIRA"),callAPI:function(a,n){return Object(s.a)("/api/v1/tickets/"+e+"/jiraIssue",!1,{orgId:a.currentOrgId}).post("",t).then(function(e){return e})}}}function d(e){return{types:Object(l.m)("DELINK_JIRABUG"),callAPI:function(t,a){return Object(s.a)("/api/v1/tickets/"+e+"/jiraIssue",!1,{orgId:t.currentOrgId}).del().then(function(t){return{entities:{ticket:r()({},e,{jiraBugInfo:null})},result:[]}})}}}function m(e,t){var a=t.transitionId,n=t.issueStatus,i=t.issueStatusCategory;return{types:Object(l.m)("OPEN_OR_CLOSE_BUG"),callAPI:function(t,l){return Object(s.a)("/api/v1/tickets/"+e+"/jiraIssue/applyTransition",!1,{orgId:t.currentOrgId}).patch("",{transitionId:a}).then(function(t){var a=l().module.ticket[e].jiraBugInfo;return o()(a.issueInfo,{issueStatusCategory:i,issueStatus:n}),{entities:{ticket:r()({},e,{jiraBugInfo:a})},result:[]}})}}}function p(e){return{types:Object(l.m)("GET_PROJECT_FILEBUG_BETA"),callAPI:function(t){return Object(s.a)("/api/v1/jira/projectsFileBugMeta?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e.projects})}}}function f(e){return{types:Object(l.m)("GET_JIRA_USERS"),callAPI:function(t){return Object(s.a)("/api/v1/jira/users?projectKey="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e.data})}}}function h(e,t){var a="startsWith="+t;return e&&(a+="&fieldId="+e),{types:Object(l.m)("GET_SUGGESTION_LABELS"),callAPI:function(e){return Object(s.a)("/api/v1/jiraIssue/labels?"+a,!1,{orgId:e.currentOrgId}).get().then(function(e){return e.labels})}}}function g(e){return{type:"OPEN_JIRA_FORM",data:e}}function _(){return{type:"CLOSE_JIRA_FORM"}}},1324:function(e,t,a){"use strict";a.d(t,"e",function(){return c}),a.d(t,"i",function(){return u}),a.d(t,"c",function(){return d}),a.d(t,"d",function(){return m}),a.d(t,"a",function(){return p}),a.d(t,"f",function(){return f}),a.d(t,"g",function(){return h}),a.d(t,"h",function(){return g}),a.d(t,"b",function(){return _});var n=a(2),o=a.n(n),i=a(5),r=a.n(i),s=a(15),l=a(6);function c(e){return{types:Object(l.m)("GET_BUG_INFO"),callAPI:function(t){return Object(s.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:t.currentOrgId}).get().then(function(t){return{entities:{ticket:r()({},e,{bugInfo:t})},result:[]}})}}}function u(e,t){return{types:Object(l.m)("UPDATE_BUG_STATUS"),callAPI:function(a,n){return Object(s.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:a.currentOrgId}).patch("",{status:t}).then(function(t){var a=n().module.ticket[e].bugInfo,i=o()(a,t);return{entities:{ticket:r()({},e,{bugInfo:i})},result:[]}})}}}function d(e){return{types:Object(l.m)("DELINK_BUG"),callAPI:function(t,a){return Object(s.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:t.currentOrgId}).del().then(function(t){return{entities:{ticket:r()({},e,{bugInfo:{message:"No Bug Id available for this case Id"}})},result:[]}})}}}function m(e,t){return{types:Object(l.m)("FILE_A_BUG"),callAPI:function(a,n){return Object(s.a)("/api/v1/tickets/"+e+"/bug",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){return t.key?{key:t.key,entities:{ticket:r()({},e,{bugInfo:t})},result:[]}:{message:t.message}})}}}function p(e,t,a){return{types:Object(l.m)("ASSOCIATE_A_BUG"),callAPI:function(n,o){return Object(s.a)("/api/v1/tickets/"+e+"/associateBug?bugKey="+t+"&projectId="+a,!1,{orgId:n.currentOrgId}).post().then(function(t){return t.key?{key:t.key,entities:{ticket:r()({},e,{bugInfo:t})},result:[]}:{message:t.message}})}}}function f(){return{types:Object(l.m)("GET_BUGTRACKER_CONFIGURATION"),callAPI:function(e){return Object(s.a)("/api/v1/bugTrackerConfiguration",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function h(e){return{types:Object(l.m)("GET_BUGTRACKER_PROJECTS"),callAPI:function(t){return Object(s.a)("/api/v1/bugTrackerProjects?departmentId="+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return{data:t.data,depId:e}})}}}function g(e){return{type:"OPEN_BUGTRACKER_FORM",data:e}}function _(){return{type:"CLOSE_BUGTRACKER_FORM"}}},1325:function(e,t,a){e.exports={transitionButton:"BlueprintStates-module__transitionButton common-module__dotted common-module__oflow common-module__ellipsis",popBtn:"BlueprintStates-module__popBtn",default:"BlueprintStates-module__default common-module__semibold common-module__ftsmooth",autoTransition:"BlueprintStates-module__autoTransition common-module__semibold common-module__ftsmooth",assign:"BlueprintStates-module__assign common-module__semibold common-module__ftsmooth",conditionFailed:"BlueprintStates-module__conditionFailed common-module__semibold common-module__ftsmooth",disable:"BlueprintStates-module__disable BlueprintStates-module__conditionFailed common-module__semibold common-module__ftsmooth",assignButton:"BlueprintStates-module__assignButton",pointer:"BlueprintStates-module__pointer",loadingBtn:"BlueprintStates-module__loadingBtn",successBtn:"BlueprintStates-module__successBtn BlueprintStates-module__loadingBtn",overlay:"BlueprintStates-module__overlay",loading:"BlueprintStates-module__loading",element:"BlueprintStates-module__element",crlrotate:"BlueprintStates-module__crlrotate",success:"BlueprintStates-module__success",tick:"BlueprintStates-module__tick"}},1369:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a(1370),_=a.n(g),v=a(30),b=a(8),k=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.count,a=e.isRead,n=e.isAnimate,o=e.noViewers;return f.a.createElement("div",{className:_.a.flagIcon,"data-title":b.f.getI18NValue("support.label.agent.collision.detection")},o?f.a.createElement("div",{className:_.a.collisionCount+" "+(a?_.a.read:_.a.unread)+" "+(n&&_.a.animate)+" "+_.a.noViewers,"data-id":"FlagIcon","data-title":b.f.getI18NValue("support.label.no.active.viewers")},f.a.createElement(v.CommonFontIcon,{name:"deactiveUser",size:"8"})):t>0&&f.a.createElement("div",{className:_.a.collisionCount+" "+(a?_.a.read:_.a.unread)+" "+(n&&_.a.animate),"data-id":"FlagIcon"},t),f.a.createElement(v.ReportsFontIcon,{name:"flag5",size:"18"}))}}]),t}(f.a.Component);t.a=k,k.defaultProps={isAnimate:!1,isRead:!1,noViewers:!1},k.propTypes={count:h.PropTypes.string,isAnimate:h.PropTypes.bool,isRead:h.PropTypes.bool,noViewers:h.PropTypes.bool}},1370:function(e,t,a){e.exports={flagIcon:"CollisionIcon-module__flagIcon common-module__offSelection",collisionCount:"CollisionIcon-module__collisionCount",noViewers:"CollisionIcon-module__noViewers",read:"CollisionIcon-module__read",unread:"CollisionIcon-module__unread",animate:"CollisionIcon-module__animate common-module__transZ animation-module__navigate"}},1383:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return m});var n=a(2),o=a.n(n),i=a(5),r=a.n(i),s=a(15),l=a(3),c=a(6),u=a(7);function d(e){return{types:Object(c.m)(l.L.ARTICLE),callAPI:function(t){return Object(s.a)("/api/v1/articles/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(u.normalize)(e,Object(u.schema)(l.L.ARTICLE_L))})}}}function m(e,t,a,n,i){return{types:Object(c.m)("SEARCH_ARTICLE"),callAPI:function(c,d){return Object(s.a)("/api/v1/articles/search?from="+t+"&limit="+a+"&title="+e,!1,{orgId:c.currentOrgId}).get().then(function(e){if("ticketDetailview"==n){if(204!=e.responseStatus){var s=e.data.length<a,c=(r()({id:i},l.L.ARTICLE_L,e.data),Object(u.normalize)(e.data,Object(u.arrayOf)(Object(u.schema)(l.L.ARTICLE_L)))),m=d(),p=r()({},i,{article:1==t?c.result:m.module.ticket[i].article.concat(c.result)}),f=o()(c.entities,{ticket:p});return o()(c,f,{noMoreData:s})}return 1==t?{entities:{isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}}return Object(u.normalize)(e,Object(u.arrayOf)(Object(u.schema)(l.L.ARTICLE_L)))})}}}},1408:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1409),v=a.n(_),b=a(233),k=a.n(b),I=a(16),y=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.isThreeLayoutEnabled;return f.a.createElement(I.Container,{alignBox:"row"},f.a.createElement(I.Box,null,f.a.createElement("div",{className:e?v.a.noftiDiv1+" "+v.a.threeLayout:v.a.noftiDiv1},f.a.createElement("div",{className:v.a.prflDiv},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.prflDiv},f.a.createElement(k.a,{size:"medium"})),f.a.createElement("div",{className:v.a.prflDiv},f.a.createElement(k.a,{size:"small"})),f.a.createElement("div",{className:v.a.listDiv},f.a.createElement("div",{className:v.a.assinDiv},f.a.createElement(k.a,{size:"medium"})),f.a.createElement("div",{className:v.a.avtarDiv},f.a.createElement(k.a,{shape:"circle",size:"medium"})),f.a.createElement("span",{className:v.a.prflName},f.a.createElement(k.a,{size:"small"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"small"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"}))),f.a.createElement("div",{className:v.a.ticketData},f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"large"})),f.a.createElement("div",{className:v.a.ticketData1},f.a.createElement(k.a,{size:"medium"}))))),f.a.createElement(I.Box,{flexible:!0,className:v.a.detailContainer},f.a.createElement("div",{className:v.a.noftiContTop},f.a.createElement("div",{className:v.a.rTopavtarDiv},f.a.createElement(k.a,{shape:"circle",size:"large"})),f.a.createElement("div",{className:v.a.ticketDetail},f.a.createElement("div",{className:v.a.tickName},f.a.createElement(k.a,{size:"default"})),f.a.createElement("div",{className:v.a.tickInfo},f.a.createElement("span",{className:v.a.tickDet},f.a.createElement(k.a,{size:"default"})),f.a.createElement("span",{className:v.a.tickDet},f.a.createElement(k.a,{size:"default"})),f.a.createElement("span",{className:v.a.tickDet},f.a.createElement(k.a,{size:"default"})))),f.a.createElement("div",{className:v.a.replyIcns},f.a.createElement("span",{className:v.a.icns},f.a.createElement(k.a,{shape:"circle",size:"large"})),f.a.createElement("span",{className:v.a.icns},f.a.createElement(k.a,{shape:"circle",size:"large"})))),f.a.createElement("div",{className:v.a.subTabs},f.a.createElement("span",{className:v.a.subtabName},f.a.createElement(k.a,{size:"default"})),f.a.createElement("span",{className:v.a.subtabName},f.a.createElement(k.a,{size:"default"})),f.a.createElement("span",{className:v.a.subtabName},f.a.createElement(k.a,{size:"default"})),f.a.createElement("span",{className:v.a.subtabName},f.a.createElement(k.a,{size:"default"})),f.a.createElement("span",{className:v.a.subtabName},f.a.createElement(k.a,{size:"default"})))))}}]),t}(f.a.Component);t.a=y,y.propTypes={isThreeLayoutEnabled:g.a.bool}},1409:function(e,t,a){e.exports={noftiDiv:"TicketDvStencils-module__noftiDiv",noftiDiv1:"TicketDvStencils-module__noftiDiv1",threeLayout:"TicketDvStencils-module__threeLayout",threeLayoutList:"TicketDvStencils-module__threeLayoutList",detailContainer:"TicketDvStencils-module__detailContainer",prflDiv:"TicketDvStencils-module__prflDiv",listDiv:"TicketDvStencils-module__listDiv",assinDiv:"TicketDvStencils-module__assinDiv",avtarDiv:"TicketDvStencils-module__avtarDiv",prflName:"TicketDvStencils-module__prflName",ticketData:"TicketDvStencils-module__ticketData",ticketData1:"TicketDvStencils-module__ticketData1",noftiContTop:"TicketDvStencils-module__noftiContTop",rTopavtarDiv:"TicketDvStencils-module__rTopavtarDiv",ticketDetail:"TicketDvStencils-module__ticketDetail",tickName:"TicketDvStencils-module__tickName",tickInfo:"TicketDvStencils-module__tickInfo",tickDet:"TicketDvStencils-module__tickDet",replyIcns:"TicketDvStencils-module__replyIcns",icns:"TicketDvStencils-module__icns",subTabs:"TicketDvStencils-module__subTabs",subtabName:"TicketDvStencils-module__subtabName"}},1455:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"c",function(){return r}),a.d(t,"d",function(){return s}),a.d(t,"e",function(){return l}),a.d(t,"b",function(){return c});var n=a(15),o=a(6);function i(){return{types:Object(o.m)("CHECK_PERMISSIONS"),callAPI:function(e){return Object(n.a)("/api/v1/zohoAssist/permissions",!1,{orgId:e.currentOrgId}).get().then(function(e){return{res:e,entities:{},result:[]}})}}}function r(e,t){return{types:Object(o.m)("CREATE_INSTANT_SESSION"),callAPI:function(a){return Object(n.a)("/api/v1/tickets/"+e+"/zohoAssist/instantSession",!1,{orgId:a.currentOrgId}).post("",{sessionType:"rs",email:t}).then(function(e){return{res:e,entities:{},result:[]}})}}}function s(e,t){return{types:Object(o.m)("CREATE_SCHEDULE_SESSION"),callAPI:function(a){return Object(n.a)("/api/v1/tickets/"+e+"/zohoAssist/scheduleSession",!1,{orgId:a.currentOrgId}).post("",t).then(function(e){return{res:e,entities:{},result:[]}})}}}function l(){return{type:"OPEN_REMOTE_ASSIST"}}function c(){return{type:"CLOSE_REMOTE_ASSIST"}}},1484:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return r});var n=a(15),o=a(6);a(46);function i(e,t,a){return{types:Object(o.m)("GET_BESTANSWER"),callAPI:function(o){return Object(n.a)("/api/v1/zia/tickets/"+e+"/assistant/answer?departmentId="+a+"&threadId="+t+"&contentType=html",!1,{orgId:o.currentOrgId}).get().then(function(e){return e})}}}function r(e,t,a){return{types:Object(o.m)("GET_BESTANSWER"),callAPI:function(o){return Object(n.a)("/api/v1/zia/tickets/"+e+"/assistant/chat?question="+a+"&departmentId="+t+"&contentType=html",!1,{orgId:o.currentOrgId}).get().then(function(e){return e})}}}},1485:function(e,t,a){e.exports={textArea:"BotConversation-module__textArea",header:"BotConversation-module__header",posrel:"BotConversation-module__posrel",conversation:"BotConversation-module__conversation",footer:"BotConversation-module__footer",sendButton:"BotConversation-module__sendButton",sendHover:"BotConversation-module__sendHover"}},1486:function(e,t,a){e.exports={botConversation:"BotAnswer__botConversation",convWithIcon:"BotAnswer__convWithIcon",hideIcon:"BotAnswer__hideIcon",message:"BotAnswer__message",hideContent:"BotAnswer__hideContent",truncate:"BotAnswer__truncate",more:"BotAnswer__more",bot:"BotAnswer__bot",animate:"BotAnswer__animate",pop:"BotAnswer__pop",user:"BotAnswer__user",article:"BotAnswer__article",articleHeader:"BotAnswer__articleHeader",helpFul:"BotAnswer__helpFul",icons:"BotAnswer__icons",icon:"BotAnswer__icon",isRated:"BotAnswer__isRated",linkAricle:"BotAnswer__linkAricle",button:"BotAnswer__button",blueBtn:"BotAnswer__blueBtn BotAnswer__button",greenBtn:"BotAnswer__greenBtn BotAnswer__button"}},1487:function(e,t,a){e.exports={bot:"BotQuestion__bot",userConversation:"BotQuestion__userConversation",animate:"BotQuestion__animate",pop:"BotQuestion__pop",user:"BotQuestion__user"}},1488:function(e,t,a){e.exports={container:"BotTyping-module__container",typing:"BotTyping-module__typing"}},1532:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1485),v=a.n(_),b=a(30),k=a(235),I=a.n(k),y=a(65),C=a(16),T=a(1486),E=a.n(T),S=a(152),N=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isTruncate:!1},a.onHelpFulClick=a.onHelpFulClick.bind(a),a.onNotHelpFulClick=a.onNotHelpFulClick.bind(a),a.setContentRef=a.setContentRef.bind(a),a.showFullContent=a.showFullContent.bind(a),a.onContainerCLick=a.onContainerCLick.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.contentRef;e.offsetHeight<e.scrollHeight&&this.setState({isTruncate:!0})}},{key:"setContentRef",value:function(e){this.contentRef=e}},{key:"onHelpFulClick",value:function(){var e=this.props;(0,e.handleBotRating)(e.id,!0)}},{key:"onNotHelpFulClick",value:function(){var e=this.props;(0,e.handleBotRating)(e.id,!1)}},{key:"showFullContent",value:function(){var e=this.props,t=e.showFullContent;t(e.id)}},{key:"onContainerCLick",value:function(e){if("IMG"==e.target.tagName){for(var t=[],a=0,n=this.contentRef.querySelectorAll("img"),o=0;o<n.length;o++)t.push({viewUrl:n[o].src,index:o}),e.target==n[o]&&(a=o);this.props.showAttachmentViewer({previewData:t,selectedIndex:a})}}},{key:"render",value:function(){var e=this,t=this.state.isTruncate,a=this.props,n=a.data,o=a.openPreviewBox,i=a.pasteContent,r=a.isLightAgent,s=n.answer,l=n.relatedArticles,c=n.needBotIcn,u=void 0===c||c,d=n.replyStatus,m=n.isRated,p=n.isNotHelpFul,h=n.isExpaned,g=l&&l.length;return t=t&&!h,f.a.createElement(C.Container,{alignBox:"row",className:E.a.animate+" "+(t?E.a.truncate:""),onClick:this.onContainerCLick},!g&&u?f.a.createElement(C.Box,{className:E.a.bot},f.a.createElement(S.a,{name:"botHead",size:"medium"})):null,g?f.a.createElement("div",{className:E.a.botConversation},f.a.createElement("div",{className:E.a.message+" "+(h?"":E.a.hideContent),dangerouslySetInnerHTML:{__html:s.message},ref:this.setContentRef}),t?f.a.createElement("span",{className:E.a.more,onClick:this.showFullContent},"see more..."):null,f.a.createElement(C.Box,{className:E.a.articleContainer},"articles"===d||r?f.a.createElement("div",null,f.a.createElement("p",{className:E.a.articleHeader},"Related Articles"),l.map(function(t){var a=t.id,n=t.title;return f.a.createElement("span",{className:E.a.article,key:a,onClick:o.bind(e,a)},n)})):f.a.createElement("div",{className:E.a.blueBtn,onClick:i.bind(this,l[0].id)},"Use this in your Reply"),f.a.createElement("div",{className:E.a.helpFul},"articles"!==d?f.a.createElement("span",{className:E.a.linkAricle,onClick:o.bind(this,l[0].id)},"Link to article"):f.a.createElement("div",null,"Helpful ?"),f.a.createElement("div",{className:E.a.icons},f.a.createElement("span",{className:E.a.icon+" "+(m?E.a.isRated:""),"data-title":m?null:"Helpful",onClick:!m&&this.onHelpFulClick},f.a.createElement(b.CommonFontIcon,{name:"deskLikeNew",size:"12"})),f.a.createElement("span",{className:E.a.icon+" "+(m?E.a.isRated:""),"data-title":m?null:"Not Helpful",onClick:!m&&this.onNotHelpFulClick},f.a.createElement(b.CommonFontIcon,{name:"deskDislikeNew",size:"12"})))))):f.a.createElement(C.Box,{className:E.a.botConversation+" "+(u?E.a.convWithIcon:"")+" "+(u?"":E.a.hideIcon)},f.a.createElement("div",{className:E.a.message+" "+(t?E.a.hideContent:""),dangerouslySetInnerHTML:{__html:s.message},ref:this.setContentRef}),t?f.a.createElement("span",{className:E.a.more,onClick:this.showFullContent},"see more..."):null,p&&!r?f.a.createElement("div",{className:E.a.greenBtn},"Create an article"):null))}}]),t}(p.Component),A=N;N.propTypes={data:g.a.array,handleBotRating:g.a.func,id:g.a.string,isLightAgent:g.a.bool,openPreviewBox:g.a.func,pasteContent:g.a.func,showAttachmentViewer:g.a.func,showFullContent:g.a.func};var O=a(1487),w=a.n(O),P=a(64),D=a.n(P),x=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.name,n=e.photoURL;return f.a.createElement(C.Container,{alignBox:"row",className:w.a.animate+" "+w.a.user},f.a.createElement(C.Box,{className:w.a.bot},f.a.createElement(D.a,{name:a,src:n,size:"medium"})),f.a.createElement(C.Box,null,f.a.createElement("div",{className:w.a.userConversation},t)))}}]),t}(p.Component),L=x;x.propTypes={name:g.a.string,photoURL:g.a.string,question:g.a.object};var R=a(1488),M=a.n(R),B=function(e){function t(e){return r()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement("div",{className:M.a.typing+" "+M.a.container},f.a.createElement("div",null),f.a.createElement("div",null),f.a.createElement("div",null))}}]),t}(f.a.Component);var j=a(1294),F=a(8),V=a(1028),z=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.state={question:"",previewData:{}},a.onQuestionChange=a.onQuestionChange.bind(a),a.onKeyDown=a.onKeyDown.bind(a),a.getAnswer=a.getAnswer.bind(a),a.showTyping=a.showTyping.bind(a),a.hideTyping=a.hideTyping.bind(a),a.setScrollRef=a.setScrollRef.bind(a),a.handleBotRating=a.handleBotRating.bind(a),a.openPreviewBox=a.openPreviewBox.bind(a),a.closePreviewBox=a.closePreviewBox.bind(a),a.shareLink=a.shareLink.bind(a),a.pasteContent=a.pasteContent.bind(a),a.insertContentInEditor=a.insertContentInEditor.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.ziaInitiated,n=t.initiateZIABotReply;a||(this.showTyping(),n().then(function(){e.hideTyping()}))}},{key:"onQuestionChange",value:function(e,t){this.setState({question:e})}},{key:"onKeyDown",value:function(e){13!==e.keyCode||e.shiftKey||this.getAnswer()}},{key:"getAnswer",value:function(){var e=this,t=this.state,a=t.question,n=t.isFetching;""==(a=a.trim())||n||(this.showTyping(),this.props.getAnswer(a).then(function(){e.hideTyping()},function(){e.hideTyping()}))}},{key:"showTyping",value:function(){var e=this;this.setState({isFetching:!0,question:""},function(){e.setScrollTop()})}},{key:"hideTyping",value:function(){var e=this;this.setState({isFetching:!1,question:""},function(){e.setScrollTop()})}},{key:"handleBotRating",value:function(e,t){var a=this;this.props.handleBotRating(e,t),setTimeout(function(){a.setScrollTop()},10)}},{key:"setScrollRef",value:function(e){this.srcollRef=e}},{key:"setScrollTop",value:function(){this.srcollRef.scrollTop=this.srcollRef.scrollHeight}},{key:"openPreviewBox",value:function(e){var t=this;this.setState({previewId:e}),this.props.getArticle(e).then(function(a){t.setState({previewData:a.data.entities.article[e]})})}},{key:"closePreviewBox",value:function(){this.setState({previewId:null})}},{key:"shareLink",value:function(){this.closePreviewBox();var e=this.props,t=e.isEdtiorOpen,a=e.editorId,n=this.state.previewData,o='<br><a href="'+n.webUrl+'" target="_blank" rel="noopener noreferrer">'+n.title+"</a><br>";this.closePreviewBox(),t?Object(V.c)(a,o):this.insertContentInEditor(o)}},{key:"pasteContent",value:function(e){var t=this;this.closePreviewBox();var a=this.props,n=a.isEdtiorOpen,o=a.editorId,i=a.getArticle,r=this.state.previewData,s=r.answer,l=r.attachments;s?(s=Object(V.e)(s),n?Object(V.c)(o,"<br>"+s+"<br></br>"):this.insertContentInEditor("<br>"+s+"<br></br>",l)):i(e).then(function(a){var i=a.data.entities.article[e]||{},r=i.answer,s=i.attachments;r=Object(V.e)(r),n?Object(V.c)(o,"<br>"+r+"<br></br>"):t.insertContentInEditor("<br>"+r+"<br></br>",s)})}},{key:"insertContentInEditor",value:function(e,t){var a=this.props,n=a.recentThread,o=a.openEditor,i=a.recentThreadId,r=a.ticketId;n?"DRAFT"==n.status?o(i,n.content,n,"editDraft",e,t):o(i,n.content,n,"replyall",e,t):o(r," ","","replyall",e,t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isFetching,n=t.question,o=t.previewId,i=t.previewData,r=void 0===i?{}:i,s=this.props,l=s.conversations,c=void 0===l?[]:l,u=s.name,d=s.photoURL,m=s.showFullContent,p=s.showAttachmentViewer,h=s.moduleMeta,g=s.downloadAttachment,_=s.isLightAgent;return f.a.createElement(y.Card,null,f.a.createElement(y.CardHeader,{className:v.a.header},F.f.getI18NValue("support.zia.reply.assistant")),o?f.a.createElement(j.a,{previewData:r,ticketLabel:h.tickets.singularLabel,downloadAttachment:g,showAttachmentViewer:p,closePreviewBox:this.closePreviewBox,shareLink:this.shareLink,pasteContent:this.pasteContent,isLightAgent:_,needArrow:!1}):null,f.a.createElement(y.CardContent,{className:v.a.posrel},f.a.createElement("div",{className:v.a.conversation,ref:this.setScrollRef},c.map(function(t,a){return"question"==t.type?f.a.createElement(L,{key:a,question:t.question,name:u,photoURL:d}):f.a.createElement(A,{key:a,id:a,data:t,handleBotRating:e.handleBotRating,showFullContent:m,showAttachmentViewer:p,openPreviewBox:e.openPreviewBox,pasteContent:e.pasteContent,isLightAgent:_})}),a?f.a.createElement(B,null):null)),f.a.createElement(y.CardFooter,{className:v.a.footer},f.a.createElement(C.Container,{alignBox:"row",align:"vertical"},f.a.createElement(C.Box,{flexible:!0},f.a.createElement(I.a,{placeHolder:F.f.getI18NValue("support.ask.me.something"),needBorder:!1,text:n,onChange:this.onQuestionChange,onKeyDown:this.onKeyDown,className:v.a.textArea})),f.a.createElement(C.Box,{className:v.a.sendButton+" "+(n.length?v.a.sendHover:""),onClick:this.getAnswer},f.a.createElement(b.KnowledgeBaseFontIcon,{name:"kbessentialsendmessage",size:"14"})))))}}]),t}(f.a.Component);t.a=z;z.propTypes={conversations:g.a.array,downloadAttachment:g.a.func,editorId:g.a.string,getAnswer:g.a.func,getArticle:g.a.func,handleBotRating:g.a.func,initiateZIABotReply:g.a.func,isEdtiorOpen:g.a.bool,isLightAgent:g.a.bool,isPeekView:g.a.bool,moduleMeta:g.a.object,name:g.a.string,openEditor:g.a.func,photoURL:g.a.string,recentThread:g.a.object,recentThreadId:g.a.string,showAttachmentViewer:g.a.func,showFullContent:g.a.func,ticketId:g.a.string,ziaInitiated:g.a.bool}},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},174:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"e",function(){return l}),a.d(t,"d",function(){return c}),a.d(t,"j",function(){return u}),a.d(t,"n",function(){return d}),a.d(t,"o",function(){return m}),a.d(t,"k",function(){return p}),a.d(t,"i",function(){return f}),a.d(t,"g",function(){return g}),a.d(t,"h",function(){return _}),a.d(t,"a",function(){return v}),a.d(t,"l",function(){return k}),a.d(t,"b",function(){return I}),a.d(t,"m",function(){return y}),a.d(t,"f",function(){return C});var n=a(11),o=a.n(n),i=a(177),r=a(8);function s(e){var t=c(e),a=Object(i.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"filePicture";case"txt":case"rtf":return"fileText2";case"pdf":return"filePdf";case"html":case"htm":case"xhtml":return-1!==a.indexOf("chrome")||-1!==a.indexOf("safari")?"chrome":-1!==a.indexOf("ie")||-1!==a.indexOf("edge")?"ie":"firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ppt";case"rar":case"jar":case"zip":return"zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"fileOpenoffice":"fileWord";case"xml":return"xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"fileExcel";case"ics":return"ics";case"exe":return"exe";case"sh":case"bin":return"sh2";case"css":return"css52";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"fileVideo";default:return"unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function u(e){var t=c(e);return-1!=="jpeg|jpg|png|gif|bmp|ico".indexOf(t)}function d(e,t){var a={inValidArray:[],validArray:[]};if(t+e.length>10)return a.isCountExceeds=!0,a;for(var n=0;n<e.length;n++){var o=e[n],i=o.name,r=o.size;p(i)?a.inValidArray.push({isUnSupported:!0}):f(i)?a.inValidArray.push({isFileNameSizeInvalid:!0}):0===o.size?a.inValidArray.push({isEmpty:!0}):h(r)?a.inValidArray.push({isAttachSizeExceeded:!0}):a.validArray.push(o)}return a}function m(e,t,a){if(t+e.length>10)alert(r.f.getI18NValue("support.attachments.count.exceeds",[10]));else for(var n=0;n<e.length;n++){var o=e[n],i=o.name,s=o.size;if(p(i))alert(r.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(f(i))alert(r.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==o.size)if(h(s))alert(r.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var l=new FormData;l.append("file",o),a&&a(l)}else alert(r.f.getI18NValue("support.request.empty.attachment.message"))}}function p(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function f(e){return e.length>100}function h(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function _(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function v(e,t,a){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&u(e.name)}),n.previewData.filter(function(t,a){t.id===e&&(n.selectedIndex=a)}),a&&a(n)}function b(e,t,a){var n=e.indexOf("/api"),o=e;return n>-1&&(o=e.slice(n,e.length),o+="?orgId="+t+(a?"&inline=true":"")),o}function k(e,t){window.open(b(e,t,!0))}function I(e,t){window.location.href=b(e,t,!1)}function y(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],u=[],d=0;if(n&&l>n-a){var m=r.f.getI18NValue("support.attachments.count.exceeds",[n]);return o.a.resolve({isError:!0,errorI18N:m})}for(var h=0;h<l;h++){var g=e[h],_=g||{},v=_.size,b=void 0===v?0:v,k=_.name,I=void 0===k?"":k;if(d+=b,p(I)){var y=r.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:y,fileName:I,errorType:"fileType"})}else if(f(I)){var C=r.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:C,fileName:I,errorType:"fileNameSize"})}else if(0===b){var T=r.f.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:T,fileName:I,errorType:"emptyFile"})}else u.push(g)}if(!u.length){if(1===c.length){var E=c[0].errorI18N;return o.a.resolve({isError:!0,errorI18N:E})}var S=r.f.getI18NValue("support.unable.to.process.your.request");return o.a.resolve({isError:!0,errorI18N:S})}if(0===d){var N=r.f.getI18NValue("support.request.empty.attachment.message");return o.a.resolve({isError:!0,errorI18N:N})}if(d+s>1024*i*1024){var A=r.f.getI18NValue("support.attachments.size.limit.exceeds",[i]);return o.a.resolve({isError:!0,errorI18N:A})}for(var O=[],w=[],P=[],D=function(e){var a=u[e];if(t){var n=new FormData;n.append("file",a);var o=t(n).then(function(e){var t=(e.data||{}).data,a=void 0===t?{}:t,n=a.id;n&&(O.push(a),w.push(n))},function(e){var t=a.name,n=r.f.getI18NValue("support.unable.to.process.your.request");throw c.push({errorI18N:n,fileName:t,errorType:"apiError"}),e});P.push(o)}},x=0;x<u.length;x++)D(x);var L={uploadFiles:O,inValidFiles:c,isError:!1,uploadFileIds:w};return o.a.all(P).then(function(){return L},function(){return O.length?L:{isError:!0,errorI18N:r.f.getI18NValue("support.unable.to.process.your.request")}})}function C(e,t){var a=e.name;return{index:t,isPreview:!0,size:e.size,name:a,href:URL.createObjectURL(e)}}},1800:function(e,t,a){e.exports={ticketLeftCol:"TicketDetailview-module__ticketLeftCol",peekView:"TicketDetailview-module__peekView",backNavigate:"TicketDetailview-module__backNavigate",threadMenu:"TicketDetailview-module__threadMenu",dvMore:"TicketDetailview-module__dvMore",botIcon:"TicketDetailview-module__botIcon",marketplace:"TicketDetailview-module__marketplace TicketDetailview-module__dvMore",marketPlaceIcon:"TicketDetailview-module__marketPlaceIcon",marketplaceIcon:"TicketDetailview-module__marketplaceIcon",r90:"TicketDetailview-module__r90",dvBack:"TicketDetailview-module__dvBack",posrel:"TicketDetailview-module__posrel",lpToggleIcn:"TicketDetailview-module__lpToggleIcn",lpToggleLayer:"TicketDetailview-module__lpToggleLayer",leftPanel:"TicketDetailview-module__leftPanel",l0:"TicketDetailview-module__l0",menuMore:"TicketDetailview-module__menuMore",tbmore1:"TicketDetailview-module__tbmore1",tbmore2:"TicketDetailview-module__tbmore2 TicketDetailview-module__tbmore1",hideLeftPenal:"TicketDetailview-module__hideLeftPenal",rightCont:"TicketDetailview-module__rightCont",ticketRightCol:"TicketDetailview-module__ticketRightCol",threePanel:"TicketDetailview-module__threePanel",notifiCont:"TicketDetailview-module__notifiCont",collisionNotification:"TicketDetailview-module__collisionNotification",comentCount:"TicketDetailview-module__comentCount",selectedIcon:"TicketDetailview-module__selectedIcon",marketplaceRightPanel:"TicketDetailview-module__marketplaceRightPanel",marketplaceVisible:"TicketDetailview-module__marketplaceVisible",extensionLogo:"TicketDetailview-module__extensionLogo",peekLeftcolom:"TicketDetailview-module__peekLeftcolom TicketDetailview-module__ticketLeftCol",peekRightcolom:"TicketDetailview-module__peekRightcolom",peekOpen:"TicketDetailview-module__peekOpen animation-module__modeForward",peekOpenAnimate:"TicketDetailview-module__peekOpenAnimate",peekAnimate:"TicketDetailview-module__peekAnimate TicketDetailview-module__peekOpen animation-module__modeForward",jiraIcon:"TicketDetailview-module__jiraIcon",jiraSeleted:"TicketDetailview-module__jiraSeleted TicketDetailview-module__jiraIcon"}},1801:function(e,t,a){e.exports={mainContainer:"TicketSubject-module__mainContainer",ticketTitle:"TicketSubject-module__ticketTitle",caseNum:"TicketSubject-module__caseNum common-module__bold common-module__ftsmooth",titleFullview:"TicketSubject-module__titleFullview",titleContainer:"TicketSubject-module__titleContainer",subject:"TicketSubject-module__subject common-module__bold common-module__ftsmooth",none:"TicketSubject-module__none",dinblk:"TicketSubject-module__dinblk",datetime:"TicketSubject-module__datetime",subLabel:"TicketSubject-module__subLabel common-module__offSelection",depName:"TicketSubject-module__depName common-module__offSelection",forumsPerLink:"TicketSubject-module__forumsPerLink",forumDelete:"TicketSubject-module__forumDelete TicketSubject-module__forumsPerLink",closeIcon:"TicketSubject-module__closeIcon",ribbon:"TicketSubject-module__ribbon",timerComponent:"TicketSubject-module__timerComponent",high:"TicketSubject-module__high",medium:"TicketSubject-module__medium",low:"TicketSubject-module__low",channelIcon:"TicketSubject-module__channelIcon",shareRibbon:"TicketSubject-module__shareRibbon",rplyOPtion:"TicketSubject-module__rplyOPtion",expand:"TicketSubject-module__expand"}},1802:function(e,t,a){e.exports={sociCont:"ReplyOptions-module__sociCont",replyLists:"ReplyOptions-module__replyLists",commentLists:"ReplyOptions-module__commentLists",commentCont:"ReplyOptions-module__commentCont",stretchSpn:"ReplyOptions-module__stretchSpn",smartScaleIn:"ReplyOptions-module__smartScaleIn",rpyedtDrp:"ReplyOptions-module__rpyedtDrp",replyCont:"ReplyOptions-module__replyCont",listCont:"ReplyOptions-module__listCont",drpBottom:"ReplyOptions-module__drpBottom",repIc:"ReplyOptions-module__repIc",buttonTopMove:"ReplyOptions-module__buttonTopMove"}},1803:function(e,t,a){e.exports={headingTop:"TicketMorePopup-module__headingTop",backIcon:"TicketMorePopup-module__backIcon",defaultSize:"TicketMorePopup-module__defaultSize common-module__offSelection",headingText:"TicketMorePopup-module__headingText common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis undefined",searchDept:"TicketMorePopup-module__searchDept",departmentList:"TicketMorePopup-module__departmentList",list:"TicketMorePopup-module__list undefined common-module__dotted common-module__oflow common-module__ellipsis",optionList:"TicketMorePopup-module__optionList TicketMorePopup-module__departmentList",widgetList:"TicketMorePopup-module__widgetList TicketMorePopup-module__departmentList",shortcutText:"TicketMorePopup-module__shortcutText",displayText:"TicketMorePopup-module__displayText",listIcon:"TicketMorePopup-module__listIcon",activeList:"TicketMorePopup-module__activeList TicketMorePopup-module__list undefined common-module__dotted common-module__oflow common-module__ellipsis",posBox:"TicketMorePopup-module__posBox"}},1804:function(e,t,a){e.exports={parent:"CollisionNotification-module__parent animation-module__fadeIn animation-module__modeForward",small:"CollisionNotification-module__small",medium:"CollisionNotification-module__medium",left:"CollisionNotification-module__left",right:"CollisionNotification-module__right",name:"CollisionNotification-module__name common-module__semibold common-module__ftsmooth",message:"CollisionNotification-module__message",close:"CollisionNotification-module__close"}},1805:function(e,t,a){e.exports={leftWiget:"MarketplaceLeftpanel-module__leftWiget",leftWigetOpen:"MarketplaceLeftpanel-module__leftWigetOpen MarketplaceLeftpanel-module__leftWiget",title:"MarketplaceLeftpanel-module__title",titleName:"MarketplaceLeftpanel-module__titleName common-module__semibold common-module__ftsmooth undefined common-module__dotted common-module__oflow common-module__ellipsis",toggle:"MarketplaceLeftpanel-module__toggle"}},1806:function(e,t,a){e.exports={listDiv:"MarketplaceWigetlist-module__listDiv",listName:"MarketplaceWigetlist-module__listName common-module__dotted common-module__oflow common-module__ellipsis"}},1807:function(e,t,a){e.exports={mainContainer:"TicketFooter-module__mainContainer common-module__w100",shadow:"TicketFooter-module__shadow",optionDiv:"TicketFooter-module__optionDiv",clickable:"TicketFooter-module__clickable",labelDiv:"TicketFooter-module__labelDiv common-module__dotted common-module__oflow common-module__ellipsis",closeBtn:"TicketFooter-module__closeBtn",footerOption:"TicketFooter-module__footerOption common-module__flexgrow"}},1808:function(e,t,a){e.exports={posrel:"InfoPopup-module__posrel",posab:"InfoPopup-module__posab",arrow:"InfoPopup-module__arrow common-module__contactsprite InfoPopup-module__posab",bottomLeft_arrow:"InfoPopup-module__bottomLeft_arrow InfoPopup-module__arrow common-module__contactsprite InfoPopup-module__posab",iconClass:"InfoPopup-module__iconClass",infoPopup:"InfoPopup-module__infoPopup InfoPopup-module__posrel",popUp:"InfoPopup-module__popUp InfoPopup-module__posab",infoContent:"InfoPopup-module__infoContent"}},1809:function(e,t,a){e.exports={list:"MacrosPopup-module__list common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",popup:"MacrosPopup-module__popup",empty:"MacrosPopup-module__empty",loading:"MacrosPopup-module__loading"}},1810:function(e,t,a){e.exports={footerDiv:"FooterLoading-module__footerDiv",transitionDiv:"FooterLoading-module__transitionDiv",transitionStencil:"FooterLoading-module__transitionStencil"}},1811:function(e,t,a){e.exports={footerDiv:"BluePrintFooter-module__footerDiv",flowchatBox:"BluePrintFooter-module__flowchatBox common-module__blueprinthistory",flowIcon:"BluePrintFooter-module__flowIcon",curretState:"BluePrintFooter-module__curretState",stateTitle:"BluePrintFooter-module__stateTitle",stateName:"BluePrintFooter-module__stateName common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",rightArrow:"BluePrintFooter-module__rightArrow",transitionDiv:"BluePrintFooter-module__transitionDiv",transitonText:"BluePrintFooter-module__transitonText",buttonStyle:"BluePrintFooter-module__buttonStyle",trEmpTx:"BluePrintFooter-module__trEmpTx",morePop:"BluePrintFooter-module__morePop"}},1812:function(e,t,a){e.exports={morePopup:"BluePrintMorePopup-module__morePopup",PopupBody:"BluePrintMorePopup-module__PopupBody common-module__dotted common-module__oflow common-module__ellipsis",moreText:"BluePrintMorePopup-module__moreText common-module__semibold common-module__ftsmooth common-module__textCaps",upArrow:"BluePrintMorePopup-module__upArrow",openPopup:"BluePrintMorePopup-module__openPopup",buttonDiv:"BluePrintMorePopup-module__buttonDiv common-module__dotted common-module__oflow common-module__ellipsis"}},1813:function(e,t,a){e.exports={spamText:"TicketSpamAlertPopup-module__spamText common-module__bold common-module__ftsmooth",checkText:"TicketSpamAlertPopup-module__checkText",listDiv:"TicketSpamAlertPopup-module__listDiv",liList:"TicketSpamAlertPopup-module__liList"}},1814:function(e,t,a){e.exports={contactInfo:"TicketProperties-module__contactInfo",isSaveVisible:"TicketProperties-module__isSaveVisible",formDetails:"TicketProperties-module__formDetails",TicketPropertiesList:"TicketProperties-module__TicketPropertiesList",editIcon:"TicketProperties-module__editIcon",details:"TicketProperties-module__details"}},1815:function(e,t,a){e.exports={dot:"ContactInfo-module__dot",mainInfo:"ContactInfo-module__mainInfo common-module__dflex",title:"ContactInfo-module__title common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",paidIcon:"ContactInfo-module__paidIcon",linkStyle:"ContactInfo-module__linkStyle common-module__dotted common-module__oflow common-module__ellipsis",contactMail:"ContactInfo-module__contactMail",data:"ContactInfo-module__data ContactInfo-module__linkStyle common-module__dotted common-module__oflow common-module__ellipsis",phonepart:"ContactInfo-module__phonepart",phonetxt:"ContactInfo-module__phonetxt ContactInfo-module__linkStyle common-module__dotted common-module__oflow common-module__ellipsis",line:"ContactInfo-module__line",phoneIcon:"ContactInfo-module__phoneIcon",acinfo:"ContactInfo-module__acinfo common-module__flexrow",thirdparty:"ContactInfo-module__thirdparty common-module__flexgrow common-module__flexshrink",acName:"ContactInfo-module__acName common-module__dotted common-module__oflow common-module__ellipsis",tpName:"ContactInfo-module__tpName",crm:"ContactInfo-module__crm",happinessIcon:"ContactInfo-module__happinessIcon",spam:"ContactInfo-module__spam"}},1816:function(e,t,a){e.exports={assignCont:"AssignField-module__assignCont",key:"AssignField-module__key",edit:"AssignField-module__edit",arrow:"AssignField-module__arrow",cboth:"AssignField-module__cboth common-module__cboth",asText:"AssignField-module__asText",lockIcon:"AssignField-module__lockIcon",pick:"AssignField-module__pick common-module__dotted common-module__oflow common-module__ellipsis",shortCut:"AssignField-module__shortCut",assignpart:"AssignField-module__assignpart"}},1817:function(e,t,a){e.exports={statusPopup:"TicketStatusPopup-module__statusPopup",pointer:"TicketStatusPopup-module__pointer",statusVal:"TicketStatusPopup-module__statusVal common-module__dotted common-module__oflow common-module__ellipsis",ddArrow:"TicketStatusPopup-module__ddArrow",height:"TicketStatusPopup-module__height"}},1818:function(e,t,a){e.exports={statusLabel:"StatusField-module__statusLabel",lockIcon:"StatusField-module__lockIcon",popup:"StatusField-module__popup common-module__semibold common-module__ftsmooth"}},1819:function(e,t,a){e.exports={statusPopup:"ForumStatusField-module__statusPopup"}},1820:function(e,t,a){e.exports={date:"DueDate-module__date common-module__offSelection",pointer:"DueDate-module__pointer",posRel:"DueDate-module__posRel",overDue:"DueDate-module__overDue",dateText:"DueDate-module__dateText common-module__semibold common-module__ftsmooth",dueLeft:"DueDate-module__dueLeft"}},1821:function(e,t,a){e.exports={dateText:"DueDateField-module__dateText common-module__semibold common-module__ftsmooth",onHoldSince:"DueDateField-module__onHoldSince"}},1822:function(e,t,a){e.exports={resDue:"ResponseDueDateField-module__resDue",resDuelabel:"ResponseDueDateField-module__resDuelabel",lockIcon:"ResponseDueDateField-module__lockIcon",clearBtn:"ResponseDueDateField-module__clearBtn",overDue:"ResponseDueDateField-module__overDue",dateText:"ResponseDueDateField-module__dateText common-module__semibold common-module__ftsmooth"}},1823:function(e,t,a){e.exports={outerDiv:"SupportContact-module__outerDiv",contentDiv:"SupportContact-module__contentDiv",contentText:"SupportContact-module__contentText common-module__dotted common-module__oflow common-module__ellipsis",icon:"SupportContact-module__icon",expireNotfy:"SupportContact-module__expireNotfy common-module__dotted common-module__oflow common-module__ellipsis",popupDiv:"SupportContact-module__popupDiv",contactPopup:"SupportContact-module__contactPopup",popupTitle:"SupportContact-module__popupTitle",expireDate:"SupportContact-module__expireDate",dividerText:"SupportContact-module__dividerText",line:"SupportContact-module__line"}},1824:function(e,t,a){e.exports={container:"SecondaryContactField-module__container",active:"SecondaryContactField-module__active",tag:"SecondaryContactField-module__tag",mainContainer:"SecondaryContactField-module__mainContainer",textBox:"SecondaryContactField-module__textBox",invalideInput:"SecondaryContactField-module__invalideInput"}},233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=s(a(0)),i=s(a(1)),r=s(a(527));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.shape,a=e.size,n=e.palette;return a="rect"===t?r.default[a]:r.default["c"+a],t="rect"===t?r.default.rectangular:r.default.circle,o.default.createElement("div",{className:t+" "+a+" "+r.default[n]})}}]),t}();t.default=l,l.propTypes={palette:i.default.oneOf(["primary","secondary"]),shape:i.default.oneOf(["rect","circle"]),size:i.default.oneOf(["small","medium","large","default"])},l.defaultProps={palette:"primary",shape:"rect",size:"medium"},l.propTypesDescription={shape:" ",size:" ",palette:" "}},458:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(173),g=a.n(h),_=a(16),v=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(_.Container,{alignBox:"row",align:"both",className:g.a.container},f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}),f.a.createElement(_.Box,{className:g.a.dot}))}}]),t}(f.a.Component);t.a=v},459:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(122),v=a.n(_),b=a(176),k=a.n(b),I=a(120),y=a.n(I),C=a(174),T=a(109),E=a(8),S=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.orgId,o=t.showAttachmentViewer,i=t.size,r=t.neNeedToDownload,s=t.dataId,l=Object(C.g)(a);return f.a.createElement("div",null,f.a.createElement("div",{className:v.a.AttachCount,"data-id":s},f.a.createElement("span",{className:v.a.mr6},a.length),f.a.createElement("span",null,f.a.createElement(E.c,{i18NKey:"label.attachments"})),f.a.createElement("span",{className:v.a.ml6},"(",Object(C.e)(l),")")),a.map(function(t,s){var l=Object(C.j)(t.name);return f.a.createElement("div",{className:v.a.docspan,key:s,onClick:r?null:l?C.a.bind(e,t.id,a,function(e){o(e)}):C.l.bind(e,t.viewUrl?t.viewUrl:t.href,n),"data-id":1===a.length?"threadAttch":"threadAttch_"+s},f.a.createElement("span",{className:v.a.attachment+" "+v.a[i]},f.a.createElement("div",{className:v.a.attachleft},f.a.createElement(k.a,{name:Object(C.c)(t.name),size:"20"})),f.a.createElement("div",{className:v.a.attachright},f.a.createElement("span",{className:v.a.atatchName},t.name),f.a.createElement("span",{className:v.a.attachSize},Object(C.e)(t.size))),r?null:f.a.createElement(T.a,{onClick:e.props.downloadAttachment.bind(e,t.downloadUrl?t.downloadUrl:t.href),target:"_blank",className:v.a.attachDownload},f.a.createElement(y.a,{name:"downloadNew",size:"medium"==i?"14":"13",color:"pure"}))))}))}}]),t}(f.a.Component);t.a=S,S.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},S.defaultProps={size:"medium"}},460:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(7),o=a(15),i=a(6),r=a(3);function s(e){return{types:Object(i.m)(r.L.TICKET),shouldCallAPI:function(){return!!e},callAPI:function(t){return Object(o.a)("/api/v1/tickets/"+e+"?include=contacts,products,assignee,team,contract,source",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(n.normalize)(e,Object(n.schema)(r.L.TICKET_L,{mapping:{contact:Object(n.schema)(r.L.CONTACT_L,{mapping:{account:Object(n.schema)(r.L.ACCOUNT_L)}}),assignee:Object(n.schema)(r.L.AGENT_L),team:Object(n.schema)(r.L.TEAMS_L),product:Object(n.schema)(r.L.PRODUCT_L)}}))})}}}},527:function(e,t,a){e.exports={stencil:"Stencils-module__stencil",placeHolderShimmer:"Stencils-module__placeHolderShimmer",rectangular:"Stencils-module__rectangular Stencils-module__stencil",primary:"Stencils-module__primary",secondary:"Stencils-module__secondary",small:"Stencils-module__small",default:"Stencils-module__default",medium:"Stencils-module__medium",large:"Stencils-module__large",circle:"Stencils-module__circle Stencils-module__stencil",clarge:"Stencils-module__clarge",cmedium:"Stencils-module__cmedium",cdefault:"Stencils-module__cdefault",csmall:"Stencils-module__csmall"}},592:function(e,t,a){"use strict";a.r(t);var n=a(71),o=a.n(n),i=a(23),r=a.n(i),s=a(11),l=a.n(s),c=a(20),u=a.n(c),d=a(2),m=a.n(d),p=a(5),f=a.n(p),h=a(12),g=a.n(h),_=a(9),v=a.n(_),b=a(10),k=a.n(b),I=a(13),y=a.n(I),C=a(14),T=a.n(C),E=a(0),S=a.n(E),N=a(1),A=a.n(N),O=a(1800),w=a.n(O),P=a(26),D=a(32),x=a(16),L=a(948),R=a(35),M=a(249),B=a(100),j=a(15),F=a(6),V=a(46),z=a(7),U=a(3);var H=a(74),W=a(460),G=a(1455),K=a(24),Y=a(155),J=a(1222),q=a(114),Z=a(1232),Q=a(113),$=a(1256),X=a(53),ee=a(1096),te=a(1323),ae=a(1324),ne=a(1186),oe=a(1801),ie=a.n(oe),re=a(30),se=a(8),le=a(1802),ce=a.n(le),ue=a(152),de=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"constructOptions",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(S.a.createElement("li",{key:a,onClick:e[a].onClick,"data-title":e[a].title,"data-title-horizontal":!0},S.a.createElement("i",{className:ce.a.repIc},"close1"==e[a].icon?S.a.createElement(re.CommonFontIcon,{name:e[a].icon,size:e[a].size}):S.a.createElement(re.TicketsFontIcon,{name:e[a].icon,size:e[a].size}))));return t}},{key:"render",value:function(){var e=this.props,t=e.defaultOption,a=e.options,n=e.toggleComment;return S.a.createElement(x.Container,{alignBox:"row",align:"right",className:ce.a.replyCont},t?S.a.createElement(x.Box,{className:ce.a.replyLists},S.a.createElement("div",{className:a.length?ce.a.sociCont+" "+ce.a.listCont:ce.a.sociCont},S.a.createElement("div",{className:ce.a.rpyedtDrp,onClick:t.onClick,"data-title":t.title,"data-title-horizontal":!0},S.a.createElement("i",{className:ce.a.repIc},"zdresend"==t.icon?S.a.createElement(re.TopbandFontIcon,{name:t.icon,size:"medium"}):S.a.createElement(re.TicketsFontIcon,{name:t.icon,size:"medium"}))),S.a.createElement("ul",null,this.constructOptions(a)),S.a.createElement("span",{className:ce.a.stretchSpn}))):null,S.a.createElement(x.Box,{className:ce.a.commentLists},S.a.createElement("div",{className:ce.a.commentCont,"data-title":"Comment"},S.a.createElement(ue.a,{iconColor:"primary",iconSize:"14",name:"commentThick",onClick:n,palette:"primary",size:"xmedium"}))))}}]),t}(S.a.Component),me=de;de.propTypes={defaultOption:A.a.object,onClick:A.a.func,options:A.a.array,toggleComment:A.a.func};var pe=a(969),fe=a(1162),he=a(1280),ge=a(1308),_e=a.n(ge),ve=a(61),be=a.n(ve),ke=a(64),Ie=a.n(ke),ye=a(960),Ce=a(109),Te=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={isSubjectOpen:!1},a.handleTitleView=a.handleTitleView.bind(a),a.openTicketShareForm=a.openTicketShareForm.bind(a),a.constructReplyOption=a.constructReplyOption.bind(a),a.closeAlert=a.closeAlert.bind(a),a.deleteDraft=a.deleteDraft.bind(a),a.deleteDraftConfirmation=a.deleteDraftConfirmation.bind(a),a.deleteFailedThreadConfirmation=a.deleteFailedThreadConfirmation.bind(a),a.deleteFailedThread=a.deleteFailedThread.bind(a),a}return T()(t,e),k()(t,[{key:"handleTitleView",value:function(e){this.setState({isSubjectOpen:!this.state.isSubjectOpen})}},{key:"openTicketShareForm",value:function(){var e=this.props,t=e.sharedDepartments,a=e.openTicketShareForm,n=e.ticketId,o=(e.currentDepId,e.parentDepId),i=e.parentDepName;a({type:"ticketShare",palette:"plain",ticketId:n,sharedDepartments:t,isSharedTicket:e.isSharedTicket,parentDepName:i,parentDepId:o})}},{key:"getTopicIconObj",value:function(e){return e?{QUESTION:{icon:"questionMark",size:"8",color:"olive",title:"Question"},ANNOUNCEMENT:{icon:"megaphone2",size:"8",color:"",title:"Announcement"},IDEA:{icon:"kbBusinessIdea2",size:"12",color:"",title:"Idea"},PROBLEM:{icon:"attention",size:"10",color:"yellow3",title:"Problem"},DISCUSSION:{icon:"discussions",size:"7",color:"",title:"discussion"}}[e]:{}}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"deleteDraftConfirmation",value:function(){this.setState({alertMode:"deleteDraft"})}},{key:"deleteDraft",value:function(){var e=this.props,t=e.deleteDraft;t(e.recentThread.actions[0].href),this.closeAlert()}},{key:"deleteFailedThreadConfirmation",value:function(){this.setState({alertMode:"deleteThread"})}},{key:"deleteFailedThread",value:function(){var e=this.props;(0,e.deleteDraft)(e.recentThread.actions[0].href),this.closeAlert()}},{key:"constructReplyOption",value:function(){var e=this.props,t=e.recentThreadId,a=e.recentThread,n=e.contactEmail,o=e.haveMailSendPermission,i=e.sendDraft,r=e.resendFailedThread,s=e.openEditor,l=e.isConversationQuerySent,c=e.ticketId,u=e.haveForWardPermissionOnly,d=(e.channel,e.isCustomChannel),m=e.channelInfo.acceptsReplies,p=void 0,f=[];if(a)if("DRAFT"==a.status){var h=a.to&&a.to.split(","),g=a.bcc&&a.bcc.split(","),_=a.cc&&a.cc.split(","),v=h&&h.concat(_,g),b=v&&-1==v.indexOf(n);p={icon:"editdDraft",size:"12",onClick:s.bind(this,t,a.content,a,"FACEBOOK"==a.channel?"facebook":"FORUMS"==a.channel?"forum":"editDraft"),title:se.f.getI18NValue("support.common.request.mail.edit.draft")},f=[{icon:"draftDelete",size:"12",onClick:this.deleteDraftConfirmation,title:se.f.getI18NValue("support.common.request.mail.discard.draft")}],o&&f.splice(1,0,{icon:"replyDraft",size:"12",onClick:i.bind(this,b,function(){},a),title:se.f.getI18NValue("support.common.request.mail.send.draft")}),f=u?[]:f}else if("FAILED"!=a.status||u)d?p=m?{icon:"reply",size:"12",onClick:s.bind(this,t,a.content,a,"replyall",null,[],!0),title:se.f.getI18NValue("crm.post.reply")}:null:"FACEBOOK"==a.channel||"TWITTER"==a.channel||"TWITTER_DM"==a.channel||"FACEBOOK_DM"==a.channel||"FORUMS"==a.channel?p=u?null:{icon:"reply",size:"12",onClick:s.bind(this,t,a.content,a,"FACEBOOK"==a.channel?"facebook":"FACEBOOK_DM"==a.channel?"facebookDm":"FORUMS"==a.channel?"forum":"TWITTER_DM"==a.channel?"twitterDm":"twitter"),title:se.f.getI18NValue("crm.post.reply")}:(f=[{icon:"reply",size:"12",onClick:s.bind(this,t,a.content,a,"reply",null,[],!0),title:se.f.getI18NValue("crm.button.reply")},{icon:"forward",size:"12",onClick:s.bind(this,t,a.content,a,"forward",null,[],!0),title:se.f.getI18NValue("support.label.thread.forward.title")}],p=u?f[1]:{icon:"replyall",size:"12",onClick:s.bind(this,t,a.content,a,"replyall",null,[],!0),title:se.f.getI18NValue("support.common.request.mail.replyall")},f=u?[]:f);else{var k=a.actions[1].href;p={icon:"zdresend",size:"12",onClick:r.bind(this,k,a.id),title:se.f.getI18NValue("support.mail.label.resend")},f=[{icon:"close1",size:"12",onClick:this.deleteFailedThreadConfirmation,title:se.f.getI18NValue("support.label.thread.delete")}]}else l&&(d?p=m?{icon:"reply",size:"12",onClick:s.bind(this,c," ","","replyall",null,[],!0),title:se.f.getI18NValue("crm.button.reply")}:null:(f=u?[]:[{icon:"reply",size:"12",onClick:s.bind(this,c," ","","reply",null,[],!0),title:se.f.getI18NValue("crm.button.reply")},{icon:"forward",size:"12",onClick:s.bind(this,c," ","","forward",null,[],!0),title:se.f.getI18NValue("support.label.thread.forward.title")}],p=u?f[0]:{icon:"replyall",size:"12",onClick:s.bind(this,c," ","","replyall",null,[],!0),title:se.f.getI18NValue("support.common.request.mail.replyall")}));return{defaultOption:p,options:f}}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.subject,n=e.isEdtiorOpen,o=(e.recentThreadId,e.recentThread),i=e.ticketId,r=e.toggleFollowers,s=e.toggleTags,l=e.isFollwersOpen,c=e.isTagsOpen,u=e.defaultTab,d=e.createdTime,m=e.priority,p=e.channel,f=e.isSpam,h=e.isClosed,g=e.isOnHold,_=e.isPeekView,v=e.closePeek,b=e.followerCount,k=e.tagCount,I=e.haveAddFollowersPermission,y=e.channelRelatedInfo,C=e.isFromPeek,T=e.toggleTicketPeek,E=e.sharedDepartments,N=void 0===E?[]:E,A=e.currentDepId,O=(e.parentDepId,e.parentDepName),w=e.isSharedTicket,P=e.viewFollower,D=e.viewTags,R=e.viewShared,M=e.isReadOnly,B=e.dataId,j=e.FollowersContainer,F=e.TagsContainer,V=e.getTimerComponent,z=e.featureList,H=e.toggleComment,W=e.isCustomChannel,G=e.channelInfo,K=void 0===G?{}:G,Y=this.state,J=Y.alertMode,q=Y.isSubjectOpen,Z=M?{}:this.constructReplyOption(),Q=Z.defaultOption,$=void 0===Q?null:Q,X=Z.options,ee=void 0===X?[]:X,te=Object(ye.c)(o,p),ae=y?this.getTopicIconObj(y.topicType):{},ne=K.appName,oe=K.appPhotoURL,le=K.permalink;return S.a.createElement(x.Container,{alignBox:"row",className:ie.a.mainContainer},_?S.a.createElement("span",{className:ie.a.closeIcon,onClick:v},S.a.createElement(re.GettingstartedFontIcon,{name:"closee",size:"18"})):null,_||C?S.a.createElement("div",{className:ie.a.expand,onClick:T},S.a.createElement(re.TopbandFontIcon,{name:C?"minimize":"maximize",size:"10"})):null,S.a.createElement(x.Container,{alignBox:"row"},S.a.createElement(x.Box,{className:ie.a.channelIcon},W?S.a.createElement(Ie.a,{src:oe,name:ne,title:ne,size:"xmedium"}):S.a.createElement(pe.a,{dataId:"autoId_480",name:te.channelName,action:te.action,size:"xmedium",topicIcon:y?ae.icon:null,topicIconSize:y?ae.size:null,topicIconColor:y?ae.color:null,topicIconTitle:y?ae.title:null}),w?S.a.createElement("div",{className:ie.a.shareRibbon},S.a.createElement(_e.a,{palette:"primary",size:"medium",type:"sticker",text:se.f.getI18NValue("support.label.ticketshare.shared")},S.a.createElement(re.TopbandFontIcon,{name:"share",size:"11",isBold:!1}))):null),S.a.createElement(x.Box,{flexible:!0,className:ie.a.titleContainer},S.a.createElement("div",null,S.a.createElement(x.Container,{alignBox:"row",align:"vertical"},S.a.createElement(x.Box,{shrink:!0,adjust:!0,className:q?ie.a.titleFullview:ie.a.ticketTitle,dataId:B},S.a.createElement("span",{"data-id":"caseNum",className:ie.a.caseNum},"#",t),S.a.createElement("span",{className:ie.a.subject,onClick:this.handleTitleView,"data-id":"caseSubjectText","data-title":q?null:a},a),y?y.isTopicDeleted?S.a.createElement("span",{className:ie.a.forumDelete,"data-title":se.f.getI18NValue("support.community.tickettopic.topicdeleted.msg")},se.f.getI18NValue("support.community.tickettopic.topicdeleted")):S.a.createElement(Ce.a,{className:ie.a.forumsPerLink,href:y.sourceLink},se.f.getI18NValue("support.label.customer.portal.link")):W?le?S.a.createElement(Ce.a,{className:ie.a.forumsPerLink,href:le,target:"_blank"},se.f.getI18NValue("support.common.request.channel.integ.via")+" "+ne):S.a.createElement("p",{className:ie.a.forumsPerLink},se.f.getI18NValue("support.common.request.channel.integ.via")+" "+ne):null))),S.a.createElement("div",null,S.a.createElement("div",{className:ie.a.dinblk,"data-title":se.f.getI18NValue("support.ticket.label.closedtime.info",se.f.userDateFormat(d,{},null,null,!1,function(){return"DD MMM YYYY hh:mm A"}))+(m&&""!=m&&"-None-"!=m?" - "+m:""),"data-id":"ticketPriority"},S.a.createElement("span",{className:m?ie.a[m.toLowerCase()]:ie.a.none},S.a.createElement(re.CommonFontIcon,{name:"createdtime2",size:"9"})),S.a.createElement("span",{className:ie.a.datetime},d?S.a.createElement(se.d,{to:d,format:function(){return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}):null)),A==U.e||w?S.a.createElement("div",{className:ie.a.depName},S.a.createElement(re.SetupFontIcon,{name:"department",size:"10"}),S.a.createElement("span",{className:ie.a.datetime},O)):null,P?S.a.createElement("div",{className:ie.a.subLabel,onClick:r},S.a.createElement(re.TopbandFontIcon,{name:"tickNew",size:"10"}),_?b&&"0"!=b?S.a.createElement("span",{className:ie.a.datetime},b):null:S.a.createElement("span",{className:ie.a.datetime},se.f.getI18NValue("support.social.label.followers"),b&&"0"!=b?" ("+b+")":null)):null,D?S.a.createElement("div",{className:ie.a.subLabel,onClick:s},S.a.createElement(re.TicketsFontIcon,{name:"tag",size:"10"}),_?k&&"0"!=k?S.a.createElement("span",{className:ie.a.datetime},k):null:S.a.createElement("span",{className:ie.a.datetime},se.f.getI18NValue("support.request.tagsLabel"),k&&"0"!=k?" ("+k+")":null)):null,R?S.a.createElement("div",{className:ie.a.subLabel,onClick:this.openTicketShareForm},S.a.createElement(re.TopbandFontIcon,{name:"share",size:"10"}),_?S.a.createElement("span",{className:ie.a.datetime},N.length):S.a.createElement("span",{className:ie.a.datetime},se.f.getI18NValue("support.label.ticketshare.shared")," ("+N.length+")")):null,S.a.createElement("span",{className:ie.a.timerComponent},V&&V()))),S.a.createElement(L.RestrictionValidator,{module:"tickets",features:z,action:"replyActions"},S.a.createElement(x.Box,{className:ie.a.rplyOPtion},!n&&("conversation"==u||"threads"==u)&&S.a.createElement("div",null,S.a.createElement(me,{toggleComment:H,defaultOption:$,options:ee}))))),S.a.createElement(be.a,{name:"fadeIn",isActive:l||c},l?S.a.createElement(j,{id:i,toggleFollowers:r,haveAddFollowersPermission:I&&!Object(L.getRestriction)(z,"tickets","followers_add").isReadOnly}):c?S.a.createElement(L.RestrictionValidator,{module:"tickets",features:z,action:"tags_add"},S.a.createElement(F,{id:i,toggleTags:s})):null),S.a.createElement("span",{className:ie.a.ribbon},f?S.a.createElement(_e.a,{palette:"danger",text:se.f.getI18NValue("support.spam")}):h?S.a.createElement(_e.a,{palette:"secondary",text:se.f.getI18NValue("Closed"),dataId:"divclosed"}):g?S.a.createElement(_e.a,{palette:"info",text:se.f.getI18NValue("support.label.onhold"),dataId:"divhold"}):null),"deleteDraft"==J?S.a.createElement(fe.a,{closeAlert:this.closeAlert,deleteDraft:this.deleteDraft}):"deleteThread"==J?S.a.createElement(he.a,{closeAlert:this.closeAlert,deleteThread:this.deleteFailedThread}):null)}}]),t}(E.Component),Ee=Te;Te.propTypes={FollowersContainer:A.a.node,TagsContainer:A.a.node,channel:A.a.string,channelInfo:A.a.object,channelRelatedInfo:A.a.object,closePeek:A.a.func,contactEmail:A.a.string,createdTime:A.a.oneOfType([A.a.string,A.a.number]),currentDepId:A.a.string,dataId:A.a.string,defaultTab:A.a.string,deleteDraft:A.a.func,deleteFailedThread:A.a.func,featureList:A.a.array,followerCount:A.a.string,getTimerComponent:A.a.func,haveAddFollowersPermission:A.a.bool,haveForWardPermissionOnly:A.a.bool,haveMailSendPermission:A.a.bool,id:A.a.string,isClosed:A.a.bool,isConversationQuerySent:A.a.bool,isCustomChannel:A.a.bool,isEdtiorOpen:A.a.bool,isFollwersOpen:A.a.bool,isFromPeek:A.a.bool,isOnHold:A.a.bool,isPeekView:A.a.bool,isReadOnly:A.a.bool,isSharedTicket:A.a.bool,isSpam:A.a.bool,isTagsOpen:A.a.bool,openEditor:A.a.func,openTicketShareForm:A.a.string,parentDepId:A.a.string,parentDepName:A.a.string,priority:A.a.string,recentThread:A.a.object,recentThreadId:A.a.string,resendFailedThread:A.a.func,sendDraft:A.a.func,sharedDepartments:A.a.array,subject:A.a.string,tagCount:A.a.string,ticketId:A.a.string,toggleComment:A.a.func,toggleFollowers:A.a.func,toggleTags:A.a.func,toggleTicketPeek:A.a.func,viewFollower:A.a.bool,viewShared:A.a.bool,viewTags:A.a.bool};var Se=a(1803),Ne=a.n(Se),Ae=a(72),Oe=a.n(Ae),we=a(99),Pe=a.n(we),De=a(458),xe=a(56),Le=a.n(xe),Re=a(80),Me=a.n(Re),Be=function(e){function t(e){v()(this,t);for(var a=y()(this,(t.__proto__||g()(t)).call(this,e)),n=a.props,o=n.departments,i=n.departmentOrder,r=[],s=0;s<i.length;s++)"allDepartment"!=i[s]&&r.push(o[i[s]]);return a.state={departments:r,selectedIndex:0,searchStr:"",searchList:[],isFetching:!1,from:0},a._Fetching=!1,a.onChange=a.onChange.bind(a),a.setInputRef=a.setInputRef.bind(a),a.searchDepartment=a.searchDepartment.bind(a),a.keyUp=a.keyUp.bind(a),a.getScrollContainerRef=a.getScrollContainerRef.bind(a),a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a.setScroll=a.setScroll.bind(a),a.onScroll=a.onScroll.bind(a),a.handleTogglePopup=a.handleTogglePopup.bind(a),a}return T()(t,e),k()(t,[{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e,"bottomLeft")}},{key:"onScroll",value:function(){var e=this,t=this.state,a=t.from;if(!t.noMoreData){var n=this.scrollContainerRef;n.scrollHeight<=n.scrollTop+n.offsetHeight&&!this._Fetching&&(this._Fetching=!0,a+=25,this.props.getDepartment(a,25,!0).then(function(t){var n=!1;t.data.result.length%25!=0&&(n=!0),e.setState({from:a,noMoreData:n}),e._Fetching=!1}))}}},{key:"componentWillReceiveProps",value:function(e){if(e.departmentOrder.length!=this.props.departmentOrder.length){for(var t=e.departments,a=e.departmentOrder,n=[],o=0;o<a.length;o++)"allDepartment"!=a[o]&&n.push(t[a[o]]);this.setState({departments:n})}}},{key:"onChange",value:function(e,t){e==se.f.getI18NValue("support.community.forum.simply.move")||"Move"==e?(t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),this.props.onSelect(e)):this.props.onSelect(e,t)}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.needToShowSecondPopup,o=a.closeSecondPopup,i=a.isPopupOpen,r=a.getDepartment,s=a.departmentOrder;e.needToShowSecondPopup!=n&&n&&(this.setState({from:0,noMoreData:!1}),2==s.length&&(this.setState({isFetching:!0}),r(0,25,!0).then(function(e){var a=!1;e.data.result.length%25!=0&&(a=!0),t.setState({isFetching:!1,noMoreData:a})})),this.inputRef&&this.inputRef.focus()),e.isPopupOpen!=i&&o()}},{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"searchDepartment",value:function(e){var t=this;this.setState({searchStr:e,selectedIndex:0},function(){for(var a=t.props,n=a.departments,o=a.departmentOrder,i=[],r=0;r<o.length;r++)"allDepartment"!=o[r]&&i.push(n[o[r]]);var s=i.filter(function(t){return-1!=t.name.toLowerCase().indexOf(e.toLowerCase())});t.setState({searchList:s}),t.setScroll()})}},{key:"keyUp",value:function(e){var t=this,a=e.keyCode,n=this.state,o=n.selectedIndex,i=n.departments,r=n.searchList,s=n.searchStr,l=this.props,c=l.onDeparmentSelect,u=l.closePopupOnly,d=s.length>1?r:i;switch(a){case 40:o===d.length-1?this.setState({selectedIndex:0},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex+1},function(){t.setScroll()});break;case 38:0===o?this.setState({selectedIndex:d.length-1},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex-1},function(){t.setScroll()});break;case 13:u(e),c(d[o].id)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.scrollContainerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,o=a.offsetHeight,i=t.offsetHeight;(n<=0||o+n>i)&&(0==e?t.scrollTop=0:t.scrollTop+=n)}}},{key:"getScrollContainerRef",value:function(e){this.scrollContainerRef=e}},{key:"getSelectedItemRef",value:function(e){this.selectItemRef=e}},{key:"render",value:function(){var e=this,t=this.props,a=(t.togglePopup,t.needToShowSecondPopup),n=t.arrayValues,o=t.closeSecondPopup,i=t.onDeparmentSelect,r=t.currentDepId,s=t.widgets,l=void 0===s?[]:s,c=t.selectedWidgetId,u=t.onWidgetScroll,d=t.onWidgetSelect,m=t.isPopupOpen,p=t.isPopupReady,f=t.position,h=t.getTargetRef,g=t.getContainerRef,_=this.state,v=_.departments,b=_.selectedIndex,k=_.searchStr,I=_.searchList,y=_.isFetching,C=_.from,T=k.length>1?I:v,E=k.length>1?0:1;return S.a.createElement("div",{className:Ne.a.posBox},S.a.createElement("a",{className:Ne.a.defaultSize,onClick:this.handleTogglePopup,ref:h},S.a.createElement("span",null,S.a.createElement(Le.a,{name:"more1",size:"16"}))),m?S.a.createElement(Oe.a,{dataId:"ticketDvMorePopup",size:"small",isAnimate:!0,isActive:p,boxPosition:f,getRef:g,right:"-12",arrowRight:"20"},a?S.a.createElement("div",null,S.a.createElement("div",{className:Ne.a.headingTop,"data-id":"moveDepartmentList",onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),o()}},S.a.createElement("span",{className:Ne.a.backIcon},S.a.createElement(Le.a,{name:"arrowLeft3",size:"14"})),S.a.createElement("span",{className:Ne.a.headingText},se.f.getI18NValue("support.community.forum.simply.move"))),S.a.createElement("div",{className:Ne.a.searchDept,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},S.a.createElement(Pe.a,{value:k,name:"input",maxLength:"150",placeHolder:se.f.getI18NValue("support.label.search.department"),inputRef:this.setInputRef,onChange:this.searchDepartment,onKeyUp:this.keyUp})),S.a.createElement("div",{className:Ne.a.departmentList,ref:this.getScrollContainerRef,onScroll:this.onScroll},y?S.a.createElement(De.a,null):T.length>E?T.map(function(t,a){var n=t.id;return r!=n&&a<=C+25?S.a.createElement("div",{className:b==a?Ne.a.activeList:Ne.a.list,key:n,ref:b==a?e.getSelectedItemRef:null,onClick:i.bind(e,n)},t.name):null}):S.a.createElement("span",null,"empty"))):S.a.createElement("div",null,S.a.createElement("div",{className:Ne.a.optionList},n.map(function(t,a){var n=t.name,o=t.iconName,i=t.shortcutKey,r=t.size;return S.a.createElement("div",{className:Ne.a.list,"data-id":"ticketDvMoreOption"+n,onClick:e.onChange.bind(e,n),key:a},S.a.createElement("span",{className:Ne.a.listIcon},S.a.createElement(Le.a,{name:o,size:r})),S.a.createElement("span",{className:Ne.a.displayText,"data-title":n},n),i?S.a.createElement("span",{className:Ne.a.shortcutText},i):null)}))),l.length?S.a.createElement("div",{className:Ne.a.widgetList,onScroll:u},l.map(function(t){var a=t.name,n=t.sanitisedName+"_"+t.installationId;return c!=n?S.a.createElement("div",{className:Ne.a.list,id:n,onClick:d.bind(e,n,t),dataId:"pen2"===iconName?"edit-ticket":"Delete"===a?"delete-ticket":iconName},S.a.createElement("span",{className:Ne.a.displayText,"data-title":a},decodeURIComponent(a))):null})):null):null)}}]),t}(E.Component);Be.propTypes={arrayValues:A.a.array,closePopupOnly:A.a.func,closeSecondPopup:A.a.func,currentDepId:A.a.string,dataId:A.a.string,departmentOrder:A.a.array,departments:A.a.object,getContainerRef:A.a.func,getDepartment:A.a.func,getTargetRef:A.a.func,isPopupOpen:A.a.bool,isPopupReady:A.a.bool,needToShowSecondPopup:A.a.bool,onDeparmentSelect:A.a.func,onSelect:A.a.func,onWidgetScroll:A.a.func,onWidgetSelect:A.a.func,position:A.a.string,selectedWidgetId:A.a.string,togglePopup:A.a.func,widgets:A.a.array};var je=Me()(Be),Fe=a(1007),Ve=a(81),ze=a(1369),Ue=a(1804),He=a.n(Ue),We=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.hideCollisionNotification=a.hideCollisionNotification.bind(a),a}return T()(t,e),k()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.hideCollisionNotification;e.hideCollisionNotification()},5e3)}},{key:"hideCollisionNotification",value:function(){var e=this.props,t=e.notificationId,a=e.hideCollisionNotification;a(t)}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.imgSrc,n=e.name,o=e.message;return t="small"==t?He.a.small:He.a.medium,S.a.createElement(x.Container,{alignBox:"row",align:"vertical",isCover:!1,className:He.a.parent+" "+t},S.a.createElement(x.Box,{className:He.a.close,onClick:this.hideCollisionNotification,dataId:"NotifiClose"},S.a.createElement(re.TopbandFontIcon,{name:"close",size:"20"})),S.a.createElement(x.Box,{className:He.a.left},S.a.createElement(Ie.a,{src:a,name:n,size:"xmedium"})),S.a.createElement(x.Box,{flexible:!0,className:He.a.right},S.a.createElement("span",{className:He.a.name},n),S.a.createElement("span",{className:He.a.message},o)))}}]),t}(S.a.Component),Ge=We;We.propTypes={hideCollisionNotification:A.a.func,imgSrc:A.a.string,message:A.a.string,name:A.a.string,notificationId:A.a.string,size:A.a.string};var Ke=a(1805),Ye=a.n(Ke),Je=a(1806),qe=a.n(Je),Ze=a(73),Qe=a.n(Ze),$e=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.widget,a=e.onLeftMarketSelect,n=e.selectedWidget,o="widget_"+t.sanitisedName+"_"+t.installationId;return o!=(n?"widget_"+n.sanitisedName+"_"+n.installationId:null)?S.a.createElement("div",{className:qe.a.listDiv,onClick:a.bind(this,o,t)},S.a.createElement("span",{className:qe.a.listName},decodeURIComponent(t.name))):null}}]),t}(S.a.Component),Xe=$e;$e.propTypes={onLeftMarketSelect:A.a.func,selectedWidget:A.a.object,widget:A.a.object};var et=a(65),tt=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.fetchData=a.fetchData.bind(a),a}return T()(t,e),k()(t,[{key:"fetchData",value:function(){return this.props.getInstalledExtensions("desk.ticket.detail.lefttab",!0)}},{key:"render",value:function(){var e=this.props,t=e.isPopupVisible,a=e.widgets,n=e.onLeftMarketSelect,o=e.selectedWidget,i=e.onWidgetScroll,r=e.locationObj;return S.a.createElement(et.Card,{className:t?Ye.a.leftWiget:Ye.a.leftWigetOpen,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()},needToFetch:!0,noMoreData:!!r&&r.noMoreData,fetchData:this.fetchData,noNeedUpScroll:!0},S.a.createElement(et.CardHeader,{className:Ye.a.headerDiv},S.a.createElement("div",{className:Ye.a.title},S.a.createElement("span",{className:Ye.a.titleName},se.f.getI18NValue("support.setup.label.extensions")))),S.a.createElement(et.CardContent,{className:Ye.a.listDiv,onScroll:i},a.map(function(e,t){return S.a.createElement(Xe,{widget:e,key:t,onLeftMarketSelect:n,selectedWidget:o})})))}}]),t}(S.a.Component),at=tt;tt.propTypes={getInstalledExtensions:A.a.func,isPopupVisible:A.a.bool,onLeftMarketSelect:A.a.func,onWidgetScroll:A.a.func,selectedWidget:A.a.object,widgets:A.a.array};var nt=a(238),ot=a(1274),it=a(1408),rt=a(1807),st=a.n(rt),lt=a(1808),ct=a.n(lt),ut=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props.message;return S.a.createElement("span",null,S.a.createElement("span",{className:ct.a.infoPopup},S.a.createElement("span",{className:ct.a.iconClass},S.a.createElement(re.CommonFontIcon,{name:"info",size:"11"})),S.a.createElement("div",{className:ct.a.posrel+" "+ct.a.popUp},S.a.createElement("i",{className:ct.a.bottomLeft_arrow}),S.a.createElement("span",{className:ct.a.infoContent},e))))}}]),t}(S.a.Component),dt=ut;ut.propTypes={message:A.a.string};var mt=a(1809),pt=a.n(mt),ft=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.macros,a=e.isFetching,n=e.onMacroSelect;return S.a.createElement("div",{className:pt.a.popup,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},S.a.createElement(Oe.a,{isAnimate:!0,size:"small",boxPosition:"topRight",isActive:!0},a&&!t.length?S.a.createElement("span",{className:pt.a.loading},S.a.createElement(De.a,null)):t.length?t.map(function(e,t){return S.a.createElement("div",{className:pt.a.list,key:t,onClick:function(){n(e.id,e.name)}},e.name)}):S.a.createElement("span",{className:pt.a.empty},se.f.getI18NValue("support.label.empty.macro"))))}}]),t}(S.a.Component),ht=ft;ft.propTypes={isFetching:A.a.bool,macros:A.a.array,onMacroSelect:A.a.func,openSnippet:A.a.func};var gt=a(17),_t=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={isFetching:!1},a.onMacroSelect=a.onMacroSelect.bind(a),a}return T()(t,e),k()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.deptId,n=t.getMacrosList;this.setState({isFetching:!0}),n(a).then(function(){e.setState({isFetching:!1})})}},{key:"onMacroSelect",value:function(e,t){var a=this,n=this.props,o=n.ticketId,i=n.applyMacro,r=n.togglePopup,s=n.showMessage,l=n.showNotification,c=n.moduleMeta;i(o,e).then(function(e){s({type:"success",message:se.f.getI18NValue("support.label.manual.workflow.applied.message",[t])});var n={id:"macroInfo",iconName:"macro",subject:se.f.getI18NValue("support.label.macro.success.header"),info:se.f.getI18NValue("support.label.macro.success.msg",[c.tickets.singularLabel.toLowerCase()]),autoClose:!1,needClose:!0,type:"secondary",submitText:se.f.getI18NValue("support.label.macro.view.changes"),iconSize:"35"};l([n]).then(function(){var e=a.props,t=e.orgName,n=e.sanitizedDeptName,o=e.moduleMeta,i=e.ticketId;(0,e.push)({pathname:"/"+t+"/"+n+"/"+o.tickets.sanitizedName+"/details/"+i+"/history"})},function(){})}),r()}},{key:"render",value:function(){var e=this.props.macros,t=void 0===e?[]:e,a=this.state.isFetching;return S.a.createElement(ht,{macros:t,isFetching:a,onMacroSelect:this.onMacroSelect})}}]),t}(E.Component);_t.propTypes={applyMacro:A.a.func,deptId:A.a.string,getMacrosList:A.a.func,macros:A.a.array,moduleMeta:A.a.object,orgName:A.a.string,push:A.a.func,sanitizedDeptName:A.a.string,showMessage:A.a.func,showNotification:A.a.func,ticketId:A.a.string,togglePopup:A.a.func};var vt=Object(P.connect)(function(e){var t,a=Object(gt.r)(e),n=Object(F.B)(e);return t={deptId:a,macros:Object(gt.D)(e,{deptId:a}),moduleMeta:e.moduleMeta,orgName:e.routing.paramMap.orgName,sanitizedDeptName:e.routing.paramMap.deptName},f()(t,"moduleMeta",e.moduleMeta),f()(t,"ticketId",n),t},{getMacrosList:function(e){return{types:Object(F.m)(U.L.MACROS),callAPI:function(t){return Object(j.a)("/api/v1/macros?"+Object(V.a)(t),!1,{orgId:t.currentOrgId}).get().then(function(t){return 204!=t.responseStatus?m()(Object(z.normalize)(t.data,Object(z.arrayOf)(Object(z.schema)(U.L.MACROS_L))),{deptId:e}):{deptId:e,entities:{},result:[]}})}}},applyMacro:function(e,t){return{types:Object(F.m)("APPLY_MACRO"),callAPI:function(a){return Object(j.a)("/api/v1/tickets/"+e+"/applyMacro?macroId="+t,!1,{orgId:a.currentOrgId}).post().then(function(e){return{entities:{},result:[]}})}}},showMessage:K.Q,showNotification:K.J.showNotification,push:K.K})(_t),bt=a(1233),kt=a(1810),It=a.n(kt),yt=a(233),Ct=a.n(yt),Tt=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){return S.a.createElement(x.Container,{alignBox:"row",className:It.a.footerDiv},S.a.createElement(x.Box,{className:It.a.flowchatBox},S.a.createElement(Ct.a,{shape:"circle",size:"medium"})),S.a.createElement(x.Box,{flexible:!0,className:It.a.transitionDiv},S.a.createElement("span",{className:It.a.transitionStencil},S.a.createElement(Ct.a,{size:"default"})),S.a.createElement("span",{className:It.a.transitionStencil},S.a.createElement(Ct.a,{size:"default"}))))}}]),t}(S.a.Component);var Et=a(1811),St=a.n(Et),Nt=a(1812),At=a.n(Nt),Ot=a(1249),wt=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.applyTransition=a.applyTransition.bind(a),a}return T()(t,e),k()(t,[{key:"applyTransition",value:function(e,t){this.props.applyTransition(e,t)}},{key:"render",value:function(){var e=this,t=this.props.transitions;return S.a.createElement("div",{className:At.a.morePopup},S.a.createElement("div",{className:At.a.PopupBody},S.a.createElement("span",{className:At.a.moreText},se.f.getI18NValue("crm.login.more")),S.a.createElement("span",{className:At.a.upArrow},S.a.createElement(re.TopbandFontIcon,{color:"primary",iconClass:"upArrowicon",name:"blockDownArrow",size:"7"}))),S.a.createElement("div",{className:At.a.openPopup},t&&t.map(function(t,a){var n=t.id,o=t.name;return S.a.createElement("span",{className:At.a.buttonDiv,key:a,onClick:e.applyTransition.bind(e,n,t)},S.a.createElement(Ot.a,{cursor:"pointer",text:o,isList:!0}))})))}}]),t}(S.a.Component),Pt=wt;wt.propTypes={applyTransition:A.a.func,transitions:A.a.array};var Dt=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={moreData:0},a.constructTransition=a.constructTransition.bind(a),a.applyTransition=a.applyTransition.bind(a),a}return T()(t,e),k()(t,[{key:"componentDidMount",value:function(){this.constructTransition()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.transitions,n=void 0===a?[]:a,o=t.ticketId;n.length!=e.transitions.length&&this.constructTransition(),o!=e.ticketId&&this.constructTransition()}},{key:"applyTransition",value:function(e,t){this.props.applyTransition(e,t)}},{key:"constructTransition",value:function(){if(this.transitionsCont){for(var e=this.transitionsCont.offsetWidth-160,t=this.transitionsList.children,a=0,n=0,o=0;o<t.length;o++)if(e<=(a+=t[o].offsetWidth)){n=o;break}this.setState({moreData:n})}}},{key:"constructTransitions",value:function(){var e=this.state.moreData,t=this.props,a=t.transitions,n=t.loadingTransitionId,o=t.successTransitionId;e=e||a&&a.length;for(var i=[],r=0;r<e;r++){var s=a[r],l=s.id,c=s.name,u=s.isAutoTransition,d=s.isCriteriaSatisfied,m=s.canUserPerformTransition;!u&&d&&m&&i.push(S.a.createElement("span",{className:St.a.buttonStyle,onClick:this.applyTransition.bind(this,l,a[r])},S.a.createElement(Ot.a,{cursor:"pointer",status:n==l?"loading":o==l?"success":"none",text:c})))}return i}},{key:"render",value:function(){var e=this,t=this.props,a=t.state,n=t.transitions,o=t.openFlowChat,i=t.loadingTransitionId,r=t.successTransitionId,s=this.state.moreData,l=this.constructTransitions();return S.a.createElement(x.Container,{alignBox:"row",className:St.a.footerDiv},S.a.createElement(x.Box,{className:St.a.flowchatBox,"data-title":se.f.getI18NValue("support.blueprint.label.flowchart"),onClick:o},S.a.createElement("span",{className:St.a.flowIcon},S.a.createElement(re.CommonFontIcon,{color:"primary",name:"blueprint",size:"18"}))),S.a.createElement(x.Box,{className:St.a.curretState},S.a.createElement("div",{className:St.a.stateTitle},se.f.getI18NValue("support.blueprint.label.current.state")),S.a.createElement("div",{className:St.a.stateName},a.name),S.a.createElement("div",{className:St.a.rightArrow})),l&&l.length?S.a.createElement(x.Container,{alignBox:"row"},S.a.createElement(x.Box,{className:St.a.transitionDiv,eleRef:function(t){e.transitionsCont=t},flexible:!s},S.a.createElement("div",{className:St.a.transitonText},n&&1==n.length?se.f.getI18NValue("support.blueprint.label.transition"):se.f.getI18NValue("support.blueprint.label.transitions")),S.a.createElement(x.Box,{eleRef:function(t){e.transitionsList=t}},l)),s?S.a.createElement(x.Box,{className:St.a.morePop},S.a.createElement(Pt,{loadingTransitionId:i,successTransitionId:r,transitions:n.slice(s,n.length),applyTransition:this.applyTransition})):null):S.a.createElement(x.Box,{className:St.a.trEmpTx},se.f.getI18NValue("support.blueprint.label.no.more.transition.description")))}}]),t}(S.a.Component),xt=Dt;Dt.propTypes={applyTransition:A.a.func,loadingTransitionId:A.a.string,openFlowChat:A.a.func,state:A.a.object,successTransitionId:A.a.string,ticketId:A.a.string,transitions:A.a.array};var Lt=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={loadingTransitionId:null,successTransitionId:null},a.applyTransition=a.applyTransition.bind(a),a.getTicketFieldValue=a.getTicketFieldValue.bind(a),a}return T()(t,e),k()(t,[{key:"applyTransition",value:function(e,t){var a=this,n=this.props,o=n.ticketId,i=n.getTransitions,r=n.performTransition,s=n.openTransitionForm,l=n.ticket,c=n.getAppliedBlueprint;this.setState({loadingTransitionId:e}),i(o,e).then(function(n){var i,u,d=n.data,p=d.formActions,f=d.isContinuousBlueprint;if(p.length||f){a.setState({loadingTransitionId:null});var h=!1,g=n.data,_=g.formActions,v=g.isContinuousBlueprint,b=g.continuousTransitions;_.map(function(e){"REPLY"==e.actionType&&(h=!0)}),i={hasReply:h},u=_.map(function(e){e.actionType;var t=e.fieldDetails;return"FIELD_UPDATE"==e.actionType?(e.fieldDetails=m()({},t,a.getTicketFieldValue(t)),"Picklist"==e.fieldDetails.type&&-1==e.fieldDetails.allowedValues.indexOf(e.fieldDetails.value)&&e.fieldDetails.allowedValues.push(e.fieldDetails.value)):"RESOLUTION"==e.actionType&&(e.value=l.resolution),e}),_=u,i=m()(i,{formActions:_,isContinuousBlueprint:v,continuousTransitions:v?b:[]},t),s(i)}else r(o,e,{}).then(function(t){a.setState({loadingTransitionId:null,successTransitionId:e}),setTimeout(function(){a.setState({loadingTransitionId:null,successTransitionId:null})},200),c(o)})})}},{key:"getTicketFieldValue",value:function(e){var t=this.props.ticket,a={};return e.isCustomField?a.value=t.customFields[e.name]||null:a.value=t[e.name]||null,"DateTime"!=e.type&&"Date"!=e.type||(a.value=a.value||null),"Picklist"==e.type&&(a.value=a.value||"-None-"),"Multiselect"==e.type&&(a.value=a.value?a.value.split(";"):""),"Boolean"==e.type&&(a.value="true"==a.value),a}},{key:"render",value:function(){var e=this.props,t=e.blueprint,a=e.ticketId,n=e.openFlowChat,o=e.transitionData,i=this.state,r=i.loadingTransitionId,s=i.successTransitionId,l=t.id,c=t.name,u=t.state,d=t.transitions,m=void 0===d?[]:d;return S.a.createElement(xt,{id:l,name:c,state:u,transitions:m,ticketId:a,openFlowChat:n,applyTransition:this.applyTransition,transitionData:o,loadingTransitionId:r,successTransitionId:s})}}]),t}(E.Component);Lt.propTypes={blueprint:A.a.object,getAppliedBlueprint:A.a.func,getTransitions:A.a.func,openFlowChat:A.a.func,openTransitionForm:A.a.func,performTransition:A.a.func,ticket:A.a.func,ticketId:A.a.string,transitionData:A.a.object};var Rt=Object(P.connect)(function(e,t){return{ticket:e.module.ticket[t.ticketId]}},{openFlowChat:ne.e,getTransitions:ne.d,performTransition:ne.g,openTransitionForm:ne.f,getAppliedBlueprint:ne.c})(Lt),Mt=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={isMacroPopupOpen:!1},a.togglePopup=a.togglePopup.bind(a),a}return T()(t,e),k()(t,[{key:"togglePopup",value:function(){this.setState(function(e){return{isMacroPopupOpen:!e.isMacroPopupOpen}})}},{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({isMacroPopupOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"render",value:function(){var e=this,t=this.props,a=t.closeTicket,n=t.reOpenTicket,o=t.notSpam,i=t.isSpam,r=t.isClosed,s=t.moduleName,l=t.isPeekView,c=t.openRemoteAssist,u=t.isOnHold,d=t.haveEditPermission,m=t.haveCloseTicketPermission,p=t.ticketId,f=t.blueprint,h=t.transitionData,g=t.toggleCloserNotification,_=t.isCloserNotificationEnable,v=this.state.isMacroPopupOpen;return i?S.a.createElement(x.Container,{alignBox:"row",align:"right",className:st.a.mainContainer},S.a.createElement("div",{className:st.a.shadow}),S.a.createElement(x.Box,{className:st.a.closeBtn},S.a.createElement(bt.a,{isSpam:i,notSpam:o}))):f&&""!=h?h?S.a.createElement(Rt,{ticketId:p,blueprint:h}):S.a.createElement(Tt,null):d?S.a.createElement(x.Container,{alignBox:"row",className:st.a.mainContainer},S.a.createElement("div",{className:st.a.shadow}),S.a.createElement("div",{className:st.a.footerOption},S.a.createElement(x.Container,{alignBox:"row",align:"vertical"},S.a.createElement(x.Box,{className:st.a.optionDiv},S.a.createElement("div",{className:st.a.clickable+" "+(v&&st.a.focused),onClick:function(t){t.stopPropagation&&t.stopPropagation(),e.togglePopup()}},v?S.a.createElement(vt,{ticketId:p,togglePopup:this.togglePopup}):null,S.a.createElement("span",null,S.a.createElement(re.TopbandFontIcon,{name:"macro2",size:"19"})),l?null:S.a.createElement("span",{className:st.a.labelDiv},se.f.getI18NValue("support.label.apply.macro")))),S.a.createElement(x.Box,{className:st.a.optionDiv},S.a.createElement("div",{className:st.a.clickable,onClick:c},S.a.createElement("span",null,S.a.createElement(re.TopbandFontIcon,{name:"taskDemo",size:"15"})),l?null:[S.a.createElement("span",{className:st.a.labelDiv,key:"name"},se.f.getI18NValue("support.request.detailview.remoteassist")),S.a.createElement(dt,{message:se.f.getI18NValue("support.request.detailview.ratooltip"),key:"icon"})])))),S.a.createElement(x.Box,{className:st.a.closeBtn},S.a.createElement(bt.a,{isClosed:r,isOnHold:u,reOpenTicket:n,closeTicket:a,moduleName:s,haveCloseTicketPermission:m,toggleCloserNotification:g,isCloserNotificationEnable:_}))):null}}]),t}(S.a.Component),Bt=Mt;Mt.propTypes={blueprint:A.a.object,closeTicket:A.a.func,haveCloseTicketPermission:A.a.bool,haveEditPermission:A.a.bool,isClosed:A.a.bool,isCloserNotificationEnable:A.a.bool,isOnHold:A.a.bool,isPeekView:A.a.bool,isSpam:A.a.bool,moduleName:A.a.string,notSpam:A.a.func,openRemoteAssist:A.a.func,reOpenTicket:A.a.func,ticketId:A.a.string,toggleCloserNotification:A.a.func,transitionData:A.a.object};var jt=a(1532),Ft=a(1021),Vt=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.moduleMeta,a=e.isSpam,n=e.deleteTicket,o=e.closeAlert,i=e.ticketCount;return S.a.createElement(Ft.a,{isActive:!0,iconType:"delete",submitText:se.f.getI18NValue("support.permission.delete.comment"),cancelText:se.f.getI18NValue("support.label.cancel"),title:1==i?se.f.getI18NValue("support.delete",[t.tickets.singularLabel]):se.f.getI18NValue("support.request.alert.delete.ticket.plural.header",[t.tickets.singularLabel]),message:a?se.f.getI18NValue("support.request.warning.deletespam"):se.f.getI18NValue("support.label.delete.singal.ticket",[t.tickets.singularLabel,t.tasks.singularLabel,t.timeEntry.singularLabel]),confirmationMessage:se.f.getI18NValue("support.request.warning.delete"),onSubmitClick:n,onCancelClick:o})}}]),t}(E.Component),zt=Vt;Vt.defaultProps={ticketCount:1},Vt.propTypes={closeAlert:A.a.func,deleteTicket:A.a.func,isSpam:A.a.bool,moduleMeta:A.a.object,ticketCount:A.a.number};var Ut=a(947),Ht=a.n(Ut),Wt=a(1813),Gt=a.n(Wt),Kt=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={isChecked:!1},a.toggleChecked=a.toggleChecked.bind(a),a.toggleSpam=a.toggleSpam.bind(a),a}return T()(t,e),k()(t,[{key:"toggleChecked",value:function(){this.setState(function(e){return{isChecked:!e.isChecked}})}},{key:"toggleSpam",value:function(){var e=this.state.isChecked,t=this.props,a=t.ids,n=t.isSpam,o=t.toggleSpam,i=t.closeAlert,r={ids:a,isSpam:!n};n?e&&(r.handleExistingTickets=!0):e&&(r.contactSpam=!0),o(r),i()}},{key:"render",value:function(){var e=this.state.isChecked,t=this.props,a=t.isSpam,n=t.moduleMeta,o=t.closeAlert,i=t.ticketCount,r=n.tickets,s=n.contacts,l=r.singularLabel,c=r.pluralLabel;l=l.toLowerCase(),c=c.toLowerCase();var u=s.singularLabel,d=s.pluralLabel;u=u.toLowerCase(),d=d.toLowerCase();var m=se.f.getI18NValue("support.label.this")+" "+u,p=se.f.getI18NValue("support.label.this")+" "+l;i>1&&(m=se.f.getI18NValue("support.label.these")+" "+d,p=se.f.getI18NValue("support.label.these")+" "+c);var f=a?se.f.getI18NValue("support.label.notspam.message",[p]):se.f.getI18NValue("support.label.spam.message",[p]),h=se.f.getI18NValue("support.spam.contact.message1",[u]),g=se.f.getI18NValue("support.spam.contact.message2",[c,u]),_=se.f.getI18NValue("support.spam.contact.message3",[l]);return a&&(h=se.f.getI18NValue("support.not.spam.ticket.message1",[u]),g=se.f.getI18NValue("support.not.spam.ticket.message2",[u])),S.a.createElement(Ft.a,{isActive:!0,title:a?se.f.getI18NValue("support.label.notspam",[l]):se.f.getI18NValue("support.label.spam",[l]),submitText:se.f.getI18NValue("crm.button.ok"),cancelText:se.f.getI18NValue("support.label.cancel"),onSubmitClick:this.toggleSpam,onCancelClick:o},S.a.createElement(x.Container,null,S.a.createElement(x.Box,null,S.a.createElement("div",{className:Gt.a.spamText},f),a?null:S.a.createElement(Ht.a,{onChange:this.toggleChecked,text:se.f.getI18NValue("support.spam.mark.contacts.message",[u]),checked:e})),S.a.createElement(x.Box,{className:Gt.a.listDiv},S.a.createElement("ul",{className:Gt.a.liList},S.a.createElement("li",null,h),S.a.createElement("li",null,g),a?null:S.a.createElement("li",null,_))),a?S.a.createElement(x.Box,null,S.a.createElement(Ht.a,{checked:e,onChange:this.toggleChecked,text:se.f.getI18NValue("support.notspam.mark.tickets.message",[c,m])})):null))}}]),t}(E.Component),Yt=Kt;Kt.defaultProps={ticketCount:1},Kt.propTypes={closeAlert:A.a.func,ids:A.a.array,isSpam:A.a.bool,moduleMeta:A.a.object,ticketCount:A.a.number,toggleSpam:A.a.func};var Jt=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.contactId,a=e.moduleData,n=e.openMeeting,o=e.closeAlert,i=a.contact[t],r=i.email||i.secondaryEmail||"",s="";return s=""===r?se.f.getI18NValue("support.request.detailview.rapopupmsg"):se.f.getI18NValue("support.request.detailview.rapopupmsg")+" "+se.f.getI18NValue("label.request.to")+' <span>"'+Object(F.k)(r)+'"</span>',S.a.createElement(Ft.a,{isActive:!0,palette:"primary",type:"remoteAssist",iconName:"taskDemo",title:se.f.getI18NValue("support.request.detailview.remoteassist"),message:s,confirmationMessage:se.f.getI18NValue("support.request.warning.delete"),submitText:se.f.getI18NValue("crm.button.continue"),cancelText:se.f.getI18NValue("support.label.cancel"),onSubmitClick:n,onCancelClick:o})}}]),t}(E.Component),qt=Jt;Jt.propTypes={closeAlert:A.a.func,contactId:A.a.string,moduleMeta:A.a.object,openMeeting:A.a.func};var Zt=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props.closeAlert;return S.a.createElement(Ft.a,{isActive:!0,title:se.f.getI18NValue("support.history.operation.label.wfalert"),message:se.f.getI18NValue("support.setup.addon.label.zassist.popupblock.msg"),submitText:se.f.getI18NValue("crm.button.ok"),onSubmitClick:e,onCancelClick:e})}}]),t}(E.Component),Qt=Zt;Zt.propTypes={closeAlert:A.a.func};var $t=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.revokeBlueprint=a.revokeBlueprint.bind(a),a}return T()(t,e),k()(t,[{key:"revokeBlueprint",value:function(){var e=this.props,t=e.id,a=e.revokeBlueprint,n=e.closeAlert;a(t),n()}},{key:"render",value:function(){var e=this.props,t=e.moduleMeta,a=(e.revokeBlueprint,e.closeAlert);return S.a.createElement(Ft.a,{isActive:!0,title:se.f.getI18NValue("support.history.operation.label.wfalert"),message:se.f.getI18NValue("support.blueprints.revoke.label.confirmation.message",[t.tickets.singularLabel]),submitText:se.f.getI18NValue("support.blueprint.revoke.button"),cancelText:se.f.getI18NValue("support.label.cancel"),onSubmitClick:this.revokeBlueprint,onCancelClick:a})}}]),t}(E.Component),Xt=$t;$t.propTypes={closeAlert:A.a.func,id:A.a.string,moduleMeta:A.a.object,revokeBlueprint:A.a.func};var ea=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.delinkJiraBug,a=e.closeAlert;return S.a.createElement(Ft.a,{isActive:!0,type:"delete",title:se.f.getI18NValue("support.integ.jira.bug.delink"),message:se.f.getI18NValue("support.integ.jira.bug.alert.delink"),submitText:se.f.getI18NValue("crm.button.ok"),cancelText:se.f.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a})}}]),t}(E.Component),ta=ea;ea.propTypes={delinkJiraBug:A.a.func,moduleMeta:A.a.object};var aa=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.bugName,a=e.delinkBug,n=e.closeAlert;return S.a.createElement(Ft.a,{isActive:!0,type:"delete",title:se.f.getI18NValue("support.integ.bug.delink",[t]),message:se.f.getI18NValue("support.integ.bug.alert.delink",[t]),submitText:se.f.getI18NValue("crm.button.ok"),cancelText:se.f.getI18NValue("support.label.cancel"),onSubmitClick:a,onCancelClick:n})}}]),t}(E.Component),na=aa;aa.propTypes={bugName:A.a.string,delinkBug:A.a.func,moduleMeta:A.a.object};var oa=a(1235),ia=a(256),ra=a(1484),sa=a(242),la=a(1383),ca=a(1292),ua=a(22),da=a(1814),ma=a.n(da),pa=a(986),fa=a(103),ha=a(243),ga=a(1322),_a=a(1815),va=a.n(_a),ba=function(e){function t(){return v()(this,t),y()(this,(t.__proto__||g()(t)).apply(this,arguments))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=(e.id,e.contactName),a=e.accountName,n=e.happinessvalue,o=e.isCrmIntegrated,i=e.isSalesForceEnbled,r=e.isBooksEnabled,s=e.customerHappiness,l=e.email,c=e.secondaryMail,u=e.webSite,d=e.phone,m=e.dataId,p=e.mobile,f=e.isTelephony,h=e.paidUser,g=e.getHappinessCount,_=e.isPortalUser,v=e.isInvoiceEnabled,b=e.openCrmInfo,k=e.openSalesforceInfo,I=e.openInvoiceInfo,y=e.openContactDv,C=e.openAccountDv,T=e.isSpam;return S.a.createElement("div",null,S.a.createElement("div",{className:va.a.mainInfo},S.a.createElement("span",{onClick:y,className:va.a.title,"data-id":m},t),h?S.a.createElement("span",{className:va.a.dot},"."):"",h?S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:va.a.dot},"."),S.a.createElement("span",{className:va.a.paidIcon},S.a.createElement(re.TopbandFontIcon,{name:"paiduser",size:"10"}))):null,_?S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:va.a.dot},"."),S.a.createElement("span",{className:va.a.paidIcon,"data-title":se.f.getI18NValue("crm.end.user")},S.a.createElement(re.CommonFontIcon,{name:"globe2",size:"10"}))):null,T?S.a.createElement("div",{className:va.a.spam},"(",se.f.getI18NValue("support.spam"),")"):null),S.a.createElement("div",{className:va.a.acinfo},a?S.a.createElement("span",{onClick:C,className:va.a.acName},a):null,s&&"0%"!=n||o||i||r||v?S.a.createElement("span",{className:va.a.thirdparty},s&&"0%"!=n&&a?S.a.createElement("span",{className:va.a.dot},"."):null,s&&"0%"!=n?S.a.createElement("span",{className:va.a.tpName,onClick:g},S.a.createElement("i",{className:va.a.happinessIcon,style:{backgroundImage:"url(https://localimg.zohostatic.com/support/app/images/emo-r.8d4f8a095a2c3e1be1ab.png)"}}),S.a.createElement("span",null,n)):null,(o||i)&&(a||s&&"0%"!=n)?S.a.createElement("span",{className:va.a.dot},"."):null,o?S.a.createElement("span",{className:va.a.tpName+" "+va.a.crm,onClick:b},S.a.createElement(re.CommonFontIcon,{name:"tpcrm0501",size:"10"}),S.a.createElement("span",null,se.f.getI18NValue("support.label.crm"))):i?S.a.createElement("span",{className:va.a.tpName+" "+va.a.crm,onClick:k},S.a.createElement(re.CommonFontIcon,{name:"salesforce",size:"8"}),S.a.createElement("span",null,se.f.getI18NValue("support.setup.integ.salesforce.title"))):null,(r||v)&&(a||s&&"0%"!=n||o||i)?S.a.createElement("span",{className:va.a.dot},"."):null,r||v?S.a.createElement("span",{className:va.a.tpName,onClick:I},S.a.createElement(re.CommonFontIcon,{name:v?"invoice":"books",size:"10"}),S.a.createElement("span",null,se.f.getI18NValue(v?"support.invoice.label.for.ticket":"support.books.label.for.ticket"))):null):null),l?S.a.createElement("div",{className:va.a.contactMail},S.a.createElement(Ce.a,{href:"mailto:"+l,className:va.a.data},l)):null,c?S.a.createElement("div",null,S.a.createElement(Ce.a,{href:"mailto:"+c,className:va.a.data},c)):null,d?S.a.createElement("div",{className:va.a.phonepart},S.a.createElement(Ce.a,{href:"tel:"+d,className:va.a.phonetxt},d),f?S.a.createElement("span",{className:va.a.phoneIcon},S.a.createElement(re.TicketsFontIcon,{name:"phone",size:"13",hoverColor:"olive6"})):null):p?S.a.createElement("span",{className:va.a.phonetxt},p):null,u?S.a.createElement(Ce.a,{href:u,target:"_blank",className:va.a.data},u):null,S.a.createElement("div",{className:va.a.line}))}}]),t}(S.a.Component),ka=ba;ba.propTypes={accountName:A.a.string,contactName:A.a.string.isRequired,customerHappiness:A.a.object,dataId:A.a.string,email:A.a.string,getHappinessCount:A.a.func,happinessvalue:A.a.string,isBooksEnabled:A.a.bool,isCrmIntegrated:A.a.bool,isInvoiceEnabled:A.a.bool,isPortalUser:A.a.bool,isSalesForceEnbled:A.a.bool,isSpam:A.a.bool,isTelephony:A.a.bool,mobile:A.a.string,openAccountDv:A.a.func,openContactDv:A.a.func,openCrmInfo:A.a.func,openInvoiceInfo:A.a.func,openSalesforceInfo:A.a.func,paidUser:A.a.bool,phone:A.a.string,secondaryMail:A.a.string,webSite:A.a.string};var Ia=a(1816),ya=a.n(Ia),Ca=function(e){function t(e){return v()(this,t),y()(this,(t.__proto__||g()(t)).call(this,e))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.assigneeId,a=e.agentName,n=e.photoURL,o=e.teamId,i=e.teamName,r=e.needToShowShortCut,s=e.pickTicket,l=e.module,c=e.moduleLabel,u=e.onChangeAssignee,d=e.featureList,m=e.haveChangeOwnerPermission,p=e.haveUnassignedChangeOwnerPermission,f=e.AssignPopupContainer,h=Object(L.getRestriction)(d,l,"assignee"),g=h.isReadOnly,_=h.readOnlyMessage;return _=se.f.getI18NValue(_,[c]),S.a.createElement("div",{className:ya.a.assignCont},S.a.createElement("div",{className:ya.a.cboth},S.a.createElement("span",{className:ya.a.asText},se.f.getI18NValue("support.sla.choose.assignto")),_?S.a.createElement("span",{className:ya.a.lockIcon,"data-title":_},S.a.createElement(re.CommunityFontIcon,{name:"locked",size:"14",isBold:!0})):S.a.createElement(S.a.Fragment,null,t||o||!r||g?null:S.a.createElement("span",{"data-id":"pickTicket",className:ya.a.pick,onClick:s},se.f.getI18NValue("support.request.detailview.pick")),r&&!g?S.a.createElement("span",{className:ya.a.shortCut},"Shift + A"):null)),S.a.createElement("div",{className:ya.a.assignpart},S.a.createElement(f,{page:"ticketDv",teamId:o,teamName:i,assigneeId:t,photoURL:n,agentName:a,onChangeAssignee:u,haveChangeOwnerPermission:m,haveUnassignedChangeOwnerPermission:p,boxPosition:"bottomCenter",isLocked:g})))}}]),t}(E.Component),Ta=Ca;Ca.propTypes={AssignPopupContainer:A.a.node,agentName:A.a.string,assigneeId:A.a.string,featureList:A.a.array,haveChangeOwnerPermission:A.a.bool,haveUnassignedChangeOwnerPermission:A.a.bool,module:A.a.string,moduleLabel:A.a.string,needToShowShortCut:A.a.bool,onChangeAssignee:A.a.func,photoURL:A.a.string,pickTicket:A.a.func,teamId:A.a.string,teamName:A.a.string};var Ea=a(1817),Sa=a.n(Ea),Na=(a(112),a(264)),Aa=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.onClick=a.onClick.bind(a),a.onStatusChange=a.onStatusChange.bind(a),a}return T()(t,e),k()(t,[{key:"onClick",value:function(e){!this.props.isPopupOpen&&this.props.onStatusPopupOpen&&this.props.onStatusPopupOpen(),this.props.togglePopup(e)}},{key:"onStatusChange",value:function(e,t,a){var n=this.props,o=n.onChangeStatusMapping,i=n.togglePopup;o(t.name),i(a)}},{key:"render",value:function(){var e=this.props,t=e.status,a=e.statusMapping,n=e.haveEditPermission,o=e.isLocked,i=e.from;return n&&!o?S.a.createElement(Na.a,{className:Sa.a.statusPopup,value:t,position:"ticketDv"==i?"bottomCenter":"bottomLeft",isArrow:"ticketDv"!=i,boxSize:"ticketDv"==i?"mlarge":"xmedium",options:a,keyName:"name",onClick:this.onStatusChange,dataId:"status_val"}):S.a.createElement("span",{className:Sa.a.statusVal+" "+Sa.a.pointer,"data-id":"status_val"},t)}}]),t}(E.Component);Aa.defaultProps={haveEditPermission:!0},Aa.propTypes={closePopupOnly:A.a.func,from:A.a.string,haveEditPermission:A.a.bool,isLocked:A.a.bool,isPopupOpen:A.a.bool,isTicketListView:A.a.bool,onChangeStatusMapping:A.a.func,onStatusPopupOpen:A.a.func,position:A.a.string,removeClose:A.a.func,status:A.a.string,statusMapping:A.a.array,togglePopup:A.a.func};var Oa=Me()(Aa),wa=a(1818),Pa=a.n(wa),Da=function(e){function t(e){return v()(this,t),y()(this,(t.__proto__||g()(t)).call(this,e))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.featureList,a=e.module,n=e.moduleLabel,o=e.haveEditPermission,i=e.status,r=e.statusMapping,s=e.onStatusPopupOpen,l=e.onChangeStatusMapping,c=Object(L.getRestriction)(t,a,"status"),u=c.isReadOnly,d=c.readOnlyMessage;return d=se.f.getI18NValue(d,[n]),S.a.createElement("div",null,S.a.createElement("div",null,S.a.createElement("span",{className:Pa.a.statusLabel},se.f.getI18NValue("label.request.status")),d?S.a.createElement("span",{className:Pa.a.lockIcon,"data-title":d},S.a.createElement(re.CommunityFontIcon,{name:"locked",size:"14",isBold:!0})):null),S.a.createElement("div",{className:Pa.a.popup},S.a.createElement(Oa,{from:"ticketDv",isLocked:u,haveEditPermission:o,status:i,statusMapping:r,onStatusPopupOpen:s,onChangeStatusMapping:l})))}}]),t}(E.Component),xa=Da;Da.propTypes={featureList:A.a.array,haveEditPermission:A.a.bool,module:A.a.string,moduleLabel:A.a.string,onChangeStatusMapping:A.a.func,onStatusPopupOpen:A.a.func,status:A.a.string,statusMapping:A.a.array};var La=a(1228),Ra=a(1819),Ma=a.n(Ra),Ba=function(e){function t(e){return v()(this,t),y()(this,(t.__proto__||g()(t)).call(this,e))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.onChangeForumStatus,a=e.topicType,n=e.forumStatus,o=a?Object(F.s)(a):[],i=[],r=se.f.getI18NValue("zohodiscussions.topiclabel.nolabel");if(o.length)for(var s=0;s<o.length;s++){var l=o[s],c=l.label,u=l.value;i.push({name:c,key:c,value:u}),n==u&&(r=c)}return S.a.createElement(La.a,{text:se.f.getI18NValue("support.forum.status")},S.a.createElement(Na.a,{options:i,position:"bottomCenter",isArrow:!1,idName:"key",keyName:"name",boxSize:"mlarge",value:r,className:Ma.a.statusPopup,onClick:t}))}}]),t}(E.Component),ja=Ba;Ba.propTypes={forumStatus:A.a.string,onChangeForumStatus:A.a.func,topicType:A.a.string};var Fa=a(971),Va=a.n(Fa),za=a(1820),Ua=a.n(za),Ha=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a.handleCancel=a.handleCancel.bind(a),a.handleMinError=a.handleMinError.bind(a),a}return T()(t,e),k()(t,[{key:"handleSelect",value:function(e,t){var a=this.props,n=a.onSelect;(0,a.togglePopup)(t),n(e?e.toISOString():"")}},{key:"handleCancel",value:function(e){(0,this.props.togglePopup)(e)}},{key:"handleMinError",value:function(e){(0,this.props.showMessage)({type:"alert",message:e})}},{key:"render",value:function(){var e=this.props,t=e.getTargetRef,a=e.getContainerRef,n=e.togglePopup,o=e.isPopupOpen,i=e.isPopupReady,r=e.removeClose,s=e.isDateTime,l=e.value,c=e.position,u=e.timeZone,d=(e.min,e.minErrorText),m=e.haveEditPermission,p=!1;l&&se.f.userDateFormat(new Date(l),{},"lateby","left",!1,function(e){return"lateby"==e.suffix&&(p=!0),null});var f=l?S.a.createElement(se.d,{to:l,today:p?"DD MMM YYYY hh:mm A":"["+se.f.getI18NValue("support.common.due.today")+"] hh:mm A",tomorrow:"["+se.f.getI18NValue("support.common.due.tomorrow")+"] hh:mm A",yesterday:"DD MMM YYYY hh:mm A",others:function(){return"DD MMM YYYY hh:mm A"},ago:"lateby",later:"left"}):S.a.createElement("span",null,se.f.getI18NValue("support.request.detail.no.due.date.set"));return S.a.createElement("div",{className:Ua.a.posRel,"data-id":"dueDateBtnContainer"},S.a.createElement("div",{className:Ua.a.date+" "+(m&&Ua.a.pointer),onClick:m?n:null,ref:t},S.a.createElement("span",{className:Ua.a.dateText},f),m?S.a.createElement(re.TopbandFontIcon,{name:"blockDownArrow",size:"8"}):null,m&&l?S.a.createElement("div",{className:p?Ua.a.overDue:Ua.a.dueLeft},se.f.userDateFormat(l,{},"lateby","left",!1,function(e,t){var a=e.years,n=(e.Months,e.days,e.hours,e.minutes,e.yDays),o=e.suffix;return"left"==o&&n<1&&0==a?Object(F.q)(t):"lateby"==o?Object(F.q)(t):null})):null),S.a.createElement("div",{onClick:r},S.a.createElement(Va.a,{noNeedToCheckRange:!0,value:l,getRef:a,isDateTimeField:s,onSelect:this.handleSelect,timeZone:u,minErrorText:d,onError:this.handleMinError,needCancel:!0,onCancel:this.handleCancel,min:null,isReady:o,isActive:i,position:"topLeft"==c||"topCenter"==c||"topRight"==c?"topCenter":"bottomCenter",portalId:"portal1",subPortalId:"portal2"})))}}]),t}(E.Component);Ha.propTypes={getContainerRef:A.a.func,getTargetRef:A.a.func,haveEditPermission:A.a.bool,isDateTime:A.a.bool,isPopupOpen:A.a.bool,isPopupReady:A.a.bool,min:A.a.number,minErrorText:A.a.string,onSelect:A.a.func,position:A.a.string,removeClose:A.a.func,showMessage:A.a.func,timeZone:A.a.string,togglePopup:A.a.func,value:A.a.string};var Wa=Me()(Ha),Ga=a(1821),Ka=a.n(Ga),Ya=function(e){function t(e){return v()(this,t),y()(this,(t.__proto__||g()(t)).call(this,e))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.isOnHold,a=e.onholdTime,n=e.isClosed,o=e.closedTime,i=e.featureList,r=e.module,s=e.moduleLabel,l=e.onSelect,c=e.dueDate,u=e.timeZone,d=e.haveEditPermission,m=Object(L.getRestriction)(i,r,"dueDate"),p=m.isReadOnly,f=m.readOnlyMessage;return f=se.f.getI18NValue(f,[s]),t?S.a.createElement(La.a,{text:se.f.getI18NValue("support.label.onhold.time")},S.a.createElement("span",{className:Ka.a.dateText},S.a.createElement(se.d,{to:a,format:function(e){e.years,e.Months,e.days,e.hours,e.minutes;return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"})),S.a.createElement("div",{className:Ka.a.onHoldSince},se.f.userDateFormat(a,{},"lateby","left",!1,function(e,t){e.years,e.Months,e.days,e.hours,e.minutes,e.yDays,e.suffix;return Object(F.x)(t)}))):n?S.a.createElement(La.a,{text:se.f.getI18NValue("support.label.closed.time")},S.a.createElement("span",{className:Ka.a.dateText,"data-id":"reqClosedTime"},S.a.createElement(se.d,{to:o,format:function(e){e.years,e.Months,e.days,e.hours,e.minutes;return"DD MMM YYYY hh:mm A"},ago:"ago",later:"late"}))):S.a.createElement(La.a,{text:se.f.getI18NValue("crm.tasks.duedate"),isLocked:p,lockedMsg:f},S.a.createElement(Wa,{isDateTime:!0,onSelect:l,needCancel:!0,value:c,timeZone:u,showMessage:function(e){console.log("hi")},haveEditPermission:!p&&d}))}}]),t}(E.Component),Ja=Ya;Ya.propTypes={closedTime:A.a.string,dueDate:A.a.string,featureList:A.a.array,haveEditPermission:A.a.bool,isClosed:A.a.bool,isOnHold:A.a.bool,module:A.a.string,moduleLabel:A.a.string,onSelect:A.a.func,onholdTime:A.a.string,timeZone:A.a.string};var qa=a(1822),Za=a.n(qa),Qa=function(e){function t(e){return v()(this,t),y()(this,(t.__proto__||g()(t)).call(this,e))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.module,a=e.moduleLabel,n=e.featureList,o=e.clearResponseDueDate,i=e.dueDate,r=Object(L.getRestriction)(n,t,"responseDueDate"),s=(r.isReadOnly,r.readOnlyMessage);s=se.f.getI18NValue(s,[a]);var l=!1;return i&&se.f.userDateFormat(new Date(i),{},"lateby","left",!1,function(e){return"lateby"==e.suffix&&(l=!0),null}),S.a.createElement("div",{className:Za.a.resDue},S.a.createElement(x.Container,{alignBox:"row",isCover:!1,align:"vertical"},S.a.createElement(x.Box,{className:Za.a.resDuelabel},se.f.getI18NValue("support.labal.respose.due")),S.a.createElement(x.Box,{flexible:!0},s?S.a.createElement("span",{className:Za.a.lockIcon,"data-title":s},S.a.createElement(re.CommunityFontIcon,{name:"locked",size:"14",isBold:!0})):S.a.createElement("div",{className:Za.a.clearBtn},S.a.createElement(Qe.a,{text:"clear",palette:"secondaryFilled",size:"small",rounded:!0,onClick:o})))),l?S.a.createElement("div",{className:Za.a.overDue},se.f.userDateFormat(i,{},"lateby","left",!1,function(e,t){e.years,e.Months,e.days,e.hours,e.minutes,e.yDays;return"lateby"==e.suffix?Object(F.q)(t):null})):S.a.createElement("div",{className:Za.a.dateText},S.a.createElement(se.d,{to:i,today:"["+se.f.getI18NValue("support.common.responseDue.today")+"] hh:mm A",tomorrow:"["+se.f.getI18NValue("support.common.responseDue.tomorrow")+"] hh:mm A",others:function(){return"DD MMM YYYY hh:mm A"},ago:"lateby",later:"left"})))}}]),t}(E.Component),$a=Qa;Qa.propTypes={clearResponseDueDate:A.a.func,dueDate:A.a.string,featureList:A.a.array,module:A.a.string,moduleLabel:A.a.string};var Xa=a(1823),en=a.n(Xa),tn=function(e){function t(e){return v()(this,t),y()(this,(t.__proto__||g()(t)).call(this,e))}return T()(t,e),k()(t,[{key:"render",value:function(){var e=this.props,t=e.info,a=void 0===t?{}:t,n=e.labelName,o=a.contractName,i=a.startDate,r=a.endDate;i=se.f.userDateFormat(new Date(i),{},"lateby","left",!1,function(){return"DD/MM/YYYY"});var s=!1;return r=se.f.userDateFormat(new Date(r),{},"lateby","left",!1,function(e){return"lateby"==e.suffix&&(s=!0),"DD/MM/YYYY"}),S.a.createElement("div",{className:en.a.outerDiv},S.a.createElement("div",{className:en.a.contentDiv},S.a.createElement("span",{className:en.a.contentText},o),S.a.createElement("span",{className:en.a.icon},S.a.createElement(re.SetupFontIcon,{name:"contract",size:"24"})),!!s&&S.a.createElement("span",{className:en.a.expireNotfy},se.f.getI18NValue("support.finance.status.expired"))),S.a.createElement("div",{className:en.a.popupDiv},S.a.createElement(Oe.a,{size:"large",boxPosition:"bottomRight",isRadius:!0,isActive:!0},S.a.createElement("div",{className:en.a.contactPopup},S.a.createElement("div",{className:en.a.popupTitle},se.f.getI18NValue("support.label.contract.period",[n])),S.a.createElement("div",{className:en.a.expireDate},S.a.createElement("span",null,i),S.a.createElement("span",{className:en.a.dividerText},se.f.getI18NValue("support.social.escalation.to")),S.a.createElement("span",null,r))))),S.a.createElement("div",{className:en.a.line}))}}]),t}(S.a.Component),an=tn;tn.propTypes={info:A.a.object,labelName:A.a.string};var nn=a(151),on=a.n(nn),rn=a(246),sn=a.n(rn),ln=a(1200),cn=a(131),un=a(1083),dn=a(952),mn=a(951),pn=a.n(mn),fn=a(1824),hn=a.n(fn),gn=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={searchStr:"",contactIds:e.contactIds||[],selectSearchIndex:-1},a.constructContactsList=a.constructContactsList.bind(a),a.onChange=a.onChange.bind(a),a.onFocus=a.onFocus.bind(a),a.onBlur=a.onBlur.bind(a),a.onKeyDown=a.onKeyDown.bind(a),a.addContact=a.addContact.bind(a),a.removeContact=a.removeContact.bind(a),a.searchContact=Object(cn.a)(a.searchContact.bind(a),100,!0),a.handleSearchIndex=a.handleSearchIndex.bind(a),a.constructNewSearchList=a.constructNewSearchList.bind(a),a}return T()(t,e),k()(t,[{key:"componentDidMount",value:function(){this.constructContactsList()}},{key:"componentDidUpdate",value:function(e){e.contactIds!=this.props.contactIds&&this.constructContactsList()}},{key:"constructContactsList",value:function(){var e=this.props,t=e.contactIds,a=void 0===t?[]:t,n=e.contacts;a.length?this.setState({contactsList:Object(F.h)(a,n),contactIds:a}):this.setState({contactsList:[]})}},{key:"onChange",value:function(e){this.setState({searchStr:e}),e.length>1?this.searchContact(e):this.setState({searchList:[]}),""==e&&this.setState({maxLimit:!1})}},{key:"onBlur",value:function(){this.setState({isActive:!1,selectSearchIndex:0}),this.addContact({email:this.state.searchStr,isNewContact:!0})}},{key:"onFocus",value:function(){this.setState({isActive:!0})}},{key:"onKeyDown",value:function(e){var t=e.key,a=e.keyCode;this.setState({isInValid:!1});var n=this.state,o=n.searchStr,i=n.searchList,r=n.selectSearchIndex;188==a&&","==t?this.addContact({email:o,isNewContact:!0}):13==a?i.length?this.addContact(i[r]):this.addContact({email:o,isNewContact:!0}):(38==a||40==a&&i.length)&&this.handleSearchIndex(a)}},{key:"handleSearchIndex",value:function(e){var t=this.state.searchList;40==e?this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex==t.length-1?0:e.selectSearchIndex+1}}):this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex<=0?t.length-1:e.selectSearchIndex-1}})}},{key:"searchContact",value:function(e){var t=this;this.props.searchContact(e).then(function(e){e.data.list.length?t.setState({searchList:e.data.list},function(){t.constructNewSearchList()}):t.setState({searchList:[]})})}},{key:"removeContact",value:function(e){var t=this,a=this.state,n=a.contactsList,o=a.contactIds,i=void 0===o?[]:o;this.setState({contactsList:n.filter(function(t,a){return a!=e}),maxLimit:!1,contactIds:n[e].isNewContact?i:i.filter(function(t){return t!=n[e].id})},function(){t.props.onChange(t.state.contactsList)})}},{key:"addContact",value:function(e){var t=this,a=e.id,n=e.email,o=e.isNewContact;""!=n&&this.checkLimit()&&this.checkDuplicate()&&(Object(un.e)(n)?this.setState(function(t){return{contactsList:[].concat(r()(t.contactsList),[e]),isInValid:!1,selectSearchIndex:-1,contactIds:o?t.contactIds:[].concat(r()(t.contactIds),[a]),searchList:[]}},function(){t.constructNewSearchList(),t.props.onChange(t.state.contactsList),setTimeout(function(){t.setState({searchStr:""})})}):(this.setState({isInValid:!0}),setTimeout(function(){t.setState({isInValid:!1})},2e3)))}},{key:"checkLimit",value:function(){return this.state.contactsList.length<20?(this.setState({maxLimit:!1}),!0):(this.setState({maxLimit:!0}),!1)}},{key:"checkDuplicate",value:function(){var e=this,t=this.state,a=t.contactsList,n=t.searchStr,o=!0;return a.forEach(function(t,a){var i=t.email;Object(un.b)(i)==n&&(e.setState({duplicateIndex:a}),setTimeout(function(){e.setState({duplicateIndex:null})},2e3),o=!1)}),o}},{key:"constructNewSearchList",value:function(){var e=this.state,t=e.searchList,a=void 0===t?[]:t,n=e.contactIds,o=void 0===n?[]:n;if("noData"!=a&&a.length){var i=[];a.forEach(function(e){-1==o.indexOf(e.id)&&i.push(e)}),this.setState({searchList:i})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.orgName,n=t.isReadOnly,o=this.state,i=o.searchStr,r=o.isActive,s=o.searchList,l=void 0===s?[]:s,c=o.contactsList,u=void 0===c?[]:c,d=o.isInValid,m=o.maxLimit,p=o.duplicateIndex,f=o.selectSearchIndex;o.contactIds;return S.a.createElement("div",{className:pn.a.container+" "+hn.a.mainContainer},S.a.createElement(on.a,{text:se.f.getI18NValue("support.setup.generalsettings.cc")}),S.a.createElement("div",{className:pn.a.fieldContainer},S.a.createElement(x.Container,{align:"vertical",alignBox:"row",className:hn.a.container+" "+(r?hn.a.active:""),wrap:!0},u.map(function(t,a){var o=t.lastName,i=t.firstName,r=t.email,s=t.isNewContact?r:Object(F.e)(i,o);return S.a.createElement(x.Box,{className:hn.a.tag,key:a},S.a.createElement(sn.a,{text:s,onRemove:n?null:function(){e.removeContact(a)},palette:"default",onSelectTag:function(){},disabled:!1,className:p==a?hn.a.invalideInput:""}))}),S.a.createElement(x.Box,{flexible:!0,className:hn.a.textBox},S.a.createElement(Pe.a,{placeHolder:se.f.getI18NValue("support.label.ccs.enter"),value:i,needBorder:!1,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,className:d?hn.a.invalideInput:"",isDisabled:n}))),r&&l.length?S.a.createElement(ln.a,{orgName:a,data:l,onSelect:this.addContact,selectSearchIndex:f}):null),m?S.a.createElement(dn.a,{text:se.f.getI18NValue("support.field.ccs.error.maxlimit"),size:"small"}):null)}}]),t}(E.Component),_n=gn;gn.propTypes={contactIds:A.a.array,contacts:A.a.object,isReadOnly:A.a.bool,orgName:A.a.string},gn.defaultProps={isReadOnly:!1};var vn,bn=a(955),kn=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||g()(t)).call(this,e));return a.state={isCrmInfoOpen:!1,isSalesforceInfoOpen:!1,isHappinessOpen:!1,isInvoiceInfoOpen:!1,isFormChanged:!1},a.openCrmInfo=a.openCrmInfo.bind(a),a.closeCrmInfo=a.closeCrmInfo.bind(a),a.openSalesforceInfo=a.openSalesforceInfo.bind(a),a.closeSalesforceInfo=a.closeSalesforceInfo.bind(a),a.closeInvoiceInfo=a.closeInvoiceInfo.bind(a),a.getHappinessCount=a.getHappinessCount.bind(a),a.closeCustomerHappiness=a.closeCustomerHappiness.bind(a),a.setDueDate=a.setDueDate.bind(a),a.pickTicket=a.pickTicket.bind(a),a.changeAssignee=a.changeAssignee.bind(a),a.getTicketStatus=a.getTicketStatus.bind(a),a.changeStatus=a.changeStatus.bind(a),a.changeForumStatus=a.changeForumStatus.bind(a),a.setIsFormChangedStatus=a.setIsFormChangedStatus.bind(a),a.openContactDv=a.openContactDv.bind(a),a.openAccountDv=a.openAccountDv.bind(a),a.clearResponseDueDate=a.clearResponseDueDate.bind(a),a.onSecondaryContactChange=a.onSecondaryContactChange.bind(a),a.openInvoiceInfo=a.openInvoiceInfo.bind(a),a}return T()(t,e),k()(t,[{key:"componentDidMount",value:function(){t.setInstance(this.openInvoiceInfo);var e=this.props,a=e.ticket,n=e.getContract;a.contractId&&n(a.contractId)}},{key:"componentWillUnmount",value:function(){t.setInstance(null)}},{key:"componentDidUpdate",value:function(e,t){e.id!=this.props.id&&this.setState({isCrmInfoOpen:!1,isSalesforceInfoOpen:!1,isHappinessOpen:!1,isInvoiceInfoOpen:!1})}},{key:"openCrmInfo",value:function(){this.setState({isCrmInfoOpen:!0})}},{key:"closeCrmInfo",value:function(){this.setState({isCrmInfoOpen:!1})}},{key:"openSalesforceInfo",value:function(){this.setState({isSalesforceInfoOpen:!0})}},{key:"closeSalesforceInfo",value:function(){this.setState({isSalesforceInfoOpen:!1})}},{key:"getHappinessCount",value:function(){var e=this,t=this.props,a=t.getCustomerHappinessCount,n=t.ticket,o=t.deptId;a(n.contactId,o).then(function(t){var a=t.data;e.setState({isHappinessOpen:!0,currentDepHappiness:a.data[o]})})}},{key:"closeCustomerHappiness",value:function(){this.setState({isHappinessOpen:!1})}},{key:"pickTicket",value:function(){var e=this.props.currentUserId;this.changeAssignee({assigneeId:e})}},{key:"changeAssignee",value:function(e){var t=this.props,a=t.ticket,n=t.updateTicket,o=t.getAppliedBlueprint;n(a.id,e).then(function(){o(a.id)})}},{key:"getTicketStatus",value:function(){var e=this.props,t=e.ticket,a=void 0===t?{}:t,n=e.getTicketStatus;n(a.layoutId)}},{key:"changeStatus",value:function(e){var t=this.props,a=t.zAppHookEvent,n=t.changeStatus;a("ticket.status",{"ticket.oldStatus":t.status,"ticket.newStatus":e},function(){n(e)})}},{key:"changeForumStatus",value:function(e,t){var a=this.props,n=a.ticket,o=void 0===n?{}:n,i=a.changeForumStatus,r=o.id;i(o.channelRelatedInfo.topicId,t.value,r)}},{key:"setDueDate",value:function(e){var t=this.props,a=t.ticket,n=t.updateTicket,o=t.getAppliedBlueprint,i=t.showMessage;n(a.id,{dueDate:e}).then(function(){o(a.id),i({type:"success",message:se.f.getI18NValue("support.duedate.update.success")})})}},{key:"openInvoiceInfo",value:function(e){var t=this,a=this.props.openInvoiceInfo;a(function(){return t.setState({isInvoiceInfoOpen:!0})}.bind(this),e)}},{key:"closeInvoiceInfo",value:function(){this.setState({isInvoiceInfoOpen:!1})}},{key:"setIsFormChangedStatus",value:function(e){this.setState({isFormChanged:e})}},{key:"openContactDv",value:function(e){e.preventDefault();var t=this.props,a=t.openContactDv;a(t.ticket.contactId)}},{key:"openAccountDv",value:function(e){e.preventDefault();var t=this.props,a=t.moduleData,n=t.openAccountDv,o=t.ticket,i=a.contact[o.contactId]||{};n((a.account[i.account]||{}).id)}},{key:"clearResponseDueDate",value:function(){(0,this.props.showConfirmBox)({type:"alert",submitText:se.f.getI18NValue("crm.button.ok"),cancelText:se.f.getI18NValue("support.label.cancel"),title:se.f.getI18NValue("support.history.operation.label.wfalert"),message:se.f.getI18NValue("support.responseDueDate.clear.confirmMsg"),isActive:!0})}},{key:"onSecondaryContactChange",value:function(e){this.setState({secondaryContacts:e,isFormChanged:!0})}},{key:"render",value:function(){var e=this.props,t=e.moduleData,a=e.ticket,n=e.moduleMeta,o=e.deptId,i=e.integrations,r=e.teamsObject,s=e.timeZone,l=(e.currentUserId,e.ticketStatusMapping),c=(e.zAppHookEvent,e.isOpen),u=e.isOnHold,d=e.isClosed,m=e.haveEditPermission,p=e.haveChangeOwnerPermission,f=e.haveUnassignedChangeOwnerPermission,h=e.haveCloseTicketPermission,g=e.isReadOnly,_=e.orgName,v=e.contractInfo,b=e.editTicket,k=e.isSharedTicket,I=e.needForm,y=e.searchContact,C=e.needToShowCcs,T=e.featureList,E=e.module,N=this.state,A=N.isCrmInfoOpen,O=N.isSalesforceInfoOpen,w=N.isHappinessOpen,P=N.currentDepHappiness,D=N.isInvoiceInfoOpen,R=(N.financeContact,N.isFormChanged),M=a.id,B=a.teamId,j=a.assigneeId,V=a.contactId,z=a.layoutId,U=a.status,H=a.onholdTime,W=a.dueDate,G=a.channelRelatedInfo,K=a.closedTime,Y=(a.contractId,a.responseDueDate),J=a.secondaryContacts,q=t.contact[V]||{},Z=q.customerHappiness,Q=q.account,$=q.type,X=q.email,ee=q.firstName,te=q.lastName,ae=q.secondaryEmail,ne=q.phone,oe=q.mobile,ie=(q.isPortalUser,q.isSpam),le=Z&&parseInt(Z.badPercentage),ce=Z&&parseInt(Z.goodPercentage),ue=Z&&parseInt(Z.okPercentage),de=le>ce?le>ue?le+"%":ue+"%":ce>ue?ce+"%":ue+"%",me=t.agent[j],pe=(n.contacts.displayLabel,n.accounts.displayLabel,t.account[Q]),fe=q.isCrmMapped,he=null,ge=null;pe&&(he=pe.accountName,ge=pe.website);var _e=se.f.getI18NValue("support.unassigned"),ve=null;me&&(_e=me.name?me.name:Object(F.e)(me.firstName,me.lastName),ve=me.photoURL);var be=!1;null!=$&&"paid user"==$.toLowerCase()&&(be=!0);var ke=null;B&&(ke=r[B]&&r[B].name);for(var Ie=l[z]?l[z].statusMapping:[],ye=[],Ce=0;Ce<Ie.length;Ce++){var Te=Ie[Ce],Ee=Te.name,Se=Te.statusType;h?d?"On Hold"!=Se&&ye.push({name:Ee,key:Ee}):ye.push({name:Ee,key:Ee}):"Closed"!=Se&&(d?"On Hold"!=Se&&ye.push({name:Ee,key:Ee}):ye.push({name:Ee,key:Ee}))}var Ne=i.isCrmIntegrated,Ae=i.INVOICE,Oe=void 0===Ae?{}:Ae,we=i.BOOKS,Pe=void 0===we?{}:we,De=i.SALESFORCE,xe=void 0===De?{}:De;if(A)return S.a.createElement(ua.D,{contactId:V,closeCrmInfo:this.closeCrmInfo,module:E});if(O)return S.a.createElement(ua.nb,{contactId:V,closeSalesforceInfo:this.closeSalesforceInfo,accountName:he});if(D)return S.a.createElement(ua.W,{closeInvoiceInfo:this.closeInvoiceInfo});if(w)return S.a.createElement(ua.H,{currentDepHappiness:P,customerHappiness:Z,closeCustomerHappiness:this.closeCustomerHappiness});var Le=!1;p?Le=!0:j||B||f&&(Le=!0);var Re=n.tickets.singularLabel,Me=G=G||{},Be=Me.topicType,je=Me.forumStatus;return S.a.createElement(x.Box,{isScrollAttribute:!0,flexible:!0,scroll:"vertical",className:ma.a.properties+" "+(R?ma.a.isSaveVisible:"")},S.a.createElement(x.Container,null,S.a.createElement(x.Box,{className:ma.a.contactInfo},S.a.createElement(ka,{isCrmIntegrated:X&&(Ne||fe)&&!ie,isInvoiceEnabled:"ENABLED"==Oe.status&&X&&!g&&Object(bn.getRestriction)(T,"tickets","invoiceInteg").isShow,isBooksEnabled:"ENABLED"==Pe.status&&X&&!g&&Object(bn.getRestriction)(T,"tickets","booksInteg").isShow,isSalesForceEnbled:"enabled"==xe.status&&!g,accountName:he,contactName:Object(F.e)(ee,te),paidUser:be,email:X,secondaryMail:ae,webSite:ge,phone:ne,mobile:oe,openCrmInfo:this.openCrmInfo,openSalesforceInfo:this.openSalesforceInfo,openInvoiceInfo:this.openInvoiceInfo,customerHappiness:Z,happinessvalue:de,getHappinessCount:this.getHappinessCount,isPortalUser:q.isPortalUser,openContactDv:this.openContactDv,openAccountDv:this.openAccountDv,id:M,dataId:"contact-info",isSpam:ie})),v?S.a.createElement(x.Box,null,S.a.createElement(an,{info:v,labelName:n.contracts.displayLabel})):null,S.a.createElement(x.Box,null,S.a.createElement(L.RestrictionValidator,{module:"tickets",features:T,action:"edit"},S.a.createElement("span",{className:ma.a.editIcon,"data-title":se.f.getI18NValue("support.module.edit",[n.tickets.displayLabel]),onClick:b},S.a.createElement(re.TopbandFontIcon,{name:"pen2",size:"13"}))),S.a.createElement(x.Container,null,S.a.createElement(x.Box,{className:ma.a.details},S.a.createElement(Ta,{module:"tickets",moduleLabel:Re,featureList:T,assigneeId:j,agentName:_e,photoURL:ve,teamId:B,teamName:ke,onChangeAssignee:this.changeAssignee,needToShowShortCut:Le,haveChangeOwnerPermission:p,haveUnassignedChangeOwnerPermission:f,pickTicket:this.pickTicket,AssignPopupContainer:pa.a}),S.a.createElement(xa,{module:"tickets",featureList:T,moduleLabel:Re,haveEditPermission:m,status:U,statusMapping:ye,onStatusPopupOpen:this.getTicketStatus,onChangeStatusMapping:this.changeStatus}),"QUESTION"==Be||"IDEA"==Be||"PROBLEM"==Be?S.a.createElement(ja,{topicType:Be,forumStatus:je,onChangeForumStatus:this.changeForumStatus}):null,S.a.createElement(Ja,{module:"tickets",featureList:T,moduleLabel:Re,isOnHold:u,onholdTime:H,isClosed:d,closedTime:K,onSelect:this.setDueDate,dueDate:W,timeZone:s,haveEditPermission:m}),Y&&c?S.a.createElement($a,{module:"tickets",featureList:T,moduleLabel:Re,clearResponseDueDate:this.clearResponseDueDate,dueDate:Y}):null),I?S.a.createElement(x.Box,{className:ma.a.formDetails},C?S.a.createElement(L.RestrictionValidator,{module:"tickets",features:T,action:"secondaryContact"},S.a.createElement(_n,{contactIds:J,contacts:t.contact,searchContact:y,onChange:this.onSecondaryContactChange,orgName:_})):null,S.a.createElement(L.RestrictionValidator,{module:"tickets",features:T,action:"leftPanelForm"},S.a.createElement(fa.c,{deptId:o,ticketId:M,layoutId:z,isFormChanged:R,setIsFormChangedStatus:this.setIsFormChangedStatus,isSharedTicket:k,secondaryContacts:this.state.secondaryContacts,haveEditPermission:m}))):null))))}}]),t}(E.Component),In=null;kn.setInstance=function(e){In=e},kn.getInstance=function(){return In},kn.propTypes=(vn={changeForumStatus:A.a.func,changeStatus:A.a.func,contractInfo:A.a.object,currentUserId:A.a.string,deptId:A.a.string,editTicket:A.a.func,featureList:A.a.array,fields:A.a.object},f()(vn,"fields",A.a.object),f()(vn,"getAppliedBlueprint",A.a.func),f()(vn,"getContract",A.a.func),f()(vn,"getCustomerHappinessCount",A.a.func),f()(vn,"getTicketStatus",A.a.func),f()(vn,"haveChangeOwnerPermission",A.a.bool),f()(vn,"haveCloseTicketPermission",A.a.bool),f()(vn,"haveEditPermission",A.a.bool),f()(vn,"haveUnassignedChangeOwnerPermission",A.a.bool),f()(vn,"id",A.a.string),f()(vn,"integrations",A.a.object),f()(vn,"isClosed",A.a.bool),f()(vn,"isOnHold",A.a.bool),f()(vn,"isOpen",A.a.bool),f()(vn,"isReadOnly",A.a.string),f()(vn,"isSharedTicket",A.a.bool),f()(vn,"module",A.a.string),f()(vn,"moduleData",A.a.object),f()(vn,"moduleData",A.a.object),f()(vn,"moduleMeta",A.a.object),f()(vn,"needForm",A.a.bool),f()(vn,"needToShowCcs",A.a.bool),f()(vn,"openAccountDv",A.a.func),f()(vn,"openContactDv",A.a.func),f()(vn,"openInvoiceInfo",A.a.func),f()(vn,"orgName",A.a.string),f()(vn,"push",A.a.func),f()(vn,"searchContact",A.a.func),f()(vn,"showConfirmBox",A.a.func),f()(vn,"showMessage",A.a.func),f()(vn,"teamsObject",A.a.object),f()(vn,"ticket",A.a.object),f()(vn,"ticket",A.a.object),f()(vn,"ticketStatusMapping",A.a.object),f()(vn,"timeZone",A.a.string),f()(vn,"updateTicket",A.a.func),f()(vn,"zAppHookEvent",A.a.func),vn);var yn=Object(P.connect)(function(e,t){var a=t.id||e.routing.paramMap.moduleId,n=e.module.ticket[a];return{moduleData:e.module,moduleMeta:e.moduleMeta,ticket:n,fields:e.module.field,deptId:n.departmentId,orgName:Object(gt.O)(e),integrations:e.integrations,teamsObject:e.module.teams,timeZone:e.myInfo.timeZone,currentUserId:e.myInfo.id,ticketStatusMapping:e.ticketStatusMapping,department:e.module.department,contractInfo:n.contractId?e.module.contract[n.contractId]:null}},{getCustomerHappinessCount:B.c,showMessage:K.Q,getTicketStatus:B.e,openLookUp:K.G,updateTicket:B.k,zAppHookEvent:X.m,getAppliedBlueprint:ne.c,push:K.K,getContract:ga.d,searchContact:J.f,showConfirmBox:K.a.showConfirmBox,openContactDv:Y.m,openAccountDv:ha.e,changeForumStatus:H.a,openInvoiceInfo:ee.y})(kn),Cn=a(204),Tn=a(1028),En=a(37),Sn=a(38),Nn=a.n(Sn),An=a(154),On=a.n(An),wn=a(140),Pn=a(1069),Dn=function(e){function t(e){var a;v()(this,t);var n=y()(this,(t.__proto__||g()(t)).call(this,e)),o=n.props,i=o.tabName,r=o.myInfo,s=o.ticketUIState,l=o.isPeekView,c=i||("ENABLED"==r.ticketConversationView?"conversation":"threads"),u=!0;u=!i||"conversation"!=i&&"threads"!=i&&"comments"!=i?!l||"conversation"!=c&&"threads"!=c&&"comments"!=c?"ENABLED"==r.ticketConversationView:"conversation"==c:"conversation"==i;var d=n.getTabsList(u);return n.state={isConvCommentOpen:!1,isEdtiorOpen:!1,isLeftPanelVisible:!1,isFollwersOpen:!1,isTagsOpen:!1,defaultTab:c,leftTab:"properties",menuOpen:!1,tabsList:d,isCollisionRead:!1,isCollisionAnimate:!1,IDLE_TIMEOUT:900,userAction:"view",needToShowSecondPopup:!1,isMarkplacePopupVisible:!1,isFromPeek:s.isPeekView&&!l,conversationViewEnabled:u,ziaInitiated:!1,ziaConversations:[],isReplyAssistantEnabled:!0,isCloserNotificationEnable:!0},n.interval=0,n.idleSecondsCounter=0,n.updateTicket=n.updateTicket.bind(n),n.toggleComment=n.toggleComment.bind(n),n.openEditor=n.openEditor.bind(n),n.setSolutionContentInEditor=n.setSolutionContentInEditor.bind(n),n.closeEdtior=n.closeEdtior.bind(n),n.deleteDraft=n.deleteDraft.bind(n),n.deleteFailedThread=n.deleteFailedThread.bind(n),n.resendFailedThread=n.resendFailedThread.bind(n),n.saveDraft=n.saveDraft.bind(n),n.sendForReview=n.sendForReview.bind(n),n.updateDraft=n.updateDraft.bind(n),n.sendDraft=n.sendDraft.bind(n),n.sendReply=n.sendReply.bind(n),n.isConversationQuerySent=n.isConversationQuerySent.bind(n),n.showLeftPenal=n.showLeftPenal.bind(n),n.hideLeftPenal=n.hideLeftPenal.bind(n),n.toggleFollowers=n.toggleFollowers.bind(n),n.toggleTags=n.toggleTags.bind(n),n.changeDefaultTab=n.changeDefaultTab.bind(n),n.followTicket=n.followTicket.bind(n),n.unFollowTicket=n.unFollowTicket.bind(n),n.spamTicketConfirmation=n.spamTicketConfirmation.bind(n),n.toggleSpam=n.toggleSpam.bind(n),n.closeTicket=n.closeTicket.bind(n),n.reOpenTicket=n.reOpenTicket.bind(n),n.changeStatus=n.changeStatus.bind(n),n.toggleTicketPeek=n.toggleTicketPeek.bind(n),n.showCollisionAnimate=n.showCollisionAnimate.bind(n),n.hideCollisionNotification=n.hideCollisionNotification.bind(n),n.checkUserReplying=n.checkUserReplying.bind(n),n.splitTicket=n.splitTicket.bind(n),n.openDeparmentsList=n.openDeparmentsList.bind(n),n.closeDeparmentsList=n.closeDeparmentsList.bind(n),n.constructMoreObj=n.constructMoreObj.bind(n),n.moveDepartment=n.moveDepartment.bind(n),n.closeTicketDv=n.closeTicketDv.bind(n),n.renderTicket=n.renderTicket.bind(n),n.toggleMarkplacePopup=n.toggleMarkplacePopup.bind(n),n.changeLeftTab=n.changeLeftTab.bind(n),n.routeLeftTab=n.routeLeftTab.bind(n),n.getInstalledExtensions=n.getInstalledExtensions.bind(n),n.onWidgetScroll=n.onWidgetScroll.bind(n),n.getTabsList=n.getTabsList.bind(n),n.clearSelectedWidget=n.clearSelectedWidget.bind(n),n.resetDefaultState=n.resetDefaultState.bind(n),n.updateIdleSecondsCounter=n.updateIdleSecondsCounter.bind(n),n.deleteTicket=n.deleteTicket.bind(n),n.deleteTicketConfirmation=n.deleteTicketConfirmation.bind(n),n.revokeBlueprintConfirmation=n.revokeBlueprintConfirmation.bind(n),n.editTicket=n.editTicket.bind(n),n.constructTicketLeftPanel=n.constructTicketLeftPanel.bind(n),n.constructTicketRightPanel=n.constructTicketRightPanel.bind(n),n.constructTabsList=n.constructTabsList.bind(n),n.openRemoteAssist=n.openRemoteAssist.bind(n),n.setConversationEnable=n.setConversationEnable.bind(n),n.delinkJiraBug=n.delinkJiraBug.bind(n),n.delinkJiraBugConfirmation=n.delinkJiraBugConfirmation.bind(n),n.delinkBug=n.delinkBug.bind(n),n.delinkBugConfirmation=n.delinkBugConfirmation.bind(n),n.openJiraForm=n.openJiraForm.bind(n),n.openJiraFormWithLink=n.openJiraFormWithLink.bind(n),n.closePeek=n.closePeek.bind(n),n.openTicketDvFromTL=n.openTicketDvFromTL.bind(n),n.getLatestIncomingThreadId=n.getLatestIncomingThreadId.bind(n),n.initiateZIABotReply=n.initiateZIABotReply.bind(n),n.getZiaAnswer=n.getZiaAnswer.bind(n),n.handleBotRating=n.handleBotRating.bind(n),n.showZiaFullContent=n.showZiaFullContent.bind(n),n.shareTicket=n.shareTicket.bind(n),n.isSharedTicket=n.isSharedTicket.bind(n),n.toggleCloserNotification=n.toggleCloserNotification.bind(n),n.getTimerComponent=n.getTimerComponent.bind(n),n.createEstimate=n.createEstimate.bind(n),n.createInvoice=n.createInvoice.bind(n),n.closeAlert=n.closeAlert.bind(n),n.openMeeting=n.openMeeting.bind(n),n.onReplyConfirm=n.onReplyConfirm.bind(n),n.openMeetingConfirmation=n.openMeetingConfirmation.bind(n),n.showPopupBlockAlert=n.showPopupBlockAlert.bind(n),n.actions=(a={},f()(a,se.f.getI18NValue("support.not.spam"),n.spamTicketConfirmation),f()(a,se.f.getI18NValue("support.feed.label.follow"),n.followTicket),f()(a,se.f.getI18NValue("support.feed.label.unfollow"),n.unFollowTicket),f()(a,se.f.getI18NValue("support.mark.spam"),n.spamTicketConfirmation),f()(a,se.f.getI18NValue("support.community.forum.simply.move"),n.openDeparmentsList),f()(a,se.f.getI18NValue("support.estimate.label.for.ticket"),n.createEstimate),f()(a,se.f.getI18NValue("support.invoice.label.for.ticket"),n.createInvoice),f()(a,se.f.getI18NValue("support.permission.delete.comment"),n.deleteTicketConfirmation),f()(a,se.f.getI18NValue("support.blueprint.label.revoke"),n.revokeBlueprintConfirmation),f()(a,se.f.getI18NValue("crm.label.edit"),n.editTicket),f()(a,se.f.getI18NValue("suport.integ.jira.add.new.issue"),n.openJiraForm),f()(a,se.f.getI18NValue("support.integ.jira.link.an.issue.tooltip"),n.openJiraFormWithLink),f()(a,se.f.getI18NValue("support.community.singlepost.share"),n.shareTicket),f()(a,se.f.getI18NValue("support.request.detailview.remoteassist"),n.openRemoteAssist),a),n}return T()(t,e),k()(t,[{key:"getTimerComponent",value:function(){var e=this.props.id;return S.a.createElement($.a,{module:"tickets",id:e})}},{key:"shouldComponentUpdate",value:function(e,t){return!!e.isBrowserTabActive}},{key:"componentDidMount",value:function(){var e=this;this._mount=!0,this.renderTicket(),this.props.getIntegrations().then(function(t){var a=e.props,n=a.id,o=a.integrations,i=a.getJiraBugInfo,r=a.getBugInfo,s=a.bugTrackerConfiguration,l=a.getBugTrackerConfiguration;(t&&"enabled"==t.data.data.JIRA.status||"enabled"==o.JIRA.status)&&i(n),(t&&"enabled"==t.data.data.BUG.status||"enabled"==o.BUG.status)&&(s.bugName||l(),r(n))}),window.addEventListener("click",function(){e._mount&&(e.idleSecondsCounter=0,e.updateIdleSecondsCounter(),e.setState({isMarkplacePopupVisible:!1}))}),window.addEventListener("mousemove",function(){e._mount&&(e.idleSecondsCounter=0,e.updateIdleSecondsCounter())}),window.addEventListener("keypress",function(){e._mount&&(e.idleSecondsCounter=0,e.updateIdleSecondsCounter())}),this.updateIdleSecondsCounter(),"sm"!=this.props.screenMode&&"xs"!=this.props.screenMode||this.changeLeftTab(this.state.leftTab)}},{key:"updateIdleSecondsCounter",value:function(){var e=this;0==this.interval&&(this.interval=setInterval(function(){e._mount&&!e.state.isEdtiorOpen&&(e.idleSecondsCounter+=1,t())},1e3));var t=function(){if(e.idleSecondsCounter>e.state.IDLE_TIMEOUT){if(clearInterval(e.interval),e.interval=0,"idle"!=e.state.userAction){var t=e.props,a=t.id,n=t.publishUserAction,o=null;R.a.config.authToken||(o="undefined"!=typeof WebMessanger&&WebMessanger.getRawSid&&WebMessanger.getRawSid()),n(a,"idle",o),e.setState({userAction:"idle"})}}else if("view"!=e.state.userAction){var i=e.props,r=i.id,s=i.publishUserAction,l=null;R.a.config.authToken||(l="undefined"!=typeof WebMessanger&&WebMessanger.getRawSid&&WebMessanger.getRawSid()),s(r,"view",l),e.setState({userAction:"view"})}}}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&this.resetDefaultState(),this.props.isPeekView===e.isPeekView||e.isPeekView||this.setState({isFromPeek:!0})}},{key:"resetDefaultState",value:function(){var e=this,t=this.state,a=t.conversationViewEnabled,n=t.isOpenFromTL,o=a?"conversation":"threads";this.setState({defaultTab:o,leftTab:n?"timeline":"properties",isConvCommentOpen:!1,isEdtiorOpen:!1,isConversationQuerySent:!1,isFollwersOpen:!1,isTagsOpen:!1,menuOpen:!1,isCollisionRead:!1,isCollisionAnimate:!1,needToShowSecondPopup:!1,isCloserNotificationEnable:!0},function(){n&&e.setState({isOpenFromTL:!1})})}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.id!=this.props.id&&this.props.id){if(this.renderTicket(),this.setState({isConvCommentOpen:!1,isEdtiorOpen:!1,isConversationQuerySent:!1,isFollwersOpen:!1,isTagsOpen:!1,menuOpen:!1,isCollisionRead:!1,isCollisionAnimate:!1,needToShowSecondPopup:!1}),this.props.invoiceDetailInfo.isOpen&&this.props.closeInvoiceDetails(),"timeline"!=this.state.leftTab&&this.setState({leftTab:"properties"}),"enabled"==this.props.integrations.JIRA.status){var n=this.props,o=n.id;(0,n.getJiraBugInfo)(o)}if("enabled"==this.props.integrations.BUG.status){var i=this.props,r=i.id;(0,i.getBugInfo)(r)}}if(t.isEdtiorOpen!=this.state.isEdtiorOpen&&!this.state.isEdtiorOpen){var s=this.props,l=s.id,c=s.publishUserAction,u=s.isEditorChanged,d=s.revertIsEditorChanged;u&&d();var m=null;R.a.config.authToken||(m="undefined"!=typeof WebMessanger&&WebMessanger.getRawSid&&WebMessanger.getRawSid()),c(l,"view",m)}var p=this.props,f=p.collidingData,h=p.collisionNotificationList;if(e.collidingData?f&&e.collidingData.activeUsersLen!=f.activeUsersLen&&f.activeUsersLen>0&&this.showCollisionAnimate():f&&f.activeUsersLen>0&&this.showCollisionAnimate(),e.collisionNotificationList.length?h.length&&e.collisionNotificationList.length!=h.length&&this.showCollisionAnimate():h.length&&this.showCollisionAnimate(),e.tabName!=this.props.tabName&&this.setConversationEnable(function(){var e=a.getTabsList(a.state.conversationViewEnabled),t=a.state.conversationViewEnabled?"conversation":"threads";a.setState({defaultTab:a.props.tabName||t,tabsList:e})}),t.defaultTab!=this.state.defaultTab&&this.setConversationEnable(function(){var e=a.getTabsList(a.state.conversationViewEnabled);a.setState({tabsList:e})}),e.ticket&&(e.ticket.commentCount!=this.props.ticket.commentCount||e.ticket.threadCount!=this.props.ticket.threadCount||e.ticket.attachmentCount!=this.props.ticket.attachmentCount||e.ticket.taskCount!=this.props.ticket.taskCount||e.ticket.timeEntryCount!=this.props.ticket.timeEntryCount||e.ticket.approvalCount!=this.props.ticket.approvalCount)){var g=this.getTabsList(this.state.conversationViewEnabled);this.setState({tabsList:g})}}},{key:"setConversationEnable",value:function(e){var t=this.props,a=t.tabName,n=t.myInfo,o=t.isPeekView,i=this.state.defaultTab;if("conversation"==a||"threads"==a||"comments"==a||"conversation"==i||"threads"==i||"comments"==i){var r=!0;o?r="conversation"==i:(r="conversation"==a,a||(r="ENABLED"==n.ticketConversationView)),this.setState({conversationViewEnabled:r},function(){e&&e()})}}},{key:"renderTicket",value:function(){var e=this,t=this.props,a=t.id,n=t.getTicket,o=(t.conversationIds,t.getIntegrations,t.getContact),i=t.getTicketStatus,r=t.markAsRead,s=t.licenseType,l=t.isLightAgent;n(a).then(function(t){var a=e.props.ticket,n=a.id,s=a.contactId,l=a.layoutId,c=a.isRead,u=a.isDeleted,d=a.blueprint,m=a.secondaryContacts,p=void 0===m?[]:m;o(s);var f=e.getTabsList(e.state.conversationViewEnabled);e.setState({tabsList:f}),i(l),c||r(n),u&&e.props.setIsDeleted(),d&&e.props.getAppliedBlueprint(n),p.length?e.props.getContactsByIds(p.toString()).then(function(){e.setState({needToShowCcs:!0})}):e.setState({needToShowCcs:!0})},function(t){var a=JSON.parse(t.response).message;a==U.R?e.props.setisNotAccessible():a==U.X&&e.props.setIsDeleted()}),"NEW_FREE"==s||l||(this.getInstalledExtensions("desk.ticket.detail.lefttab"),this.getInstalledExtensions("desk.ticket.detail.subtab"),this.getInstalledExtensions("desk.ticket.detail.moreaction"),this.getInstalledExtensions("desk.ticket.thread.moreaction")),En.f&&Object(En.f)("ticket_Shift",{ticket_shifted:!0})}},{key:"getTabsList",value:function(e){var t=this.props,a=(t.myInfo,t.moduleMeta),n=t.licenseType,o=t.ticket,i=void 0===o?{}:o,r=e?"conversation":"threads",s=[];return t.featureList.includes("TS_RESTRICTED_ACCESS")?s=[{count:e?parseInt(i.threadCount)+parseInt(i.commentCount):i.threadCount,value:e?se.f.getI18NValue("support.md.label.conversations"):se.f.getI18NValue("tabs.request.threads"),key:r}]:(s=[{count:e?parseInt(i.threadCount)+parseInt(i.commentCount):i.threadCount,value:e?se.f.getI18NValue("support.md.label.conversations"):se.f.getI18NValue("tabs.request.threads"),key:r},{count:"0",value:se.f.getI18NValue("tabs.request.resolution"),key:"resolution"},{count:i.attachmentCount,value:i.attachmentCount>0?se.f.getI18NValue("zohodesk.asap.inapp.web.attachments"):se.f.getI18NValue("support.history.operation.label.attachment"),key:"attachments"},{count:i.taskCount,value:a.activities.displayLabel,key:"activity"},{count:i.approvalCount,value:i.approvalCount>0?se.f.getI18NValue("support.history.filter.approvals"):se.f.getI18NValue("tabs.request.approval"),key:"approval"},{count:"0",value:se.f.getI18NValue("support.setup.label.history"),key:"history"}],"NEW_FREE"!=n&&s.splice(2,0,{count:i.timeEntryCount,value:a.timeEntry.displayLabel,key:"timeentry"})),e||s.splice(1,0,{count:i.commentCount,value:i.commentCount>0?se.f.getI18NValue("tabs.request.comments"):se.f.getI18NValue("tabs.request.comment"),key:"comments"}),s}},{key:"getInstalledExtensions",value:function(e,t){var a=this;if(!ZApp.isDevMode()){var n=this.state[e]?this.state[e].from:1;n=t?n+20:n;var o=this.props,i=o.currentDepId;return(0,o.getInstalledExtensions)(n,20,e,i).then(function(t){if(t){var o=t.data.result.length,i=o%20!=0,r={from:n,noMoreData:i=!o||i},s=a.state[e]||{};s=m()(s,r),a.setState(f()({},e,s))}})}}},{key:"onWidgetScroll",value:function(e,t){var a=this;if(!ZApp.isDevMode()){var n=this.state[t],o=e.target;.9*o.scrollHeight<=o.scrollTop+o.clientHeight&&!n.isFetching&&!n.noMoreData&&(n=m()(n,{isFetching:!0}),this.setState(f()({},t,n)),this.getInstalledExtensions(t,!0).then(function(){n=a.state[t],n=m()(n,{isFetching:!1}),a.setState(f()({},t,n))}))}}},{key:"changeDefaultTab",value:function(e){this.setState({defaultTab:e,isConvCommentOpen:!1}),this.state.isEdtiorOpen&&this.closeEdtior()}},{key:"changeLeftTab",value:function(e){var t=this.props.changeLeftPanelState;this.state.leftTab==e?(this.setState({leftTab:""}),this.tabsCom&&this.tabsCom.onResize(300),t(!1)):(""==this.state.leftTab&&this.tabsCom&&this.tabsCom.onResize(300),this.setState({leftTab:e}),t(!0)),"collision"==e&&this.setState({isCollisionRead:!0,isCollisionAnimate:!1})}},{key:"routeLeftTab",value:function(e){this.setState({leftTab:e})}},{key:"updateTicket",value:function(e){var t=this.props,a=t.id,n=t.updateTicket,o=t.getAppliedBlueprint;n(a,e).then(function(){o(a)})}},{key:"toggleComment",value:function(){var e=this;if("conversation"==this.state.defaultTab){var t=function(){e.setState(function(e){return{isConvCommentOpen:!e.isConvCommentOpen}})};"undefined"==typeof ZohoDeskEditor?Object(Cn.a)(U.j,"js","ZohoDeskEditor").then(t):t()}else this.setState({defaultTab:"comments"})}},{key:"setSolutionContentInEditor",value:function(e,t,a,n,o,i){var r=this,s=this.state,l=s.defaultTab,c=s.conversationViewEnabled;if("conversation"==l||"threads"==l)this.openEditor(e,t,a,n,o,i);else{l=c?"conversation":"threads";var d=this.props,m=d.isPeekView,p=d.orgName,f=d.sanitizedDeptName,h=d.moduleMeta,g=d.id,_=d.push;if(!m)_({pathname:"/"+p+"/"+f+"/"+h.tickets.sanitizedName+"/details/"+g+"/"+l});this.setState({defaultTab:l},function(){var s=r.props,l=s.id,c=s.getLatestThread,d=s.mailConfigurations,m=s.ticket,p=s.getMailConfigurations,f=function(){c(l).then(function(s){var c=s.data.entities.ticket[l].recentThread;a=c||"",t=c?c.content:"",n=c&&"DRAFT"==c.status?"editDraft":"replyall",r.openEditor(e,t,a,n,o,i)})};u()(d).length?f():p(m.departmentId).then(f)})}}},{key:"onReplyConfirm",value:function(){var e=this;this.setState({alertMode:null,noNeedCheckCollision:!0},function(){var t=e.state,a=t.editorId,n=t.replyContent,o=t.replyThread,i=t.replyMode,r=t.solutionContent,s=t.solutionAttachments,l=t.isGenericReply;e.openEditor(a,n,o,i,r,s,l)})}},{key:"checkUserReplying",value:function(e,t,a,n,o,i,r,s){var l=this.props,c=(l.id,l.collidingData),u=l.currentUserId,d=this.state.noNeedCheckCollision;if(c&&c.collidingUsers.length&&!d){for(var m=c.collidingUsers,p=[],f=0;f<m.length;f++){var h=m[f],g=h.userAction,_=h.agentId;"replying"==g&&_!=u&&p.push(m[f])}p.length?this.setState({editorId:e,replyContent:t,replyThread:a,replyMode:n,solutionContent:o,solutionAttachments:i,isGenericReply:r,alertMode:"collisionReply",replyingUsers:p}):s()}else s()}},{key:"openEditor",value:function(e,t,a,n,o,i,r){var s=this;this.checkUserReplying(e,t,a,n,o,i,r,function(){s.setState({noNeedCheckCollision:!1});var c=function(t,a){a=a||(t.summary||""),s.setState({isEdtiorOpen:!0,editorId:e,replyContent:a,replyThread:t,replyMode:n,solutionContent:o,solutionAttachments:i}),"facebook"!=n&&"facebookDm"!=n&&"twitter"!=n&&"twitterDm"!=n&&""!=s.state.leftTab&&s.setState({leftTab:s.state.isReplyAssistantEnabled?"replyAssistant":"suggested"})};if("facebook"==n||"facebookDm"==n||"twitter"==n||"twitterDm"==n)c(a,t);else{var u=s.props,d=u.id,m=u.getThread,p=u.ticket,f=u.mailConfigurations,h=(u.thread,f.havePrivateThreadConfig),g=p.recentThreadId,_=[],v=Object(Cn.a)(U.j,"js","ZohoDeskEditor");_.push(v);var b=l.a.resolve();h||"replyall"!=n&&"reply"!=n||!r?!t&&g&&d!=e&&(b=m(d,e).then(function(n){return a=n.data.entities.thread[e],t=a.content||"",n})):(!a||a&&"public"!=a.visibility)&&(b=s.props.getLatestPublicThread(d).then(function(e){return a=e.data,t=a.content||"",e})),_.push(b),l.a.all(_).then(function(e){c(a,t)})}})}},{key:"closeEdtior",value:function(){this.setState({isEdtiorOpen:!1}),""!=this.state.leftTab&&this.setState({leftTab:"properties"})}},{key:"deleteDraft",value:function(e,t){var a=this,n=this.props,o=n.id,i=n.deleteThread,r=n.conversationIds,s=this.state,l=s.replyThread,c=s.conversationViewEnabled;if(!t)if(c){for(var u=0;u<r.length;u++)if("thread"==r[u].type){t=r[u].id;break}}else t=r[0];t=(e=e||l.actions[0].href)?t:l.id,i(e,o,t).then(function(){a.closeEdtior(),a.props.setRecentThreadData(o)})}},{key:"resendFailedThread",value:function(e,t){var a=this,n=this.props,o=n.id,i=n.resendFailedThread,r=n.showMessage;i(e,t,o).then(function(){r({type:"success",message:se.f.getI18NValue("support.label.alert.ticket.resent.success",[se.f.getI18NValue("crm.label.email")])}),a.props.setRecentThreadData(o)})}},{key:"deleteFailedThread",value:function(e){var t=this,a=this.props,n=a.id,o=a.deleteThread,i=a.conversationIds,r=this.state,s=r.editorId,l=r.replyThread,c=r.conversationViewEnabled;if(!s)if(c){for(var u=0;u<i.length;u++)if("thread"==i[u].type){s=i[u].id;break}}else s=i[0];o(e=e||l.actions[0].href,n,s).then(function(){t.closeEdtior(),t.props.setRecentThreadData(n)})}},{key:"saveDraft",value:function(e,t){var a=this,n=this.props,o=n.id,i=n.saveDraft;i(o,e).then(function(e){var n=e.data;a.setState({editorId:n.data.id,replyThread:n.data}),t&&t(e.data),a.props.setRecentThreadData(o)})}},{key:"sendForReview",value:function(){var e=this,t=this.props,a=t.id,n=t.sendForReview;n(a,this.state.editorId).then(function(){e.closeEdtior(),e.props.setRecentThreadData(a)})}},{key:"updateDraft",value:function(e,t){var a=this,n=this.props,o=n.id,i=n.updateDraft;i(o,this.state.editorId,e).then(function(e){t&&t(e.data),a.props.setRecentThreadData(o)})}},{key:"sendDraft",value:function(e,t,a){var n=this,o=this.state.replyThread,i=this.props.id,r=(o=a||o).actions[1].href;this.props.sendDraft(r,i,o.id,e).then(function(){n.closeEdtior(),t&&t(),n.props.setRecentThreadData(i)})}},{key:"sendReply",value:function(e,t,a,n){var o=this,i=this.props,r=i.id,s=i.sendReply,l=i.ticket,c=i.zAppHookEvent,u=this.state.editorId,d=function(){s(r,e,t).then(function(e){o.closeEdtior(),n&&n(),o.props.setRecentThreadData(r)})};c(a?"ticket.replyAndClose":"ticket.reply",{toAddress:e.to,ticketId:r,ticketSubject:l.subject,threadId:u,fromAdddress:e.fromEmailAddress,ccAddress:e.cc,content:e.content||encodeURIComponent(Object(Tn.a)(u))},d)}},{key:"isConversationQuerySent",value:function(){this.setState({isConversationQuerySent:!0});var e=this.props,t=e.mailConfigurations,a=e.ticket,n=e.getMailConfigurations;u()(t).length||n(a.departmentId)}},{key:"showLeftPenal",value:function(){this.setState({isLeftPanelVisible:!0})}},{key:"hideLeftPenal",value:function(){this.setState({isLeftPanelVisible:!1})}},{key:"toggleFollowers",value:function(){this.setState({isTagsOpen:!1,isFollwersOpen:!this.state.isFollwersOpen})}},{key:"toggleTags",value:function(){this.setState({isFollwersOpen:!1,isTagsOpen:!this.state.isTagsOpen})}},{key:"followTicket",value:function(){var e=this.props,t=e.id,a=e.addFollower,n=e.currentUserId,o=e.showMessage,i=e.moduleMeta;a(i.tickets.apiKey,t,n).then(function(e){o({type:"success",message:se.f.getI18NValue("support.customers.follow",[i.tickets.singularLabel])})})}},{key:"unFollowTicket",value:function(){var e=this.props,t=e.id,a=e.removeFollower,n=e.currentUserId,o=e.showMessage,i=e.moduleMeta;a(i.tickets.apiKey,t,n).then(function(e){o({type:"success",message:se.f.getI18NValue("support.customers.unfollow",[i.tickets.singularLabel])})})}},{key:"spamTicketConfirmation",value:function(){this.setState({alertMode:"spamTicket"})}},{key:"toggleSpam",value:function(e){var t=this.props,a=t.id,n=t.toggleSpam,o=t.getAppliedBlueprint,i=t.showMessage,r=t.moduleMeta,s=t.ticket,l=t.moduleData.contact[s.contactId]||{};n(e,l.id).then(function(){o(a);var t=e.isSpam?se.f.getI18NValue("support.label.alert.ticket.spam.ack",[r.tickets.singularLabel]):se.f.getI18NValue("support.label.alert.ticket.notspam.ack",[r.tickets.singularLabel]);i({type:"success",message:t})})}},{key:"closeTicket",value:function(){var e=this,t=this.props,a=(t.id,t.ticketStatusMapping),n=(t.fields,t.zAppHookEvent),o=t.ticket;n("ticket.close",{},function(){for(var t=null,n=a[o.layoutId].statusMapping,i=0;i<n.length;i++)if("Closed"==n[i].statusType){t=n[i].name;break}e.changeStatus(t)})}},{key:"reOpenTicket",value:function(){var e=this,t=this.props,a=(t.id,t.ticketStatusMapping),n=(t.fields,t.zAppHookEvent),o=t.ticket;n("ticket.reOpen",{},function(){for(var t=null,n=a[o.layoutId].statusMapping,i=0;i<n.length;i++)if("Open"==n[i].statusType){t=n[i].name;break}e.changeStatus(t)})}},{key:"changeStatus",value:function(e){var t=this.props,a=t.id,n=t.updateTicket,o=t.getAppliedBlueprint,i=t.showMessage;n(a,{status:e}).then(function(){o(a),i({type:"success",message:se.f.getI18NValue("support.status.update.success")})})}},{key:"showCollisionAnimate",value:function(){var e=this;"collision"!=this.state.leftTab&&this.setState({isCollisionAnimate:!0,isCollisionRead:!1},function(){setTimeout(function(){e.setState({isCollisionAnimate:!1})},5e3)})}},{key:"hideCollisionNotification",value:function(e){var t=this.props,a=t.id,n=t.hideCollisionNotification;n(a,e)}},{key:"toggleTicketPeek",value:function(){var e=this.props,t=e.id,a=e.openTicketDv,n=e.isPeekView,o=e.push;if(a({isPeekView:!n,isShrink:!1,ticketId:t}),n){var i=this.props,r=i.orgName,s=i.sanitizedDeptName,l=i.moduleMeta,c=i.pathname;o({pathname:"/"+r+"/"+s+"/"+l.tickets.sanitizedName+"/details/"+t,state:{prevUrl:c}})}}},{key:"splitTicket",value:function(e){var t=this.props,a=t.id,n=t.splitTicket,o=t.deleteSplitThread,i=t.moduleMeta,r=t.showMessage,s=t.myInfo,l=t.ticket;n(a,e).then(function(){o(a,e),r({type:"success",message:se.f.getI18NValue("support.request.history.split.to",[i.tickets.singularLabel,Object(F.e)(s.firstName,s.lastName)])+" "+l.ticketNumber})})}},{key:"openDeparmentsList",value:function(){this.setState({needToShowSecondPopup:!0})}},{key:"closeDeparmentsList",value:function(){this.setState({needToShowSecondPopup:!1})}},{key:"closeTicketDv",value:function(){var e=this.props,t=e.orgName,a=e.push,n=e.sanitizedDeptName,o=e.moduleMeta,i=e.lastAccessedViewName,r=e.prevUrl,s=!!r;a({pathname:r||"/"+t+"/"+n+"/"+o.tickets.sanitizedName+"/list/"+i},s)}},{key:"moveDepartment",value:function(e){var t=this,a=this.props,n=a.id,o=a.moveDepartment,i=a.showMessage,r=a.moduleMeta,s=a.ticket;a.departments;o(n,e).then(function(){for(var a=t.props,n=a.departments,o=a.departmentOrder,l=[],c=0;c<o.length;c++)l.push(n[o[c]]);var u=l.filter(function(t){return t.id==e})[0].sanitizedName;i({type:"success",message:se.f.getI18NValue("support.department.changed.message",[r.tickets.singularLabel,s.subject,u])}),t.closeTicketDv()})}},{key:"toggleMarkplacePopup",value:function(){this.setState({isMarkplacePopupVisible:!this.state.isMarkplacePopupVisible})}},{key:"clearSelectedWidget",value:function(e){var t=this.state[e]||{};t=m()(t,{selectedWidgetId:null}),this.setState({location:t})}},{key:"delinkJiraBugConfirmation",value:function(){this.setState({alertMode:"delinkJira"})}},{key:"delinkJiraBug",value:function(){var e=this,t=this.props,a=t.id,n=t.delinkJiraBug,o=t.showMessage;n(a).then(function(){e.setState({leftTab:"properties"}),o({type:"success",message:se.f.getI18NValue("support.integ.jira.bug.msg.delinked")})})}},{key:"delinkBugConfirmation",value:function(){this.setState({alertMode:"delinkBug"})}},{key:"delinkBug",value:function(){var e=this,t=this.props,a=t.id,n=t.delinkBug,o=t.showMessage,i=t.bugTrackerConfiguration.bugName;n(a).then(function(){e.setState({leftTab:"properties"}),o({type:"success",message:se.f.getI18NValue("support.integ.bug.msg.delinked",[i])})})}},{key:"openJiraForm",value:function(e){var t={type:"jira",tab:"form",palette:"default"};e&&(t.threadId=e),this.props.openJiraForm(t)}},{key:"openJiraFormWithLink",value:function(){this.props.openJiraForm({type:"jira",tab:"link",palette:"default"})}},{key:"isSharedTicket",value:function(){var e=this.props,t=e.ticket,a=e.currentDepId,n=t.departmentId,o=t.sharedDepartments;return(void 0===o?[]:o).length&&a!=n&&a!=U.e}},{key:"shareTicket",value:function(){var e=this.props,t=e.id,a=e.ticket,n=e.ticketDepName,o=e.openTicketShareForm,i=a.sharedDepartments,r=void 0===i?[]:i,s=a.departmentId;o({type:"ticketShare",palette:"plain",ticketId:t,sharedDepartments:r,isSharedTicket:this.isSharedTicket(),isNewForm:!r.length,parentDepName:n,parentDepId:s})}},{key:"toggleCloserNotification",value:function(){var e=this.props,t=e.id,a=e.toggleCloserNotification,n=this.state.isCloserNotificationEnable;a(t,n),this.setState({isCloserNotificationEnable:!n})}},{key:"constructMoreObj",value:function(){var e=this.props,t=e.haveEditPermission,a=e.haveDeletePermission,n=e.haveMoveRecordsPermission,o=e.ticket,i=e.moduleData,r=e.integrations,s=e.financePermissions,l=void 0===s?{}:s,c=e.bugTrackerConfiguration,u=e.isLightAgent,d=e.featureList,m=o.bugInfo,p=void 0===m?{}:m,f=o.blueprint,h=o.transitionData,g=o.isSpam,_=f&&""!=h,v=i.contact[o.contactId]||{},b=(r.INVOICE&&"ENABLED"==r.INVOICE.status&&Object(L.getRestriction)(d,"tickets","invoiceInteg").isShow||r.BOOKS&&"ENABLED"==r.BOOKS.status&&Object(L.getRestriction)(d,"tickets","booksInteg").isShow)&&v.email,k=g?[]:[o.isFollowing?{name:se.f.getI18NValue("support.feed.label.unfollow"),iconName:"circleCheck2",size:"size14",shortcutKey:"Shift+W"}:{name:se.f.getI18NValue("support.feed.label.follow"),iconName:"circleCheck2",size:"size14",shortcutKey:"Shift+W"},{name:se.f.getI18NValue("support.finance.clone.entity"),iconName:"ticketCloning",size:"size14"}];if(u||g||k.splice(0,0,{name:se.f.getI18NValue("support.community.singlepost.share"),iconName:"share",size:"size14"}),t){g||k.splice(0,0,{name:se.f.getI18NValue("crm.label.edit"),iconName:"pen2",size:"size14",shortcutKey:"E"});var I=g?{name:se.f.getI18NValue("support.not.spam"),iconName:"spam",size:"size14",shortcutKey:"Shift+S"}:{name:se.f.getI18NValue("support.mark.spam"),iconName:"spam",size:"size14",shortcutKey:"Shift+S"};k.splice(3,0,I)}n&&!g&&k.splice(1,0,{name:se.f.getI18NValue("support.community.forum.simply.move"),iconName:"move",size:"size14",shortcutKey:"Shift+D"}),a&&k.splice(4,0,{name:se.f.getI18NValue("support.permission.delete.comment"),iconName:"delete2",size:"size14"});var y=[];_&&!g&&(y.splice(0,0,{name:se.f.getI18NValue("support.blueprint.label.revoke"),iconName:"blueprint",size:"size14"}),y.splice(1,0,{name:se.f.getI18NValue("support.label.apply.macro"),iconName:"macro2",size:"size14",shortcutKey:"Shift+M"}),y.splice(2,0,{name:se.f.getI18NValue("support.request.detailview.remoteassist"),iconName:"taskDemo",size:"size14"})),k=k.concat(y);var C=[];b&&!g&&(l.createEstimate&&C.splice(0,0,{name:se.f.getI18NValue("support.estimate.label.for.ticket"),iconName:"plus",size:"size13"}),l.createInvoice&&C.splice(l.createEstimate?1:0,0,{name:se.f.getI18NValue("support.invoice.label.for.ticket"),iconName:"plus",size:"size13"})),k=k.concat(C);var T=[];!r.JIRA||"enabled"!=r.JIRA.status||o.jiraBugInfo||u||g||!Object(L.getRestriction)(d,"tickets","jira").isShow||(T=[{name:se.f.getI18NValue("suport.integ.jira.add.new.issue"),iconName:"plus",size:"size13"},{name:se.f.getI18NValue("support.integ.jira.link.an.issue.tooltip"),iconName:"plus",size:"size13"}]),k=k.concat(T);var E=[];return r.BUG&&"enabled"==r.BUG.status&&p.message==U.Q&&!u&&!g&&Object(L.getRestriction)(d,"tickets","bugtracker").isShow&&(E=[{name:se.f.getI18NValue("support.bug.integ.file",[c.bugName]),iconName:"buginfo",size:"size14"}]),k=k.concat(E)}},{key:"closePeek",value:function(){var e=this.props,t=e.prevUrl,a=e.push,n=e.closeTicketPeek;t&&a({pathname:t},!0),n()}},{key:"constructTicketLeftPanel",value:function(){var e=this,t=this.props,a=t.id,n=t.collisionNotificationList,o=t.agents,i=t.ticket,r=t.extensions,s=t.updateTicket,l=t.isPeekView,c=t.haveEditPermission,u=t.haveChangeOwnerPermission,d=t.haveUnassignedChangeOwnerPermission,p=t.haveCloseTicketPermission,f=t.haveMergePermission,h=t.moduleMeta,g=(t.thread,t.collidingData),_=void 0===g?{}:g,v=t.lefttabWidgets,b=t.isLightAgent,k=t.bugTrackerConfiguration,I=t.myInfo,y=t.showAttachmentViewer,C=(t.downloadAttachment,t.getArticle),T=t.featureList,E=t.module,N=this.state,A=N.leftTab,O=N.isCollisionRead,P=N.isCollisionAnimate,D=N.isMarkplacePopupVisible,R=N.isEdtiorOpen,M=N.editorId,B=N.ziaConversations,j=N.ziaInitiated,V=N.isReplyAssistantEnabled,z=N.needToShowCcs,U=i.statusType,H=i.commentCount,W=i.jiraBugInfo,G=i.bugInfo,K=i.contactId,Y=i.recentThreadId,J=i.recentThread,q=_.activeUsersLen,Z=_.noViewers,Q="",$=this.state["desk.ticket.detail.lefttab"]&&this.state["desk.ticket.detail.lefttab"].selectedWidget;if($){var X=r[$.installationId]||{};if(!Object(F.F)(X))Q=X.baseURL+"/"+(Q=(Q=$.logo?$.logo.split("/"):[]).splice(1,Q.length).join("/"))}var ee=!1;v.length>1?ee=!0:1==v.length&&($||(ee=!0));var te="Open"==U,ae="Closed"==U,ne="On Hold"==U,oe=k.bugName,ie=this.isSharedTicket(),le=T.includes("TS_READ_ONLY")||b;return S.a.createElement(x.Container,{alignBox:"column"},n.length&&"collision"!=A?S.a.createElement("div",{className:w.a.notifiCont},n.map(function(t,a){var n=t.actionBy,i=t.message,r=t.showNotification,s=t.notificationId,l=o[n];return r&&l?S.a.createElement("div",{className:w.a.collisionNotification},S.a.createElement(Ge,{notificationId:s,imgSrc:l.photoURL,name:l.name||Object(F.e)(l.firstName,l.lastName),message:i,hideCollisionNotification:e.hideCollisionNotification})):null})):null,S.a.createElement(Ve.TabWrapper,{defaultTab:A,type:"special",onSelect:function(t){e.changeLeftTab(t)}},S.a.createElement(Ve.Tabs,{style:{borderBottom:"1px solid #dadada"},align:"vertical"},S.a.createElement(Ve.Tab,{id:"properties",onClick:function(){}},S.a.createElement("div",null,S.a.createElement(re.TicketsFontIcon,{name:"prop",toolTip:"Tickect Properties",size:"14"}))),V&&Object(L.getRestriction)(T,"tickets","replyAssistant").isShow?S.a.createElement(Ve.Tab,{id:"replyAssistant",onClick:function(){}},S.a.createElement("div",{className:w.a.botIcon},S.a.createElement(re.TicketsFontIcon,{name:"botHead",toolTip:se.f.getI18NValue("support.zia.reply.assistant"),size:"18"}))):null,Object(L.getRestriction)(T,"tickets","suggestedSolution").isShow?S.a.createElement(Ve.Tab,{id:"suggested",onClick:function(){}},S.a.createElement("div",null,S.a.createElement(re.TicketsFontIcon,{name:"solutionNew1",toolTip:"Suggested Articles",size:"15"}))):null,R&&S.a.createElement(Ve.Tab,{id:"comment",onClick:function(){}},S.a.createElement("div",{className:w.a.posrel},S.a.createElement(re.TicketsFontIcon,{name:"comments1",toolTip:se.f.getI18NValue("support.history.filter.comments"),size:"14"}),"0"!=H?S.a.createElement("span",{className:w.a.comentCount},H>0&&H):null)),Object(L.getRestriction)(T,"tickets","timeline").isShow?S.a.createElement(Ve.Tab,{id:"timeline",onClick:function(){}},S.a.createElement(re.TicketsFontIcon,{name:"timeline",toolTip:se.f.getI18NValue("support.label.timeline"),size:"12"})):null,W&&Object(L.getRestriction)(T,"tickets","jira").isShow?S.a.createElement(Ve.Tab,{id:"jira",onClick:function(){}},S.a.createElement("span",{className:"jira"==A?w.a.jiraSeleted:w.a.jiraIcon})):null,G&&(G.key||G.bugkey)&&Object(L.getRestriction)(T,"tickets","bugtracker").isShow?S.a.createElement(Ve.Tab,{id:"bug",onClick:function(){}},S.a.createElement(re.TicketsFontIcon,{name:"buginfo",toolTip:se.f.getI18NValue("support.label.buginformation"),size:"14"})):null,q>0||Z?S.a.createElement(Ve.Tab,{id:"collision",onClick:function(){}},S.a.createElement(ze.a,{isRead:O,count:q,isAnimate:P,noViewers:Z})):null,$?S.a.createElement(Ve.Tab,{id:"widget_"+$.sanitisedName+"_"+$.installationId,onClick:function(){}},S.a.createElement("img",{src:Q,className:w.a.extensionLogo})):null,ee&&Object(L.getRestriction)(T,"tickets","marketPlace").isShow?S.a.createElement("span",{className:w.a.marketPlaceIcon+" "+(D?w.a.selectedIcon:""),onClick:function(t){t.stopPropagation&&t.stopPropagation(),t.nativeEvent&&t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation(),e.toggleMarkplacePopup()}},S.a.createElement(re.CommonFontIcon,{iconClass:w.a.marketplaceIcon,name:"marketplace",size:"14"})):null),S.a.createElement(at,{isPopupVisible:D,onLeftMarketSelect:function(t,a){var n=e.state["desk.ticket.detail.lefttab"]||{};n=m()(n,{selectedWidget:a}),e.setState({"desk.ticket.detail.lefttab":n}),e.toggleMarkplacePopup(),e.changeLeftTab(t)},widgets:v,selectedWidget:$,locationObj:this.state["desk.ticket.detail.lefttab"],getInstalledExtensions:this.getInstalledExtensions}),S.a.createElement(Ve.TabContentWrapper,null,S.a.createElement(Ve.TabContent,{id:"properties"},S.a.createElement(yn,{id:a,updateTicket:s,changeStatus:this.changeStatus,isPeekView:l,isOpen:te,isOnHold:ne,isClosed:ae,haveEditPermission:c,haveChangeOwnerPermission:u,haveUnassignedChangeOwnerPermission:d,haveCloseTicketPermission:p,isReadOnly:le,editTicket:this.editTicket,featureList:T,isSharedTicket:ie,needForm:Object(L.getRestriction)(T,"tickets","leftPanelForm").isShow,needToShowCcs:z,module:E})),S.a.createElement(Ve.TabContent,{id:"suggested"},S.a.createElement(ua.tb,{ticketId:a,setSolutionContentInEditor:this.setSolutionContentInEditor,recentThreadId:Y,recentThread:J,isEdtiorOpen:R,editorId:M,isPeekView:l})),S.a.createElement(Ve.TabContent,{id:"replyAssistant"},S.a.createElement(jt.a,{initiateZIABotReply:this.initiateZIABotReply,conversations:B,ziaInitiated:j,getAnswer:this.getZiaAnswer,name:Object(F.t)(I.firstName,I.lastName),photoURL:I.photoURL,handleBotRating:this.handleBotRating,showFullContent:this.showZiaFullContent,showAttachmentViewer:y,getArticle:C,moduleMeta:h,ticketId:a,openEditor:this.openEditor,recentThreadId:Y,recentThread:J,isEdtiorOpen:R,editorId:M,isPeekView:l})),S.a.createElement(Ve.TabContent,{id:"comment"},S.a.createElement(ua.v,{module:"tickets",module_s:"ticket",moduleId:a,from:"leftPanel",isPeekView:l,havePublicComment:!T.includes("TS_RESTRICTED_ACCESS")})),S.a.createElement(Ve.TabContent,{id:"timeline"},S.a.createElement(ua.Ib,{contactId:K,currentTicketId:a,isPeekView:l,haveMergePermission:f,openTicketDvFromTL:this.openTicketDvFromTL,featureList:T})),S.a.createElement(Ve.TabContent,{id:"jira"},W?S.a.createElement(ua.Y,{ticketId:a,isReadOnly:le,delinkBug:this.delinkJiraBugConfirmation}):null),S.a.createElement(Ve.TabContent,{id:"bug"},G&&(G.key||G.bugkey)?S.a.createElement(ua.r,{ticketId:a,bugName:oe,isReadOnly:le,delinkBug:this.delinkBugConfirmation}):null),S.a.createElement(Ve.TabContent,{id:"collision"},S.a.createElement(ua.t,{data:_,moduleMeta:h,agents:o,collisionNotificationList:n,id:a})),v&&v.map(function(e,t){return S.a.createElement(Ve.TabContent,{key:t,id:"widget_"+e.sanitisedName+"_"+e.installationId},S.a.createElement(ua.P,{placeHolder:"desk.ticket.detail.lefttab",extensionId:e.installationId,widgetName:decodeURIComponent(e.sanitisedName)}))}))))}},{key:"constructTabsList",value:function(){for(var e=this,t=this.props,a=(t.screenMode,t.subtabWidgets),n=(t.isPeekView,t.isThreeLayout,t.id,t.ticket),o=this.state,i=o.tabsList,r=(o.defaultTab,[]),s=function(t){var a=i[t],o="conversation"==a.key?parseInt(n.threadCount):parseInt(n.threadCount)+parseInt(n.commentCount);r.push(S.a.createElement(Ve.Tab,{id:a.key,text:(a.count>0?a.count:"")+" "+a.value,dataId:"task"===a.key?"CaseActivity":"Case"+a.value},"conversation"==a.key||"threads"==a.key?S.a.createElement("span",{onClick:function(e){e.stopPropagation()},className:w.a.threadMenu},S.a.createElement(Fe.a,{objValues:"conversation"==a.key?[{name:(o>0?o:"")+" "+se.f.getI18NValue("tabs.request.threads"),key:"threads"}]:[{name:(o>0?o:"")+" "+se.f.getI18NValue("support.md.label.conversations"),key:"conversation"}],boxPosition:"bottomRight",arrowPosition:"start",IcnName:"blockDownArrow",Icnsize:"8",left:"conversation"==a.key?"-73":"-33",size:"xmini",isIconsInList:!1,onSelect:function(){var t="conversation"==a.key?"threads":"conversation";e.changeDefaultTab(t);var n=e.props,o=n.isPeekView,i=n.orgName,r=n.sanitizedDeptName,s=n.moduleMeta,l=n.id,c=n.push;o||c({pathname:"/"+i+"/"+r+"/"+s.tickets.sanitizedName+"/details/"+l+"/"+t})}})):null))},l=0;l<i.length;l++)s(l);if(a.length)for(var c=0;c<a.length;c++){var u=a[c],d=u.sanitisedName.replace("%20","-")+"_"+u.installationId,m=decodeURIComponent(u.sanitisedName);r.push(S.a.createElement(Ve.Tab,{id:d,text:m}))}return r}},{key:"constructTicketRightPanel",value:function(){var e=this;if(this.props.invoiceDetailInfo.isOpen)return S.a.createElement(ua.T,{info:this.props.invoiceDetailInfo});var t=this.props,a=t.id,n=t.ticket,o=(t.thread,t.isPeekView),i=t.moduleData,r=(t.openRemoteAssist,t.haveEditPermission),s=t.haveMailSendPermission,l=t.haveAddFollowersPermission,c=t.haveCloseTicketPermission,u=t.orgName,d=t.sanitizedDeptName,p=t.leaveConfirmation,f=t.revertIsCommentChanged,h=t.revertIsEditorChanged,g=(t.screenMode,t.subtabWidgets),_=t.openExtensionPopup,v=t.departments,b=t.departmentOrder,k=t.getDepartment,I=t.dvMoreWidgets,y=t.dvThreadWidgets,C=t.moduleMeta,T=t.toggleMarketPlaceRightPanel,E=t.isLightAgent,N=t.isAdminUser,A=t.haveCommentEditPermission,O=t.haveCommentDeletePermission,P=t.currentUserId,D=(t.licenseType,t.integrations),R=void 0===D?{}:D,M=t.bugTrackerConfiguration,B=t.openBugTrackerForm,j=t.needMarketPlace,F=t.currentDepId,V=t.ticketDepName,z=t.openTicketShareForm,H=t.featureList,W=t.isCustomChannel,G=t.channelInfo,K=t.module,Y=t.hasContactEmail,J=this.state,q=(J.tabsList,J.isFollwersOpen),Z=J.isTagsOpen,Q=J.defaultTab,$=J.needToShowSecondPopup,X=J.isConvCommentOpen,ee=J.isEdtiorOpen,te=J.editorId,ae=J.solutionContent,ne=J.solutionAttachments,oe=J.replyContent,ie=J.replyThread,le=J.replyMode,ce=J.isFromPeek,ue=J.isCloserNotificationEnable,de=n.contactId,me=n.isSpam,pe=n.statusType,fe=n.bugInfo,he=void 0===fe?{}:fe,ge=n.blueprint,_e=n.transitionData,ve=n.recentThreadId,be=n.recentThread,ke=n.jiraBugInfo,Ie=n.ticketNumber,ye=n.subject,Ce=n.priority,Te=n.channel,Se=n.createdTime,Ne=n.followerCount,Ae=n.tagCount,Oe=n.channelRelatedInfo,we=n.departmentId,Pe=n.timeEntryCount,De=n.attachmentCount,xe=n.taskCount,Le=n.approvalCount,Re=n.sharedDepartments,Me=void 0===Re?[]:Re,Be=n.threadCount,Fe="Closed"==pe,ze="On Hold"==pe,Ue=(i.contact[de]||{}).email,He=this.constructMoreObj(),We=this.constructTabsList(),Ge=R.JIRA&&"enabled"==R.JIRA.status&&!ke,Ke=R.BUG&&"enabled"==R.BUG.status&&he.message==U.Q&&!E,Ye=M.bugName,Je=this.isSharedTicket(),qe=!!Je&&Object(L.getRestriction)(H,"tickets","forWardOnly").isShow,Ze=H.includes("TS_READ_ONLY")||E;return S.a.createElement(x.Container,{dataId:"Subtab_"+a},S.a.createElement(x.Box,null,S.a.createElement(Ee,{id:Ie,ticketId:a,subject:ye,priority:Ce,channel:Te,createdTime:Se,toggleComment:this.toggleComment,openEditor:this.openEditor,isEdtiorOpen:ee,recentThreadId:ve,recentThread:be,deleteDraft:this.deleteDraft,deleteFailedThread:this.deleteFailedThread,resendFailedThread:this.resendFailedThread,isConversationQuerySent:this.state.isConversationQuerySent,toggleFollowers:this.toggleFollowers,toggleTags:this.toggleTags,isFollwersOpen:q,isTagsOpen:Z,defaultTab:Q,isSpam:me,isClosed:Fe,isOnHold:ze,sendDraft:this.sendDraft,contactEmail:Ue,isPeekView:o,closePeek:this.closePeek,followerCount:Ne,tagCount:Ae,haveMailSendPermission:s,haveAddFollowersPermission:l,channelRelatedInfo:Oe,isLightAgent:E,isFromPeek:ce,toggleTicketPeek:this.toggleTicketPeek,FollowersContainer:ua.R,TagsContainer:ua.vb,sharedDepartments:Me,currentDepId:F,parentDepName:V,parentDepId:we,openTicketShareForm:z,isSharedTicket:Je,viewFollower:Object(L.getRestriction)(H,"tickets","followers_view").isShow&&!E,viewTags:Object(L.getRestriction)(H,"tickets","tags_view").isShow&&!E,viewShared:Object(L.getRestriction)(H,"tickets","shareCount").isShow&&Me.length&&!E,haveForWardPermissionOnly:qe&&s,isReadOnly:Ze,dataId:"caseSubject",getTimerComponent:this.getTimerComponent,featureList:H,isCustomChannel:W,channelInfo:G})),S.a.createElement(x.Box,{flexible:!0,dataId:"autoId_20"},S.a.createElement(Ve.TabWrapper,{defaultTab:Q,type:"alpha",onSelect:function(t){var n=function(){if(e.clearSelectedWidget("desk.ticket.detail.subtab"),e.changeDefaultTab(t),!o){var n="/"+u+"/"+d+"/"+C.tickets.sanitizedName+"/details/"+a+"/"+t;e.props.push({pathname:n})}},i=e.props,r=i.isCommentChanged,s=i.isEditorChanged;if(r||s){var l=se.f.getI18NValue("support.request.save.draft.changes",[se.f.getI18NValue("support.label.sections")]);r&&(l=se.f.getI18NValue("support.request.save.comment.changes",[se.f.getI18NValue("support.label.sections")])),p(l).then(function(){r&&f(),s&&h(),n()},function(){})}else n()},hookToDisableInternalState:!0},S.a.createElement(Ve.Tabs,{style:{borderBottom:"1px solid #dadada"},ref:function(t){return e.tabsCom=t}},We,Object(L.getRestriction)(H,"tickets","moreActions").isShow?S.a.createElement(S.a.Fragment,null,j?S.a.createElement(L.RestrictionValidator,{module:"tickets",features:H,action:"marketPlace"},S.a.createElement("div",{className:w.a.marketplace,onClick:function(){T()}},S.a.createElement(re.CommonFontIcon,{name:"marketplace",size:"15"}))):null,S.a.createElement("div",{className:w.a.dvMore,"data-id":"settingSubDiv_"+a},S.a.createElement(je,{needToShowSecondPopup:$,arrayValues:He,onSelect:function(t){t==se.f.getI18NValue("support.bug.integ.file",[Ye])?B({type:"bugTracker",ticketId:a,bugName:Ye}):e.actions[t](t)},onWidgetSelect:function(e,t){_({type:"extension",placeHolder:"desk.ticket.detail.moreaction",extensionId:t.installationId,widgetName:decodeURIComponent(t.sanitisedName)})},departments:v,departmentOrder:b,getDepartment:k,currentDepId:we,onDeparmentSelect:function(t){e.moveDepartment(t)},closeSecondPopup:this.closeDeparmentsList,widgets:I,onWidgetScroll:function(t){e.onWidgetScroll(t,"desk.ticket.detail.moreaction")}}))):null),S.a.createElement(Ve.TabContentWrapper,null,S.a.createElement(Ve.TabContent,{id:"conversation"},S.a.createElement(ua.C,{id:a,isConvCommentOpen:X,toggleComment:this.toggleComment,isEdtiorOpen:ee,solutionContent:ae,solutionAttachments:ne,closeEdtior:this.closeEdtior,openEditor:this.openEditor,editorId:te,replyContent:oe,replyThread:ie,replyMode:le,deleteDraft:this.deleteDraft,deleteFailedThread:this.deleteFailedThread,resendFailedThread:this.resendFailedThread,updateDraft:this.updateDraft,saveDraft:this.saveDraft,sendForReview:this.sendForReview,sendDraft:this.sendDraft,sendReply:this.sendReply,isConversationQuerySent:this.isConversationQuerySent,contactEmail:Ue,isPeekView:o,splitTicket:this.splitTicket,widgets:y,closeTicket:this.closeTicket,haveEditPermission:r,haveMailSendPermission:s,recentThreadId:ve,recentThread:be,selectedWidgetId:null,isAdminUser:N,haveCommentEditPermission:A,haveCommentDeletePermission:O,currentUserId:P,onWidgetScroll:function(t){e.onWidgetScroll(t,"desk.ticket.thread.moreaction")},onWidgetSelect:function(t,a){var n=e.state["desk.ticket.thread.moreaction"]|{};n=m()(n,{selectedWidgetId:t}),e.setState({"desk.ticket.thread.moreaction":n}),_({type:"extension",placeHolder:"desk.ticket.thread.moreaction",extensionId:a.installationId,widgetName:decodeURIComponent(a.sanitisedName)})},channelRelatedInfo:Oe,haveJiraBugCreatePer:Ge&&!qe&&Object(L.getRestriction)(H,"tickets","jira").isShow,openJiraForm:this.openJiraForm,bugName:Ye,haveBugCreatePer:Ke&&!qe&&Object(L.getRestriction)(H,"tickets","bugtracker").isShow,openBugTrackerForm:B,isStatusLocked:ge&&""!=_e,isSharedTicket:Je,haveForWardPermissionOnly:qe,isReadOnly:Ze,ticketChannel:Te,isSpam:me,isCustomChannel:W,channelInfo:G,threadCount:Be})),S.a.createElement(Ve.TabContent,{id:"threads"},S.a.createElement(ua.yb,{id:a,isEdtiorOpen:ee,solutionContent:ae,solutionAttachments:ne,closeEdtior:this.closeEdtior,openEditor:this.openEditor,editorId:te,replyContent:oe,replyThread:ie,replyMode:le,deleteDraft:this.deleteDraft,deleteFailedThread:this.deleteFailedThread,resendFailedThread:this.resendFailedThread,updateDraft:this.updateDraft,saveDraft:this.saveDraft,sendForReview:this.sendForReview,sendDraft:this.sendDraft,sendReply:this.sendReply,isConversationQuerySent:this.isConversationQuerySent,contactEmail:Ue,isPeekView:o,orgName:u,widgets:y,haveEditPermission:r,haveMailSendPermission:s,recentThreadId:ve,recentThread:be,selectedWidgetId:null,onWidgetScroll:function(t){e.onWidgetScroll(t,"desk.ticket.thread.moreaction")},onWidgetSelect:function(e,t){_({type:"extension",placeHolder:"desk.ticket.thread.moreaction",extensionId:t.installationId,widgetName:decodeURIComponent(t.sanitisedName)})},channelRelatedInfo:Oe,haveJiraBugCreatePer:Ge&&!qe&&Object(L.getRestriction)(H,"tickets","jira").isShow,openJiraForm:this.openJiraForm,bugName:Ye,haveBugCreatePer:Ke&&!qe&&Object(L.getRestriction)(H,"tickets","bugtracker").isShow,openBugTrackerForm:B,isStatusLocked:ge&&""!=_e,isSharedTicket:Je,haveForWardPermissionOnly:qe,isReadOnly:Ze,ticketChannel:Te,isSpam:me,isCustomChannel:W,channelInfo:G,threadCount:Be})),S.a.createElement(Ve.TabContent,{id:"comments"},S.a.createElement(ua.v,{module:"tickets",module_s:"ticket",moduleId:a,isAdminUser:N,haveCommentEditPermission:A,haveCommentDeletePermission:O,currentUserId:P,havePublicComment:!qe,isReadOnly:Ze,showCommentBox:Object(L.getRestriction)(H,"tickets","add_comment").isShow,emptyMessage:se.f.getI18NValue("support.comment.spam.emptymessage",[se.f.getI18NValue(C.tickets.singularLabel.toLowerCase())]),moduleLabel:C.tickets.singularLabel})),S.a.createElement(Ve.TabContent,{id:"resolution"},S.a.createElement(ua.lb,{isPeekView:o,ticketId:a,isReadOnly:Ze,isSpam:me,moduleLabel:C.tickets.singularLabel})),S.a.createElement(Ve.TabContent,{id:"timeentry"},S.a.createElement(ua.Fb,{moduleId:a,count:Pe,module:K,module_s:U.L.TICKET_L,haveEditPermission:r,enableAddTimeEntry:!0,enableTimeEntryFilter:!0,sharedDepartments:Me,isReadOnly:Ze,featureList:H,hasContactEmail:Y})),S.a.createElement(Ve.TabContent,{id:"attachments"},S.a.createElement(ua.m,{module:"tickets",module_s:"ticket",moduleId:a,count:De,isPeekView:o,haveEditPermission:r,hasPrivacyMode:!0,isReadOnly:Ze,isSpam:me,moduleLabel:C.tickets.singularLabel})),S.a.createElement(Ve.TabContent,{id:"activity"},S.a.createElement(ua.i,{id:a,module:"ticket",count:xe,isPeekView:o,isReadOnly:Ze})),S.a.createElement(Ve.TabContent,{id:"approval"},S.a.createElement(ua.l,{ticketId:a,departmentId:we,count:Le,isPeekView:o,haveEditPermission:r,sharedDepartments:Me,isReadOnly:Ze,isSpam:me,haveChangePermission:Object(L.getRestriction)(H,"tickets","edit_approval").isShow,moduleLabel:C.tickets.singularLabel})),S.a.createElement(Ve.TabContent,{id:"history"},S.a.createElement(ua.S,{id:a,module:"tickets",module_s:"ticket"})),g&&g.map(function(e,t){var a=e.sanitisedName.replace("%20","-");return S.a.createElement(Ve.TabContent,{key:t,id:a+"_"+e.installationId},S.a.createElement(ua.P,{placeHolder:"desk.ticket.detail.subtab",extensionId:e.installationId,widgetName:decodeURIComponent(e.sanitisedName)}))})))),"conversation"!=Q&&"threads"!=Q&&"comments"!=Q&&"resolution"!=Q||ee||!Object(L.getRestriction)(H,"tickets","footer").isShow?null:S.a.createElement(x.Box,null,S.a.createElement(Bt,{closeTicket:this.closeTicket,reOpenTicket:this.reOpenTicket,isClosed:Fe,isOnHold:ze,isSpam:me,moduleName:C.tickets.singularLabel,notSpam:this.spamTicketConfirmation,isPeekView:o,openRemoteAssist:this.openRemoteAssist,haveEditPermission:r,haveCloseTicketPermission:c,ticketId:a,blueprint:ge,transitionData:_e,toggleCloserNotification:this.toggleCloserNotification,isCloserNotificationEnable:ue})))}},{key:"openRemoteAssist",value:function(){var e=this.props,t=e.integrations,a=e.openRemoteAssist;e.moduleData,e.ticket;"enabled"==t.ASSIST.status?a():this.openMeetingConfirmation()}},{key:"openMeetingConfirmation",value:function(){this.setState({alertMode:"openMeeting"})}},{key:"openMeeting",value:function(){var e=this.props,t=e.ticket,a=e.moduleData,n=t.ticketNumber,o=t.contactId,i=a.contact[o]||{},r=i.email||i.secondaryEmail||"",s="https://assist.zoho.com/assist-start?viewer=html&first_time_confirmation=true&src=ZohoDesk";s+="&info="+n+"&customer="+encodeURIComponent(r);var l=window.open(s);l&&!l.closed&&void 0!==l.closed||this.showPopupBlockAlert(),this.closeAlert()}},{key:"showPopupBlockAlert",value:function(){this.setState({alertMode:"popupBlock"})}},{key:"createInvoice",value:function(){yn.getInstance()("invoice")}},{key:"createEstimate",value:function(){yn.getInstance()("estimate")}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"deleteTicketConfirmation",value:function(){this.setState({alertMode:"deleteTicket"})}},{key:"deleteTicket",value:function(){var e=this,t=this.props,a=t.id;(0,t.moveTicketsToTrash)([a]).then(function(){e.closeTicketDv()}),this.closeAlert()}},{key:"revokeBlueprintConfirmation",value:function(){this.setState({alertMode:"revokeBlueprint"})}},{key:"editTicket",value:function(){var e=this.props,t=e.push,a=e.orgName,n=e.sanitizedDeptName,o=e.moduleMeta,i=e.id;t({pathname:"/"+a+"/"+n+"/"+o.tickets.sanitizedName+"/edit/"+i})}},{key:"openTicketDvFromTL",value:function(){this.setState({isOpenFromTL:!0})}},{key:"getLatestIncomingThreadId",value:function(){var e=this.props,t=e.conversationIds,a=e.threads,n=null;if(t&&t.length)for(var o=0;o<t.length;o++)if(t[o].id){var i=t[o],r=i.id;if("thread"==i.type&&"in"==a[r].direction){n=r;break}}else if("in"==a[t[o]].direction){n=t[o];break}return n}},{key:"initiateZIABotReply",value:function(){var e=this;this.setState({ziaInitiated:!0});var t=this.props,a=t.id,n=t.ticket,o=t.getBestAnswer,i=t.myInfo,s=this.getLatestIncomingThreadId();return s?o(a,s,n.departmentId).then(function(t){if(204==t.data.responseStatus)e.setZiaWelcomeMessage();else{var a=[{answer:{message:"Hi "+Object(F.t)(i.firstName,i.lastName)},type:"answer"}];"articles"!==t.data.replyStatus&&a.push({answer:{message:"Here's an answer ready for you."},needBotIcn:!1,type:"answer"}),a.push(t.data),e.setState(function(e){return{ziaConversations:[].concat(r()(e.ziaConversations),a)}})}},function(){e.setZiaWelcomeMessage()}):new l.a(function(t,a){e.setZiaWelcomeMessage(),t(!0)})}},{key:"getZiaAnswer",value:function(e){var t=this;this.setState(function(t){return{ziaConversations:[].concat(r()(t.ziaConversations),[{question:e,type:"question"}])}});var a=this.props,n=a.id,o=a.ticket;return(0,a.getAnswer)(n,o.departmentId,e).then(function(e){t.setState(function(t){return{ziaConversations:[].concat(r()(t.ziaConversations),[e.data])}})},function(){t.setState(function(e){return{ziaConversations:[].concat(r()(e.ziaConversations),[{answer:{message:"Oops!! Sorry, I don't get you."},type:"answer"}])}})})}},{key:"handleBotRating",value:function(e,t){var a=this;this.setState(function(e){return{ziaConversations:[].concat(r()(e.ziaConversations),[{answer:{message:t?"Thanks for your rating.":"Sorry, I wasn't much helpful. Would you like to create an Article?"},isNotHelpFul:!t,type:"answer"}])}},function(){a.setState({ziaConversations:[].concat(r()(a.state.ziaConversations.slice(0,e)),[m()({},a.state.ziaConversations[e],{isRated:!0})],r()(a.state.ziaConversations.slice(e+1)))})})}},{key:"showZiaFullContent",value:function(e){this.setState({ziaConversations:[].concat(r()(this.state.ziaConversations.slice(0,e)),[m()({},this.state.ziaConversations[e],{isExpaned:!0})],r()(this.state.ziaConversations.slice(e+1)))})}},{key:"setZiaWelcomeMessage",value:function(){var e=this.props.myInfo;this.setState(function(t){return{ziaConversations:[].concat(r()(t.ziaConversations),[{answer:{message:"Hi "+Object(F.t)(e.firstName,e.lastName)},type:"answer"},{answer:{message:"I'm your Reply Assistant. How can I help you?"},needBotIcn:!1,type:"answer"}])}})}},{key:"render",value:function(){if(this.props.ticket){var e=this.props,t=e.id,a=e.isLeftPanelOpen,n=e.screenMode,i=e.financePermissions,r=void 0===i?{}:i,s=e.moduleMeta,l=e.moduleData,c=e.ticket,u=void 0===c?{}:c,d=e.revokeBlueprint,m=e.bugTrackerConfiguration,p=void 0===m?{}:m,f=e.agents,h=(u.isSpam,u.contactId),g=this.state,_=g.alertMode,v=g.replyingUsers,b={create_invoice:r.createInvoice,email_invoice:r.emailInvoice,view_invoice:r.viewInvoice,create_estimate:r.createEstimate,email_estimate:r.emailEstimate,view_estimate:r.viewEstimate,create_contact:r.createContact};return S.a.createElement(S.a.Fragment,null,S.a.createElement(ot.a,{isLeftPanelOpen:a,constructLeftPanel:this.constructTicketLeftPanel,screenMode:n,changeLeftTab:this.changeLeftTab,leftTab:this.state.leftTab,constructRightPanel:this.constructTicketRightPanel}),S.a.createElement("input",{type:"hidden",id:"invoiceBooksPermissions",value:o()(b)}),"deleteTicket"==_?S.a.createElement(zt,{moduleMeta:s,isSpam:u.isSpam,deleteTicket:this.deleteTicket,closeAlert:this.closeAlert}):"spamTicket"==_?S.a.createElement(Yt,{ids:[t],moduleMeta:s,isSpam:u.isSpam,closeAlert:this.closeAlert,toggleSpam:this.toggleSpam}):"openMeeting"==_?S.a.createElement(qt,{moduleData:l,contactId:h,openMeeting:this.openMeeting,closeAlert:this.closeAlert}):"popupBlock"==_?S.a.createElement(Qt,{closeAlert:this.closeAlert}):"revokeBlueprint"==_?S.a.createElement(Xt,{id:t,moduleMeta:s,revokeBlueprint:d,closeAlert:this.closeAlert}):"delinkJira"==_?S.a.createElement(ta,{delinkJiraBug:this.delinkJiraBug,closeAlert:this.closeAlert}):"delinkBug"==_?S.a.createElement(na,{bugName:p.bugName,delinkBug:this.delinkBug,closeAlert:this.closeAlert}):"collisionReply"==_?S.a.createElement(oa.a,{agents:f,replyingUsers:v,replyConfirm:this.onReplyConfirm,closeAlert:this.closeAlert}):null)}return S.a.createElement(it.a,{isThreeLayoutEnabled:this.props.isThreeLayout})}}]),t}(E.Component);Dn.propTypes={addFollower:A.a.func,agents:A.a.object,bugTrackerConfiguration:A.a.object,changeLeftPanelState:A.a.func,channelInfo:A.a.object,closeInvoiceDetails:A.a.func,closeSnippet:A.a.func,closeTicketPeek:A.a.func,collidingData:A.a.object,collisionNotificationList:A.a.object,conversationIds:A.a.array,currentDepId:A.a.string,currentUserId:A.a.string,dataId:A.a.string,deleteSplitThread:A.a.func,deleteThread:A.a.func,delinkBug:A.a.func,delinkJiraBug:A.a.func,departmentOrder:A.a.array,departments:A.a.object,deptName:A.a.string,downloadAttachment:A.a.func,dvMoreWidgets:A.a.array,dvThreadWidgets:A.a.array,extensions:A.a.object,featureList:A.a.array,fields:A.a.object,financePermissions:A.a.object,getAnswer:A.a.func,getAppliedBlueprint:A.a.func,getArticle:A.a.func,getBestAnswer:A.a.func,getBugInfo:A.a.func,getBugTrackerConfiguration:A.a.func,getContact:A.a.func,getContactsByIds:A.a.func,getDepartment:A.a.func,getInstalledExtensions:A.a.func,getIntegrations:A.a.func,getJiraBugInfo:A.a.func,getLatestPublicThread:A.a.func,getLatestThread:A.a.func,getMailConfigurations:A.a.func,getThread:A.a.func,getTicket:A.a.func,getTicketStatus:A.a.func,hasContactEmail:A.a.bool,haveAddFollowersPermission:A.a.bool,haveChangeOwnerPermission:A.a.bool,haveCloseTicketPermission:A.a.bool,haveCommentDeletePermission:A.a.bool,haveCommentEditPermission:A.a.bool,haveDeletePermission:A.a.bool,haveEditPermission:A.a.bool,haveMailSendPermission:A.a.bool,haveMergePermission:A.a.bool,haveMoveRecordsPermission:A.a.bool,haveUnassignedChangeOwnerPermission:A.a.bool,hideCollisionNotification:A.a.func,id:A.a.string,integrations:A.a.object,invoiceDetailInfo:A.a.object,isAdminUser:A.a.bool,isCommentChanged:A.a.bool,isCustomChannel:A.a.bool,isEditorChanged:A.a.bool,isLeftPanelOpen:A.a.bool,isLightAgent:A.a.bool,isPeekView:A.a.bool,isThreeLayout:A.a.bool,lastAccessedViewName:A.a.string,leaveConfirmation:A.a.func,lefttabWidgets:A.a.array,licenseType:A.a.string,mailConfigurations:A.a.object,markAsRead:A.a.func,module:A.a.string,moduleData:A.a.object,moduleMeta:A.a.object,moveDepartment:A.a.func,moveTicketsToTrash:A.a.func,myInfo:A.a.object,needMarketPlace:A.a.bool,openBugTrackerForm:A.a.func,openExtensionPopup:A.a.func,openJiraForm:A.a.func,openRemoteAssist:A.a.func,openTicketDv:A.a.func,openTicketShareForm:A.a.func,orgId:A.a.oneOfType([A.a.number,A.a.string]),orgName:A.a.string,pathname:A.a.string,prevUrl:A.a.string,publishUserAction:A.a.func,push:A.a.func,removeFollower:A.a.func,resendFailedThread:A.a.func,revertIsCommentChanged:A.a.func,revertIsEditorChanged:A.a.func,revokeBlueprint:A.a.func,sanitizedDeptName:A.a.string,saveDraft:A.a.func,screenMode:A.a.string,sendDraft:A.a.func,sendForReview:A.a.func,sendReply:A.a.func,setIsDeleted:A.a.func,setRecentThreadData:A.a.func,setisNotAccessible:A.a.func,showAttachmentViewer:A.a.func,showConfirmBox:A.a.func,showMessage:A.a.func,snippetData:A.a.object,splitTicket:A.a.func,subtabWidgets:A.a.array,tabName:A.a.string,thread:A.a.object,threads:A.a.object,ticket:A.a.object,ticketDepName:A.a.string,ticketStatusMapping:A.a.object,ticketUIState:A.a.object,toggleCloserNotification:A.a.func,toggleMarketPlaceRightPanel:A.a.func,toggleSpam:A.a.func,updateDraft:A.a.func,updateTicket:A.a.func,viewId:A.a.string,zAppHookEvent:A.a.func};var xn;t.default=Object(D.d)(Object(P.connect)(function(){var e=Object(gt.nb)(),t=Object(gt.nb)(),a=Object(gt.nb)(),n=Object(gt.nb)();return function(o,i){var r=i.id,s=i.isPeekView,l=o.ticketUIState,c=o.routing,u=o.customChannelsInfo,d=c.paramMap.tabName;d=s?null:d;var p=[],f=o.myInfo;o.module.ticket[r]&&(p=(!d||"conversation"!=d&&"threads"!=d&&"comments"!=d?"ENABLE"==f.ticketConversationView:"conversation"==d)?o.module.ticket[r].conversationIds:o.module.ticket[r].thread);var h=Object(gt.ib)(o),g=Object(gt.r)(o),_=Object(F.c)(f.profileId,o.module.profile),v=Object(F.b)(f.profileId,o.module.profile),b=o.module.ticket[r],k=b?o.departmentSpecificState[b.departmentId]:null,I=void 0,y=void 0,C={};if(b){var T=b.source,E=void 0===T?{}:T,S=b.channel,N=void 0===S?"":S;I="INTEGRATION"==E.type;var A=u[N.toUpperCase()];y=m()(E,A),C=o.module.contact[b.contactId]}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=[],n=e.isSpam,o=e.departmentId,i=e.sharedDepartments,r=void 0===i?[]:i,s=e.blueprint,l=e.transitionData;n&&a.push("isSpam");var c=r.length&&t!=o&&t!=U.e;if(c){var u=null;r.forEach(function(e){var a=e.id,n=e.type;a==t&&(u=n)}),a.push("TS_"+u)}return s&&""!=l&&a.push("bluePrint"),a}(b,g);return C.isSpam&&O.push("spamContact"),C.isAnonymous&&O.push("anonymousContact"),{ticket:b,hasContactEmail:!!C.email,featureList:O,moduleMeta:o.moduleMeta,orgId:o.currentOrgId,currentDepId:g,conversationIds:p,ticketDepName:b&&b.departmentId?o.module.department[b.departmentId].name:"",thread:o.module.thread,currentUserId:f.id,screenMode:o.screenMode,myInfo:f,moduleData:o.module,ticketStatusMapping:o.ticketStatusMapping,fields:o.module.field,collidingData:o.collidingData[r],collisionNotificationList:o.collisionNotificationList[r]||[],agents:o.module.agent,orgName:c.paramMap.orgName,deptName:c.paramMap.deptName,snippetData:o.snippetData,isBrowserTabActive:o.isBrowserTabActive,ticketUIState:l,sanitizedDeptName:c.paramMap.deptName,viewId:h,lastAccessedViewName:Object(gt.eb)(o),departments:o.module.department,departmentOrder:o.departmentOrder,licenseType:o.license.licenseType,isCommentChanged:l.isCommentChanged,isEditorChanged:l.isEditorChanged,invoiceDetailInfo:o.invoiceDetailInfo,financePermissions:Object(Pn.b)(o),isLightAgent:_,isAdminUser:v,threads:o.module.thread,pathname:c.location.pathname,prevUrl:c.location.state&&c.location.state.prevUrl,mailConfigurations:k?k.mailConfigurations:{},isCustomChannel:I,channelInfo:y,subtabWidgets:e(o,{deptId:g,location:"desk.ticket.detail.subtab"}),lefttabWidgets:t(o,{deptId:g,location:"desk.ticket.detail.lefttab"}),dvMoreWidgets:a(o,{deptId:g,location:"desk.ticket.detail.moreaction"}),dvThreadWidgets:n(o,{deptId:g,location:"desk.ticket.thread.moreaction"}),extensions:o.module.installedextensions,tabName:d,integrations:o.integrations,bugTrackerConfiguration:o.bugTrackerConfiguration,haveEditPermission:Object(gt.Ib)(o,{module:"tickets",mode:"edit"}),haveDeletePermission:Object(gt.Ib)(o,{module:"tickets",mode:"delete"}),haveMergePermission:Object(gt.Ib)(o,{module:"tickets",mode:"mergeTickets"}),haveMailSendPermission:Object(gt.Ib)(o,{module:"tickets",mode:"mailSend"}),haveChangeOwnerPermission:Object(gt.Ib)(o,{module:"tickets",mode:"changeOwner"}),haveUnassignedChangeOwnerPermission:Object(gt.Ib)(o,{module:"tickets",mode:"unassignedChangeOwner"}),haveCloseTicketPermission:Object(gt.Ib)(o,{module:"tickets",mode:"closeTicket"}),haveAddFollowersPermission:Object(gt.Ib)(o,{module:"tickets",mode:"addFollowers"}),haveMoveRecordsPermission:Object(gt.Ib)(o,{module:"setup",mode:"moveRecords"}),haveCommentEditPermission:Object(gt.Ib)(o,{module:"comments",mode:"edit"}),haveCommentDeletePermission:Object(gt.Ib)(o,{module:"comments",mode:"delete"})}}},{push:K.K,getTicket:W.a,updateTicket:B.k,toggleCloserNotification:M.h,deleteThread:J.a,setRecentThreadData:J.j,resendFailedThread:J.d,sendDraft:J.g,getThread:H.j,getLatestPublicThread:H.g,getLatestThread:H.h,saveDraft:J.e,sendForReview:J.h,updateDraft:J.k,sendReply:J.i,getIntegrations:H.f,getJiraBugInfo:te.d,getBugInfo:ae.e,getBugTrackerConfiguration:ae.f,getContact:Y.g,getContactsByIds:Y.h,addFollower:Z.a,removeFollower:Z.c,showMessage:K.Q,toggleSpam:B.j,showConfirmBox:K.a.showConfirmBox,publishUserAction:Q.h,hideCollisionNotification:q.e,closeSnippet:ia.a,closeTicketPeek:B.a,openRemoteAssist:G.e,splitTicket:H.u,moveDepartment:H.n,getDepartment:K.m,deleteSplitThread:q.d,getInstalledExtensions:X.h,openExtensionPopup:X.j,zAppHookEvent:X.m,getTicketStatus:B.e,markAsRead:M.f,revertIsCommentChanged:H.q,leaveConfirmation:K.A,revertIsEditorChanged:H.r,moveTicketsToTrash:H.o,openTicketDv:B.i,delinkJiraBug:te.c,delinkBug:ae.c,openJiraForm:te.h,openBugTrackerForm:ae.h,getAppliedBlueprint:ne.c,revokeBlueprint:ne.h,getBestAnswer:ra.b,getAnswer:ra.a,showAttachmentViewer:sa.i,downloadAttachment:sa.e,getArticle:la.a,openTicketShareForm:ca.c,closeInvoiceDetails:ee.d,getMailConfigurations:J.c}),Object(L.licensePermissionCheckHOC)({component:{license:"*",permission:"tickets_view"},props:{},Fallback:nt.a}),(xn={routeLeftTab:"routeLeftTab"},function(e){var t=function(t){function a(e){v()(this,a);var t=y()(this,(a.__proto__||g()(a)).call(this,e));return t.containerRef=t.containerRef.bind(t),t}return T()(a,t),k()(a,[{key:"containerRef",value:function(e){this.container=e}},{key:"getInstance",value:function(){return this.container}},{key:"componentDidMount",value:function(){var e=this;u()(xn).forEach(function(t){return wn.b[t].addEventListener(t,e.container[t])})}},{key:"render",value:function(){return S.a.createElement(e,Nn()({},this.props,{ref:this.containerRef}))}},{key:"componentWillUnmount",value:function(){var e=this;u()(xn).forEach(function(t){return wn.b[t].removeEventListener(t,e.container[t])})}}]),a}(E.Component);return On()(t,e)}))(Dn)},946:function(e,t,a){e.exports={agentCont:"agentPopup-module__agentCont",assignLayout:"agentPopup-module__assignLayout",teamAgentLayout:"agentPopup-module__teamAgentLayout",mactionTxt:"agentPopup-module__mactionTxt",statusItem:"agentPopup-module__statusItem",pointer:"agentPopup-module__pointer",agentSearch:"agentPopup-module__agentSearch",unAssign:"agentPopup-module__unAssign",unAsgnTxt:"agentPopup-module__unAsgnTxt",unAssignIcn:"agentPopup-module__unAssignIcn",popupCont:"agentPopup-module__popupCont",followerCont:"agentPopup-module__followerCont common-module__dflex common-module__flexrow common-module__alignVertical",dropIcon:"agentPopup-module__dropIcon",followText:"agentPopup-module__followText common-module__offSelection",focused:"agentPopup-module__focused",ownerIcon:"agentPopup-module__ownerIcon",mactionCheck:"agentPopup-module__mactionCheck",notAllow:"agentPopup-module__notAllow",agent:"agentPopup-module__agent",bluePrintLayar:"agentPopup-module__bluePrintLayar",none:"agentPopup-module__none",massAct:"agentPopup-module__massAct",empty:"agentPopup-module__empty",agentTxt:"agentPopup-module__agentTxt",agentTxtActive:"agentPopup-module__agentTxtActive"}},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a(0)),i=l(a(1)),r=l(a(953)),s=l(a(151));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,i=e.disabled,l=e.palette,c=e.text,u=e.labelPalette,d=e.active,m=e.labelSize,p=e.getRef,f=e.dataId,h=d?r.default[l+"_active"]:"",g=i?r.default.disabled:r.default.pointer;return o.default.createElement("span",{className:r.default.container+" "+g+" "+(c?r.default.layout:r.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:r.default.input+" "+(n?r.default.checked:""),name:a,checked:n,disabled:i,ref:p}),o.default.createElement("label",{className:r.default["label_"+l]+" "+h+" "+(c?r.default.layoutshrink:""),onClick:this.onChange,"data-id":f},o.default.createElement("span",null)),c&&o.default.createElement("span",{className:r.default.text},o.default.createElement(s.default,{text:c,palette:u,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:i.default.bool,checked:i.default.bool,dataId:i.default.string,disabled:i.default.bool,getRef:i.default.func,id:i.default.string.isRequired,labelPalette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:i.default.oneOf(["small","medium","large"]),name:i.default.string,onChange:i.default.func,palette:i.default.oneOf(["primary","danger"]),text:i.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},948:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(961);Object.defineProperty(t,"licensePermissionCheckHOC",{enumerable:!0,get:function(){return n.licensePermissionCheckHOC}}),Object.defineProperty(t,"urlLicensePermissionCheckHOC",{enumerable:!0,get:function(){return n.urlLicensePermissionCheckHOC}});var o=a(963);Object.defineProperty(t,"RestrictionValidator",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}});var i=a(955);Object.defineProperty(t,"getRestriction",{enumerable:!0,get:function(){return i.getRestriction}})},949:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=b(o),r=b(a(1)),s=b(a(80)),l=b(a(72)),c=b(a(234)),u=b(a(99)),d=a(202),m=b(d),p=b(a(236)),f=b(a(237)),h=b(a(957)),g=b(a(63)),_=a(358),v=a(201);function b(e){return e&&e.__esModule?e:{default:e}}var k=[],I=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFilterSuggestions=(0,_.makeGetMultiSelectFilterSuggestions)(),a.formatOptions=(0,_.makeFormatOptions)(),a.getSelectedValue=(0,_.makeGetSelectedValueText)(),a.selectedFormatOptions={};var n=e.selectedValue,o=e.searchDebounceTime,i=void 0===o?500:o,r=e.isDefaultSelectValue,s=a.handleFormatOptions(a.props),l=s.allOptions,c=s.normalizedAllOptions,u=s.optionsOrder,d=s.normalizedFormatOptions,m=a.getSelectedValue({optionsOrder:u,selectedValue:n,normalizedFormatOptions:d,selectedFormatOptions:a.selectedFormatOptions,isDefaultSelectValue:r}),p=m.selected,f=m.hoverIndex,h=m.selectedValueDetails,g=m.selectedId;m.isSelfValueChanged;return a.state={selected:p,options:l,optionsNormalize:c,hoverIndex:f,searchStr:"",isFetchingOptions:!1,selectedId:g,selectedValueIndex:f},a.optionsOrder=u,a._isMounted=!1,a.normalizedFormatOptions=d,a.allSelectedOptions=h,a.handleChange=a.handleChange.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleFilterSuggestions=a.handleFilterSuggestions.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleFetchOptions=a.handleFetchOptions.bind(a),a.handleGetNextOptions=a.handleGetNextOptions.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleSearchOptions=(0,v.debounce)(a.handleSearchOptions.bind(a),i),a.suggestionContainerRef=a.suggestionContainerRef.bind(a),a.suggestionItemRef=a.suggestionItemRef.bind(a),a.searchInputRef=a.searchInputRef.bind(a),a.valueInputRef=a.valueInputRef.bind(a),a.togglePopup=a.togglePopup.bind(a),a.handleSelectFocus=a.handleSelectFocus.bind(a),a.handleFormatOptions=a.handleFormatOptions.bind(a),a.handlePopupClose=a.handlePopupClose.bind(a),a.handleClearSearch=a.handleClearSearch.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,a=e.isDefaultSelectValue,n=this.state.hoverIndex,o=this.handleFormatOptions(e),i=o.allOptions,r=o.normalizedAllOptions,s=o.optionsOrder,l=o.normalizedFormatOptions,c=this.selectedFormatOptions,u=this.getSelectedValue({optionsOrder:s,selectedValue:t,normalizedFormatOptions:l,selectedFormatOptions:c,isDefaultSelectValue:a}),d=u.selected,m=u.hoverIndex,p=u.selectedValueDetails,f=u.selectedId;u.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(c,p),this.normalizedFormatOptions=l,this.optionsOrder=s,this.setState({options:i,optionsNormalize:r,selected:d,hoverIndex:n||m,selectedId:f,selectedValueIndex:m})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.suggestionContainer,n=this.optionsOrder,o=this.isSelectWithAvatarComponent,i=this.state,r=i.hoverIndex,s=i.searchStr,l=i.selectedValueIndex,c=this.props,u=c.needLocalSearch,d=c.onDropBoxClose,m=c.onDropBoxOpen,p=c.needSearch,f=c.onSearch,h=c.isPopupOpen,g=this["suggestion_"+((0,v.getIsEmptyValue)(n[r])?"":n[r])];h&&(0,v.scrollTo)(a,g),e.isPopupOpen!==h&&(h?(m&&this.handleFetchOptions(m,s),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(p&&this.valueInput&&this.valueInput.focus(),d&&d(),f&&f(""),this.setState({searchStr:o?s:"",hoverIndex:l})));var _=this.props,b=_.isNextOptions,k=_.getNextOptions,I=(h?this.handleFilterSuggestions():[]).length;h&&I<=5&&b&&k&&!u&&this.handleFetchOptions(k,s)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,a=e.valueField,n=e.textField;return this.formatOptions({options:t,valueField:a,textField:n})}},{key:"handleChange",value:function(e,t,a,n){n&&n.preventDefault&&n.preventDefault();var o=this.props,i=o.onChange,r=o.isReadOnly,s=this.state.optionsNormalize;!r&&i&&i(e,s[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,a=t.onChange,n=t.isPopupOpen,o=this.state,i=o.hoverIndex,r=o.optionsNormalize,s=this.handleFilterSuggestions(),l=e.keyCode;if(n&&(38===l||40===l)&&e.preventDefault&&e.preventDefault(),38===l&&n&&s.length)0===i||(i-=1),this.setState({hoverIndex:i});else if(40===l&&n&&s.length)i===s.length-1||(i===s.length-3&&this.handleGetNextOptions(),i+=1),this.setState({hoverIndex:i});else if(13===l){var c=(s[i]||{}).id;n&&!(0,v.getIsEmptyValue)(c)&&a&&a(c,r[c]),n?!(0,v.getIsEmptyValue)(c)&&this.togglePopup(e):this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,a=this.state.searchStr,n=void 0===a?"":a,o=this.props.onSearch,i=n.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?i&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,a=this.optionsOrder.indexOf(e);t!==a&&this.setState({hoverIndex:a})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,a=e.excludeOptions,n=void 0===a?k:a,o=e.needSearch,i=this.state,r=i.options,s=void 0===r?k:r,l=i.searchStr;return o&&l&&l.trim().length||n&&n.length?this.getFilterSuggestions({options:s,selectedOptions:n,searchStr:l,needSearch:t}).suggestions:s}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.isFetchingOptions,o=void 0!==n&&n,i=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(a).then(function(){i&&t.setState({isFetchingOptions:!1})},function(){i&&t.setState({isFetchingOptions:!1})})}catch(e){i&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,a=e.getNextOptions,n=this.state.searchStr;t&&a&&this.handleFetchOptions(a,n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.isReadOnly,o=t.defaultDropBoxPosition;!n&&a(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,a){this["suggestion_"+a]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(e){var t=(e||{}).target;t&&t.setSelectionRange(t,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"render",value:function(){var e=this.props,t=e.needSearch,a=e.dropBoxSize,n=e.emptyMessage,o=e.searchEmptyMessage,r=e.needBorder,s=e.needSelectDownIcon,_=e.position,v=e.defaultDropBoxPosition,b=e.getTargetRef,k=e.getContainerRef,I=e.isPopupOpen,y=e.removeClose,C=e.isPopupReady,T=e.animationStyle,E=e.textBoxSize,S=e.textBoxVariant,N=e.searchBoxSize,A=e.searchBoxPlaceHolder,O=e.maxLength,w=e.isDisabled,P=e.title,D=e.size,x=e.placeHolder,L=e.className,R=e.portalId,M=e.isReadOnly,B=e.dataId,j=this.state,F=j.hoverIndex,V=j.selected,z=j.searchStr,U=j.isFetchingOptions,H=j.selectedId,W=j.options,G=this.handleFilterSuggestions();return i.default.createElement("div",{className:h.default.container+" "+h.default["box_"+D]+" ","data-title":w?P:""},i.default.createElement("div",{className:""+(L||""),onClick:w||M?null:this.togglePopup,ref:b},s?i.default.createElement(c.default,{isDisabled:w,iconRotated:I,inputRef:this.valueInputRef,maxLength:O,needBorder:r,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:x,isReadOnly:!0,size:E,value:V,variant:S,needReadOnlyStyle:!!M,dataId:B,isClickable:!M&&!w,className:M||w?"":h.default.input,needEffect:!M},i.default.createElement("div",{className:h.default.arrowIcon,"data-id":B+"_downIcon"},i.default.createElement(g.default,{name:"blockDownArrow",size:"8"}))):i.default.createElement(u.default,{disabled:w,inputRef:this.valueInputRef,maxLength:O,needBorder:r,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:x,readOnly:!0,size:E,value:V,variant:S,needReadOnlyStyle:!!M,dataId:B,isClickable:!M&&!w})),M||w||!I?null:i.default.createElement(l.default,{animationStyle:T,boxPosition:_||v+"Center",getRef:k,isActive:C,isAnimate:!0,isArrow:!1,onClick:y,portalId:R,dataIdContainer:B+"_suggestions"},i.default.createElement(m.default,{className:h.default.box,onScroll:this.handleScroll},t?i.default.createElement(d.CardHeader,null,i.default.createElement("div",{className:h.default.search+" "+h.default[D]},i.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:O,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:A,size:N,value:z,onClear:this.handleClearSearch,dataIdSearchBox:B+"_searchBox"}))):null,i.default.createElement(d.CardContent,{className:a?h.default[a]:"",eleRef:this.suggestionContainerRef,dataId:B+"_Options"},G.length?i.default.createElement(p.default,{activeId:H,suggestions:G,getRef:this.suggestionItemRef,hoverOption:F,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):i.default.createElement(f.default,{emptyMessage:n,isLoading:U,options:W,searchEmptyMessage:o,searchString:z,suggestions:G,dataIdLoading:B+"_loading",dataIdSrchEmptyMsg:B+"_srchEmptyMsg",dataIdNoOptnsMsg:B+"_noOptnsMsg"})))))}}]),t}();I.propTypes={animationStyle:r.default.string,className:r.default.string,closePopupOnly:r.default.func,dataId:r.default.string,defaultDropBoxPosition:r.default.oneOf(["bottom","top","left","right"]),dropBoxSize:r.default.oneOf(["small","medium","large"]),emptyMessage:r.default.string,excludeOptions:r.default.array,getContainerRef:r.default.func,getNextOptions:r.default.func,getRef:r.default.func,getTargetRef:r.default.func,isDefaultSelectValue:r.default.bool,isDisabled:r.default.bool,isNextOptions:r.default.bool,isPopupOpen:r.default.bool,isPopupReady:r.default.bool,isReadOnly:r.default.bool,maxLength:r.default.string,needBorder:r.default.bool,needLocalSearch:r.default.bool,needSearch:r.default.bool,needSelectDownIcon:r.default.bool,onChange:r.default.func.isRequired,onDropBoxClose:r.default.func,onDropBoxOpen:r.default.func,onSearch:r.default.func,options:r.default.oneOfType([r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number])),r.default.arrayOf(r.default.shape({id:r.default.oneOfType([r.default.string,r.default.number]),text:r.default.oneOfType([r.default.string,r.default.number])}))]).isRequired,placeHolder:r.default.string,portalId:r.default.string,position:r.default.string,removeClose:r.default.func,searchBoxPlaceHolder:r.default.string,searchBoxSize:r.default.string,searchDebounceTime:r.default.number,searchEmptyMessage:r.default.string,selectedValue:r.default.oneOfType([r.default.oneOfType([r.default.string,r.default.number]),r.default.shape({id:r.default.oneOfType([r.default.string,r.default.number]),text:r.default.oneOfType([r.default.string,r.default.number])})]),size:r.default.oneOf(["small","medium"]),textBoxSize:r.default.string,textBoxVariant:r.default.string,textField:r.default.string,title:r.default.string,togglePopup:r.default.func,valueField:r.default.string},I.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},I.defaultProps={animationStyle:"bounce",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",dataId:"selectComponent",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},I.displayName="Select";var y=(0,s.default)(I);y.propTypes=I.propTypes,y.defaultProps=I.defaultProps,t.default=y},950:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(965),v=a.n(_),b=a(30),k=a(16),I=a(947),y=a.n(I),C=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.iconSize,n=e.text,o=e.count,i=e.onClick,r=e.isAllSelected,s=e.needCheckBox,l=e.label,c=e.dataId,u=e.type,d=l||n;return f.a.createElement(f.a.Fragment,null,f.a.createElement(k.ResponsiveBox,{isHiddenSizes:["sm","md","lg","xl"],className:("ticketLp"==u?v.a.ticketLp:"")+" "+v.a.item,onClick:i,shrink:!0},f.a.createElement(k.Container,{alignBox:"row",align:"vertical"},s?f.a.createElement(k.Box,{className:v.a.check},f.a.createElement(y.a,{checked:r})):t?f.a.createElement(k.Box,{className:v.a.massIcon+" "+("ticketLp"!==u?v.a.Hiddenicon:"")},"spam"==t||"geometry"==t?f.a.createElement(b.CommonFontIcon,{name:t,size:a,iconClass:"ticketLp"==u?v.a.ticketLpicon:""}):f.a.createElement(b.TopbandFontIcon,{name:t,size:a,hoverColor:"delete2"==t?"danger":"",iconClass:"ticketLp"==u?v.a.ticketLpicon:""})):null,o?f.a.createElement(k.Box,{className:v.a.massCount+" ","data-id":c+"Count"},"(",f.a.createElement("span",{className:""+(s?v.a.danger:"")},o),")"):null)),f.a.createElement(k.ResponsiveBox,{shrink:!0,isHiddenSizes:["xs"],className:("ticketLp"==u?v.a.ticketLp:"")+" "+v.a.item,onClick:i},f.a.createElement(k.Container,{alignBox:"row",className:s?v.a.checkMassItem:v.a.massItem,"data-title":d,dataId:c,align:"vertical"},"secondary"==u?f.a.createElement(f.a.Fragment,null,n?f.a.createElement(k.Box,{className:v.a.massLabel,dataId:(c||"")+"Label"},n):null,o?f.a.createElement(k.Box,{className:v.a.massCount+" "+(s?v.a.danger:v.a.dark)+" ",dataId:(c||"")+"Count"},o):null):f.a.createElement(f.a.Fragment,null,s?f.a.createElement(k.Box,{className:v.a.check},f.a.createElement(y.a,{checked:r})):t?f.a.createElement(k.Box,{className:v.a.massIcon+" "},"spam"==t||"geometry"==t?f.a.createElement(b.CommonFontIcon,{name:t,size:a,iconClass:"ticketLp"==u?v.a.ticketLpicon:""}):f.a.createElement(b.TopbandFontIcon,{name:t,size:a,hoverColor:"delete2"==t?"danger":"",iconClass:"ticketLp"==u?v.a.ticketLpicon:""})):null,n?f.a.createElement(k.Box,{shrink:!0,adjust:!0,className:v.a.massLabel,dataId:(c||"")+"Label"},n):null,o?f.a.createElement(k.Box,{className:v.a.massCount+" "+(s?v.a.danger:v.a.dark)+" ",dataId:(c||"")+"Count"},o):null))))}}]),t}(f.a.Component);t.a=C,C.propTypes={count:g.a.number,dataId:g.a.string,icon:g.a.string,iconSize:g.a.string,isAllSelected:g.a.bool,label:g.a.string,needCheckBox:g.a.bool,onClick:g.a.func,text:g.a.string,type:g.a.oneOf(["primary","secondary","ticketLp"])}},951:function(e,t,a){e.exports={container:"Fields-module__container",fieldContainer:"Fields-module__fieldContainer",checkbox:"Fields-module__checkbox common-module__dflex common-module__alignFend",disabled:"Fields-module__disabled common-module__disabled",inblk:"Fields-module__inblk",radio:"Fields-module__radio",duration:"Fields-module__duration",flex:"Fields-module__flex common-module__dflex",periodContainer:"Fields-module__periodContainer common-module__dflex common-module__flexrow common-module__flexwrap"}},952:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(1018),v=a.n(_),b=a(151),k=a.n(b),I=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.palette,a=e.text,n=e.id,o=e.onClick,i=e.type,r=e.size,s=e.dataId;return f.a.createElement("div",{onClick:o,className:""+("primary"===i?v.a.primary:v.a.secondary)},f.a.createElement(k.a,{text:a,id:n,palette:t,size:r,dataId:s}))}}]),t}(f.a.Component);t.a=I,I.propTypes={id:g.a.string,onClick:g.a.func,palette:g.a.oneOf(["primary","mandatory","danger"]),size:g.a.oneOf(["small","medium","large"]),text:g.a.string,type:g.a.oneOf(["primary","secondary"])},I.defaultProps={palette:"danger",size:"medium",type:"primary"}},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},954:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.offsetMap={"Africa/Abidjan":0,"Africa/Accra":0,"Africa/Addis_Ababa":180,"Africa/Algiers":0,"Africa/Asmara":180,"Africa/Asmera":180,"Africa/Bamako":0,"Africa/Bangui":60,"Africa/Banjul":0,"Africa/Bissau":-60,"Africa/Blantyre":120,"Africa/Brazzaville":60,"Africa/Bujumbura":120,"Africa/Cairo":120,"Africa/Casablanca":0,"Africa/Ceuta":0,"Africa/Conakry":0,"Africa/Dakar":0,"Africa/Dar_es_Salaam":180,"Africa/Djibouti":180,"Africa/Douala":60,"Africa/El_Aaiun":-60,"Africa/Freetown":0,"Africa/Gaborone":120,"Africa/Harare":120,"Africa/Johannesburg":120,"Africa/Juba":120,"Africa/Kampala":180,"Africa/Khartoum":120,"Africa/Kigali":120,"Africa/Kinshasa":60,"Africa/Lagos":60,"Africa/Libreville":60,"Africa/Lome":0,"Africa/Luanda":60,"Africa/Lubumbashi":120,"Africa/Lusaka":120,"Africa/Malabo":60,"Africa/Maputo":120,"Africa/Maseru":120,"Africa/Mbabane":120,"Africa/Mogadishu":180,"Africa/Monrovia":44,"Africa/Nairobi":180,"Africa/Ndjamena":60,"Africa/Niamey":60,"Africa/Nouakchott":0,"Africa/Ouagadougou":0,"Africa/Porto-Novo":60,"Africa/Sao_Tome":0,"Africa/Timbuktu":0,"Africa/Tripoli":120,"Africa/Tunis":60,"Africa/Windhoek":120,"America/Adak":-660,"America/Anchorage":-600,"America/Anguilla":-240,"America/Antigua":-240,"America/Araguaina":-180,"America/Argentina/Buenos_Aires":-180,"America/Argentina/Catamarca":-180,"America/Argentina/ComodRivadavia":-180,"America/Argentina/Cordoba":-180,"America/Argentina/Jujuy":-180,"America/Argentina/La_Rioja":-180,"America/Argentina/Mendoza":-180,"America/Argentina/Rio_Gallegos":-180,"America/Argentina/Salta":-180,"America/Argentina/San_Juan":-180,"America/Argentina/San_Luis":-180,"America/Argentina/Tucuman":-180,"America/Argentina/Ushuaia":-180,"America/Aruba":-240,"America/Asuncion":-240,"America/Atikokan":-300,"America/Atka":-660,"America/Bahia":-180,"America/Bahia_Banderas":-480,"America/Barbados":-240,"America/Belem":-180,"America/Belize":-360,"America/Blanc-Sablon":-240,"America/Boa_Vista":-240,"America/Bogota":-300,"America/Boise":-420,"America/Buenos_Aires":-180,"America/Cambridge_Bay":-420,"America/Campo_Grande":-240,"America/Cancun":-360,"America/Caracas":-240,"America/Catamarca":-180,"America/Cayenne":-180,"America/Cayman":-300,"America/Chicago":-360,"America/Chihuahua":-360,"America/Coral_Harbour":-300,"America/Cordoba":-180,"America/Costa_Rica":-360,"America/Creston":-420,"America/Cuiaba":-240,"America/Curacao":-240,"America/Danmarkshavn":-180,"America/Dawson":-540,"America/Dawson_Creek":-480,"America/Denver":-420,"America/Detroit":-300,"America/Dominica":-240,"America/Edmonton":-420,"America/Eirunepe":-300,"America/El_Salvador":-360,"America/Ensenada":-480,"America/Fort_Nelson":-420,"America/Fort_Wayne":-300,"America/Fortaleza":-180,"America/Glace_Bay":-240,"America/Godthab":-180,"America/Goose_Bay":-240,"America/Grand_Turk":-300,"America/Grenada":-240,"America/Guadeloupe":-240,"America/Guatemala":-360,"America/Guayaquil":-300,"America/Guyana":-135,"America/Halifax":-240,"America/Havana":-300,"America/Hermosillo":-480,"America/Indiana/Indianapolis":-300,"America/Indiana/Knox":-360,"America/Indiana/Marengo":-300,"America/Indiana/Petersburg":-360,"America/Indiana/Tell_City":-300,"America/Indiana/Vevay":-300,"America/Indiana/Vincennes":-300,"America/Indiana/Winamac":-300,"America/Indianapolis":-300,"America/Inuvik":-480,"America/Iqaluit":-300,"America/Jamaica":-300,"America/Jujuy":-180,"America/Juneau":-480,"America/Kentucky/Louisville":-300,"America/Kentucky/Monticello":-360,"America/Knox_IN":-360,"America/Kralendijk":-240,"America/La_Paz":-240,"America/Lima":-300,"America/Los_Angeles":-480,"America/Louisville":-300,"America/Lower_Princes":-240,"America/Maceio":-180,"America/Managua":-360,"America/Manaus":-240,"America/Marigot":-240,"America/Martinique":-240,"America/Matamoros":-360,"America/Mazatlan":-480,"America/Mendoza":-180,"America/Menominee":-300,"America/Merida":-360,"America/Metlakatla":-480,"America/Mexico_City":-360,"America/Miquelon":-240,"America/Moncton":-240,"America/Monterrey":-360,"America/Montevideo":-180,"America/Montreal":-300,"America/Montserrat":-240,"America/Nassau":-300,"America/New_York":-300,"America/Nipigon":-300,"America/Nome":-660,"America/Noronha":-120,"America/North_Dakota/Beulah":-420,"America/North_Dakota/Center":-420,"America/North_Dakota/New_Salem":-420,"America/Ojinaga":-360,"America/Panama":-300,"America/Pangnirtung":-240,"America/Paramaribo":-150,"America/Phoenix":-420,"America/Port-au-Prince":-300,"America/Port_of_Spain":-240,"America/Porto_Acre":-300,"America/Porto_Velho":-240,"America/Puerto_Rico":-240,"America/Punta_Arenas":-180,"America/Rainy_River":-360,"America/Rankin_Inlet":-360,"America/Recife":-180,"America/Regina":-360,"America/Resolute":-360,"America/Rio_Branco":-300,"America/Rosario":-180,"America/Santa_Isabel":-480,"America/Santarem":-240,"America/Santiago":-180,"America/Santo_Domingo":-210,"America/Sao_Paulo":-180,"America/Scoresbysund":-120,"America/Shiprock":-420,"America/Sitka":-480,"America/St_Barthelemy":-240,"America/St_Johns":-150,"America/St_Kitts":-240,"America/St_Lucia":-240,"America/St_Thomas":-240,"America/St_Vincent":-240,"America/Swift_Current":-420,"America/Tegucigalpa":-360,"America/Thule":-240,"America/Thunder_Bay":-300,"America/Tijuana":-480,"America/Toronto":-300,"America/Tortola":-240,"America/Vancouver":-480,"America/Virgin":-240,"America/Whitehorse":-480,"America/Winnipeg":-360,"America/Yakutat":-540,"America/Yellowknife":-420,"Antarctica/Casey":480,"Antarctica/Davis":420,"Antarctica/DumontDUrville":600,"Antarctica/Macquarie":660,"Antarctica/Mawson":360,"Antarctica/McMurdo":720,"Antarctica/Palmer":-180,"Antarctica/Rothera":0,"Antarctica/South_Pole":720,"Antarctica/Syowa":180,"Antarctica/Troll":0,"Antarctica/Vostok":360,"Arctic/Longyearbyen":60,"Asia/Aden":180,"Asia/Almaty":360,"Asia/Amman":120,"Asia/Anadyr":780,"Asia/Aqtau":300,"Asia/Aqtobe":300,"Asia/Ashgabat":300,"Asia/Ashkhabad":300,"Asia/Atyrau":300,"Asia/Baghdad":180,"Asia/Bahrain":240,"Asia/Baku":240,"Asia/Bangkok":420,"Asia/Barnaul":420,"Asia/Beirut":120,"Asia/Bishkek":360,"Asia/Brunei":480,"Asia/Calcutta":330,"Asia/Chita":540,"Asia/Choibalsan":420,"Asia/Chongqing":420,"Asia/Chungking":420,"Asia/Colombo":330,"Asia/Dacca":360,"Asia/Damascus":120,"Asia/Dhaka":360,"Asia/Dili":540,"Asia/Dubai":240,"Asia/Dushanbe":360,"Asia/Famagusta":120,"Asia/Gaza":120,"Asia/Harbin":510,"Asia/Hebron":120,"Asia/Ho_Chi_Minh":420,"Asia/Hong_Kong":480,"Asia/Hovd":360,"Asia/Irkutsk":480,"Asia/Istanbul":120,"Asia/Jakarta":420,"Asia/Jayapura":540,"Asia/Jerusalem":120,"Asia/Kabul":270,"Asia/Kamchatka":720,"Asia/Karachi":300,"Asia/Kashgar":300,"Asia/Kathmandu":330,"Asia/Katmandu":330,"Asia/Khandyga":540,"Asia/Kolkata":330,"Asia/Krasnoyarsk":420,"Asia/Kuala_Lumpur":450,"Asia/Kuching":480,"Asia/Kuwait":180,"Asia/Macao":480,"Asia/Macau":480,"Asia/Magadan":660,"Asia/Makassar":480,"Asia/Manila":480,"Asia/Muscat":240,"Asia/Nicosia":120,"Asia/Novokuznetsk":420,"Asia/Novosibirsk":420,"Asia/Omsk":360,"Asia/Oral":300,"Asia/Phnom_Penh":420,"Asia/Pontianak":480,"Asia/Pyongyang":540,"Asia/Qatar":240,"Asia/Qyzylorda":300,"Asia/Rangoon":390,"Asia/Riyadh":180,"Asia/Saigon":420,"Asia/Sakhalin":660,"Asia/Samarkand":300,"Asia/Seoul":540,"Asia/Shanghai":480,"Asia/Singapore":450,"Asia/Srednekolymsk":660,"Asia/Taipei":480,"Asia/Tashkent":360,"Asia/Tbilisi":240,"Asia/Tehran":210,"Asia/Tel_Aviv":120,"Asia/Thimbu":330,"Asia/Thimphu":330,"Asia/Tokyo":540,"Asia/Tomsk":420,"Asia/Ujung_Pandang":480,"Asia/Ulaanbaatar":420,"Asia/Ulan_Bator":420,"Asia/Urumqi":360,"Asia/Ust-Nera":600,"Asia/Vientiane":420,"Asia/Vladivostok":600,"Asia/Yakutsk":540,"Asia/Yangon":390,"Asia/Yekaterinburg":300,"Asia/Yerevan":240,"Atlantic/Azores":-60,"Atlantic/Bermuda":-240,"Atlantic/Canary":0,"Atlantic/Cape_Verde":-120,"Atlantic/Faeroe":0,"Atlantic/Faroe":0,"Atlantic/Jan_Mayen":60,"Atlantic/Madeira":0,"Atlantic/Reykjavik":0,"Atlantic/South_Georgia":-120,"Atlantic/St_Helena":0,"Atlantic/Stanley":-240,"Australia/ACT":600,"Australia/Adelaide":570,"Australia/Brisbane":600,"Australia/Broken_Hill":570,"Australia/Canberra":600,"Australia/Currie":600,"Australia/Darwin":570,"Australia/Eucla":525,"Australia/Hobart":660,"Australia/LHI":600,"Australia/Lindeman":600,"Australia/Lord_Howe":600,"Australia/Melbourne":600,"Australia/NSW":600,"Australia/North":570,"Australia/Perth":480,"Australia/Queensland":600,"Australia/South":570,"Australia/Sydney":600,"Australia/Tasmania":660,"Australia/Victoria":600,"Australia/West":480,"Australia/Yancowinna":570,"Brazil/Acre":-300,"Brazil/DeNoronha":-120,"Brazil/East":-180,"Brazil/West":-240,CET:60,CST6CDT:-360,"Canada/Atlantic":-240,"Canada/Central":-360,"Canada/Eastern":-300,"Canada/Mountain":-420,"Canada/Newfoundland":-150,"Canada/Pacific":-480,"Canada/Saskatchewan":-360,"Canada/Yukon":-480,"Chile/Continental":-180,"Chile/EasterIsland":-360,Cuba:-300,EET:120,EST5EDT:-300,Egypt:120,Eire:60,"Etc/GMT":0,"Etc/GMT+0":0,"Etc/GMT+1":-60,"Etc/GMT+10":-600,"Etc/GMT+11":-660,"Etc/GMT+12":-720,"Etc/GMT+2":-120,"Etc/GMT+3":-180,"Etc/GMT+4":-240,"Etc/GMT+5":-300,"Etc/GMT+6":-360,"Etc/GMT+7":-420,"Etc/GMT+8":-480,"Etc/GMT+9":-540,"Etc/GMT-0":0,"Etc/GMT-1":60,"Etc/GMT-10":600,"Etc/GMT-11":660,"Etc/GMT-12":720,"Etc/GMT-13":780,"Etc/GMT-14":840,"Etc/GMT-2":120,"Etc/GMT-3":180,"Etc/GMT-4":240,"Etc/GMT-5":300,"Etc/GMT-6":360,"Etc/GMT-7":420,"Etc/GMT-8":480,"Etc/GMT-9":540,"Etc/GMT0":0,"Etc/Greenwich":0,"Etc/UCT":0,"Etc/UTC":0,"Etc/Universal":0,"Etc/Zulu":0,"Europe/Amsterdam":60,"Europe/Andorra":60,"Europe/Astrakhan":240,"Europe/Athens":120,"Europe/Belfast":60,"Europe/Belgrade":60,"Europe/Berlin":60,"Europe/Bratislava":60,"Europe/Brussels":60,"Europe/Bucharest":120,"Europe/Budapest":60,"Europe/Busingen":60,"Europe/Chisinau":180,"Europe/Copenhagen":60,"Europe/Dublin":60,"Europe/Gibraltar":60,"Europe/Guernsey":60,"Europe/Helsinki":120,"Europe/Isle_of_Man":60,"Europe/Istanbul":120,"Europe/Jersey":60,"Europe/Kaliningrad":180,"Europe/Kiev":180,"Europe/Kirov":180,"Europe/Lisbon":60,"Europe/Ljubljana":60,"Europe/London":60,"Europe/Luxembourg":60,"Europe/Madrid":60,"Europe/Malta":60,"Europe/Mariehamn":120,"Europe/Minsk":180,"Europe/Monaco":60,"Europe/Moscow":180,"Europe/Nicosia":120,"Europe/Oslo":60,"Europe/Paris":60,"Europe/Podgorica":60,"Europe/Prague":60,"Europe/Riga":180,"Europe/Rome":60,"Europe/Samara":240,"Europe/San_Marino":60,"Europe/Sarajevo":60,"Europe/Saratov":240,"Europe/Simferopol":180,"Europe/Skopje":60,"Europe/Sofia":120,"Europe/Stockholm":60,"Europe/Tallinn":180,"Europe/Tirane":60,"Europe/Tiraspol":180,"Europe/Ulyanovsk":240,"Europe/Uzhgorod":180,"Europe/Vaduz":60,"Europe/Vatican":60,"Europe/Vienna":60,"Europe/Vilnius":180,"Europe/Volgograd":240,"Europe/Warsaw":60,"Europe/Zagreb":60,"Europe/Zaporozhye":180,"Europe/Zurich":60,GB:60,"GB-Eire":60,GMT:0,GMT0:0,Greenwich:0,Hongkong:480,Iceland:0,"Indian/Antananarivo":180,"Indian/Chagos":300,"Indian/Christmas":420,"Indian/Cocos":390,"Indian/Comoro":180,"Indian/Kerguelen":300,"Indian/Mahe":240,"Indian/Maldives":300,"Indian/Mauritius":240,"Indian/Mayotte":180,"Indian/Reunion":240,Iran:210,Israel:120,Jamaica:-300,Japan:540,Kwajalein:-720,Libya:120,MET:60,MST7MDT:-420,"Mexico/BajaNorte":-480,"Mexico/BajaSur":-480,"Mexico/General":-360,NZ:720,"NZ-CHAT":765,Navajo:-420,PRC:480,PST8PDT:-480,"Pacific/Apia":-660,"Pacific/Auckland":720,"Pacific/Bougainville":660,"Pacific/Chatham":765,"Pacific/Chuuk":600,"Pacific/Easter":-360,"Pacific/Efate":660,"Pacific/Enderbury":-720,"Pacific/Fakaofo":-600,"Pacific/Fiji":720,"Pacific/Funafuti":720,"Pacific/Galapagos":-300,"Pacific/Gambier":-540,"Pacific/Guadalcanal":660,"Pacific/Guam":600,"Pacific/Honolulu":-600,"Pacific/Johnston":-600,"Pacific/Kiritimati":-560,"Pacific/Kosrae":720,"Pacific/Kwajalein":-720,"Pacific/Majuro":720,"Pacific/Marquesas":-510,"Pacific/Midway":-660,"Pacific/Nauru":690,"Pacific/Niue":-630,"Pacific/Norfolk":690,"Pacific/Noumea":660,"Pacific/Pago_Pago":-660,"Pacific/Palau":540,"Pacific/Pitcairn":-450,"Pacific/Pohnpei":660,"Pacific/Ponape":660,"Pacific/Port_Moresby":600,"Pacific/Rarotonga":-570,"Pacific/Saipan":600,"Pacific/Samoa":-660,"Pacific/Tahiti":-600,"Pacific/Tarawa":720,"Pacific/Tongatapu":780,"Pacific/Truk":600,"Pacific/Wake":720,"Pacific/Wallis":720,"Pacific/Yap":600,Poland:60,Portugal:60,ROK:540,Singapore:450,"SystemV/AST4":-240,"SystemV/AST4ADT":-240,"SystemV/CST6":-360,"SystemV/CST6CDT":-360,"SystemV/EST5":-300,"SystemV/EST5EDT":-300,"SystemV/HST10":-600,"SystemV/MST7":-420,"SystemV/MST7MDT":-420,"SystemV/PST8":-480,"SystemV/PST8PDT":-480,"SystemV/YST9":-540,"SystemV/YST9YDT":-540,Turkey:120,UCT:0,"US/Alaska":-600,"US/Aleutian":-660,"US/Arizona":-420,"US/Central":-360,"US/East-Indiana":-300,"US/Eastern":-300,"US/Hawaii":-600,"US/Indiana-Starke":-360,"US/Michigan":-300,"US/Mountain":-420,"US/Pacific":-480,"US/Pacific-New":-480,"US/Samoa":-660,UTC:0,Universal:0,"W-SU":180,WET:0,Zulu:0,EST:-300,HST:-600,MST:-420,ACT:570,AET:600,AGT:-180,ART:120,AST:-540,BET:-180,BST:360,CAT:120,CNT:-150,CST:-360,CTT:480,EAT:180,ECT:60,IET:-300,IST:330,JST:540,MIT:780,NET:240,NST:720,PLT:300,PNT:-420,PRT:-240,PST:-480,SST:660,VST:420}},955:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRestriction=t.getRestrictionObj=void 0;var n,o=a(964),i=a(19),r=(n=i)&&n.__esModule?n:{default:n};var s=t.getRestrictionObj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments[2],n=e.length,i={isShow:!0,isReadOnly:!1},s=o.restrictionRules[t];if(e.length)for(var l=0;l<n;l++)if(void 0!==s[e[l]][a]){var c=s[e[l]][a];if(!c[0]){i.isReadOnly=null!=c[1]&&Boolean(c[1]),i.isShow=null!=c[0]&&Boolean(c[0]);break}c[1]&&(i.isReadOnly=null==c[1]||Boolean(c[1]),i.isShow=null==c[0]||Boolean(c[0]),i.readOnlyMessage=c[1]?(0,r.default)(t+"["+e[l]+"]["+a+"]",o.lockMessages):"")}return i};t.getRestriction=function(e,t,a){return s(e,t,a)}},956:function(e,t,a){"use strict";a.d(t,"i",function(){return m}),a.d(t,"g",function(){return p}),a.d(t,"b",function(){return f}),a.d(t,"j",function(){return h}),a.d(t,"h",function(){return g}),a.d(t,"c",function(){return _}),a.d(t,"e",function(){return v}),a.d(t,"a",function(){return b}),a.d(t,"k",function(){return I}),a.d(t,"d",function(){return C}),a.d(t,"f",function(){return T}),a.d(t,"l",function(){return E});a(20);var n=a(2),o=a.n(n),i=a(15),r=a(6),s=a(7),l=a(17),c=a(46),u=a(3),d=a(39);function m(e){return{types:Object(r.m)("AGENTS_COUNT"),callAPI:function(t){var a=Object(l.r)(t);return Object(i.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return o()({},e,{id:e.agentId})}),{countData:e.data,deptId:a}):{}})}}}function p(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(r.m)(u.L.AGENT),callAPI:function(r){return Object(i.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+a+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:r.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<a,i=Object(s.normalize)(t.data,Object(s.arrayOf)(Object(s.schema)(u.L.AGENT_L)));return o()(i,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(r.m)(u.L.AGENT),callAPI:function(a){return Object(i.a)("/api/v1/agents/"+e,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=Object(s.normalize)(e,Object(s.schema)(u.L.AGENT_L));return o()(a,{depId:t})})}}}function h(e,t,a){return{types:Object(r.m)("AGENT_SEARCH"),callAPI:function(n){return Object(i.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+a,!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<a,i=Object(s.normalize)(e.data,Object(s.arrayOf)(Object(s.schema)(u.L.AGENT_L)));return o()(i,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.u,d=arguments[4];return{types:Object(r.m)(u.L.AGENT),callAPI:function(r){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=d||Object(l.r)(r),f=d?"&departmentId="+d:Object(c.a)(r,!0),h="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(a?"&searchStr=*"+a+"*":"")+f;return Object(i.a)(encodeURI(h),!1,{orgId:r.currentOrgId}).get().then(function(i){return o()({},Object(s.normalize)(204!==i.responseStatus?i.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.AGENT_L))),{deptId:p,from:t,limit:n,isNext:!!i.data&&i.data.length>n,searchStr:a,agentType:e})},function(e){throw e})}}}function _(e){return{types:Object(r.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(i.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.AGENT_L)))})}}}function v(e){return{types:Object(r.m)("TEAM_AGENT"),callAPI:function(t){return Object(i.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(s.normalize)(e.members,Object(s.arrayOf)(Object(s.schema)(u.L.AGENT_L)))})}}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a="";return t.map(function(t){void 0!==e[t]&&(a+="&"+t+"="+e[t])}),a}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return void 0!==e[t]?e[t]:a}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=k(e,"searchType","string"),a=e.searchStr;return a&&(a="string*"==t?a+"*":"*string*"==t?"*"+a+"*":a),a}function y(e){var t=e.isConfirmed,a=e.status;switch(a){case d.a:return d.a;case d.d:return d.d;case d.c:return d.c;default:if(void 0!==t&&!t)return d.l;if(void 0===a)return d.b}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=k(e,"from","1"),e.limit=k(e,"limit","100"),e.searchStr=I(e);var t=e.from>1?d.k:d.j;return{types:Object(r.m)(t),callAPI:function(t){var a="/api/v1/agents?orgId="+t.currentOrgId;return a+=b(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(i.a)(a).get().then(function(t){return o()(Object(s.normalize)(void 0!==t.data?t.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.AGENT_L))),{status:y(e)})})}}}function T(e,t,a){var n={status:e,isConfirmed:t,includeLightAgent:a};return n.includeLightAgent=k(n,"includeLightAgent",!0),{types:Object(r.m)(d.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=b(n,["status","isConfirmed","includeLightAgent"]),Object(i.a)(t).get().then(function(e){return o()({},e,{status:y(n)})})}}}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:d.m,data:{isEnabled:e}}}},957:function(e,t,a){e.exports={input:"Select-module__input",small:"Select-module__small",medium:"Select-module__medium",large:"Select-module__large",emptyState:"Select-module__emptyState common-module__semibold common-module__ftsmooth",box_small:"Select-module__box_small",box_medium:"Select-module__box_medium",hide:"Select-module__hide common-module__vishidden",container:"Select-module__container",arrowIcon:"Select-module__arrowIcon",box:"Select-module__box",search:"Select-module__search"}},958:function(e,t,a){e.exports={container:"DateTime-module__container",header:"DateTime-module__header",thArrowConatainer:"DateTime-module__thArrowConatainer",thArrow:"DateTime-module__thArrow common-module__offSelection",datesStr:"DateTime-module__datesStr common-module__offSelection",thMonYear:"DateTime-module__thMonYear",dateContainer:"DateTime-module__dateContainer",days:"DateTime-module__days",daysStr:"DateTime-module__daysStr",dateRow:"DateTime-module__dateRow",sunday:"DateTime-module__sunday",today:"DateTime-module__today",emptySpan:"DateTime-module__emptySpan",timesection:"DateTime-module__timesection",timeStr:"DateTime-module__timeStr",dropDownContainer:"DateTime-module__dropDownContainer",dropDown:"DateTime-module__dropDown",footer:"DateTime-module__footer",space:"DateTime-module__space"}},959:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserOffset=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.formatDate=s,t.pad=l,t.replaceI18NValuesWithRegex=c,t.unescapeUnicode=u,t.getValues=d,t.getI18NValue=function(e){if(void 0===e)return function(e){return e};return function(t,a){var n=e[t];return void 0===n?t:u(n=c(n,a))}},t.getI18NInfo=function(e,t,a){var o=null,i=void 0,r=null;if("function"==typeof t){var s=t(diffObj1);o=s.key,i=d(s.params,a)}else"object"===(void 0===t?"undefined":n(t))?(o=t.key,i=d(t.params,a)):"string"==typeof t&&(r=e.format(t));return{key:o,values:i,text:r}},t.isToday=function(e,t){var a=t.clone().startOf("day");return e.isSame(a,"d")},t.isYesterday=m,t.isTomorrow=function(e,t){return m(t,e)},t.isWithinAWeek=p,t.isTwoWeeksOrMore=function(e,t){return!p(e,t)},t.userDateFormat=function(e,t){return function(a,r,c,u){var m=r.today,p=r.yesterday,f=r.tomorrow,h=r.others,g=arguments.length>4&&void 0!==arguments[4]&&arguments[4],_=arguments[5],v=(new Date).getTime(),I=new Date(a).getTime(),y=k(v,i,0);y=k(y,0,o.offsetMap[t]);var C=k(I,i,0);C=k(C,0,o.offsetMap[t]);var T=I-v,E=void 0;E=T<0?c||"":T>0&&u||"";var S=b(T),N=0==S.y&&S.yd<=7,A={h:S.h,m:S.m,s:S.s,y:S.y,hh:l(S.h,2),mm:l(S.m,2),ss:l(S.s,2),yy:l(S.y,2),days:S.yd,yDays:l(S.yd,2),isWithInAWeek:N,suffix:E},O={hours:S.h,minutes:S.m,seconds:S.s,years:S.y,yDays:S.yd,isWithInAWeek:N,suffix:E},w="",P=[],D=null;if(_){var x=void 0,L=void 0,R=void 0,M=void 0;x=O.years>1?"2":O.years,L=S.yd>1?"2":S.yd,R=O.hours>1?"2":O.hours,M=O.minutes>1?"2":O.minutes;var B=0,j=[x,L,R,M].reduce(function(e,t){return 2==B||0==t?e+="0":0!=t?(B++,e+=t):e+=t,e},""),F=_(O,j);F&&"object"===(void 0===F?"undefined":n(F))?(w=F.key,P=d(F.params,A),g=!0):"string"==typeof F&&(D=s(C,F))}else if(0!=S.y||0!=S.yd&&1!=S.yd){var V=h(O);"object"===(void 0===V?"undefined":n(V))?(w=V.key,P=d(V.params,A),g=!0):"string"==typeof V&&(D=s(C,f),C.format(V))}else{var z=new Date(C);new Date(y);z.getDate()==curDateObj.getDate()?"object"===(void 0===m?"undefined":n(m))?(w=m.key,P=d(m.params,A),g=!0):"string"==typeof m&&(D=s(C,m)):z.getDate()<curDateObj.getDate()?"object"===(void 0===p?"undefined":n(p))?(w=p.key,P=d(p.params,A)):"string"==typeof p&&(D=s(C,p)):z.getDate()>curDateObj.getDate()&&("object"===(void 0===f?"undefined":n(f))?(w=f.key,P=d(f.params,A)):"string"==typeof f&&(D=s(C,f)))}var U=g&&""!=E?w+"."+E:w;return D||e(U,P)}},t.getDiffObj=b,t.convertTimezone=k;var o=a(954),i=t.browserOffset=-(new Date).getTimezoneOffset(),r={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function s(e,t){var a=new Date(e),n=a.getDate(),o=a.getDay(),i=a.getMonth(),s=a.getFullYear(),c=a.getHours(),u=a.getMinutes(),d=a.getSeconds(),m=a.getMilliseconds(),p={d:n,dd:l(n,2),ddd:r.dayNames[o],dddd:r.dayNames[o+7],D:n,DD:l(n,2),DDD:r.dayNames[o],DDDD:r.dayNames[o+7],M:i+1,MM:l(i+1,2),MMM:r.monthNames[i],MMMM:r.monthNames[i+12],yy:String(s).slice(2),YY:String(s).slice(2),yyyy:s,YYYY:s,h:c%12||12,hh:l(c%12||12,2),H:c,HH:l(c,2),m:u,mm:l(u,2),s:d,ss:l(d,2),l:l(m,3),L:l(Math.round(m/10)),t:c<12?r.timeNames[0]:r.timeNames[1],A:c<12?r.timeNames[6]:r.timeNames[7],T:c<12?r.timeNames[4]:r.timeNames[5]};return t.replace(/D{1,4}|M{1,4}|YY(?:YY)?|([HhmsA])\1?|[LloSZWN]|\[[^\]]*\]|'[^']*'/g,function(e){return e in p?p[e]:e.slice(1,e.length-1)})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments[2];return a=a||"0",(e=""+e).length>=t?e:new Array(t-e.length+1).join(a)+e}function c(e,t){if(void 0!==t)if(Array.isArray(t))for(var a=0;a<t.length;a++)e=e.replace(new RegExp("\\{"+a+"\\}","g"),t[a]);else e=e.replace(new RegExp("\\{0\\}","g"),t);return e}function u(e){return e.replace(/\\u([a-fA-F0-9]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.map(function(e){return t[e]})}function m(e,t){var a=t.clone().subtract(1,"days").startOf("day");return e.isSame(a,"d")}function p(e,t){var a=t.clone().subtract(7,"days").startOf("day");return e.isAfter(a)}var f=31536e6,h=864e5,g=36e5,_=6e4;function v(e){return-1!==e.toString().toLowerCase().indexOf("e")?e.toFixed(20):e}function b(e){var t=(e=Math.abs(e))/f;t=v(t);var a=e%f/h;a=v(a);var n=e%h/g;n=v(n);var o=e%h%g/_,i=e%h%g%_/1e3;return a=parseInt(a),n=parseInt(n),o=parseInt(o),i=parseInt(i),{y:t=parseInt(t),yd:a,h:n,m:o,s:i}}function k(e,t,a){var n=a-t;return e=Number(e)+n*_}},960:function(e,t,a){"use strict";function n(e,t){var a=void 0,n="";return e?"OFFLINE_CHAT"==(a=e.channel)?n="missed":e.isDraft?n="draft":e.isForward?n="forward":"in"===e.direction?n="incoming":"out"===e.direction&&(n="outgoing"):(a=t||"",n="default"),{channelName:a,action:n}}function o(e){return{in:{icon:"emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function i(){return{EMAIL:{default:"chEmail1",incoming:"chEmailIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chEmailMis"},FACEBOOK:{default:"chFacebook",incoming:"chFacebookIn",outgoing:"chFacebookOut",draft:"chFacebookDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFacebookMis"},FACEBOOK_DM:{default:"chFacebookDmOut",incoming:"chFacebookDmOut",outgoing:"chFacebookDmOut",draft:"chFacebookDmOut",forward:"chFacebookDmOut",forwardDraft:"chFacebookDmOut",missed:""},TWITTER:{default:"chTwitter",incoming:"chTwitterIn",outgoing:"chTwitterOut",draft:"chTwitterDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chTwitterMis"},FORUMS:{default:"chForums",incoming:"chForumsIn",outgoing:"chForumsOut",draft:"chForumsDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chForumsMis"},CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},OFFLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},ONLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},PHONE:{default:"activityCalls",incoming:"chPhoneIn",outgoing:"chPhoneOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chPhoneMis"},WEB:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},CUSTOMERPORTAL:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},FEEDBACK:{default:"chFeedback",incoming:"chFeedback",out:"chFeedbackOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFeedbackMis"}}}a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i})},961:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlLicensePermissionCheckHOC=t.licensePermissionCheckHOC=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=l(a(0)),r=l(a(1)),s=(a(21),a(962));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.currentPermission=e.permission||a.permission,n.currentLicense=e.license||a.license,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.proxyPropsObjHasFunction,a=e.getLicenseProfileCheck,o=e.Component,r=e.Fallback,s=a(t?this.props:{},this.currentPermission,this.currentLicense),l=s.licenseSuccess,c=s.permissionSuccess,u=s.permissionProps;return l&&c?i.default.createElement(o,n({},this.props,u)):r?i.default.createElement(r,this.props):null}}]),t}();c.propTypes={permission:r.default.object,license:r.default.string,proxyPropsObjHasFunction:r.default.func,getLicenseProfileCheck:r.default.func,Component:r.default.element,Fallback:r.default.element},c.contextTypes={store:r.default.object,permission:r.default.object,license:r.default.string};var u=t.licensePermissionCheckHOC=function(e){var t=e.component,a=void 0===t?{license:"*",permission:"*"}:t,o=e.props,r=void 0===o?{}:o,l=e.Fallback,u=void 0===l?null:l,d=function(e,t,n){var o=(0,s.permissionCheck)(t);return{licenseSuccess:(0,s.licenseCheck)(n)(a.license),permissionSuccess:o(a.permission),permissionProps:Object.keys(r).reduce(function(t,a){if(r[a]instanceof Array)return t[a]=r[a].map(function(e,t){if(o(e.permission))return e.obj}).filter(function(e){return e}),t;if("function"==typeof r[a])return n=r[a](e),o(n.permission)?t[a]=n.obj:n.falseObj&&(t[a]=n.falseObj),t;var n=r[a];return o(n.permission)?t[a]=n.obj:t[a]=n.falseObj,t},{})}},m=Object.keys(r).some(function(e){return"function"==typeof r[e]});return function(e){return function(t){return i.default.createElement(c,n({},t,{proxyPropsObjHasFunction:m,getLicenseProfileCheck:d,Component:e,Fallback:u}))}}};t.urlLicensePermissionCheckHOC=function(e){return e.Fallback=InsufficientPrivileges,u(e)}},962:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t.underScoreSplit=function(e){return e.split("_")},i=function(e,t){for(var a=t.length,o=[],i=0,s=void 0,l=0;l<a;l++)"&"!=t.charAt(l)&&"|"!=t.charAt(l)?(void 0===o[i]&&(o[i]=""),o[i]=""+o[i]+t.charAt(l)):(o[i+=1]=""+t.charAt(l)+t.charAt(l),l+=1,i+=1);for(;o.length>1||1==o.length&&"true"!=o[0]&&"false"!=o[0];){var c=n(o,3),u=c[0],d=c[1],m=c[2],p=void 0===m?"*":m;u=u.replace(/ /g,""),p=p.replace(/ /g,""),u="true"==u||"false"!=u&&r(e)(u),p="true"==p||"false"!=p&&r(e)(p||"*"),o=[""+(s="&&"==d?u&&p:"||"==d?u||p:u)].concat(o.slice(3))}return void 0===s&&1==o.length&&(s="true"==o[0]),s},r=(t.permissionCheck=function(e){return function(t){for(var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t;-1!=o.indexOf(")");){var r=o.indexOf(")"),s=o.lastIndexOf("(",r);o=""+o.substring(0,s)+i(e,o.substring(s+1,r))+o.substring(r+1)}var l=i(e,o);return l?a:n}},t.singleModulePermissionCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o(t||"*"),s=n(r,2),l=s[0],c=s[1];return"*"==l&&void 0===c?a:e[l]?(e[l][c]?e[l][c]:!(!e[l].flags||!e[l].flags[c])&&e[l].flags[c])?a:i:e.flags&&e.flags[c]||null?a:i}});t.licenseCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.licenseType;return"*"==t?a:t.constructor==Array&&-1!=t.indexOf(o)?a:o==t?a:n}}},963:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),o=(a(26),r(a(1))),i=a(955);function r(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.children,a=e.features,o=e.module,r=e.action,s=t.type,l=t.props,c=(0,i.getRestriction)(a,o,r),u=c.isShow,d=c.isReadOnly,m=c.readOnlyMessage,p=void 0===m?"":m;return u?n.default.createElement(s,Object.assign({},l,{isReadOnly:d,readOnlyMessage:p})):null}s.propTypes={module:o.default.string,children:o.default.Component,features:o.default.array,action:o.default.string},t.default=s},964:function(e,t,a){"use strict";var n,o;function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var r={tickets:{isSpam:{secondaryContact:[1,1],leftPanelForm:[1,1],replyAssistant:[0,0],suggestedSolution:[0,0],timeline:[1,1],mergeTicket:[0,0],marketPlace:[0,0],replyActions:[0,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[1,0],addTask:[0,0],footer:[1,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],add_comment:[0,0],edit_approval:[0,0],add_timeentry_invoice:[0,0]},bluePrint:{status:[1,1],move:[1,0]},ticketSharingList:{edit:[0,0],delete:[0,0],status:[1,1],assign:[1,1],peek:[1,0],move:[1,1],mass_action:[1,1]},spam:{edit:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1],peek:[1,0],delete:[1,0],move:[1,1]},spamContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},anonymousContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},trash:(n={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},i(n,"peek",[1,0]),i(n,"move",[1,1]),n),notAccessible:(o={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},i(o,"peek",[1,0]),i(o,"move",[1,1]),i(o,"mass_action",[1,1]),o)},contacts:{anonymous:{edit:[0,0],follow:[0,0],add_tickets:[0,0],add_products:[0,0],add_attachments:[0,0],add_activies:[0,0],add_comment:[0,0],edit_comment:[0,0],mass_action:[1,1],massUpdate:[0,0],massMerge:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0]},spam:{edit:[0,0],add_tickets:[0,0],massUpdate:[0,0],massMerge:[0,0],follow:[0,0],add_call:[0,0],add_activies:[0,0],add_timentry:[0,0],edit_timeentry:[0,0],delete_timeentry:[0,0],remove_products:[0,0],add_products:[0,0],add_attachments:[0,0],add_comment:[0,0],edit_comment:[0,0],delete_comment:[0,0],add_as_enduser:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0],comment_more:[0,0]}},accounts:{spamContacts:{disassociate:[0,0]}},tasks:{}};r.tickets=Object.assign({},r.tickets,{TS_READ_WRITE:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_RESTRICTED_ACCESS:{timeline:[0,0],leftPanelForm:[0,0],followers_view:[0,0],followers_add:[0,0],tags_view:[0,0],tags_add:[0,0],shareCount:[0,0],forWardOnly:[1,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_READ_ONLY:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]}});t.restrictionRules=r,t.lockMessages={tickets:{TS_READ_WRITE:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_RESTRICTED_ACCESS:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_READ_ONLY:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.lock ed"},bluePrint:{status:"support.blueprints.status.lock.msg"}}}},965:function(e,t,a){e.exports={item:"MassAction-module__item",itemOuterSapce:"MassAction-module__itemOuterSapce",massItem:"MassAction-module__massItem MassAction-module__itemOuterSapce",checkMassItem:"MassAction-module__checkMassItem MassAction-module__itemOuterSapce",massIcon:"MassAction-module__massIcon",massLabel:"MassAction-module__massLabel common-module__dotted common-module__oflow common-module__ellipsis",massCount:"MassAction-module__massCount",dark:"MassAction-module__dark",danger:"MassAction-module__danger",check:"MassAction-module__check",secondary:"MassAction-module__secondary",ticketLp:"MassAction-module__ticketLp",primary:"MassAction-module__primary",ticketLpicon:"MassAction-module__ticketLpicon",small:"MassAction-module__small",medium:"MassAction-module__medium",Hiddenicon:"MassAction-module__Hiddenicon"}},967:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(995),v=a.n(_),b=a(64),k=a.n(b),I=a(6),y=a(30),C=a(16),T=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a}return m()(t,e),l()(t,[{key:"getSelectedItemRef",value:function(e){this.props.selectRef(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.agentsList,n=t.closePopupOnly,o=t.onChangeAssignee,i=t.selectedIndex,r=t.addFollower,s=t.page,l=t.selectedAgentId,c=t.selectedTeamId,u=void 0===c?null:c,d=t.namePattern,m=t.dataId;return f.a.createElement("div",{className:v.a.posrel,"data-id":m||"agentList"},a.map(function(t,a){var c=t.id,m=t.firstName,p=t.lastName,h=t.photoURL,g=t.rolePermissionType,_=Object(I.f)(d,m,p);return"Light"!=g?f.a.createElement(C.Container,{isCover:!1,alignBox:"row",align:"vertical",className:c==l?v.a.selectedItem:v.a.item+" "+(a==i?v.a.hoverItem:""),dataId:"agent_"+c,key:a,onClick:function(e){n(e),"followers"==s?r(c):o({assigneeId:c,teamId:u})},eleRef:a==i?e.getSelectedItemRef:null},h?f.a.createElement(k.a,{name:_,size:"xsmall",src:h}):f.a.createElement(k.a,{name:_,size:"xsmall"}),f.a.createElement("span",{className:v.a.assignName},_),f.a.createElement("span",{className:v.a.text},c==l?f.a.createElement("span",{className:v.a.markedIcon},f.a.createElement(y.CustomersFontIcon,{color:"primary",isBold:!0,name:"checkmarkO",size:"17"})):null)):null}))}}]),t}(f.a.Component);t.a=T,T.propTypes={addFollower:g.a.func,agentsList:g.a.array,closePopupOnly:g.a.func,namePattern:g.a.array,onChangeAssignee:g.a.func,page:g.a.string,selectRef:g.a.func,selectedAgentId:g.a.string,selectedIndex:g.a.number,selectedTeamId:g.a.bool}},969:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(972),v=a.n(_),b=a(64),k=a.n(b),I=a(152),y=a(56),C=a.n(y),T=a(960),E=function(e){function t(e){return r()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.action,n=e.iconSize,o=e.size,i=e.iconColor,r=e.topicIcon,s=e.topicIconTitle,l=e.topicIconSize,c=e.topicIconColor,u=e.iconClass,d=e.dataId,m=e.className,p=e.palette,h=t&&Object(T.a)()[t.toUpperCase()],g=null,_=null;return h?_=h[a]:g=t,f.a.createElement("span",{className:v.a.container},g?f.a.createElement(k.a,{name:g,size:o,palette:p}):o?_?f.a.createElement(I.a,{name:_,iconSize:n,size:o,iconColor:i,iconClass:(u||"")+" "+v.a.iconStyle+" "+(t&&a?v.a[t.toLowerCase()+"_"+a.toLowerCase()]:""),dataId:d,className:m}):f.a.createElement(k.a,{name:t,size:o,palette:p}):f.a.createElement(C.a,{name:_,size:n,color:i,iconClass:u||""}),r?f.a.createElement("span",{className:v.a.thread,"data-title":s},f.a.createElement(C.a,{name:r,size:l,color:c})):null)}}]),t}(p.Component);t.a=E,E.defaultProps={iconSize:"18",name:"phone"},E.propTypes={action:g.a.string,className:g.a.string,dataId:g.a.string,iconClass:g.a.string,iconColor:g.a.string,iconSize:g.a.string,name:g.a.string,palette:g.a.oneOf(["primary","secondary","info","default"]),size:g.a.string,topicIcon:g.a.string,topicIconColor:g.a.string,topicIconSize:g.a.string,topicIconTitle:g.a.string}},971:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=f(a(0)),i=f(a(1)),r=f(a(975)),s=f(a(958)),l=a(16),c=f(a(949)),u=f(a(73)),d=f(a(72)),m=a(959),p=a(954);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[31,28,31,30,31,30,31,31,30,31,30,31],b=["January","February","March","April","May","June","July","August","September","October","November","December"];var k=function(e){function t(e){h(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getHours=a.getHours.bind(a),a.amPmSelect=a.amPmSelect.bind(a),a.hoursSelect=a.hoursSelect.bind(a),a.dateSelect=a.dateSelect.bind(a),a.timeSelect=a.timeSelect.bind(a),a.handleClear=a.handleClear.bind(a),a.handleSelect=a.handleSelect.bind(a),a.minutesSelect=a.minutesSelect.bind(a),a.modifyCalendar=a.modifyCalendar.bind(a),a.hourSuggestions=function(){for(var e=[],t=1;t<=12;t++){var a=t<10?"0"+t:""+t;e.push({id:a,text:a})}return e}(),a.minSuggestions=function(){for(var e=[],t=0;t<=59;t++){var a=t<10?"0"+t:""+t;e.push({id:a,text:a})}return e}(),a.ampmSuggestions=[{id:"AM",text:"AM"},{id:"PM",text:"PM"}],a.state=a.getStateFromProps(e),a}return _(t,o.default.Component),n(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.value;e.value!==t&&this.setState(this.getStateFromProps(this.props))}},{key:"getStateFromProps",value:function(e){var t,a,n,o,i=void 0,r=void 0,s=void 0,l=e.value,c=e.timeZone,u=l?new Date(l).valueOf():"";u||(u=(new Date).valueOf());var d="",f=p.offsetMap[c]?p.offsetMap[c]:m.browserOffset;return d=(0,m.convertTimezone)(u,m.browserOffset,0),d=(0,m.convertTimezone)(d,0,f),t=(s=new Date(d)).getDate(),a=s.getMonth(),n=s.getFullYear(),o=(i=s.getHours())<12?"AM":"PM",{date:t,month:a,year:n,mins:r=(r=s.getMinutes())<10?"0"+r:r,hours:i=this.getHours(i),amPm:o}}},{key:"getHours",value:function(e){var t=e;return 0===t?t=12:t>12&&(t-=12),t=t<10?"0"+t:t}},{key:"handleSelect",value:function(e){e.preventDefault();var t=this.props,a=t.min,n=t.max,o=t.onError,i=t.onSelect,r=t.minErrorText,s=t.maxErrorText,l=t.timeZone,c=t.isDateTimeField,u=this.state,d=u.year,f=u.month,h=u.date,g=u.hours,_=u.mins,v=u.amPm;12===g&&(g="AM"===v?0:12),"PM"===v&&g<12&&(g=parseInt(g)+12);var b=null,k=null,I=p.offsetMap[l]?p.offsetMap[l]:m.browserOffset;a&&(b=a.valueOf(),b=(0,m.convertTimezone)(b,I,0),b=(0,m.convertTimezone)(b,0,m.browserOffset)),n&&(k=n.valueOf(),k=(0,m.convertTimezone)(k,I,0),k=(0,m.convertTimezone)(k,0,m.browserOffset));var y=new Date(c?d+"/"+(f+1)+"/"+h+" "+g+":"+_:d+"/"+(f+1)+"/"+h);y=(0,m.convertTimezone)(y,I,0),y=(0,m.convertTimezone)(y,0,m.browserOffset);var C=new Date(y);b&&b>y?o(r,!0):k&&k<y?o(s,!0):i(C,e)}},{key:"handleClear",value:function(e){(0,this.props.onSelect)("",e)}},{key:"dateSelect",value:function(e,t,a){this.setState({date:e,month:t,year:a})}},{key:"timeSelect",value:function(e,t,a){this.setState({hours:e,mins:t,amPm:a})}},{key:"hoursSelect",value:function(e){this.setState({hours:e})}},{key:"minutesSelect",value:function(e){this.setState({mins:e})}},{key:"amPmSelect",value:function(e){this.setState({amPm:e})}},{key:"closePopup",value:function(){closeGroupPopups("dropdown")}},{key:"modifyCalendar",value:function(e){var t=this.state,a=t.year,n=t.month;"gg"===e?this.setState({year:a+1}):"ll"===e?this.setState({year:a-1}):"g"===e?(11===n?(n=0,a++):n++,this.setState({year:a,month:n})):(0===n?(n=11,a--):n--,this.setState({year:a,month:n}))}},{key:"render",value:function(){var e=this.state,t=e.date,a=e.month,n=e.year,i=e.hours,m=e.mins,p=e.amPm,f=function(e,t,a){return 1===a&&(v[1]=t%400==0||t%4==0&&t%100!=0?29:28),b[a]+" "+t}(0,n,a),h=this.props,g=h.isDateTimeField,_=h.position,k=h.isActive,y=h.isReady,C=h.getRef,T=h.onClick,E=h.dataIdPrevYear,S=h.dataIdPrevMonth,N=h.dataIdResultString,A=h.dataIdNextyear,O=h.portalId,w=h.subPortalId;return y?o.default.createElement(d.default,{size:"mlarge",boxPosition:_,isActive:k,isArrow:!1,isAnimate:!0,animationStyle:"bounce",getRef:C,onClick:T,portalId:O},o.default.createElement("div",{className:s.default.container,"data-id":"Calendar",onClick:this.closePopup},o.default.createElement(l.Container,{alignBox:"row",align:"both",className:s.default.header},o.default.createElement(I,{dataTitle:"prevYear",dataId:E,modifyCalendar:this.modifyCalendar,type:"ll"},"<<"),o.default.createElement(I,{dataId:S,modifyCalendar:this.modifyCalendar,type:"l"},"<"),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{"data-id":N,className:s.default.thMonYear},f)),o.default.createElement(I,{dataId:"DateContainer",modifyCalendar:this.modifyCalendar,type:"g"},">"),o.default.createElement(I,{dataId:A,modifyCalendar:this.modifyCalendar,type:"gg"},">>")),o.default.createElement(l.Container,{alignBox:"row",align:"both",className:s.default.days},o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr+" "+s.default.sunday},"Sun")),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr},"Mon")),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr},"Tue")),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr},"Wed")),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr},"Thu")),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr},"Fri")),o.default.createElement(l.Box,{flexible:!0},o.default.createElement("span",{className:s.default.daysStr},"Sat"))),o.default.createElement(r.default,{date:t,year:n,month:a,onSelect:this.dateSelect}),g&&o.default.createElement(l.Container,{alignBox:"row",align:"vertical",className:s.default.timesection,isCover:!1},o.default.createElement("span",{className:s.default.timeStr},"Time"),o.default.createElement(l.Box,{flexible:!0,className:s.default.dropDownContainer},o.default.createElement(c.default,{options:this.hourSuggestions,onChange:this.hoursSelect,selectedValue:i,needSearch:!0,emptyMessage:"No search results",animationStyle:"bounce",textBoxSize:"xmedium",textBoxVariant:"primary",searchBoxSize:"xmedium",searchBoxPlaceHolder:"",maxLength:"2",popupGroup:"calender",size:"small",portalId:w})),o.default.createElement(l.Box,{flexible:!0,className:s.default.dropDownContainer},o.default.createElement(c.default,{options:this.minSuggestions,onChange:this.minutesSelect,selectedValue:m,needSearch:!0,emptyMessage:"No search results",animationStyle:"bounce",textBoxSize:"xmedium",textBoxVariant:"primary",searchBoxSize:"xmedium",searchBoxPlaceHolder:"",maxLength:"2",popupGroup:"calender",size:"small",portalId:w})),o.default.createElement(l.Box,{flexible:!0,className:s.default.dropDownContainer},o.default.createElement(c.default,{options:this.ampmSuggestions,onChange:this.amPmSelect,selectedValue:p,emptyMessage:"No matches found",animationStyle:"bounce",textBoxSize:"xmedium",textBoxVariant:"primary",maxLength:"2",popupGroup:"calender",size:"small",portalId:w}))),o.default.createElement(l.Container,{isCover:!1,align:"horizontal",alignBox:"row",className:s.default.footer},o.default.createElement(u.default,{text:"Set",size:"medium",palette:"primaryFilled",onClick:this.handleSelect,dataId:"savebtn"}),o.default.createElement("span",{className:s.default.space}),o.default.createElement(u.default,{text:"Clear",size:"medium",palette:"secondary",onClick:this.handleClear})))):null}}]),t}();t.default=k,k.propTypes={dataIdDateTime:i.default.string,dataIdNextMonth:i.default.string,dataIdNextyear:i.default.string,dataIdPrevMonth:i.default.string,dataIdPrevYear:i.default.string,dataIdResultString:i.default.string,getRef:i.default.func,isActive:i.default.bool,isDateTimeField:i.default.bool,isReady:i.default.bool,max:i.default.string,maxErrorText:i.default.string,min:i.default.string,minErrorText:i.default.string,onClick:i.default.func,onError:i.default.func,onSelect:i.default.func,portalId:i.default.string,position:i.default.string,subPortalId:i.default.string,timeZone:i.default.string,value:i.default.string},k.defaultProps={dataIdDateTime:"dateTimeComp",dataIdNextMonth:"nextMonth",dataIdNextyear:"nextyear",dataIdPrevMonth:"prevMonth",dataIdPrevYear:"prevYear",dataIdResultString:"resultString",isDateTimeField:!0};var I=t.Span=function(e){function t(e){h(this,t);var a=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.modifyCalendarChild=a.modifyCalendarChild.bind(a),a}return _(t,o.default.Component),n(t,[{key:"modifyCalendarChild",value:function(){var e=this.props;(0,e.modifyCalendar)(e.type)}},{key:"render",value:function(){var e=this.props,t=e.dataTitle,a=e.children,n=e.dataId;return o.default.createElement("div",{className:s.default.thArrowConatainer},o.default.createElement("span",{"data-title":t,"data-id":n,className:s.default.thArrow,onClick:this.modifyCalendarChild},a))}}]),t}();I.propTypes={children:i.default.node,dataId:i.default.string,dataTitle:i.default.string,modifyCalendar:i.default.func,type:i.default.string}},972:function(e,t,a){e.exports={container:"ChannelIcon-module__container common-module__dInflex",thread:"ChannelIcon-module__thread common-module__rounded common-module__dflex common-module__alignVertical common-module__alignHorizontal",iconStyle:"ChannelIcon-module__iconStyle",email_incoming:"ChannelIcon-module__email_incoming",email_outgoing:"ChannelIcon-module__email_outgoing",chat_outgoing:"ChannelIcon-module__chat_outgoing",offline_chat_outgoing:"ChannelIcon-module__offline_chat_outgoing",online_chat_outgoing:"ChannelIcon-module__online_chat_outgoing",email_forward:"ChannelIcon-module__email_forward",facebook_forward:"ChannelIcon-module__facebook_forward",twitter_forward:"ChannelIcon-module__twitter_forward",forums_forward:"ChannelIcon-module__forums_forward",chat_forward:"ChannelIcon-module__chat_forward",offline_chat_forward:"ChannelIcon-module__offline_chat_forward",online_chat_forward:"ChannelIcon-module__online_chat_forward",phone_forward:"ChannelIcon-module__phone_forward",web_forward:"ChannelIcon-module__web_forward",customerportal_forward:"ChannelIcon-module__customerportal_forward",feedback_forward:"ChannelIcon-module__feedback_forward",email_forwardDraft:"ChannelIcon-module__email_forwardDraft",facebook_forwardDraft:"ChannelIcon-module__facebook_forwardDraft",twitter_forwardDraft:"ChannelIcon-module__twitter_forwardDraft",forums_forwardDraft:"ChannelIcon-module__forums_forwardDraft",chat_forwardDraft:"ChannelIcon-module__chat_forwardDraft",offline_chat_forwardDraft:"ChannelIcon-module__offline_chat_forwardDraft",online_chat_forwardDraft:"ChannelIcon-module__online_chat_forwardDraft",phone_forwardDraft:"ChannelIcon-module__phone_forwardDraft",web_forwardDraft:"ChannelIcon-module__web_forwardDraft",customerportal_forwardDraft:"ChannelIcon-module__customerportal_forwardDraft",feedback_forwardDraft:"ChannelIcon-module__feedback_forwardDraft",email_missed:"ChannelIcon-module__email_missed",facebook_incoming:"ChannelIcon-module__facebook_incoming",facebook_outgoing:"ChannelIcon-module__facebook_outgoing",facebook_missed:"ChannelIcon-module__facebook_missed",facebook_dm_default:"ChannelIcon-module__facebook_dm_default",facebook_dm_incoming:"ChannelIcon-module__facebook_dm_incoming",facebook_dm_outgoing:"ChannelIcon-module__facebook_dm_outgoing",facebook_dm_draft:"ChannelIcon-module__facebook_dm_draft",facebook_dm_forward:"ChannelIcon-module__facebook_dm_forward",facebook_dm_forwardDraft:"ChannelIcon-module__facebook_dm_forwardDraft",twitter_incoming:"ChannelIcon-module__twitter_incoming",twitter_outgoing:"ChannelIcon-module__twitter_outgoing",twitter_missed:"ChannelIcon-module__twitter_missed",forums_incoming:"ChannelIcon-module__forums_incoming",forums_outgoing:"ChannelIcon-module__forums_outgoing",forums_missed:"ChannelIcon-module__forums_missed",chat_incoming:"ChannelIcon-module__chat_incoming",offline_chat_incoming:"ChannelIcon-module__offline_chat_incoming",online_chat_incoming:"ChannelIcon-module__online_chat_incoming",chat_missed:"ChannelIcon-module__chat_missed",offline_chat_missed:"ChannelIcon-module__offline_chat_missed",online_chat_missed:"ChannelIcon-module__online_chat_missed",phone_incoming:"ChannelIcon-module__phone_incoming",phone_outgoing:"ChannelIcon-module__phone_outgoing",phone_missed:"ChannelIcon-module__phone_missed",feedback_default:"ChannelIcon-module__feedback_default",feedback_incoming:"ChannelIcon-module__feedback_incoming",web_incoming:"ChannelIcon-module__web_incoming",customerportal_incoming:"ChannelIcon-module__customerportal_incoming",web_missed:"ChannelIcon-module__web_missed",customerportal_missed:"ChannelIcon-module__customerportal_missed",feedback_missed:"ChannelIcon-module__feedback_missed",email_default:"ChannelIcon-module__email_default",twitter_default:"ChannelIcon-module__twitter_default",facebook_default:"ChannelIcon-module__facebook_default",chat_default:"ChannelIcon-module__chat_default",offline_chat_default:"ChannelIcon-module__offline_chat_default",online_chat_default:"ChannelIcon-module__online_chat_default",forums_default:"ChannelIcon-module__forums_default",phone_default:"ChannelIcon-module__phone_default",web_default:"ChannelIcon-module__web_default",customerportal_default:"ChannelIcon-module__customerportal_default",email_draft:"ChannelIcon-module__email_draft",facebook_draft:"ChannelIcon-module__facebook_draft",twitter_draft:"ChannelIcon-module__twitter_draft",forums_draft:"ChannelIcon-module__forums_draft",chat_draft:"ChannelIcon-module__chat_draft",offline_chat_draft:"ChannelIcon-module__offline_chat_draft",online_chat_draft:"ChannelIcon-module__online_chat_draft",phone_draft:"ChannelIcon-module__phone_draft",web_draft:"ChannelIcon-module__web_draft",customerportal_draft:"ChannelIcon-module__customerportal_draft",feedback_draft:"ChannelIcon-module__feedback_draft"}},974:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(2),o=a.n(n),i=a(21),r=a(17),s=a(19),l=a.n(s),c=a(6),u=[],d={},m=Object(i.createSelector)([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("module.agent",e)||t.agents||d},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.agentIds||u},r.L],function(e,t,a){var n=[];return t.forEach(function(t){var i=e[t],r=i||{},s=r.name,l=void 0===s?"":s,u=r.firstName,d=void 0===u?"":u,m=r.lastName,p=void 0===m?"":m;l=d||p?Object(c.f)(a,d,p):l,i&&n.push(o()({},i,{name:l}))}),n}),p=function(){return m}},975:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a(0)),i=l(a(1)),r=l(a(958)),s=a(16);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[31,28,31,30,31,30,31,31,30,31,30,31],p=function(e){function t(e){c(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a}return d(t,o.default.Component),n(t,[{key:"handleSelect",value:function(e,t,a){(0,this.props.onSelect)(e,t,a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.date,n=t.year,i=t.month,l=t.dataId,c=new Date(n,i,1),u=c.getDay()+1,d=c.getFullYear(),p=c.getMonth(),h=5;31===m[i]&&u>=6||30===m[i]&&7===u?h=6:28===m[i]&&1===u&&(h=4);var g=1,_=1,v=function(){for(var t=[],l=1;l<=h;l++){for(var c=[],v=null,b=1;b<8;b++){if(_>=u&&g<=m[i]){var k=r.default.datesStr;1===b&&(k+=" "+r.default.sunday),g===parseInt(a)&&parseInt(i)===p&&parseInt(n)===d&&(k+=" "+r.default.today),v=o.default.createElement(f,{i:b,tdclass:k,handleSelect:e.handleSelect,incremday:g,userSeeMonth:p,userSeeYear:d,dataId:"property"}),g++}else v=o.default.createElement(s.Box,{flexible:!0},o.default.createElement("span",{key:b,className:r.default.emptySpan}));_++,c.push(v)}t.push(o.default.createElement(s.Container,{key:l,alignBox:"row",align:"both",isCover:!1,className:r.default.dateRow},c))}return t}();return o.default.createElement("div",{"data-id":l,className:r.default.dateContainer},v)}}]),t}();t.default=p,p.propTypes={dataId:i.default.string,date:i.default.oneOfType([i.default.string,i.default.number]),month:i.default.oneOfType([i.default.string,i.default.number]),onSelect:i.default.func,year:i.default.oneOfType([i.default.string,i.default.number])},p.defaultProps={dataId:"dateContainer"};var f=t.Span=function(e){function t(e){c(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelectChild=a.handleSelectChild.bind(a),a}return d(t,o.default.Component),n(t,[{key:"handleSelectChild",value:function(){var e=this.props;(0,e.handleSelect)(e.incremday,e.userSeeMonth,e.userSeeYear)}},{key:"render",value:function(){var e=this.props,t=e.tdclass,a=e.incremday,n=e.i,i=e.dataId;return o.default.createElement(s.Box,{flexible:!0},o.default.createElement("span",{"data-id":i,className:t,key:n,onClick:this.handleSelectChild}," ",a))}}]),t}();f.propTypes={dataId:i.default.string,handleSelect:i.default.func,i:i.default.number,incremday:i.default.number,tdclass:i.default.string,userSeeMonth:i.default.number,userSeeYear:i.default.number},f.defaultProps={dataId:"calendar-view"}},976:function(e,t,a){"use strict";var n=a(38),o=a.n(n),i=a(2),r=a.n(i),s=a(11),l=a.n(s),c=a(23),u=a.n(c),d=a(12),m=a.n(d),p=a(9),f=a.n(p),h=a(10),g=a.n(h),_=a(13),v=a.n(_),b=a(14),k=a.n(b),I=a(0),y=a.n(I),C=a(1),T=a.n(C),E=a(26),S=a(154),N=a.n(S),A=a(19),O=a.n(A),w=a(3),P=a(956),D=a(974),x=a(17);function L(e,t,a){var n=t.departmentId||Object(x.r)(e),o=O()("departmentSpecificState."+n+".agentList."+a,e)||[],i=Object(x.L)(e);return{globalAgentIds:o,agents:O()("module.agent",e),namePattern:i,deptId:n}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"activeAgents",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.u,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i){var s=function(s){function c(e){f()(this,c);var t=v()(this,(c.__proto__||m()(c)).call(this,e));return t.state={listUIState:{from:1,isNext:!1},searchUIState:{from:1,isNext:!1,agentIds:[],searchStr:""},searchStr:"",isFetching:!1},t._isMounted=!1,t.getAgentsListSel=Object(D.a)(),t.handleGetAgents=t.handleGetAgents.bind(t),t.handleGetNextAgents=t.handleGetNextAgents.bind(t),t.handleSearchAgents=t.handleSearchAgents.bind(t),t.handleAPI=t.handleAPI.bind(t),t.handleSearchAgentsArray=t.handleSearchAgentsArray.bind(t),t.handleGetAgentsList=t.handleGetAgentsList.bind(t),t.handleLocalAgentsSearch=t.handleLocalAgentsSearch.bind(t),t}return k()(c,s),g()(c,[{key:"componentDidMount",value:function(){this._isMounted=!0,n&&this.handleGetAgents()}},{key:"componentDidUpdate",value:function(e){this.props.deptId,e.deptId}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAPI",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var o=a.slice(1,a.length),i=a[0],r=this.state.isFetching,s=this._isMounted;return r?l.a.resolve():(s&&this.setState({isFetching:!0}),i.apply(void 0,u()(o)).then(function(t){return s&&e.setState({isFetching:!1}),t&&204!==t.responseStatus?t:l.a.resolve()},function(t){throw s&&e.setState({isFetching:!1}),t}))}},{key:"handleGetAgentsList",value:function(a){var n=this,o=this.props,i=o.getAgentsList,s=o.departmentId,c=this.state,u=c.searchStr,d=c.listUIState,m=c.searchUIState,p=this._isMounted,f="NEXT"===a,h=u.replace(/\s+/g,""),g=m.searchStr,_=void 0===g?"":g,v=u.replace(/\s+/g,"").toLowerCase(),b=_.replace(/\s+/g,"").toLowerCase();if(u){if("CURRENT"!==a||v!==b){var k=m.from,I=void 0===k?1:k,y=f?I+t:1;return this.setState({searchUIState:r()({},m,{from:y,isNext:!1})}),this.handleAPI(i,e+"Search",y,h,t,s).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},a=t.result,o=void 0===a?[]:a,i=t.isNext,r=t.from,s=t.searchStr;return n.handleSearchAgentsArray(o,r,i,s,f),e},function(e){throw p&&n.setState({searchUIState:r()({},m,{from:I,isNext:!1})}),e})}return l.a.resolve()}var C=d.from,T=void 0===C?1:C,E=f?T+t:1;return this.setState({listUIState:r()({},d,{from:E,isNext:!1})}),this.handleAPI(i,e,E,u,t,s).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},a=t.from,o=t.isNext;return p&&n.setState({listUIState:r()({},d,{from:a,isNext:o})}),e},function(e){throw p&&n.setState({listUIState:r()({},d,{from:T,isNext:!1})}),e})}},{key:"handleSearchAgentsArray",value:function(e,a,n,o,i){var r=this.state.searchUIState.agentIds,s=this._isMounted,l=a-1,c=l+(2*t>200?200:2*t),d=i?[].concat(u()(r.slice(0,l)),u()(e),u()(r.slice(c,r.length))):e;s&&this.setState({searchUIState:{agentIds:d,from:a,isNext:n,searchStr:o}})}},{key:"handleGetAgents",value:function(){return this.handleGetAgentsList("CURRENT").then(function(e){return e},function(e){throw e})}},{key:"handleSearchAgents",value:function(e){this.setState({searchStr:e})}},{key:"handleGetNextAgents",value:function(){return this.handleGetAgentsList("NEXT").then(function(e){return e},function(e){throw e})}},{key:"handleLocalAgentsSearch",value:function(){var e=this.state.searchStr,t=this.props,a=t.agents;return t.globalAgentIds.filter(function(t){var n=a[t],o=n.firstName,i=void 0===o?"":o,r=n.lastName,s=void 0===r?"":r,l=n.emailId,c=void 0===l?"":l,u=(i+s).replace(/\s+/g,"").toLowerCase(),d=e.replace(/\s+/g,"").toLowerCase();return-1!==u.indexOf(d)||-1!==c.indexOf(d)})}},{key:"render",value:function(){var e=this.state,n=e.searchStr,r=void 0===n?"":n,s=e.listUIState,l=e.isFetching,c=e.searchUIState,u=this.props,d=u.globalAgentIds,m=u.namePattern,p=u.agents,f=r?c:s,h=f.from,g=f.isNext,_=f.agentIds,v=f.searchStr,b=void 0===v?"":v,k=r.replace(/\s+/g,"").toLowerCase(),I=b.replace(/\s+/g,"").toLowerCase(),C=k?I===k?_:a?this.handleLocalAgentsSearch():[]:d,T=this.getAgentsListSel({},{agents:p,agentIds:C.slice(0,h-1+t),namePattern:m});return y.a.createElement(i,o()({},this.props,{agentIds:C,agentsList:T,getAgents:this.handleGetAgents,getNextAgents:this.handleGetNextAgents,isFetching:l,isNextAgents:g,onSearchAgents:this.handleSearchAgents,searchString:r}))}}]),c}(y.a.Component);return s.propTypes={agents:T.a.object,departmentId:T.a.string,deptId:T.a.string,getAgentsList:T.a.func,globalAgentIds:T.a.array,namePattern:T.a.array},N()(Object(E.connect)(function(t,a){return L(t,a,e)},{getAgentsList:P.h})(s),i)}}},985:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(1),g=a.n(h),_=a(153),v=a(989),b=a.n(v),k=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(_.a,{viewBox:"0 0 298 123.3",name:"archived"},f.a.createElement("image",{xlinkHref:b.a,height:"100%",width:"100%"}))}}]),t}(f.a.Component);var I=a(988),y=a(241),C=a(991),T=a.n(C),E=a(109),S=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.renderEmptyState=a.renderEmptyState.bind(),a}return m()(t,e),l()(t,[{key:"renderEmptyState",value:function(e){switch(e){case"archived":return f.a.createElement(k,null);case"team":return f.a.createElement(y.a,null);case"tag":return f.a.createElement(I.a,null);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.text,a=e.iconName,n=e.hrefLinkText,o=e.hrefLink,i=e.isOpenNewTab;return f.a.createElement("div",{className:T.a.viewSearch},f.a.createElement("div",{className:T.a.srchImg},this.renderEmptyState(a)),t?f.a.createElement("div",{className:T.a.srchTxt},t):"",n&&i?f.a.createElement(E.a,{href:o,target:"_blank",className:T.a.srchLink},n):n?f.a.createElement(E.a,{href:o,className:T.a.srchLink},n):null)}}]),t}(f.a.Component);t.a=S;S.propTypes={hrefLink:g.a.string,hrefLinkText:g.a.string,iconName:g.a.oneOf(["archived","team","tag"]),isOpenNewTab:g.a.bool,text:g.a.string},S.defaultProps={iconName:"team",isOpenNewTab:!1,hrefLink:"javascript:void(0)"}},986:function(e,t,a){"use strict";var n=a(38),o=a.n(n),i=a(11),r=a.n(i),s=a(12),l=a.n(s),c=a(9),u=a.n(c),d=a(10),m=a.n(d),p=a(13),f=a.n(p),h=a(14),g=a.n(h),_=a(0),v=a.n(_),b=a(1),k=a.n(b),I=a(32),y=a(26),C=a(24),T=a(956),E=a(80),S=a.n(E),N=a(17),A=a(131),O=a(976),w=a(946),P=a.n(w),D=a(99),x=a.n(D),L=a(8),R=a(81),M=a(65),B=a(967),j=a(5),F=a.n(j),V=a(998),z=a.n(V),U=a(357),H=a.n(U),W=a(64),G=a.n(W),K=a(30),Y=function(e){function t(e){u()(this,t);var a=f()(this,(t.__proto__||l()(t)).call(this,e));return a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a}return g()(t,e),m()(t,[{key:"getSelectedItemRef",value:function(e){this.props.selectRef(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.teamsList,n=t.selectedIndex,o=t.closePopupOnly,i=t.onChangeAssignee,r=t.getAgentsByTeam,s=t.selectedTeamId,l=t.selectedAgentName,c=t.selectedAgentImage,u=t.selectedAgentId;return v.a.createElement("div",{className:z.a.posrel},a.map(function(t,a){var d,m=t.id,p=t.name;t.derivedAgents;return v.a.createElement("div",{key:a,onClick:function(e){o(e),i({teamId:m,assigneeId:null})},className:m==s?z.a.selectedItem:z.a.item+" "+(a==n?z.a.hoverItem:""),ref:a==n?e.getSelectedItemRef:null},v.a.createElement(H.a,{name:p,size:"xsmall"}),v.a.createElement("span",{className:z.a.text},v.a.createElement("span",{className:z.a.assignName},p),m==s?v.a.createElement("span",{className:z.a.markedIcon},v.a.createElement(K.CustomersFontIcon,{name:"checkmarkO",size:"17",color:"primary",isBold:!0})):null),v.a.createElement("div",{className:z.a.teamUser,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),r(m)}},m==s&&u?v.a.createElement(G.a,(d={name:"Avatar",src:c},F()(d,"name",l),F()(d,"size","xsmall"),d)):v.a.createElement(K.TopbandFontIcon,{name:"newuser",size:"13",color:"dark"})))}))}}]),t}(v.a.Component),J=Y;Y.propTypes={closePopupOnly:k.a.func,getAgentsByTeam:k.a.func,onChangeAssignee:k.a.func,selectRef:k.a.func,selectedAgentId:k.a.string,selectedAgentImage:k.a.string,selectedAgentName:k.a.string,selectedIndex:k.a.number,selectedTeamId:k.a.string,teamsList:k.a.array};var q=a(999),Z=a.n(q),Q=a(72),$=a.n(Q),X=a(16),ee=a(6),te=a(458),ae=a(232),ne=function(e){function t(e){u()(this,t);var a=f()(this,(t.__proto__||l()(t)).call(this,e));return a.state={limit:10,selectedIndex:0},a.onScroll=a.onScroll.bind(a),a.hasMoreAgents=a.hasMoreAgents.bind(a),a.handleKeyup=Object(A.a)(a.handleKeyup.bind(a),100,!0),a.handleNavigation=a.handleNavigation.bind(a),a.searchAgents=a.searchAgents.bind(a),a.setScroll=a.setScroll.bind(a),a}return g()(t,e),m()(t,[{key:"onScroll",value:function(){this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&this.hasMoreAgents()&&this.setState({limit:this.state.limit+10})}},{key:"hasMoreAgents",value:function(){var e=this.props,t=e.teamId;return e.teams[t].derivedAgents.length>this.state.limit}},{key:"constructAgentsList",value:function(e){var t=this.props,a=t.teamId,n=t.teams,o=t.agents,i=n[a].derivedAgents;e="all"==e?i.length:this.state.limit,e=i.length>e?e:i.length;for(var r=[],s=0;s<e;s++){var l=i[s];o[l]&&r.push(o[l])}return r}},{key:"handleKeyup",value:function(e){var t=e.keyCode;38==t||40==t||13==t?this.handleNavigation(t,e):this.searchAgents(e.target.value)}},{key:"searchAgents",value:function(e){var t=this.constructAgentsList("all").filter(function(t){return-1!=Object(ee.e)(t.firstName,t.lastName).toLowerCase().indexOf(e.toLowerCase())});this.setState({searchList:t,limit:10,selectedIndex:0})}},{key:"handleNavigation",value:function(e,t){var a=this,n=this.state,o=n.searchVal,i=void 0===o?"":o,r=n.searchList,s=n.selectedIndex,l=i.length>1?r:this.constructAgentsList();switch(e){case 40:this.setState({selectedIndex:s===l.length-1?0:this.state.selectedIndex+1},function(){a.setScroll()});break;case 38:this.setState({selectedIndex:0!=s?this.state.selectedIndex-1:0},function(){a.setScroll()});break;case 13:var c=this.props,u=c.closePopupOnly,d=c.onChangeAssignee,m=c.teamId;u(t),d({assigneeId:l[s].id,teamId:m},t)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.containerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,o=a.offsetHeight,i=t.offsetHeight;(n<=0||o+n>i)&&(t.scrollTop=0==e?0:t.scrollTop+n)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.closeTeamagents,n=t.teams,o=(t.agents,t.teamId),i=t.selectedAgentId,r=t.selectedTeamId,s=t.onChangeAssignee,l=t.closePopupOnly,c=t.namePattern,u=this.state,d=u.searchVal,m=void 0===d?"":d,p=u.searchList,f=void 0===p?[]:p,h=u.selectedIndex,g=n[o],_=g.name,b=(g.derivedAgents,m.length>1?f:this.constructAgentsList());return v.a.createElement(X.Container,{className:Z.a.teamContent},v.a.createElement(X.Box,{className:Z.a.backDiv,onClick:a},v.a.createElement("span",{className:Z.a.backIcon},v.a.createElement(K.CommonFontIcon,{name:"arrowLeft3",size:"14"})),L.f.getI18NValue("support.crmlabel.back")),v.a.createElement(X.Box,{className:Z.a.teamHead},v.a.createElement(X.Container,{alignBox:"row",align:"vertical"},v.a.createElement(X.Box,{flexible:!0,className:Z.a.teamName,"data-title":_},_),v.a.createElement(X.Box,{className:Z.a.connectIcon},v.a.createElement(K.KnowledgeBaseFontIcon,{name:"kbessentialconnect",size:"18"})),v.a.createElement("span",{className:Z.a.bgconnectIcon},v.a.createElement(K.KnowledgeBaseFontIcon,{name:"kbessentialconnect",size:"86"})))),v.a.createElement(X.Box,{className:Z.a.searchDiv},v.a.createElement(x.a,{placeHolder:L.f.getI18NValue("support.search.support.agentinteam"),onKeyUp:this.handleKeyup,value:m,onChange:function(t){e.setState({searchVal:t})}})),v.a.createElement(X.Box,{flexible:!0,onScroll:this.onScroll,scroll:"vertical",eleRef:function(t){e.containerRef=t}},b.length?v.a.createElement(B.a,{selectedTeamId:o,agentsList:b,selectedAgentId:o==r?i:null,closePopupOnly:l,onChangeAssignee:s,selectedIndex:h,selectRef:function(t){e.selectItemRef=t},page:"ticketDv",addFollower:function(){},namePattern:c}):m.length?v.a.createElement(ae.a,null):v.a.createElement(te.a,null)))}}]),t}(v.a.Component),oe=ne;ne.propTypes={agents:k.a.object,closePopupOnly:k.a.func,closeTeamagents:k.a.func,namePattern:k.a.array,onChangeAssignee:k.a.func,selectedAgentId:k.a.bool,selectedTeamId:k.a.bool,teamId:k.a.string,teams:k.a.object};var ie=a(985),re=function(e){function t(e){u()(this,t);var a=f()(this,(t.__proto__||l()(t)).call(this,e));return a.unAssign=a.unAssign.bind(a),a}return g()(t,e),m()(t,[{key:"unAssign",value:function(e){var t=this.props,a=t.onChangeAssignee,n=t.closePopupOnly;a({assigneeId:null,teamId:null}),n(e)}},{key:"render",value:function(){var e=this.props,t=e.assigneeId,a=e.isPopupOpen,n=e.isPopupReady,o=e.agentName,i=e.onChangeAssignee,r=e.closePopupOnly,s=e.photoURL,l=e.teamId,c=e.page,u=e.addFollower,d=e.defaultTab,m=(e.noMoreData,e.agentsList),p=e.teamsList,f=e.searchStr,h=e.selectedIndex,g=e.changeDefaultTab,_=e.keyUp,b=e.setInputRef,k=e.searchAgents,I=e.searchTeams,y=e.contentRef,C=e.setSelectRef,T=e.position,E=e.getAgentsByTeam,S=e.openTeamId,N=e.teamsObject,A=e.agentsObject,O=e.closeTeamagents,w=e.getContainerRef,D=e.needArrow,j=void 0===D||D,F=e.boxSize,V=void 0===F?"mlarge":F,z=e.left,U=void 0===z?null:z,H=e.needTeam,W=void 0===H||H,G=e.needUnAssign,Y=void 0===G||G,q=e.removeClose,Z=e.namePattern,Q=e.isAgentFetching,X=e.isTeamsFetching,ee=e.getNextAgents,ne=e.isNextAgents,re=W&&!S;return a?v.a.createElement($.a,{boxPosition:T,getRef:w,isActive:n,isAnimate:!0,isArrow:j,size:V,left:U,portalId:"portal1"},v.a.createElement("div",{onClick:q},v.a.createElement(R.TabWrapper,{defaultTab:d,needTabBorder:!0,onSelect:g,type:"delta"},v.a.createElement(R.Tabs,{className:re?"":P.a.none,isResponsive:!1},v.a.createElement(R.Tab,{id:"Agent",className:"Agent"==d?P.a.agentTxtActive:P.a.agentTxt,text:L.f.getI18NValue("support.survey.report"),dataId:"assignPopupAgentTab"}),v.a.createElement(R.Tab,{id:"Teams",className:"Teams"==d?P.a.agentTxtActive:P.a.agentTxt,text:L.f.getI18NValue("support.setup.label.teams"),dataId:"assignPopupTeamsTab"})),v.a.createElement(R.TabContentWrapper,{className:S?P.a.teamAgentLayout:P.a.assignLayout},v.a.createElement(R.TabContent,{id:"Agent"},v.a.createElement(M.Card,{fetchData:ee,noMoreData:!ne,noNeedUpScroll:!0},m.length>5||""!=f?v.a.createElement(M.CardHeader,{className:P.a.agentSearch},v.a.createElement(x.a,{inputRef:b,onChange:k,onKeyUp:_,placeHolder:L.f.getI18NValue("support.search.support.users"),value:f,autofocus:!0})):null,v.a.createElement(M.CardContent,{eleRef:y,className:P.a.scrollContainer},m.length?v.a.createElement(B.a,{addFollower:u,agentsList:m,closePopupOnly:r,onChangeAssignee:i,page:c,selectedAgentId:!l&&t,selectedIndex:h,selectRef:C,namePattern:Z}):Q?v.a.createElement(te.a,null):v.a.createElement("div",{className:P.a.empty},v.a.createElement(ae.a,{text:L.f.getI18NValue("support.no.matches.found")}))),v.a.createElement(M.CardFooter,null,Y?v.a.createElement("div",{className:P.a.unAssign,onClick:this.unAssign},v.a.createElement("span",{className:P.a.unAssignIcn},v.a.createElement(K.TicketsFontIcon,{name:"addAgent",size:"13"})),v.a.createElement("span",{className:P.a.unAsgnTxt},L.f.getI18NValue("support.label.markas.unassigned"))):null))),v.a.createElement(R.TabContent,{id:"Teams"},v.a.createElement(M.Card,null,(p.length>5||""!=f)&&!S?v.a.createElement(M.CardHeader,{className:P.a.agentSearch},v.a.createElement(x.a,{inputRef:b,onChange:I,onKeyUp:_,placeHolder:L.f.getI18NValue("support.search.support.team"),value:f,autofocus:!0})):null,v.a.createElement(M.CardContent,{eleRef:y,className:P.a.scrollContainer},S?v.a.createElement(oe,{agents:A,closePopupOnly:r,closeTeamagents:O,onChangeAssignee:i,selectedAgentId:t,selectedTeamId:l,teamId:S,teams:N,namePattern:Z}):p.length?v.a.createElement(J,{closePopupOnly:r,getAgentsByTeam:E,onChangeAssignee:i,selectedAgentId:t,selectedAgentImage:s,selectedAgentName:o,selectedIndex:h,selectedTeamId:l,teamId:S,teams:N,selectRef:C,teamsList:p}):X?v.a.createElement(te.a,null):""!=f?v.a.createElement("div",{className:P.a.empty},v.a.createElement(ae.a,{iconName:"team",text:L.f.getI18NValue("support.no.matches.found")})):v.a.createElement("div",{className:P.a.empty},v.a.createElement(ie.a,{text:L.f.getI18NValue("support.teams.notadded"),hrefLinkText:L.f.getI18NValue("support.teams.addnew"),iconName:"team"}))),Y&&!S?v.a.createElement(M.CardFooter,null,v.a.createElement("div",{className:P.a.unAssign,onClick:this.unAssign},v.a.createElement("span",{className:P.a.unAssignIcn},v.a.createElement(K.TicketsFontIcon,{name:"addAgent",size:"13"})),v.a.createElement("span",{className:P.a.unAsgnTxt},L.f.getI18NValue("support.label.markas.unassigned")))):null)))))):null}}]),t}(_.Component),se=re;re.propTypes={addFollower:k.a.array,agentName:k.a.string,agentsList:k.a.array,agentsObject:k.a.object,assigneeId:k.a.string,boxSize:k.a.string,changeDefaultTab:k.a.func,closePopupOnly:k.a.func,closeTeamagents:k.a.func,contentRef:k.a.func,defaultTab:k.a.string,getAgentsByTeam:k.a.func,getContainerRef:k.a.func,getNextAgents:k.a.func,isNextAgents:k.a.bool,isPopupOpen:k.a.bool,isPopupReady:k.a.bool,keyUp:k.a.func,left:k.a.string,namePattern:k.a.array,needArrow:k.a.bool,needTeam:k.a.bool,needUnAssign:k.a.bool,noMoreData:k.a.bool,onChangeAssignee:k.a.func,onSearchAgents:k.a.func,openTeamId:k.a.string,page:k.a.string,photoURL:k.a.string,position:k.a.string,removeClose:k.a.func,searchAgents:k.a.func,searchStr:k.a.string,searchTeams:k.a.func,selectedIndex:k.a.number,setInputRef:k.a.func,setSelectRef:k.a.func,teamId:k.a.string,teamsList:k.a.array,teamsObject:k.a.object};var le,ce=a(1e3),ue=a.n(ce),de=a(152),me=a(948),pe=function(e){function t(e){u()(this,t);var a=f()(this,(t.__proto__||l()(t)).call(this,e));return a.onClick=a.onClick.bind(a),a}return g()(t,e),m()(t,[{key:"onClick",value:function(e){var t=this.props,a=t.isReadOnly,n=void 0!==a&&a,o=t.onClick;!(t.disableClick||n)&&o(e)}},{key:"render",value:function(){var e=this.props,t=e.agentName,a=e.teamName,n=e.photoURL,o=e.isTeam,i=e.isUnassigned,r=e.assigneeId,s=e.type,l=e.isIconOnly,c=e.haveChangePer,u=e.size,d=e.getRef,m=e.dataId,p="small"==u?"10":"18",f="small"==u?"xsmall":"xmedium";return v.a.createElement("div",{className:ue.a.assign+" "+(c&&!l&&ue.a.pointer),ref:d},v.a.createElement(X.Container,{className:ue.a.agent,onClick:this.onClick,align:"vertical",alignBox:"row",isCover:!1,dataId:m},v.a.createElement(X.Box,null,o?v.a.createElement(H.a,{name:a,size:f,src:n}):i?v.a.createElement(de.a,{iconClass:"mtminus2",iconSize:p,name:"addAgent",size:f}):v.a.createElement(G.a,{name:t,size:f,src:n})),l?null:v.a.createElement(X.Box,{flexible:!0,className:ue.a.agentname},o?r?v.a.createElement("div",{"data-id":"TeamWithAgent"},"type1"==s&&v.a.createElement("span",{className:ue.a.name,"data-title":t},t),v.a.createElement("span",{className:ue.a.arrow},v.a.createElement(K.TopbandFontIcon,{color:"dark",name:"down1",size:"8"})),v.a.createElement("div",{className:ue.a.teamName},v.a.createElement("span",{className:ue.a.spnBrckt},"("),v.a.createElement("span",{className:ue.a.groupShareTxt},v.a.createElement("span",{className:ue.a.circle}),v.a.createElement("span",{className:ue.a.dot1}),v.a.createElement("span",{className:ue.a.dot2}),v.a.createElement("span",{className:ue.a.dot3})),v.a.createElement("span",{className:ue.a.lftPanTeam},a),v.a.createElement("span",{className:ue.a.spnBrckt},")"))):v.a.createElement("span",{className:ue.a.name,"data-id":"TeamOnly","data-title":a},a):"type1"==s?v.a.createElement(X.Container,{alignBox:"row",isCover:!1},v.a.createElement("span",{className:ue.a.name,"data-title":t||L.f.getI18NValue("support.unassigned"),"data-id":"ownerBtnContainer"},t||L.f.getI18NValue("support.unassigned")),c?v.a.createElement("span",{className:ue.a.arrow},v.a.createElement(K.TopbandFontIcon,{color:"dark",name:"down1",size:"8"})):null):null)))}}]),t}(v.a.Component);pe.defaultProps={isTeam:!1,haveChangePer:!0,isIconOnly:!1,type:"type1",size:"medium"},pe.propTypes=(le={agentName:k.a.string,assigneeId:k.a.string,disableClick:k.a.bool,getRef:k.a.func},F()(le,"getRef",k.a.func),F()(le,"haveChangePer",k.a.bool),F()(le,"isIconOnly",k.a.bool),F()(le,"isReadOnly",k.a.bool),F()(le,"isTeam",k.a.bool),F()(le,"isUnassigned",k.a.bool),F()(le,"name",k.a.string),F()(le,"onClick",k.a.func),F()(le,"photoURL",k.a.string),F()(le,"size",k.a.oneOf(["small","medium"])),F()(le,"teamName",k.a.string),F()(le,"type",k.a.string),le);var fe=Object(me.licensePermissionCheckHOC)({component:{license:"*",permission:"*"},props:{disableClick:function(e){var t=e.module,a=void 0===t?"tickets":t;return{permission:a+"_changeOwner"+(e.isUnassigned?"||"+a+"_unassignedChangeOwner":""),obj:!1,falseObj:!0}}}})(pe),he=function(e){var t=e.features,a=void 0===t?[]:t,n=e.module,o=void 0===n?"tickets":n;return v.a.createElement(me.RestrictionValidator,{features:a,module:o,action:"assign"},v.a.createElement(fe,e))};he.propTypes={features:k.a.array,module:k.a.string};var ge=he,_e=function(e){function t(e){return u()(this,t),f()(this,(t.__proto__||l()(t)).call(this,e))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.assigneeId,a=e.teamId,n=e.isLocked,i=e.removeClose,r=e.agentName,s=e.teamName,l=e.getTargetRef,c=e.photoURL,u=e.haveChangeOwnerPermission,d=e.haveUnassignedChangeOwnerPermission,m=e.onClick,p=!t&&!a,f=!n&&u;return p&&(f=!n&&(!!u||d)),v.a.createElement("div",{className:P.a.agentCont,onClick:i},v.a.createElement(ge,{agentName:r,assigneeId:t,teamName:s,getRef:l,haveChangePer:f,isUnassigned:p,onClick:f?m:null,size:"small",photoURL:c,isTeam:a}),v.a.createElement(se,o()({},this.props,{needUnAssign:!p})))}}]),t}(_.Component),ve=_e;_e.propTypes={agentName:k.a.string,assigneeId:k.a.string,getTargetRef:k.a.func,haveChangeOwnerPermission:k.a.bool,haveUnassignedChangeOwnerPermission:k.a.bool,isFromBLuePrint:k.a.bool,isLocked:k.a.bool,isPopupOpen:k.a.bool,onClick:k.a.func,photoURL:k.a.string,removeClose:k.a.func,teamId:k.a.string,teamName:k.a.string};var be=function(e){function t(e){return u()(this,t),f()(this,(t.__proto__||l()(t)).call(this,e))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.isPopupOpen,a=e.haveAddFollowersPermission,n=e.onClick,i=e.getTargetRef,r=e.removeClose;return v.a.createElement("div",{className:P.a.agentCont,onClick:r},v.a.createElement("div",{className:P.a.followerCont+" "+(t?P.a.focused:"")+" "+(a?"":P.a.notAllow),onClick:a&&n,ref:i},v.a.createElement(X.Box,{className:P.a.followText,flexible:!0},L.f.getI18NValue("support.add.followers")),v.a.createElement("span",{className:P.a.dropIcon},v.a.createElement(K.TopbandFontIcon,{name:"blockDownArrow"}))),v.a.createElement(se,o()({},this.props,{needArrow:!1,needTeam:!1,needUnAssign:!1})))}}]),t}(_.Component),ke=be;be.propTypes={getTargetRef:k.a.func,haveAddFollowersPermission:k.a.bool,isPopupOpen:k.a.bool,onClick:k.a.func,removeClose:k.a.func};var Ie=function(e){function t(e){return u()(this,t),f()(this,(t.__proto__||l()(t)).call(this,e))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,a=e.assigneeId,n=e.agentName,i=e.photoURL,r=e.onClick,s=e.getTargetRef,l=e.removeClose,c=e.avatarSize,u=e.teamName,d=e.features,m=!a&&!t;return v.a.createElement("div",{className:P.a.agentCont,onClick:l},v.a.createElement(ge,{agentName:n,getRef:s,teamName:u,isTeam:t,photoURL:i,isIconOnly:!0,isUnassigned:m,onClick:r,size:c,features:d,dataId:m?"addAgent":"ticketAssignPopup"}),v.a.createElement(se,o()({},this.props,{needUnAssign:!m})))}}]),t}(_.Component),ye=Ie;Ie.propTypes={agentName:k.a.string,assigneeId:k.a.string,avatarSize:k.a.string,features:k.a.array,getTargetRef:k.a.func,onClick:k.a.func,photoURL:k.a.string,removeClose:k.a.func,teamId:k.a.string,teamName:k.a.string};var Ce=a(950),Te=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||l()(t)).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.getTargetRef,n=e.removeClose,o=e.dataId;e.massActionType;return v.a.createElement(X.Box,{className:P.a.agentCont,shrink:!0,onClick:n},v.a.createElement(X.Container,{onClick:t,eleRef:a},v.a.createElement(Ce.a,{icon:"newuser",text:L.f.getI18NValue("support.sla.choose.assignto"),iconSize:"14",type:"primary",dataId:o})),v.a.createElement(se,this.props))}}]),t}(_.Component),Ee=Te;Te.propTypes={dataId:k.a.string,getTargetRef:k.a.func,massActionType:k.a.strin,onClick:k.a.func,removeClose:k.a.func};var Se=function(e){function t(e){return u()(this,t),f()(this,(t.__proto__||l()(t)).call(this,e))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,a=e.assigneeId,n=e.agentName,i=e.photoURL,r=e.onClick,s=e.getTargetRef,l=e.removeClose,c=(e.avatarSize,e.teamName),u=!a&&!t;return v.a.createElement("div",{className:P.a.agentCont,onClick:l},v.a.createElement(ge,{agentName:n,teamName:c,isTeam:t,getRef:s,image:i,isIconOnly:!0,isUnassigned:u,onClick:r,size:"small"}),v.a.createElement(se,o()({},this.props,{needUnAssign:!u})))}}]),t}(_.Component),Ne=Se;Se.propTypes={agentName:k.a.string,assigneeId:k.a.string,avatarSize:k.a.string,getTargetRef:k.a.func,onClick:k.a.func,photoURL:k.a.string,removeClose:k.a.func,teamId:k.a.string,teamName:k.a.string};var Ae=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||l()(t)).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.getTargetRef,n=e.removeClose;return v.a.createElement("div",{className:P.a.agentCont,onClick:n},v.a.createElement("span",{className:P.a.mactionTxt,onClick:t,ref:a},v.a.createElement(Ce.a,{icon:"newuser",text:v.a.createElement(L.c,{i18NKey:"support.sla.choose.assignto"}),iconSize:"14",type:"secondary"})),v.a.createElement(se,this.props))}}]),t}(_.Component),Oe=Ae;Ae.propTypes={getTargetRef:k.a.func,onClick:k.a.func,removeClose:k.a.func};var we=function(e){function t(e){return u()(this,t),f()(this,(t.__proto__||l()(t)).call(this,e))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,a=e.assigneeId,n=e.agentName,i=e.photoURL,r=e.onClick,s=e.getTargetRef,l=e.removeClose,c=(e.avatarSize,e.teamName),u=!a&&!t;return v.a.createElement("div",{className:P.a.agentCont,onClick:l},v.a.createElement(ge,{agentName:n,teamName:c,isTeam:t,getRef:s,image:i,isIconOnly:!0,isUnassigned:u,onClick:r,size:"small"}),v.a.createElement(se,o()({},this.props,{needUnAssign:!u})))}}]),t}(_.Component),Pe=we;we.propTypes={agentName:k.a.string,assigneeId:k.a.string,avatarSize:k.a.string,getTargetRef:k.a.func,onClick:k.a.func,photoURL:k.a.string,removeClose:k.a.func,teamId:k.a.string,teamName:k.a.string};var De=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||l()(t)).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.getTargetRef,n=e.removeClose,i=e.isThreeLayout;return v.a.createElement(X.Box,{className:P.a.agentCont,shrink:!0,onClick:n},v.a.createElement(X.Container,{onClick:t,eleRef:a},v.a.createElement(Ce.a,{icon:"newuser",text:L.f.getI18NValue("support.sla.choose.assignto"),iconSize:i?"15":"17",type:"ticketLp"})),v.a.createElement(se,o()({},this.props,{position:"bottomRight",left:"-20"})))}}]),t}(_.Component),xe=De;De.propTypes={getTargetRef:k.a.func,isThreeLayout:k.a.bool,onClick:k.a.func,removeClose:k.a.func};var Le=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||l()(t)).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.isPopupOpen,a=e.isFromBLuePrint,n=e.assigneeId,i=e.teamId,r=e.agentName,s=e.photoURL,l=e.teamName,c=e.onClick,u=e.getTargetRef,d=e.dataId,m=e.removeClose,p=!n&&!i;return v.a.createElement("div",{className:P.a.agent,onClick:m},v.a.createElement("div",{className:P.a.followerCont+"\n          "+(t?P.a.focused:"")+"\n          "+(a?P.a.bluePrintLayar:"")+"\n        ","data-id":d,onClick:c,ref:u},v.a.createElement("span",{className:P.a.ownerIcon},n||i?n&&i?v.a.createElement(G.a,{name:r,size:"medium",src:s}):n?v.a.createElement(G.a,{name:r,size:"medium",src:s}):i?v.a.createElement(H.a,{name:l,size:"medium",src:null}):"":v.a.createElement(de.a,{iconSize:"13",name:"addAgent",size:"medium"})),v.a.createElement(X.Box,{flexible:!0},n&&i?r:n?r:i?l:L.f.getI18NValue("support.unassigned")),v.a.createElement("span",{className:P.a.dropIcon},v.a.createElement(K.TopbandFontIcon,{name:"blockDownArrow"}))),v.a.createElement(se,o()({},this.props,{needArrow:!1,boxSize:a?"default":"xxlarge",needUnAssign:!p})))}}]),t}(_.Component),Re=Le;Le.propTypes={agentName:k.a.string,assigneeId:k.a.string,dataId:k.a.string,getTargetRef:k.a.func,isFromBLuePrint:k.a.bool,isPopupOpen:k.a.bool,onClick:k.a.func,photoURL:k.a.string,removeClose:k.a.func,teamId:k.a.string,teamName:k.a.string};var Me=a(19),Be=a.n(Me),je=function(e){function t(e){u()(this,t);var a=f()(this,(t.__proto__||l()(t)).call(this,e));return a.state={selectedIndex:0,defaultTab:"Agent",teamsList:[],searchStr:"",isPopupFirstTimeOpened:!1},a.keyUp=a.keyUp.bind(a),a.searchAgents=a.searchAgents.bind(a),a.searchTeams=Object(A.a)(a.searchTeams.bind(a),100,!0),a.onClick=a.onClick.bind(a),a.contentRef=a.contentRef.bind(a),a.setSelectRef=a.setSelectRef.bind(a),a.setScroll=a.setScroll.bind(a),a.setInputRef=a.setInputRef.bind(a),a.changeDefaultTab=a.changeDefaultTab.bind(a),a.getAgents=a.getAgents.bind(a),a.getTeams=a.getTeams.bind(a),a.constructTeamsList=a.constructTeamsList.bind(a),a.closeTeamagents=a.closeTeamagents.bind(a),a.getAgentsByTeam=a.getAgentsByTeam.bind(a),a}return g()(t,e),m()(t,[{key:"getAgents",value:function(){var e=this,t=this.props,a=t.getAgents,n=t.agentsList,o=t.onSearchAgents,i=this.state.isPopupFirstTimeOpened;return i||this.setState({isPopupFirstTimeOpened:!0}),i&&n.length?r.a.resolve():(this.setState({isAgentFetching:!0}),o(""),a().then(function(){e.setState({isAgentFetching:!1})}))}},{key:"searchAgents",value:function(e){var t=this;this.setState({searchStr:e});var a=this.props,n=a.onSearchAgents,o=a.getAgents;return n(e),e?(this.setState({isAgentFetching:!0}),o().then(function(){t.setState({isAgentFetching:!1})})):r.a.resolve()}},{key:"searchTeams",value:function(e){this.setState({searchStr:e});var t=this.constructTeamsList();if(e){var a=t.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())});a.length;this.setState({teamsList:a,selectedIndex:0})}else this.setState({teamsList:t,selectedIndex:0})}},{key:"getTeams",value:function(){var e=this,t=this.props,a=t.getTeamsList,n=t.depId;this.setState({isTeamsFetching:!0}),a(n).then(function(){var t=e.constructTeamsList();e.setState({teamsList:t,isTeamsFetching:!1})})}},{key:"constructTeamsList",value:function(){var e=this.props,t=e.teamsIdList,a=e.teamsObject,n=[];if(t&&t.length)for(var o=0;o<t.length;o++){var i=t[o];a[i].derivedAgents.length&&n.push(a[i])}return n}},{key:"contentRef",value:function(e){this.scrollContainerRef=e}},{key:"setSelectRef",value:function(e){this.selectItemRef=e}},{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"onClick",value:function(e){var t=this.state.defaultTab,a=this.props,n=a.togglePopup,o=a.isPopupOpen;a.disableClick||(this.setState({searchStr:"",selectedIndex:0}),"Agent"===t?!o&&this.getAgents():!o&&this.getTeams(),n(e))}},{key:"changeDefaultTab",value:function(e){this.setState({defaultTab:e}),this.setState({searchStr:"",selectedIndex:0}),"Agent"===e?this.getAgents():this.getTeams()}},{key:"keyUp",value:function(e){var t=this,a=e.keyCode,n=this.state,o=n.selectedIndex,i=n.defaultTab,r=(n.noMoreData,n.teamsList),s=(n.searchStr,this.props),l=s.onChangeAssignee,c=s.addFollower,u=s.page,d=s.closePopupOnly,m=s.agentsList,p="Agent"==i?m:r;switch(a){case 40:o===p.length-1?this.setState({selectedIndex:0},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex+1},function(){t.setScroll()});break;case 38:0===o?this.setState({selectedIndex:p.length-1},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex-1},function(){t.setScroll()});break;case 13:d(e),"followers"===u?c(p[o].id,e):l({assigneeId:"Agent"==i?p[o].id:null,teamId:"Teams"==i?p[o].id:null},e)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.scrollContainerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,o=a.offsetHeight,i=t.offsetHeight;(n<=0||o+n>i)&&(0===e?t.scrollTop=0:t.scrollTop+=n)}}},{key:"closeTeamagents",value:function(){this.setState({openTeamId:null})}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.isPopupOpen&&setTimeout(function(){a.inputRef&&a.inputRef.focus()},300),e.isPopupOpen!==this.props.isPopupOpen&&(this.closeTeamagents(),this.props.teamId?this.setState({defaultTab:"Teams",selectedIndex:0}):this.setState({defaultTab:"Agent"})),t.defaultTab!==this.state.defaultTab&&this.setState({selectedIndex:0})}},{key:"componentDidMount",value:function(){this.props.teamId&&this.setState({defaultTab:"Teams"})}},{key:"getAgentsByTeam",value:function(e){this.props.getAgentsByTeam(e),this.setState({openTeamId:e})}},{key:"render",value:function(){var e=this.props,t=e.followersList,a=e.page,n=e.agentsList;"followers"==a&&(n=n.filter(function(e){return!t.filter(function(t){return t.id===e.id}).length}));var i={changeDefaultTab:this.changeDefaultTab,closeTeamagents:this.closeTeamagents,contentRef:this.contentRef,getAgents:this.getAgents,getAgentsByTeam:this.getAgentsByTeam,keyUp:this.keyUp,onClick:this.onClick,searchAgents:this.searchAgents,searchTeams:this.searchTeams,setInputRef:this.setInputRef,setSelectRef:this.setSelectRef,agentsList:n};return"ticketDv"==a?v.a.createElement(ve,o()({},this.props,this.state,i)):"followers"==a?v.a.createElement(ke,o()({},this.props,this.state,i)):"listAssign"==a?v.a.createElement(ye,o()({},this.props,this.state,i)):"listPageMass"==a?v.a.createElement(Ee,o()({},this.props,this.state,i)):"queueAssign"==a?v.a.createElement(Ne,o()({},this.props,this.state,i)):"queueMassAssign"==a?v.a.createElement(Oe,o()({},this.props,this.state,i)):"leftPanelList"==a?v.a.createElement(Pe,o()({},this.props,this.state,i)):"leftPanelMass"==a?v.a.createElement(xe,o()({},this.props,this.state,i)):"Form"==a?v.a.createElement(Re,o()({},this.props,this.state,i)):null}}]),t}(v.a.Component);je.propTypes={addFollower:b.PropTypes.func,closePopupOnly:b.PropTypes.func,depId:b.PropTypes.string,disableClick:b.PropTypes.bool,followersList:b.PropTypes.array,getAgentsByTeam:b.PropTypes.func,getTeamsList:b.PropTypes.func,isPopupOpen:b.PropTypes.bool,onChangeAssignee:b.PropTypes.func,page:b.PropTypes.string,teamsIdList:b.PropTypes.array,teamsObject:b.PropTypes.object,togglePopup:b.PropTypes.func};t.a=Object(I.d)(Object(y.connect)(function(e,t){var a=t.deptId,n=a||Object(N.r)(e),o=e.myInfo.namePattern;return{depId:n,teamsObject:e.module.teams,activeAgentsId:e.activeAgents,agentsObject:e.module.agent,teamsIdList:Be()("departmentSpecificState."+n+".teamsList",e)||[],namePattern:o}},{getTeamsList:C.u,getAgentsByTeam:T.e}),S.a,Object(O.a)("activeConfirmedNonLightAgents"))(je)},988:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),r=a.n(i),s=a(10),l=a.n(s),c=a(13),u=a.n(c),d=a(14),m=a.n(d),p=a(0),f=a.n(p),h=a(153),g=a(990),_=a.n(g),v=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return f.a.createElement(h.a,{viewBox:"0 0 298 123.5",name:"tag"},f.a.createElement("image",{xlinkHref:_.a,height:"100%",width:"100%"}))}}]),t}(f.a.Component);t.a=v},989:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyArchived.597591ca8a4e7ed77222.svg"},990:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyTag.b2752508f3c1c615c56c.svg"},991:function(e,t,a){e.exports={viewSearch:"ViewDefaultEmpty-module__viewSearch",srchTxt:"ViewDefaultEmpty-module__srchTxt",srchLink:"ViewDefaultEmpty-module__srchLink",srchImg:"ViewDefaultEmpty-module__srchImg"}},995:function(e,t,a){e.exports={item:"AgentsList-module__item",hoverItem:"AgentsList-module__hoverItem",selectedItem:"AgentsList-module__selectedItem AgentsList-module__item",text:"AgentsList-module__text common-module__dflex common-module__flexgrow",markedIcon:"AgentsList-module__markedIcon",assignName:"AgentsList-module__assignName",posrel:"AgentsList-module__posrel"}},998:function(e,t,a){e.exports={posrel:"TeamsList-module__posrel",item:"TeamsList-module__item TeamsList-module__posrel common-module__dflex common-module__alignVertical",hoverItem:"TeamsList-module__hoverItem",selectedItem:"TeamsList-module__selectedItem TeamsList-module__item TeamsList-module__posrel common-module__dflex common-module__alignVertical",teamUser:"TeamsList-module__teamUser common-module__flexshrink",assignName:"TeamsList-module__assignName common-module__dotted common-module__oflow common-module__ellipsis",text:"TeamsList-module__text common-module__dflex common-module__flexgrow",markedIcon:"TeamsList-module__markedIcon"}},999:function(e,t,a){e.exports={backDiv:"TeamsAgent-module__backDiv",backIcon:"TeamsAgent-module__backIcon",teamHead:"TeamsAgent-module__teamHead common-module__semibold common-module__ftsmooth",connectIcon:"TeamsAgent-module__connectIcon",bgconnectIcon:"TeamsAgent-module__bgconnectIcon",searchDiv:"TeamsAgent-module__searchDiv",teamName:"TeamsAgent-module__teamName common-module__dotted common-module__oflow common-module__ellipsis"}}}]);