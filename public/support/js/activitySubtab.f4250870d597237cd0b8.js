(window.deskappJsonp=window.deskappJsonp||[]).push([[40],{1023:function(e,t,a){"use strict";var n=a(12),i=a.n(n),o=a(9),s=a.n(o),r=a(10),c=a.n(r),l=a(13),u=a.n(l),d=a(14),m=a.n(d),p=a(0),v=a.n(p),f=a(1),g=a.n(f),h=a(1046),y=a.n(h),b=a(152),_=function(e){function t(e){return s()(this,t),u()(this,(t.__proto__||i()(t)).call(this,e))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.iconName,a=e.iconClass,n=e.iconSize,i=e.palette,o=e.size,s=e.onClick,r=e.iconColor,c=e.title;return v.a.createElement("span",{className:y.a.container,onClick:s,"data-id":"addreqNowbutton","data-title":c},v.a.createElement(b.a,{name:t,iconClass:a,iconSize:n,palette:i,size:o,iconColor:r}))}}]),t}(v.a.Component);t.a=_,_.defaultProps={size:"xmedium",iconName:"plus",palette:"secondary",iconSize:"16",iconColor:"primary"},_.propTypes={iconClass:g.a.string,iconColor:g.a.string,iconName:g.a.string,iconSize:g.a.string,onClick:g.a.func,palette:g.a.string,size:g.a.string,title:g.a.string}},1034:function(e,t,a){"use strict";var n=a(12),i=a.n(n),o=a(9),s=a.n(o),r=a(10),c=a.n(r),l=a(13),u=a.n(l),d=a(14),m=a.n(d),p=a(0),v=a.n(p),f=a(153),g=a(1035),h=a.n(g),y=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){return v.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"cloud"},v.a.createElement("image",{xlinkHref:h.a,height:"100%",width:"100%"}))}}]),t}(v.a.Component);t.a=y},1035:function(e,t){e.exports="//vimalesan.herokuapp.com/support"+"./fonts/EmptyCloud.ad84742889552ed3919f.svg"},1038:function(e,t,a){"use strict";var n=a(12),i=a.n(n),o=a(9),s=a.n(o),r=a(10),c=a.n(r),l=a(13),u=a.n(l),d=a(14),m=a.n(d),p=a(0),v=a.n(p),f=a(1),g=a.n(f),h=a(1043),y=a.n(h),b=a(1034),_=a(8),T=a(109),I=function(e){function t(){return s()(this,t),u()(this,(t.__proto__||i()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.subtabName,a=e.link,n=e.noNeedToShowAdd,i=e.noNeedToShowHelp,o=e.emptyMessage1,s=e.emptyMessage2,r=e.children,c=e.needClickHere,l=e.onClick;return t=t.toLowerCase(),v.a.createElement("div",{className:y.a.emptyImgdiv},v.a.createElement("div",{className:y.a.emptyImgbg},v.a.createElement(b.a,null)),v.a.createElement("div",{className:y.a.txtGrop},v.a.createElement("div",{className:y.a.dtemptytxt},o||v.a.createElement("span",null,_.f.getI18NValue("support.tab.empty.message",[t]))),!n&&v.a.createElement("div",{className:y.a.dtemptysubtxt},_.f.getI18NValue("support.tab.add.message",[t]),v.a.createElement("span",{className:y.a.plr10},r)," ",_.f.getI18NValue("support.icon")),s&&v.a.createElement("div",{className:y.a.dtemptysubtxt},v.a.createElement("span",null,s),c?v.a.createElement("span",{className:y.a.clickHere,onClick:l},_.f.getI18NValue("support.api.click.here")):null),!i&&v.a.createElement("div",null,v.a.createElement("div",{className:y.a.dtemptysubtxt2},_.f.getI18NValue("tab.request.emptypages.learnmore"),v.a.createElement(T.a,{className:y.a.slalink,target:"_blank",href:a},_.f.getI18NValue("support.api.click.here"))))))}}]),t}(v.a.Component);t.a=I,I.propTypes={children:g.a.node,emptyMessage1:g.a.string,emptyMessage2:g.a.string,link:g.a.string,needClickHere:g.a.bool,noNeedToShowAdd:g.a.bool,noNeedToShowHelp:g.a.bool,onClick:g.a.func,subtabName:g.a.string},I.defaultProps={needClickHere:!1}},1043:function(e,t,a){e.exports={emptyImgdiv:"SubtabEmptystate-module__emptyImgdiv",emptyImgbg:"SubtabEmptystate-module__emptyImgbg",dtemptytxt:"SubtabEmptystate-module__dtemptytxt common-module__semibold common-module__ftsmooth",dtemptysubtxt:"SubtabEmptystate-module__dtemptysubtxt undefined",dtemptysep:"SubtabEmptystate-module__dtemptysep",dtemptysubtxt2:"SubtabEmptystate-module__dtemptysubtxt2 undefined",slalink:"SubtabEmptystate-module__slalink",txtGrop:"SubtabEmptystate-module__txtGrop",plr10:"SubtabEmptystate-module__plr10",clickHere:"SubtabEmptystate-module__clickHere"}},1046:function(e,t,a){e.exports={container:"PlusIcon-module__container common-module__dinblk"}},1055:function(e,t,a){"use strict";var n=a(38),i=a.n(n),o=a(12),s=a.n(o),r=a(9),c=a.n(r),l=a(10),u=a.n(l),d=a(13),m=a.n(d),p=a(14),v=a.n(p),f=a(0),g=a.n(f),h=a(1),y=a.n(h),b=a(16),_=a(65),T=a(1023),I=a(1070),L=a.n(I),k=function(e){function t(){return c()(this,t),m()(this,(t.__proto__||s()(t)).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.onAdd,a=e.getLeftPlaceHolder,n=e.title,o=e.label,s=e.getRightPlaceHolder,r=e.type,c=e.leftClassName,l=e.rightClassName,u=e.needBorder,d=void 0===u||u,m=e.needShadow,p=void 0===m||m,v=e.needPlusIconLine,f=void 0===v||v,h=e.children;return g.a.createElement(_.CardHeader,i()({className:L.a.tabHead+" "+(p?L.a.shadowStyle:"")+" "+(d?L.a.borderStyle:"")},this.props),g.a.createElement(b.Container,{alignBox:"row",className:""+L.a[r],align:"vertical"},t||h?g.a.createElement(b.Box,{className:L.a.left+" "+(f?L.a.plusIconLine:"")},t?g.a.createElement(T.a,{onClick:t}):h):null,n?g.a.createElement(b.Box,{className:L.a.title},n):null,a&&g.a.createElement(b.Box,{flexible:!0,shrink:!0,adjust:!!s,className:""+(c||"")},o?g.a.createElement("div",{className:L.a.label},o):null,a),s&&g.a.createElement(b.Box,{flexible:!0,shrink:!0,adjust:!!a,className:" "+(l||"")},g.a.createElement(b.Container,{alignBox:"row",align:"vertical",className:L.a.aside},s))))}}]),t}(g.a.Component);k.propTypes={children:y.a.element,getLeftPlaceHolder:y.a.func,getRightPlaceHolder:y.a.func,label:y.a.string,leftClassName:y.a.string,needBorderShadow:y.a.bool,needPlusIconLine:y.a.bool,onAdd:y.a.func,rightClassName:y.a.string,title:y.a.string,type:y.a.oneOf(["primary","secondary"])},k.defaultProps={type:"primary"};var C=function(e){function t(){return c()(this,t),m()(this,(t.__proto__||s()(t)).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.scroll,n=e.className,i=e.eleRef,o=e.dataId,s=e.onScroll;return console.log("====onScroll"),g.a.createElement(_.CardContent,{scroll:a,isScrollAttribute:!0,onScroll:s,className:n||"",eleRef:i,dataId:o},t)}}]),t}(g.a.Component);C.propTypes={children:y.a.element,className:y.a.element,dataId:y.a.string,eleRef:y.a.func,scroll:y.a.oneOf(["vertical"])},C.defaultProps={scroll:"vertical"};var N=function(e){function t(){return c()(this,t),m()(this,(t.__proto__||s()(t)).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.children;return g.a.createElement(_.Card,i()({isScrollAttribute:!0,dataId:"subTabLayout"},this.props,{childTypes:{cardHeader:k,cardContent:C}}),e)}}]),t}(g.a.Component),S=N;N.propTypes={children:y.a.element},a.d(t,"c",function(){return S}),a.d(t,"b",function(){return k}),a.d(t,"a",function(){return C})},1068:function(e,t,a){"use strict";a.d(t,"j",function(){return _}),a.d(t,"k",function(){return T}),a.d(t,"l",function(){return I}),a.d(t,"d",function(){return L}),a.d(t,"b",function(){return k}),a.d(t,"m",function(){return C}),a.d(t,"e",function(){return S}),a.d(t,"h",function(){return E}),a.d(t,"a",function(){return A}),a.d(t,"n",function(){return O}),a.d(t,"c",function(){return j}),a.d(t,"g",function(){return P}),a.d(t,"f",function(){return w}),a.d(t,"i",function(){return M});var n=a(5),i=a.n(n),o=a(20),s=a.n(o),r=a(2),c=a.n(r),l=a(15),u=a(6),d=a(17),m=a(180),p=a(3),v=a(179),f=a(7),g=a(46),h=a(92),y=a(93),b="/api/v1/",_=function(e){return{types:Object(u.m)("LIST_OFFSET_SCROLL"),callAPI:function(t){var a=Object(d.r)(t),n=t.departmentSpecificState[a],i=Object(m.e)(t),o=p.k.SCROLL_LIMIT,s=n&&n.taskList&&n.taskList.viewUIState[i]?n.taskList.viewUIState[i]:{},r=s.preference,u=(s.pagination,s.list),v=r||{},h=v.sortBy,y=v.sorting,_=e?u.length+1:1,T="viewId="+i,I="from="+_,L=h?"sortBy="+(y?"":"-")+h:"",k=I+"&limit="+o+"&"+L+"&"+("default"===i?"":T)+"&"+Object(g.a)(t)+"&include=tickets,assignee";return Object(l.a)(b+"tasks?"+k,!1,{orgId:t.currentOrgId}).get().then(function(e){var t=Object(f.normalize)(204!==e.responseStatus?e.data:[],Object(f.arrayOf)(Object(f.schema)(p.L.TASK_L,{mapping:{ticket:Object(f.schema)(p.L.TICKET_L,{mapping:{contact:Object(f.schema)(p.L.CONTACT_L)}}),assignee:Object(f.schema)(p.L.AGENT_L)}})));return c()({},t,{deptId:a,viewId:i,fromIndex:_,moduleName:p.L.TASK_L})},function(e){throw{status:e.status,statusText:e.statusText,deptId:a,moduleName:p.L.TASK_L,viewId:i}})},payload:function(e){var t=Object(d.r)(e),a=Object(m.e)(e);return{deptId:t,viewId:a,moduleName:p.L.TASK_L}}}};var T=Object(y.d)(p.L.TASK),I=Object(h.f)(p.L.TASK),L=Object(h.a)(p.L.TASK),k=Object(y.a)(p.L.TASK);function C(e,t){return{types:Object(u.m)(p.O.TASK_UPDATE),callAPI:function(a){return Object(l.a)(b+"tasks/"+e,!1,{orgId:a.currentOrgId}).patch("",t).then(function(t){return 204!==t.responseStatus?{module:p.L.TASK_L,id:e,res:t}:{}})}}}function N(e){var t="NEXT"===e?Object(u.m)("TASK_NEXT_COMMENTS"):Object(u.m)("TASK_COMMENTS");return function(a,n){return{types:t,callAPI:function(t){var i=t.taskComments[a]||{},o=i.page,s=void 0===o?1:o,r=i.comments,u=void 0===r?[]:r,d=i.isNext,m=((s="NEXT"===e?n?s:s+1:1)-1)*v.taskCommentsLimit+1;return Object(l.a)("/api/v1/tasks/"+a+"/comments?sortBy=-commentedTime&from="+(n?u.length+1:m)+"&limit="+(n?1:v.taskCommentsLimit),!1,{orgId:t.currentOrgId}).get().then(function(e){return d=u.length+(e.data||[]).length===s*v.taskCommentsLimit,c()({},Object(f.normalize)(204!==e.responseStatus?e.data:[],Object(f.arrayOf)(Object(f.schema)("comment"))),{taskId:a,page:s,isNext:n?d:(e.data||[]).length===v.taskCommentsLimit})})}}}}var S=N("CURRENT"),E=N("NEXT");function A(e,t){return{types:Object(u.m)("TASK_COMMENT_ADD"),callAPI:function(a){return Object(l.a)("/api/v1/tasks/"+e+"/comments",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=Object(f.normalize)(204!==t.responseStatus?[t]:[],Object(f.arrayOf)(Object(f.schema)("comment")));return c()({},a,{taskId:e})})}}}function O(e,t,a){return{types:Object(u.m)("TASK_COMMENT_UPDATE"),callAPI:function(n){return Object(l.a)("/api/v1/tasks/"+e+"/comments/"+t,!1,{orgId:n.currentOrgId}).patch("",a).then(function(e){return{module:"comment",id:t,res:e}})}}}function j(e,t){return{types:Object(u.m)("TASK_COMMENT_DELETE"),callAPI:function(a){return Object(l.a)("/api/v1/tasks/"+e+"/comments/"+t,!1,{orgId:a.currentOrgId}).del().then(function(a){return{module:"comment",id:t,taskId:e,res:a}})}}}function P(){return{types:Object(u.m)("TASK_MASSUPDATE_FIELD"),shouldCallAPI:function(e){return!s()(e.taskMassUpdateFields).length},callAPI:function(e){return Object(l.a)("/api/v1/organizationFields?module=tasks",!1,{orgId:e.currentOrgId}).get().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data||[]})}}}function w(e){return{types:Object(u.m)("TASK_DETAIL"),shouldCallAPI:function(){return!!e},callAPI:function(t){return Object(l.a)("/api/v1/tasks/"+e+"?include=tickets",!1,{orgId:t.currentOrgId}).get().then(function(e){if(204!==e.responseStatus)return Object(f.normalize)(e,Object(f.schema)(p.L.TASK_L,{mapping:{ticket:Object(f.schema)(p.L.TICKET_L,{mapping:{contact:Object(f.schema)(p.L.CONTACT_L)}})}}))})}}}function M(e){return{types:Object(u.m)("TASK_STATUSMAPPING"),shouldCallAPI:function(t){var a=t.taskStatusMapping;return!s()(a[e]||{}).length},callAPI:function(t){return Object(l.a)("/api/v1/layouts/"+e+"/taskStatusMappings",!1,{orgId:t.currentOrgId}).get().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()({},e,t)})}}}},1070:function(e,t,a){e.exports={tabHead:"SubtabLayout-module__tabHead",shadowStyle:"SubtabLayout-module__shadowStyle",left:"SubtabLayout-module__left",plusIconLine:"SubtabLayout-module__plusIconLine",borderStyle:"SubtabLayout-module__borderStyle",aside:"SubtabLayout-module__aside common-module__justifyFend",title:"SubtabLayout-module__title",label:"SubtabLayout-module__label",primary:"SubtabLayout-module__primary",secondary:"SubtabLayout-module__secondary"}},1156:function(e,t,a){"use strict";var n=a(12),i=a.n(n),o=a(9),s=a.n(o),r=a(10),c=a.n(r),l=a(13),u=a.n(l),d=a(14),m=a.n(d),p=a(0),v=a.n(p),f=a(1),g=a.n(f),h=a(1157),y=a.n(h),b=a(30),_=a(80),T=a.n(_),I=a(72),L=a.n(I),k=a(112),C=a.n(k),N=a(240),S=a.n(N),E=function(e){function t(e){s()(this,t);var a=u()(this,(t.__proto__||i()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a.handleTogglePopup=a.handleTogglePopup.bind(a),a}return m()(t,e),c()(t,[{key:"handleSelect",value:function(e,t,a,n){var i=this.props,o=(i.objValues,i.onSelect),s=i.togglePopup;void 0!==o&&o(t,e),s(n)}},{key:"handleTogglePopup",value:function(e){(0,this.props.togglePopup)(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.objValues,n=t.togglePopup,i=t.arrowPosition,o=t.selectedId,s=t.selectedName,r=t.isPopupOpen,c=t.isPopupReady,l=(t.position,t.getTargetRef),u=t.getContainerRef,d=t.boxPosition;s=s||a.find(function(e){return e.id===o}).name;var m=a.map(function(t,a){var n=o?t.id===o:t.name===s;return 1!=t.isTitle?v.a.createElement(C.a,{autoHover:!0,value:t.name,key:a,onClick:e.handleSelect,id:t.id,active:n}):v.a.createElement("div",{className:y.a.heading,key:a},v.a.createElement(S.a,{text:t.name}))});return v.a.createElement("div",{className:y.a.container,"data-id":"subfiltertestId1"},v.a.createElement("span",{className:y.a.box,onClick:n,ref:l},v.a.createElement("div",{className:y.a.textContainer},v.a.createElement("span",{"data-id":s.includes("All")?"AllTasksOption":s,className:y.a.text,"data-title":s},s),v.a.createElement("span",{className:y.a.icon},v.a.createElement(b.TopbandFontIcon,{name:"down",size:"6"}))),r?v.a.createElement(L.a,{isActive:c,size:"small",boxPosition:d,arrowPosition:i,getRef:u,isAnimate:!0},v.a.createElement("div",{className:y.a.popup,"data-id":"SubfilterClick"},m)):null))}}]),t}(p.Component);E.propTypes={arrowPosition:g.a.string,boxPosition:g.a.string,getContainerRef:g.a.func,getTargetRef:g.a.func,isPopupOpen:g.a.bool,isPopupReady:g.a.bool,objValues:g.a.array,onSelect:g.a.func,position:g.a.string,selectedId:g.a.string,selectedName:g.a.string,togglePopup:g.a.func},E.defaultProps={boxPosition:"bottomRight",arrowPosition:"start"},t.a=T()(E)},1157:function(e,t,a){e.exports={container:"SubFilter-module__container",box:"SubFilter-module__box common-module__offSelection",text:"SubFilter-module__text common-module__textCaps",icon:"SubFilter-module__icon"}},1176:function(e,t,a){"use strict";a.d(t,"h",function(){return b}),a.d(t,"c",function(){return _}),a.d(t,"d",function(){return T}),a.d(t,"b",function(){return I}),a.d(t,"a",function(){return L}),a.d(t,"i",function(){return k}),a.d(t,"f",function(){return N}),a.d(t,"e",function(){return S}),a.d(t,"g",function(){return E});var n=a(5),i=a.n(n),o=a(20),s=a.n(o),r=a(2),c=a.n(r),l=a(15),u=a(6),d=a(17),m=a(184),p=a(3),v=(a(179),a(7)),f=a(46),g=a(92),h=a(93),y="/api/v1/",b=function(e){return{types:Object(u.m)("LIST_OFFSET_SCROLL"),callAPI:function(t){var a=Object(d.r)(t),n=t.departmentSpecificState[a],i=Object(m.b)(t),o=p.k.SCROLL_LIMIT,s=n&&n.eventList&&n.eventList.viewUIState[i]?n.eventList.viewUIState[i]:{},r=s.preference,u=(s.pagination,s.list),g=r||{},h=g.sortBy,b=g.sorting,_=e?u.length+1:1,T="viewId="+i,I="from="+_,L=h?"sortBy="+(b?"":"-")+h:"",k=I+"&limit="+o+"&"+L+"&"+("default"===i?"":T)+"&"+Object(f.a)(t)+"&include=tickets";return Object(l.a)(y+"events?"+k,!1,{orgId:t.currentOrgId}).get().then(function(e){var t=Object(v.normalize)(204!==e.responseStatus?e.data:[],Object(v.arrayOf)(Object(v.schema)(p.L.EVENT_L,{mapping:{ticket:Object(v.schema)(p.L.TICKET_L,{mapping:{contact:Object(v.schema)(p.L.CONTACT_L)}}),assignee:Object(v.schema)(p.L.AGENT_L)}})));return c()({},t,{deptId:a,viewId:i,fromIndex:_,moduleName:p.L.EVENT_L})},function(e){throw{status:e.status,statusText:e.statusText,deptId:a,moduleName:p.L.EVENT_L,viewId:i}})},payload:function(e){var t=Object(d.r)(e),a=Object(m.b)(e);return{deptId:t,viewId:a,moduleName:p.L.EVENT_L}}}};var _=Object(h.d)(p.L.EVENT),T=Object(g.f)(p.L.EVENT),I=Object(g.a)(p.L.EVENT),L=Object(h.a)(p.L.EVENT);function k(e,t){return{types:Object(u.m)(p.O.EVENT_UPDATE),callAPI:function(a){return Object(l.a)(y+"events/"+e,!1,{orgId:a.currentOrgId}).patch("",t).then(function(t){return 204!==t.responseStatus?{module:p.L.EVENT_L,id:e,res:t}:{}})}}}function C(e){var t="NEXT"===e?Object(u.m)("EVENT_NEXT_COMMENTS"):Object(u.m)("EVENT_COMMENTS");return function(a,n){return{types:t,callAPI:function(t){var i=t.eventComments[a]||{},o=i.page,s=void 0===o?1:o,r=i.comments,u=void 0===r?[]:r,d=i.isNext,m=((s="NEXT"===e?n?s:s+1:1)-1)*eventCommentsLimit+1;return Object(l.a)("/api/v1/events/"+a+"/comments?sortBy=-commentedTime&from="+(n?u.length+1:m)+"&limit="+(n?1:eventCommentsLimit),!1,{orgId:t.currentOrgId}).get().then(function(e){return d=u.length+(e.data||[]).length===s*eventCommentsLimit,c()({},Object(v.normalize)(204!==e.responseStatus?e.data:[],Object(v.arrayOf)(Object(v.schema)("comment"))),{eventId:a,page:s,isNext:n?d:(e.data||[]).length===eventCommentsLimit})})}}}}C("CURRENT"),C("NEXT");function N(){return{types:Object(u.m)("EVENT_MASSUPDATE_FIELD"),shouldCallAPI:function(e){return!s()(e.eventMassUpdateFields).length},callAPI:function(e){return Object(l.a)("/api/v1/organizationFields?module=events",!1,{orgId:e.currentOrgId}).get().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data||[]})}}}function S(e){return{types:Object(u.m)("EVENT_DETAIL"),shouldCallAPI:function(){return!!e},callAPI:function(t){return Object(l.a)("/api/v1/events/"+e+"?include=tickets",!1,{orgId:t.currentOrgId}).get().then(function(e){if(204!==e.responseStatus)return Object(v.normalize)(e,Object(v.schema)(p.L.EVENT_L,{mapping:{ticket:Object(v.schema)(p.L.TICKET_L,{mapping:{contact:Object(v.schema)(p.L.CONTACT_L)}})}}))})}}}function E(e){return{types:Object(u.m)("EVENT_STATUSMAPPING"),shouldCallAPI:function(t){var a=t.eventStatusMapping;return!s()(a[e]||{}).length},callAPI:function(t){return Object(l.a)("/api/v1/layouts/"+e+"/eventStatusMappings",!1,{orgId:t.currentOrgId}).get().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()({},e,t)})}}}},1212:function(e,t,a){"use strict";a.d(t,"f",function(){return b}),a.d(t,"a",function(){return _}),a.d(t,"b",function(){return T}),a.d(t,"d",function(){return I}),a.d(t,"c",function(){return L}),a.d(t,"g",function(){return k}),a.d(t,"e",function(){return N});var n=a(5),i=a.n(n),o=a(20),s=a.n(o),r=a(2),c=a.n(r),l=a(15),u=a(6),d=a(17),m=a(186),p=a(3),v=(a(179),a(7)),f=a(46),g=a(92),h=a(93),y="/api/v1/",b=function(e){return{types:Object(u.m)("LIST_OFFSET_SCROLL"),callAPI:function(t){var a=Object(d.r)(t),n=t.departmentSpecificState[a],i=Object(m.b)(t),o=p.k.SCROLL_LIMIT,s=n&&n.callList&&n.callList.viewUIState[i]?n.callList.viewUIState[i]:{},r=s.preference,u=(s.pagination,s.list),g=r||{},h=g.sortBy,b=g.sorting,_=e?u.length+1:1,T="viewId="+i,I="from="+_,L=h?"sortBy="+(b?"":"-")+h:"",k=I+"&limit="+o+"&"+L+"&"+("default"===i?" ":T)+"&"+Object(f.a)(t)+"&include=tickets";return Object(l.a)(y+"calls?"+k,!1,{orgId:t.currentOrgId}).get().then(function(e){var t=Object(v.normalize)(204!==e.responseStatus?e.data:[],Object(v.arrayOf)(Object(v.schema)(p.L.CALL_L,{mapping:{ticket:Object(v.schema)(p.L.TICKET_L,{mapping:{contact:Object(v.schema)(p.L.CONTACT_L)}}),assignee:Object(v.schema)(p.L.AGENT_L)}})));return c()({},t,{deptId:a,viewId:i,fromIndex:_,moduleName:p.L.CALL_L})},function(e){throw{status:e.status,statusText:e.statusText,deptId:a,moduleName:p.L.CALL_L,viewId:i}})},payload:function(e){var t=Object(d.r)(e),a=Object(m.b)(e);return{deptId:t,viewId:a,moduleName:p.L.CALL_L}}}};var _=Object(h.d)(p.L.CALL),T=Object(g.f)(p.L.CALL),I=Object(g.a)(p.L.CALL),L=Object(h.a)(p.L.CALL);function k(e,t){return{types:Object(u.m)(p.O.CALL_UPDATE),callAPI:function(a){return Object(l.a)(y+"calls/"+e,!1,{orgId:a.currentOrgId}).patch("",t).then(function(t){return 204!==t.responseStatus?{module:p.L.CALL_L,id:e,res:t}:{}})}}}function C(e){var t="NEXT"===e?Object(u.m)("CALL_NEXT_COMMENTS"):Object(u.m)("CALL_COMMENTS");return function(a,n){return{types:t,callAPI:function(t){var i=t.callComments[a]||{},o=i.page,s=void 0===o?1:o,r=i.comments,u=void 0===r?[]:r,d=i.isNext,m=((s="NEXT"===e?n?s:s+1:1)-1)*callCommentsLimit+1;return Object(l.a)("/api/v1/calls/"+a+"/comments?sortBy=-commentedTime&from="+(n?u.length+1:m)+"&limit="+(n?1:callCommentsLimit),!1,{orgId:t.currentOrgId}).get().then(function(e){return d=u.length+(e.data||[]).length===s*callCommentsLimit,c()({},Object(v.normalize)(204!==e.responseStatus?e.data:[],Object(v.arrayOf)(Object(v.schema)("comment"))),{callId:a,page:s,isNext:n?d:(e.data||[]).length===callCommentsLimit})})}}}}C("CURRENT"),C("NEXT");function N(e){return{types:Object(u.m)("CALL_STATUSMAPPING"),shouldCallAPI:function(t){var a=t.callStatusMapping;return!s()(a[e]||{}).length},callAPI:function(t){return Object(l.a)("/api/v1/layouts/"+e+"/callStatusMappings",!1,{orgId:t.currentOrgId}).get().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()({},e,t)})}}}},1377:function(e,t,a){"use strict";var n=a(12),i=a.n(n),o=a(9),s=a.n(o),r=a(10),c=a.n(r),l=a(13),u=a.n(l),d=a(14),m=a.n(d),p=a(0),v=a.n(p),f=a(1),g=a.n(f),h=a(1378),y=a.n(h),b=a(80),_=a.n(b),T=a(72),I=a.n(T),L=a(361),k=a.n(L),C=a(240),N=a.n(C),S=a(1023),E=function(e){function t(e){s()(this,t);var a=u()(this,(t.__proto__||i()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a.onAddCLick=a.onAddCLick.bind(a),a}return m()(t,e),c()(t,[{key:"handleSelect",value:function(e,t,a,n){var i=this.props,o=(i.objValues,i.onSelect),s=i.closePopupOnly;void 0!==o&&o(t,e),s(n)}},{key:"onAddCLick",value:function(e){var t=this.props,a=t.onAddCLick,n=t.closePopupOnly;a&&a(),n(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.objValues,n=(t.selectedValue,t.title),i=t.heading,o=t.isPopupOpen,s=t.removeClose,r=t.needHeader,c=t.openPopupOnly,l=t.closePopupOnly,u=a.map(function(t,a){var n=t.id,i=t.name,o=t.iconName,s=t.iconSize;return v.a.createElement(k.a,{autoHover:!0,value:i,key:a,id:n,iconName:o,iconSize:s,onClick:e.handleSelect})});return v.a.createElement("div",{className:y.a.container,onMouseEnter:c,onMouseLeave:l,onClick:this.onAddCLick,"data-id":"testIdOfAddPopup"},v.a.createElement(S.a,{title:n}),o&&v.a.createElement(I.a,{isActive:!0,size:"small",boxPosition:"bottomRight",arrowPosition:"start",isAnimate:!0,onClick:s,top:"25",left:"-8"},v.a.createElement("div",{className:y.a.dropContainer,"data-id":"AddpopupClick"},!!r&&v.a.createElement("div",{className:y.a.heading},v.a.createElement(N.a,{text:i})),u)))}}]),t}(p.Component);E.propTypes={closePopupOnly:g.a.func,heading:g.a.string,isPopupOpen:g.a.oneOfType([g.a.func,g.a.bool]),line:g.a.bool,needHeader:g.a.bool,objValues:g.a.array,onAddCLick:g.a.func,onSelect:g.a.func,openPopupOnly:g.a.func,removeClose:g.a.func,selectedFilterValue:g.a.string,selectedValue:g.a.string,title:g.a.string},t.a=_()(E)},1378:function(e,t,a){e.exports={container:"AddPopup__container",heading:"AddPopup__heading",dropContainer:"AddPopup__dropContainer"}},1791:function(e,t,a){e.exports={tickState:"ActivityList-module__tickState",tickStateTxt:"ActivityList-module__tickStateTxt common-module__semibold common-module__ftsmooth",tickID:"ActivityList-module__tickID common-module__semibold common-module__ftsmooth",contactTxt:"ActivityList-module__contactTxt",subParent:"ActivityList-module__subParent",statusTxt:"ActivityList-module__statusTxt",danger:"ActivityList-module__danger",success:"ActivityList-module__success",info:"ActivityList-module__info",tickethistoryCont:"ActivityList-module__tickethistoryCont",avtDiv:"ActivityList-module__avtDiv common-module__rounded",dateFont:"ActivityList-module__dateFont common-module__dinblk",timeFont1:"ActivityList-module__timeFont1 common-module__dinblk common-module__light",histContent:"ActivityList-module__histContent common-module__dinblk common-module__semibold common-module__ftsmooth",tickHisContent:"ActivityList-module__tickHisContent",cmtIcon:"ActivityList-module__cmtIcon",ticketHistorylist:"ActivityList-module__ticketHistorylist",ticketListdiv:"ActivityList-module__ticketListdiv common-module__light",dot:"ActivityList-module__dot",subDiv:"ActivityList-module__subDiv",clrYel:"ActivityList-module__clrYel",clrred:"ActivityList-module__clrred",clrorange:"ActivityList-module__clrorange",clrgreen:"ActivityList-module__clrgreen",icnsDiv:"ActivityList-module__icnsDiv",icnslst:"ActivityList-module__icnslst",avatrDiv:"ActivityList-module__avatrDiv",fntTimeicn:"ActivityList-module__fntTimeicn",peektickHisContent:"ActivityList-module__peektickHisContent ActivityList-module__tickHisContent",editIcon:"ActivityList-module__editIcon",deleteIcon:"ActivityList-module__deleteIcon"}},1792:function(e,t,a){e.exports={container:"AvatarWithTeam-module__container common-module__dInflex",teamAvatar:"AvatarWithTeam-module__teamAvatar"}},1793:function(e,t,a){e.exports={plsIcon:"Activities-module__plsIcon",listVirtulizer:"Activities-module__listVirtulizer",header:"Activities-module__header",hasList:"Activities-module__hasList",orderIcon:"Activities-module__orderIcon",active:"Activities-module__active"}},528:function(e,t,a){e.exports={virtualizer:"Virtualizer__virtualizer"}},639:function(e,t,a){"use strict";a.r(t);var n=a(20),i=a.n(n),o=a(12),s=a.n(o),r=a(9),c=a.n(r),l=a(10),u=a.n(l),d=a(13),m=a.n(d),p=a(14),v=a.n(p),f=a(0),g=a.n(f),h=a(1),y=a.n(h),b=a(26),_=a(2),T=a.n(_),I=a(5),L=a.n(I),k=a(15),C=a(3),N=a(6),S=a(7),E=devURLParam;"/"!==E.substr(-1)&&(E+="/");var A=a(24),O=a(1212),j=a(1068),P=a(1176),w=a(1055),M=a(1038),x=a(1791),V=a.n(x),D=a(152),z=a(64),R=a.n(z),F=a(248),H=a(30),B=a(362),K=a(1792),U=a.n(K),G=a(357),X=a.n(G),W=function(e){function t(){return c()(this,t),m()(this,(t.__proto__||s()(t)).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.size,n=e.src,i=e.teamName,o=e.isTeam;return g.a.createElement("span",{className:U.a.container+" ","data-id":"avatarWithTeamId"},o&&i?g.a.createElement(R.a,{name:t,src:n,size:a}):o?g.a.createElement(X.a,{name:t,src:n,size:a}):g.a.createElement(R.a,{name:t,src:n,size:a}),i?g.a.createElement("span",{className:U.a.teamAvatar,"data-id":"teamNameTestId"},g.a.createElement(X.a,{name:i,size:"small",palette:"primary",filled:!0})):null)}}]),t}(g.a.Component),J=W;W.defaultProps={size:"xmedium",isTeam:!1},W.propTypes={isTeam:y.a.bool,name:y.a.string,size:y.a.string,src:y.a.string,teamName:y.a.string};var Y=a(8),q=function(e){function t(e){return c()(this,t),m()(this,(t.__proto__||s()(t)).call(this,e))}return v()(t,e),u()(t,[{key:"constructClockIcon",value:function(e,t,a){var n=null!=a&&a?"overdue2":t;switch(e){case"High":case"Highest":return g.a.createElement("span",{className:V.a.fntTimeicn},g.a.createElement(H.CommonFontIcon,{name:n,iconClass:"createdtime2"==n?"":V.a.clrred,size:"9"}));case"Medium":case"Normal":return g.a.createElement("span",{className:V.a.fntTimeicn},g.a.createElement(H.CommonFontIcon,{name:n,iconClass:"createdtime2"==n?"":a?V.a.clrred:V.a.clrorange,size:"9"}));case"Low":case"Lowest":return g.a.createElement("span",{className:V.a.fntTimeicn},g.a.createElement(H.CommonFontIcon,{name:n,iconClass:"createdtime2"==n?"":a?V.a.clrred:V.a.clrgreen,size:"9"}));default:return g.a.createElement("span",{className:V.a.fntTimeicn},g.a.createElement(H.CommonFontIcon,{name:n,size:"1"}))}}},{key:"getcategoryIcon",value:function(e){var t=this.props.activitiesType,a=void 0,n=null!=e.activityType?e.activityType:t;return"calls"==n.toLowerCase()?a="inbound"==e.direction&&"Missed"!=e.status?"chPhoneIn":"outbound"==e.direction&&"Missed"!=e.status?"chPhoneOut":"outbound"==e.direction&&"Missed"==e.status?"chPhoneOutBound":"chPhoneMis":"events"==n.toLowerCase()?a="events":"tasks"==n.toLowerCase()&&(a="taskNone"),g.a.createElement("span",{className:V.a.avtDiv},g.a.createElement(D.a,{name:a,iconSize:"19",iconClass:"mtminus3",size:"xmedium"}))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.from,n=e.isPeekView,i=e.activitiesType,o=e.module,s=e.moduleMeta,r=e.index,c=void 0,l=void 0,u=null,d=!1,m=null,p=t.activityType?t.activityType:i,v=p.substring(0,p.length-1);if("events"==p.toLowerCase()?(p=s.events.displayLabel,c=t.startTime?t.startTime:null,l=Y.f.getI18NValue("crm.workflow.scheduler.start.time")):"calls"==p.toLowerCase()?(p=s.calls.displayLabel,c=t.startTime?t.startTime:null,l=Y.f.getI18NValue("crm.workflow.scheduler.start.time")):"tasks"==p.toLowerCase()&&(p=s.tasks.displayLabel,c=t.dueDate?t.dueDate:null),null!=c){u=new B.a(c).format("dd mmmm yyyy hh:MM TT");var f=new B.a(new Date).format("dd mmmm yyyy hh:MM TT");"tasks"==p.toLowerCase()&&(l=Y.f.getI18NValue("support.label.duetime.info",u)),u<f&&(d=!0,l=Y.f.getI18NValue("support.ticket.label.overduetime.info",u))}t.completedTime&&(m=new B.a(t.completedTime).format("dd mmmm yyyy hh:MM TT"),l=Y.f.getI18NValue("support.task.completed.on",m));"calls"==p.toLowerCase()&&(l="Missed"==t.status?"Missed at "+u:l);var h=new B.a(t.createdTime).format("dd mmmm yyyy hh:MM TT"),y=void 0,b=void 0,_=void 0,T=void 0,I=!(!t.team||!t.team.id);!!(t.team&&t.team.id&&t.ownerId)?(_=t.team.name?t.team.name:null,y=t.assignee?Object(N.t)(t.assignee.firstName,t.assignee.lastName):null,b=t.assignee?t.assignee.photoURL:null):I?y=t.team.name?t.team.name:"":(y=t.assignee?Object(N.t)(t.assignee.firstName,t.assignee.lastName):null,b=t.assignee?t.assignee.photoURL:null);var L="account"==o?!!t.contact&&Object(N.t)(t.contact.firstName,t.contact.lastName):null;T="High"==t.priority||"Highest"==t.priority?"danger":"Low"==t.priority||"Lowest"==t.priority?"success":"Normal"==t.priority?"info":"default";var k=Y.f.getI18NValue("support.ticket.label.createdtime.info",h);return g.a.createElement("div",{className:V.a.prlb20},g.a.createElement("div",{className:V.a.tickethistoryCont,key:a+r},g.a.createElement("div",{className:V.a.subDiv},this.getcategoryIcon(t),g.a.createElement("div",{className:n?V.a.peektickHisContent:V.a.tickHisContent},g.a.createElement("div",null,g.a.createElement("div",{className:V.a.histContent}," ",t.subject," ")),g.a.createElement("span",{className:V.a.subParent},g.a.createElement(F.a,null,L&&g.a.createElement("span",{"data-id":"contactName",className:V.a.contactTxt,onClick:this.props.onContactNameClick.bind(this,t.contact.id)},L),m?g.a.createElement("span",{"data-title":l,"data-id":"completedTime"},g.a.createElement("span",{className:V.a.fntTimeicn},g.a.createElement(H.CommonFontIcon,{name:"completedTask1",size:"9"})),g.a.createElement("span",{className:V.a.timeFont1},m)):u&&g.a.createElement("span",{"data-title":l,"data-id":"dueDate"},this.constructClockIcon(t.priority,"clock",d),g.a.createElement("span",{className:V.a.timeFont1},u)),"Missed"!=t.status?g.a.createElement("span",null,this.constructClockIcon(t.priority,"createdtime2"),g.a.createElement("span",{"data-title":k,className:V.a.timeFont1},h)):null,t.priority&&g.a.createElement("span",{className:V.a.statusTxt+" "+V.a[T],"data-id":"priority"},t.priority),g.a.createElement("span",{className:V.a.cmtIcon,onClick:this.handleonCommentClick,title:"comments"},g.a.createElement(H.CommonFontIcon,{name:"comments1",size:"10",color:t.isCommented?"gold":""}))))),g.a.createElement("span",{className:V.a.icnsDiv},g.a.createElement("span",{className:V.a.icnslst,"data-title":Y.f.getI18NValue("support.permission.edit.comment")},g.a.createElement(H.TopbandFontIcon,{name:"pen2",dataId:"editActivity",size:"medium",onClick:this.props.editTask.bind(this,t.id,p),hoverColor:"dark4"})),g.a.createElement("span",{className:V.a.icnslst,"data-title":Y.f.getI18NValue("support.permission.delete.comment")},g.a.createElement(H.TopbandFontIcon,{name:"delete2",size:"medium",dataId:"deleteActivity",hoverColor:"danger5",onClick:this.props.deleteTask.bind(this,[t.id],p)})),null==t.completedTime&&g.a.createElement("span",{className:V.a.icnslst,"data-title":Y.f.getI18NValue("support.complete.task",v)},g.a.createElement(H.CommonFontIcon,{dataId:"completeActivity",name:"tick8",size:"medium",hoverColor:"dark4",onClick:this.props.updateStatus.bind(this,t.id,t.activityType?t.activityType:i,t.layoutId)}))),t.status&&g.a.createElement("span",{className:V.a.tickState},g.a.createElement("span",{className:V.a.tickStateTxt,"data-id":"statusId"},t.status),t.ticket&&"ticket"!=o?g.a.createElement("span",{className:V.a.tickID,onClick:this.props.onTicketIdClick.bind(this,t.ticket.id),"data-id":"ticketId"},"#"+t.ticket.ticketNumber):null),y||b?g.a.createElement("span",{title:y,"data-id":"AssignToOne"},g.a.createElement(J,{name:y,src:b,size:"xmedium",isTeam:I,teamName:_})):g.a.createElement("span",{title:"assign"}," ",g.a.createElement(D.a,{dataId:"addAssignee",name:"addAgent",size:"xmedium"})," "))))}}]),t}(g.a.Component),Q=q;q.propTypes={activitiesType:y.a.string,data:y.a.object,deleteTask:y.a.func,editTask:y.a.func,from:y.a.number,index:y.a.number,isPeekView:y.a.bool,module:y.a.string,moduleMeta:y.a.object,onContactNameClick:y.a.func,onTicketIdClick:y.a.func,updateStatus:y.a.func};var Z=a(1023),$=a(1377),ee=a(984),te=a(1156),ae=(a(52),a(238)),ne=a(17),ie=a(1793),oe=a.n(ie),se=function(e){function t(e){c()(this,t);var a=m()(this,(t.__proto__||s()(t)).call(this,e)),n=a.props,i=n.activityIds,o=n.activityData;return a.state={from:0,limit:10,activityIds:i,activityData:o,emptyData:!1,mode:Y.f.getI18NValue("support.upcoming.tasks",a.props.moduleMeta.activities.displayLabel),notAccessible:!1,activitiesType:"activities",sortByFilter:Y.f.getI18NValue("crm.tasks.duedate")+" / "+Y.f.getI18NValue("crm.workflow.scheduler.start.time"),sortByFilterId:"activityTime",activityFetchId:"upcoming",isData:!0,selectedFilter:"upcomingActivities",isAscending:!0},a.handleCompleteClick=a.handleCompleteClick.bind(a),a.deleteActivity=a.deleteActivity.bind(a),a.toggleSelected=a.toggleSelected.bind(a),a.getActivityTypeAndId=a.getActivityTypeAndId.bind(a),a.handleonTicketIdClick=a.handleonTicketIdClick.bind(a),a.handleonContactNameClick=a.handleonContactNameClick.bind(a),a.toggleAlignment=a.toggleAlignment.bind(a),a.onArrowPositionChange=a.onArrowPositionChange.bind(a),a.oneditActivity=a.oneditActivity.bind(a),a.fetchData=a.fetchData.bind(a),a.renderListRow=a.renderListRow.bind(a),a.onReachBoundary=a.onReachBoundary.bind(a),a.onPopupSelect=a.onPopupSelect.bind(a),a.onPopupSelectHeader=a.onPopupSelect.bind(a," ",a.state.activitiesType),a.getLeftPlaceHolder=a.getLeftPlaceHolder.bind(a),a.getRightPlaceHolder=a.getRightPlaceHolder.bind(a),a.openAddOptions=a.openAddOptions.bind(a),a}return v()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){e.activityData==this.props.activityData&&e.activityIds==this.props.activityIds||this.setState({activityIds:e.activityIds,activityData:e.activityData})}},{key:"componentDidMount",value:function(){this.fetchData(this.state.from)}},{key:"componentDidUpdate",value:function(e){e.id!=this.props.id&&this.fetchData(this.state.from)}},{key:"getLeftPlaceHolder",value:function(){var e=this.state,t=e.mode,a=(e.selectedFilter,this.props.moduleMeta),n=[{name:a.activities.displayLabel,isTitle:!0},{name:Y.f.getI18NValue("support.upcoming.tasks",a.activities.displayLabel),isTitle:!1,id:"upcomingActivities"},{name:Y.f.getI18NValue("support.all.tasks",a.activities.displayLabel),isTitle:!1,id:"allActivities"},{name:a.calls.displayLabel,isTitle:!0},{name:Y.f.getI18NValue("support.upcoming.tasks",a.calls.displayLabel),isTitle:!1,id:"upcomingCalls"},{name:Y.f.getI18NValue("support.all.tasks",a.calls.displayLabel),isTitle:!1,id:"allCalls"},{name:a.tasks.displayLabel,isTitle:!0},{name:Y.f.getI18NValue("support.upcoming.tasks",a.tasks.displayLabel),isTitle:!1,id:"upcomingTasks"},{name:Y.f.getI18NValue("support.all.tasks",a.tasks.displayLabel),isTitle:!1,id:"allTasks"},{name:a.events.displayLabel,isTitle:!0},{name:Y.f.getI18NValue("support.upcoming.tasks",a.events.displayLabel),isTitle:!1,id:"upcomingEvents"},{name:Y.f.getI18NValue("support.all.tasks",a.events.displayLabel),isTitle:!1,id:"allEvents"}];return g.a.createElement(te.a,{selectedName:t,objValues:n,onSelect:this.toggleSelected})}},{key:"getRightPlaceHolder",value:function(){var e=this,t=this.state,a=t.sortByFilter,n=t.isAscending,i=n?Y.f.getI18NValue("support.customview.latest.first.title"):Y.f.getI18NValue("support.customview.oldest.first.title"),o=[{name:Y.f.getI18NValue("Support.Sort.By"),isTitle:!0},{name:Y.f.getI18NValue("support.label.created.time"),isTitle:!1,id:"createdTime"},{name:Y.f.getI18NValue("crm.tasks.duedate")+" / "+Y.f.getI18NValue("crm.workflow.scheduler.start.time"),isTitle:!1,id:"dueDate"}];return g.a.createElement("span",null,g.a.createElement("span",null,g.a.createElement(te.a,{selectedName:a,objValues:o,onSelect:this.toggleAlignment,boxPosition:"bottomLeft",arrowPosition:"end"})),g.a.createElement("span",{onClick:function(){return e.onArrowPositionChange(n)},"data-title":i}," ",g.a.createElement(H.TopbandFontIcon,{dataId:"sortIcon",name:n?"ascend":"descend",size:"14"})))}},{key:"openAddOptions",value:function(e){var t=this.props.moduleMeta,a=this.state.activitiesType;return"emptyState"!=e||"activities"==a?g.a.createElement($.a,{heading:Y.f.getI18NValue("support.social.add"),needHeader:!0,objValues:[{id:"calls",iconName:"none",name:t.calls.singularLabel},{id:"tasks",iconName:"none",name:t.tasks.singularLabel},{id:"events",iconName:"none",name:t.events.singularLabel}],onSelect:this.onPopupSelect,onAddCLick:this.onPopupSelect}):g.a.createElement(Z.a,{onClick:this.onPopupSelect.bind(this," ",this.state.activitiesType)})}},{key:"toggleSelected",value:function(e,t){var a=this,n=this.getActivityTypeAndId(t),i=n[0],o=n[1];this.setState({activityFetchId:o,activitiesType:i,from:0,mode:e,selectedFilter:t},function(){a.fetchData(0)})}},{key:"onReachBoundary",value:function(e){this.fetchData(e.fetchRecordIndex)}},{key:"renderListRow",value:function(e){var t=this.props,a=t.moduleMeta,n=t.isPeekView,i=t.module,o=this.state,s=o.activityIds,r=o.activityData,c=o.activitiesType,l=o.from,u=s[e.index];return g.a.createElement("div",{style:e.style,ref:e.ref},g.a.createElement(Q,{activitiesType:c,from:l,module:i,index:e.index,moduleMeta:a,data:r[u],deleteTask:this.deleteActivity,editTask:this.oneditActivity,isPeekView:n,onTicketIdClick:this.handleonTicketIdClick,onContactNameClick:this.handleonContactNameClick,updateStatus:this.handleCompleteClick}))}},{key:"getActivityTypeAndId",value:function(e){return"upcomingCalls"==e||"allCalls"==e?["calls","allCalls"==e?"all":"upcoming"]:"upcomingTasks"==e||"allTasks"==e?["tasks","allTasks"==e?"all":"upcoming"]:"upcomingEvents"==e||"allEvents"==e?["events","allEvents"==e?"all":"upcoming"]:"upcomingActivities"==e||"allActivities"==e?["activities","allActivities"==e?"all":"upcoming"]:void 0}},{key:"oneditActivity",value:function(e,t){var a=this.props,n=a.orgName,i=a.sanitizedDeptName,o=a.push;a.module;o({pathname:"/"+n+"/"+i+"/"+t.toLowerCase()+"/edit/"+e})}},{key:"handleonTicketIdClick",value:function(e){var t=this.props,a=t.orgName,n=t.sanitizedDeptName;(0,t.push)({pathname:"/"+a+"/"+n+"/"+t.moduleMeta.tickets.sanitizedName+"/details/"+e})}},{key:"handleonContactNameClick",value:function(e){var t=this.props,a=t.orgName,n=t.sanitizedDeptName;(0,t.push)({pathname:"/"+a+"/"+n+"/"+t.moduleMeta.contacts.sanitizedName+"/details/"+e})}},{key:"toggleAlignment",value:function(e,t){var a=this.state,n=a.selectedFilter,i=a.isAscending,o=a.limit,s=a.activitiesType,r=a.activityFetchId,c=a.sortByFilterId;c="activities"==s?"dueDate"==t?i?"activityTime":"-activityTime":i?"createdTime":"-createdTime":"tasks"==s?"dueDate"==t?i?"dueDate":"-dueDate":i?"createdTime":"-createdTime":"dueDate"==t?i?"startTime":"-startTime":i?"createdTime":"-createdTime";var l="upcoming"!=r;o*=3;var u=this.props,d=u.module,m=u.deptId,p=u.id,v=u.getActivitiesList,f=this.getActivityTypeAndId(n)[0],g=d.toLowerCase()+"s";this.setState({sortByFilter:e,sortByFilterId:c},function(){v(g,f,p,0,o,l,m,c)})}},{key:"handleCompleteClick",value:function(e,t,a){var n=this,i=this.props,o=i.getTaskStatusMapping,s=i.getCallStatusMapping,r=i.getEventStatusMapping,c=i.taskStatusMapping,l=(i.callStatusMapping,i.eventStatusMapping);"Tasks"==t?o(a).then(function(i){var o=null==i?c[a].statusMapping:i.data[a].statusMapping,s={status:o.filter(function(e){if("Completed"==e.statusType)return e})[0].name};n.props.updateActivity(e,t.toLowerCase(),s).then(function(e){n.fetchData(0)})}):"Calls"==t?s(a).then(function(i){var o=null==i?c[a].statusMapping:i.data[a].statusMapping,s={status:o.filter(function(e){if("Completed"==e.statusType)return e})[0].name};n.props.updateActivity(e,t.toLowerCase(),s).then(function(e){n.fetchData(0)})}):"Events"==t&&r(a).then(function(i){var o=null==i?l[a].statusMapping:i.data[a].statusMapping,s={status:o.filter(function(e){if("Completed"==e.statusType)return e})[0].name};n.props.updateActivity(e,t.toLowerCase(),s).then(function(e){n.fetchData(0)})})}},{key:"deleteActivity",value:function(e,t){var a=this,n={submitText:Y.f.getI18NValue("crm.button.ok"),cancelText:Y.f.getI18NValue("support.label.cancel"),title:Y.f.getI18NValue("support.delete",t),isActive:"true",iconName:"exclamationThincircle",message:Y.f.getI18NValue("support.solution.category.delete.alert",[t]),type:"confirmation"};this.props.showAlert(n).then(function(){var t=a.props,n=t.id,i=t.moveToTrash,o=t.module,s=t.showMessage;i(e,"activities",n,o).then(function(){s({type:"success",message:Y.f.getI18NValue("support.from.address.deleted.success")})})}).catch(function(){})}},{key:"onArrowPositionChange",value:function(e){var t=this.state,a=t.selectedFilter,n=t.sortByFilterId,i=t.limit,o=t.activityFetchId,s=this.props,r=s.id,c=s.module,l=s.deptId,u=s.getActivitiesList;n=e?"-"+n:n;var d=this.getActivityTypeAndId(a),m=d[0],p=(d[1],c.toLowerCase()+"s"),v="upcoming"!=o;this.setState({isAscending:!e},function(){u(p,m,r,0,i,v,l,n)})}},{key:"onPopupSelect",value:function(e,t){var a=this.props,n=a.orgName,i=a.sanitizedDeptName,o=a.push;switch(t){case"calls":o({pathname:"/"+n+"/"+i+"/calls/new"});break;case"tasks":o({pathname:"/"+n+"/"+i+"/tasks/new"});break;case"events":o({pathname:"/"+n+"/"+i+"/events/new"})}}},{key:"fetchData",value:function(e){var t=this;this.setState({from:e});var a=this.props,n=a.id,i=a.getActivitiesList,o=a.moduleMeta,s=a.module,r=a.deptId;s=s.toLowerCase()+"s";var c=this.state,l=c.activitiesType,u=c.activityFetchId,d=this.state,m=d.limit,p=d.mode;return i(s,l,n,e,m*=3,"upcoming"!=u,r).then(function(e){var a=e.data.entities.emptyData;t.setState({emptyData:a}),a&&"upcoming"==p&&t.setState({noUpComingData:!0,mode:Y.f.getI18NValue("support.all.tasks",[o.activities.displayLabel])},function(){t.fetchData(0)})},function(e){JSON.parse(e.response).message==C.R&&t.setState({notAccessible:!0})})}},{key:"render",value:function(){var e=this.props,t=e.moduleMeta,a=e.haveCreatePermission,n=e.needToShowAdd,o=void 0===n||n,s=this.state,r=s.activityIds,c=s.mode,l=s.emptyData,u=void 0;if(s.notAccessible)return g.a.createElement(ae.a,null);if(l){var d=this.props.module.toLowerCase()+"s",m=c.split(" ")[0]==Y.f.getI18NValue("support.history.filter.allhistory")?c.split(" ")[1].toLowerCase():c.toLowerCase();u=g.a.createElement(M.a,{subtabName:m,moduleName:t[d].singularLabel.toLowerCase(),noNeedToShowAdd:!a||!o,link:"http://www.zoho.com/support/help/associates-with-requests.html#addtask"},this.openAddOptions("emptyState"))}var p=this.props.routingState;return g.a.createElement(w.c,null,g.a.createElement(w.b,{getLeftPlaceHolder:this.getLeftPlaceHolder(),getRightPlaceHolder:this.getRightPlaceHolder()},o&&this.openAddOptions("header")),l?g.a.createElement(w.a,null,u):g.a.createElement(ee.a,{routingState:p,component:w.a,isElementsFixedHeight:!0,className:oe.a.listVirtulizer,renderRow:this.renderListRow,itemsCount:r&&i()(r).length||0,estimatedItemSize:75,overScanCount:C.k.OVER_SCAN,onReachBoundary:this.onReachBoundary}))}}]),t}(f.Component);se.propTypes={activityData:y.a.object,activityIds:y.a.array,callStatusMapping:y.a.object,count:y.a.string,deptId:y.a.string,eventStatusMapping:y.a.object,getActivitiesList:y.a.func,getCallStatusMapping:y.a.func,getEventStatusMapping:y.a.func,getTaskStatusMapping:y.a.func,haveCreatePermission:y.a.bool,id:y.a.string,isPeekView:y.a.bool,module:y.a.string,moduleMeta:y.a.object,moveToTrash:y.a.func,needToShowAdd:y.a.bool,orgName:y.a.string,push:y.a.func,routingState:y.a.object,sanitizedDeptName:y.a.string,showAlert:y.a.func,showMessage:y.a.func,taskStatusMapping:y.a.object,updateActivity:y.a.func};t.default=Object(b.connect)(function(e,t){var a=Object(ne.r)(e);return{activityIds:e.module[t.module][t.id].activities,activityData:e.module.activities,moduleMeta:e.moduleMeta,deptId:a,orgName:e.routing.paramMap.orgName,routingState:e.routing.location,sanitizedDeptName:e.routing.paramMap.deptName,haveCreatePermission:Object(ne.Ib)(e,{module:"tasks",mode:"create"}),taskStatusMapping:e.taskStatusMapping,callStatusMapping:e.callStatusMapping,eventStatusMapping:e.eventStatusMapping}},{getActivitiesList:function(e,t,a,n,i,o,s,r){var c="/api/v1/"+e+"/"+a+"/"+t+"?from="+n+"&limit="+i;c+=null==s||""==s?"&departmentId=allDepartment":"&departmentId="+s,null!=r&&(c+="&sortBy="+r),o||(c+="&isCompleted=false"),c+="&include=assignee,tickets,teams,contacts";var l=void 0;return"accounts"==e?l=C.L.ACCOUNT_L:"contacts"==e?l=C.L.CONTACT_L:"tickets"==e&&(c=E+"api/v1/"+e+"/"+a+"/"+t,l=C.L.TICKET_L),{types:Object(N.m)(C.L.ACTIVITIES),callAPI:function(e,t){return Object(k.a)(c,!1,{orgId:e.currentOrgId}).get().then(function(e){if(204!=e.responseStatus){var o=L()({id:a},C.L.ACTIVITIES_L,e.data),s=Object(S.normalize)(o,Object(S.schema)(l,{mapping:{activities:Object(S.arrayOf)(Object(S.schema)(C.L.ACTIVITIES_L))}}));if(0==n)return s;var r=t(),c=T()({},r.module.activities,s.entities.activities),u=r.module.contact[a].activity,d=s.entities.contact[a].activity;return u.slice(0,n).concat(d).concat(u.slice(n+d.length)),{entities:{noMoreData:d.length<i,activity:c,contact:L()({},a,{activity:newActivityIdList})}}}return{entities:{noMoreData:!0,emptyData:0==n},result:[]}})}}},updateActivity:function(e,t,a){return{types:Object(N.m)(C.O.TASK_UPDATE),callAPI:function(n){return Object(k.a)("/api/v1/"+t+"/"+e,!1,{orgId:n.currentOrgId}).patch("",a).then(function(e){return e})}}},push:A.K,getCallStatusMapping:O.e,getTaskStatusMapping:j.i,getEventStatusMapping:P.g,showMessage:A.Q,moveToTrash:A.D,showFreezeLayer:A.P,disableFreezeLayer:A.f,showAlert:A.a.showConfirmBox})(se)},984:function(e,t,a){"use strict";var n=a(38),i=a.n(n),o=a(71),s=a.n(o),r=a(2),c=a.n(r),l=a(5),u=a.n(l),d=a(12),m=a.n(d),p=a(9),v=a.n(p),f=a(10),g=a.n(f),h=a(13),y=a.n(h),b=a(14),_=a.n(b),T=a(0),I=a.n(T),L=a(1),k=a.n(L),C=a(3),N=a(930),S=a(131),E=function(e){function t(e){v()(this,t);var a=y()(this,(t.__proto__||m()(t)).call(this,e));return a.onReachBoundary=a.onReachBoundary.bind(a),a.getPublicMethods=a.getPublicMethods.bind(a),a.onScroll=a.onScroll.bind(a),a.renderRow=a.renderRow.bind(a),a.onScroll=Object(S.a)(a.onScroll,700),a}return _()(t,e),g()(t,[{key:"renderRow",value:function(e){var t=e.index,a=e.ref,n=e.style;return this.props.renderRow({index:t,ref:a,style:n})}},{key:"getPublicMethods",value:function(e){var t=this.props.getPublicMethods,a=e.getSizeAndPositionOfElement;this.getSizeAndPositionOfElement=a,e.getSizeForIndex=a,t&&t(e)}},{key:"onScroll",value:function(e,t){var a=this.props,n=a.onScroll,i=(a.name,a.routingState),o=void 0===i?{}:i,r=C.k.SESSION_STORE_KEY,l=e.viewportRange.from,d=this.getSizeAndPositionOfElement(l).offsetTop,m=e.scrollTop-d,p=u()({},o.key,{extraOffset:m,index:l}),v=JSON.parse(sessionStorage.getItem(r)||"{}"),f=c()({},v,p);sessionStorage.setItem(r,s()(f)),n&&n()}},{key:"onReachBoundary",value:function(e){var t=this.props.onReachBoundary,a=C.k,n=e.to,i=e.direction===a.FORWARD_KEY;t&&t({scrollType:i?"forward":"backward",pageType:"fetch",fetchRecordIndex:n})}},{key:"render",value:function(){var e,t=this.props,a=t.containerClassName,n=t.itemsCount,o=t.throbberGetter,s=t.estimatedItemSize,r=t.overScanCount,c=t.component,l=t.className,d=t.isElementsFixedHeight,m=t.isElementsFixedWidth,p=t.scrollDirection,v=t.emptyViewGetter,f=t.dataId,g=t.containerProps;return I.a.createElement(N.a,i()((e={isElementsFixedHeight:d,isElementsFixedWidth:m,className:a,elementRenderer:this.renderRow,elementsCount:n,loadingElementRenderer:o,estimatedItemSize:s,onScroll:this.onScroll,scrollThreshold:r,onScrollThresholdReach:this.onReachBoundary,containerType:c},u()(e,"className",l),u()(e,"getExposedPublicMethods",this.getPublicMethods),u()(e,"scrollDirection",p),u()(e,"emptyContainerRenderer",v),u()(e,"dataId",f),e),g))}}]),t}(T.Component);t.a=E,E.propTypes={className:k.a.string,component:k.a.elementType,containerClassName:k.a.string,containerProps:k.a.object,dataId:k.a.string,emptyViewGetter:k.a.node,estimatedItemSize:k.a.number,getPublicMethods:k.a.func,isElementsFixedHeight:k.a.bool,isElementsFixedWidth:k.a.bool,itemsCount:k.a.number,name:k.a.string,onReachBoundary:k.a.func,onScroll:k.a.func,overScanCount:k.a.number,renderRow:k.a.func,routingState:k.a.object,scrollDirection:k.a.oneOf(["vertical","horizontal"]),throbberGetter:k.a.func}}}]);