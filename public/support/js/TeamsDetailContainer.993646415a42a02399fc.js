(window.deskappJsonp=window.deskappJsonp||[]).push([[25],{1031:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),l=a(10),s=a.n(l),c=a(13),m=a.n(c),u=a(14),d=a.n(u),p=a(0),f=a.n(p),g=a(1),_=a.n(g),b=a(16),h=a(30),v=a(1033),T=a.n(v),I=function(e){function t(e){i()(this,t);var a=m()(this,(t.__proto__||o()(t)).call(this,e));return a.state={isHelpInfoOpen:!1},a.toggleHelpInfo=a.toggleHelpInfo.bind(a),a}return d()(t,e),s()(t,[{key:"toggleHelpInfo",value:function(){var e=this.state.isHelpInfoOpen;this.setState({isHelpInfoOpen:!e})}},{key:"render",value:function(){var e=this,t=this.state.isHelpInfoOpen,a=this.props,n=a.children,o=a.needHelpInfo,r=a.getHelpInfo,i=a.helpInfoTitle;return f.a.createElement(b.Container,{isScrollAttribute:!0},f.a.Children.map(n,function(t){return t&&t.type==E?f.a.cloneElement(t,{openHelpInfo:e.toggleHelpInfo,needHelpInfo:o}):t}),r?f.a.createElement(b.Box,{className:T.a.popup+" "+(t?T.a.open:T.a.close)},f.a.createElement(b.Container,null,f.a.createElement(b.Box,null,f.a.createElement(b.Container,{alignBox:"row",align:"vertical",className:T.a.infoHeader},f.a.createElement(b.Box,{className:T.a.infoIcon},f.a.createElement(h.GettingstartedFontIcon,{name:"info31",size:"12"})),f.a.createElement(b.Box,{flexible:!0,className:T.a.infoText},i),f.a.createElement(b.Box,null,f.a.createElement("span",{onClick:this.toggleHelpInfo,className:T.a.infoClose},f.a.createElement(h.TopbandFontIcon,{name:"close",size:"28"}))))),f.a.createElement(b.Box,{flexible:!0,scroll:"vertical",className:T.a.infoFooter},r()))):null)}}]),t}(f.a.Component),O=I;I.propTypes={children:_.a.element,getHelpInfo:_.a.func,helpInfoTitle:_.a.string,needHelpInfo:_.a.bool},I.defaultProps={helpInfoTitle:"Page Tips",needHelpInfo:!1};var E=function(e){function t(e){return i()(this,t),m()(this,(t.__proto__||o()(t)).call(this,e))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.needBack,n=e.onBackClick,o=e.openHelpInfo,r=e.needHelpInfo,i=e.needHelpInfoWrapper,l=e.getLeftPlaceHolder,s=e.getRightPlaceHolder,c=e.leftClassName,m=e.rightClassName,u=e.isCustomizedHeader,d=e.headerCustomStyle;return f.a.createElement(b.Box,{className:!0===u?d:T.a.header},f.a.createElement(b.Container,{alignBox:"row",align:"vertical"},f.a.createElement(b.Box,{className:T.a.back},a?f.a.createElement("span",{className:T.a.backIcon,onClick:n},f.a.createElement(h.TopbandFontIcon,{name:"back",size:"12"})):null),f.a.createElement(b.Box,{flexible:!l&&!s,className:T.a.title},t),l?f.a.createElement(b.Box,{flexible:!0,shrink:!0,adjust:!!s,className:c},f.a.createElement(b.Container,{align:"vertical",alignBox:"row"},l())):null,s?f.a.createElement(b.Box,{flexible:!0,shrink:!0,adjust:!!l,className:m},f.a.createElement(b.Container,{align:"vertical",alignBox:"row",className:T.a.rightPanel},s())):null,r?f.a.createElement(b.Box,null,i?f.a.createElement("span",{className:T.a.helpInfoCont},f.a.createElement("span",{className:T.a.helpInfo,onClick:o},f.a.createElement(h.GettingstartedFontIcon,{name:"info31",size:"11"}))):f.a.createElement("span",{className:T.a.helpInfo+" "+T.a.mr15,onClick:o},f.a.createElement(h.GettingstartedFontIcon,{name:"info31",size:"11"}))):null))}}]),t}(p.Component);E.propTypes={getLeftPlaceHolder:_.a.func,getRightPlaceHolder:_.a.func,headerCustomStyle:_.a.object,isCustomizedHeader:_.a.bool,leftClassName:_.a.string,needBack:_.a.bool,needHelpInfo:_.a.bool,needHelpInfoWrapper:_.a.bool,onBackClick:_.a.func,openHelpInfo:_.a.func,rightClassName:_.a.string,title:_.a.string},E.defaultProps={needBack:!1,needHelpInfo:!1,needHelpInfoWrapper:!1};var C=function(e){function t(e){return i()(this,t),m()(this,(t.__proto__||o()(t)).call(this,e))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.needPadding,n=e.className;return f.a.createElement(b.Box,{flexible:!0,scroll:"vertical",className:(n||"")+" "+T.a.content+" "+(a?T.a.padding:"")+" ",isScrollAttribute:!0},t)}}]),t}(p.Component);C.propTypes={children:_.a.element,className:_.a.bool,needPadding:_.a.bool},C.defaultProps={needPadding:!0};var S=function(e){function t(e){return i()(this,t),m()(this,(t.__proto__||o()(t)).call(this,e))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.children;return f.a.createElement(b.Box,{className:""+T.a.footer},f.a.createElement(b.Container,{alignBox:"row",align:"vertical"},e))}}]),t}(p.Component);S.propTypes={children:_.a.element},a.d(t,"b",function(){return O}),a.d(t,"d",function(){return E}),a.d(t,"c",function(){return S}),a.d(t,"a",function(){return C})},1033:function(e,t,a){e.exports={header:"SetupDetailLayout-module__header",back:"SetupDetailLayout-module__back",backIcon:"SetupDetailLayout-module__backIcon",title:"SetupDetailLayout-module__title common-module__ftsmooth",rightPanel:"SetupDetailLayout-module__rightPanel common-module__justifyFend",helpInfoCont:"SetupDetailLayout-module__helpInfoCont",helpInfo:"SetupDetailLayout-module__helpInfo",mr15:"SetupDetailLayout-module__mr15",footer:"SetupDetailLayout-module__footer",content:"SetupDetailLayout-module__content",padding:"SetupDetailLayout-module__padding",popup:"SetupDetailLayout-module__popup",open:"SetupDetailLayout-module__open",close:"SetupDetailLayout-module__close common-module__disableFocus",infoHeader:"SetupDetailLayout-module__infoHeader",infoIcon:"SetupDetailLayout-module__infoIcon",infoText:"SetupDetailLayout-module__infoText common-module__dotted common-module__oflow common-module__ellipsis",infoClose:"SetupDetailLayout-module__infoClose",infoFooter:"SetupDetailLayout-module__infoFooter",organizeModules:"SetupDetailLayout-module__organizeModules"}},1166:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return m});var n=a(2),o=a.n(n),r=a(7),i=a(15),l=a(6),s=a(3);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.T,n=arguments[3];return{types:Object(l.m)(s.L.ROLE),callAPI:function(l){var c=2*a>500?500:2*a;return Object(i.a)("/api/v1/roles?from="+e+"&limit="+c+(t?"&searchStr=*"+t+"*":"")+(n?"&isVisible=true":""),!1,{orgId:l.currentOrgId}).get().then(function(n){return o()({},Object(r.normalize)(204!==n.responseStatus?n.data:[],Object(r.arrayOf)(Object(r.schema)(s.L.ROLE_L))),{from:e,limit:a,isNext:!!n.data&&n.data.length>a,searchStr:t})},function(e){throw e})}}}function m(e){return{types:Object(l.m)("ROLE"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(i.a)("/api/v1/rolesByIds?roleIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.normalize)(204!==e.responseStatus?e.data:[],Object(r.arrayOf)(Object(r.schema)(s.L.ROLE_L)))})}}}},1512:function(e,t,a){e.exports={leftMenu:"SetupPageContainer-module__leftMenu",innerBody:"SetupPageContainer-module__innerBody",tabList:"SetupPageContainer-module__tabList",alphaset:"SetupPageContainer-module__alphaset"}},1872:function(e,t,a){e.exports={container:"TeamsDetailTitle-module__container",title:"TeamsDetailTitle-module__title common-module__dotted common-module__oflow common-module__ellipsis",description:"TeamsDetailTitle-module__description",editIcon:"TeamsDetailTitle-module__editIcon",deleteIcon:"TeamsDetailTitle-module__deleteIcon"}},1873:function(e,t,a){e.exports={teamMemberList:"TeamMembersSection-module__teamMemberList",teamAlign:"TeamMembersSection-module__teamAlign",teamTitle:"TeamMembersSection-module__teamTitle",teamTabList:"TeamMembersSection-module__teamTabList",more:"TeamMembersSection-module__more",moreTxt:"TeamMembersSection-module__moreTxt"}},1874:function(e,t,a){e.exports={teamAlign:"TeamMembers-module__teamAlign",girdAlign:"TeamMembers-module__girdAlign common-module__alignVertical",memberList:"TeamMembers-module__memberList",sourceList:"TeamMembers-module__sourceList",notificationList:"TeamMembers-module__notificationList",teamSection:"TeamMembers-module__teamSection",contSec:"TeamMembers-module__contSec",title:"TeamMembers-module__title common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",subTitle:"TeamMembers-module__subTitle",mailTxt:"TeamMembers-module__mailTxt common-module__dotted common-module__oflow common-module__ellipsis",textLimit:"TeamMembers-module__textLimit common-module__dotted common-module__oflow common-module__ellipsis",dotted:"TeamMembers-module__dotted common-module__dotted common-module__oflow common-module__ellipsis",contTxt:"TeamMembers-module__contTxt common-module__dotted common-module__oflow common-module__ellipsis",teamPart:"TeamMembers-module__teamPart"}},1875:function(e,t,a){e.exports={title:"TeamsSourceTitle-module__title common-module__dotted common-module__oflow common-module__ellipsis",agentcount:"TeamsSourceTitle-module__agentcount",plusIcon:"TeamsSourceTitle-module__plusIcon"}},626:function(e,t,a){"use strict";a.r(t);var n=a(23),o=a.n(n),r=a(12),i=a.n(r),l=a(9),s=a.n(l),c=a(10),m=a.n(c),u=a(13),d=a.n(u),p=a(14),f=a.n(p),g=a(0),_=a.n(g),b=a(1),h=a.n(b),v=a(26),T=a(16),I=(a(1512),a(17)),O=a(956),E=a(24),C=a(1166),S=(a(306),a(5)),y=a.n(S),L=a(1872),j=a.n(L),N=a(30),k=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.description,n=e.edit,o=e.error;return _.a.createElement(T.Container,{className:j.a.container,alignBox:"row",align:"vertical",isCover:!1},_.a.createElement(T.Box,{flexible:!0},_.a.createElement("div",{className:j.a.title},t),_.a.createElement("div",{className:j.a.description},a)),_.a.createElement(T.Box,null,_.a.createElement("span",{className:j.a.editIcon},_.a.createElement(N.TopbandFontIcon,{name:n,size:"14"})),_.a.createElement("span",{className:j.a.deleteIcon},_.a.createElement(N.SocialFontIcon,{name:o,size:"14"}))))}}]),t}(_.a.Component),A=k;k.propTypes=y()({description:h.a.string,edit:h.a.string,error:h.a.string,title:h.a.string},"title",h.a.string);var x=a(1873),B=a.n(x),P=a(1031),M=a(81),H=a(1874),D=a.n(H),w=a(64),z=a.n(w),R=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.name,n=e.src,o=(e.mail,e.contactname),r=e.view,i=e.isHover,l=e.description;return _.a.createElement(T.Box,{className:""+("memberview"==r?D.a.memberList:"notificationview"==r?D.a.notificationList:D.a.sourceList)},_.a.createElement(T.Container,{alignBox:"row",className:D.a.girdAlign+" "+(i?D.a.teamSection:"")},_.a.createElement(T.Box,null,_.a.createElement(z.a,{name:a,src:n,size:"xmedium"})),_.a.createElement(T.Box,{flexible:!0,className:D.a.contSec},t&&_.a.createElement("span",{className:D.a.title},t),l&&_.a.createElement("span",{className:D.a.mailTxt+" "+(o?D.a.dotted:D.a.textLimit)},l),o&&_.a.createElement("span",{className:D.a.contTxt},o))))}}]),t}(_.a.Component),G=R;R.propTypes={contactname:h.a.string,description:h.a.string,isHover:h.a.bool,mail:h.a.string,name:h.a.string,src:h.a.string,title:h.a.string,view:h.a.string},R.defaultProps={listType:"teamview"},R.defaultProps={listType:"teamview"};var F=a(1875),W=a.n(F),V=a(63),U=a.n(V),J=function(e){function t(e){return s()(this,t),d()(this,(t.__proto__||i()(t)).call(this,e))}return f()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.count;return _.a.createElement(T.Container,{isCover:!1},_.a.createElement("div",{className:W.a.title},_.a.createElement("span",null,t),_.a.createElement("span",{className:W.a.agentcount},a),_.a.createElement("span",{className:W.a.plusIcon},_.a.createElement(U.a,{name:"plus",size:"14"}))))}}]),t}(_.a.Component),K=J;J.propTypes={count:h.a.string,title:h.a.string};var Z=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.state={tab:"member"},a}return f()(t,e),m()(t,[{key:"tabs",value:function(e){this.setState({tab:e})}},{key:"getTeamSource",value:function(e,t){return"agent"==e?t.map(function(e){return _.a.createElement(G,{key:e.emailId,title:e.name,name:e.name,src:e.photoURL,description:e.emailId,contactname:"CEO",view:"memberview"})}):t.map(function(e,t){return _.a.createElement(G,{key:t,title:e.name,name:e.name,description:e.description,view:"teamview"})})}},{key:"render",value:function(){var e=this.props,t=e.headerTitle,a=e.needBack,n=e.onBackClick,o=(e.getLeftPlaceHolder,e.teamName),r=e.description,i=e.derivedAgents,l=e.agents,s=e.onClickTeamSources,c=e.subTeams,m=e.roles,u=e.rolesWithSubordinates,d=this.getTeamSource("agent",i),p=this.getTeamSource("agent",l),f=this.getTeamSource("subTeams",c),g=this.getTeamSource("roles",m),b=this.getTeamSource("rolesWithSub",u);return _.a.createElement(P.b,{getHelpInfo:function(){},needHelpInfo:!0},_.a.createElement(P.d,{title:t,needBack:a,onBackClick:n}),_.a.createElement(A,{title:o,description:r,edit:"pen2",error:"socialDelete"}),_.a.createElement(P.a,{needPadding:!1},_.a.createElement(M.TabWrapper,{defaultTab:this.state.tab,type:"delta",needTabBorder:!0,isAnimate:!0,onSelect:this.tabs.bind(this)},_.a.createElement(M.Tabs,{isResponsive:!1,needPadding:!1,className:B.a.tapSection},_.a.createElement(M.Tab,{id:"member",text:"Team Members",className:B.a.teamTabList}),_.a.createElement(M.Tab,{id:"sources",text:"Team Sources",className:B.a.teamTabList,onClick:s})),_.a.createElement(M.TabContentWrapper,null,_.a.createElement(M.TabContent,{id:"member"},_.a.createElement(T.Container,{scroll:"vertical",wrap:!0,isCover:!1},_.a.createElement(T.Box,{className:B.a.agentAlign},d))),_.a.createElement(M.TabContent,{id:"sources"},_.a.createElement(T.Container,{alignBox:"column",scroll:"vertical"},_.a.createElement(T.Box,{className:B.a.teamAlign},_.a.createElement(T.Container,{wrap:!0,isCover:!1},_.a.createElement("div",{className:B.a.teamTitle},_.a.createElement(K,{title:"Agents",count:"0"})),p)),_.a.createElement(T.Box,{className:B.a.teamAlign},_.a.createElement(T.Container,{wrap:!0,isCover:!1},_.a.createElement("div",{className:B.a.teamTitle},_.a.createElement(K,{title:"Teams",count:"0"})),f)),_.a.createElement(T.Box,{className:B.a.teamAlign},_.a.createElement(T.Container,{wrap:!0,isCover:!1},_.a.createElement("div",{className:B.a.teamTitle},_.a.createElement(K,{title:"Roles",count:"0"})),g)),_.a.createElement(T.Box,{className:B.a.teamAlign},_.a.createElement(T.Container,{wrap:!0,isCover:!1},_.a.createElement("div",{className:B.a.teamTitle},_.a.createElement(K,{title:"Roles & Subordinates",count:"0"})),b))))))))}}]),t}(_.a.Component),$=Z;Z.propTypes={agents:h.a.array,derivedAgents:h.a.array,description:h.a.string,getLeftPlaceHolder:h.a.func,headerTitle:h.a.string,needBack:h.a.bool,onBackClick:h.a.func,onClickTeamSources:h.a.func,roles:h.a.array,rolesWithSubordinates:h.a.array,subTeams:h.a.array,teamName:h.a.string};var q=a(6),Q=function(e){function t(e){s()(this,t);var a=d()(this,(t.__proto__||i()(t)).call(this,e));return a.onBackClick=a.onBackClick.bind(a),a.onClickTeamSources=a.onClickTeamSources.bind(a),a.state={agentLoaded:!1},a}return f()(t,e),m()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getTeams(this.props.teamId).then(function(t){e.props.getAgentsByTeam(e.props.teamId).then(function(){e.setState({agentLoaded:!0})})})}},{key:"getAgentObject",value:function(e){var t=this.props,a=t.agentsObj,n=t.namePattern,o=[];return e.map(function(e){var t=a[e];t&&o.push({name:Object(q.f)(n,t.firstName,t.lastName),photoURL:t.photoURL,emailId:t.emailId})}),o}},{key:"getTeamsObject",value:function(e){var t=this.props.teamsObj,a=[];return e.map(function(e){var n=t[e];n&&a.push({name:n.name,description:n.description})}),a}},{key:"getRolesObject",value:function(e){var t=this.props.rolesObj,a=[];return e.map(function(e){var n=t[e];n&&a.push({name:n.name,description:n.description})}),a}},{key:"onBackClick",value:function(){var e=this.props.paramMap,t=e.setupModule,a=void 0===t?"":t,n=e.orgName,o=e.deptName,r=e.setupSubOrDepOrModuleName;this.props.push({pathname:"/"+n+"/"+o+"/setup/"+a+"/"+r+"/list"})}},{key:"onClickTeamSources",value:function(){var e=this.props.teamObj,t=e.subTeams,a=void 0===t?[]:t,n=e.roles,r=void 0===n?[]:n,i=e.rolesWithSubordinates,l=void 0===i?[]:i,s=this.props,c=(s.teamId,s.depId),m=s.teamsIdList,u=[].concat(o()(r),o()(l));a.length>0&&!m.length&&this.props.getTeamsList(c).then(function(){console.log("scuccess")}),u.length>0&&this.props.getRoleDetails(u).then()}},{key:"render",value:function(){var e={headerName:"Teams",needBack:!0,onBackClick:this.onBackClick},t=this.props.teamObj||{},a=t.name,n=void 0===a?"":a,o=t.description,r=void 0===o?"":o,i=t.derivedAgents,l=void 0===i?[]:i,s=t.agents,c=void 0===s?[]:s,m=t.subTeams,u=void 0===m?[]:m,d=t.roles,p=void 0===d?[]:d,f=t.rolesWithSubordinates,g=void 0===f?[]:f,b=this.getAgentObject(l),h=this.getAgentObject(c),v=this.getTeamsObject(u),T=this.getRolesObject(p),I=this.getRolesObject(g);return _.a.createElement($,{headerTitle:e.headerName,needBack:e.needBack,onBackClick:e.onBackClick,getLeftPlaceHolder:this.getLeftPlaceHolder,teamName:n,description:r,derivedAgents:this.state.agentLoaded?b:[],agents:this.state.agentLoaded?h:[],subTeams:v,roles:T,rolesWithSubordinates:I,onClickTeamSources:this.onClickTeamSources})}}]),t}(g.Component);Q.propTypes={agentsObj:h.a.Object,depId:h.a.string,getAgentsByTeam:h.a.func,getRoleDetails:h.a.func,getTeams:h.a.func,getTeamsList:h.a.func,namePattern:h.a.any,paramMap:h.a.shape({setupModule:h.a.string,orgName:h.a.string,deptName:h.a.array,setupSubOrDepOrModuleName:h.a.string}),push:h.a.func,rolesObj:h.a.Object,teamId:h.a.string,teamObj:h.a.Object,teamsIdList:h.a.array,teamsObj:h.a.Object};var X={getTeams:E.t,push:E.K,getTeamsList:E.u,getRoleDetails:C.a,getAgentsByTeam:O.e};t.default=Object(v.connect)(function(e,t){var a=e.routing.paramMap,n=e.departmentMapper[a.setupSubOrDepOrModuleName],o=a.id,r=Object(I.Z)(e,o),i=Object(I.d)(e),l=Object(I.L)(e);return{depId:n,teamObj:r,teamId:o,teamsObj:e.module.teams,teamsIdList:e.departmentSpecificState[n]&&e.departmentSpecificState[n].teamsList||[],paramMap:a,namePattern:l,agentsObj:i,rolesObj:e.module.role}},X)(Q)},956:function(e,t,a){"use strict";a.d(t,"i",function(){return d}),a.d(t,"g",function(){return p}),a.d(t,"b",function(){return f}),a.d(t,"j",function(){return g}),a.d(t,"h",function(){return _}),a.d(t,"c",function(){return b}),a.d(t,"e",function(){return h}),a.d(t,"a",function(){return v}),a.d(t,"k",function(){return I}),a.d(t,"d",function(){return E}),a.d(t,"f",function(){return C}),a.d(t,"l",function(){return S});a(20);var n=a(2),o=a.n(n),r=a(15),i=a(6),l=a(7),s=a(17),c=a(46),m=a(3),u=a(39);function d(e){return{types:Object(i.m)("AGENTS_COUNT"),callAPI:function(t){var a=Object(s.r)(t);return Object(r.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return o()({},e,{id:e.agentId})}),{countData:e.data,deptId:a}):{}})}}}function p(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(i.m)(m.L.AGENT),callAPI:function(i){return Object(r.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+a+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:i.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<a,r=Object(l.normalize)(t.data,Object(l.arrayOf)(Object(l.schema)(m.L.AGENT_L)));return o()(r,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function f(e,t){return{types:Object(i.m)(m.L.AGENT),callAPI:function(a){return Object(r.a)("/api/v1/agents/"+e,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=Object(l.normalize)(e,Object(l.schema)(m.L.AGENT_L));return o()(a,{depId:t})})}}}function g(e,t,a){return{types:Object(i.m)("AGENT_SEARCH"),callAPI:function(n){return Object(r.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+a,!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<a,r=Object(l.normalize)(e.data,Object(l.arrayOf)(Object(l.schema)(m.L.AGENT_L)));return o()(r,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m.u,u=arguments[4];return{types:Object(i.m)(m.L.AGENT),callAPI:function(i){var d={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=u||Object(s.r)(i),f=u?"&departmentId="+u:Object(c.a)(i,!0),g="/api/v1/agents?"+(d?d+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(a?"&searchStr=*"+a+"*":"")+f;return Object(r.a)(encodeURI(g),!1,{orgId:i.currentOrgId}).get().then(function(r){return o()({},Object(l.normalize)(204!==r.responseStatus?r.data:[],Object(l.arrayOf)(Object(l.schema)(m.L.AGENT_L))),{deptId:p,from:t,limit:n,isNext:!!r.data&&r.data.length>n,searchStr:a,agentType:e})},function(e){throw e})}}}function b(e){return{types:Object(i.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(r.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.normalize)(204!==e.responseStatus?e.data:[],Object(l.arrayOf)(Object(l.schema)(m.L.AGENT_L)))})}}}function h(e){return{types:Object(i.m)("TEAM_AGENT"),callAPI:function(t){return Object(r.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(l.normalize)(e.members,Object(l.arrayOf)(Object(l.schema)(m.L.AGENT_L)))})}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a="";return t.map(function(t){void 0!==e[t]&&(a+="&"+t+"="+e[t])}),a}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return void 0!==e[t]?e[t]:a}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=T(e,"searchType","string"),a=e.searchStr;return a&&(a="string*"==t?a+"*":"*string*"==t?"*"+a+"*":a),a}function O(e){var t=e.isConfirmed,a=e.status;switch(a){case u.a:return u.a;case u.d:return u.d;case u.c:return u.c;default:if(void 0!==t&&!t)return u.l;if(void 0===a)return u.b}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=T(e,"from","1"),e.limit=T(e,"limit","100"),e.searchStr=I(e);var t=e.from>1?u.k:u.j;return{types:Object(i.m)(t),callAPI:function(t){var a="/api/v1/agents?orgId="+t.currentOrgId;return a+=v(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(r.a)(a).get().then(function(t){return o()(Object(l.normalize)(void 0!==t.data?t.data:[],Object(l.arrayOf)(Object(l.schema)(m.L.AGENT_L))),{status:O(e)})})}}}function C(e,t,a){var n={status:e,isConfirmed:t,includeLightAgent:a};return n.includeLightAgent=T(n,"includeLightAgent",!0),{types:Object(i.m)(u.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=v(n,["status","isConfirmed","includeLightAgent"]),Object(r.a)(t).get().then(function(e){return o()({},e,{status:O(n)})})}}}function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:u.m,data:{isEnabled:e}}}}}]);