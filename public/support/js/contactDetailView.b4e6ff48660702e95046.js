(window.deskappJsonp=window.deskappJsonp||[]).push([[58],{1007:function(e,t,n){"use strict";var a,o=n(5),i=n.n(o),r=n(12),c=n.n(r),l=n(9),s=n.n(l),u=n(10),d=n.n(u),m=n(13),f=n.n(m),p=n(14),b=n.n(p),g=n(0),h=n.n(g),_=n(1),v=n.n(_),I=n(1042),y=n.n(I),C=n(157),E=n.n(C),k=n(30),O=n(80),w=n.n(O),N=n(72),P=n.n(N),T=n(1026),j=n.n(T),A=n(361),D=n.n(A),L=function(e){function t(e){s()(this,t);var n=f()(this,(t.__proto__||c()(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.togglePopup=n.togglePopup.bind(n),n}return b()(t,e),d()(t,[{key:"handleSelect",value:function(e,t,n,a){if(void 0!==this.props.onSelect){var o=this.props;(0,o.onSelect)(e,o.entity)}this.props.togglePopup(a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.boxPosition;e.stopPropagation(),n(e,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isPopupOpen,a=t.onPopupChange;e.isPopupOpen!==n&&a&&a(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=void 0===n?"white":n,o=t.objValues,i=t.Icnsize,r=t.IcnName,c=(t.removeClose,t.listStyle,t.arrowPosition),l=t.position,s=t.right,u=(t.isScroll,t.widgets),d=void 0===u?[]:u,m=t.onWidgetScroll,f=t.onWidgetSelect,p=t.selectedWidgetId,b=t.arrowRight,g=t.arrowLeft,_=t.size,v=t.left,I=t.isPopupOpen,C=t.isPopupReady,O=t.getTargetRef,w=t.getContainerRef;return i=i||"medium",h.a.createElement("span",{className:E.a.posrel,ref:O,onClick:this.togglePopup},h.a.createElement("span",{className:y.a.defaultSize+" "+E.a.posrel+" "+y.a[a]},h.a.createElement("span",null,h.a.createElement(k.TopbandFontIcon,{name:r,size:i}))),I?h.a.createElement("span",{className:y.a.dropDivPosition},h.a.createElement(P.a,{isAnimate:!0,right:s,left:v,isActive:C,size:_,arrowRight:b,arrowLeft:g,boxPosition:l,getRef:w,arrowPosition:c},o.map(function(t,n){return h.a.createElement(D.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:n,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),o.length&&d.length?h.a.createElement(j.a,null):null,d.length?h.a.createElement("div",{className:y.a.widgetList,onScroll:m},d.map(function(e){var t=e.name,n=e.sanitisedName+"_"+e.installationId;return p!=n?h.a.createElement(D.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:n,id:n,onClick:function(){f(n,e)}}):null})):null)):null)}}]),t}(g.Component);L.defaultProps={IcnName:"more1",size:"small"},L.propTypes=(a={IcnName:v.a.string,Icnsize:v.a.string,arrowLeft:v.a.string,arrowPosition:v.a.string,arrowRight:v.a.string,boxPosition:v.a.string,entity:v.a.object,getContainerRef:v.a.func},i()(a,"getContainerRef",v.a.func),i()(a,"getTargetRef",v.a.func),i()(a,"isPopupOpen",v.a.bool),i()(a,"isPopupReady",v.a.bool),i()(a,"isScroll",v.a.bool),i()(a,"left",v.a.string),i()(a,"listStyle",v.a.string),i()(a,"objValues",v.a.array),i()(a,"onPopupChange",v.a.func),i()(a,"onSelect",v.a.func),i()(a,"onWidgetScroll",v.a.func),i()(a,"onWidgetSelect",v.a.func),i()(a,"position",v.a.string),i()(a,"removeClose",v.a.func),i()(a,"right",v.a.string),i()(a,"selectedWidgetId",v.a.string),i()(a,"size",v.a.string),i()(a,"theme",v.a.string),i()(a,"togglePopup",v.a.func),i()(a,"widgets",v.a.array),a),t.a=w()(L)},1025:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var a=function(e){var t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")?t:"http://"+t};function o(e){return 10==e.length?"("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6,10):e}function i(e,t,n){return void 0!==n?e=e+"&"+t+"="+n:"limit"==t&&(e+="&limit=10"),e}},1026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=r(n(0)),i=r(n(360));function r(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){return o.default.createElement("div",{className:i.default.separator})}}]),t}();t.default=c},1042:function(e,t,n){e.exports={defaultSize:"MorePopup-module__defaultSize common-module__offSelection",black:"MorePopup-module__black",white:"MorePopup-module__white",iconCustom:"MorePopup-module__iconCustom",mr10:"MorePopup-module__mr10",dropDivPosition:"MorePopup-module__dropDivPosition",dropdownPosition:"MorePopup-module__dropdownPosition",secondaryIcon:"MorePopup-module__secondaryIcon",widgetList:"MorePopup-module__widgetList"}},1069:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i});var a=function(e){return e.module.profile[e.myInfo.profileId].permissions.financeInteg},o=function(e){return"ENABLED"===e.integrations.INVOICE.status?"invoice":"ENABLED"===e.integrations.BOOKS.status?"books":null},i=function(e){return"ENABLED"===e.integrations.INVOICE.status?"ZohoInvoice":"ENABLED"===e.integrations.BOOKS.status?"ZohoBooks":null}},1096:function(e,t,n){"use strict";(function(e){n.d(t,"n",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"a",function(){return b}),n.d(t,"k",function(){return g}),n.d(t,"j",function(){return h}),n.d(t,"B",function(){return _}),n.d(t,"A",function(){return v}),n.d(t,"r",function(){return I}),n.d(t,"b",function(){return y}),n.d(t,"q",function(){return C}),n.d(t,"o",function(){return E}),n.d(t,"f",function(){return k}),n.d(t,"g",function(){return O}),n.d(t,"p",function(){return N}),n.d(t,"m",function(){return P}),n.d(t,"t",function(){return T}),n.d(t,"u",function(){return j}),n.d(t,"s",function(){return A}),n.d(t,"z",function(){return D}),n.d(t,"w",function(){return L}),n.d(t,"d",function(){return S}),n.d(t,"v",function(){return x}),n.d(t,"c",function(){return M}),n.d(t,"x",function(){return F}),n.d(t,"e",function(){return V}),n.d(t,"i",function(){return B}),n.d(t,"h",function(){return z}),n.d(t,"y",function(){return U});var a=n(19),o=n.n(a),i=n(3),r=n(17),c=n(24),l=n(8),s=n(15),u=n(6),d=n(46),m=n(1069);function f(e,t,n,a){return{types:Object(u.m)("GETINVOICES"),callAPI:function(o){var r=t&&"all"!=t?"&status="+t:"",c="";"Cases"===e&&(c="&departmentId="+o.module.ticket[n].departmentId);var l="pageNumber="+a+"&deskEntityId="+n+"&deskModuleName="+e+r+c;return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(o)+"/invoices?"+l,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:a}})}}}e.ZInvoice={};var p=function(e,t,n,a){return{types:Object(u.m)("GETESTIMATES"),callAPI:function(o){var r="pageNumber="+a+"&deskEntityId="+n+"&deskModuleName="+e+(t&&"all"!=t?"&status="+t:"");return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(o)+"/estimates?"+r,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:a}})}}},b=function(e){return{type:"CHANGE_FINANCE_ENTITY",data:{entity:e.entity,module:e.module,status:e.status}}};function g(e,t){return{types:Object(u.m)("GETACTIVITY"),callAPI:function(n){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(n)+"/contacts/"+e+"/activity?pageNumber="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[]}})}}}function h(e){return{types:Object(u.m)("DELINKCONTACT"),callAPI:function(t){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/contacts/disassociate?deskEntityId="+e,!1,{orgId:t.currentOrgId}).del().then(function(e){return e})}}}function _(e,t){return{types:Object(u.m)("UPDATE_INVOICE_STATUS"),callAPI:function(n){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(n)+"/invoices/"+e,!1,{orgId:n.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function v(e,t){return{types:Object(u.m)("UPDATE_ESTIMATE_STATUS"),callAPI:function(n){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(n)+"/estimates/"+e,!1,{orgId:n.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function I(e){return{types:Object(u.m)("MARKALL_INVOICE_SENT"),callAPI:function(t){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/invoices/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}var y=function(){return{type:"CLEAR_SELECTED_FINANCE_ENTITIES"}};function C(e){return{types:Object(u.m)("MARKALL_ESTIMATE_SENT"),callAPI:function(t){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/estimates/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}function E(){return{types:Object(u.m)("GET_PAYMENTMETA"),callAPI:function(e){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(e)+"/paymentTermsMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function k(e){return{types:Object(u.m)("CREATE_CONTACT"),callAPI:function(t,n){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(t)+"/contacts",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){return e})}}}function O(e,t){return{types:Object(u.m)("CREATE_CONTACT_MAPPING"),callAPI:function(n,a){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(n)+"/contacts/"+t,!1,{orgId:n.currentOrgId}).patch("",e).then(function(e){return e})}}}function w(e,t){var n={Cases:"tickets",Contacts:"contacts",Accounts:"accounts"};return{types:Object(u.m)("HAS_UNBILLED_TIMEENTRY"),callAPI:function(a){var o="Cases"!=t?Object(d.a)(a,!0):"",r=""+i.w+n[t]+"/"+e+"/timeEntry?isBillable=true"+o;return Object(s.a)(r,!1,{orgId:a.currentOrgId}).get().then(function(e){return{hasUnBilledTimeEntry:204!=e.responseStatus&&e.data.some(function(e){return null==e.invoiceId})}})}}}function N(e){return{types:Object(u.m)("GET_UNBILLED_TIMEENTRY"),callAPI:function(t){return Object(s.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function P(e){return{types:Object(u.m)("GET_FINACE_ENTITY"),callAPI:function(t){return Object(s.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function T(e,t){return{type:"CHANGE_INVOICE_MODULE",data:{module:e,status:t}}}function j(e){return{type:"CHANGE_INVOICE_STATUS",data:{status:e}}}function A(e){return{type:"SELECT_INVOICE",data:{selectedItem:e}}}function D(){return{type:"RESET_INVOICE_DEFAULT_DATA"}}function L(e){return{type:"OPEN_INVOICE_DETAILS",data:e}}function S(){return{type:"CLOSE_INVOICE_DETAILS"}}function x(e){return{type:"OPEN_INVOICE_IFRAME_FORM",data:e}}function M(){return{type:"CLOSE_INVOICE_IFRAME_FORM"}}function F(e){return{type:"OPEN_INVOICE_FORM",data:e}}function V(){return{type:"CLOSE_INVOICE_FORM"}}var R=function(e){var t=e.integrations,n=Object(r.I)(e),a=i.l[n],c=e.routing.paramMap.moduleId,l=e.module[a.stateKey][c];return{integrations:t,moduleId:c,contactId:"tickets"===n?l.contactId:c,moduleData:l,deskModuleName:a.deskModuleName,orgName:Object(r.O)(e),financeContact:o()("financeInfo.financeContact",e)||{}}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var o=a(),i=R(o),r=i.moduleId,c=i.deskModuleName,l=i.moduleData,s=i.orgName,u=i.financeContact,d=i.integrations;ZInvoice.entityType="invoice",ZInvoice.isDetailView=!1,ZInvoice.includeTimeEntries=!1;var f=function(a){if(!a){ZInvoice.isHasUnbilledTimeEntries=!1,"Cases"===c?(ZInvoice.caseSubject="[## "+l.ticketNumber+" ##] "+l.subject,ZInvoice.caseId=l.id):(ZInvoice.caseSubject="",ZInvoice.caseId="");var i="/support/"+s+"/connectzb?entityType=2&acceptJHTML=true&entityid="+u.id+"&accountType="+Object(m.a)(o);return n(x({isOpen:!0,src:i,openFinance:e}))}ZInvoice.includeTimeEntries=!0,ZInvoice.isHasUnbilledTimeEntries=!0;var r=t.timeEntryIds;return n(F({type:"invoiceForm",data:{isPreferenceOpen:!0,financeContact:u,timeEntryIds:void 0===r?[]:r},accountType:"ENABLED"==d.INVOICE.status?"invoice":"books",entity:"invoice"}))},p=t.timeEntryIds;return(void 0===p?[]:p).length?f(!0):n(w(r,c)).then(function(e){return f(e.data.hasUnBilledTimeEntry)})}},z=function(e){return function(t,n){var a=n(),o=R(a),i=o.moduleData,r=o.deskModuleName,c=o.orgName,l=o.financeContact;return ZInvoice.includeTimeEntries=!1,ZInvoice.isDetailView=!1,ZInvoice.entityType="estimate","Cases"===r?(ZInvoice.caseSubject="[## "+i.ticketNumber+" ##] "+i.subject,ZInvoice.caseId=i.id):(ZInvoice.caseSubject="",ZInvoice.caseId=""),t(x({isOpen:!0,src:"/support/"+c+"/connectzb?entityType=1&acceptJHTML=true&entityid="+l.id+"&accountType="+Object(m.a)(a),openFinance:e}))}},U=function(e,t,n){return function(a,o){var r=o(),d=R(r),f=d.contactId,p=d.deskModuleName,b=d.integrations;return a(function(e,t){return{types:Object(u.m)("SEARCHCONTACTS"),callAPI:function(n){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(n)+"/contacts/search?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}}(f,p)).then(function(o){return o.data&&"contactId"==o.data.matchedBy?a(function(e,t){return{types:Object(u.m)("FINANCECONTACT"),callAPI:function(n){return Object(s.a)(i.w+"zohoFinance/"+Object(m.c)(n)+"/contacts?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:n.currentOrgId}).get().then(function(e){return e})}}}(f,p)).then(function(){"invoice"===t?a(B(e,n)):"estimate"===t?a(z(e)):e()}):(a(F({type:"invoiceForm",data:204!=o.data.responseStatus?o.data:null,accountType:"ENABLED"==b.INVOICE.status?"invoice":"books",openFinance:e,entity:t})),{isInvoiceInfoOpen:!1})}).catch(function(e){throw a(Object(c.Q)({type:"alert",message:l.f.getI18NValue("support.invoice.integ.email.error")})),e})}}}).call(this,n(68))},1195:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(1),g=n.n(b),h=n(1196),_=n.n(h),v=n(947),I=n.n(v),y=n(246),C=n.n(y),E=n(109),k=n(8),O=n(1025),w=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.text,a=e.fieldType,o=(e.onClick,e.size),i=e.isBold,r=e.labelcolor,c=e.textcolor;return p.a.createElement("div",{className:_.a.title},p.a.createElement("span",{className:_.a.user+" "+_.a[o]+" "+_.a[r],"data-title":t},t),p.a.createElement("span",{className:_.a.name+" "+_.a[o]+" "+_.a[c]+" "+(i&&_.a.bold)},a.match(/^(Lookup|LookUp|OwnerLookup|User Lookup|Text|Number|Percent|Decimal|Picklist|Pick List|BigInt|Integer|Double|Formula)$/)&&n,"Currency"==a&&n,"Date"==a&&p.a.createElement(k.d,{ago:"ago",format:function(){return"DD/MM/YYYY"},later:"late",to:n}),"DateTime"==a&&p.a.createElement(k.d,{ago:"ago",format:function(){return"DD/MM/YYYY hh:mm A"},later:"late",to:n}),"Email"==a&&p.a.createElement(E.a,{className:_.a.anchor,href:"mailto:"+n},n),"Phone"==a&&p.a.createElement(E.a,{className:_.a.anchor,href:"tel:"+n},n),a.match(/^(URL|Website)$/)&&p.a.createElement(E.a,{className:_.a.anchor,href:Object(O.c)(n),target:"_blank"},n),"Boolean"==a&&p.a.createElement(I.a,{checked:"true"==n,disabled:!0}),a.match(/^(Textarea|TextArea)$/)&&n.split("\n").map(function(e,t){return p.a.createElement(f.Fragment,{key:t},e,p.a.createElement("br",null))}),a.match(/^(Multiselect|Multiselect Pick List)$/)&&n.split(";").map(function(e,t){if(""!=e)return p.a.createElement(C.a,{key:t,text:e})})))}}]),t}(f.Component);t.a=w,w.propTypes={fieldType:g.a.string,isBold:g.a.bool,label:g.a.string,labelcolor:g.a.oneOf(["grey","black"]),onClick:g.a.func,size:g.a.oneOf(["small","medium"]),text:g.a.string,textcolor:g.a.oneOf(["grey","black"])},w.defaultProps={size:"small",labelcolor:"grey",textcolor:"black",isBold:!1}},1196:function(e,t,n){e.exports={title:"PrimaryInfo-module__title",user:"PrimaryInfo-module__user common-module__dotted common-module__oflow common-module__ellipsis",name:"PrimaryInfo-module__name",grey:"PrimaryInfo-module__grey",black:"PrimaryInfo-module__black",medium:"PrimaryInfo-module__medium common-module__semibold common-module__ftsmooth",small:"PrimaryInfo-module__small",anchor:"PrimaryInfo-module__anchor",agent:"PrimaryInfo-module__agent",bold:"PrimaryInfo-module__bold common-module__semibold common-module__ftsmooth"}},1232:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return f});var a=n(2),o=n.n(a),i=n(5),r=n.n(i),c=n(15),l=n(6),s=n(3),u=n(7);function d(e,t){return{types:Object(l.m)(s.L.FOLLOWERS),callAPI:function(n){return Object(c.a)("/api/v1/"+e+"/"+t+"/followers",!1,{orgId:n.currentOrgId}).get().then(function(e){return 0==e.data.length?{entities:r()({},s.L.AGENT_L,{}),result:[]}:Object(u.normalize)(e.data,Object(u.arrayOf)(Object(u.schema)(s.L.AGENT_L)))})}}}function m(e,t,n){return{types:Object(l.m)(e.toUpperCase()+"_REMOVEFOLLOWER"),callAPI:function(a,i){return Object(c.a)("/api/v1/"+e+"/"+t+"/removeFollowers",!1,{orgId:a.currentOrgId}).post("",{followerIds:[n]}).then(function(c){if("tickets"==e){var l=i().module.ticket[t].followerCount,s={followerCount:parseInt(l)-1};return s=a.myInfo.id==n?o()(s,{isFollowing:!1}):s,{res:c,entities:{ticket:r()({},t,s)},result:[]}}return c})}}}function f(e,t,n){return{types:Object(l.m)(e.toUpperCase()+"_ADDFOLLOWER"),callAPI:function(a,i){return Object(c.a)("/api/v1/"+e+"/"+t+"/addFollowers",!1,{orgId:a.currentOrgId}).post("",{followerIds:[n]}).then(function(c){if("tickets"==e){var l=i().module.ticket[t].followerCount,s={followerCount:parseInt(l)+1};return s=a.myInfo.id==n?o()(s,{isFollowing:!0}):s,{res:c,entities:{ticket:r()({},t,s)},result:[]}}return c})}}}},1274:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(1),g=n.n(b),h=n(45),_=n.n(h),v=n(16),I=function(e){function t(e){return r()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isLeftPanelOpen,n=e.constructLeftPanel,a=e.screenMode,o=e.changeLeftTab,i=e.leftTab,r=e.constructRightPanel,c=e.children,l=e.dataId;return p.a.createElement(v.Container,{alignBox:"row",dataId:l},n?p.a.createElement(v.Box,{className:_.a.column3+" "+(t?_.a.column3Active:"")+" "},p.a.createElement(v.Container,{alignBox:"column",className:""+_.a.column3box},p.a.createElement(v.Box,{flexible:!0},n()))):null,p.a.createElement(v.Box,{flexible:!0,className:""+_.a.column4,onClick:function(){"sm"==a&&o(i)}},r(),c))}}]),t}(f.Component);t.a=I,I.propTypes={changeLeftTab:g.a.func,children:g.a.node,constructLeftPanel:g.a.func,constructRightPanel:g.a.func,dataId:g.a.string,isLeftPanelOpen:g.a.bool,leftTab:g.a.string,screenMode:g.a.string}},1365:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(1),g=n.n(b),h=n(1366),_=n.n(h),v=n(64),I=n.n(v),y=n(16),C=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.name,a=e.imgSrc,o=e.size,i=e.openAccount,r=e.id,c=e.dataId;return p.a.createElement(y.Container,{align:"vertical",alignBox:"row",className:_.a.container},p.a.createElement(y.Box,null,p.a.createElement(I.a,{src:a,name:n,size:o,needTitle:!1})),p.a.createElement(y.Box,{className:_.a.accInfoSection,flexible:!0},p.a.createElement("span",{className:_.a.accInfoName,"data-title":n,"data-id":c+"Name_"+r},n),t?p.a.createElement("span",{onClick:i,className:_.a.accInfoDepart},t):null))}}]),t}(f.Component);t.a=C,C.propTypes={dataId:g.a.string,imgSrc:g.a.string,name:g.a.string,openAccount:g.a.func,size:g.a.string,user:g.a.string}},1366:function(e,t,n){e.exports={container:"AccountFollowHeading-module__container",accInfoSection:"AccountFollowHeading-module__accInfoSection",accInfoName:"AccountFollowHeading-module__accInfoName common-module__dotted common-module__oflow common-module__ellipsis",accInfoDepart:"AccountFollowHeading-module__accInfoDepart common-module__dotted common-module__oflow common-module__ellipsis"}},1367:function(e,t,n){e.exports={accInfo:"CustomerProfile-module__accInfo",accInfohgt:"CustomerProfile-module__accInfohgt",accInfoPart:"CustomerProfile-module__accInfoPart",accInfoClient:"CustomerProfile-module__accInfoClient"}},1368:function(e,t,n){e.exports={xl:"AccountProfile-module__xl",xs:"AccountProfile-module__xs",icon:"AccountProfile-module__icon",txt:"AccountProfile-module__txt",breakAll:"AccountProfile-module__breakAll",secEmail:"AccountProfile-module__secEmail",dotted:"AccountProfile-module__dotted common-module__dotted common-module__oflow common-module__ellipsis",noData:"AccountProfile-module__noData",noAnchor:"AccountProfile-module__noAnchor",flexValue:"AccountProfile-module__flexValue",flexible:"AccountProfile-module__flexible",secondary:"AccountProfile-module__secondary",value:"AccountProfile-module__value"}},1369:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(1),g=n(1370),h=n.n(g),_=n(30),v=n(8),I=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.count,n=e.isRead,a=e.isAnimate,o=e.noViewers;return p.a.createElement("div",{className:h.a.flagIcon,"data-title":v.f.getI18NValue("support.label.agent.collision.detection")},o?p.a.createElement("div",{className:h.a.collisionCount+" "+(n?h.a.read:h.a.unread)+" "+(a&&h.a.animate)+" "+h.a.noViewers,"data-id":"FlagIcon","data-title":v.f.getI18NValue("support.label.no.active.viewers")},p.a.createElement(_.CommonFontIcon,{name:"deactiveUser",size:"8"})):t>0&&p.a.createElement("div",{className:h.a.collisionCount+" "+(n?h.a.read:h.a.unread)+" "+(a&&h.a.animate),"data-id":"FlagIcon"},t),p.a.createElement(_.ReportsFontIcon,{name:"flag5",size:"18"}))}}]),t}(p.a.Component);t.a=I,I.defaultProps={isAnimate:!1,isRead:!1,noViewers:!1},I.propTypes={count:b.PropTypes.string,isAnimate:b.PropTypes.bool,isRead:b.PropTypes.bool,noViewers:b.PropTypes.bool}},1370:function(e,t,n){e.exports={flagIcon:"CollisionIcon-module__flagIcon common-module__offSelection",collisionCount:"CollisionIcon-module__collisionCount",noViewers:"CollisionIcon-module__noViewers",read:"CollisionIcon-module__read",unread:"CollisionIcon-module__unread",animate:"CollisionIcon-module__animate common-module__transZ animation-module__navigate"}},1536:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(26),g=n(1),h=n.n(g),_=n(1367),v=n.n(_),I=n(16),y=n(1368),C=n.n(y),E=n(30),k=n(987),O=n(8),w=n(1025),N=n(176),P=n.n(N),T=function(e){function t(e){r()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.setFieldValue=n.setFieldValue.bind(n),n}return m()(t,e),l()(t,[{key:"setFieldValue",value:function(){var e=this.props,t=e.onClick,n=e.name;t&&t(n)}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.text,a=e.name,o=e.padding,i=void 0,r=null,c="accountProfile",l=null;switch(r=!n,a){case"email":i="8",n?(r="mailto:"+n,l=n):l=O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("crm.label.email"),c="email";break;case"secondaryEmail":i="8",r="mailto:"+n,l=n,c="secondaryemail";break;case"mobile":i="12",n?(r="tel:"+n,l=Object(w.b)(n)):l=O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("crm.label.mobile"),c="mobile";break;case"website":i="12",n?(r=Object(w.c)(n),l=n):l=O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("crm.label.competitor.website"),c="website";break;case"street":i="12",l=n||O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("crm.label.address"),c="street";break;case"facebook":i="12",l=n?r="https://www.facebook.com/"+n:O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("support.social.facebook.name"),c="facebook";break;case"twitter":i="8",l=n?r="https://twitter.com/"+n:O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("support.social.twitter.name"),c="twitter";break;case"phone":i="11",n?(r="tel:"+n,l=Object(w.b)(n)):l=O.f.getI18NValue("crm.label.add")+" "+O.f.getI18NValue("crm.label.phone"),c="phone"}return p.a.createElement(I.Container,{alignBox:"row",className:""+C.a[o]},p.a.createElement(I.Box,{className:C.a.icon},a&&a.match(/^(email|secondaryEmail|facebook|twitter)$/)?p.a.createElement(E.TicketsFontIcon,{dataId:c,name:t,size:i}):a&&a.match(/^(mobile|street|phone)$/)?p.a.createElement(E.TopbandFontIcon,{dataId:c,name:t,size:i}):p.a.createElement(P.a,{dataId:c,name:t,size:i})),p.a.createElement(I.Box,{flexible:!0,className:C.a.txt},p.a.createElement(I.Container,{alignBox:"row"},p.a.createElement(I.Box,{className:(a&&a.match(/^(email|secondaryEmail)$/)?C.a.dotted:C.a.breakAll)+" "+(n?"":C.a.noData),onClick:n?void 0:this.setFieldValue,"data-title":l,shrink:!0,dataId:c},r?p.a.createElement(k.a,{className:C.a.noAnchor,href:r,target:a&&a.match(/^(website|facebook|twitter)$/)&&"_blank"},l):l),"secondaryEmail"===a&&p.a.createElement(I.Box,{flexible:!0,adjust:!0,className:C.a.secEmail}," ","("+O.f.getI18NValue("support.contact.field.email.label.secondary")+")"))))}}]),t}(f.Component),j=T;T.defaultProps={padding:"xl"},T.propTypes={icon:h.a.string,name:h.a.string,onClick:h.a.func,padding:h.a.oneOf(["xs","xl"]),text:h.a.string};var A=n(1195),D=n(458),L=n(175),S=n(24),x=n(6),M=n(76),F=n(17),V=function(e){function t(e){r()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.state={moduleProfile:[],additionalFields:[],socialFields:[],isFetching:!0},n.setFieldValue=n.setFieldValue.bind(n),n.getFieldDetails=n.getFieldDetails.bind(n),n.openAgent=n.openAgent.bind(n),n.populateProfileDetails=n.populateProfileDetails.bind(n),n}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.getFieldDetails()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.moduleId,a=t.layout,o=t.moduleData,i=t.moduleMeta,r=t.ownerName;e.moduleId==n&&e.layout==a&&e.moduleData==o&&e.moduleMeta==i&&e.ownerName==r||this.setState(this.populateProfileDetails(a))}},{key:"getFieldDetails",value:function(){var e=this,t=this.props,n=t.moduleMeta,a=t.getMyForm;this.setState({isFetching:!0}),a(n.apiKey).then(function(t){return e.setState(e.populateProfileDetails(t.data),function(){return e.setState({isFetching:!1})})})}},{key:"setFieldValue",value:function(e){var t=this.props,n=t.push,a=t.moduleMeta,o=t.orgName,i=t.sanitizedDeptName,r=t.moduleId,c=t.module_s,l=t.setContactInitialData,s=t.setAccountInitialData;("contact"===c?l:s)({},e),n({pathname:"/"+o+"/"+i+"/"+a.sanitizedName+"/edit/"+r})}},{key:"openAgent",value:function(){var e=this.props;(0,e.push)({pathname:"/"+e.orgName+"/"+e.sanitizedDeptName+"/agents/details/"+e.userId})}},{key:"populateProfileDetails",value:function(e){var t=this,n=[],a=[],o=[],i=this.props,r=i.moduleData,c=i.moduleMeta,l=i.ownerName;if(e){var s=e.fieldDetails,u=e.fieldMapper,d=e.sections,m=r.cf,f=void 0===m?{}:m;u.email&&r.email&&u.secondaryEmail&&r.secondaryEmail?n=n.concat([{icon:"chEmail1",text:r.email,name:"email"},{padding:"xs",text:r.secondaryEmail,name:"secondaryEmail"}]):u.email&&r.email||u.secondaryEmail&&r.secondaryEmail?n.push({icon:"chEmail1",text:r.email||r.secondaryEmail,name:r.email?"email":"secondaryEmail"}):(u.email||u.secondaryEmail)&&n.push({icon:"chEmail1",text:"",name:"email"}),u.mobile&&n.push({icon:"mobile",text:r.mobile,name:"mobile"}),u.phone&&n.push({icon:"telephoneThick",text:r.phone,name:"phone"}),u.website&&n.push({icon:"globe2",text:r.website,name:"website"}),(u.street||u.city||u.state||u.country||u.code)&&n.push({icon:"location2",text:Object(M.b)(r.street,r.city,r.state,r.country,r.code),name:"street"}),u.facebook&&o.push({icon:"chFacebook",text:r.facebook,name:"facebook"}),u.twitter&&o.push({icon:"chTwitter",text:r.twitter,name:"twitter"});var p=d.ids,b=d.details;p.forEach(function(e){b[e].fields.forEach(function(e){var n=void 0,o=void 0,i=s[e],r=i.type,c=i.apiName;i.isCustomField?n=f[c]:"ownerId"===c&&(n=l,r="Agent",o=t.openAgent),n&&a.push({label:i.displayLabel,text:n,type:r,onClick:o})})}),a.push({label:c.singularLabel+" "+O.f.getI18NValue("support.label.created.time"),text:r.createdTime,type:"DateTime"})}return{moduleProfile:n,additionalFields:a,socialFields:o}}},{key:"render",value:function(){var e=this,t=this.state,n=t.moduleProfile,a=t.additionalFields,o=t.socialFields;return this.state.isFetching?p.a.createElement(D.a,null):p.a.createElement(I.Container,{className:v.a.accInfo},p.a.createElement(I.Box,{scroll:"vertical",flexible:!0,className:v.a.accInfohgt},n.length?p.a.createElement("div",{className:v.a.accInfoPart},n.map(function(t,n){return p.a.createElement(j,{icon:t.icon,text:t.text,name:t.name,key:n,onClick:e.setFieldValue,padding:t.padding})})):null,o.length?p.a.createElement("div",{className:v.a.accInfoPart},o.map(function(t,n){return p.a.createElement(j,{icon:t.icon,text:t.text,key:n,onClick:e.setFieldValue,name:t.name})})):null,a.length?p.a.createElement("div",{className:v.a.accInfoClient},a.map(function(e,t){return p.a.createElement(A.a,{label:e.label,text:e.text,fieldType:e.type,key:t,name:e.name,onClick:e.onClick})})):null))}}]),t}(p.a.Component);V.propTypes={getMyForm:h.a.func,layout:h.a.object,moduleData:h.a.object,moduleId:h.a.string,moduleMeta:h.a.object,module_s:h.a.string,orgName:h.a.string,ownerName:h.a.string,push:h.a.func,sanitizedDeptName:h.a.string,setAccountInitialData:h.a.func,setContactInitialData:h.a.func,userId:h.a.string};var R=L.b.setInitialData,B=L.a.setInitialData;t.a=Object(b.connect)(function(e,t){var n=e.routing.paramMap.moduleId,a=e.moduleMapper[e.routing.paramMap.moduleName],o=e.module[t.module_s][n],i=e.moduleMeta[a],r=o.ownerId,c=e.module.agent[r]||{},l=c.firstName,s=c.lastName,u=Object(F.L)(e),d=Object(x.f)(u,l,s),m=e.myForm["contacts"===a?"myContactLayoutId":"myAccountLayoutId"];return{layout:e.myForm["contacts"===a?"contactFields":"accountFields"][m],moduleId:n,moduleMeta:i,moduleData:o,ownerName:d,orgName:e.routing.paramMap.orgName,sanitizedDeptName:e.routing.paramMap.deptName,userId:e.myInfo.id}},{getMyForm:L.k,push:S.K,setContactInitialData:R,setAccountInitialData:B})(V)},1557:function(e,t,n){e.exports={posrel:"ContactDetailViewPage-module__posrel",ticketLeftCol:"ContactDetailViewPage-module__ticketLeftCol",leftHeader:"ContactDetailViewPage-module__leftHeader",threeCont:"ContactDetailViewPage-module__threeCont",viewPopup:"ContactDetailViewPage-module__viewPopup",icnPin:"ContactDetailViewPage-module__icnPin",backArrow:"ContactDetailViewPage-module__backArrow",tabs:"ContactDetailViewPage-module__tabs",dvMore:"ContactDetailViewPage-module__dvMore",overview:"ContactDetailViewPage-module__overview",tab:"ContactDetailViewPage-module__tab",count:"ContactDetailViewPage-module__count",text:"ContactDetailViewPage-module__text",contentWrap:"ContactDetailViewPage-module__contentWrap",border:"ContactDetailViewPage-module__border",filterObj:"ContactDetailViewPage-module__filterObj",alphabet:"ContactDetailViewPage-module__alphabet",borBottom:"ContactDetailViewPage-module__borBottom"}},173:function(e,t,n){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},458:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(173),g=n.n(b),h=n(16),_=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return p.a.createElement(h.Container,{alignBox:"row",align:"both",className:g.a.container},p.a.createElement(h.Box,{className:g.a.dot}),p.a.createElement(h.Box,{className:g.a.dot}),p.a.createElement(h.Box,{className:g.a.dot}),p.a.createElement(h.Box,{className:g.a.dot}),p.a.createElement(h.Box,{className:g.a.dot}),p.a.createElement(h.Box,{className:g.a.dot}))}}]),t}(p.a.Component);t.a=_},544:function(e,t,n){"use strict";n.r(t);var a,o=n(2),i=n.n(o),r=n(5),c=n.n(r),l=n(71),s=n.n(l),u=n(23),d=n.n(u),m=n(12),f=n.n(m),p=n(9),b=n.n(p),g=n(10),h=n.n(g),_=n(13),v=n.n(_),I=n(14),y=n.n(I),C=n(0),E=n.n(C),k=n(26),O=n(19),w=n.n(O),N=n(1),P=n.n(N),T=n(16),j=n(8),A=n(155),D=n(17),L=n(86),S=n(24),x=n(1557),M=n.n(x),F=n(1274),V=n(1365),R=n(238),B=n(1007),z=n(74),U=n(1232),H=n(175),W=n(948),Z=n(22),Y=n(3),G=n(81),K=n(6),q=n(1096),$=n(30),J=n(1536),Q=(n(1369),n(243)),X=n(1069),ee=function(e){function t(e){b()(this,t);var n=v()(this,(t.__proto__||f()(t)).call(this,e)),a=n.getTabsList(),o=n.props.tabName,i=void 0===o?"overview":o;return n.state={tabsList:a,subTab:i,isLeftPanelVisible:!1,leftTab:"properties",followersList:[],from:1,limit:15,contactStats:{}},n.renderContact=n.renderContact.bind(n),n.editContact=n.editContact.bind(n),n.handleContactDelete=n.handleContactDelete.bind(n),n.handleDeleteConfirmBox=n.handleDeleteConfirmBox.bind(n),n.contactLeftPanel=n.contactLeftPanel.bind(n),n.contactRightPanel=n.contactRightPanel.bind(n),n.constructTabsList=n.constructTabsList.bind(n),n.changeLeftTab=n.changeLeftTab.bind(n),n.changeSubTab=n.changeSubTab.bind(n),n.getFollowersList=n.getFollowersList.bind(n),n.constructMoreObj=n.constructMoreObj.bind(n),n.openAccount=n.openAccount.bind(n),n.followContact=n.followContact.bind(n),n.unFollowContact=n.unFollowContact.bind(n),n.closeInvoiceInfo=n.closeInvoiceInfo.bind(n),n}return y()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props.getIntegrations;"sm"!=this.props.screengetModuleStatMode&&"xs"!=this.props.screenMode||this.changeLeftTab(this.state.leftTab),this.renderContact(),e()}},{key:"componentWillUnmount",value:function(){this.props.closeContactDv()}},{key:"closeInvoiceInfo",value:function(){"invoice"!==this.state.leftTab&&"books"!==this.state.leftTab||this.setState({leftTab:"properties"})}},{key:"componentDidUpdate",value:function(e){e.id!=this.props.id?(this.renderContact(),this.changeSubTab("overview")):e.tabName!=this.props.tabName&&this.setState({subTab:this.props.tabName})}},{key:"changeLeftPanelId",value:function(e,t){var n=this.props.changeLeftPanelState;this.setState({leftTab:e}),n(t)}},{key:"changeLeftTab",value:function(e){var t=this;if(this.state.leftTab==e)this.tabsCom&&this.tabsCom.onResize(300),this.changeLeftPanelId("",!1);else if(""==this.state.leftTab&&this.tabsCom&&this.tabsCom.onResize(300),"books"===e||"invoice"===e){this.props.openInvoiceInfo(function(){return t.changeLeftPanelId(e,!0)}.bind(this))}else this.changeLeftPanelId(e,!0)}},{key:"showLeftPanel",value:function(){this.setState({isLeftPanelVisible:!0})}},{key:"changeSubTab",value:function(e){var t=this.props,n=t.moduleMeta,a=t.orgName,o=t.sanitizedDeptName,i=t.id,r=t.push,c=this.state.subTab;e!=c&&this.setState({subTab:e},function(){r({pathname:"/"+a+"/"+o+"/"+n.contacts.sanitizedName+"/details/"+i+"/"+e})})}},{key:"editContact",value:function(e){var t=this.props,n=t.id,a=t.moduleMeta,o=t.orgName,i=t.push,r=t.sanitizedDeptName;(0,t.setInitialData)({},e),i({pathname:"/"+o+"/"+r+"/"+a.contacts.sanitizedName+"/edit/"+n})}},{key:"getFollowersList",value:function(){var e=this,t=this.props,n=t.getFollowersList;n("contacts",t.id,"contact").then(function(t){var n=t.data.result.reduce(function(e,n){return[].concat(d()(e),[t.data.entities.agent[n]])},[]);e.setState({followersList:n})})}},{key:"getTabsList",value:function(){var e=this.props,t=e.moduleMeta,n=(e.contact,[{value:j.f.getI18NValue("support.dashboard.overview"),key:"overview",dataId:"Overview"},{value:j.f.getI18NValue("support.setup.label.history"),key:"history",dataId:"History"},{value:t.activities.displayLabel,key:"activity",dataId:"Activity"},{value:t.tickets.displayLabel,key:"tickets",dataId:"Request"},{value:j.f.getI18NValue("support.setup.label.happiness_rating"),key:"happinessrating",dataId:"happiness_rating"},{value:j.f.getI18NValue("support.module.param",[t.products.displayLabel]),key:"products",dataId:"products"},{value:j.f.getI18NValue("zohodesk.asap.inapp.web.attachments"),key:"attachments",dataId:"attachments"},{value:j.f.getI18NValue("tabs.request.comments"),key:"comments",dataId:"comments"}]);return"NEW_FREE"!=licenseType&&n.splice(3,0,{value:j.f.getI18NValue("support.module.param",[t.timeEntry.displayLabel]),key:"timeentry",dataId:"CaseTimeEntry"}),n}},{key:"handleContactDelete",value:function(){var e=this.props,t=e.lastAccessedViewName,n=e.moduleMeta,a=e.orgName,o=e.push,i=e.sanitizedDeptName,r=e.contactDelete,c=e.id;this.handleDeleteConfirmBox().then(function(){r([c]).then(function(){o({pathname:"/"+a+"/"+i+"/"+n.contacts.sanitizedName+"/list/"+t})})})}},{key:"handleDeleteConfirmBox",value:function(){var e=this.props,t=e.contactSingModuleName,n=e.ticketModuleName,a=e.taskModuleName,o=e.timeEntryModuleName,i=e.showConfirmBox,r=e.i18n,c=Object(j.e)(r,"support.delete",t),l=Object(j.e)(r,"this");return i({type:"delete",submitText:Object(j.e)(r,"support.permission.delete.comment"),cancelText:Object(j.e)(r,"support.label.cancel"),title:c,message:Object(j.e)(r,"support.label.alert.delete.contact",[n,a,o,t,l]),confirmationMessage:Object(j.e)(r,"support.label.confirm.delete"),isActive:!0,palette:"danger"})}},{key:"renderContact",value:function(){var e=this,t=this.props;(0,t.getContact)(t.id).then(function(t){e.setState({notAccessible:!1});e.props.contact},function(t){JSON.parse(t.response).message==Y.R&&e.setState({notAccessible:!0})})}},{key:"constructTabsList",value:function(){var e=this.state.tabsList,t=[];return e.forEach(function(e){t.push(E.a.createElement(G.Tab,{id:e.key,dataId:e.dataId,text:e.value,onClick:e.onClick&&e.onClick}))}),t}},{key:"constructMoreObj",value:function(){var e=this.props,t=e.haveEditPermission,n=e.haveDeletePermission,a=e.featureList,o=e.contact,i=this.state.isCrmIntegrated,r=[];return Object(W.getRestriction)(a,"contacts","follow").isShow&&r.push({name:j.f.getI18NValue("support.feed.label.follow"),iconName:"circleCheck2",size:"14",shortcutKey:"Shift+W"}),t&&Object(W.getRestriction)(a,"contacts","edit").isShow&&r.splice(0,0,{name:j.f.getI18NValue("crm.label.edit"),iconName:"pen2",size:"14",shortcutKey:"E"}),i&&r.splice(r.length,0,{name:j.f.getI18NValue("support.contact.update.crm"),iconName:"update",size:"14"}),n&&r.splice(r.length,0,{name:j.f.getI18NValue("crm.button.delete"),iconName:"delete2",size:"14"}),o.email&&!o.isEndUser&&r.splice(r.length,0,{name:j.f.getI18NValue("support.module.label.add.end.user"),iconName:"addAgent",size:"14"}),r}},{key:"openAccount",value:function(){var e=this.props;(0,e.openAccountDv)(e.accountId)}},{key:"followContact",value:function(){var e=this,t=this.props,n=t.addFollower,a=t.moduleMeta,o=t.id,i=t.currentUserId,r=t.showMessage;n(t.module,o,i).then(function(t){r({type:"success",message:j.f.getI18NValue("support.customers.follow",[a.contacts.singularLabel])}),e.setState({isFetchDone:!0,isFollowed:!0})})}},{key:"unFollowContact",value:function(){var e=this,t=this.props,n=t.removeFollower,a=t.moduleMeta,o=(t.id,t.currentUserId,t.showMessage);n().then(function(t){o({type:"success",message:j.f.getI18NValue("support.customers.unfollow",[a.contacts.singularLabel])}),e.setState({isFetchDone:!0,isFollowed:!1})})}},{key:"contactLeftPanel",value:function(){var e=this,t=this.props,n=t.account,a=t.contact,o=t.id,i=t.moduleMeta,r=t.contactFullName,c=t.module,l=t.featureList,s=t.integrations,u=this.state.leftTab;return E.a.createElement(T.Container,{alignBox:"column",dataId:"contactLeftPanel"},E.a.createElement(T.Box,null,E.a.createElement(V.a,{name:a?r:"",size:"xmedium",imgSrc:a.photoURL,user:n?n.accountName:"",openAccount:this.openAccount,dataId:c,id:o})),E.a.createElement(T.Box,{flexible:!0},E.a.createElement(G.TabWrapper,{defaultTab:u,type:"special",hookToDisableInternalState:!0,onSelect:function(t){return e.changeLeftTab(t)}},E.a.createElement(G.Tabs,{className:M.a.contactTab,style:{borderBottom:"1px solid #dadada"},isResponsive:!1,align:"vertical"},E.a.createElement(G.Tab,{id:"properties",onClick:function(){},title:j.f.getI18NValue("support.contact.label.contact.info",i.contacts.singularLabel)},E.a.createElement("div",null,E.a.createElement($.TicketsFontIcon,{name:"newuser",size:"14"}))),s.isCrmIntegrated?E.a.createElement(G.Tab,{id:"crmInfo",title:j.f.getI18NValue("support.crmlabel.crminfo")},E.a.createElement($.CommonFontIcon,{name:"tpcrm0501",size:"14"})):null,s.SALESFORCE&&"enabled"===s.SALESFORCE.status.toLowerCase()&&E.a.createElement(G.Tab,{id:"salesforce",onClick:function(){},title:j.f.getI18NValue("support.integ.salesforce.tab")},E.a.createElement($.CommonFontIcon,{name:"salesforce",size:"15"})),E.a.createElement(G.Tab,{id:"followers",onClick:function(){},title:j.f.getI18NValue("support.social.label.followers")},E.a.createElement($.CustomersFontIcon,{name:"checkmarkO",size:"17"})),s.BOOKS&&"enabled"==s.BOOKS.status.toLowerCase()&&a.email&&Object(W.getRestriction)(l,"contacts","booksInteg").isShow&&E.a.createElement(G.Tab,{id:"books",title:j.f.getI18NValue("support.books.integ.setup.title")},E.a.createElement($.CommonFontIcon,{name:"books",size:"14"})),s.INVOICE&&"enabled"==s.INVOICE.status.toLowerCase()&&a.email&&Object(W.getRestriction)(l,"contacts","invoiceInteg").isShow&&E.a.createElement(G.Tab,{id:"invoice",onClick:function(){},title:j.f.getI18NValue("support.invoice.integ.setup.title")},E.a.createElement($.CommonFontIcon,{name:"invoice",size:"14"}))),E.a.createElement(G.TabContentWrapper,null,E.a.createElement(G.TabContent,{id:"properties"},E.a.createElement(J.a,{module_s:Y.L.CONTACT_L})),E.a.createElement(G.TabContent,{id:"crmInfo"},E.a.createElement(Z.D,{contactId:o,module:c})),E.a.createElement(G.TabContent,{id:"followers"},E.a.createElement(Z.G,{showFollow:Object(W.getRestriction)(l,"contacts","follow").isShow})),E.a.createElement(G.TabContent,{id:"books"},E.a.createElement(Z.W,{closeInvoiceInfo:this.closeInvoiceInfo})),E.a.createElement(G.TabContent,{id:"salesforce"},E.a.createElement(Z.mb,null)),E.a.createElement(G.TabContent,{id:"invoice"},E.a.createElement(Z.W,{closeInvoiceInfo:this.closeInvoiceInfo}))))))}},{key:"contactRightPanel",value:function(){var e=this;if(this.props.invoiceDetailInfo.isOpen)return E.a.createElement(Z.T,{info:this.props.invoiceDetailInfo});var t=this.props,n=t.id,a=t.haveCommentEditPermission,o=t.haveCommentDeletePermission,i=t.currentUserId,r=t.isAdminUser,c=t.haveEditPermission,l=t.moduleMeta,s=t.featureList,u=t.isPeekView,d=t.module,m=t.contact,f=t.contactSingModuleName,p=this.state,b=p.subTab,g=p.contactStats,h=this.constructTabsList(),_=this.constructMoreObj();return E.a.createElement(T.Container,null,E.a.createElement(T.Box,{flexible:!0},E.a.createElement(G.TabWrapper,{defaultTab:b,type:"alpha",onSelect:function(t){e.changeSubTab(t)}},E.a.createElement(G.Tabs,{ref:function(t){return e.tabsCom=t},style:{borderBottom:"1px solid #dadada"}},h,E.a.createElement("div",{"data-title":j.f.getI18NValue("support.social.feed.moreactions"),className:M.a.dvMore,"data-id":"cont-more-action"},E.a.createElement(B.a,{objValues:_,Icnsize:"16",onSelect:function(t){"Edit"==t?e.editContact():"Delete"==t?e.handleContactDelete():"Follow"==t&&e.followContact()},listStyle:"alpha"}))),E.a.createElement(G.TabContentWrapper,null,E.a.createElement(G.TabContent,{id:"overview"},E.a.createElement(Z.fb,{module:d,module_s:Y.L.CONTACT_L,moduleStats:g,needToShowAdd:Object(W.getRestriction)(s,"contacts","add_tickets").isShow})),E.a.createElement(G.TabContent,{id:"history"},E.a.createElement(Z.J,{module:d,module_s:Y.L.CONTACT_L})),E.a.createElement(G.TabContent,{id:"activity"},E.a.createElement(Z.i,{id:n,module:Y.L.CONTACT_L,isPeekView:u,needToShowAdd:Object(W.getRestriction)(s,"contacts","add_activies").isShow})),E.a.createElement(G.TabContent,{id:"tickets"},E.a.createElement(Z.Eb,{module:d,module_s:Y.L.CONTACT_L,needToShowAdd:Object(W.getRestriction)(s,"contacts","add_tickets").isShow})),E.a.createElement(G.TabContent,{id:"timeentry"},E.a.createElement(Z.Fb,{module:d,moduleId:n,module_s:Y.L.CONTACT_L,haveEditPermission:!1,enableAddTimeEntry:!1,enableTimeEntryFilter:!0,featureList:s,hasContactEmail:!!m.email})),E.a.createElement(G.TabContent,{id:"happinessrating"},E.a.createElement(Z.I,{module:Y.L.CONTACT_L,module_d:l.contacts.singularLabel})),E.a.createElement(G.TabContent,{id:"products"},E.a.createElement(Z.ib,{module:d,module_s:"contact",needToShowAdd:Object(W.getRestriction)(s,"contacts","add_products").isShow&&c})),E.a.createElement(G.TabContent,{id:"attachments"},E.a.createElement(Z.m,{module:d,module_s:"contact",moduleId:n,isPeekView:this.props.isPeekView,haveEditPermission:c,hasPrivacyMode:!1,needToShowAdd:Object(W.getRestriction)(s,"contacts","add_attachments").isShow&&c})),E.a.createElement(G.TabContent,{id:"comments"},E.a.createElement(Z.v,{haveCommentDeletePermission:o&&Object(W.getRestriction)(s,"contacts","delete_comment").isShow,haveCommentEditPermission:a&&Object(W.getRestriction)(s,"contacts","edit_comment").isShow,showCommentBox:Object(W.getRestriction)(s,"contacts","add_comment").isShow,emptyMessage:s.indexOf("spam")>-1?j.f.getI18NValue("support.comment.spam.emptymessage",[j.f.getI18NValue(f.toLowerCase())]):j.f.getI18NValue("support.comment.anonymous.emptymessage",[j.f.getI18NValue(f.toLowerCase())]),moduleId:n,module:d,moduleLabel:l.contacts.singularLabel,module_s:"contact",hasAttachments:!1,hasPrivacyMode:!1,currentUserId:i,isAdminUser:r}))))))}},{key:"render",value:function(){if(this.props.isRequestComplete){var e=this.props,t=e.isLeftPanelOpen,n=e.screenMode,a=e.financePermissions,o=void 0===a?{}:a,i={create_invoice:o.createInvoice,email_invoice:o.emailInvoice,view_invoice:o.viewInvoice,create_estimate:o.createEstimate,email_estimate:o.emailEstimate,view_estimate:o.viewEstimate,create_contact:o.createContact};return E.a.createElement(E.a.Fragment,null,E.a.createElement(F.a,{isLeftPanelOpen:t,constructLeftPanel:this.contactLeftPanel,screenMode:n,changeLeftTab:this.changeLeftTab,constructRightPanel:this.contactRightPanel,leftTab:this.state.leftTab}),E.a.createElement("input",{type:"hidden",id:"invoiceBooksPermissions",value:s()(i)}))}return this.state.notAccessible?E.a.createElement(R.a,null):null}}]),t}(E.a.Component);ee.docs={componentGroup:"Page"},ee.propTypes=(a={account:P.a.object,accountId:P.a.string,addFollower:P.a.func,changeLeftPanelState:P.a.func},c()(a,"changeLeftPanelState",P.a.func),c()(a,"closeContactDv",P.a.func),c()(a,"closeContactDv",P.a.func),c()(a,"contact",P.a.object),c()(a,"contactDelete",P.a.func),c()(a,"contactFullName",P.a.string),c()(a,"contactSingModuleName",P.a.string),c()(a,"contactsModuleName",P.a.string),c()(a,"currentUserId",P.a.string),c()(a,"deptId",P.a.string),c()(a,"featureList",P.a.array),c()(a,"financePermissions",P.a.object),c()(a,"getCRMContact",P.a.func),c()(a,"getContact",P.a.func),c()(a,"getFollowersList",P.a.func),c()(a,"getIntegrations",P.a.func),c()(a,"getIntegrations",P.a.func),c()(a,"haveCommentDeletePermission",P.a.bool),c()(a,"haveCommentEditPermission",P.a.bool),c()(a,"haveDeletePermission",P.a.bool),c()(a,"haveEditPermission",P.a.bool),c()(a,"i18n",P.a.object),c()(a,"id",P.a.string),c()(a,"integrations",P.a.object),c()(a,"invoiceDetailInfo",P.a.object),c()(a,"isAdminUser",P.a.bool),c()(a,"isLeftPanelOpen",P.a.bool),c()(a,"isPeekView",P.a.bool),c()(a,"isRequestComplete",P.a.bool),c()(a,"lastAccessedViewName",P.a.string),c()(a,"licenseType",P.a.string),c()(a,"module",P.a.string),c()(a,"moduleMeta",P.a.object),c()(a,"myInfo",P.a.object),c()(a,"openAccountDv",P.a.func),c()(a,"openInvoiceInfo",P.a.func),c()(a,"orgName",P.a.string),c()(a,"pathname",P.a.string),c()(a,"push",P.a.func),c()(a,"removeFollower",P.a.func),c()(a,"sanitizedDeptName",P.a.string),c()(a,"screenMode",P.a.string),c()(a,"screengetModuleStatMode",P.a.object),c()(a,"setInitialData",P.a.func),c()(a,"showConfirmBox",P.a.func),c()(a,"showMessage",P.a.func),c()(a,"tabName",P.a.string),c()(a,"taskModuleName",P.a.string),c()(a,"ticketModuleName",P.a.string),c()(a,"timeEntryModuleName",P.a.string),a),t.default=Object(k.connect)(function(e,t){var n,a=e.contactUIState,o=e.i18n,i=e.myInfo,r=Object(D.r)(e),l=e.routing.paramMap.moduleId||a.contactId,s=e.module.contact[l],u=s&&s.accountId,d=e.module.account[u]||null,m=w()("moduleMeta.contacts.singularLabel",e)||"",f=w()("moduleMeta.contacts.pluralLabel",e)||"",p=w()("moduleMeta.tickets.pluralLabel",e)||"",b=w()("moduleMeta.tasks.pluralLabel",e)||"",g=w()("moduleMeta.timeEntry.pluralLabel",e)||"",h=s&&s.tickets?s.tickets:[],_=e.routing.paramMap.tabName,v=s||{},I=v.firstName,y=v.lastName,C=Object(D.L)(e,t),E=Object(K.f)(C,I,y);return n={pathname:e.routing.location.pathname,account:d,accountId:u,contact:s,isRequestComplete:e.contactDetailActions.contactDetailSuccess,invoiceDetailInfo:e.invoiceDetailInfo,contactFullName:E,contactSingModuleName:m,contactsModuleName:f,i18n:o,myInfo:i,tabName:_,taskModuleName:b,ticketModuleName:p,timeEntryModuleName:g,ticketIds:h,featureList:Object(L.b)(s),currentUserId:i.id,deptId:r,haveCommentDeletePermission:Object(D.Ib)(e,{module:"comments",mode:"delete"}),haveCommentEditPermission:Object(D.Ib)(e,{module:"comments",mode:"edit"}),haveDeletePermission:Object(D.Ib)(e,{module:"contacts",mode:"delete"}),haveEditPermission:Object(D.Ib)(e,{module:"contacts",mode:"edit"}),id:l,isAdminUser:Object(K.b)(i.profileId,e.module.profile)},c()(n,"isRequestComplete",e.contactDetailActions.contactDetailSuccess),c()(n,"lastAccessedViewName",Object(D.k)(e)),c()(n,"licenseType",e.license.licenseType),c()(n,"moduleMeta",e.moduleMeta),c()(n,"orgName",e.routing.paramMap.orgName),c()(n,"sanitizedDeptName",e.routing.paramMap.deptName),c()(n,"taskModuleName",b),c()(n,"ticketModuleName",p),c()(n,"timeEntryModuleName",g),c()(n,"financePermissions",Object(X.b)(e)),c()(n,"integrations",e.integrations),n},i()({},H.b,{addFollower:U.a,contactDelete:A.b,getContact:A.g,getFollowersList:U.b,getIntegrations:z.f,push:S.K,removeFollower:U.c,showConfirmBox:S.a.showConfirmBox,showMessage:S.Q,openAccountDv:Q.e,closeContactDv:A.a,openInvoiceInfo:q.y}))(ee)},947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),i=l(n(1)),r=l(n(953)),c=l(n(151));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.checked,i=e.disabled,l=e.palette,s=e.text,u=e.labelPalette,d=e.active,m=e.labelSize,f=e.getRef,p=e.dataId,b=d?r.default[l+"_active"]:"",g=i?r.default.disabled:r.default.pointer;return o.default.createElement("span",{className:r.default.container+" "+g+" "+(s?r.default.layout:r.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:r.default.input+" "+(a?r.default.checked:""),name:n,checked:a,disabled:i,ref:f}),o.default.createElement("label",{className:r.default["label_"+l]+" "+b+" "+(s?r.default.layoutshrink:""),onClick:this.onChange,"data-id":p},o.default.createElement("span",null)),s&&o.default.createElement("span",{className:r.default.text},o.default.createElement(c.default,{text:s,palette:u,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=s,s.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},s.propTypes={active:i.default.bool,checked:i.default.bool,dataId:i.default.string,disabled:i.default.bool,getRef:i.default.func,id:i.default.string.isRequired,labelPalette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:i.default.oneOf(["small","medium","large"]),name:i.default.string,onChange:i.default.func,palette:i.default.oneOf(["primary","danger"]),text:i.default.string},s.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(961);Object.defineProperty(t,"licensePermissionCheckHOC",{enumerable:!0,get:function(){return a.licensePermissionCheckHOC}}),Object.defineProperty(t,"urlLicensePermissionCheckHOC",{enumerable:!0,get:function(){return a.urlLicensePermissionCheckHOC}});var o=n(963);Object.defineProperty(t,"RestrictionValidator",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}});var i=n(955);Object.defineProperty(t,"getRestriction",{enumerable:!0,get:function(){return i.getRestriction}})},953:function(e,t,n){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRestriction=t.getRestrictionObj=void 0;var a,o=n(964),i=n(19),r=(a=i)&&a.__esModule?a:{default:a};var c=t.getRestrictionObj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],a=e.length,i={isShow:!0,isReadOnly:!1},c=o.restrictionRules[t];if(e.length)for(var l=0;l<a;l++)if(void 0!==c[e[l]][n]){var s=c[e[l]][n];if(!s[0]){i.isReadOnly=null!=s[1]&&Boolean(s[1]),i.isShow=null!=s[0]&&Boolean(s[0]);break}s[1]&&(i.isReadOnly=null==s[1]||Boolean(s[1]),i.isShow=null==s[0]||Boolean(s[0]),i.readOnlyMessage=s[1]?(0,r.default)(t+"["+e[l]+"]["+n+"]",o.lockMessages):"")}return i};t.getRestriction=function(e,t,n){return c(e,t,n)}},961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlLicensePermissionCheckHOC=t.licensePermissionCheckHOC=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=l(n(0)),r=l(n(1)),c=(n(21),n(962));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.currentPermission=e.permission||n.permission,a.currentLicense=e.license||n.license,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.proxyPropsObjHasFunction,n=e.getLicenseProfileCheck,o=e.Component,r=e.Fallback,c=n(t?this.props:{},this.currentPermission,this.currentLicense),l=c.licenseSuccess,s=c.permissionSuccess,u=c.permissionProps;return l&&s?i.default.createElement(o,a({},this.props,u)):r?i.default.createElement(r,this.props):null}}]),t}();s.propTypes={permission:r.default.object,license:r.default.string,proxyPropsObjHasFunction:r.default.func,getLicenseProfileCheck:r.default.func,Component:r.default.element,Fallback:r.default.element},s.contextTypes={store:r.default.object,permission:r.default.object,license:r.default.string};var u=t.licensePermissionCheckHOC=function(e){var t=e.component,n=void 0===t?{license:"*",permission:"*"}:t,o=e.props,r=void 0===o?{}:o,l=e.Fallback,u=void 0===l?null:l,d=function(e,t,a){var o=(0,c.permissionCheck)(t);return{licenseSuccess:(0,c.licenseCheck)(a)(n.license),permissionSuccess:o(n.permission),permissionProps:Object.keys(r).reduce(function(t,n){if(r[n]instanceof Array)return t[n]=r[n].map(function(e,t){if(o(e.permission))return e.obj}).filter(function(e){return e}),t;if("function"==typeof r[n])return a=r[n](e),o(a.permission)?t[n]=a.obj:a.falseObj&&(t[n]=a.falseObj),t;var a=r[n];return o(a.permission)?t[n]=a.obj:t[n]=a.falseObj,t},{})}},m=Object.keys(r).some(function(e){return"function"==typeof r[e]});return function(e){return function(t){return i.default.createElement(s,a({},t,{proxyPropsObjHasFunction:m,getLicenseProfileCheck:d,Component:e,Fallback:u}))}}};t.urlLicensePermissionCheckHOC=function(e){return e.Fallback=InsufficientPrivileges,u(e)}},962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t.underScoreSplit=function(e){return e.split("_")},i=function(e,t){for(var n=t.length,o=[],i=0,c=void 0,l=0;l<n;l++)"&"!=t.charAt(l)&&"|"!=t.charAt(l)?(void 0===o[i]&&(o[i]=""),o[i]=""+o[i]+t.charAt(l)):(o[i+=1]=""+t.charAt(l)+t.charAt(l),l+=1,i+=1);for(;o.length>1||1==o.length&&"true"!=o[0]&&"false"!=o[0];){var s=a(o,3),u=s[0],d=s[1],m=s[2],f=void 0===m?"*":m;u=u.replace(/ /g,""),f=f.replace(/ /g,""),u="true"==u||"false"!=u&&r(e)(u),f="true"==f||"false"!=f&&r(e)(f||"*"),o=[""+(c="&&"==d?u&&f:"||"==d?u||f:u)].concat(o.slice(3))}return void 0===c&&1==o.length&&(c="true"==o[0]),c},r=(t.permissionCheck=function(e){return function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t;-1!=o.indexOf(")");){var r=o.indexOf(")"),c=o.lastIndexOf("(",r);o=""+o.substring(0,c)+i(e,o.substring(c+1,r))+o.substring(r+1)}var l=i(e,o);return l?n:a}},t.singleModulePermissionCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o(t||"*"),c=a(r,2),l=c[0],s=c[1];return"*"==l&&void 0===s?n:e[l]?(e[l][s]?e[l][s]:!(!e[l].flags||!e[l].flags[s])&&e[l].flags[s])?n:i:e.flags&&e.flags[s]||null?n:i}});t.licenseCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.licenseType;return"*"==t?n:t.constructor==Array&&-1!=t.indexOf(o)?n:o==t?n:a}}},963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),o=(n(26),r(n(1))),i=n(955);function r(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.children,n=e.features,o=e.module,r=e.action,c=t.type,l=t.props,s=(0,i.getRestriction)(n,o,r),u=s.isShow,d=s.isReadOnly,m=s.readOnlyMessage,f=void 0===m?"":m;return u?a.default.createElement(c,Object.assign({},l,{isReadOnly:d,readOnlyMessage:f})):null}c.propTypes={module:o.default.string,children:o.default.Component,features:o.default.array,action:o.default.string},t.default=c},964:function(e,t,n){"use strict";var a,o;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r={tickets:{isSpam:{secondaryContact:[1,1],leftPanelForm:[1,1],replyAssistant:[0,0],suggestedSolution:[0,0],timeline:[1,1],mergeTicket:[0,0],marketPlace:[0,0],replyActions:[0,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[1,0],addTask:[0,0],footer:[1,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],add_comment:[0,0],edit_approval:[0,0],add_timeentry_invoice:[0,0]},bluePrint:{status:[1,1],move:[1,0]},ticketSharingList:{edit:[0,0],delete:[0,0],status:[1,1],assign:[1,1],peek:[1,0],move:[1,1],mass_action:[1,1]},spam:{edit:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1],peek:[1,0],delete:[1,0],move:[1,1]},spamContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},anonymousContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},trash:(a={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},i(a,"peek",[1,0]),i(a,"move",[1,1]),a),notAccessible:(o={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},i(o,"peek",[1,0]),i(o,"move",[1,1]),i(o,"mass_action",[1,1]),o)},contacts:{anonymous:{edit:[0,0],follow:[0,0],add_tickets:[0,0],add_products:[0,0],add_attachments:[0,0],add_activies:[0,0],add_comment:[0,0],edit_comment:[0,0],mass_action:[1,1],massUpdate:[0,0],massMerge:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0]},spam:{edit:[0,0],add_tickets:[0,0],massUpdate:[0,0],massMerge:[0,0],follow:[0,0],add_call:[0,0],add_activies:[0,0],add_timentry:[0,0],edit_timeentry:[0,0],delete_timeentry:[0,0],remove_products:[0,0],add_products:[0,0],add_attachments:[0,0],add_comment:[0,0],edit_comment:[0,0],delete_comment:[0,0],add_as_enduser:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0],comment_more:[0,0]}},accounts:{spamContacts:{disassociate:[0,0]}},tasks:{}};r.tickets=Object.assign({},r.tickets,{TS_READ_WRITE:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_RESTRICTED_ACCESS:{timeline:[0,0],leftPanelForm:[0,0],followers_view:[0,0],followers_add:[0,0],tags_view:[0,0],tags_add:[0,0],shareCount:[0,0],forWardOnly:[1,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_READ_ONLY:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]}});t.restrictionRules=r,t.lockMessages={tickets:{TS_READ_WRITE:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_RESTRICTED_ACCESS:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_READ_ONLY:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.lock ed"},bluePrint:{status:"support.blueprints.status.lock.msg"}}}},987:function(e,t,n){"use strict";var a=n(12),o=n.n(a),i=n(9),r=n.n(i),c=n(10),l=n.n(c),s=n(13),u=n.n(s),d=n(14),m=n.n(d),f=n(0),p=n.n(f),b=n(1),g=n.n(b),h=n(993),_=n.n(h),v=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.title,a=e.target,o=e.className,i=e.children,r=e.rel,c=(e.download,e.dataTestid);return p.a.createElement("a",{href:t,target:a,className:_.a.link+" "+(o||""),"data-title":n,rel:r,dataId:c},i)}}]),t}(p.a.Component);t.a=v,v.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},v.propTypes={className:g.a.string,href:g.a.string,isDownload:g.a.bool,rel:g.a.string,target:g.a.oneOf(["_blank","_self"]),text:g.a.string,title:g.a.string}},993:function(e,t,n){e.exports={link:"ExternalLink-module__link"}}}]);