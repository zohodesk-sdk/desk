(window.deskappJsonp=window.deskappJsonp||[]).push([[15],{1125:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=s(a(0)),o=s(a(1)),i=s(a(1126));function s(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.type,n=e.buttonPosition,o=[];return t.forEach(function(e){var t=l.default.createElement("span",{className:i.default[a]},e);o.push(t)}),l.default.createElement("div",{className:i.default.buttonGroup+" "+i.default[a]},l.default.createElement("div",{className:i.default["align"+n]},t))}}]),t}();t.default=r,r.defaultProps={buttonPosition:"left",children:null},r.propTypes={buttonPosition:o.default.oneOf(["left","right","center"]),children:o.default.node,type:o.default.string.isRequired}},1126:function(e,t,a){e.exports={buttonGroup:"Buttongroup-module__buttonGroup common-module__cboth",footer:"Buttongroup-module__footer",header:"Buttongroup-module__header",tab:"Buttongroup-module__tab",alignleft:"Buttongroup-module__alignleft common-module__fleft",alignright:"Buttongroup-module__alignright common-module__fright",aligncenter:"Buttongroup-module__aligncenter common-module__tcenter"}},1166:function(e,t,a){"use strict";a.d(t,"b",function(){return u}),a.d(t,"a",function(){return d});var n=a(2),l=a.n(n),o=a(7),i=a(15),s=a(6),r=a(3);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.T,n=arguments[3];return{types:Object(s.m)(r.L.ROLE),callAPI:function(s){var u=2*a>500?500:2*a;return Object(i.a)("/api/v1/roles?from="+e+"&limit="+u+(t?"&searchStr=*"+t+"*":"")+(n?"&isVisible=true":""),!1,{orgId:s.currentOrgId}).get().then(function(n){return l()({},Object(o.normalize)(204!==n.responseStatus?n.data:[],Object(o.arrayOf)(Object(o.schema)(r.L.ROLE_L))),{from:e,limit:a,isNext:!!n.data&&n.data.length>a,searchStr:t})},function(e){throw e})}}}function d(e){return{types:Object(s.m)("ROLE"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(i.a)("/api/v1/rolesByIds?roleIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(o.normalize)(204!==e.responseStatus?e.data:[],Object(o.arrayOf)(Object(o.schema)(r.L.ROLE_L)))})}}}},1219:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(2),l=a.n(n),o=a(15),i=a(6),s=a(7),r=a(4),u=a(39);function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,d=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],a>1?u.f:u.e),c=r.e;return{types:Object(i.m)(d),callAPI:function(i){var r="/api/v1/agents?searchStr="+t+"&from="+a+"&limit="+n+"&status="+u.a+"&isConfirmed=true&departmentId="+e;return Object(o.a)(r,!1,{orgId:i.currentOrgId}).get().then(function(a){return 204==a.responseStatus?{}:""===t?l()(Object(s.normalize)(a.data,Object(s.arrayOf)(Object(s.schema)("agent"))),{departmentId:e,status:c}):{result:a.data}})}}}},1331:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(2),l=a.n(n),o=a(15),i=a(6),s=a(17),r=a(3),u=a(7);function d(e){return{types:Object(i.m)("EMAIL_TEMPLATES"),callAPI:function(t){var a=Object(s.r)(t),n="/api/v1/templates?departmentId="+a;return void 0!==e&&(n+="&module="+e),Object(o.a)(n,!1,{orgId:t.currentOrgId}).get().then(function(e){return l()({},Object(u.normalize)(204!==e.responseStatus?e:[],Object(u.arrayOf)(Object(u.schema)(r.L.EMAILTEMPLATES_L,{id:"templateId"}))),{deptId:a,moduleName:r.L.EMAILTEMPLATES_L})})}}}},1332:function(e,t,a){"use strict";a.d(t,"d",function(){return p}),a.d(t,"a",function(){return m}),a.d(t,"c",function(){return h}),a.d(t,"e",function(){return f}),a.d(t,"b",function(){return g});var n=a(5),l=a.n(n),o=a(2),i=a.n(o),s=a(15),r=a(6),u=a(17),d=a(3),c=a(7);function p(){return{types:Object(r.m)("AUTOMATION_ALERTS"),callAPI:function(e){var t=Object(u.r)(e);return Object(s.a)("/api/v1/automationAlerts?departmentId="+t,!1,{orgId:e.currentOrgId}).get().then(function(e){return i()({},Object(c.normalize)(204!==e.responseStatus?e:[],Object(c.arrayOf)(Object(c.schema)(d.L.AUTOMATIONALERTS_L,{id:"alertId"}))),{deptId:t,moduleName:d.L.AUTOMATIONALERTS_L})})}}}function m(e){return{types:Object(r.m)("AUTOMATION_ALERTS_CREATE"),callAPI:function(t){var a=Object(u.r)(t);return Object(s.a)("/api/v1/automationAlerts",!1,{orgId:t.currentOrgId}).post(null,e).then(function(e){return{res:e,id:e.alertId,deptId:a,moduleName:d.L.AUTOMATIONALERTS_L}})}}}function h(e){return{types:Object(r.m)("AUTOMATION_ALERT"),callAPI:function(t){var a=Object(u.r)(t);return Object(s.a)("/api/v1/automationAlerts/"+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return i()({},{entities:{automationalerts:l()({},e,t)},result:[e],deptId:a,moduleName:d.L.AUTOMATIONALERTS_L})})}}}function f(e,t){return{types:Object(r.m)("AUTOMATION_ALERT_UPDATE"),callAPI:function(a){var n=Object(u.r)(a);return Object(s.a)("/api/v1/automationAlerts/"+e,!1,{orgId:a.currentOrgId}).put(null,t).then(function(e){return{res:e,id:e.alertId,deptId:n,moduleName:d.L.AUTOMATIONALERTS_L}})}}}function g(e){return{types:Object(r.m)("AUTOMATION_ALERTS_DELETE"),callAPI:function(t,a){var n=Object(u.r)(t);return Object(s.a)("/api/v1/automationAlerts/"+e,!1,{orgId:t.currentOrgId}).del().then(function(t){return{moduleName:d.L.AUTOMATIONALERTS_L,id:e,deptId:n}})}}}},1514:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n={isEmpty:function(e){return!!e}},l=function(e,t){var a=!0,l="";return e="-None-"===e?"":e,t&&t.split(",").forEach(function(t){var o=t.split(":"),i=o[0];if(e||"isEmpty"===i){var s=o[1]?o[1].split(";"):"";!1===(n[i]&&n[i](e,s))&&(a=!1,l="isEmpty"===i?"crm.field.empty.check":"isMinLength"===i?"crm.alert.password.length":"isValidPassword"==i?"support.label.password.error":"isNotSequential"==i?"support.label.Password.notsequential.msg":"crm.field.valid.check")}}),[a,l]}},1515:function(e,t,a){e.exports={container:"NewAutomationAlert-module__container",notification:"NewAutomationAlert-module__notification",cmptCntr:"NewAutomationAlert-module__cmptCntr",tempCntr:"NewAutomationAlert-module__tempCntr",mailCntr:"NewAutomationAlert-module__mailCntr",MltiSlctDiv:"NewAutomationAlert-module__MltiSlctDiv",inputContent:"NewAutomationAlert-module__inputContent",inputContent1:"NewAutomationAlert-module__inputContent1",inputContent2:"NewAutomationAlert-module__inputContent2",tags:"NewAutomationAlert-module__tags",check:"NewAutomationAlert-module__check",text:"NewAutomationAlert-module__text",message:"NewAutomationAlert-module__message",role:"NewAutomationAlert-module__role",titleTxt:"NewAutomationAlert-module__titleTxt",downIcon:"NewAutomationAlert-module__downIcon",filterpoplist:"NewAutomationAlert-module__filterpoplist",viewRltdRle:"NewAutomationAlert-module__viewRltdRle"}},587:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a.n(n),o=a(932),i=a.n(o),s=a(940),r=a.n(s),u=a(2),d=a.n(u),c=a(20),p=a.n(c),m=a(12),h=a.n(m),f=a(9),g=a.n(f),O=a(10),v=a.n(O),y=a(13),b=a.n(y),_=a(14),S=a.n(_),I=a(0),x=a.n(I),A=a(1),E=a(26),T=a(24),k=(a(15),a(6),a(17)),C=a(1219),N=a(1166),R=a(8),P=a(1514),w=a(1331),L=a(1332),D=a(110),M=a(112),j=a.n(M),B=a(151),F=a.n(B),z=a(99),V=a.n(z),H=a(73),U=a.n(H),G=(a(246),a(947)),K=a.n(G),q=a(235),W=a.n(q),J=a(949),Q=a.n(J),X=a(1125),Y=a.n(X),Z=a(254),$=a.n(Z),ee=a(63),te=a.n(ee),ae=a(72),ne=a.n(ae),le=a(1515),oe=a.n(le),ie=a(987),se=function(e){function t(e){g()(this,t);var a=b()(this,(t.__proto__||h()(t)).call(this,e));return a.state={name:null,module:"tickets",emailTemplateId:null,roleName:null,additionalRecipients:null,createATemplate:!1,togglePopup:!1,emailTemplateList:[],moduleOptions:[{text:"Tickets",id:"tickets"},{text:"Contacts",id:"contacts"},{text:"Accounts",id:"accounts"},{text:"Tasks",id:"tasks"},{text:"Products",id:"products"}],emailSendOptions:["Teams","Roles","Roles and Subordinates","Agents"],selectedOptions:[],selectedIds:[],allEmailOption:[],recipients:{},recipientsDetail:{selectedIds:[],selectRecipientName:[]},checkRecipients:{notifyRecordOwner:"Record Owner",notifyRecordCreator:"Record Creator",notifyContact:"Record Contact",additionalRecipients:"Additional Recipients"}},a.setModule=a.setModule.bind(a),a.setAlertName=a.setAlertName.bind(a),a.setTemplateId=a.setTemplateId.bind(a),a.setEmailRole=a.setEmailRole.bind(a),a.setRecipients=a.setRecipients.bind(a),a.removeReciptents=a.removeReciptents.bind(a),a.addAdditionalRecipients=a.addAdditionalRecipients.bind(a),a.toggleCheckBox=a.toggleCheckBox.bind(a),a.togglePopup=a.togglePopup.bind(a),a.createATemplate=a.createATemplate.bind(a),a.updateTemplateList=a.updateTemplateList.bind(a),a.handleSelect=a.handleSelect.bind(a),a.checkMethod=a.checkMethod.bind(a),a.addNewAlert=a.addNewAlert.bind(a),a}return S()(t,e),v()(t,[{key:"handleSelect",value:function(e){var t=this,a=this.state.selectedIds;0==e.length?this.removeReciptents(null,null,[],0):e.length>a.length?e.forEach(function(e,n,l){-1==a.indexOf(e)&&t.setRecipients(e,n,l)}):a.forEach(function(a,n,l){-1==e.indexOf(a)&&t.removeReciptents(a,n,l,null)})}},{key:"setModule",value:function(e){var t=this,a=[];p()(this.props.templateDetails).forEach(function(n){var l=t.props.templateDetails[n];l.recordType==e&&a.push({text:l.templateName,id:l.templateId})});var n=a.length>0?n=a[0].id:null;this.setState({module:e,emailTemplateList:a,emailTemplateId:n,createATemplate:!1})}},{key:"checkMethod",value:function(e,t){var a=this,n=null,l=null;"Teams"==t?(l="teams",n="teamsDetails"):"Agents"==t?(l="agents",n="agentsDetails"):"Roles"==t?(l="roles",n="roleDetails"):(l="roleSubOrdinates",n="roleDetails");var o={};p()(this.props.agentsDetails).forEach(function(e){var t=a.props.agentsDetails[e];t.name=t.lastName+" "+t.firstName,o[e]=t});var s=d()({},o,this.props.teamsDetails,this.props.roleDetails),u=e.map(function(e){return s[e]}),c="agentsDetails"==n?r()(u,i()(o)):r()(u,i()(this.props[n]));return{allEmailSendOption:s,allEmailOption:c,selectedOptions:u,recipientName:l}}},{key:"setAlertName",value:function(e){this.setState({name:e})}},{key:"setTemplateId",value:function(e){this.setState({emailTemplateId:e})}},{key:"setEmailRole",value:function(e){if(null===this.state.roleName||this.state.roleName!=e){var t=this.checkMethod(this.state.selectedIds,e).allEmailOption;this.setState({roleName:e,allEmailOption:t})}else this.setState({roleName:e})}},{key:"setRecipients",value:function(e,t,a){var n=this.checkMethod(a,this.state.roleName),o=n.selectedOptions,i=n.allEmailOption,s=n.recipientName,r=this.state.recipientsDetail,u=[].concat(r.selectRecipientName);u.splice(t,1,s),r={selectedIds:a,selectRecipientName:u};var c=[];void 0!==this.state.recipients[s]&&(c=this.state.recipients[s]),c.push(e);var p=l()({},s,c),m=d()({},this.state.recipients,p);this.setState({recipients:m,recipientsDetail:r,selectedIds:a,selectedOptions:o,allEmailOption:i})}},{key:"removeReciptents",value:function(e,t,a,n){var l={},o={};if(0!==n){o=d()({},this.state.recipientsDetail),l=d()({},this.state.recipients);var i=[].concat(o.selectRecipientName),s=i.splice(t,1)[0];a.splice(t,1),o={selectedIds:a,selectRecipientName:i};var r=l[s];r.splice(r.indexOf(e),1),0==r.length?delete l[s]:l[s]=r}else{o=d()({},this.state.recipientsDetail),delete(l=d()({},this.state.recipients))[[].concat(o.selectRecipientName)[0]],o={selectedIds:[],selectRecipientName:[]}}var u=this.checkMethod(a,this.state.roleName),c=u.selectedOptions,p=u.allEmailOption;return this.setState({recipientsDetail:o,recipients:l,selectedIds:a,selectedOptions:c,allEmailOption:p}),null}},{key:"addAdditionalRecipients",value:function(e){this.setState({additionalRecipients:e})}},{key:"toggleCheckBox",value:function(e,t){var a=d()({},this.state.recipients);e?a[t]=e:delete a[t],this.setState({recipients:a})}},{key:"togglePopup",value:function(e){e=!e,this.setState({togglePopup:e})}},{key:"createATemplate",value:function(){this.setState({createATemplate:!0})}},{key:"updateTemplateList",value:function(){this.props.getEmailTemplateListAPI().then(),this.setModule(this.state.module)}},{key:"addNewAlert",value:function(e){var t=this,a=this.state,n=a.name,l=a.module,o=a.emailTemplateId,i=a.additionalRecipients,s=a.recipients,r=this.props.departmentId,u=Object(P.a)(n,"isEmpty");if(u[0]){var d=/\S+@\S+\.\S+/,c=null==i?[]:i.split(",");(!(c.length>0)||c.every(function(e){return d.test(e)}))&&(s.notifyRecordOwner||s.notifyRecordCreator||s.notifyContact||c.length>0||s.teams||s.agents||s.roleSubOrdinates||s.roles?(s.additionalRecipients&&(s.additionalRecipients=c),this.props.createAlert({name:n,module:l,emailTemplateId:o,departmentId:r,recipients:s}).then(function(a){"AUTOMATION_ALERTS_CREATE_SUCCESS"===a.type&&t.props.push({pathname:e})})):alert(R.f.getI18NValue("support.workflow.alert.selectRecipient")))}else{var p=R.f.getI18NValue(u[1],"Name");alert(p)}}},{key:"componentWillMount",value:function(){var e=this;this.props.getTeamsList().then(function(t){e.setEmailRole("Teams"),e.setModule(e.state.module)}),this.props.getRolesList(0,null,10).then(),this.props.getDepartmentAgents(this.props.departmentId).then(),void 0===this.props.alertsDetails&&void 0===this.props.templateDetails&&(this.props.getEmailTemplateListAPI().then(),this.props.getAlertsListAPI().then())}},{key:"render",value:function(){var e=this,t=this.props.paramMap,a=(t.page,t.orgName),n=t.deptName,l=t.depOrModuleName,o=this.props.subModule,i="/"+a+"/"+n+Object(D.d)(l,this.props.setupModuleName)[o].url;return x.a.createElement("div",{className:oe.a.container},x.a.createElement("div",{className:oe.a.inputContent},x.a.createElement(F.a,{text:"Module",id:"labe17",size:"medium",type:"title",palette:"mandatory"}),x.a.createElement(Q.a,{options:this.state.moduleOptions,selectedValue:this.state.module,onChange:function(t){return e.setModule(t)},needSearch:!0})),x.a.createElement("div",{className:oe.a.inputContent1},x.a.createElement(F.a,{text:"Name",id:"labe17",size:"medium",type:"title",palette:"mandatory"}),x.a.createElement(V.a,{maxLength:"250",size:"medium",value:this.state.name,onChange:function(t){return e.setAlertName(t)}})),x.a.createElement("div",{className:oe.a.inputContent1},x.a.createElement(F.a,{text:"Email Template",id:"labe17",size:"medium",type:"title",palette:"mandatory"}),x.a.createElement(Q.a,{options:this.state.emailTemplateList,selectedValue:this.state.emailTemplateId,onChange:function(t){return e.setTemplateId(t)},needSearch:!0}),this.state.createATemplate?x.a.createElement(U.a,{palette:"plainprimary",size:"medium",text:"Refresh",bold:!1,onClick:function(){return e.updateTemplateList(e.state.module)}}):x.a.createElement(ie.a,{href:"https://desk.localzoho.com/support/autocus5/ShowHomePage.do#setup/customize/3263000000006907/emailtemplates/new"},x.a.createElement(U.a,{palette:"plainprimary",size:"medium",text:"Create a Template",bold:!1,onClick:function(){return e.createATemplate()}}))),x.a.createElement("div",{className:oe.a.inputContent2},x.a.createElement(F.a,{text:"Send Email Alert To",id:"labe15",size:"medium",type:"title",palette:"primary"}),x.a.createElement("span",{className:oe.a.role,onClick:function(){return e.togglePopup(e.state.togglePopup)}},this.state.roleName?x.a.createElement("span",{className:oe.a.titleTxt},this.state.roleName):"",x.a.createElement("span",{className:oe.a.downIcon},x.a.createElement(te.a,{name:"down"})),x.a.createElement(ne.a,{size:"small",boxPosition:"bottomRight",left:24,isAnimate:!0,isActive:this.state.togglePopup},x.a.createElement("div",{className:oe.a.filterpoplist},this.state.emailSendOptions.map(function(t,a){return x.a.createElement("div",{key:a},x.a.createElement(j.a,{value:t,onClick:function(){return e.setEmailRole(t)},active:e.state.roleName==t,autoHover:!0}))})))),x.a.createElement("div",{className:oe.a.MltiSlctDiv},x.a.createElement($.a,{valueField:"id",textField:"name",options:this.state.allEmailOption,onChange:this.handleSelect,selectedOptions:this.state.selectedIds}))),x.a.createElement(F.a,{text:"Also Notify",id:"labe15",size:"medium",type:"title",palette:"primary"}),x.a.createElement("div",{className:oe.a.message},p()(this.state.checkRecipients).map(function(t,a){return x.a.createElement("div",{className:oe.a.check,key:a},x.a.createElement(K.a,{id:"check_"+a,name:"select",palette:"primary",text:e.state.checkRecipients[t],labelPalette:"default",labelSize:"medium",checked:e.state.recipients[t]||!1,onChange:function(a){return e.toggleCheckBox(a,t)}}))})),1==this.state.recipients.additionalRecipients?x.a.createElement("div",{className:oe.a.text},x.a.createElement(W.a,{placeHolder:"TextArea",id:"textarea",text:this.state.additionalRecipients,maxLength:"100",onChange:function(t){return e.addAdditionalRecipients(t)},animated:!0}),x.a.createElement(F.a,{text:"Specify e-mail Ids separated by comma",id:"labe15",size:"medium",type:"subtitle",palette:"primary"})):null,x.a.createElement(Y.a,{type:"footer",buttonPosition:"left"},x.a.createElement(U.a,{text:"Submit",onClick:function(){return e.addNewAlert(i)},palette:"primaryfilled"}),x.a.createElement(U.a,{text:"Cancel",palette:"secondary",onClick:function(){return e.props.push({pathname:i})}})))}}]),t}(x.a.Component);t.default=Object(E.connect)(function(e){return{paramMap:e.routing.paramMap,setupModuleName:Object(D.c)(e),departmentId:Object(k.r)(e),alertsDetails:e.module.automationalerts||{},templateDetails:e.module.emailtemplates||{},agentsDetails:e.module.agent||{},teamsDetails:e.module.teams||{},roleDetails:e.module.role||{}}},{createAlert:L.a,getAlertsListAPI:L.d,getEmailTemplateListAPI:w.a,getTeamsList:T.u,getDepartmentAgents:C.a,getRolesList:N.b,push:T.K})(se),se.propTypes={name:A.PropTypes.string,module:A.PropTypes.string,emailTemplateId:A.PropTypes.number,roleName:A.PropTypes.string,additionalRecipients:A.PropTypes.string,createATemplate:A.PropTypes.bool,roleTypes:A.PropTypes.array,emailTemplateList:A.PropTypes.array,moduleOptions:A.PropTypes.array,emailSendOptions:A.PropTypes.array,getEmailTemplateListAPI:A.PropTypes.func,paramMap:A.PropTypes.object,setupModuleName:A.PropTypes.string,departmentId:A.PropTypes.string,createAlert:A.PropTypes.func,push:A.PropTypes.func,templateDetails:A.PropTypes.object,getAlertsListAPI:A.PropTypes.func}},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=r(a(0)),o=r(a(1)),i=r(a(953)),s=r(a(151));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,o=e.disabled,r=e.palette,u=e.text,d=e.labelPalette,c=e.active,p=e.labelSize,m=e.getRef,h=e.dataId,f=c?i.default[r+"_active"]:"",g=o?i.default.disabled:i.default.pointer;return l.default.createElement("span",{className:i.default.container+" "+g+" "+(u?i.default.layout:i.default.basic)+" "},l.default.createElement("input",{type:"checkbox",className:i.default.input+" "+(n?i.default.checked:""),name:a,checked:n,disabled:o,ref:m}),l.default.createElement("label",{className:i.default["label_"+r]+" "+f+" "+(u?i.default.layoutshrink:""),onClick:this.onChange,"data-id":h},l.default.createElement("span",null)),u&&l.default.createElement("span",{className:i.default.text},l.default.createElement(s.default,{text:u,palette:d,id:t,size:p,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=u,u.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},u.propTypes={active:o.default.bool,checked:o.default.bool,dataId:o.default.string,disabled:o.default.bool,getRef:o.default.func,id:o.default.string.isRequired,labelPalette:o.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:o.default.oneOf(["small","medium","large"]),name:o.default.string,onChange:o.default.func,palette:o.default.oneOf(["primary","danger"]),text:o.default.string},u.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},949:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),o=y(l),i=y(a(1)),s=y(a(80)),r=y(a(72)),u=y(a(234)),d=y(a(99)),c=a(202),p=y(c),m=y(a(236)),h=y(a(237)),f=y(a(957)),g=y(a(63)),O=a(358),v=a(201);function y(e){return e&&e.__esModule?e:{default:e}}var b=[],_=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFilterSuggestions=(0,O.makeGetMultiSelectFilterSuggestions)(),a.formatOptions=(0,O.makeFormatOptions)(),a.getSelectedValue=(0,O.makeGetSelectedValueText)(),a.selectedFormatOptions={};var n=e.selectedValue,l=e.searchDebounceTime,o=void 0===l?500:l,i=e.isDefaultSelectValue,s=a.handleFormatOptions(a.props),r=s.allOptions,u=s.normalizedAllOptions,d=s.optionsOrder,c=s.normalizedFormatOptions,p=a.getSelectedValue({optionsOrder:d,selectedValue:n,normalizedFormatOptions:c,selectedFormatOptions:a.selectedFormatOptions,isDefaultSelectValue:i}),m=p.selected,h=p.hoverIndex,f=p.selectedValueDetails,g=p.selectedId;p.isSelfValueChanged;return a.state={selected:m,options:r,optionsNormalize:u,hoverIndex:h,searchStr:"",isFetchingOptions:!1,selectedId:g,selectedValueIndex:h},a.optionsOrder=d,a._isMounted=!1,a.normalizedFormatOptions=c,a.allSelectedOptions=f,a.handleChange=a.handleChange.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleFilterSuggestions=a.handleFilterSuggestions.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleFetchOptions=a.handleFetchOptions.bind(a),a.handleGetNextOptions=a.handleGetNextOptions.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleSearchOptions=(0,v.debounce)(a.handleSearchOptions.bind(a),o),a.suggestionContainerRef=a.suggestionContainerRef.bind(a),a.suggestionItemRef=a.suggestionItemRef.bind(a),a.searchInputRef=a.searchInputRef.bind(a),a.valueInputRef=a.valueInputRef.bind(a),a.togglePopup=a.togglePopup.bind(a),a.handleSelectFocus=a.handleSelectFocus.bind(a),a.handleFormatOptions=a.handleFormatOptions.bind(a),a.handlePopupClose=a.handlePopupClose.bind(a),a.handleClearSearch=a.handleClearSearch.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),n(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,a=e.isDefaultSelectValue,n=this.state.hoverIndex,l=this.handleFormatOptions(e),o=l.allOptions,i=l.normalizedAllOptions,s=l.optionsOrder,r=l.normalizedFormatOptions,u=this.selectedFormatOptions,d=this.getSelectedValue({optionsOrder:s,selectedValue:t,normalizedFormatOptions:r,selectedFormatOptions:u,isDefaultSelectValue:a}),c=d.selected,p=d.hoverIndex,m=d.selectedValueDetails,h=d.selectedId;d.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(u,m),this.normalizedFormatOptions=r,this.optionsOrder=s,this.setState({options:o,optionsNormalize:i,selected:c,hoverIndex:n||p,selectedId:h,selectedValueIndex:p})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.suggestionContainer,n=this.optionsOrder,l=this.isSelectWithAvatarComponent,o=this.state,i=o.hoverIndex,s=o.searchStr,r=o.selectedValueIndex,u=this.props,d=u.needLocalSearch,c=u.onDropBoxClose,p=u.onDropBoxOpen,m=u.needSearch,h=u.onSearch,f=u.isPopupOpen,g=this["suggestion_"+((0,v.getIsEmptyValue)(n[i])?"":n[i])];f&&(0,v.scrollTo)(a,g),e.isPopupOpen!==f&&(f?(p&&this.handleFetchOptions(p,s),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(m&&this.valueInput&&this.valueInput.focus(),c&&c(),h&&h(""),this.setState({searchStr:l?s:"",hoverIndex:r})));var O=this.props,y=O.isNextOptions,b=O.getNextOptions,_=(f?this.handleFilterSuggestions():[]).length;f&&_<=5&&y&&b&&!d&&this.handleFetchOptions(b,s)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,a=e.valueField,n=e.textField;return this.formatOptions({options:t,valueField:a,textField:n})}},{key:"handleChange",value:function(e,t,a,n){n&&n.preventDefault&&n.preventDefault();var l=this.props,o=l.onChange,i=l.isReadOnly,s=this.state.optionsNormalize;!i&&o&&o(e,s[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,a=t.onChange,n=t.isPopupOpen,l=this.state,o=l.hoverIndex,i=l.optionsNormalize,s=this.handleFilterSuggestions(),r=e.keyCode;if(n&&(38===r||40===r)&&e.preventDefault&&e.preventDefault(),38===r&&n&&s.length)0===o||(o-=1),this.setState({hoverIndex:o});else if(40===r&&n&&s.length)o===s.length-1||(o===s.length-3&&this.handleGetNextOptions(),o+=1),this.setState({hoverIndex:o});else if(13===r){var u=(s[o]||{}).id;n&&!(0,v.getIsEmptyValue)(u)&&a&&a(u,i[u]),n?!(0,v.getIsEmptyValue)(u)&&this.togglePopup(e):this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,a=this.state.searchStr,n=void 0===a?"":a,l=this.props.onSearch,o=n.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?o&&l&&t.handleSearchOptions():l&&t.handleFetchOptions(l,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,a=this.optionsOrder.indexOf(e);t!==a&&this.setState({hoverIndex:a})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,a=e.excludeOptions,n=void 0===a?b:a,l=e.needSearch,o=this.state,i=o.options,s=void 0===i?b:i,r=o.searchStr;return l&&r&&r.trim().length||n&&n.length?this.getFilterSuggestions({options:s,selectedOptions:n,searchStr:r,needSearch:t}).suggestions:s}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.isFetchingOptions,l=void 0!==n&&n,o=this._isMounted;if(!l&&e){this.setState({isFetchingOptions:!0});try{return e(a).then(function(){o&&t.setState({isFetchingOptions:!1})},function(){o&&t.setState({isFetchingOptions:!1})})}catch(e){o&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,a=e.getNextOptions,n=this.state.searchStr;t&&a&&this.handleFetchOptions(a,n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.isReadOnly,l=t.defaultDropBoxPosition;!n&&a(e,l?l+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,a){this["suggestion_"+a]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(e){var t=(e||{}).target;t&&t.setSelectionRange(t,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"render",value:function(){var e=this.props,t=e.needSearch,a=e.dropBoxSize,n=e.emptyMessage,l=e.searchEmptyMessage,i=e.needBorder,s=e.needSelectDownIcon,O=e.position,v=e.defaultDropBoxPosition,y=e.getTargetRef,b=e.getContainerRef,_=e.isPopupOpen,S=e.removeClose,I=e.isPopupReady,x=e.animationStyle,A=e.textBoxSize,E=e.textBoxVariant,T=e.searchBoxSize,k=e.searchBoxPlaceHolder,C=e.maxLength,N=e.isDisabled,R=e.title,P=e.size,w=e.placeHolder,L=e.className,D=e.portalId,M=e.isReadOnly,j=e.dataId,B=this.state,F=B.hoverIndex,z=B.selected,V=B.searchStr,H=B.isFetchingOptions,U=B.selectedId,G=B.options,K=this.handleFilterSuggestions();return o.default.createElement("div",{className:f.default.container+" "+f.default["box_"+P]+" ","data-title":N?R:""},o.default.createElement("div",{className:""+(L||""),onClick:N||M?null:this.togglePopup,ref:y},s?o.default.createElement(u.default,{isDisabled:N,iconRotated:_,inputRef:this.valueInputRef,maxLength:C,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,isReadOnly:!0,size:A,value:z,variant:E,needReadOnlyStyle:!!M,dataId:j,isClickable:!M&&!N,className:M||N?"":f.default.input,needEffect:!M},o.default.createElement("div",{className:f.default.arrowIcon,"data-id":j+"_downIcon"},o.default.createElement(g.default,{name:"blockDownArrow",size:"8"}))):o.default.createElement(d.default,{disabled:N,inputRef:this.valueInputRef,maxLength:C,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,readOnly:!0,size:A,value:z,variant:E,needReadOnlyStyle:!!M,dataId:j,isClickable:!M&&!N})),M||N||!_?null:o.default.createElement(r.default,{animationStyle:x,boxPosition:O||v+"Center",getRef:b,isActive:I,isAnimate:!0,isArrow:!1,onClick:S,portalId:D,dataIdContainer:j+"_suggestions"},o.default.createElement(p.default,{className:f.default.box,onScroll:this.handleScroll},t?o.default.createElement(c.CardHeader,null,o.default.createElement("div",{className:f.default.search+" "+f.default[P]},o.default.createElement(u.default,{inputRef:this.searchInputRef,maxLength:C,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:k,size:T,value:V,onClear:this.handleClearSearch,dataIdSearchBox:j+"_searchBox"}))):null,o.default.createElement(c.CardContent,{className:a?f.default[a]:"",eleRef:this.suggestionContainerRef,dataId:j+"_Options"},K.length?o.default.createElement(m.default,{activeId:U,suggestions:K,getRef:this.suggestionItemRef,hoverOption:F,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):o.default.createElement(h.default,{emptyMessage:n,isLoading:H,options:G,searchEmptyMessage:l,searchString:V,suggestions:K,dataIdLoading:j+"_loading",dataIdSrchEmptyMsg:j+"_srchEmptyMsg",dataIdNoOptnsMsg:j+"_noOptnsMsg"})))))}}]),t}();_.propTypes={animationStyle:i.default.string,className:i.default.string,closePopupOnly:i.default.func,dataId:i.default.string,defaultDropBoxPosition:i.default.oneOf(["bottom","top","left","right"]),dropBoxSize:i.default.oneOf(["small","medium","large"]),emptyMessage:i.default.string,excludeOptions:i.default.array,getContainerRef:i.default.func,getNextOptions:i.default.func,getRef:i.default.func,getTargetRef:i.default.func,isDefaultSelectValue:i.default.bool,isDisabled:i.default.bool,isNextOptions:i.default.bool,isPopupOpen:i.default.bool,isPopupReady:i.default.bool,isReadOnly:i.default.bool,maxLength:i.default.string,needBorder:i.default.bool,needLocalSearch:i.default.bool,needSearch:i.default.bool,needSelectDownIcon:i.default.bool,onChange:i.default.func.isRequired,onDropBoxClose:i.default.func,onDropBoxOpen:i.default.func,onSearch:i.default.func,options:i.default.oneOfType([i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])),i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])}))]).isRequired,placeHolder:i.default.string,portalId:i.default.string,position:i.default.string,removeClose:i.default.func,searchBoxPlaceHolder:i.default.string,searchBoxSize:i.default.string,searchDebounceTime:i.default.number,searchEmptyMessage:i.default.string,selectedValue:i.default.oneOfType([i.default.oneOfType([i.default.string,i.default.number]),i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])})]),size:i.default.oneOf(["small","medium"]),textBoxSize:i.default.string,textBoxVariant:i.default.string,textField:i.default.string,title:i.default.string,togglePopup:i.default.func,valueField:i.default.string},_.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},_.defaultProps={animationStyle:"bounce",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",dataId:"selectComponent",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},_.displayName="Select";var S=(0,s.default)(_);S.propTypes=_.propTypes,S.defaultProps=_.defaultProps,t.default=S},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},957:function(e,t,a){e.exports={input:"Select-module__input",small:"Select-module__small",medium:"Select-module__medium",large:"Select-module__large",emptyState:"Select-module__emptyState common-module__semibold common-module__ftsmooth",box_small:"Select-module__box_small",box_medium:"Select-module__box_medium",hide:"Select-module__hide common-module__vishidden",container:"Select-module__container",arrowIcon:"Select-module__arrowIcon",box:"Select-module__box",search:"Select-module__search"}},987:function(e,t,a){"use strict";var n=a(12),l=a.n(n),o=a(9),i=a.n(o),s=a(10),r=a.n(s),u=a(13),d=a.n(u),c=a(14),p=a.n(c),m=a(0),h=a.n(m),f=a(1),g=a.n(f),O=a(993),v=a.n(O),y=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||l()(t)).apply(this,arguments))}return p()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.href,a=e.title,n=e.target,l=e.className,o=e.children,i=e.rel,s=(e.download,e.dataTestid);return h.a.createElement("a",{href:t,target:n,className:v.a.link+" "+(l||""),"data-title":a,rel:i,dataId:s},o)}}]),t}(h.a.Component);t.a=y,y.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},y.propTypes={className:g.a.string,href:g.a.string,isDownload:g.a.bool,rel:g.a.string,target:g.a.oneOf(["_blank","_self"]),text:g.a.string,title:g.a.string}},993:function(e,t,a){e.exports={link:"ExternalLink-module__link"}}}]);