(window.deskappJsonp=window.deskappJsonp||[]).push([[83],{1000:function(e,t,a){e.exports={assign:"Assign-module__assign common-module__offSelection",arrow:"Assign-module__arrow",agent:"Assign-module__agent",pointer:"Assign-module__pointer",agentname:"Assign-module__agentname",name:"Assign-module__name common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",teamName:"Assign-module__teamName",spnBrckt:"Assign-module__spnBrckt common-module__ftsmooth",groupShareTxt:"Assign-module__groupShareTxt",circle:"Assign-module__circle",dot1:"Assign-module__dot1",dot2:"Assign-module__dot2",dot3:"Assign-module__dot3",lftPanTeam:"Assign-module__lftPanTeam common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis"}},1053:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),r=a.n(o),i=a(10),l=a.n(i),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),g=a.n(p),f=a(1),h=a.n(f),_=a(1080),v=a.n(_),b=a(64),y=a.n(b),I=a(56),k=a.n(I),A=function(e){function t(e){return r()(this,t),u()(this,(t.__proto__||s()(t)).call(this,e))}return d()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.name,n=e.size,s=e.iconClass,o=e.iconName,r=e.iconSize,i=e.iconColor,l=e.borderPalette,c=e.onClick,u=e.title,m=e.iconTitle,d=e.onIconClick,p=e.showOnHover?v.a.hover:"";return g.a.createElement("div",{className:v.a.container+" "+p},g.a.createElement(y.a,{src:t,name:a,title:u,size:n,onClick:c}),o&&g.a.createElement("span",{className:v.a.thread+" "+v.a["border_"+l],"data-title":m,onClick:d},g.a.createElement("span",{className:v.a.icon},g.a.createElement(k.a,{name:o,size:r,color:i,className:s}))))}}]),t}(g.a.Component);t.a=A,A.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},A.propTypes={borderPalette:h.a.oneOfType([h.a.string,h.a.bool]),iconClass:h.a.string,iconColor:h.a.oneOfType([h.a.string,h.a.bool]),iconName:h.a.oneOfType([h.a.string,h.a.bool]),iconSize:h.a.oneOfType([h.a.string,h.a.bool]),iconTitle:h.a.string,name:h.a.string,onClick:h.a.func,onIconClick:h.a.func,showOnHover:h.a.bool,size:h.a.string,src:h.a.string,title:h.a.string}},1080:function(e,t,a){e.exports={container:"AvatarThread-module__container common-module__dInflex",thread:"AvatarThread-module__thread common-module__rounded",icon:"AvatarThread-module__icon common-module__middleBoth common-module__middle",border_primary:"AvatarThread-module__border_primary",border_success:"AvatarThread-module__border_success",border_danger:"AvatarThread-module__border_danger",hover:"AvatarThread-module__hover"}},1232:function(e,t,a){"use strict";a.d(t,"b",function(){return m}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return p});var n=a(2),s=a.n(n),o=a(5),r=a.n(o),i=a(15),l=a(6),c=a(3),u=a(7);function m(e,t){return{types:Object(l.m)(c.L.FOLLOWERS),callAPI:function(a){return Object(i.a)("/api/v1/"+e+"/"+t+"/followers",!1,{orgId:a.currentOrgId}).get().then(function(e){return 0==e.data.length?{entities:r()({},c.L.AGENT_L,{}),result:[]}:Object(u.normalize)(e.data,Object(u.arrayOf)(Object(u.schema)(c.L.AGENT_L)))})}}}function d(e,t,a){return{types:Object(l.m)(e.toUpperCase()+"_REMOVEFOLLOWER"),callAPI:function(n,o){return Object(i.a)("/api/v1/"+e+"/"+t+"/removeFollowers",!1,{orgId:n.currentOrgId}).post("",{followerIds:[a]}).then(function(i){if("tickets"==e){var l=o().module.ticket[t].followerCount,c={followerCount:parseInt(l)-1};return c=n.myInfo.id==a?s()(c,{isFollowing:!1}):c,{res:i,entities:{ticket:r()({},t,c)},result:[]}}return i})}}}function p(e,t,a){return{types:Object(l.m)(e.toUpperCase()+"_ADDFOLLOWER"),callAPI:function(n,o){return Object(i.a)("/api/v1/"+e+"/"+t+"/addFollowers",!1,{orgId:n.currentOrgId}).post("",{followerIds:[a]}).then(function(i){if("tickets"==e){var l=o().module.ticket[t].followerCount,c={followerCount:parseInt(l)+1};return c=n.myInfo.id==a?s()(c,{isFollowing:!0}):c,{res:i,entities:{ticket:r()({},t,c)},result:[]}}return i})}}}},1614:function(e,t,a){e.exports={followerDiv:"Followers-module__followerDiv",inputDiv:"Followers-module__inputDiv",shortcutKey:"Followers-module__shortcutKey",close:"Followers-module__close",closeText:"Followers-module__closeText",topDiv:"Followers-module__topDiv"}},1615:function(e,t,a){e.exports={followerDiv:"Followser-module__followerDiv",inputDiv:"Followser-module__inputDiv",shortcutKey:"Followser-module__shortcutKey",close:"Followser-module__close",closeText:"Followser-module__closeText",topDiv:"Followser-module__topDiv"}},1616:function(e,t,a){e.exports={avatarDiv:"FollowsersList-module__avatarDiv",avatar:"FollowsersList-module__avatar"}},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},458:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),r=a.n(o),i=a(10),l=a.n(i),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),g=a.n(p),f=a(173),h=a.n(f),_=a(16),v=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(_.Container,{alignBox:"row",align:"both",className:h.a.container},g.a.createElement(_.Box,{className:h.a.dot}),g.a.createElement(_.Box,{className:h.a.dot}),g.a.createElement(_.Box,{className:h.a.dot}),g.a.createElement(_.Box,{className:h.a.dot}),g.a.createElement(_.Box,{className:h.a.dot}),g.a.createElement(_.Box,{className:h.a.dot}))}}]),t}(g.a.Component);t.a=v},650:function(e,t,a){"use strict";a.r(t);var n=a(23),s=a.n(n),o=a(12),r=a.n(o),i=a(9),l=a.n(i),c=a(10),u=a.n(c),m=a(13),d=a.n(m),p=a(14),g=a.n(p),f=a(0),h=a.n(f),_=a(1),v=a.n(_),b=a(26),y=(a(1614),a(1615)),I=a.n(y),k=a(16),A=a(30),C=a(8),T=a(1616),E=a.n(T),w=a(1053),N=a(6),O=function(e){function t(){return l()(this,t),d()(this,(t.__proto__||r()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.removeFollower,s=t.haveAddFollowersPermission,o=t.currentUserId;return h.a.createElement(k.Box,{className:E.a.avatarDiv},h.a.createElement(k.Container,{alignBox:"row",wrap:!0},a.map(function(t,a){var r=t.name?t.name:Object(N.e)(t.firstName,t.lastName),i=!1;return s?i=!0:t.id==o&&(i=!0),h.a.createElement(k.Box,{className:E.a.avatar,key:a},h.a.createElement(w.a,{src:t.photoUrl?t.photoUrl:t.photoURL,name:r,size:"xmedium",iconName:i?"minus":null,iconTitle:C.f.getI18NValue("support.request.removefollower"),onIconClick:n.bind(e,t.id),iconSize:"10",borderPalette:"primary",iconColor:"primary",title:r,showOnHover:!0}))})))}}]),t}(h.a.Component),x=O;O.propTypes={currentUserId:v.a.string,haveAddFollowersPermission:v.a.bool,list:v.a.array,removeFollower:v.a.func};var L=function(e){function t(){return l()(this,t),d()(this,(t.__proto__||r()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.AssignPopup,a=e.followersList,n=e.addFollower,s=e.haveAddFollowersPermission,o=e.removeFollower,r=e.currentUserId,i=e.toggleFollowers;return h.a.createElement(k.Container,{alignBox:"row",className:I.a.followerDiv},h.a.createElement(k.Box,{flexible:!0},h.a.createElement(k.Container,{alignBox:"column"},h.a.createElement(k.Box,{className:I.a.topDiv},h.a.createElement(k.Container,{alignBox:"row"},h.a.createElement(k.Box,{className:I.a.topDiv},h.a.createElement(t,{page:"followers",followersList:a,addFollower:n,haveAddFollowersPermission:s})),s?h.a.createElement(k.Box,{className:I.a.shortcutKey},"Shift + G"):null)),a.length?h.a.createElement(x,{list:a,removeFollower:o,haveAddFollowersPermission:s,currentUserId:r}):null)),h.a.createElement(k.Box,{className:I.a.close,onClick:i},h.a.createElement("span",null,h.a.createElement(A.GettingstartedFontIcon,{name:"closee",size:"20"})),h.a.createElement("span",{className:I.a.closeText},C.f.getI18NValue("crm.label.close"))))}}]),t}(h.a.Component),S=L;L.propTypes={AssignPopup:v.a.node,addFollower:v.a.func,currentUserId:v.a.string,followersList:v.a.array,haveAddFollowersPermission:v.a.bool,removeFollower:v.a.func,toggleFollowers:v.a.func};var P=a(986),R=a(1232),j=a(24),F=function(e){function t(e){l()(this,t);var a=d()(this,(t.__proto__||r()(t)).call(this,e));return a.state={followersList:[]},a.removeFollower=a.removeFollower.bind(a),a.addFollower=a.addFollower.bind(a),a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.id;(0,t.getFollowersList)(t.moduleMeta.tickets.apiKey,a).then(function(t){var a=t.data.result.reduce(function(e,a){return[].concat(s()(e),[t.data.entities.agent[a]])},[]);e.setState({followersList:a})})}},{key:"addFollower",value:function(e){var t=this,a=this.props,n=a.id,s=a.addFollower,o=a.showMessage,r=a.moduleMeta,i=a.currentUserId,l=a.agents,c=i==e;s(r.tickets.apiKey,n,e).then(function(a){var n=l[e];c&&o({type:"success",message:C.f.getI18NValue("support.customers.follow",[r.tickets.singularLabel.toLowerCase()])});var s=t.state.followersList.concat(n);t.setState({followersList:s})})}},{key:"removeFollower",value:function(e){var t=this,a=this.props,n=a.id,s=a.removeFollower,o=a.showMessage,r=a.moduleMeta,i=a.currentUserId==e;s(r.tickets.apiKey,n,e).then(function(a){i&&o({type:"success",message:C.f.getI18NValue("support.customers.unfollow",[r.tickets.singularLabel.toLowerCase()])});var n=t.state.followersList.filter(function(t){return t.id!=e});t.setState({followersList:n})})}},{key:"render",value:function(){var e=this.props,t=e.toggleFollowers,a=e.haveAddFollowersPermission,n=e.currentUserId,s=this.state.followersList;return h.a.createElement(S,{AssignPopup:P.a,followersList:s,addFollower:this.addFollower,haveAddFollowersPermission:a,removeFollower:this.removeFollower,currentUserId:n,toggleFollowers:t})}}]),t}(f.Component);F.propTypes={addFollower:v.a.func,agents:v.a.object,currentUserId:v.a.string,getFollowersList:v.a.func,haveAddFollowersPermission:v.a.bool,id:v.a.string,moduleMeta:v.a.object,removeFollower:v.a.func,showMessage:v.a.func,toggleFollowers:v.a.func};t.default=Object(b.connect)(function(e){return{currentUserId:e.myInfo.id,moduleMeta:e.moduleMeta,agents:e.module.agent}},{getFollowersList:R.b,removeFollower:R.c,showMessage:j.Q,addFollower:R.a})(F)},946:function(e,t,a){e.exports={agentCont:"agentPopup-module__agentCont",assignLayout:"agentPopup-module__assignLayout",teamAgentLayout:"agentPopup-module__teamAgentLayout",mactionTxt:"agentPopup-module__mactionTxt",statusItem:"agentPopup-module__statusItem",pointer:"agentPopup-module__pointer",agentSearch:"agentPopup-module__agentSearch",unAssign:"agentPopup-module__unAssign",unAsgnTxt:"agentPopup-module__unAsgnTxt",unAssignIcn:"agentPopup-module__unAssignIcn",popupCont:"agentPopup-module__popupCont",followerCont:"agentPopup-module__followerCont common-module__dflex common-module__flexrow common-module__alignVertical",dropIcon:"agentPopup-module__dropIcon",followText:"agentPopup-module__followText common-module__offSelection",focused:"agentPopup-module__focused",ownerIcon:"agentPopup-module__ownerIcon",mactionCheck:"agentPopup-module__mactionCheck",notAllow:"agentPopup-module__notAllow",agent:"agentPopup-module__agent",bluePrintLayar:"agentPopup-module__bluePrintLayar",none:"agentPopup-module__none",massAct:"agentPopup-module__massAct",empty:"agentPopup-module__empty",agentTxt:"agentPopup-module__agentTxt",agentTxtActive:"agentPopup-module__agentTxtActive"}},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=l(a(0)),o=l(a(1)),r=l(a(953)),i=l(a(151));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,o=e.disabled,l=e.palette,c=e.text,u=e.labelPalette,m=e.active,d=e.labelSize,p=e.getRef,g=e.dataId,f=m?r.default[l+"_active"]:"",h=o?r.default.disabled:r.default.pointer;return s.default.createElement("span",{className:r.default.container+" "+h+" "+(c?r.default.layout:r.default.basic)+" "},s.default.createElement("input",{type:"checkbox",className:r.default.input+" "+(n?r.default.checked:""),name:a,checked:n,disabled:o,ref:p}),s.default.createElement("label",{className:r.default["label_"+l]+" "+f+" "+(c?r.default.layoutshrink:""),onClick:this.onChange,"data-id":g},s.default.createElement("span",null)),c&&s.default.createElement("span",{className:r.default.text},s.default.createElement(i.default,{text:c,palette:u,id:t,size:d,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:o.default.bool,checked:o.default.bool,dataId:o.default.string,disabled:o.default.bool,getRef:o.default.func,id:o.default.string.isRequired,labelPalette:o.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:o.default.oneOf(["small","medium","large"]),name:o.default.string,onChange:o.default.func,palette:o.default.oneOf(["primary","danger"]),text:o.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},948:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(961);Object.defineProperty(t,"licensePermissionCheckHOC",{enumerable:!0,get:function(){return n.licensePermissionCheckHOC}}),Object.defineProperty(t,"urlLicensePermissionCheckHOC",{enumerable:!0,get:function(){return n.urlLicensePermissionCheckHOC}});var s=a(963);Object.defineProperty(t,"RestrictionValidator",{enumerable:!0,get:function(){return(e=s,e&&e.__esModule?e:{default:e}).default;var e}});var o=a(955);Object.defineProperty(t,"getRestriction",{enumerable:!0,get:function(){return o.getRestriction}})},950:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),r=a.n(o),i=a(10),l=a.n(i),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),g=a.n(p),f=a(1),h=a.n(f),_=a(965),v=a.n(_),b=a(30),y=a(16),I=a(947),k=a.n(I),A=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.iconSize,n=e.text,s=e.count,o=e.onClick,r=e.isAllSelected,i=e.needCheckBox,l=e.label,c=e.dataId,u=e.type,m=l||n;return g.a.createElement(g.a.Fragment,null,g.a.createElement(y.ResponsiveBox,{isHiddenSizes:["sm","md","lg","xl"],className:("ticketLp"==u?v.a.ticketLp:"")+" "+v.a.item,onClick:o,shrink:!0},g.a.createElement(y.Container,{alignBox:"row",align:"vertical"},i?g.a.createElement(y.Box,{className:v.a.check},g.a.createElement(k.a,{checked:r})):t?g.a.createElement(y.Box,{className:v.a.massIcon+" "+("ticketLp"!==u?v.a.Hiddenicon:"")},"spam"==t||"geometry"==t?g.a.createElement(b.CommonFontIcon,{name:t,size:a,iconClass:"ticketLp"==u?v.a.ticketLpicon:""}):g.a.createElement(b.TopbandFontIcon,{name:t,size:a,hoverColor:"delete2"==t?"danger":"",iconClass:"ticketLp"==u?v.a.ticketLpicon:""})):null,s?g.a.createElement(y.Box,{className:v.a.massCount+" ","data-id":c+"Count"},"(",g.a.createElement("span",{className:""+(i?v.a.danger:"")},s),")"):null)),g.a.createElement(y.ResponsiveBox,{shrink:!0,isHiddenSizes:["xs"],className:("ticketLp"==u?v.a.ticketLp:"")+" "+v.a.item,onClick:o},g.a.createElement(y.Container,{alignBox:"row",className:i?v.a.checkMassItem:v.a.massItem,"data-title":m,dataId:c,align:"vertical"},"secondary"==u?g.a.createElement(g.a.Fragment,null,n?g.a.createElement(y.Box,{className:v.a.massLabel,dataId:(c||"")+"Label"},n):null,s?g.a.createElement(y.Box,{className:v.a.massCount+" "+(i?v.a.danger:v.a.dark)+" ",dataId:(c||"")+"Count"},s):null):g.a.createElement(g.a.Fragment,null,i?g.a.createElement(y.Box,{className:v.a.check},g.a.createElement(k.a,{checked:r})):t?g.a.createElement(y.Box,{className:v.a.massIcon+" "},"spam"==t||"geometry"==t?g.a.createElement(b.CommonFontIcon,{name:t,size:a,iconClass:"ticketLp"==u?v.a.ticketLpicon:""}):g.a.createElement(b.TopbandFontIcon,{name:t,size:a,hoverColor:"delete2"==t?"danger":"",iconClass:"ticketLp"==u?v.a.ticketLpicon:""})):null,n?g.a.createElement(y.Box,{shrink:!0,adjust:!0,className:v.a.massLabel,dataId:(c||"")+"Label"},n):null,s?g.a.createElement(y.Box,{className:v.a.massCount+" "+(i?v.a.danger:v.a.dark)+" ",dataId:(c||"")+"Count"},s):null))))}}]),t}(g.a.Component);t.a=A,A.propTypes={count:h.a.number,dataId:h.a.string,icon:h.a.string,iconSize:h.a.string,isAllSelected:h.a.bool,label:h.a.string,needCheckBox:h.a.bool,onClick:h.a.func,text:h.a.string,type:h.a.oneOf(["primary","secondary","ticketLp"])}},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},955:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRestriction=t.getRestrictionObj=void 0;var n,s=a(964),o=a(19),r=(n=o)&&n.__esModule?n:{default:n};var i=t.getRestrictionObj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments[2],n=e.length,o={isShow:!0,isReadOnly:!1},i=s.restrictionRules[t];if(e.length)for(var l=0;l<n;l++)if(void 0!==i[e[l]][a]){var c=i[e[l]][a];if(!c[0]){o.isReadOnly=null!=c[1]&&Boolean(c[1]),o.isShow=null!=c[0]&&Boolean(c[0]);break}c[1]&&(o.isReadOnly=null==c[1]||Boolean(c[1]),o.isShow=null==c[0]||Boolean(c[0]),o.readOnlyMessage=c[1]?(0,r.default)(t+"["+e[l]+"]["+a+"]",s.lockMessages):"")}return o};t.getRestriction=function(e,t,a){return i(e,t,a)}},956:function(e,t,a){"use strict";a.d(t,"i",function(){return d}),a.d(t,"g",function(){return p}),a.d(t,"b",function(){return g}),a.d(t,"j",function(){return f}),a.d(t,"h",function(){return h}),a.d(t,"c",function(){return _}),a.d(t,"e",function(){return v}),a.d(t,"a",function(){return b}),a.d(t,"k",function(){return I}),a.d(t,"d",function(){return A}),a.d(t,"f",function(){return C}),a.d(t,"l",function(){return T});a(20);var n=a(2),s=a.n(n),o=a(15),r=a(6),i=a(7),l=a(17),c=a(46),u=a(3),m=a(39);function d(e){return{types:Object(r.m)("AGENTS_COUNT"),callAPI:function(t){var a=Object(l.r)(t);return Object(o.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return s()({},e,{id:e.agentId})}),{countData:e.data,deptId:a}):{}})}}}function p(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(r.m)(u.L.AGENT),callAPI:function(r){return Object(o.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+a+"&status=ACTIVE&isConfirmed="+n,!1,{orgId:r.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var n=t.data.length<a,o=Object(i.normalize)(t.data,Object(i.arrayOf)(Object(i.schema)(u.L.AGENT_L)));return s()(o,{noMoreData:n,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function g(e,t){return{types:Object(r.m)(u.L.AGENT),callAPI:function(a){return Object(o.a)("/api/v1/agents/"+e,!1,{orgId:a.currentOrgId}).get().then(function(e){var a=Object(i.normalize)(e,Object(i.schema)(u.L.AGENT_L));return s()(a,{depId:t})})}}}function f(e,t,a){return{types:Object(r.m)("AGENT_SEARCH"),callAPI:function(n){return Object(o.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+a,!1,{orgId:n.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var n=e.data.length<a,o=Object(i.normalize)(e.data,Object(i.arrayOf)(Object(i.schema)(u.L.AGENT_L)));return s()(o,{noMoreData:n})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.u,m=arguments[4];return{types:Object(r.m)(u.L.AGENT),callAPI:function(r){var d={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=m||Object(l.r)(r),g=m?"&departmentId="+m:Object(c.a)(r,!0),f="/api/v1/agents?"+(d?d+"&":"")+"from="+t+"&limit="+(2*n>200?200:2*n)+(a?"&searchStr=*"+a+"*":"")+g;return Object(o.a)(encodeURI(f),!1,{orgId:r.currentOrgId}).get().then(function(o){return s()({},Object(i.normalize)(204!==o.responseStatus?o.data:[],Object(i.arrayOf)(Object(i.schema)(u.L.AGENT_L))),{deptId:p,from:t,limit:n,isNext:!!o.data&&o.data.length>n,searchStr:a,agentType:e})},function(e){throw e})}}}function _(e){return{types:Object(r.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(o.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.normalize)(204!==e.responseStatus?e.data:[],Object(i.arrayOf)(Object(i.schema)(u.L.AGENT_L)))})}}}function v(e){return{types:Object(r.m)("TEAM_AGENT"),callAPI:function(t){return Object(o.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(i.normalize)(e.members,Object(i.arrayOf)(Object(i.schema)(u.L.AGENT_L)))})}}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a="";return t.map(function(t){void 0!==e[t]&&(a+="&"+t+"="+e[t])}),a}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],a=arguments[2];return void 0!==e[t]?e[t]:a}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y(e,"searchType","string"),a=e.searchStr;return a&&(a="string*"==t?a+"*":"*string*"==t?"*"+a+"*":a),a}function k(e){var t=e.isConfirmed,a=e.status;switch(a){case m.a:return m.a;case m.d:return m.d;case m.c:return m.c;default:if(void 0!==t&&!t)return m.l;if(void 0===a)return m.b}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=y(e,"from","1"),e.limit=y(e,"limit","100"),e.searchStr=I(e);var t=e.from>1?m.k:m.j;return{types:Object(r.m)(t),callAPI:function(t){var a="/api/v1/agents?orgId="+t.currentOrgId;return a+=b(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(o.a)(a).get().then(function(t){return s()(Object(i.normalize)(void 0!==t.data?t.data:[],Object(i.arrayOf)(Object(i.schema)(u.L.AGENT_L))),{status:k(e)})})}}}function C(e,t,a){var n={status:e,isConfirmed:t,includeLightAgent:a};return n.includeLightAgent=y(n,"includeLightAgent",!0),{types:Object(r.m)(m.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=b(n,["status","isConfirmed","includeLightAgent"]),Object(o.a)(t).get().then(function(e){return s()({},e,{status:k(n)})})}}}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:m.m,data:{isEnabled:e}}}},961:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlLicensePermissionCheckHOC=t.licensePermissionCheckHOC=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a(0)),r=l(a(1)),i=(a(21),a(962));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.currentPermission=e.permission||a.permission,n.currentLicense=e.license||a.license,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.proxyPropsObjHasFunction,a=e.getLicenseProfileCheck,s=e.Component,r=e.Fallback,i=a(t?this.props:{},this.currentPermission,this.currentLicense),l=i.licenseSuccess,c=i.permissionSuccess,u=i.permissionProps;return l&&c?o.default.createElement(s,n({},this.props,u)):r?o.default.createElement(r,this.props):null}}]),t}();c.propTypes={permission:r.default.object,license:r.default.string,proxyPropsObjHasFunction:r.default.func,getLicenseProfileCheck:r.default.func,Component:r.default.element,Fallback:r.default.element},c.contextTypes={store:r.default.object,permission:r.default.object,license:r.default.string};var u=t.licensePermissionCheckHOC=function(e){var t=e.component,a=void 0===t?{license:"*",permission:"*"}:t,s=e.props,r=void 0===s?{}:s,l=e.Fallback,u=void 0===l?null:l,m=function(e,t,n){var s=(0,i.permissionCheck)(t);return{licenseSuccess:(0,i.licenseCheck)(n)(a.license),permissionSuccess:s(a.permission),permissionProps:Object.keys(r).reduce(function(t,a){if(r[a]instanceof Array)return t[a]=r[a].map(function(e,t){if(s(e.permission))return e.obj}).filter(function(e){return e}),t;if("function"==typeof r[a])return n=r[a](e),s(n.permission)?t[a]=n.obj:n.falseObj&&(t[a]=n.falseObj),t;var n=r[a];return s(n.permission)?t[a]=n.obj:t[a]=n.falseObj,t},{})}},d=Object.keys(r).some(function(e){return"function"==typeof r[e]});return function(e){return function(t){return o.default.createElement(c,n({},t,{proxyPropsObjHasFunction:d,getLicenseProfileCheck:m,Component:e,Fallback:u}))}}};t.urlLicensePermissionCheckHOC=function(e){return e.Fallback=InsufficientPrivileges,u(e)}},962:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,s=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(s)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t.underScoreSplit=function(e){return e.split("_")},o=function(e,t){for(var a=t.length,s=[],o=0,i=void 0,l=0;l<a;l++)"&"!=t.charAt(l)&&"|"!=t.charAt(l)?(void 0===s[o]&&(s[o]=""),s[o]=""+s[o]+t.charAt(l)):(s[o+=1]=""+t.charAt(l)+t.charAt(l),l+=1,o+=1);for(;s.length>1||1==s.length&&"true"!=s[0]&&"false"!=s[0];){var c=n(s,3),u=c[0],m=c[1],d=c[2],p=void 0===d?"*":d;u=u.replace(/ /g,""),p=p.replace(/ /g,""),u="true"==u||"false"!=u&&r(e)(u),p="true"==p||"false"!=p&&r(e)(p||"*"),s=[""+(i="&&"==m?u&&p:"||"==m?u||p:u)].concat(s.slice(3))}return void 0===i&&1==s.length&&(i="true"==s[0]),i},r=(t.permissionCheck=function(e){return function(t){for(var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t;-1!=s.indexOf(")");){var r=s.indexOf(")"),i=s.lastIndexOf("(",r);s=""+s.substring(0,i)+o(e,s.substring(i+1,r))+s.substring(r+1)}var l=o(e,s);return l?a:n}},t.singleModulePermissionCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=s(t||"*"),i=n(r,2),l=i[0],c=i[1];return"*"==l&&void 0===c?a:e[l]?(e[l][c]?e[l][c]:!(!e[l].flags||!e[l].flags[c])&&e[l].flags[c])?a:o:e.flags&&e.flags[c]||null?a:o}});t.licenseCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.licenseType;return"*"==t?a:t.constructor==Array&&-1!=t.indexOf(s)?a:s==t?a:n}}},963:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),s=(a(26),r(a(1))),o=a(955);function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,a=e.features,s=e.module,r=e.action,i=t.type,l=t.props,c=(0,o.getRestriction)(a,s,r),u=c.isShow,m=c.isReadOnly,d=c.readOnlyMessage,p=void 0===d?"":d;return u?n.default.createElement(i,Object.assign({},l,{isReadOnly:m,readOnlyMessage:p})):null}i.propTypes={module:s.default.string,children:s.default.Component,features:s.default.array,action:s.default.string},t.default=i},964:function(e,t,a){"use strict";var n,s;function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var r={tickets:{isSpam:{secondaryContact:[1,1],leftPanelForm:[1,1],replyAssistant:[0,0],suggestedSolution:[0,0],timeline:[1,1],mergeTicket:[0,0],marketPlace:[0,0],replyActions:[0,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[1,0],addTask:[0,0],footer:[1,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],add_comment:[0,0],edit_approval:[0,0],add_timeentry_invoice:[0,0]},bluePrint:{status:[1,1],move:[1,0]},ticketSharingList:{edit:[0,0],delete:[0,0],status:[1,1],assign:[1,1],peek:[1,0],move:[1,1],mass_action:[1,1]},spam:{edit:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1],peek:[1,0],delete:[1,0],move:[1,1]},spamContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},anonymousContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},trash:(n={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},o(n,"peek",[1,0]),o(n,"move",[1,1]),n),notAccessible:(s={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},o(s,"peek",[1,0]),o(s,"move",[1,1]),o(s,"mass_action",[1,1]),s)},contacts:{anonymous:{edit:[0,0],follow:[0,0],add_tickets:[0,0],add_products:[0,0],add_attachments:[0,0],add_activies:[0,0],add_comment:[0,0],edit_comment:[0,0],mass_action:[1,1],massUpdate:[0,0],massMerge:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0]},spam:{edit:[0,0],add_tickets:[0,0],massUpdate:[0,0],massMerge:[0,0],follow:[0,0],add_call:[0,0],add_activies:[0,0],add_timentry:[0,0],edit_timeentry:[0,0],delete_timeentry:[0,0],remove_products:[0,0],add_products:[0,0],add_attachments:[0,0],add_comment:[0,0],edit_comment:[0,0],delete_comment:[0,0],add_as_enduser:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0],comment_more:[0,0]}},accounts:{spamContacts:{disassociate:[0,0]}},tasks:{}};r.tickets=Object.assign({},r.tickets,{TS_READ_WRITE:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_RESTRICTED_ACCESS:{timeline:[0,0],leftPanelForm:[0,0],followers_view:[0,0],followers_add:[0,0],tags_view:[0,0],tags_add:[0,0],shareCount:[0,0],forWardOnly:[1,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_READ_ONLY:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]}});t.restrictionRules=r,t.lockMessages={tickets:{TS_READ_WRITE:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_RESTRICTED_ACCESS:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_READ_ONLY:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.lock ed"},bluePrint:{status:"support.blueprints.status.lock.msg"}}}},965:function(e,t,a){e.exports={item:"MassAction-module__item",itemOuterSapce:"MassAction-module__itemOuterSapce",massItem:"MassAction-module__massItem MassAction-module__itemOuterSapce",checkMassItem:"MassAction-module__checkMassItem MassAction-module__itemOuterSapce",massIcon:"MassAction-module__massIcon",massLabel:"MassAction-module__massLabel common-module__dotted common-module__oflow common-module__ellipsis",massCount:"MassAction-module__massCount",dark:"MassAction-module__dark",danger:"MassAction-module__danger",check:"MassAction-module__check",secondary:"MassAction-module__secondary",ticketLp:"MassAction-module__ticketLp",primary:"MassAction-module__primary",ticketLpicon:"MassAction-module__ticketLpicon",small:"MassAction-module__small",medium:"MassAction-module__medium",Hiddenicon:"MassAction-module__Hiddenicon"}},967:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),r=a.n(o),i=a(10),l=a.n(i),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),g=a.n(p),f=a(1),h=a.n(f),_=a(995),v=a.n(_),b=a(64),y=a.n(b),I=a(6),k=a(30),A=a(16),C=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||s()(t)).call(this,e));return a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a}return d()(t,e),l()(t,[{key:"getSelectedItemRef",value:function(e){this.props.selectRef(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.agentsList,n=t.closePopupOnly,s=t.onChangeAssignee,o=t.selectedIndex,r=t.addFollower,i=t.page,l=t.selectedAgentId,c=t.selectedTeamId,u=void 0===c?null:c,m=t.namePattern,d=t.dataId;return g.a.createElement("div",{className:v.a.posrel,"data-id":d||"agentList"},a.map(function(t,a){var c=t.id,d=t.firstName,p=t.lastName,f=t.photoURL,h=t.rolePermissionType,_=Object(I.f)(m,d,p);return"Light"!=h?g.a.createElement(A.Container,{isCover:!1,alignBox:"row",align:"vertical",className:c==l?v.a.selectedItem:v.a.item+" "+(a==o?v.a.hoverItem:""),dataId:"agent_"+c,key:a,onClick:function(e){n(e),"followers"==i?r(c):s({assigneeId:c,teamId:u})},eleRef:a==o?e.getSelectedItemRef:null},f?g.a.createElement(y.a,{name:_,size:"xsmall",src:f}):g.a.createElement(y.a,{name:_,size:"xsmall"}),g.a.createElement("span",{className:v.a.assignName},_),g.a.createElement("span",{className:v.a.text},c==l?g.a.createElement("span",{className:v.a.markedIcon},g.a.createElement(k.CustomersFontIcon,{color:"primary",isBold:!0,name:"checkmarkO",size:"17"})):null)):null}))}}]),t}(g.a.Component);t.a=C,C.propTypes={addFollower:h.a.func,agentsList:h.a.array,closePopupOnly:h.a.func,namePattern:h.a.array,onChangeAssignee:h.a.func,page:h.a.string,selectRef:h.a.func,selectedAgentId:h.a.string,selectedIndex:h.a.number,selectedTeamId:h.a.bool}},974:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(2),s=a.n(n),o=a(21),r=a(17),i=a(19),l=a.n(i),c=a(6),u=[],m={},d=Object(o.createSelector)([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("module.agent",e)||t.agents||m},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.agentIds||u},r.L],function(e,t,a){var n=[];return t.forEach(function(t){var o=e[t],r=o||{},i=r.name,l=void 0===i?"":i,u=r.firstName,m=void 0===u?"":u,d=r.lastName,p=void 0===d?"":d;l=m||p?Object(c.f)(a,m,p):l,o&&n.push(s()({},o,{name:l}))}),n}),p=function(){return d}},976:function(e,t,a){"use strict";var n=a(38),s=a.n(n),o=a(2),r=a.n(o),i=a(11),l=a.n(i),c=a(23),u=a.n(c),m=a(12),d=a.n(m),p=a(9),g=a.n(p),f=a(10),h=a.n(f),_=a(13),v=a.n(_),b=a(14),y=a.n(b),I=a(0),k=a.n(I),A=a(1),C=a.n(A),T=a(26),E=a(154),w=a.n(E),N=a(19),O=a.n(N),x=a(3),L=a(956),S=a(974),P=a(17);function R(e,t,a){var n=t.departmentId||Object(P.r)(e),s=O()("departmentSpecificState."+n+".agentList."+a,e)||[],o=Object(P.L)(e);return{globalAgentIds:s,agents:O()("module.agent",e),namePattern:o,deptId:n}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"activeAgents",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.u,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o){var i=function(i){function c(e){g()(this,c);var t=v()(this,(c.__proto__||d()(c)).call(this,e));return t.state={listUIState:{from:1,isNext:!1},searchUIState:{from:1,isNext:!1,agentIds:[],searchStr:""},searchStr:"",isFetching:!1},t._isMounted=!1,t.getAgentsListSel=Object(S.a)(),t.handleGetAgents=t.handleGetAgents.bind(t),t.handleGetNextAgents=t.handleGetNextAgents.bind(t),t.handleSearchAgents=t.handleSearchAgents.bind(t),t.handleAPI=t.handleAPI.bind(t),t.handleSearchAgentsArray=t.handleSearchAgentsArray.bind(t),t.handleGetAgentsList=t.handleGetAgentsList.bind(t),t.handleLocalAgentsSearch=t.handleLocalAgentsSearch.bind(t),t}return y()(c,i),h()(c,[{key:"componentDidMount",value:function(){this._isMounted=!0,n&&this.handleGetAgents()}},{key:"componentDidUpdate",value:function(e){this.props.deptId,e.deptId}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAPI",value:function(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];var s=a.slice(1,a.length),o=a[0],r=this.state.isFetching,i=this._isMounted;return r?l.a.resolve():(i&&this.setState({isFetching:!0}),o.apply(void 0,u()(s)).then(function(t){return i&&e.setState({isFetching:!1}),t&&204!==t.responseStatus?t:l.a.resolve()},function(t){throw i&&e.setState({isFetching:!1}),t}))}},{key:"handleGetAgentsList",value:function(a){var n=this,s=this.props,o=s.getAgentsList,i=s.departmentId,c=this.state,u=c.searchStr,m=c.listUIState,d=c.searchUIState,p=this._isMounted,g="NEXT"===a,f=u.replace(/\s+/g,""),h=d.searchStr,_=void 0===h?"":h,v=u.replace(/\s+/g,"").toLowerCase(),b=_.replace(/\s+/g,"").toLowerCase();if(u){if("CURRENT"!==a||v!==b){var y=d.from,I=void 0===y?1:y,k=g?I+t:1;return this.setState({searchUIState:r()({},d,{from:k,isNext:!1})}),this.handleAPI(o,e+"Search",k,f,t,i).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},a=t.result,s=void 0===a?[]:a,o=t.isNext,r=t.from,i=t.searchStr;return n.handleSearchAgentsArray(s,r,o,i,g),e},function(e){throw p&&n.setState({searchUIState:r()({},d,{from:I,isNext:!1})}),e})}return l.a.resolve()}var A=m.from,C=void 0===A?1:A,T=g?C+t:1;return this.setState({listUIState:r()({},m,{from:T,isNext:!1})}),this.handleAPI(o,e,T,u,t,i).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},a=t.from,s=t.isNext;return p&&n.setState({listUIState:r()({},m,{from:a,isNext:s})}),e},function(e){throw p&&n.setState({listUIState:r()({},m,{from:C,isNext:!1})}),e})}},{key:"handleSearchAgentsArray",value:function(e,a,n,s,o){var r=this.state.searchUIState.agentIds,i=this._isMounted,l=a-1,c=l+(2*t>200?200:2*t),m=o?[].concat(u()(r.slice(0,l)),u()(e),u()(r.slice(c,r.length))):e;i&&this.setState({searchUIState:{agentIds:m,from:a,isNext:n,searchStr:s}})}},{key:"handleGetAgents",value:function(){return this.handleGetAgentsList("CURRENT").then(function(e){return e},function(e){throw e})}},{key:"handleSearchAgents",value:function(e){this.setState({searchStr:e})}},{key:"handleGetNextAgents",value:function(){return this.handleGetAgentsList("NEXT").then(function(e){return e},function(e){throw e})}},{key:"handleLocalAgentsSearch",value:function(){var e=this.state.searchStr,t=this.props,a=t.agents;return t.globalAgentIds.filter(function(t){var n=a[t],s=n.firstName,o=void 0===s?"":s,r=n.lastName,i=void 0===r?"":r,l=n.emailId,c=void 0===l?"":l,u=(o+i).replace(/\s+/g,"").toLowerCase(),m=e.replace(/\s+/g,"").toLowerCase();return-1!==u.indexOf(m)||-1!==c.indexOf(m)})}},{key:"render",value:function(){var e=this.state,n=e.searchStr,r=void 0===n?"":n,i=e.listUIState,l=e.isFetching,c=e.searchUIState,u=this.props,m=u.globalAgentIds,d=u.namePattern,p=u.agents,g=r?c:i,f=g.from,h=g.isNext,_=g.agentIds,v=g.searchStr,b=void 0===v?"":v,y=r.replace(/\s+/g,"").toLowerCase(),I=b.replace(/\s+/g,"").toLowerCase(),A=y?I===y?_:a?this.handleLocalAgentsSearch():[]:m,C=this.getAgentsListSel({},{agents:p,agentIds:A.slice(0,f-1+t),namePattern:d});return k.a.createElement(o,s()({},this.props,{agentIds:A,agentsList:C,getAgents:this.handleGetAgents,getNextAgents:this.handleGetNextAgents,isFetching:l,isNextAgents:h,onSearchAgents:this.handleSearchAgents,searchString:r}))}}]),c}(k.a.Component);return i.propTypes={agents:C.a.object,departmentId:C.a.string,deptId:C.a.string,getAgentsList:C.a.func,globalAgentIds:C.a.array,namePattern:C.a.array},w()(Object(T.connect)(function(t,a){return R(t,a,e)},{getAgentsList:L.h})(i),o)}}},985:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),r=a.n(o),i=a(10),l=a.n(i),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),g=a.n(p),f=a(1),h=a.n(f),_=a(153),v=a(989),b=a.n(v),y=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(_.a,{viewBox:"0 0 298 123.3",name:"archived"},g.a.createElement("image",{xlinkHref:b.a,height:"100%",width:"100%"}))}}]),t}(g.a.Component);var I=a(988),k=a(241),A=a(991),C=a.n(A),T=a(109),E=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||s()(t)).call(this,e));return a.renderEmptyState=a.renderEmptyState.bind(),a}return d()(t,e),l()(t,[{key:"renderEmptyState",value:function(e){switch(e){case"archived":return g.a.createElement(y,null);case"team":return g.a.createElement(k.a,null);case"tag":return g.a.createElement(I.a,null);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.text,a=e.iconName,n=e.hrefLinkText,s=e.hrefLink,o=e.isOpenNewTab;return g.a.createElement("div",{className:C.a.viewSearch},g.a.createElement("div",{className:C.a.srchImg},this.renderEmptyState(a)),t?g.a.createElement("div",{className:C.a.srchTxt},t):"",n&&o?g.a.createElement(T.a,{href:s,target:"_blank",className:C.a.srchLink},n):n?g.a.createElement(T.a,{href:s,className:C.a.srchLink},n):null)}}]),t}(g.a.Component);t.a=E;E.propTypes={hrefLink:h.a.string,hrefLinkText:h.a.string,iconName:h.a.oneOf(["archived","team","tag"]),isOpenNewTab:h.a.bool,text:h.a.string},E.defaultProps={iconName:"team",isOpenNewTab:!1,hrefLink:"javascript:void(0)"}},986:function(e,t,a){"use strict";var n=a(38),s=a.n(n),o=a(11),r=a.n(o),i=a(12),l=a.n(i),c=a(9),u=a.n(c),m=a(10),d=a.n(m),p=a(13),g=a.n(p),f=a(14),h=a.n(f),_=a(0),v=a.n(_),b=a(1),y=a.n(b),I=a(32),k=a(26),A=a(24),C=a(956),T=a(80),E=a.n(T),w=a(17),N=a(131),O=a(976),x=a(946),L=a.n(x),S=a(99),P=a.n(S),R=a(8),j=a(81),F=a(65),B=a(967),D=a(5),U=a.n(D),M=a(998),z=a.n(M),H=a(357),V=a.n(H),G=a(64),K=a.n(G),W=a(30),q=function(e){function t(e){u()(this,t);var a=g()(this,(t.__proto__||l()(t)).call(this,e));return a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a}return h()(t,e),d()(t,[{key:"getSelectedItemRef",value:function(e){this.props.selectRef(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.teamsList,n=t.selectedIndex,s=t.closePopupOnly,o=t.onChangeAssignee,r=t.getAgentsByTeam,i=t.selectedTeamId,l=t.selectedAgentName,c=t.selectedAgentImage,u=t.selectedAgentId;return v.a.createElement("div",{className:z.a.posrel},a.map(function(t,a){var m,d=t.id,p=t.name;t.derivedAgents;return v.a.createElement("div",{key:a,onClick:function(e){s(e),o({teamId:d,assigneeId:null})},className:d==i?z.a.selectedItem:z.a.item+" "+(a==n?z.a.hoverItem:""),ref:a==n?e.getSelectedItemRef:null},v.a.createElement(V.a,{name:p,size:"xsmall"}),v.a.createElement("span",{className:z.a.text},v.a.createElement("span",{className:z.a.assignName},p),d==i?v.a.createElement("span",{className:z.a.markedIcon},v.a.createElement(W.CustomersFontIcon,{name:"checkmarkO",size:"17",color:"primary",isBold:!0})):null),v.a.createElement("div",{className:z.a.teamUser,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),r(d)}},d==i&&u?v.a.createElement(K.a,(m={name:"Avatar",src:c},U()(m,"name",l),U()(m,"size","xsmall"),m)):v.a.createElement(W.TopbandFontIcon,{name:"newuser",size:"13",color:"dark"})))}))}}]),t}(v.a.Component),J=q;q.propTypes={closePopupOnly:y.a.func,getAgentsByTeam:y.a.func,onChangeAssignee:y.a.func,selectRef:y.a.func,selectedAgentId:y.a.string,selectedAgentImage:y.a.string,selectedAgentName:y.a.string,selectedIndex:y.a.number,selectedTeamId:y.a.string,teamsList:y.a.array};var X=a(999),Y=a.n(X),Q=a(72),$=a.n(Q),Z=a(16),ee=a(6),te=a(458),ae=a(232),ne=function(e){function t(e){u()(this,t);var a=g()(this,(t.__proto__||l()(t)).call(this,e));return a.state={limit:10,selectedIndex:0},a.onScroll=a.onScroll.bind(a),a.hasMoreAgents=a.hasMoreAgents.bind(a),a.handleKeyup=Object(N.a)(a.handleKeyup.bind(a),100,!0),a.handleNavigation=a.handleNavigation.bind(a),a.searchAgents=a.searchAgents.bind(a),a.setScroll=a.setScroll.bind(a),a}return h()(t,e),d()(t,[{key:"onScroll",value:function(){this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&this.hasMoreAgents()&&this.setState({limit:this.state.limit+10})}},{key:"hasMoreAgents",value:function(){var e=this.props,t=e.teamId;return e.teams[t].derivedAgents.length>this.state.limit}},{key:"constructAgentsList",value:function(e){var t=this.props,a=t.teamId,n=t.teams,s=t.agents,o=n[a].derivedAgents;e="all"==e?o.length:this.state.limit,e=o.length>e?e:o.length;for(var r=[],i=0;i<e;i++){var l=o[i];s[l]&&r.push(s[l])}return r}},{key:"handleKeyup",value:function(e){var t=e.keyCode;38==t||40==t||13==t?this.handleNavigation(t,e):this.searchAgents(e.target.value)}},{key:"searchAgents",value:function(e){var t=this.constructAgentsList("all").filter(function(t){return-1!=Object(ee.e)(t.firstName,t.lastName).toLowerCase().indexOf(e.toLowerCase())});this.setState({searchList:t,limit:10,selectedIndex:0})}},{key:"handleNavigation",value:function(e,t){var a=this,n=this.state,s=n.searchVal,o=void 0===s?"":s,r=n.searchList,i=n.selectedIndex,l=o.length>1?r:this.constructAgentsList();switch(e){case 40:this.setState({selectedIndex:i===l.length-1?0:this.state.selectedIndex+1},function(){a.setScroll()});break;case 38:this.setState({selectedIndex:0!=i?this.state.selectedIndex-1:0},function(){a.setScroll()});break;case 13:var c=this.props,u=c.closePopupOnly,m=c.onChangeAssignee,d=c.teamId;u(t),m({assigneeId:l[i].id,teamId:d},t)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.containerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,s=a.offsetHeight,o=t.offsetHeight;(n<=0||s+n>o)&&(t.scrollTop=0==e?0:t.scrollTop+n)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.closeTeamagents,n=t.teams,s=(t.agents,t.teamId),o=t.selectedAgentId,r=t.selectedTeamId,i=t.onChangeAssignee,l=t.closePopupOnly,c=t.namePattern,u=this.state,m=u.searchVal,d=void 0===m?"":m,p=u.searchList,g=void 0===p?[]:p,f=u.selectedIndex,h=n[s],_=h.name,b=(h.derivedAgents,d.length>1?g:this.constructAgentsList());return v.a.createElement(Z.Container,{className:Y.a.teamContent},v.a.createElement(Z.Box,{className:Y.a.backDiv,onClick:a},v.a.createElement("span",{className:Y.a.backIcon},v.a.createElement(W.CommonFontIcon,{name:"arrowLeft3",size:"14"})),R.f.getI18NValue("support.crmlabel.back")),v.a.createElement(Z.Box,{className:Y.a.teamHead},v.a.createElement(Z.Container,{alignBox:"row",align:"vertical"},v.a.createElement(Z.Box,{flexible:!0,className:Y.a.teamName,"data-title":_},_),v.a.createElement(Z.Box,{className:Y.a.connectIcon},v.a.createElement(W.KnowledgeBaseFontIcon,{name:"kbessentialconnect",size:"18"})),v.a.createElement("span",{className:Y.a.bgconnectIcon},v.a.createElement(W.KnowledgeBaseFontIcon,{name:"kbessentialconnect",size:"86"})))),v.a.createElement(Z.Box,{className:Y.a.searchDiv},v.a.createElement(P.a,{placeHolder:R.f.getI18NValue("support.search.support.agentinteam"),onKeyUp:this.handleKeyup,value:d,onChange:function(t){e.setState({searchVal:t})}})),v.a.createElement(Z.Box,{flexible:!0,onScroll:this.onScroll,scroll:"vertical",eleRef:function(t){e.containerRef=t}},b.length?v.a.createElement(B.a,{selectedTeamId:s,agentsList:b,selectedAgentId:s==r?o:null,closePopupOnly:l,onChangeAssignee:i,selectedIndex:f,selectRef:function(t){e.selectItemRef=t},page:"ticketDv",addFollower:function(){},namePattern:c}):d.length?v.a.createElement(ae.a,null):v.a.createElement(te.a,null)))}}]),t}(v.a.Component),se=ne;ne.propTypes={agents:y.a.object,closePopupOnly:y.a.func,closeTeamagents:y.a.func,namePattern:y.a.array,onChangeAssignee:y.a.func,selectedAgentId:y.a.bool,selectedTeamId:y.a.bool,teamId:y.a.string,teams:y.a.object};var oe=a(985),re=function(e){function t(e){u()(this,t);var a=g()(this,(t.__proto__||l()(t)).call(this,e));return a.unAssign=a.unAssign.bind(a),a}return h()(t,e),d()(t,[{key:"unAssign",value:function(e){var t=this.props,a=t.onChangeAssignee,n=t.closePopupOnly;a({assigneeId:null,teamId:null}),n(e)}},{key:"render",value:function(){var e=this.props,t=e.assigneeId,a=e.isPopupOpen,n=e.isPopupReady,s=e.agentName,o=e.onChangeAssignee,r=e.closePopupOnly,i=e.photoURL,l=e.teamId,c=e.page,u=e.addFollower,m=e.defaultTab,d=(e.noMoreData,e.agentsList),p=e.teamsList,g=e.searchStr,f=e.selectedIndex,h=e.changeDefaultTab,_=e.keyUp,b=e.setInputRef,y=e.searchAgents,I=e.searchTeams,k=e.contentRef,A=e.setSelectRef,C=e.position,T=e.getAgentsByTeam,E=e.openTeamId,w=e.teamsObject,N=e.agentsObject,O=e.closeTeamagents,x=e.getContainerRef,S=e.needArrow,D=void 0===S||S,U=e.boxSize,M=void 0===U?"mlarge":U,z=e.left,H=void 0===z?null:z,V=e.needTeam,G=void 0===V||V,K=e.needUnAssign,q=void 0===K||K,X=e.removeClose,Y=e.namePattern,Q=e.isAgentFetching,Z=e.isTeamsFetching,ee=e.getNextAgents,ne=e.isNextAgents,re=G&&!E;return a?v.a.createElement($.a,{boxPosition:C,getRef:x,isActive:n,isAnimate:!0,isArrow:D,size:M,left:H,portalId:"portal1"},v.a.createElement("div",{onClick:X},v.a.createElement(j.TabWrapper,{defaultTab:m,needTabBorder:!0,onSelect:h,type:"delta"},v.a.createElement(j.Tabs,{className:re?"":L.a.none,isResponsive:!1},v.a.createElement(j.Tab,{id:"Agent",className:"Agent"==m?L.a.agentTxtActive:L.a.agentTxt,text:R.f.getI18NValue("support.survey.report"),dataId:"assignPopupAgentTab"}),v.a.createElement(j.Tab,{id:"Teams",className:"Teams"==m?L.a.agentTxtActive:L.a.agentTxt,text:R.f.getI18NValue("support.setup.label.teams"),dataId:"assignPopupTeamsTab"})),v.a.createElement(j.TabContentWrapper,{className:E?L.a.teamAgentLayout:L.a.assignLayout},v.a.createElement(j.TabContent,{id:"Agent"},v.a.createElement(F.Card,{fetchData:ee,noMoreData:!ne,noNeedUpScroll:!0},d.length>5||""!=g?v.a.createElement(F.CardHeader,{className:L.a.agentSearch},v.a.createElement(P.a,{inputRef:b,onChange:y,onKeyUp:_,placeHolder:R.f.getI18NValue("support.search.support.users"),value:g,autofocus:!0})):null,v.a.createElement(F.CardContent,{eleRef:k,className:L.a.scrollContainer},d.length?v.a.createElement(B.a,{addFollower:u,agentsList:d,closePopupOnly:r,onChangeAssignee:o,page:c,selectedAgentId:!l&&t,selectedIndex:f,selectRef:A,namePattern:Y}):Q?v.a.createElement(te.a,null):v.a.createElement("div",{className:L.a.empty},v.a.createElement(ae.a,{text:R.f.getI18NValue("support.no.matches.found")}))),v.a.createElement(F.CardFooter,null,q?v.a.createElement("div",{className:L.a.unAssign,onClick:this.unAssign},v.a.createElement("span",{className:L.a.unAssignIcn},v.a.createElement(W.TicketsFontIcon,{name:"addAgent",size:"13"})),v.a.createElement("span",{className:L.a.unAsgnTxt},R.f.getI18NValue("support.label.markas.unassigned"))):null))),v.a.createElement(j.TabContent,{id:"Teams"},v.a.createElement(F.Card,null,(p.length>5||""!=g)&&!E?v.a.createElement(F.CardHeader,{className:L.a.agentSearch},v.a.createElement(P.a,{inputRef:b,onChange:I,onKeyUp:_,placeHolder:R.f.getI18NValue("support.search.support.team"),value:g,autofocus:!0})):null,v.a.createElement(F.CardContent,{eleRef:k,className:L.a.scrollContainer},E?v.a.createElement(se,{agents:N,closePopupOnly:r,closeTeamagents:O,onChangeAssignee:o,selectedAgentId:t,selectedTeamId:l,teamId:E,teams:w,namePattern:Y}):p.length?v.a.createElement(J,{closePopupOnly:r,getAgentsByTeam:T,onChangeAssignee:o,selectedAgentId:t,selectedAgentImage:i,selectedAgentName:s,selectedIndex:f,selectedTeamId:l,teamId:E,teams:w,selectRef:A,teamsList:p}):Z?v.a.createElement(te.a,null):""!=g?v.a.createElement("div",{className:L.a.empty},v.a.createElement(ae.a,{iconName:"team",text:R.f.getI18NValue("support.no.matches.found")})):v.a.createElement("div",{className:L.a.empty},v.a.createElement(oe.a,{text:R.f.getI18NValue("support.teams.notadded"),hrefLinkText:R.f.getI18NValue("support.teams.addnew"),iconName:"team"}))),q&&!E?v.a.createElement(F.CardFooter,null,v.a.createElement("div",{className:L.a.unAssign,onClick:this.unAssign},v.a.createElement("span",{className:L.a.unAssignIcn},v.a.createElement(W.TicketsFontIcon,{name:"addAgent",size:"13"})),v.a.createElement("span",{className:L.a.unAsgnTxt},R.f.getI18NValue("support.label.markas.unassigned")))):null)))))):null}}]),t}(_.Component),ie=re;re.propTypes={addFollower:y.a.array,agentName:y.a.string,agentsList:y.a.array,agentsObject:y.a.object,assigneeId:y.a.string,boxSize:y.a.string,changeDefaultTab:y.a.func,closePopupOnly:y.a.func,closeTeamagents:y.a.func,contentRef:y.a.func,defaultTab:y.a.string,getAgentsByTeam:y.a.func,getContainerRef:y.a.func,getNextAgents:y.a.func,isNextAgents:y.a.bool,isPopupOpen:y.a.bool,isPopupReady:y.a.bool,keyUp:y.a.func,left:y.a.string,namePattern:y.a.array,needArrow:y.a.bool,needTeam:y.a.bool,needUnAssign:y.a.bool,noMoreData:y.a.bool,onChangeAssignee:y.a.func,onSearchAgents:y.a.func,openTeamId:y.a.string,page:y.a.string,photoURL:y.a.string,position:y.a.string,removeClose:y.a.func,searchAgents:y.a.func,searchStr:y.a.string,searchTeams:y.a.func,selectedIndex:y.a.number,setInputRef:y.a.func,setSelectRef:y.a.func,teamId:y.a.string,teamsList:y.a.array,teamsObject:y.a.object};var le,ce=a(1e3),ue=a.n(ce),me=a(152),de=a(948),pe=function(e){function t(e){u()(this,t);var a=g()(this,(t.__proto__||l()(t)).call(this,e));return a.onClick=a.onClick.bind(a),a}return h()(t,e),d()(t,[{key:"onClick",value:function(e){var t=this.props,a=t.isReadOnly,n=void 0!==a&&a,s=t.onClick;!(t.disableClick||n)&&s(e)}},{key:"render",value:function(){var e=this.props,t=e.agentName,a=e.teamName,n=e.photoURL,s=e.isTeam,o=e.isUnassigned,r=e.assigneeId,i=e.type,l=e.isIconOnly,c=e.haveChangePer,u=e.size,m=e.getRef,d=e.dataId,p="small"==u?"10":"18",g="small"==u?"xsmall":"xmedium";return v.a.createElement("div",{className:ue.a.assign+" "+(c&&!l&&ue.a.pointer),ref:m},v.a.createElement(Z.Container,{className:ue.a.agent,onClick:this.onClick,align:"vertical",alignBox:"row",isCover:!1,dataId:d},v.a.createElement(Z.Box,null,s?v.a.createElement(V.a,{name:a,size:g,src:n}):o?v.a.createElement(me.a,{iconClass:"mtminus2",iconSize:p,name:"addAgent",size:g}):v.a.createElement(K.a,{name:t,size:g,src:n})),l?null:v.a.createElement(Z.Box,{flexible:!0,className:ue.a.agentname},s?r?v.a.createElement("div",{"data-id":"TeamWithAgent"},"type1"==i&&v.a.createElement("span",{className:ue.a.name,"data-title":t},t),v.a.createElement("span",{className:ue.a.arrow},v.a.createElement(W.TopbandFontIcon,{color:"dark",name:"down1",size:"8"})),v.a.createElement("div",{className:ue.a.teamName},v.a.createElement("span",{className:ue.a.spnBrckt},"("),v.a.createElement("span",{className:ue.a.groupShareTxt},v.a.createElement("span",{className:ue.a.circle}),v.a.createElement("span",{className:ue.a.dot1}),v.a.createElement("span",{className:ue.a.dot2}),v.a.createElement("span",{className:ue.a.dot3})),v.a.createElement("span",{className:ue.a.lftPanTeam},a),v.a.createElement("span",{className:ue.a.spnBrckt},")"))):v.a.createElement("span",{className:ue.a.name,"data-id":"TeamOnly","data-title":a},a):"type1"==i?v.a.createElement(Z.Container,{alignBox:"row",isCover:!1},v.a.createElement("span",{className:ue.a.name,"data-title":t||R.f.getI18NValue("support.unassigned"),"data-id":"ownerBtnContainer"},t||R.f.getI18NValue("support.unassigned")),c?v.a.createElement("span",{className:ue.a.arrow},v.a.createElement(W.TopbandFontIcon,{color:"dark",name:"down1",size:"8"})):null):null)))}}]),t}(v.a.Component);pe.defaultProps={isTeam:!1,haveChangePer:!0,isIconOnly:!1,type:"type1",size:"medium"},pe.propTypes=(le={agentName:y.a.string,assigneeId:y.a.string,disableClick:y.a.bool,getRef:y.a.func},U()(le,"getRef",y.a.func),U()(le,"haveChangePer",y.a.bool),U()(le,"isIconOnly",y.a.bool),U()(le,"isReadOnly",y.a.bool),U()(le,"isTeam",y.a.bool),U()(le,"isUnassigned",y.a.bool),U()(le,"name",y.a.string),U()(le,"onClick",y.a.func),U()(le,"photoURL",y.a.string),U()(le,"size",y.a.oneOf(["small","medium"])),U()(le,"teamName",y.a.string),U()(le,"type",y.a.string),le);var ge=Object(de.licensePermissionCheckHOC)({component:{license:"*",permission:"*"},props:{disableClick:function(e){var t=e.module,a=void 0===t?"tickets":t;return{permission:a+"_changeOwner"+(e.isUnassigned?"||"+a+"_unassignedChangeOwner":""),obj:!1,falseObj:!0}}}})(pe),fe=function(e){var t=e.features,a=void 0===t?[]:t,n=e.module,s=void 0===n?"tickets":n;return v.a.createElement(de.RestrictionValidator,{features:a,module:s,action:"assign"},v.a.createElement(ge,e))};fe.propTypes={features:y.a.array,module:y.a.string};var he=fe,_e=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.assigneeId,a=e.teamId,n=e.isLocked,o=e.removeClose,r=e.agentName,i=e.teamName,l=e.getTargetRef,c=e.photoURL,u=e.haveChangeOwnerPermission,m=e.haveUnassignedChangeOwnerPermission,d=e.onClick,p=!t&&!a,g=!n&&u;return p&&(g=!n&&(!!u||m)),v.a.createElement("div",{className:L.a.agentCont,onClick:o},v.a.createElement(he,{agentName:r,assigneeId:t,teamName:i,getRef:l,haveChangePer:g,isUnassigned:p,onClick:g?d:null,size:"small",photoURL:c,isTeam:a}),v.a.createElement(ie,s()({},this.props,{needUnAssign:!p})))}}]),t}(_.Component),ve=_e;_e.propTypes={agentName:y.a.string,assigneeId:y.a.string,getTargetRef:y.a.func,haveChangeOwnerPermission:y.a.bool,haveUnassignedChangeOwnerPermission:y.a.bool,isFromBLuePrint:y.a.bool,isLocked:y.a.bool,isPopupOpen:y.a.bool,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var be=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.isPopupOpen,a=e.haveAddFollowersPermission,n=e.onClick,o=e.getTargetRef,r=e.removeClose;return v.a.createElement("div",{className:L.a.agentCont,onClick:r},v.a.createElement("div",{className:L.a.followerCont+" "+(t?L.a.focused:"")+" "+(a?"":L.a.notAllow),onClick:a&&n,ref:o},v.a.createElement(Z.Box,{className:L.a.followText,flexible:!0},R.f.getI18NValue("support.add.followers")),v.a.createElement("span",{className:L.a.dropIcon},v.a.createElement(W.TopbandFontIcon,{name:"blockDownArrow"}))),v.a.createElement(ie,s()({},this.props,{needArrow:!1,needTeam:!1,needUnAssign:!1})))}}]),t}(_.Component),ye=be;be.propTypes={getTargetRef:y.a.func,haveAddFollowersPermission:y.a.bool,isPopupOpen:y.a.bool,onClick:y.a.func,removeClose:y.a.func};var Ie=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,a=e.assigneeId,n=e.agentName,o=e.photoURL,r=e.onClick,i=e.getTargetRef,l=e.removeClose,c=e.avatarSize,u=e.teamName,m=e.features,d=!a&&!t;return v.a.createElement("div",{className:L.a.agentCont,onClick:l},v.a.createElement(he,{agentName:n,getRef:i,teamName:u,isTeam:t,photoURL:o,isIconOnly:!0,isUnassigned:d,onClick:r,size:c,features:m,dataId:d?"addAgent":"ticketAssignPopup"}),v.a.createElement(ie,s()({},this.props,{needUnAssign:!d})))}}]),t}(_.Component),ke=Ie;Ie.propTypes={agentName:y.a.string,assigneeId:y.a.string,avatarSize:y.a.string,features:y.a.array,getTargetRef:y.a.func,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var Ae=a(950),Ce=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.getTargetRef,n=e.removeClose,s=e.dataId;e.massActionType;return v.a.createElement(Z.Box,{className:L.a.agentCont,shrink:!0,onClick:n},v.a.createElement(Z.Container,{onClick:t,eleRef:a},v.a.createElement(Ae.a,{icon:"newuser",text:R.f.getI18NValue("support.sla.choose.assignto"),iconSize:"14",type:"primary",dataId:s})),v.a.createElement(ie,this.props))}}]),t}(_.Component),Te=Ce;Ce.propTypes={dataId:y.a.string,getTargetRef:y.a.func,massActionType:y.a.strin,onClick:y.a.func,removeClose:y.a.func};var Ee=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,a=e.assigneeId,n=e.agentName,o=e.photoURL,r=e.onClick,i=e.getTargetRef,l=e.removeClose,c=(e.avatarSize,e.teamName),u=!a&&!t;return v.a.createElement("div",{className:L.a.agentCont,onClick:l},v.a.createElement(he,{agentName:n,teamName:c,isTeam:t,getRef:i,image:o,isIconOnly:!0,isUnassigned:u,onClick:r,size:"small"}),v.a.createElement(ie,s()({},this.props,{needUnAssign:!u})))}}]),t}(_.Component),we=Ee;Ee.propTypes={agentName:y.a.string,assigneeId:y.a.string,avatarSize:y.a.string,getTargetRef:y.a.func,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var Ne=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.getTargetRef,n=e.removeClose;return v.a.createElement("div",{className:L.a.agentCont,onClick:n},v.a.createElement("span",{className:L.a.mactionTxt,onClick:t,ref:a},v.a.createElement(Ae.a,{icon:"newuser",text:v.a.createElement(R.c,{i18NKey:"support.sla.choose.assignto"}),iconSize:"14",type:"secondary"})),v.a.createElement(ie,this.props))}}]),t}(_.Component),Oe=Ne;Ne.propTypes={getTargetRef:y.a.func,onClick:y.a.func,removeClose:y.a.func};var xe=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,a=e.assigneeId,n=e.agentName,o=e.photoURL,r=e.onClick,i=e.getTargetRef,l=e.removeClose,c=(e.avatarSize,e.teamName),u=!a&&!t;return v.a.createElement("div",{className:L.a.agentCont,onClick:l},v.a.createElement(he,{agentName:n,teamName:c,isTeam:t,getRef:i,image:o,isIconOnly:!0,isUnassigned:u,onClick:r,size:"small"}),v.a.createElement(ie,s()({},this.props,{needUnAssign:!u})))}}]),t}(_.Component),Le=xe;xe.propTypes={agentName:y.a.string,assigneeId:y.a.string,avatarSize:y.a.string,getTargetRef:y.a.func,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var Se=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.getTargetRef,n=e.removeClose,o=e.isThreeLayout;return v.a.createElement(Z.Box,{className:L.a.agentCont,shrink:!0,onClick:n},v.a.createElement(Z.Container,{onClick:t,eleRef:a},v.a.createElement(Ae.a,{icon:"newuser",text:R.f.getI18NValue("support.sla.choose.assignto"),iconSize:o?"15":"17",type:"ticketLp"})),v.a.createElement(ie,s()({},this.props,{position:"bottomRight",left:"-20"})))}}]),t}(_.Component),Pe=Se;Se.propTypes={getTargetRef:y.a.func,isThreeLayout:y.a.bool,onClick:y.a.func,removeClose:y.a.func};var Re=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.isPopupOpen,a=e.isFromBLuePrint,n=e.assigneeId,o=e.teamId,r=e.agentName,i=e.photoURL,l=e.teamName,c=e.onClick,u=e.getTargetRef,m=e.dataId,d=e.removeClose,p=!n&&!o;return v.a.createElement("div",{className:L.a.agent,onClick:d},v.a.createElement("div",{className:L.a.followerCont+"\n          "+(t?L.a.focused:"")+"\n          "+(a?L.a.bluePrintLayar:"")+"\n        ","data-id":m,onClick:c,ref:u},v.a.createElement("span",{className:L.a.ownerIcon},n||o?n&&o?v.a.createElement(K.a,{name:r,size:"medium",src:i}):n?v.a.createElement(K.a,{name:r,size:"medium",src:i}):o?v.a.createElement(V.a,{name:l,size:"medium",src:null}):"":v.a.createElement(me.a,{iconSize:"13",name:"addAgent",size:"medium"})),v.a.createElement(Z.Box,{flexible:!0},n&&o?r:n?r:o?l:R.f.getI18NValue("support.unassigned")),v.a.createElement("span",{className:L.a.dropIcon},v.a.createElement(W.TopbandFontIcon,{name:"blockDownArrow"}))),v.a.createElement(ie,s()({},this.props,{needArrow:!1,boxSize:a?"default":"xxlarge",needUnAssign:!p})))}}]),t}(_.Component),je=Re;Re.propTypes={agentName:y.a.string,assigneeId:y.a.string,dataId:y.a.string,getTargetRef:y.a.func,isFromBLuePrint:y.a.bool,isPopupOpen:y.a.bool,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var Fe=a(19),Be=a.n(Fe),De=function(e){function t(e){u()(this,t);var a=g()(this,(t.__proto__||l()(t)).call(this,e));return a.state={selectedIndex:0,defaultTab:"Agent",teamsList:[],searchStr:"",isPopupFirstTimeOpened:!1},a.keyUp=a.keyUp.bind(a),a.searchAgents=a.searchAgents.bind(a),a.searchTeams=Object(N.a)(a.searchTeams.bind(a),100,!0),a.onClick=a.onClick.bind(a),a.contentRef=a.contentRef.bind(a),a.setSelectRef=a.setSelectRef.bind(a),a.setScroll=a.setScroll.bind(a),a.setInputRef=a.setInputRef.bind(a),a.changeDefaultTab=a.changeDefaultTab.bind(a),a.getAgents=a.getAgents.bind(a),a.getTeams=a.getTeams.bind(a),a.constructTeamsList=a.constructTeamsList.bind(a),a.closeTeamagents=a.closeTeamagents.bind(a),a.getAgentsByTeam=a.getAgentsByTeam.bind(a),a}return h()(t,e),d()(t,[{key:"getAgents",value:function(){var e=this,t=this.props,a=t.getAgents,n=t.agentsList,s=t.onSearchAgents,o=this.state.isPopupFirstTimeOpened;return o||this.setState({isPopupFirstTimeOpened:!0}),o&&n.length?r.a.resolve():(this.setState({isAgentFetching:!0}),s(""),a().then(function(){e.setState({isAgentFetching:!1})}))}},{key:"searchAgents",value:function(e){var t=this;this.setState({searchStr:e});var a=this.props,n=a.onSearchAgents,s=a.getAgents;return n(e),e?(this.setState({isAgentFetching:!0}),s().then(function(){t.setState({isAgentFetching:!1})})):r.a.resolve()}},{key:"searchTeams",value:function(e){this.setState({searchStr:e});var t=this.constructTeamsList();if(e){var a=t.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())});a.length;this.setState({teamsList:a,selectedIndex:0})}else this.setState({teamsList:t,selectedIndex:0})}},{key:"getTeams",value:function(){var e=this,t=this.props,a=t.getTeamsList,n=t.depId;this.setState({isTeamsFetching:!0}),a(n).then(function(){var t=e.constructTeamsList();e.setState({teamsList:t,isTeamsFetching:!1})})}},{key:"constructTeamsList",value:function(){var e=this.props,t=e.teamsIdList,a=e.teamsObject,n=[];if(t&&t.length)for(var s=0;s<t.length;s++){var o=t[s];a[o].derivedAgents.length&&n.push(a[o])}return n}},{key:"contentRef",value:function(e){this.scrollContainerRef=e}},{key:"setSelectRef",value:function(e){this.selectItemRef=e}},{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"onClick",value:function(e){var t=this.state.defaultTab,a=this.props,n=a.togglePopup,s=a.isPopupOpen;a.disableClick||(this.setState({searchStr:"",selectedIndex:0}),"Agent"===t?!s&&this.getAgents():!s&&this.getTeams(),n(e))}},{key:"changeDefaultTab",value:function(e){this.setState({defaultTab:e}),this.setState({searchStr:"",selectedIndex:0}),"Agent"===e?this.getAgents():this.getTeams()}},{key:"keyUp",value:function(e){var t=this,a=e.keyCode,n=this.state,s=n.selectedIndex,o=n.defaultTab,r=(n.noMoreData,n.teamsList),i=(n.searchStr,this.props),l=i.onChangeAssignee,c=i.addFollower,u=i.page,m=i.closePopupOnly,d=i.agentsList,p="Agent"==o?d:r;switch(a){case 40:s===p.length-1?this.setState({selectedIndex:0},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex+1},function(){t.setScroll()});break;case 38:0===s?this.setState({selectedIndex:p.length-1},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex-1},function(){t.setScroll()});break;case 13:m(e),"followers"===u?c(p[s].id,e):l({assigneeId:"Agent"==o?p[s].id:null,teamId:"Teams"==o?p[s].id:null},e)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.scrollContainerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,s=a.offsetHeight,o=t.offsetHeight;(n<=0||s+n>o)&&(0===e?t.scrollTop=0:t.scrollTop+=n)}}},{key:"closeTeamagents",value:function(){this.setState({openTeamId:null})}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.isPopupOpen&&setTimeout(function(){a.inputRef&&a.inputRef.focus()},300),e.isPopupOpen!==this.props.isPopupOpen&&(this.closeTeamagents(),this.props.teamId?this.setState({defaultTab:"Teams",selectedIndex:0}):this.setState({defaultTab:"Agent"})),t.defaultTab!==this.state.defaultTab&&this.setState({selectedIndex:0})}},{key:"componentDidMount",value:function(){this.props.teamId&&this.setState({defaultTab:"Teams"})}},{key:"getAgentsByTeam",value:function(e){this.props.getAgentsByTeam(e),this.setState({openTeamId:e})}},{key:"render",value:function(){var e=this.props,t=e.followersList,a=e.page,n=e.agentsList;"followers"==a&&(n=n.filter(function(e){return!t.filter(function(t){return t.id===e.id}).length}));var o={changeDefaultTab:this.changeDefaultTab,closeTeamagents:this.closeTeamagents,contentRef:this.contentRef,getAgents:this.getAgents,getAgentsByTeam:this.getAgentsByTeam,keyUp:this.keyUp,onClick:this.onClick,searchAgents:this.searchAgents,searchTeams:this.searchTeams,setInputRef:this.setInputRef,setSelectRef:this.setSelectRef,agentsList:n};return"ticketDv"==a?v.a.createElement(ve,s()({},this.props,this.state,o)):"followers"==a?v.a.createElement(ye,s()({},this.props,this.state,o)):"listAssign"==a?v.a.createElement(ke,s()({},this.props,this.state,o)):"listPageMass"==a?v.a.createElement(Te,s()({},this.props,this.state,o)):"queueAssign"==a?v.a.createElement(we,s()({},this.props,this.state,o)):"queueMassAssign"==a?v.a.createElement(Oe,s()({},this.props,this.state,o)):"leftPanelList"==a?v.a.createElement(Le,s()({},this.props,this.state,o)):"leftPanelMass"==a?v.a.createElement(Pe,s()({},this.props,this.state,o)):"Form"==a?v.a.createElement(je,s()({},this.props,this.state,o)):null}}]),t}(v.a.Component);De.propTypes={addFollower:b.PropTypes.func,closePopupOnly:b.PropTypes.func,depId:b.PropTypes.string,disableClick:b.PropTypes.bool,followersList:b.PropTypes.array,getAgentsByTeam:b.PropTypes.func,getTeamsList:b.PropTypes.func,isPopupOpen:b.PropTypes.bool,onChangeAssignee:b.PropTypes.func,page:b.PropTypes.string,teamsIdList:b.PropTypes.array,teamsObject:b.PropTypes.object,togglePopup:b.PropTypes.func};t.a=Object(I.d)(Object(k.connect)(function(e,t){var a=t.deptId,n=a||Object(w.r)(e),s=e.myInfo.namePattern;return{depId:n,teamsObject:e.module.teams,activeAgentsId:e.activeAgents,agentsObject:e.module.agent,teamsIdList:Be()("departmentSpecificState."+n+".teamsList",e)||[],namePattern:s}},{getTeamsList:A.u,getAgentsByTeam:C.e}),E.a,Object(O.a)("activeConfirmedNonLightAgents"))(De)},988:function(e,t,a){"use strict";var n=a(12),s=a.n(n),o=a(9),r=a.n(o),i=a(10),l=a.n(i),c=a(13),u=a.n(c),m=a(14),d=a.n(m),p=a(0),g=a.n(p),f=a(153),h=a(990),_=a.n(h),v=function(e){function t(){return r()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return d()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"tag"},g.a.createElement("image",{xlinkHref:_.a,height:"100%",width:"100%"}))}}]),t}(g.a.Component);t.a=v},989:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyArchived.597591ca8a4e7ed77222.svg"},990:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyTag.b2752508f3c1c615c56c.svg"},991:function(e,t,a){e.exports={viewSearch:"ViewDefaultEmpty-module__viewSearch",srchTxt:"ViewDefaultEmpty-module__srchTxt",srchLink:"ViewDefaultEmpty-module__srchLink",srchImg:"ViewDefaultEmpty-module__srchImg"}},995:function(e,t,a){e.exports={item:"AgentsList-module__item",hoverItem:"AgentsList-module__hoverItem",selectedItem:"AgentsList-module__selectedItem AgentsList-module__item",text:"AgentsList-module__text common-module__dflex common-module__flexgrow",markedIcon:"AgentsList-module__markedIcon",assignName:"AgentsList-module__assignName",posrel:"AgentsList-module__posrel"}},998:function(e,t,a){e.exports={posrel:"TeamsList-module__posrel",item:"TeamsList-module__item TeamsList-module__posrel common-module__dflex common-module__alignVertical",hoverItem:"TeamsList-module__hoverItem",selectedItem:"TeamsList-module__selectedItem TeamsList-module__item TeamsList-module__posrel common-module__dflex common-module__alignVertical",teamUser:"TeamsList-module__teamUser common-module__flexshrink",assignName:"TeamsList-module__assignName common-module__dotted common-module__oflow common-module__ellipsis",text:"TeamsList-module__text common-module__dflex common-module__flexgrow",markedIcon:"TeamsList-module__markedIcon"}},999:function(e,t,a){e.exports={backDiv:"TeamsAgent-module__backDiv",backIcon:"TeamsAgent-module__backIcon",teamHead:"TeamsAgent-module__teamHead common-module__semibold common-module__ftsmooth",connectIcon:"TeamsAgent-module__connectIcon",bgconnectIcon:"TeamsAgent-module__bgconnectIcon",searchDiv:"TeamsAgent-module__searchDiv",teamName:"TeamsAgent-module__teamName common-module__dotted common-module__oflow common-module__ellipsis"}}}]);