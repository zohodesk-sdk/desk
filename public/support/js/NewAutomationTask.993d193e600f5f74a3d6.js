(window.deskappJsonp=window.deskappJsonp||[]).push([[16],{1000:function(e,t,n){e.exports={assign:"Assign-module__assign common-module__offSelection",arrow:"Assign-module__arrow",agent:"Assign-module__agent",pointer:"Assign-module__pointer",agentname:"Assign-module__agentname",name:"Assign-module__name common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",teamName:"Assign-module__teamName",spnBrckt:"Assign-module__spnBrckt common-module__ftsmooth",groupShareTxt:"Assign-module__groupShareTxt",circle:"Assign-module__circle",dot1:"Assign-module__dot1",dot2:"Assign-module__dot2",dot3:"Assign-module__dot3",lftPanTeam:"Assign-module__lftPanTeam common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis"}},1125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=r(n(0)),o=r(n(1)),i=r(n(1126));function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.type,a=e.buttonPosition,o=[];return t.forEach(function(e){var t=s.default.createElement("span",{className:i.default[n]},e);o.push(t)}),s.default.createElement("div",{className:i.default.buttonGroup+" "+i.default[n]},s.default.createElement("div",{className:i.default["align"+a]},t))}}]),t}();t.default=l,l.defaultProps={buttonPosition:"left",children:null},l.propTypes={buttonPosition:o.default.oneOf(["left","right","center"]),children:o.default.node,type:o.default.string.isRequired}},1126:function(e,t,n){e.exports={buttonGroup:"Buttongroup-module__buttonGroup common-module__cboth",footer:"Buttongroup-module__footer",header:"Buttongroup-module__header",tab:"Buttongroup-module__tab",alignleft:"Buttongroup-module__alignleft common-module__fleft",alignright:"Buttongroup-module__alignright common-module__fright",aligncenter:"Buttongroup-module__aligncenter common-module__tcenter"}},1219:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(2),s=n.n(a),o=n(15),i=n(6),r=n(7),l=n(4),c=n(39);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,u=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5],n>1?c.f:c.e),d=l.e;return{types:Object(i.m)(u),callAPI:function(i){var l="/api/v1/agents?searchStr="+t+"&from="+n+"&limit="+a+"&status="+c.a+"&isConfirmed=true&departmentId="+e;return Object(o.a)(l,!1,{orgId:i.currentOrgId}).get().then(function(n){return 204==n.responseStatus?{}:""===t?s()(Object(r.normalize)(n.data,Object(r.arrayOf)(Object(r.schema)("agent"))),{departmentId:e,status:d}):{result:n.data}})}}}},1333:function(e,t,n){"use strict";n.d(t,"d",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return g}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return h});var a=n(5),s=n.n(a),o=n(2),i=n.n(o),r=n(15),l=n(6),c=n(17),u=n(3),d=n(7);function m(e){return{types:Object(l.m)("AUTOMATION_TASKS_CREATE"),callAPI:function(t){var n=Object(c.r)(t);return Object(r.a)("/api/v1/automationTasks",!1,{orgId:t.currentOrgId}).post(null,e).then(function(e){return{res:e,deptId:n,moduleName:u.L.AUTOMATIONTASKS_L}})}}}function p(e){return{types:Object(l.m)("AUTOMATION_TASK"),callAPI:function(t){var n=Object(c.r)(t);return Object(r.a)("/api/v1/automationTasks/"+e,!1,{orgId:t.currentOrgId}).get().then(function(t){return i()({},{entities:{automationtasks:s()({},e,t)},result:[e],deptId:n,moduleName:u.L.AUTOMATIONTASKS_L})})}}}function g(e,t){return{types:Object(l.m)("AUTOMATION_TASKS_UPDATE"),callAPI:function(n){var a=Object(c.r)(n);return Object(r.a)("/api/v1/automationTasks/"+e,!1,{orgId:n.currentOrgId}).put(null,t).then(function(e){return{res:e,id:e.id,deptId:a,moduleName:u.L.AUTOMATIONTASKS_L}})}}}function f(e){return{types:Object(l.m)("AUTOMATION_TASKS_DELETE"),callAPI:function(t,n){var a=Object(c.r)(t);return Object(r.a)("/api/v1/automationTasks/"+e,!1,{orgId:t.currentOrgId}).del().then(function(t){return{moduleName:u.L.AUTOMATIONTASKS_L,id:e,deptId:a}})}}}function h(){return{types:Object(l.m)("AUTOMATION_TASKS"),callAPI:function(e){var t=Object(c.r)(e);return Object(r.a)("/api/v1/automationTasks?departmentId="+t,!1,{orgId:e.currentOrgId}).get().then(function(e){return i()({},Object(d.normalize)(204!==e.responseStatus?e:[],Object(d.arrayOf)(Object(d.schema)(u.L.AUTOMATIONTASKS_L))),{deptId:t,moduleName:u.L.AUTOMATIONTASKS_L})})}}}},1513:function(e,t,n){e.exports={container:"NewAutomationTask-module__container",inputContent1:"NewAutomationTask-module__inputContent1",inputContent:"NewAutomationTask-module__inputContent",inputContent2:"NewAutomationTask-module__inputContent2",tags:"NewAutomationTask-module__tags",check:"NewAutomationTask-module__check",text:"NewAutomationTask-module__text",message:"NewAutomationTask-module__message",textarea:"NewAutomationTask-module__textarea",role:"NewAutomationTask-module__role",date:"NewAutomationTask-module__date",option:"NewAutomationTask-module__option"}},173:function(e,t,n){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},458:function(e,t,n){"use strict";var a=n(12),s=n.n(a),o=n(9),i=n.n(o),r=n(10),l=n.n(r),c=n(13),u=n.n(c),d=n(14),m=n.n(d),p=n(0),g=n.n(p),f=n(173),h=n.n(f),v=n(16),_=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(v.Container,{alignBox:"row",align:"both",className:h.a.container},g.a.createElement(v.Box,{className:h.a.dot}),g.a.createElement(v.Box,{className:h.a.dot}),g.a.createElement(v.Box,{className:h.a.dot}),g.a.createElement(v.Box,{className:h.a.dot}),g.a.createElement(v.Box,{className:h.a.dot}),g.a.createElement(v.Box,{className:h.a.dot}))}}]),t}(g.a.Component);t.a=_},585:function(e,t,n){"use strict";n.r(t);var a=n(5),s=n.n(a),o=n(932),i=n.n(o),r=n(12),l=n.n(r),c=n(9),u=n.n(c),d=n(10),m=n.n(d),p=n(13),g=n.n(p),f=n(14),h=n.n(f),v=n(0),_=n.n(v),b=(n(1),n(26)),y=n(24),I=n(17),k=n(1219),C=n(1333),O=n(110),T=n(1513),A=n.n(T),S=n(151),x=n.n(S),E=n(73),N=n.n(E),P=n(99),L=n.n(P),w=n(235),R=n.n(w),j=n(949),D=n.n(j),B=n(947),F=n.n(B),M=n(1125),z=n.n(M),U=n(986),V=(n(94),function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.state={subject:null,assigneeId:null,teamId:null,statusId:null,priorityId:null,description:null,dueDateInMins:null,assignToTicketOwner:!1,duration:"minutes",durationTime:null,page:"Form",agentName:null,photoURL:null,teamName:null,isPopupOpen:!1,subjectCheck:!1,assigneeCheck:!1,dependUpOnDuration:[],statusOption:[{text:"Not Started",id:1},{text:"Deferred",id:2},{text:"In Progress",id:3},{text:"Completed1",id:4},{text:"Waiting on someone else",id:5},{text:"Completed2",id:6}],priorityOption:[{text:"High",id:1},{text:"Highest",id:2},{text:"Low",id:3},{text:"Lowest",id:4},{text:"Normal",id:5}],typeOfDuration:[{text:"Minutes",id:"minutes"},{text:"Hours",id:"hours"},{text:"Days",id:"days"},{text:"Months",id:"months"}]},n.statusChange=n.statusChange.bind(n),n.priorityChange=n.priorityChange.bind(n),n.popupOpenChange=n.popupOpenChange.bind(n),n.setSubject=n.setSubject.bind(n),n.toggleCheckBox=n.toggleCheckBox.bind(n),n.durationCalculator=n.durationCalculator.bind(n),n.setDurationTime=n.setDurationTime.bind(n),n.setDuration=n.setDuration.bind(n),n.setDescription=n.setDescription.bind(n),n.addNewTask=n.addNewTask.bind(n),n.assignId=n.assignId.bind(n),n}return h()(t,e),m()(t,[{key:"setSubject",value:function(e){this.setState({subject:e})}},{key:"statusChange",value:function(e){this.setState({statusId:e})}},{key:"addNewTask",value:function(e){var t=this,n=this.state,a=n.subject,s=n.assigneeId,o=n.teamId,i=n.statusId,r=n.priorityId,l=n.dueDateInMins,c=n.assignToTicketOwner,u=n.description,d=n.priorityOption,m=n.statusOption,p=n.subjectCheck,g=n.assigneeCheck;if(null==a||""==a.trim()?(p=!0,a=null!==a?a.trim():null):(p=!1,a=a.trim()),g=null==s&&null==o,this.setState({subjectCheck:p,assigneeCheck:g,subject:a}),!p&&!g){var f=d.filter(function(e){return e.id==r})[0].text,h=m.filter(function(e){return e.id==i})[0].text;null==u&&(u="");var v=this.props.deptId;this.props.newTaskCreate({assignToTicketOwner:c,subject:a,departmentId:v,assigneeId:s,teamId:o,priority:f,status:h,description:u,dueDateInMins:l}).then(function(n){"AUTOMATION_TASKS_CREATE_SUCCESS"===n.type&&t.props.push({pathname:e})})}}},{key:"priorityChange",value:function(e){this.setState({priorityId:e})}},{key:"popupOpenChange",value:function(){var e=!this.state.isPopupOpen;this.setState({isPopupOpen:e})}},{key:"toggleCheckBox",value:function(e){this.setState({assignToTicketOwner:e})}},{key:"setDuration",value:function(e){var t="minutes"==e||null==e?this.durationCalculator(5,60):"hours"==e?this.durationCalculator(1,24):"days"==e?this.durationCalculator(1,31):this.durationCalculator(1,13);this.setState({duration:e,dependUpOnDuration:t,durationTime:null,dueDateInMins:null})}},{key:"setDurationTime",value:function(e){var t="months"==this.state.duration?30*e*24*60:"days"==this.state.duration?24*e*60:"hours"==this.state.duration?60*e:e;this.setState({dueDateInMins:t,durationTime:e})}},{key:"durationCalculator",value:function(e,t){for(var n=e,a=[];e<t;e+=n)a.push({text:e,id:e});return a}},{key:"setDescription",value:function(e){this.setState({description:e})}},{key:"assignId",value:function(e){var t={};if(null!==e.assigneeId){var n=(t=this.props.agentsDetails[e.assigneeId]).id,a=t.firstName+" "+t.lastName,s=t.photoURL;this.setState({assigneeId:n,agentName:a,page:"listAssign",photoURL:s,teamId:null})}else{var o=(t=this.props.teamsDetails[e.teamId]).id,i=t.name;this.setState({assigneeId:null,agentName:null,page:"",teamName:i,teamId:o})}}},{key:"componentWillMount",value:function(){this.props.getTasksListAPI().then(),this.props.getTeamsList().then(),this.props.getDepartmentAgents(this.props.deptId,"",0,50,!1,[]).then()}},{key:"render",value:function(){var e=this,t=this.state,n=t.subject,a=t.assigneeId,o=t.teamId,r=t.statusId,l=t.priorityId,c=t.assignToTicketOwner,u=t.description,d=t.page,m=t.isPopupOpen,p=t.duration,g=t.durationTime,f=t.agentName,h=t.photoURL,v=t.teamName,b=t.dependUpOnDuration,y=t.statusOption,I=t.priorityOption,k=t.typeOfDuration,C=t.subjectCheck,T=t.assigneeCheck;0==b.length&&(b=this.durationCalculator(5,60));var S;S=c?"Assign To (If ticket is unassigned)":"Assign To";var E=this.props.paramMap,P=E.orgName,w=E.deptName,j=E.depOrModuleName,B=this.props.subModule,M="/"+P+"/"+w+Object(O.d)(j,this.props.setupModuleName)[B].url,V="workflows-tasks"==this.props.subModule?"Workflow":"macros-tasks"==this.props.subModule?"Macro":"Supervise";return _.a.createElement("div",{className:A.a.container},_.a.createElement("div",{className:A.a.inputContent},_.a.createElement(x.a,{text:"Subject",id:"labe17",size:"medium",type:"title",palette:"mandatory"}),_.a.createElement(L.a,{maxLength:"250",value:n,onChange:this.setSubject,size:"medium"}),C?_.a.createElement(x.a,{text:"Subject cannot be blank",id:"labe17",size:"medium",type:"title",palette:"mandatory"}):null),_.a.createElement("div",{className:A.a.inputContent1},_.a.createElement(x.a,{text:"Status",id:"labe17",size:"medium",type:"title",palette:"mandatory"}),_.a.createElement(D.a,{options:y,onChange:this.statusChange,selectedValue:r||this.statusChange(1),needSearch:!0})),_.a.createElement("div",{className:A.a.inputContent1},_.a.createElement(x.a,{text:"Priority",id:"labe17",size:"medium",type:"title",palette:"primary"}),_.a.createElement(D.a,{options:I,onChange:this.priorityChange,selectedValue:l||this.priorityChange(1),needSearch:!0})),_.a.createElement("div",{className:A.a.inputContent1},_.a.createElement(x.a,{text:"Assign Ticket Owner as Task Owner",id:"labe17",size:"medium",type:"title",palette:"primary"}),_.a.createElement("div",{className:A.a.check},_.a.createElement(F.a,{onChange:function(t){return e.toggleCheckBox(t)},checked:c}))),_.a.createElement("div",{className:A.a.inputContent1},_.a.createElement(x.a,{text:S,id:"labe17",size:"medium",type:"title",palette:"mandatory"}),_.a.createElement(U.a,s()({assigneeId:a,isPopupOpen:m,agentName:f,photoURL:h,removeClose:function(){},togglePopup:function(){return alert("tp")},onChangeAssignee:function(t){return e.assignId(t)},closePopupOnly:this.popupOpenChange,teamId:o,teamName:v,page:d,defaultTab:"Agent",noMoreData:!1,allAgentsAreCached:!0,from:"1",limit:"50",searchList:[],agentsList:i()(this.props.agentsDetails),teamsList:i()(this.props.teamsDetails),searchStr:"",selectedIndex:0,onChange:this.popupOpenChange,onClick:this.popupOpenChange,changeDefaultTab:function(){},getAgents:function(){},keyUp:function(){},setInputRef:function(){},searchAgents:function(){},contentRef:function(){},scrollContainerRef:function(){},setSelectRef:function(){}},"page","Form")),T?_.a.createElement(x.a,{text:"Assigned To cannot be blank",id:"labe17",size:"medium",type:"title",palette:"mandatory"}):null),_.a.createElement("div",{className:A.a.text},_.a.createElement(x.a,{text:"Due Date",id:"labe15",size:"medium",type:"title",palette:"mandatory"}),_.a.createElement("div",{className:A.a.date},"After",_.a.createElement("div",{className:A.a.option},_.a.createElement(D.a,{options:b,selectedValue:g||this.setDurationTime(b[0].id),onChange:function(t){return e.setDurationTime(t)}})),_.a.createElement("div",{className:A.a.option},_.a.createElement(D.a,{options:k,selectedValue:p,onChange:function(t){return e.setDuration(t)}})),"from ",V," trigger time")),_.a.createElement("div",{className:A.a.text},_.a.createElement(x.a,{text:"Description",id:"labe15",size:"medium",type:"title",palette:"primary"}),_.a.createElement("div",{className:A.a.textarea},_.a.createElement(R.a,{placeHolder:"TextArea",id:"textarea",maxLength:"100",text:u,onChange:function(t){return e.setDescription(t)},animated:!0}))),_.a.createElement(z.a,{type:"footer",buttonPosition:"left"},_.a.createElement(N.a,{text:"Submit",onClick:function(){return e.addNewTask(M)},palette:"PrimaryFilled"}),_.a.createElement(N.a,{text:"Cancel",palette:"Secondary",onClick:function(){return e.props.push({pathname:M})}})))}}]),t}(_.a.Component));t.default=Object(b.connect)(function(e){return{paramMap:e.routing.paramMap,setupModuleName:Object(O.c)(e),agentsDetails:e.module.agent||{},teamsDetails:e.module.teams||{},deptId:Object(I.r)(e)}},{push:y.K,newTaskCreate:C.d,getTasksListAPI:C.c,getDepartmentAgents:k.a,getTeamsList:y.u})(V)},946:function(e,t,n){e.exports={agentCont:"agentPopup-module__agentCont",assignLayout:"agentPopup-module__assignLayout",teamAgentLayout:"agentPopup-module__teamAgentLayout",mactionTxt:"agentPopup-module__mactionTxt",statusItem:"agentPopup-module__statusItem",pointer:"agentPopup-module__pointer",agentSearch:"agentPopup-module__agentSearch",unAssign:"agentPopup-module__unAssign",unAsgnTxt:"agentPopup-module__unAsgnTxt",unAssignIcn:"agentPopup-module__unAssignIcn",popupCont:"agentPopup-module__popupCont",followerCont:"agentPopup-module__followerCont common-module__dflex common-module__flexrow common-module__alignVertical",dropIcon:"agentPopup-module__dropIcon",followText:"agentPopup-module__followText common-module__offSelection",focused:"agentPopup-module__focused",ownerIcon:"agentPopup-module__ownerIcon",mactionCheck:"agentPopup-module__mactionCheck",notAllow:"agentPopup-module__notAllow",agent:"agentPopup-module__agent",bluePrintLayar:"agentPopup-module__bluePrintLayar",none:"agentPopup-module__none",massAct:"agentPopup-module__massAct",empty:"agentPopup-module__empty",agentTxt:"agentPopup-module__agentTxt",agentTxtActive:"agentPopup-module__agentTxtActive"}},947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=l(n(0)),o=l(n(1)),i=l(n(953)),r=l(n(151));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,a=t.checked;n&&n(!a,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.checked,o=e.disabled,l=e.palette,c=e.text,u=e.labelPalette,d=e.active,m=e.labelSize,p=e.getRef,g=e.dataId,f=d?i.default[l+"_active"]:"",h=o?i.default.disabled:i.default.pointer;return s.default.createElement("span",{className:i.default.container+" "+h+" "+(c?i.default.layout:i.default.basic)+" "},s.default.createElement("input",{type:"checkbox",className:i.default.input+" "+(a?i.default.checked:""),name:n,checked:a,disabled:o,ref:p}),s.default.createElement("label",{className:i.default["label_"+l]+" "+f+" "+(c?i.default.layoutshrink:""),onClick:this.onChange,"data-id":g},s.default.createElement("span",null)),c&&s.default.createElement("span",{className:i.default.text},s.default.createElement(r.default,{text:c,palette:u,id:t,size:m,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=c,c.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},c.propTypes={active:o.default.bool,checked:o.default.bool,dataId:o.default.string,disabled:o.default.bool,getRef:o.default.func,id:o.default.string.isRequired,labelPalette:o.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:o.default.oneOf(["small","medium","large"]),name:o.default.string,onChange:o.default.func,palette:o.default.oneOf(["primary","danger"]),text:o.default.string},c.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(961);Object.defineProperty(t,"licensePermissionCheckHOC",{enumerable:!0,get:function(){return a.licensePermissionCheckHOC}}),Object.defineProperty(t,"urlLicensePermissionCheckHOC",{enumerable:!0,get:function(){return a.urlLicensePermissionCheckHOC}});var s=n(963);Object.defineProperty(t,"RestrictionValidator",{enumerable:!0,get:function(){return(e=s,e&&e.__esModule?e:{default:e}).default;var e}});var o=n(955);Object.defineProperty(t,"getRestriction",{enumerable:!0,get:function(){return o.getRestriction}})},949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),o=b(s),i=b(n(1)),r=b(n(80)),l=b(n(72)),c=b(n(234)),u=b(n(99)),d=n(202),m=b(d),p=b(n(236)),g=b(n(237)),f=b(n(957)),h=b(n(63)),v=n(358),_=n(201);function b(e){return e&&e.__esModule?e:{default:e}}var y=[],I=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getFilterSuggestions=(0,v.makeGetMultiSelectFilterSuggestions)(),n.formatOptions=(0,v.makeFormatOptions)(),n.getSelectedValue=(0,v.makeGetSelectedValueText)(),n.selectedFormatOptions={};var a=e.selectedValue,s=e.searchDebounceTime,o=void 0===s?500:s,i=e.isDefaultSelectValue,r=n.handleFormatOptions(n.props),l=r.allOptions,c=r.normalizedAllOptions,u=r.optionsOrder,d=r.normalizedFormatOptions,m=n.getSelectedValue({optionsOrder:u,selectedValue:a,normalizedFormatOptions:d,selectedFormatOptions:n.selectedFormatOptions,isDefaultSelectValue:i}),p=m.selected,g=m.hoverIndex,f=m.selectedValueDetails,h=m.selectedId;m.isSelfValueChanged;return n.state={selected:p,options:l,optionsNormalize:c,hoverIndex:g,searchStr:"",isFetchingOptions:!1,selectedId:h,selectedValueIndex:g},n.optionsOrder=u,n._isMounted=!1,n.normalizedFormatOptions=d,n.allSelectedOptions=f,n.handleChange=n.handleChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleFilterSuggestions=n.handleFilterSuggestions.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleFetchOptions=n.handleFetchOptions.bind(n),n.handleGetNextOptions=n.handleGetNextOptions.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleSearchOptions=(0,_.debounce)(n.handleSearchOptions.bind(n),o),n.suggestionContainerRef=n.suggestionContainerRef.bind(n),n.suggestionItemRef=n.suggestionItemRef.bind(n),n.searchInputRef=n.searchInputRef.bind(n),n.valueInputRef=n.valueInputRef.bind(n),n.togglePopup=n.togglePopup.bind(n),n.handleSelectFocus=n.handleSelectFocus.bind(n),n.handleFormatOptions=n.handleFormatOptions.bind(n),n.handlePopupClose=n.handlePopupClose.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,n=e.isDefaultSelectValue,a=this.state.hoverIndex,s=this.handleFormatOptions(e),o=s.allOptions,i=s.normalizedAllOptions,r=s.optionsOrder,l=s.normalizedFormatOptions,c=this.selectedFormatOptions,u=this.getSelectedValue({optionsOrder:r,selectedValue:t,normalizedFormatOptions:l,selectedFormatOptions:c,isDefaultSelectValue:n}),d=u.selected,m=u.hoverIndex,p=u.selectedValueDetails,g=u.selectedId;u.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(c,p),this.normalizedFormatOptions=l,this.optionsOrder=r,this.setState({options:o,optionsNormalize:i,selected:d,hoverIndex:a||m,selectedId:g,selectedValueIndex:m})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.suggestionContainer,a=this.optionsOrder,s=this.isSelectWithAvatarComponent,o=this.state,i=o.hoverIndex,r=o.searchStr,l=o.selectedValueIndex,c=this.props,u=c.needLocalSearch,d=c.onDropBoxClose,m=c.onDropBoxOpen,p=c.needSearch,g=c.onSearch,f=c.isPopupOpen,h=this["suggestion_"+((0,_.getIsEmptyValue)(a[i])?"":a[i])];f&&(0,_.scrollTo)(n,h),e.isPopupOpen!==f&&(f?(m&&this.handleFetchOptions(m,r),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(p&&this.valueInput&&this.valueInput.focus(),d&&d(),g&&g(""),this.setState({searchStr:s?r:"",hoverIndex:l})));var v=this.props,b=v.isNextOptions,y=v.getNextOptions,I=(f?this.handleFilterSuggestions():[]).length;f&&I<=5&&b&&y&&!u&&this.handleFetchOptions(y,r)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,n=e.valueField,a=e.textField;return this.formatOptions({options:t,valueField:n,textField:a})}},{key:"handleChange",value:function(e,t,n,a){a&&a.preventDefault&&a.preventDefault();var s=this.props,o=s.onChange,i=s.isReadOnly,r=this.state.optionsNormalize;!i&&o&&o(e,r[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(a)}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.onChange,a=t.isPopupOpen,s=this.state,o=s.hoverIndex,i=s.optionsNormalize,r=this.handleFilterSuggestions(),l=e.keyCode;if(a&&(38===l||40===l)&&e.preventDefault&&e.preventDefault(),38===l&&a&&r.length)0===o||(o-=1),this.setState({hoverIndex:o});else if(40===l&&a&&r.length)o===r.length-1||(o===r.length-3&&this.handleGetNextOptions(),o+=1),this.setState({hoverIndex:o});else if(13===l){var c=(r[o]||{}).id;a&&!(0,_.getIsEmptyValue)(c)&&n&&n(c,i[c]),a?!(0,_.getIsEmptyValue)(c)&&this.togglePopup(e):this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,n=this.state.searchStr,a=void 0===n?"":n,s=this.props.onSearch,o=a.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?o&&s&&t.handleSearchOptions():s&&t.handleFetchOptions(s,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,n=this.optionsOrder.indexOf(e);t!==n&&this.setState({hoverIndex:n})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,n=e.excludeOptions,a=void 0===n?y:n,s=e.needSearch,o=this.state,i=o.options,r=void 0===i?y:i,l=o.searchStr;return s&&l&&l.trim().length||a&&a.length?this.getFilterSuggestions({options:r,selectedOptions:a,searchStr:l,needSearch:t}).suggestions:r}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.isFetchingOptions,s=void 0!==a&&a,o=this._isMounted;if(!s&&e){this.setState({isFetchingOptions:!0});try{return e(n).then(function(){o&&t.setState({isFetchingOptions:!1})},function(){o&&t.setState({isFetchingOptions:!1})})}catch(e){o&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,n=e.getNextOptions,a=this.state.searchStr;t&&n&&this.handleFetchOptions(n,a)}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup,a=t.isReadOnly,s=t.defaultDropBoxPosition;!a&&n(e,s?s+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(e){var t=(e||{}).target;t&&t.setSelectionRange(t,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"render",value:function(){var e=this.props,t=e.needSearch,n=e.dropBoxSize,a=e.emptyMessage,s=e.searchEmptyMessage,i=e.needBorder,r=e.needSelectDownIcon,v=e.position,_=e.defaultDropBoxPosition,b=e.getTargetRef,y=e.getContainerRef,I=e.isPopupOpen,k=e.removeClose,C=e.isPopupReady,O=e.animationStyle,T=e.textBoxSize,A=e.textBoxVariant,S=e.searchBoxSize,x=e.searchBoxPlaceHolder,E=e.maxLength,N=e.isDisabled,P=e.title,L=e.size,w=e.placeHolder,R=e.className,j=e.portalId,D=e.isReadOnly,B=e.dataId,F=this.state,M=F.hoverIndex,z=F.selected,U=F.searchStr,V=F.isFetchingOptions,H=F.selectedId,G=F.options,K=this.handleFilterSuggestions();return o.default.createElement("div",{className:f.default.container+" "+f.default["box_"+L]+" ","data-title":N?P:""},o.default.createElement("div",{className:""+(R||""),onClick:N||D?null:this.togglePopup,ref:b},r?o.default.createElement(c.default,{isDisabled:N,iconRotated:I,inputRef:this.valueInputRef,maxLength:E,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,isReadOnly:!0,size:T,value:z,variant:A,needReadOnlyStyle:!!D,dataId:B,isClickable:!D&&!N,className:D||N?"":f.default.input,needEffect:!D},o.default.createElement("div",{className:f.default.arrowIcon,"data-id":B+"_downIcon"},o.default.createElement(h.default,{name:"blockDownArrow",size:"8"}))):o.default.createElement(u.default,{disabled:N,inputRef:this.valueInputRef,maxLength:E,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:w,readOnly:!0,size:T,value:z,variant:A,needReadOnlyStyle:!!D,dataId:B,isClickable:!D&&!N})),D||N||!I?null:o.default.createElement(l.default,{animationStyle:O,boxPosition:v||_+"Center",getRef:y,isActive:C,isAnimate:!0,isArrow:!1,onClick:k,portalId:j,dataIdContainer:B+"_suggestions"},o.default.createElement(m.default,{className:f.default.box,onScroll:this.handleScroll},t?o.default.createElement(d.CardHeader,null,o.default.createElement("div",{className:f.default.search+" "+f.default[L]},o.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:E,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:x,size:S,value:U,onClear:this.handleClearSearch,dataIdSearchBox:B+"_searchBox"}))):null,o.default.createElement(d.CardContent,{className:n?f.default[n]:"",eleRef:this.suggestionContainerRef,dataId:B+"_Options"},K.length?o.default.createElement(p.default,{activeId:H,suggestions:K,getRef:this.suggestionItemRef,hoverOption:M,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):o.default.createElement(g.default,{emptyMessage:a,isLoading:V,options:G,searchEmptyMessage:s,searchString:U,suggestions:K,dataIdLoading:B+"_loading",dataIdSrchEmptyMsg:B+"_srchEmptyMsg",dataIdNoOptnsMsg:B+"_noOptnsMsg"})))))}}]),t}();I.propTypes={animationStyle:i.default.string,className:i.default.string,closePopupOnly:i.default.func,dataId:i.default.string,defaultDropBoxPosition:i.default.oneOf(["bottom","top","left","right"]),dropBoxSize:i.default.oneOf(["small","medium","large"]),emptyMessage:i.default.string,excludeOptions:i.default.array,getContainerRef:i.default.func,getNextOptions:i.default.func,getRef:i.default.func,getTargetRef:i.default.func,isDefaultSelectValue:i.default.bool,isDisabled:i.default.bool,isNextOptions:i.default.bool,isPopupOpen:i.default.bool,isPopupReady:i.default.bool,isReadOnly:i.default.bool,maxLength:i.default.string,needBorder:i.default.bool,needLocalSearch:i.default.bool,needSearch:i.default.bool,needSelectDownIcon:i.default.bool,onChange:i.default.func.isRequired,onDropBoxClose:i.default.func,onDropBoxOpen:i.default.func,onSearch:i.default.func,options:i.default.oneOfType([i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])),i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])}))]).isRequired,placeHolder:i.default.string,portalId:i.default.string,position:i.default.string,removeClose:i.default.func,searchBoxPlaceHolder:i.default.string,searchBoxSize:i.default.string,searchDebounceTime:i.default.number,searchEmptyMessage:i.default.string,selectedValue:i.default.oneOfType([i.default.oneOfType([i.default.string,i.default.number]),i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])})]),size:i.default.oneOf(["small","medium"]),textBoxSize:i.default.string,textBoxVariant:i.default.string,textField:i.default.string,title:i.default.string,togglePopup:i.default.func,valueField:i.default.string},I.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},I.defaultProps={animationStyle:"bounce",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",dataId:"selectComponent",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},I.displayName="Select";var k=(0,r.default)(I);k.propTypes=I.propTypes,k.defaultProps=I.defaultProps,t.default=k},950:function(e,t,n){"use strict";var a=n(12),s=n.n(a),o=n(9),i=n.n(o),r=n(10),l=n.n(r),c=n(13),u=n.n(c),d=n(14),m=n.n(d),p=n(0),g=n.n(p),f=n(1),h=n.n(f),v=n(965),_=n.n(v),b=n(30),y=n(16),I=n(947),k=n.n(I),C=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.iconSize,a=e.text,s=e.count,o=e.onClick,i=e.isAllSelected,r=e.needCheckBox,l=e.label,c=e.dataId,u=e.type,d=l||a;return g.a.createElement(g.a.Fragment,null,g.a.createElement(y.ResponsiveBox,{isHiddenSizes:["sm","md","lg","xl"],className:("ticketLp"==u?_.a.ticketLp:"")+" "+_.a.item,onClick:o,shrink:!0},g.a.createElement(y.Container,{alignBox:"row",align:"vertical"},r?g.a.createElement(y.Box,{className:_.a.check},g.a.createElement(k.a,{checked:i})):t?g.a.createElement(y.Box,{className:_.a.massIcon+" "+("ticketLp"!==u?_.a.Hiddenicon:"")},"spam"==t||"geometry"==t?g.a.createElement(b.CommonFontIcon,{name:t,size:n,iconClass:"ticketLp"==u?_.a.ticketLpicon:""}):g.a.createElement(b.TopbandFontIcon,{name:t,size:n,hoverColor:"delete2"==t?"danger":"",iconClass:"ticketLp"==u?_.a.ticketLpicon:""})):null,s?g.a.createElement(y.Box,{className:_.a.massCount+" ","data-id":c+"Count"},"(",g.a.createElement("span",{className:""+(r?_.a.danger:"")},s),")"):null)),g.a.createElement(y.ResponsiveBox,{shrink:!0,isHiddenSizes:["xs"],className:("ticketLp"==u?_.a.ticketLp:"")+" "+_.a.item,onClick:o},g.a.createElement(y.Container,{alignBox:"row",className:r?_.a.checkMassItem:_.a.massItem,"data-title":d,dataId:c,align:"vertical"},"secondary"==u?g.a.createElement(g.a.Fragment,null,a?g.a.createElement(y.Box,{className:_.a.massLabel,dataId:(c||"")+"Label"},a):null,s?g.a.createElement(y.Box,{className:_.a.massCount+" "+(r?_.a.danger:_.a.dark)+" ",dataId:(c||"")+"Count"},s):null):g.a.createElement(g.a.Fragment,null,r?g.a.createElement(y.Box,{className:_.a.check},g.a.createElement(k.a,{checked:i})):t?g.a.createElement(y.Box,{className:_.a.massIcon+" "},"spam"==t||"geometry"==t?g.a.createElement(b.CommonFontIcon,{name:t,size:n,iconClass:"ticketLp"==u?_.a.ticketLpicon:""}):g.a.createElement(b.TopbandFontIcon,{name:t,size:n,hoverColor:"delete2"==t?"danger":"",iconClass:"ticketLp"==u?_.a.ticketLpicon:""})):null,a?g.a.createElement(y.Box,{shrink:!0,adjust:!0,className:_.a.massLabel,dataId:(c||"")+"Label"},a):null,s?g.a.createElement(y.Box,{className:_.a.massCount+" "+(r?_.a.danger:_.a.dark)+" ",dataId:(c||"")+"Count"},s):null))))}}]),t}(g.a.Component);t.a=C,C.propTypes={count:h.a.number,dataId:h.a.string,icon:h.a.string,iconSize:h.a.string,isAllSelected:h.a.bool,label:h.a.string,needCheckBox:h.a.bool,onClick:h.a.func,text:h.a.string,type:h.a.oneOf(["primary","secondary","ticketLp"])}},953:function(e,t,n){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRestriction=t.getRestrictionObj=void 0;var a,s=n(964),o=n(19),i=(a=o)&&a.__esModule?a:{default:a};var r=t.getRestrictionObj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],a=e.length,o={isShow:!0,isReadOnly:!1},r=s.restrictionRules[t];if(e.length)for(var l=0;l<a;l++)if(void 0!==r[e[l]][n]){var c=r[e[l]][n];if(!c[0]){o.isReadOnly=null!=c[1]&&Boolean(c[1]),o.isShow=null!=c[0]&&Boolean(c[0]);break}c[1]&&(o.isReadOnly=null==c[1]||Boolean(c[1]),o.isShow=null==c[0]||Boolean(c[0]),o.readOnlyMessage=c[1]?(0,i.default)(t+"["+e[l]+"]["+n+"]",s.lockMessages):"")}return o};t.getRestriction=function(e,t,n){return r(e,t,n)}},956:function(e,t,n){"use strict";n.d(t,"i",function(){return m}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"j",function(){return f}),n.d(t,"h",function(){return h}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return _}),n.d(t,"a",function(){return b}),n.d(t,"k",function(){return I}),n.d(t,"d",function(){return C}),n.d(t,"f",function(){return O}),n.d(t,"l",function(){return T});n(20);var a=n(2),s=n.n(a),o=n(15),i=n(6),r=n(7),l=n(17),c=n(46),u=n(3),d=n(39);function m(e){return{types:Object(i.m)("AGENTS_COUNT"),callAPI:function(t){var n=Object(l.r)(t);return Object(o.a)("/api/v1/agentsTicketsCount?"+Object(c.a)(t)+"&agentIds="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return 204!==e.responseStatus?(e.data=e.data.map(function(e){return s()({},e,{id:e.agentId})}),{countData:e.data,deptId:n}):{}})}}}function p(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{types:Object(i.m)(u.L.AGENT),callAPI:function(i){return Object(o.a)("/api/v1/agents?"+(e&&"allDepartment"!==e?"departmentId="+e:"")+"&from="+t+"&limit="+n+"&status=ACTIVE&isConfirmed="+a,!1,{orgId:i.currentOrgId}).get().then(function(t){if(204!==t.responseStatus){var a=t.data.length<n,o=Object(r.normalize)(t.data,Object(r.arrayOf)(Object(r.schema)(u.L.AGENT_L)));return s()(o,{noMoreData:a,depId:e})}return{entities:{noMoreData:!0},result:[]}})}}}function g(e,t){return{types:Object(i.m)(u.L.AGENT),callAPI:function(n){return Object(o.a)("/api/v1/agents/"+e,!1,{orgId:n.currentOrgId}).get().then(function(e){var n=Object(r.normalize)(e,Object(r.schema)(u.L.AGENT_L));return s()(n,{depId:t})})}}}function f(e,t,n){return{types:Object(i.m)("AGENT_SEARCH"),callAPI:function(a){return Object(o.a)("/api/v1/agents?searchStr="+e+"&from="+t+"&limit="+n,!1,{orgId:a.currentOrgId}).get().then(function(e){if(204!==e.responseStatus){var a=e.data.length<n,o=Object(r.normalize)(e.data,Object(r.arrayOf)(Object(r.schema)(u.L.AGENT_L)));return s()(o,{noMoreData:a})}return 1===t?{entities:{noMoreData:!0,isEmpty:!0},result:[]}:{entities:{noMoreData:!0},result:[]}})}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.u,d=arguments[4];return{types:Object(i.m)(u.L.AGENT),callAPI:function(i){var m={activeAgents:"status=ACTIVE",deActiveAgents:"status=DISABLED",notConfirmedAgents:"isConfirmed=false",allAgents:"",activeConfirmedAgents:"status=ACTIVE&isConfirmed=true",activeConfirmedNonLightAgents:"status=ACTIVE&isConfirmed=true&rolePermissionType=${NON_LIGHT}"}[e.replace("Search","")]||"",p=d||Object(l.r)(i),g=d?"&departmentId="+d:Object(c.a)(i,!0),f="/api/v1/agents?"+(m?m+"&":"")+"from="+t+"&limit="+(2*a>200?200:2*a)+(n?"&searchStr=*"+n+"*":"")+g;return Object(o.a)(encodeURI(f),!1,{orgId:i.currentOrgId}).get().then(function(o){return s()({},Object(r.normalize)(204!==o.responseStatus?o.data:[],Object(r.arrayOf)(Object(r.schema)(u.L.AGENT_L))),{deptId:p,from:t,limit:a,isNext:!!o.data&&o.data.length>a,searchStr:n,agentType:e})},function(e){throw e})}}}function v(e){return{types:Object(i.m)("AGENT"),shouldCallAPI:function(){return e.length>=1},callAPI:function(t){return Object(o.a)("/api/v1/agentsByIds?agentIds="+e.join(),!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.normalize)(204!==e.responseStatus?e.data:[],Object(r.arrayOf)(Object(r.schema)(u.L.AGENT_L)))})}}}function _(e){return{types:Object(i.m)("TEAM_AGENT"),callAPI:function(t){return Object(o.a)("/api/v1/teams/"+e+"/members",!1,{orgId:t.currentOrgId}).get().then(function(e){return Object(r.normalize)(e.members,Object(r.arrayOf)(Object(r.schema)(u.L.AGENT_L)))})}}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n="";return t.map(function(t){void 0!==e[t]&&(n+="&"+t+"="+e[t])}),n}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2];return void 0!==e[t]?e[t]:n}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y(e,"searchType","string"),n=e.searchStr;return n&&(n="string*"==t?n+"*":"*string*"==t?"*"+n+"*":n),n}function k(e){var t=e.isConfirmed,n=e.status;switch(n){case d.a:return d.a;case d.d:return d.d;case d.c:return d.c;default:if(void 0!==t&&!t)return d.l;if(void 0===n)return d.b}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.from=y(e,"from","1"),e.limit=y(e,"limit","100"),e.searchStr=I(e);var t=e.from>1?d.k:d.j;return{types:Object(i.m)(t),callAPI:function(t){var n="/api/v1/agents?orgId="+t.currentOrgId;return n+=b(e,["from","limit","status","isConfirmed","searchStr","departmentId","departmentIds","profileIds","roleIds"]),Object(o.a)(n).get().then(function(t){return s()(Object(r.normalize)(void 0!==t.data?t.data:[],Object(r.arrayOf)(Object(r.schema)(u.L.AGENT_L))),{status:k(e)})})}}}function O(e,t,n){var a={status:e,isConfirmed:t,includeLightAgent:n};return a.includeLightAgent=y(a,"includeLightAgent",!0),{types:Object(i.m)(d.i),callAPI:function(e){var t="/api/v1/agents/count?orgId="+e.currentOrgId;return t+=b(a,["status","isConfirmed","includeLightAgent"]),Object(o.a)(t).get().then(function(e){return s()({},e,{status:k(a)})})}}}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:d.m,data:{isEnabled:e}}}},957:function(e,t,n){e.exports={input:"Select-module__input",small:"Select-module__small",medium:"Select-module__medium",large:"Select-module__large",emptyState:"Select-module__emptyState common-module__semibold common-module__ftsmooth",box_small:"Select-module__box_small",box_medium:"Select-module__box_medium",hide:"Select-module__hide common-module__vishidden",container:"Select-module__container",arrowIcon:"Select-module__arrowIcon",box:"Select-module__box",search:"Select-module__search"}},961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlLicensePermissionCheckHOC=t.licensePermissionCheckHOC=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),i=l(n(1)),r=(n(21),n(962));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.currentPermission=e.permission||n.permission,a.currentLicense=e.license||n.license,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),s(t,[{key:"render",value:function(){var e=this.props,t=e.proxyPropsObjHasFunction,n=e.getLicenseProfileCheck,s=e.Component,i=e.Fallback,r=n(t?this.props:{},this.currentPermission,this.currentLicense),l=r.licenseSuccess,c=r.permissionSuccess,u=r.permissionProps;return l&&c?o.default.createElement(s,a({},this.props,u)):i?o.default.createElement(i,this.props):null}}]),t}();c.propTypes={permission:i.default.object,license:i.default.string,proxyPropsObjHasFunction:i.default.func,getLicenseProfileCheck:i.default.func,Component:i.default.element,Fallback:i.default.element},c.contextTypes={store:i.default.object,permission:i.default.object,license:i.default.string};var u=t.licensePermissionCheckHOC=function(e){var t=e.component,n=void 0===t?{license:"*",permission:"*"}:t,s=e.props,i=void 0===s?{}:s,l=e.Fallback,u=void 0===l?null:l,d=function(e,t,a){var s=(0,r.permissionCheck)(t);return{licenseSuccess:(0,r.licenseCheck)(a)(n.license),permissionSuccess:s(n.permission),permissionProps:Object.keys(i).reduce(function(t,n){if(i[n]instanceof Array)return t[n]=i[n].map(function(e,t){if(s(e.permission))return e.obj}).filter(function(e){return e}),t;if("function"==typeof i[n])return a=i[n](e),s(a.permission)?t[n]=a.obj:a.falseObj&&(t[n]=a.falseObj),t;var a=i[n];return s(a.permission)?t[n]=a.obj:t[n]=a.falseObj,t},{})}},m=Object.keys(i).some(function(e){return"function"==typeof i[e]});return function(e){return function(t){return o.default.createElement(c,a({},t,{proxyPropsObjHasFunction:m,getLicenseProfileCheck:d,Component:e,Fallback:u}))}}};t.urlLicensePermissionCheckHOC=function(e){return e.Fallback=InsufficientPrivileges,u(e)}},962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,s=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(a=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{!a&&r.return&&r.return()}finally{if(s)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t.underScoreSplit=function(e){return e.split("_")},o=function(e,t){for(var n=t.length,s=[],o=0,r=void 0,l=0;l<n;l++)"&"!=t.charAt(l)&&"|"!=t.charAt(l)?(void 0===s[o]&&(s[o]=""),s[o]=""+s[o]+t.charAt(l)):(s[o+=1]=""+t.charAt(l)+t.charAt(l),l+=1,o+=1);for(;s.length>1||1==s.length&&"true"!=s[0]&&"false"!=s[0];){var c=a(s,3),u=c[0],d=c[1],m=c[2],p=void 0===m?"*":m;u=u.replace(/ /g,""),p=p.replace(/ /g,""),u="true"==u||"false"!=u&&i(e)(u),p="true"==p||"false"!=p&&i(e)(p||"*"),s=[""+(r="&&"==d?u&&p:"||"==d?u||p:u)].concat(s.slice(3))}return void 0===r&&1==s.length&&(r="true"==s[0]),r},i=(t.permissionCheck=function(e){return function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t;-1!=s.indexOf(")");){var i=s.indexOf(")"),r=s.lastIndexOf("(",i);s=""+s.substring(0,r)+o(e,s.substring(r+1,i))+s.substring(i+1)}var l=o(e,s);return l?n:a}},t.singleModulePermissionCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=s(t||"*"),r=a(i,2),l=r[0],c=r[1];return"*"==l&&void 0===c?n:e[l]?(e[l][c]?e[l][c]:!(!e[l].flags||!e[l].flags[c])&&e[l].flags[c])?n:o:e.flags&&e.flags[c]||null?n:o}});t.licenseCheck=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.licenseType;return"*"==t?n:t.constructor==Array&&-1!=t.indexOf(s)?n:s==t?n:a}}},963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),s=(n(26),i(n(1))),o=n(955);function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.children,n=e.features,s=e.module,i=e.action,r=t.type,l=t.props,c=(0,o.getRestriction)(n,s,i),u=c.isShow,d=c.isReadOnly,m=c.readOnlyMessage,p=void 0===m?"":m;return u?a.default.createElement(r,Object.assign({},l,{isReadOnly:d,readOnlyMessage:p})):null}r.propTypes={module:s.default.string,children:s.default.Component,features:s.default.array,action:s.default.string},t.default=r},964:function(e,t,n){"use strict";var a,s;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i={tickets:{isSpam:{secondaryContact:[1,1],leftPanelForm:[1,1],replyAssistant:[0,0],suggestedSolution:[0,0],timeline:[1,1],mergeTicket:[0,0],marketPlace:[0,0],replyActions:[0,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[1,0],addTask:[0,0],footer:[1,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],add_comment:[0,0],edit_approval:[0,0],add_timeentry_invoice:[0,0]},bluePrint:{status:[1,1],move:[1,0]},ticketSharingList:{edit:[0,0],delete:[0,0],status:[1,1],assign:[1,1],peek:[1,0],move:[1,1],mass_action:[1,1]},spam:{edit:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1],peek:[1,0],delete:[1,0],move:[1,1]},spamContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},anonymousContact:{booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0],add_timeentry_invoice:[0,0]},trash:(a={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},o(a,"peek",[1,0]),o(a,"move",[1,1]),a),notAccessible:(s={edit:[0,0],peek:[0,0],delete:[0,0],show_comment:[0,0],status:[1,1],assign:[1,1]},o(s,"peek",[1,0]),o(s,"move",[1,1]),o(s,"mass_action",[1,1]),s)},contacts:{anonymous:{edit:[0,0],follow:[0,0],add_tickets:[0,0],add_products:[0,0],add_attachments:[0,0],add_activies:[0,0],add_comment:[0,0],edit_comment:[0,0],mass_action:[1,1],massUpdate:[0,0],massMerge:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0]},spam:{edit:[0,0],add_tickets:[0,0],massUpdate:[0,0],massMerge:[0,0],follow:[0,0],add_call:[0,0],add_activies:[0,0],add_timentry:[0,0],edit_timeentry:[0,0],delete_timeentry:[0,0],remove_products:[0,0],add_products:[0,0],add_attachments:[0,0],add_comment:[0,0],edit_comment:[0,0],delete_comment:[0,0],add_as_enduser:[0,0],booksInteg:[0,0],invoiceInteg:[0,0],add_timeentry_invoice:[0,0],comment_more:[0,0]}},accounts:{spamContacts:{disassociate:[0,0]}},tasks:{}};i.tickets=Object.assign({},i.tickets,{TS_READ_WRITE:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_RESTRICTED_ACCESS:{timeline:[0,0],leftPanelForm:[0,0],followers_view:[0,0],followers_add:[0,0],tags_view:[0,0],tags_add:[0,0],shareCount:[0,0],forWardOnly:[1,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]},TS_READ_ONLY:{timeline:[0,0],leftPanelForm:[1,0],followers_view:[1,0],followers_add:[1,1],tags_view:[1,0],tags_add:[1,1],shareCount:[1,0],forWardOnly:[0,0],moreActions:[0,0],addTask:[0,0],footer:[0,0],edit:[0,0],status:[1,1],assignee:[1,1],dueDate:[1,1],responseDueDate:[1,1],booksInteg:[0,0],invoiceInteg:[0,0],jira:[0,0],bugtracker:[0,0]}});t.restrictionRules=i,t.lockMessages={tickets:{TS_READ_WRITE:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_RESTRICTED_ACCESS:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.locked"},TS_READ_ONLY:{status:"support.ticketshare.field.locked",assignee:"support.ticketshare.field.locked",dueDate:"support.ticketshare.field.locked",responseDueDate:"support.ticketshare.field.lock ed"},bluePrint:{status:"support.blueprints.status.lock.msg"}}}},965:function(e,t,n){e.exports={item:"MassAction-module__item",itemOuterSapce:"MassAction-module__itemOuterSapce",massItem:"MassAction-module__massItem MassAction-module__itemOuterSapce",checkMassItem:"MassAction-module__checkMassItem MassAction-module__itemOuterSapce",massIcon:"MassAction-module__massIcon",massLabel:"MassAction-module__massLabel common-module__dotted common-module__oflow common-module__ellipsis",massCount:"MassAction-module__massCount",dark:"MassAction-module__dark",danger:"MassAction-module__danger",check:"MassAction-module__check",secondary:"MassAction-module__secondary",ticketLp:"MassAction-module__ticketLp",primary:"MassAction-module__primary",ticketLpicon:"MassAction-module__ticketLpicon",small:"MassAction-module__small",medium:"MassAction-module__medium",Hiddenicon:"MassAction-module__Hiddenicon"}},967:function(e,t,n){"use strict";var a=n(12),s=n.n(a),o=n(9),i=n.n(o),r=n(10),l=n.n(r),c=n(13),u=n.n(c),d=n(14),m=n.n(d),p=n(0),g=n.n(p),f=n(1),h=n.n(f),v=n(995),_=n.n(v),b=n(64),y=n.n(b),I=n(6),k=n(30),C=n(16),O=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||s()(t)).call(this,e));return n.getSelectedItemRef=n.getSelectedItemRef.bind(n),n}return m()(t,e),l()(t,[{key:"getSelectedItemRef",value:function(e){this.props.selectRef(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.agentsList,a=t.closePopupOnly,s=t.onChangeAssignee,o=t.selectedIndex,i=t.addFollower,r=t.page,l=t.selectedAgentId,c=t.selectedTeamId,u=void 0===c?null:c,d=t.namePattern,m=t.dataId;return g.a.createElement("div",{className:_.a.posrel,"data-id":m||"agentList"},n.map(function(t,n){var c=t.id,m=t.firstName,p=t.lastName,f=t.photoURL,h=t.rolePermissionType,v=Object(I.f)(d,m,p);return"Light"!=h?g.a.createElement(C.Container,{isCover:!1,alignBox:"row",align:"vertical",className:c==l?_.a.selectedItem:_.a.item+" "+(n==o?_.a.hoverItem:""),dataId:"agent_"+c,key:n,onClick:function(e){a(e),"followers"==r?i(c):s({assigneeId:c,teamId:u})},eleRef:n==o?e.getSelectedItemRef:null},f?g.a.createElement(y.a,{name:v,size:"xsmall",src:f}):g.a.createElement(y.a,{name:v,size:"xsmall"}),g.a.createElement("span",{className:_.a.assignName},v),g.a.createElement("span",{className:_.a.text},c==l?g.a.createElement("span",{className:_.a.markedIcon},g.a.createElement(k.CustomersFontIcon,{color:"primary",isBold:!0,name:"checkmarkO",size:"17"})):null)):null}))}}]),t}(g.a.Component);t.a=O,O.propTypes={addFollower:h.a.func,agentsList:h.a.array,closePopupOnly:h.a.func,namePattern:h.a.array,onChangeAssignee:h.a.func,page:h.a.string,selectRef:h.a.func,selectedAgentId:h.a.string,selectedIndex:h.a.number,selectedTeamId:h.a.bool}},974:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(2),s=n.n(a),o=n(21),i=n(17),r=n(19),l=n.n(r),c=n(6),u=[],d={},m=Object(o.createSelector)([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("module.agent",e)||t.agents||d},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.agentIds||u},i.L],function(e,t,n){var a=[];return t.forEach(function(t){var o=e[t],i=o||{},r=i.name,l=void 0===r?"":r,u=i.firstName,d=void 0===u?"":u,m=i.lastName,p=void 0===m?"":m;l=d||p?Object(c.f)(n,d,p):l,o&&a.push(s()({},o,{name:l}))}),a}),p=function(){return m}},976:function(e,t,n){"use strict";var a=n(38),s=n.n(a),o=n(2),i=n.n(o),r=n(11),l=n.n(r),c=n(23),u=n.n(c),d=n(12),m=n.n(d),p=n(9),g=n.n(p),f=n(10),h=n.n(f),v=n(13),_=n.n(v),b=n(14),y=n.n(b),I=n(0),k=n.n(I),C=n(1),O=n.n(C),T=n(26),A=n(154),S=n.n(A),x=n(19),E=n.n(x),N=n(3),P=n(956),L=n(974),w=n(17);function R(e,t,n){var a=t.departmentId||Object(w.r)(e),s=E()("departmentSpecificState."+a+".agentList."+n,e)||[],o=Object(w.L)(e);return{globalAgentIds:s,agents:E()("module.agent",e),namePattern:o,deptId:a}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"activeAgents",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.u,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o){var r=function(r){function c(e){g()(this,c);var t=_()(this,(c.__proto__||m()(c)).call(this,e));return t.state={listUIState:{from:1,isNext:!1},searchUIState:{from:1,isNext:!1,agentIds:[],searchStr:""},searchStr:"",isFetching:!1},t._isMounted=!1,t.getAgentsListSel=Object(L.a)(),t.handleGetAgents=t.handleGetAgents.bind(t),t.handleGetNextAgents=t.handleGetNextAgents.bind(t),t.handleSearchAgents=t.handleSearchAgents.bind(t),t.handleAPI=t.handleAPI.bind(t),t.handleSearchAgentsArray=t.handleSearchAgentsArray.bind(t),t.handleGetAgentsList=t.handleGetAgentsList.bind(t),t.handleLocalAgentsSearch=t.handleLocalAgentsSearch.bind(t),t}return y()(c,r),h()(c,[{key:"componentDidMount",value:function(){this._isMounted=!0,a&&this.handleGetAgents()}},{key:"componentDidUpdate",value:function(e){this.props.deptId,e.deptId}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleAPI",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.slice(1,n.length),o=n[0],i=this.state.isFetching,r=this._isMounted;return i?l.a.resolve():(r&&this.setState({isFetching:!0}),o.apply(void 0,u()(s)).then(function(t){return r&&e.setState({isFetching:!1}),t&&204!==t.responseStatus?t:l.a.resolve()},function(t){throw r&&e.setState({isFetching:!1}),t}))}},{key:"handleGetAgentsList",value:function(n){var a=this,s=this.props,o=s.getAgentsList,r=s.departmentId,c=this.state,u=c.searchStr,d=c.listUIState,m=c.searchUIState,p=this._isMounted,g="NEXT"===n,f=u.replace(/\s+/g,""),h=m.searchStr,v=void 0===h?"":h,_=u.replace(/\s+/g,"").toLowerCase(),b=v.replace(/\s+/g,"").toLowerCase();if(u){if("CURRENT"!==n||_!==b){var y=m.from,I=void 0===y?1:y,k=g?I+t:1;return this.setState({searchUIState:i()({},m,{from:k,isNext:!1})}),this.handleAPI(o,e+"Search",k,f,t,r).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},n=t.result,s=void 0===n?[]:n,o=t.isNext,i=t.from,r=t.searchStr;return a.handleSearchAgentsArray(s,i,o,r,g),e},function(e){throw p&&a.setState({searchUIState:i()({},m,{from:I,isNext:!1})}),e})}return l.a.resolve()}var C=d.from,O=void 0===C?1:C,T=g?O+t:1;return this.setState({listUIState:i()({},d,{from:T,isNext:!1})}),this.handleAPI(o,e,T,u,t,r).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data||{},n=t.from,s=t.isNext;return p&&a.setState({listUIState:i()({},d,{from:n,isNext:s})}),e},function(e){throw p&&a.setState({listUIState:i()({},d,{from:O,isNext:!1})}),e})}},{key:"handleSearchAgentsArray",value:function(e,n,a,s,o){var i=this.state.searchUIState.agentIds,r=this._isMounted,l=n-1,c=l+(2*t>200?200:2*t),d=o?[].concat(u()(i.slice(0,l)),u()(e),u()(i.slice(c,i.length))):e;r&&this.setState({searchUIState:{agentIds:d,from:n,isNext:a,searchStr:s}})}},{key:"handleGetAgents",value:function(){return this.handleGetAgentsList("CURRENT").then(function(e){return e},function(e){throw e})}},{key:"handleSearchAgents",value:function(e){this.setState({searchStr:e})}},{key:"handleGetNextAgents",value:function(){return this.handleGetAgentsList("NEXT").then(function(e){return e},function(e){throw e})}},{key:"handleLocalAgentsSearch",value:function(){var e=this.state.searchStr,t=this.props,n=t.agents;return t.globalAgentIds.filter(function(t){var a=n[t],s=a.firstName,o=void 0===s?"":s,i=a.lastName,r=void 0===i?"":i,l=a.emailId,c=void 0===l?"":l,u=(o+r).replace(/\s+/g,"").toLowerCase(),d=e.replace(/\s+/g,"").toLowerCase();return-1!==u.indexOf(d)||-1!==c.indexOf(d)})}},{key:"render",value:function(){var e=this.state,a=e.searchStr,i=void 0===a?"":a,r=e.listUIState,l=e.isFetching,c=e.searchUIState,u=this.props,d=u.globalAgentIds,m=u.namePattern,p=u.agents,g=i?c:r,f=g.from,h=g.isNext,v=g.agentIds,_=g.searchStr,b=void 0===_?"":_,y=i.replace(/\s+/g,"").toLowerCase(),I=b.replace(/\s+/g,"").toLowerCase(),C=y?I===y?v:n?this.handleLocalAgentsSearch():[]:d,O=this.getAgentsListSel({},{agents:p,agentIds:C.slice(0,f-1+t),namePattern:m});return k.a.createElement(o,s()({},this.props,{agentIds:C,agentsList:O,getAgents:this.handleGetAgents,getNextAgents:this.handleGetNextAgents,isFetching:l,isNextAgents:h,onSearchAgents:this.handleSearchAgents,searchString:i}))}}]),c}(k.a.Component);return r.propTypes={agents:O.a.object,departmentId:O.a.string,deptId:O.a.string,getAgentsList:O.a.func,globalAgentIds:O.a.array,namePattern:O.a.array},S()(Object(T.connect)(function(t,n){return R(t,n,e)},{getAgentsList:P.h})(r),o)}}},985:function(e,t,n){"use strict";var a=n(12),s=n.n(a),o=n(9),i=n.n(o),r=n(10),l=n.n(r),c=n(13),u=n.n(c),d=n(14),m=n.n(d),p=n(0),g=n.n(p),f=n(1),h=n.n(f),v=n(153),_=n(989),b=n.n(_),y=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(v.a,{viewBox:"0 0 298 123.3",name:"archived"},g.a.createElement("image",{xlinkHref:b.a,height:"100%",width:"100%"}))}}]),t}(g.a.Component);var I=n(988),k=n(241),C=n(991),O=n.n(C),T=n(109),A=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||s()(t)).call(this,e));return n.renderEmptyState=n.renderEmptyState.bind(),n}return m()(t,e),l()(t,[{key:"renderEmptyState",value:function(e){switch(e){case"archived":return g.a.createElement(y,null);case"team":return g.a.createElement(k.a,null);case"tag":return g.a.createElement(I.a,null);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.iconName,a=e.hrefLinkText,s=e.hrefLink,o=e.isOpenNewTab;return g.a.createElement("div",{className:O.a.viewSearch},g.a.createElement("div",{className:O.a.srchImg},this.renderEmptyState(n)),t?g.a.createElement("div",{className:O.a.srchTxt},t):"",a&&o?g.a.createElement(T.a,{href:s,target:"_blank",className:O.a.srchLink},a):a?g.a.createElement(T.a,{href:s,className:O.a.srchLink},a):null)}}]),t}(g.a.Component);t.a=A;A.propTypes={hrefLink:h.a.string,hrefLinkText:h.a.string,iconName:h.a.oneOf(["archived","team","tag"]),isOpenNewTab:h.a.bool,text:h.a.string},A.defaultProps={iconName:"team",isOpenNewTab:!1,hrefLink:"javascript:void(0)"}},986:function(e,t,n){"use strict";var a=n(38),s=n.n(a),o=n(11),i=n.n(o),r=n(12),l=n.n(r),c=n(9),u=n.n(c),d=n(10),m=n.n(d),p=n(13),g=n.n(p),f=n(14),h=n.n(f),v=n(0),_=n.n(v),b=n(1),y=n.n(b),I=n(32),k=n(26),C=n(24),O=n(956),T=n(80),A=n.n(T),S=n(17),x=n(131),E=n(976),N=n(946),P=n.n(N),L=n(99),w=n.n(L),R=n(8),j=n(81),D=n(65),B=n(967),F=n(5),M=n.n(F),z=n(998),U=n.n(z),V=n(357),H=n.n(V),G=n(64),K=n.n(G),W=n(30),q=function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.getSelectedItemRef=n.getSelectedItemRef.bind(n),n}return h()(t,e),m()(t,[{key:"getSelectedItemRef",value:function(e){this.props.selectRef(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.teamsList,a=t.selectedIndex,s=t.closePopupOnly,o=t.onChangeAssignee,i=t.getAgentsByTeam,r=t.selectedTeamId,l=t.selectedAgentName,c=t.selectedAgentImage,u=t.selectedAgentId;return _.a.createElement("div",{className:U.a.posrel},n.map(function(t,n){var d,m=t.id,p=t.name;t.derivedAgents;return _.a.createElement("div",{key:n,onClick:function(e){s(e),o({teamId:m,assigneeId:null})},className:m==r?U.a.selectedItem:U.a.item+" "+(n==a?U.a.hoverItem:""),ref:n==a?e.getSelectedItemRef:null},_.a.createElement(H.a,{name:p,size:"xsmall"}),_.a.createElement("span",{className:U.a.text},_.a.createElement("span",{className:U.a.assignName},p),m==r?_.a.createElement("span",{className:U.a.markedIcon},_.a.createElement(W.CustomersFontIcon,{name:"checkmarkO",size:"17",color:"primary",isBold:!0})):null),_.a.createElement("div",{className:U.a.teamUser,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),i(m)}},m==r&&u?_.a.createElement(K.a,(d={name:"Avatar",src:c},M()(d,"name",l),M()(d,"size","xsmall"),d)):_.a.createElement(W.TopbandFontIcon,{name:"newuser",size:"13",color:"dark"})))}))}}]),t}(_.a.Component),J=q;q.propTypes={closePopupOnly:y.a.func,getAgentsByTeam:y.a.func,onChangeAssignee:y.a.func,selectRef:y.a.func,selectedAgentId:y.a.string,selectedAgentImage:y.a.string,selectedAgentName:y.a.string,selectedIndex:y.a.number,selectedTeamId:y.a.string,teamsList:y.a.array};var X=n(999),Y=n.n(X),$=n(72),Q=n.n($),Z=n(16),ee=n(6),te=n(458),ne=n(232),ae=function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.state={limit:10,selectedIndex:0},n.onScroll=n.onScroll.bind(n),n.hasMoreAgents=n.hasMoreAgents.bind(n),n.handleKeyup=Object(x.a)(n.handleKeyup.bind(n),100,!0),n.handleNavigation=n.handleNavigation.bind(n),n.searchAgents=n.searchAgents.bind(n),n.setScroll=n.setScroll.bind(n),n}return h()(t,e),m()(t,[{key:"onScroll",value:function(){this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&this.hasMoreAgents()&&this.setState({limit:this.state.limit+10})}},{key:"hasMoreAgents",value:function(){var e=this.props,t=e.teamId;return e.teams[t].derivedAgents.length>this.state.limit}},{key:"constructAgentsList",value:function(e){var t=this.props,n=t.teamId,a=t.teams,s=t.agents,o=a[n].derivedAgents;e="all"==e?o.length:this.state.limit,e=o.length>e?e:o.length;for(var i=[],r=0;r<e;r++){var l=o[r];s[l]&&i.push(s[l])}return i}},{key:"handleKeyup",value:function(e){var t=e.keyCode;38==t||40==t||13==t?this.handleNavigation(t,e):this.searchAgents(e.target.value)}},{key:"searchAgents",value:function(e){var t=this.constructAgentsList("all").filter(function(t){return-1!=Object(ee.e)(t.firstName,t.lastName).toLowerCase().indexOf(e.toLowerCase())});this.setState({searchList:t,limit:10,selectedIndex:0})}},{key:"handleNavigation",value:function(e,t){var n=this,a=this.state,s=a.searchVal,o=void 0===s?"":s,i=a.searchList,r=a.selectedIndex,l=o.length>1?i:this.constructAgentsList();switch(e){case 40:this.setState({selectedIndex:r===l.length-1?0:this.state.selectedIndex+1},function(){n.setScroll()});break;case 38:this.setState({selectedIndex:0!=r?this.state.selectedIndex-1:0},function(){n.setScroll()});break;case 13:var c=this.props,u=c.closePopupOnly,d=c.onChangeAssignee,m=c.teamId;u(t),d({assigneeId:l[r].id,teamId:m},t)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.containerRef,n=this.selectItemRef;if(n&&t){var a=n.offsetTop-t.scrollTop,s=n.offsetHeight,o=t.offsetHeight;(a<=0||s+a>o)&&(t.scrollTop=0==e?0:t.scrollTop+a)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeTeamagents,a=t.teams,s=(t.agents,t.teamId),o=t.selectedAgentId,i=t.selectedTeamId,r=t.onChangeAssignee,l=t.closePopupOnly,c=t.namePattern,u=this.state,d=u.searchVal,m=void 0===d?"":d,p=u.searchList,g=void 0===p?[]:p,f=u.selectedIndex,h=a[s],v=h.name,b=(h.derivedAgents,m.length>1?g:this.constructAgentsList());return _.a.createElement(Z.Container,{className:Y.a.teamContent},_.a.createElement(Z.Box,{className:Y.a.backDiv,onClick:n},_.a.createElement("span",{className:Y.a.backIcon},_.a.createElement(W.CommonFontIcon,{name:"arrowLeft3",size:"14"})),R.f.getI18NValue("support.crmlabel.back")),_.a.createElement(Z.Box,{className:Y.a.teamHead},_.a.createElement(Z.Container,{alignBox:"row",align:"vertical"},_.a.createElement(Z.Box,{flexible:!0,className:Y.a.teamName,"data-title":v},v),_.a.createElement(Z.Box,{className:Y.a.connectIcon},_.a.createElement(W.KnowledgeBaseFontIcon,{name:"kbessentialconnect",size:"18"})),_.a.createElement("span",{className:Y.a.bgconnectIcon},_.a.createElement(W.KnowledgeBaseFontIcon,{name:"kbessentialconnect",size:"86"})))),_.a.createElement(Z.Box,{className:Y.a.searchDiv},_.a.createElement(w.a,{placeHolder:R.f.getI18NValue("support.search.support.agentinteam"),onKeyUp:this.handleKeyup,value:m,onChange:function(t){e.setState({searchVal:t})}})),_.a.createElement(Z.Box,{flexible:!0,onScroll:this.onScroll,scroll:"vertical",eleRef:function(t){e.containerRef=t}},b.length?_.a.createElement(B.a,{selectedTeamId:s,agentsList:b,selectedAgentId:s==i?o:null,closePopupOnly:l,onChangeAssignee:r,selectedIndex:f,selectRef:function(t){e.selectItemRef=t},page:"ticketDv",addFollower:function(){},namePattern:c}):m.length?_.a.createElement(ne.a,null):_.a.createElement(te.a,null)))}}]),t}(_.a.Component),se=ae;ae.propTypes={agents:y.a.object,closePopupOnly:y.a.func,closeTeamagents:y.a.func,namePattern:y.a.array,onChangeAssignee:y.a.func,selectedAgentId:y.a.bool,selectedTeamId:y.a.bool,teamId:y.a.string,teams:y.a.object};var oe=n(985),ie=function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.unAssign=n.unAssign.bind(n),n}return h()(t,e),m()(t,[{key:"unAssign",value:function(e){var t=this.props,n=t.onChangeAssignee,a=t.closePopupOnly;n({assigneeId:null,teamId:null}),a(e)}},{key:"render",value:function(){var e=this.props,t=e.assigneeId,n=e.isPopupOpen,a=e.isPopupReady,s=e.agentName,o=e.onChangeAssignee,i=e.closePopupOnly,r=e.photoURL,l=e.teamId,c=e.page,u=e.addFollower,d=e.defaultTab,m=(e.noMoreData,e.agentsList),p=e.teamsList,g=e.searchStr,f=e.selectedIndex,h=e.changeDefaultTab,v=e.keyUp,b=e.setInputRef,y=e.searchAgents,I=e.searchTeams,k=e.contentRef,C=e.setSelectRef,O=e.position,T=e.getAgentsByTeam,A=e.openTeamId,S=e.teamsObject,x=e.agentsObject,E=e.closeTeamagents,N=e.getContainerRef,L=e.needArrow,F=void 0===L||L,M=e.boxSize,z=void 0===M?"mlarge":M,U=e.left,V=void 0===U?null:U,H=e.needTeam,G=void 0===H||H,K=e.needUnAssign,q=void 0===K||K,X=e.removeClose,Y=e.namePattern,$=e.isAgentFetching,Z=e.isTeamsFetching,ee=e.getNextAgents,ae=e.isNextAgents,ie=G&&!A;return n?_.a.createElement(Q.a,{boxPosition:O,getRef:N,isActive:a,isAnimate:!0,isArrow:F,size:z,left:V,portalId:"portal1"},_.a.createElement("div",{onClick:X},_.a.createElement(j.TabWrapper,{defaultTab:d,needTabBorder:!0,onSelect:h,type:"delta"},_.a.createElement(j.Tabs,{className:ie?"":P.a.none,isResponsive:!1},_.a.createElement(j.Tab,{id:"Agent",className:"Agent"==d?P.a.agentTxtActive:P.a.agentTxt,text:R.f.getI18NValue("support.survey.report"),dataId:"assignPopupAgentTab"}),_.a.createElement(j.Tab,{id:"Teams",className:"Teams"==d?P.a.agentTxtActive:P.a.agentTxt,text:R.f.getI18NValue("support.setup.label.teams"),dataId:"assignPopupTeamsTab"})),_.a.createElement(j.TabContentWrapper,{className:A?P.a.teamAgentLayout:P.a.assignLayout},_.a.createElement(j.TabContent,{id:"Agent"},_.a.createElement(D.Card,{fetchData:ee,noMoreData:!ae,noNeedUpScroll:!0},m.length>5||""!=g?_.a.createElement(D.CardHeader,{className:P.a.agentSearch},_.a.createElement(w.a,{inputRef:b,onChange:y,onKeyUp:v,placeHolder:R.f.getI18NValue("support.search.support.users"),value:g,autofocus:!0})):null,_.a.createElement(D.CardContent,{eleRef:k,className:P.a.scrollContainer},m.length?_.a.createElement(B.a,{addFollower:u,agentsList:m,closePopupOnly:i,onChangeAssignee:o,page:c,selectedAgentId:!l&&t,selectedIndex:f,selectRef:C,namePattern:Y}):$?_.a.createElement(te.a,null):_.a.createElement("div",{className:P.a.empty},_.a.createElement(ne.a,{text:R.f.getI18NValue("support.no.matches.found")}))),_.a.createElement(D.CardFooter,null,q?_.a.createElement("div",{className:P.a.unAssign,onClick:this.unAssign},_.a.createElement("span",{className:P.a.unAssignIcn},_.a.createElement(W.TicketsFontIcon,{name:"addAgent",size:"13"})),_.a.createElement("span",{className:P.a.unAsgnTxt},R.f.getI18NValue("support.label.markas.unassigned"))):null))),_.a.createElement(j.TabContent,{id:"Teams"},_.a.createElement(D.Card,null,(p.length>5||""!=g)&&!A?_.a.createElement(D.CardHeader,{className:P.a.agentSearch},_.a.createElement(w.a,{inputRef:b,onChange:I,onKeyUp:v,placeHolder:R.f.getI18NValue("support.search.support.team"),value:g,autofocus:!0})):null,_.a.createElement(D.CardContent,{eleRef:k,className:P.a.scrollContainer},A?_.a.createElement(se,{agents:x,closePopupOnly:i,closeTeamagents:E,onChangeAssignee:o,selectedAgentId:t,selectedTeamId:l,teamId:A,teams:S,namePattern:Y}):p.length?_.a.createElement(J,{closePopupOnly:i,getAgentsByTeam:T,onChangeAssignee:o,selectedAgentId:t,selectedAgentImage:r,selectedAgentName:s,selectedIndex:f,selectedTeamId:l,teamId:A,teams:S,selectRef:C,teamsList:p}):Z?_.a.createElement(te.a,null):""!=g?_.a.createElement("div",{className:P.a.empty},_.a.createElement(ne.a,{iconName:"team",text:R.f.getI18NValue("support.no.matches.found")})):_.a.createElement("div",{className:P.a.empty},_.a.createElement(oe.a,{text:R.f.getI18NValue("support.teams.notadded"),hrefLinkText:R.f.getI18NValue("support.teams.addnew"),iconName:"team"}))),q&&!A?_.a.createElement(D.CardFooter,null,_.a.createElement("div",{className:P.a.unAssign,onClick:this.unAssign},_.a.createElement("span",{className:P.a.unAssignIcn},_.a.createElement(W.TicketsFontIcon,{name:"addAgent",size:"13"})),_.a.createElement("span",{className:P.a.unAsgnTxt},R.f.getI18NValue("support.label.markas.unassigned")))):null)))))):null}}]),t}(v.Component),re=ie;ie.propTypes={addFollower:y.a.array,agentName:y.a.string,agentsList:y.a.array,agentsObject:y.a.object,assigneeId:y.a.string,boxSize:y.a.string,changeDefaultTab:y.a.func,closePopupOnly:y.a.func,closeTeamagents:y.a.func,contentRef:y.a.func,defaultTab:y.a.string,getAgentsByTeam:y.a.func,getContainerRef:y.a.func,getNextAgents:y.a.func,isNextAgents:y.a.bool,isPopupOpen:y.a.bool,isPopupReady:y.a.bool,keyUp:y.a.func,left:y.a.string,namePattern:y.a.array,needArrow:y.a.bool,needTeam:y.a.bool,needUnAssign:y.a.bool,noMoreData:y.a.bool,onChangeAssignee:y.a.func,onSearchAgents:y.a.func,openTeamId:y.a.string,page:y.a.string,photoURL:y.a.string,position:y.a.string,removeClose:y.a.func,searchAgents:y.a.func,searchStr:y.a.string,searchTeams:y.a.func,selectedIndex:y.a.number,setInputRef:y.a.func,setSelectRef:y.a.func,teamId:y.a.string,teamsList:y.a.array,teamsObject:y.a.object};var le,ce=n(1e3),ue=n.n(ce),de=n(152),me=n(948),pe=function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return h()(t,e),m()(t,[{key:"onClick",value:function(e){var t=this.props,n=t.isReadOnly,a=void 0!==n&&n,s=t.onClick;!(t.disableClick||a)&&s(e)}},{key:"render",value:function(){var e=this.props,t=e.agentName,n=e.teamName,a=e.photoURL,s=e.isTeam,o=e.isUnassigned,i=e.assigneeId,r=e.type,l=e.isIconOnly,c=e.haveChangePer,u=e.size,d=e.getRef,m=e.dataId,p="small"==u?"10":"18",g="small"==u?"xsmall":"xmedium";return _.a.createElement("div",{className:ue.a.assign+" "+(c&&!l&&ue.a.pointer),ref:d},_.a.createElement(Z.Container,{className:ue.a.agent,onClick:this.onClick,align:"vertical",alignBox:"row",isCover:!1,dataId:m},_.a.createElement(Z.Box,null,s?_.a.createElement(H.a,{name:n,size:g,src:a}):o?_.a.createElement(de.a,{iconClass:"mtminus2",iconSize:p,name:"addAgent",size:g}):_.a.createElement(K.a,{name:t,size:g,src:a})),l?null:_.a.createElement(Z.Box,{flexible:!0,className:ue.a.agentname},s?i?_.a.createElement("div",{"data-id":"TeamWithAgent"},"type1"==r&&_.a.createElement("span",{className:ue.a.name,"data-title":t},t),_.a.createElement("span",{className:ue.a.arrow},_.a.createElement(W.TopbandFontIcon,{color:"dark",name:"down1",size:"8"})),_.a.createElement("div",{className:ue.a.teamName},_.a.createElement("span",{className:ue.a.spnBrckt},"("),_.a.createElement("span",{className:ue.a.groupShareTxt},_.a.createElement("span",{className:ue.a.circle}),_.a.createElement("span",{className:ue.a.dot1}),_.a.createElement("span",{className:ue.a.dot2}),_.a.createElement("span",{className:ue.a.dot3})),_.a.createElement("span",{className:ue.a.lftPanTeam},n),_.a.createElement("span",{className:ue.a.spnBrckt},")"))):_.a.createElement("span",{className:ue.a.name,"data-id":"TeamOnly","data-title":n},n):"type1"==r?_.a.createElement(Z.Container,{alignBox:"row",isCover:!1},_.a.createElement("span",{className:ue.a.name,"data-title":t||R.f.getI18NValue("support.unassigned"),"data-id":"ownerBtnContainer"},t||R.f.getI18NValue("support.unassigned")),c?_.a.createElement("span",{className:ue.a.arrow},_.a.createElement(W.TopbandFontIcon,{color:"dark",name:"down1",size:"8"})):null):null)))}}]),t}(_.a.Component);pe.defaultProps={isTeam:!1,haveChangePer:!0,isIconOnly:!1,type:"type1",size:"medium"},pe.propTypes=(le={agentName:y.a.string,assigneeId:y.a.string,disableClick:y.a.bool,getRef:y.a.func},M()(le,"getRef",y.a.func),M()(le,"haveChangePer",y.a.bool),M()(le,"isIconOnly",y.a.bool),M()(le,"isReadOnly",y.a.bool),M()(le,"isTeam",y.a.bool),M()(le,"isUnassigned",y.a.bool),M()(le,"name",y.a.string),M()(le,"onClick",y.a.func),M()(le,"photoURL",y.a.string),M()(le,"size",y.a.oneOf(["small","medium"])),M()(le,"teamName",y.a.string),M()(le,"type",y.a.string),le);var ge=Object(me.licensePermissionCheckHOC)({component:{license:"*",permission:"*"},props:{disableClick:function(e){var t=e.module,n=void 0===t?"tickets":t;return{permission:n+"_changeOwner"+(e.isUnassigned?"||"+n+"_unassignedChangeOwner":""),obj:!1,falseObj:!0}}}})(pe),fe=function(e){var t=e.features,n=void 0===t?[]:t,a=e.module,s=void 0===a?"tickets":a;return _.a.createElement(me.RestrictionValidator,{features:n,module:s,action:"assign"},_.a.createElement(ge,e))};fe.propTypes={features:y.a.array,module:y.a.string};var he=fe,ve=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.assigneeId,n=e.teamId,a=e.isLocked,o=e.removeClose,i=e.agentName,r=e.teamName,l=e.getTargetRef,c=e.photoURL,u=e.haveChangeOwnerPermission,d=e.haveUnassignedChangeOwnerPermission,m=e.onClick,p=!t&&!n,g=!a&&u;return p&&(g=!a&&(!!u||d)),_.a.createElement("div",{className:P.a.agentCont,onClick:o},_.a.createElement(he,{agentName:i,assigneeId:t,teamName:r,getRef:l,haveChangePer:g,isUnassigned:p,onClick:g?m:null,size:"small",photoURL:c,isTeam:n}),_.a.createElement(re,s()({},this.props,{needUnAssign:!p})))}}]),t}(v.Component),_e=ve;ve.propTypes={agentName:y.a.string,assigneeId:y.a.string,getTargetRef:y.a.func,haveChangeOwnerPermission:y.a.bool,haveUnassignedChangeOwnerPermission:y.a.bool,isFromBLuePrint:y.a.bool,isLocked:y.a.bool,isPopupOpen:y.a.bool,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var be=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.isPopupOpen,n=e.haveAddFollowersPermission,a=e.onClick,o=e.getTargetRef,i=e.removeClose;return _.a.createElement("div",{className:P.a.agentCont,onClick:i},_.a.createElement("div",{className:P.a.followerCont+" "+(t?P.a.focused:"")+" "+(n?"":P.a.notAllow),onClick:n&&a,ref:o},_.a.createElement(Z.Box,{className:P.a.followText,flexible:!0},R.f.getI18NValue("support.add.followers")),_.a.createElement("span",{className:P.a.dropIcon},_.a.createElement(W.TopbandFontIcon,{name:"blockDownArrow"}))),_.a.createElement(re,s()({},this.props,{needArrow:!1,needTeam:!1,needUnAssign:!1})))}}]),t}(v.Component),ye=be;be.propTypes={getTargetRef:y.a.func,haveAddFollowersPermission:y.a.bool,isPopupOpen:y.a.bool,onClick:y.a.func,removeClose:y.a.func};var Ie=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,n=e.assigneeId,a=e.agentName,o=e.photoURL,i=e.onClick,r=e.getTargetRef,l=e.removeClose,c=e.avatarSize,u=e.teamName,d=e.features,m=!n&&!t;return _.a.createElement("div",{className:P.a.agentCont,onClick:l},_.a.createElement(he,{agentName:a,getRef:r,teamName:u,isTeam:t,photoURL:o,isIconOnly:!0,isUnassigned:m,onClick:i,size:c,features:d,dataId:m?"addAgent":"ticketAssignPopup"}),_.a.createElement(re,s()({},this.props,{needUnAssign:!m})))}}]),t}(v.Component),ke=Ie;Ie.propTypes={agentName:y.a.string,assigneeId:y.a.string,avatarSize:y.a.string,features:y.a.array,getTargetRef:y.a.func,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var Ce=n(950),Oe=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.getTargetRef,a=e.removeClose,s=e.dataId;e.massActionType;return _.a.createElement(Z.Box,{className:P.a.agentCont,shrink:!0,onClick:a},_.a.createElement(Z.Container,{onClick:t,eleRef:n},_.a.createElement(Ce.a,{icon:"newuser",text:R.f.getI18NValue("support.sla.choose.assignto"),iconSize:"14",type:"primary",dataId:s})),_.a.createElement(re,this.props))}}]),t}(v.Component),Te=Oe;Oe.propTypes={dataId:y.a.string,getTargetRef:y.a.func,massActionType:y.a.strin,onClick:y.a.func,removeClose:y.a.func};var Ae=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,n=e.assigneeId,a=e.agentName,o=e.photoURL,i=e.onClick,r=e.getTargetRef,l=e.removeClose,c=(e.avatarSize,e.teamName),u=!n&&!t;return _.a.createElement("div",{className:P.a.agentCont,onClick:l},_.a.createElement(he,{agentName:a,teamName:c,isTeam:t,getRef:r,image:o,isIconOnly:!0,isUnassigned:u,onClick:i,size:"small"}),_.a.createElement(re,s()({},this.props,{needUnAssign:!u})))}}]),t}(v.Component),Se=Ae;Ae.propTypes={agentName:y.a.string,assigneeId:y.a.string,avatarSize:y.a.string,getTargetRef:y.a.func,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var xe=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.getTargetRef,a=e.removeClose;return _.a.createElement("div",{className:P.a.agentCont,onClick:a},_.a.createElement("span",{className:P.a.mactionTxt,onClick:t,ref:n},_.a.createElement(Ce.a,{icon:"newuser",text:_.a.createElement(R.c,{i18NKey:"support.sla.choose.assignto"}),iconSize:"14",type:"secondary"})),_.a.createElement(re,this.props))}}]),t}(v.Component),Ee=xe;xe.propTypes={getTargetRef:y.a.func,onClick:y.a.func,removeClose:y.a.func};var Ne=function(e){function t(e){return u()(this,t),g()(this,(t.__proto__||l()(t)).call(this,e))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.teamId,n=e.assigneeId,a=e.agentName,o=e.photoURL,i=e.onClick,r=e.getTargetRef,l=e.removeClose,c=(e.avatarSize,e.teamName),u=!n&&!t;return _.a.createElement("div",{className:P.a.agentCont,onClick:l},_.a.createElement(he,{agentName:a,teamName:c,isTeam:t,getRef:r,image:o,isIconOnly:!0,isUnassigned:u,onClick:i,size:"small"}),_.a.createElement(re,s()({},this.props,{needUnAssign:!u})))}}]),t}(v.Component),Pe=Ne;Ne.propTypes={agentName:y.a.string,assigneeId:y.a.string,avatarSize:y.a.string,getTargetRef:y.a.func,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var Le=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.getTargetRef,a=e.removeClose,o=e.isThreeLayout;return _.a.createElement(Z.Box,{className:P.a.agentCont,shrink:!0,onClick:a},_.a.createElement(Z.Container,{onClick:t,eleRef:n},_.a.createElement(Ce.a,{icon:"newuser",text:R.f.getI18NValue("support.sla.choose.assignto"),iconSize:o?"15":"17",type:"ticketLp"})),_.a.createElement(re,s()({},this.props,{position:"bottomRight",left:"-20"})))}}]),t}(v.Component),we=Le;Le.propTypes={getTargetRef:y.a.func,isThreeLayout:y.a.bool,onClick:y.a.func,removeClose:y.a.func};var Re=function(e){function t(){return u()(this,t),g()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),m()(t,[{key:"render",value:function(){var e=this.props,t=e.isPopupOpen,n=e.isFromBLuePrint,a=e.assigneeId,o=e.teamId,i=e.agentName,r=e.photoURL,l=e.teamName,c=e.onClick,u=e.getTargetRef,d=e.dataId,m=e.removeClose,p=!a&&!o;return _.a.createElement("div",{className:P.a.agent,onClick:m},_.a.createElement("div",{className:P.a.followerCont+"\n          "+(t?P.a.focused:"")+"\n          "+(n?P.a.bluePrintLayar:"")+"\n        ","data-id":d,onClick:c,ref:u},_.a.createElement("span",{className:P.a.ownerIcon},a||o?a&&o?_.a.createElement(K.a,{name:i,size:"medium",src:r}):a?_.a.createElement(K.a,{name:i,size:"medium",src:r}):o?_.a.createElement(H.a,{name:l,size:"medium",src:null}):"":_.a.createElement(de.a,{iconSize:"13",name:"addAgent",size:"medium"})),_.a.createElement(Z.Box,{flexible:!0},a&&o?i:a?i:o?l:R.f.getI18NValue("support.unassigned")),_.a.createElement("span",{className:P.a.dropIcon},_.a.createElement(W.TopbandFontIcon,{name:"blockDownArrow"}))),_.a.createElement(re,s()({},this.props,{needArrow:!1,boxSize:n?"default":"xxlarge",needUnAssign:!p})))}}]),t}(v.Component),je=Re;Re.propTypes={agentName:y.a.string,assigneeId:y.a.string,dataId:y.a.string,getTargetRef:y.a.func,isFromBLuePrint:y.a.bool,isPopupOpen:y.a.bool,onClick:y.a.func,photoURL:y.a.string,removeClose:y.a.func,teamId:y.a.string,teamName:y.a.string};var De=n(19),Be=n.n(De),Fe=function(e){function t(e){u()(this,t);var n=g()(this,(t.__proto__||l()(t)).call(this,e));return n.state={selectedIndex:0,defaultTab:"Agent",teamsList:[],searchStr:"",isPopupFirstTimeOpened:!1},n.keyUp=n.keyUp.bind(n),n.searchAgents=n.searchAgents.bind(n),n.searchTeams=Object(x.a)(n.searchTeams.bind(n),100,!0),n.onClick=n.onClick.bind(n),n.contentRef=n.contentRef.bind(n),n.setSelectRef=n.setSelectRef.bind(n),n.setScroll=n.setScroll.bind(n),n.setInputRef=n.setInputRef.bind(n),n.changeDefaultTab=n.changeDefaultTab.bind(n),n.getAgents=n.getAgents.bind(n),n.getTeams=n.getTeams.bind(n),n.constructTeamsList=n.constructTeamsList.bind(n),n.closeTeamagents=n.closeTeamagents.bind(n),n.getAgentsByTeam=n.getAgentsByTeam.bind(n),n}return h()(t,e),m()(t,[{key:"getAgents",value:function(){var e=this,t=this.props,n=t.getAgents,a=t.agentsList,s=t.onSearchAgents,o=this.state.isPopupFirstTimeOpened;return o||this.setState({isPopupFirstTimeOpened:!0}),o&&a.length?i.a.resolve():(this.setState({isAgentFetching:!0}),s(""),n().then(function(){e.setState({isAgentFetching:!1})}))}},{key:"searchAgents",value:function(e){var t=this;this.setState({searchStr:e});var n=this.props,a=n.onSearchAgents,s=n.getAgents;return a(e),e?(this.setState({isAgentFetching:!0}),s().then(function(){t.setState({isAgentFetching:!1})})):i.a.resolve()}},{key:"searchTeams",value:function(e){this.setState({searchStr:e});var t=this.constructTeamsList();if(e){var n=t.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.toLowerCase())});n.length;this.setState({teamsList:n,selectedIndex:0})}else this.setState({teamsList:t,selectedIndex:0})}},{key:"getTeams",value:function(){var e=this,t=this.props,n=t.getTeamsList,a=t.depId;this.setState({isTeamsFetching:!0}),n(a).then(function(){var t=e.constructTeamsList();e.setState({teamsList:t,isTeamsFetching:!1})})}},{key:"constructTeamsList",value:function(){var e=this.props,t=e.teamsIdList,n=e.teamsObject,a=[];if(t&&t.length)for(var s=0;s<t.length;s++){var o=t[s];n[o].derivedAgents.length&&a.push(n[o])}return a}},{key:"contentRef",value:function(e){this.scrollContainerRef=e}},{key:"setSelectRef",value:function(e){this.selectItemRef=e}},{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"onClick",value:function(e){var t=this.state.defaultTab,n=this.props,a=n.togglePopup,s=n.isPopupOpen;n.disableClick||(this.setState({searchStr:"",selectedIndex:0}),"Agent"===t?!s&&this.getAgents():!s&&this.getTeams(),a(e))}},{key:"changeDefaultTab",value:function(e){this.setState({defaultTab:e}),this.setState({searchStr:"",selectedIndex:0}),"Agent"===e?this.getAgents():this.getTeams()}},{key:"keyUp",value:function(e){var t=this,n=e.keyCode,a=this.state,s=a.selectedIndex,o=a.defaultTab,i=(a.noMoreData,a.teamsList),r=(a.searchStr,this.props),l=r.onChangeAssignee,c=r.addFollower,u=r.page,d=r.closePopupOnly,m=r.agentsList,p="Agent"==o?m:i;switch(n){case 40:s===p.length-1?this.setState({selectedIndex:0},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex+1},function(){t.setScroll()});break;case 38:0===s?this.setState({selectedIndex:p.length-1},function(){t.setScroll()}):this.setState({selectedIndex:this.state.selectedIndex-1},function(){t.setScroll()});break;case 13:d(e),"followers"===u?c(p[s].id,e):l({assigneeId:"Agent"==o?p[s].id:null,teamId:"Teams"==o?p[s].id:null},e)}}},{key:"setScroll",value:function(){var e=this.state.selectedIndex,t=this.scrollContainerRef,n=this.selectItemRef;if(n&&t){var a=n.offsetTop-t.scrollTop,s=n.offsetHeight,o=t.offsetHeight;(a<=0||s+a>o)&&(0===e?t.scrollTop=0:t.scrollTop+=a)}}},{key:"closeTeamagents",value:function(){this.setState({openTeamId:null})}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.isPopupOpen&&setTimeout(function(){n.inputRef&&n.inputRef.focus()},300),e.isPopupOpen!==this.props.isPopupOpen&&(this.closeTeamagents(),this.props.teamId?this.setState({defaultTab:"Teams",selectedIndex:0}):this.setState({defaultTab:"Agent"})),t.defaultTab!==this.state.defaultTab&&this.setState({selectedIndex:0})}},{key:"componentDidMount",value:function(){this.props.teamId&&this.setState({defaultTab:"Teams"})}},{key:"getAgentsByTeam",value:function(e){this.props.getAgentsByTeam(e),this.setState({openTeamId:e})}},{key:"render",value:function(){var e=this.props,t=e.followersList,n=e.page,a=e.agentsList;"followers"==n&&(a=a.filter(function(e){return!t.filter(function(t){return t.id===e.id}).length}));var o={changeDefaultTab:this.changeDefaultTab,closeTeamagents:this.closeTeamagents,contentRef:this.contentRef,getAgents:this.getAgents,getAgentsByTeam:this.getAgentsByTeam,keyUp:this.keyUp,onClick:this.onClick,searchAgents:this.searchAgents,searchTeams:this.searchTeams,setInputRef:this.setInputRef,setSelectRef:this.setSelectRef,agentsList:a};return"ticketDv"==n?_.a.createElement(_e,s()({},this.props,this.state,o)):"followers"==n?_.a.createElement(ye,s()({},this.props,this.state,o)):"listAssign"==n?_.a.createElement(ke,s()({},this.props,this.state,o)):"listPageMass"==n?_.a.createElement(Te,s()({},this.props,this.state,o)):"queueAssign"==n?_.a.createElement(Se,s()({},this.props,this.state,o)):"queueMassAssign"==n?_.a.createElement(Ee,s()({},this.props,this.state,o)):"leftPanelList"==n?_.a.createElement(Pe,s()({},this.props,this.state,o)):"leftPanelMass"==n?_.a.createElement(we,s()({},this.props,this.state,o)):"Form"==n?_.a.createElement(je,s()({},this.props,this.state,o)):null}}]),t}(_.a.Component);Fe.propTypes={addFollower:b.PropTypes.func,closePopupOnly:b.PropTypes.func,depId:b.PropTypes.string,disableClick:b.PropTypes.bool,followersList:b.PropTypes.array,getAgentsByTeam:b.PropTypes.func,getTeamsList:b.PropTypes.func,isPopupOpen:b.PropTypes.bool,onChangeAssignee:b.PropTypes.func,page:b.PropTypes.string,teamsIdList:b.PropTypes.array,teamsObject:b.PropTypes.object,togglePopup:b.PropTypes.func};t.a=Object(I.d)(Object(k.connect)(function(e,t){var n=t.deptId,a=n||Object(S.r)(e),s=e.myInfo.namePattern;return{depId:a,teamsObject:e.module.teams,activeAgentsId:e.activeAgents,agentsObject:e.module.agent,teamsIdList:Be()("departmentSpecificState."+a+".teamsList",e)||[],namePattern:s}},{getTeamsList:C.u,getAgentsByTeam:O.e}),A.a,Object(E.a)("activeConfirmedNonLightAgents"))(Fe)},988:function(e,t,n){"use strict";var a=n(12),s=n.n(a),o=n(9),i=n.n(o),r=n(10),l=n.n(r),c=n(13),u=n.n(c),d=n(14),m=n.n(d),p=n(0),g=n.n(p),f=n(153),h=n(990),v=n.n(h),_=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||s()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"tag"},g.a.createElement("image",{xlinkHref:v.a,height:"100%",width:"100%"}))}}]),t}(g.a.Component);t.a=_},989:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyArchived.597591ca8a4e7ed77222.svg"},990:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyTag.b2752508f3c1c615c56c.svg"},991:function(e,t,n){e.exports={viewSearch:"ViewDefaultEmpty-module__viewSearch",srchTxt:"ViewDefaultEmpty-module__srchTxt",srchLink:"ViewDefaultEmpty-module__srchLink",srchImg:"ViewDefaultEmpty-module__srchImg"}},995:function(e,t,n){e.exports={item:"AgentsList-module__item",hoverItem:"AgentsList-module__hoverItem",selectedItem:"AgentsList-module__selectedItem AgentsList-module__item",text:"AgentsList-module__text common-module__dflex common-module__flexgrow",markedIcon:"AgentsList-module__markedIcon",assignName:"AgentsList-module__assignName",posrel:"AgentsList-module__posrel"}},998:function(e,t,n){e.exports={posrel:"TeamsList-module__posrel",item:"TeamsList-module__item TeamsList-module__posrel common-module__dflex common-module__alignVertical",hoverItem:"TeamsList-module__hoverItem",selectedItem:"TeamsList-module__selectedItem TeamsList-module__item TeamsList-module__posrel common-module__dflex common-module__alignVertical",teamUser:"TeamsList-module__teamUser common-module__flexshrink",assignName:"TeamsList-module__assignName common-module__dotted common-module__oflow common-module__ellipsis",text:"TeamsList-module__text common-module__dflex common-module__flexgrow",markedIcon:"TeamsList-module__markedIcon"}},999:function(e,t,n){e.exports={backDiv:"TeamsAgent-module__backDiv",backIcon:"TeamsAgent-module__backIcon",teamHead:"TeamsAgent-module__teamHead common-module__semibold common-module__ftsmooth",connectIcon:"TeamsAgent-module__connectIcon",bgconnectIcon:"TeamsAgent-module__bgconnectIcon",searchDiv:"TeamsAgent-module__searchDiv",teamName:"TeamsAgent-module__teamName common-module__dotted common-module__oflow common-module__ellipsis"}}}]);