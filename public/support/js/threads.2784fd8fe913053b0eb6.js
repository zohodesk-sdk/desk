(window.deskappJsonp=window.deskappJsonp||[]).push([[123],{1004:function(e,t,a){"use strict";(function(e){var n=a(11),o=a.n(n),r=a(2),i=a.n(r),s=a(12),l=a.n(s),c=a(9),d=a.n(c),u=a(10),m=a.n(u),p=a(13),h=a.n(p),f=a(14),g=a.n(f),v=a(0),_=a.n(v),E=(a(1),a(16)),b=a(1012),y=a(997),I=a(1013),C=a.n(I),A=(a(1014),function(t){function a(e){d()(this,a);var t=h()(this,(a.__proto__||l()(a)).call(this,e));t.state={isEditorLoad:!1};return y.a.apply(t,["editorCallback","handleUpload","handleChange","focusCallback","handleInlineUpload","processPastedFile","handleDropUpload","blurCallback"]),t}return g()(a,t),m()(a,[{key:"componentDidMount",value:function(){var t=this.props,a=t.id,n=t.value,o=t.editorMode,r=void 0===o?"":o,s=t.editorOptions,l=void 0===s?{}:s,c=t.needEditorFocus,d=void 0===c||c,u=t.mode;if(a&&e.ZohoDeskEditor){var m={id:a,content:n,callback:this.editorCallback,imageuploadcallback:this.handleInlineUpload,processPastedFile:this.processPastedFile,handleInlineDropImage:this.handleDropUpload,contentChanged:this.handleChange,focusCallback:this.focusCallback,lineHeight:"Normal",needEditorFocus:d,blurCallback:this.blurCallback,mode:u};m=i()(m,l),ZohoDeskEditor_Init.init(r),ZohoDeskEditor.create&&ZohoDeskEditor.create(m)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.id,n=t.chageEditorContent;t.value;e.isEmptyContent&&editor[a]&&editor[a].setContent(""),e.chageEditorContent!=n&&e.chageEditorContent&&void 0!==n&&editor[a].setContent(e.value)}},{key:"componentWillUnmount",value:function(){var t=this.props.id;e.editor&&e.editor[t]&&delete e.editor[t]}},{key:"focusCallback",value:function(){var e=this.props.onFocus;e&&e()}},{key:"handleChange",value:function(){var e=this.props,t=e.onChange,a=e.id,n=editor[a]?editor[a]:{},o=n.getContent?n.getContent():"";Object(b.a)(n)||(o=""),o="plaintext"===n.mode?Object(b.b)(o):o,t&&t(o.trim(),a)}},{key:"editorCallback",value:function(t){var a=this.props.editorCallback;this.setState({isEditorLoad:!0});var n=this.props.id;e.editor=e.editor||{},editor[n]||(editor[n]=t),a&&a(t)}},{key:"handleInlineUpload",value:function(e,t,a,n,o){this.handleUpload(e).then(function(e){var a={};a[0]={url:e,desc:o},t(a,n)},function(){a(n)})}},{key:"handleDropUpload",value:function(e,t,a){this.handleUpload(e).then(function(e){t(e)},function(){a()})}},{key:"blurCallback",value:function(){var e=this.props.blurCallback;e&&e()}},{key:"processPastedFile",value:function(e,t,a,n){var o=void 0;"blob"===t?o=e:(o=new Blob([e.split(",")[1]],{type:"image/png"})).name="zohokb_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1);this.handleUpload(o).then(function(e){a(e)},function(){n()})}},{key:"handleUpload",value:function(e){var t=this.props.onUpload;try{var a=new FormData;return a.append("file",e),t(a).then(function(e){var t=e.data||{},a=t.data,n=t.orgId,o=a||{},r=o.id,i=o.href;if(r)return i+"?orgId="+n;throw{}},function(e){throw e})}catch(e){return o.a.reject()}}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.dataId,n=this.state.isEditorLoad;return _.a.createElement(E.Container,{className:C.a.editDraft,dataId:a},!n&&_.a.createElement("div",{className:C.a.stencillist9},_.a.createElement("div",{className:C.a.stencilLoading}),_.a.createElement("div",{className:C.a.stencilLoading}),_.a.createElement("div",{className:C.a.stencilLoading}),_.a.createElement("div",{className:C.a.stencilLoading}),_.a.createElement("div",{className:C.a.stencilLoading}),_.a.createElement("div",{className:C.a.stencilLoading})),_.a.createElement(E.Box,{flexible:!0,id:t,dataId:a}))}}]),a}(v.Component));t.a=A}).call(this,a(68))},1007:function(e,t,a){"use strict";var n,o=a(5),r=a.n(o),i=a(12),s=a.n(i),l=a(9),c=a.n(l),d=a(10),u=a.n(d),m=a(13),p=a.n(m),h=a(14),f=a.n(h),g=a(0),v=a.n(g),_=a(1),E=a.n(_),b=a(1042),y=a.n(b),I=a(157),C=a.n(I),A=a(30),k=a(80),S=a.n(k),N=a(72),D=a.n(N),T=a(1026),x=a.n(T),w=a(361),O=a.n(w),F=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.handleSelect=a.handleSelect.bind(a),a.togglePopup=a.togglePopup.bind(a),a}return f()(t,e),u()(t,[{key:"handleSelect",value:function(e,t,a,n){if(void 0!==this.props.onSelect){var o=this.props;(0,o.onSelect)(e,o.entity)}this.props.togglePopup(n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.boxPosition;e.stopPropagation(),a(e,n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isPopupOpen,n=t.onPopupChange;e.isPopupOpen!==a&&n&&n(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=void 0===a?"white":a,o=t.objValues,r=t.Icnsize,i=t.IcnName,s=(t.removeClose,t.listStyle,t.arrowPosition),l=t.position,c=t.right,d=(t.isScroll,t.widgets),u=void 0===d?[]:d,m=t.onWidgetScroll,p=t.onWidgetSelect,h=t.selectedWidgetId,f=t.arrowRight,g=t.arrowLeft,_=t.size,E=t.left,b=t.isPopupOpen,I=t.isPopupReady,k=t.getTargetRef,S=t.getContainerRef;return r=r||"medium",v.a.createElement("span",{className:C.a.posrel,ref:k,onClick:this.togglePopup},v.a.createElement("span",{className:y.a.defaultSize+" "+C.a.posrel+" "+y.a[n]},v.a.createElement("span",null,v.a.createElement(A.TopbandFontIcon,{name:i,size:r}))),b?v.a.createElement("span",{className:y.a.dropDivPosition},v.a.createElement(D.a,{isAnimate:!0,right:c,left:E,isActive:I,size:_,arrowRight:f,arrowLeft:g,boxPosition:l,getRef:S,arrowPosition:s},o.map(function(t,a){return v.a.createElement(O.a,{autoHover:!0,value:t.name,iconName:t.iconName||null,iconClass:t.iconClass,iconSize:t.size,key:a,id:t.name,onClick:e.handleSelect,dataId:"Delete"===t.name?"delete":"Edit"===t.name?"edit":t.name})}),o.length&&u.length?v.a.createElement(x.a,null):null,u.length?v.a.createElement("div",{className:y.a.widgetList,onScroll:m},u.map(function(e){var t=e.name,a=e.sanitisedName+"_"+e.installationId;return h!=a?v.a.createElement(O.a,{autoHover:!0,value:decodeURIComponent(t),iconName:null,key:a,id:a,onClick:function(){p(a,e)}}):null})):null)):null)}}]),t}(g.Component);F.defaultProps={IcnName:"more1",size:"small"},F.propTypes=(n={IcnName:E.a.string,Icnsize:E.a.string,arrowLeft:E.a.string,arrowPosition:E.a.string,arrowRight:E.a.string,boxPosition:E.a.string,entity:E.a.object,getContainerRef:E.a.func},r()(n,"getContainerRef",E.a.func),r()(n,"getTargetRef",E.a.func),r()(n,"isPopupOpen",E.a.bool),r()(n,"isPopupReady",E.a.bool),r()(n,"isScroll",E.a.bool),r()(n,"left",E.a.string),r()(n,"listStyle",E.a.string),r()(n,"objValues",E.a.array),r()(n,"onPopupChange",E.a.func),r()(n,"onSelect",E.a.func),r()(n,"onWidgetScroll",E.a.func),r()(n,"onWidgetSelect",E.a.func),r()(n,"position",E.a.string),r()(n,"removeClose",E.a.func),r()(n,"right",E.a.string),r()(n,"selectedWidgetId",E.a.string),r()(n,"size",E.a.string),r()(n,"theme",E.a.string),r()(n,"togglePopup",E.a.func),r()(n,"widgets",E.a.array),n),t.a=S()(F)},1012:function(e,t,a){"use strict";function n(e){var t=e&&e.getContent&&e.getContent()||"";return!(""==t||!t.length||"<div><br></div>"==t||!("plaintext"===e.mode||e.doc.body.innerText.trim().length||e.doc.getElementsByTagName("img").length||e.doc.getElementsByTagName("iframe").length))}function o(e){return 1==/<|>|&|"|'|\\/g.test(e)&&(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/\\/g,"&#x5c;")).replace(/'/g,"&#39;")),e}a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},1013:function(e,t,a){e.exports={icon:"TextEditor-module__icon",small:"TextEditor-module__small",threeDotIcon:"TextEditor-module__threeDotIcon",editDraft:"TextEditor-module__editDraft",New_Editor_MultiTools:"TextEditor-module__New_Editor_MultiTools",cardDetail:"TextEditor-module__cardDetail",stencilLoading:"TextEditor-module__stencilLoading",stencillist9:"TextEditor-module__stencillist9",Stencils__placeHolderShimmer:"TextEditor-module__Stencils__placeHolderShimmer"}},1014:function(e,t,a){(function(e){e.ZohoDeskEditor_Init=function(){},ZohoDeskEditor_Init.init=function(e){ZohoDeskEditor_Init.version="v1.8.9",ZohoDeskEditor_Init.inlineQuotes=!0,ZohoDeskEditor_Init.csrfCookieVal="",ZohoDeskEditor_Init.csrfParamVal="",ZohoDeskEditor_Init.defaultFontSize="16",ZohoDeskEditor_Init.defaultFontFamily="ProximaNovaRegular, Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.dropDownTopPadding=11,ZohoDeskEditor_Init.dropDownLeftPadding=5,ZohoDeskEditor_Init.slidebarClass="KB_Editor_DropDown_Slidebar";var t=navigator.userAgent.toLowerCase();ZohoDeskEditor_Init.is_ie=-1!==t.indexOf("ie"),ZohoDeskEditor_Init.is_safari=-1!==t.indexOf("safari"),ZohoDeskEditor_Init.is_opera=-1!==t.indexOf("opera"),ZohoDeskEditor_Init.is_mac=-1!==t.indexOf("mac"),ZohoDeskEditor_Init.loading=!0,ZohoDeskEditor_Init.changedTools=["fontfamily"],ZohoDeskEditor_Init.spellcheckURL="lt.zoho.com",ZohoDeskEditor_Init.useProxy=!0,ZohoDeskEditor_Init.useSameDomain=!0,ZohoDeskEditor_Init.domain=document.domain,ZohoDeskEditor_Init.contextVal="support",ZohoDeskEditor_Init.spellcheckProxyUrl="/"+ZohoDeskEditor_Init.contextVal+"/ze",ZohoDeskEditor_Init.tabKeyHandling=!0;var a=window.location.protocol,n="",o="com",r="",i=".zohostatic.";"US".indexOf("SKY")>-1&&(i=".skydeskstatic.",o="jp"),"US".indexOf("RO")>-1&&(r="-ro"),["LOC","DEV"].indexOf("US")>-1&&(n="local"),ZohoDeskEditor_Init.jsurl=a+"//"+n+"localjs"+r+i+o+"/zde/"+ZohoDeskEditor_Init.version+"/js/",ZohoDeskEditor_Init.cssurl=a+"//"+n+"localcss"+r+i+o+"/zde/"+ZohoDeskEditor_Init.version+"/css/",ZohoDeskEditor_Init.imgurl=a+"//"+n+"localimg"+r+i+o+"/zde/"+ZohoDeskEditor_Init.version+"/images/","CommentEditor"==e||"replyComments"==e?(ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["undterline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["link","Insert link","#KBEditortools_insertlink","KBEditortools-insertlink"],["table","Insert table","#KBEditortools_inserttable","KBEditortools-inserttable"]],"replyComments"==e&&(ZohoDeskEditor_Init.toolbarOrder=ZohoDeskEditor_Init.toolbarOrder.slice(0,5))):ZohoDeskEditor_Init.toolbarOrder=[["bold","Bold (Ctrl+B)","#KBEditortools_txtbold","KBEditortools-txtbold"],["italic","Italic (Ctrl+I)","#KBEditortools_txtitalic","KBEditortools-txtitalic"],["underline","Underline (Ctrl+U)","#KBEditortools_txtunderline","KBEditortools-txtunderline"],["forecolor","Font color","#KBEditortools_clrpick","KBEditortools-clrpick"],["backcolor","Background color","#KBEditortools_bgclr","KBEditortools-bgclr"],["heading","Headings","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Text_Type"],["fontSize","Font size","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div TextSize_Type"],["alignoptions","Align","#KBEditortools_align_left","KBEditortools-align-left"],["listoptions","Lists","#KBEditortools_list_round","KBEditortools-list-round"],["indentoptions","Indent","#KBEditortools_increaseindent","KBEditortools-increaseindent"],["attach","Insert image","#KBEditortools_insertimage","KBEditortools-insertimage"],["removeFormat","Clear formatting","#KBEditortools_clr","KBEditortools-clr"],["articlelink","Insert article as link","#KBEditortools_linkarticle","KBEditortools-linkarticle"],["insertoptions","Insert options","#KBEditortools_block_down_arrow","KB_Editor_Bdr_div Insert_Type"],["editorexpand","Normal view","#KBEditortools_expand","KBEditortools-expand"],["styletext","Text Style","#KBEditortools_txtbgclr","KBEditortools-txtbgclr"],["plaintext","Plain text","#KBEditortools_arrow","KB_Editor_PlainText KB_Editor_FullScreen"]],ZohoDeskEditor_Init.heading=[{htm:"Heading 1",datAttr:"h1"},{htm:"Heading 2",datAttr:"h2"},{htm:"Heading 3",datAttr:"h3"},{htm:"Normal",datAttr:"p"}],ZohoDeskEditor_Init.insertoptions=[{htm:"Insert link",datAttr:"link",iconClass:"KBEditortools-insertlink",svgId:"#KBEditortools_insertlink"},{htm:"Remove link",datAttr:"unlink",iconClass:"KBEditortools-removelink",svgId:"#KBEditortools_removelink"},{htm:"Insert HTML",datAttr:"object",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Edit HTML",datAttr:"edithtml",iconClass:"KBEditortools-embed2",svgId:"#KBEditortools_embed_2"},{htm:"Insert table",datAttr:"table",iconClass:"KBEditortools-inserttable",svgId:"#KBEditortools_inserttable"},{htm:"Insert horizontal rule",datAttr:"inserthorizontalrule",iconClass:"KBEditortools-hr",svgId:"#KBEditortools_hr"},{htm:"Insert code",datAttr:"code",iconClass:"KBEditortools-code",svgId:"#KBEditortools_code"}],ZohoDeskEditor_Init.align=[{htm:"Align left",datAttr:"justifyleft",iconClass:"KBEditortools-align-left",svgId:"#KBEditortools_align_left"},{htm:"Align right",datAttr:"justifyright",iconClass:"KBEditortools-align-right",svgId:"#KBEditortools_align_right"},{htm:"Align justify",datAttr:"justifyfull",iconClass:"KBEditortools-align-justify",svgId:"#KBEditortools_align_justify"},{htm:"Align center",datAttr:"justifycenter",iconClass:"KBEditortools-align-center",svgId:"#KBEditortools_align_center"}],ZohoDeskEditor_Init.list=[{htm:"Bullets",datAttr:"insertunorderedlist",iconClass:"KBEditortools-list-round",svgId:"#KBEditortools_list_round"},{htm:"Numbering",datAttr:"insertorderedlist",iconClass:"KBEditortools-list-number",svgId:"#KBEditortools_list_number"}],ZohoDeskEditor_Init.indent=[{htm:"Increase indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"}],ZohoDeskEditor_Init.others=[{htm:"Check spelling",datAttr:"spellcheck"},{htm:"Plain text mode",datAttr:"switchmode"}],ZohoDeskEditor_Init.attachDrop=[{clk:function(e){e.uploadImage("load"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"Upload",iconClass:"KBEditortools-upload",svgId:"#KBEditortools_upload"},{clk:function(e){callZDOCSAttachViewer(docsObj,"inline")},htm:"Gallery",iconClass:"KBEditortools-image",svgId:"#KBEditortools_image"},{clk:function(e){e.uploadImage("url"),ZohoDeskEditor_Init.needEditorStats&&e.updateCount("image")},htm:"URL",iconClass:"KBEditortools-sphere",svgId:"#KBEditortools_sphere"}],ZohoDeskEditor_Init.fontSize=[{htm:"8",datAttr:"1"},{htm:"10",datAttr:"2"},{htm:"12",datAttr:"3"},{htm:"14",datAttr:"4"},{htm:"18",datAttr:"5"},{htm:"24",datAttr:"6"},{htm:"36",datAttr:"7"}];var s=function(e){ZohoDeskEditor_Init.toolbarOrder.splice(e,0,["fontfamily","Font","#KBEditortools_Icon_Font","KBEditortools_Icon_Font"]),ZohoDeskEditor_Init.fontfamily=[{htm:"ProximaNova",ff:"ProximaNovaRegular, Arial, Helvetica"},{htm:"Arial",ff:"Arial, Helvetica, sans-serif"},{htm:"Helvetica",ff:"undefined"},{htm:"Verdana",ff:"verdana"},{htm:"Wide",ff:'"arial black"'},{htm:"Courier New",ff:'"courier new", courier, monospace'},{htm:"Comic Sans MS",ff:'"comic sans ms"'},{htm:"Garamond",ff:"garamond, serif"},{htm:"Georgia",ff:"georgia, times new roman, times, serif"},{htm:"Narrow",ff:'"arial narrow", sans-serif'},{htm:"Serif",ff:"serif, times new roman"},{htm:"Tahoma",ff:"tahoma, arial, helvetica, sans-serif"},{htm:"Times New Roman",ff:'"times new roman", times, serif'},{htm:"Trebuchet",ff:'"trebuchet ms", arial, helvetica, sans-serif'},{htm:"Calibri",ff:"Calibri, Verdana, Arial, sans-serif"}]};if("TicketReply"===e){for(var l=0,c=(d=[5,11,12,12,12]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.toolbarOrder.unshift(["template","Template","#TemplateIcon","TemplateIcon"]),ZohoDeskEditor_Init.toolbarOrder.unshift(["snippet","","#SnippetIcon","SnippetIcon"]),ZohoDeskEditor_Init.defaultFontSize=10,ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.dropDownTopPadding=2,ZohoDeskEditor_Init.dropDownLeftPadding=0,s(5),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.tabKeyHandling=!1,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),ZohoDeskEditor_Init.moreoptions=[{htm:"Plain Text",datAttr:"plaintext"}]}if("Snippets"===e){var d;for(l=0,c=(d=[5,8,8,8,8,9,10]).length;l<c;l++)ZohoDeskEditor_Init.toolbarOrder.splice(d[l],1);ZohoDeskEditor_Init.defaultFontSize=12,ZohoDeskEditor_Init.toolbarOrder.push(["moreoptions","More","#KBEditortools_more1","Kbeditor_more_icon"]),s(5),ZohoDeskEditor_Init.moreoptions=[{htm:"Increase Indent",datAttr:"indent",iconClass:"KBEditortools-increaseindent",svgId:"#KBEditortools_increaseindent"},{htm:"Decrease Indent",datAttr:"outdent",iconClass:"KBEditortools-decreaseindent",svgId:"#KBEditortools_decreaseindent"},{htm:"Plain Text",datAttr:"plaintext"}]}"TicketForm"===e&&(ZohoDeskEditor_Init.attachDrop.splice(1,1),ZohoDeskEditor_Init.insertoptions.push({htm:"Insert quote",datAttr:"quote",iconClass:"KBEditortools-quote",svgId:"#KBEditortools_quote"}),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheck","Spell Check","#KBEditortools_spellcheck","KBEditortools_spellcheck"]),ZohoDeskEditor_Init.toolbarOrder.push(["spellcheckoptions","Spell Check Languages","#KBEditortools_block_down_arrow","KBEditortools-Block-down-arrow"]),ZohoDeskEditor_Init.toolbarOrder.splice(12,1),ZohoDeskEditor_Init.toolbarOrder.splice(13,1),ZohoDeskEditor_Init.toolbarOrder.splice(3,0,["strikethrough","Strikethrough","#KBEditortools_strike","KBEditortools_strike"]),ZohoDeskEditor_Init.defaultFontFamily="Arial, Helvetica, sans-serif",s(6))}}).call(this,a(68))},1019:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1027),_=a.n(v),E=a(30),b=a(16),y=a(174),I=function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.constructPreviewData=a.constructPreviewData.bind(a),a}return m()(t,e),l()(t,[{key:"openNewTab",value:function(e){window.open(e)}},{key:"constructImgURL",value:function(e){var t=this.props.orgId,a=e.indexOf("/api"),n=e.slice(a,e.length);return n+="?orgId="+t+"&inline=true"}},{key:"constructPreviewData",value:function(e){var t=this.props,a=t.oldAttachments,n=t.newAttachments,o=t.showAttachmentViewer,r=a.length?a.concat(n):n;Object(y.a)(e,r,function(e){o(e)})}},{key:"constructAttachItem",value:function(e,t){var a=e.id,n=e.isPreview,o=e.viewUrl,r=e.href,i=e.name,s=e.size,l=e.percentComplete,c=void 0===l?"0":l,d=this.props,u=d.deleleUpload,m=d.removeAttachment,p=(d.isPeekView,o||(n?r:this.constructImgURL(r))),f=Object(y.j)(i),g=Object(y.e)(s),v=Object(y.c)(i);return h.a.createElement("div",{className:_.a.upload+" "+_.a.mr12+" "+(n?_.a.preview:"")},n?h.a.createElement("div",{className:_.a.loader,style:{width:c+"%"}}):null,f?h.a.createElement("img",{onClick:!n&&this.constructPreviewData.bind(this,a),src:p,className:_.a.uploadimage}):h.a.createElement("div",{className:_.a.attachInfo,onClick:this.openNewTab.bind(this,p)},h.a.createElement(E.CommonFontIcon,{name:v,size:"14"}),h.a.createElement("span",{className:_.a.attachsize},g)),n?null:h.a.createElement("span",{className:_.a.uploadclose,onClick:n?null:"new"==t?u.bind(this,a):m.bind(this,a),"data-id":"deleteUpload"},h.a.createElement(E.TopbandFontIcon,{name:"close",size:"12",color:"pure"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.oldAttachments,n=t.newAttachments,o=t.from,r=t.isPeekView,i=_.a.attachList;return"leftPanel"==o?i=i+" "+_.a.w75:"replyEdtior"==o&&(i=r?i+" "+_.a.peekReplyAttach:i+" "+_.a.replyAttach),a&&a.length||n&&n.length?h.a.createElement(b.Container,{alignBox:"row",scroll:"horizontal",className:i},a&&a.length?a.map(function(t,a){return h.a.createElement(b.Box,{key:a},e.constructAttachItem(t,"old"))}):null,n&&n.length?n.map(function(t,a){return h.a.createElement(b.Box,{key:a,dataId:"attachmentItem_"+(a+1)},e.constructAttachItem(t,"new"))}):null):null}}]),t}(h.a.Component);t.a=I,I.propTypes={data:g.a.object,deleleUpload:g.a.func,from:g.a.string,isPeekView:g.a.bool,newAttachments:g.a.array,oldAttachments:g.a.array,orgId:g.a.string,removeAttachment:g.a.func,showAttachmentViewer:g.a.func}},1021:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(244),_=a(250),E=a(73),b=a.n(E),y=a(245),I=a(247),C=a(1063),A=a.n(C),k=a(359),S=a.n(k),N=a(3),D=function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.documentKeyupHandler=a.documentKeyupHandler.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,a=t.onSubmitClick,n=t.onCancelClick,o=t.isActive;27===e.keyCode&&o?n():13===e.keyCode&&o&&a()}},{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.palette,n=e.size,o=e.type,r=e.title,i=e.message,s=e.confirmationMessage,l=e.submitText,c=e.cancelText,d=e.onSubmitClick,u=e.onCancelClick,m=e.children;return h.a.createElement(S.a,{portalId:N.v},h.a.createElement(v.a,{isShow:t,size:n},h.a.createElement(_.a,{title:r,palette:a,iconType:o}),h.a.createElement(y.a,{alignBox:"row",className:A.a.section},h.a.createElement("div",{className:A.a.innerSection},m||h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),s&&h.a.createElement("div",{className:A.a.text},s))),h.a.createElement("div",{className:A.a.footer},h.a.createElement(I.a,null,h.a.createElement("div",{className:A.a.footerInnerSpacing},h.a.createElement(b.a,{text:l,palette:"primary"==a?"primaryFilled":"dangerFilled",onClick:d}),c&&h.a.createElement("span",{className:A.a.buttonGap},h.a.createElement(b.a,{text:c,palette:"secondary",onClick:u}))))))))}}]),t}(p.Component);t.a=D,D.propTypes={alertData:g.a.object,isActive:g.a.bool,onCancelClick:g.a.func,onSubmitClick:g.a.func,palette:g.a.oneOf(["default","primary","danger"]),size:g.a.oneOf(["small","medium"]),type:g.a.oneOf(["delete","alert","remoteAssist","splitTicket"])},D.defaultProps={isActive:!1,type:"alert",palette:"danger",size:"small"}},1026:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=i(a(0)),r=i(a(360));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){return o.default.createElement("div",{className:r.default.separator})}}]),t}();t.default=s},1027:function(e,t,a){e.exports={upload:"UploadList-module__upload common-module__cboth",uploadimage:"UploadList-module__uploadimage",loader:"UploadList-module__loader",uploadclose:"UploadList-module__uploadclose",attachsize:"UploadList-module__attachsize common-module__dotted common-module__oflow common-module__ellipsis",attachInfo:"UploadList-module__attachInfo",attachList:"UploadList-module__attachList",mr12:"UploadList-module__mr12",w75:"UploadList-module__w75",preview:"UploadList-module__preview",replyAttach:"UploadList-module__replyAttach",peekReplyAttach:"UploadList-module__peekReplyAttach"}},1028:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i}),a.d(t,"f",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return c});var n=a(6);function o(e,t){var a=editor[e];a&&t&&a.insertHTML(t)}function r(e){var t=editor[e];if(null!=t){var a=t.getContent();return"<br>"==(a=a.trim())?"":("plaintext"==t.mode&&(a=function(e){void 0!==e&&(e=(e=encodeHTML(e)).replace(/\n/g,"<br/>"));return e}(a)),a)}return""}function i(e,t,a,n){var o={content:"",isSnippetExist:!1,triggerWord:""},r="";if(e.modify){var i=e.getRangeAt(0);e.collapseToStart(),e.modify("move","backward","word"),e.modify("extend","forward","word");var s=e.toString().toLowerCase().trim(),l=n.filter(function(e){return e.snippetWord.toLowerCase()==s.toLowerCase()});null!=(r=l.length?l[0].expandedContent:"")&&""!=r&&r.length>0?(o.isSnippetExist=!0,o.content=r,o.triggerWord=s.toLowerCase(),i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)):(o.content="&nbsp;&nbsp;&nbsp;&nbsp;",o.triggerWord=s.toLowerCase()),e.removeAllRanges(),e.addRange(i)}else o=function(e,t,a,n){var o="",r=e.getRangeAt(0);r.collapse(!0),r.setStart(e.anchorNode,0),o=r.toString();var i=r.cloneRange(),s=e.anchorNode.textContent,l=/\s+/,c=s.split(l).filter(Boolean),d=o.split(l).filter(Boolean),u="",m="",p={content:"",isSnippetExist:!1,triggerWord:""},h=d[d.length-1];if(""!=h&&void 0!==h){u=c[d.length-1],parseInt(u.length);var f=u.toLowerCase(),g=n.filter(function(e){var t=e.snippetWord;return t.toLowerCase()==f.toLowerCase()});m=g.length?g[0].expandedContent:""}if(null!=m&&""!=m&&null!=m){var v=parseInt(u.length-h.length),_=parseInt(o.length);v>0&&(_+=v);var E=parseInt(o.length+v-u.length),b=o.length-o.replace(/\s+$/g,"").length;(E-=b)<0&&(E=0),i.setStart(e.anchorNode,E),i.setEnd(e.focusNode,_),p.isSnippetExist=!0}else m=o;return p.content=m,p.triggerWord=u.toLowerCase(),e.removeAllRanges(),e.addRange(i),p}(e,0,0,n);return o}function s(e,t,a,o,r){for(var i={"${Cases.Contact Name}":Object(n.e)(a.firstName,a.lastName),"${Cases.Email}":a.email||"","${Cases.Phone}":t.phone||"","${Cases.Subject}":t.subject,"${Cases.Description}":t.description||"","${Cases.Request Id}":t.ticketNumber,"${Cases.Account Name}":o?o.accountName:"","${Cases.First Name}":a.firstName||"","${Cases.Last Name}":a.lastName||"","${Cases.CUSTOMER_PORTAL_LINK}":"10","${User.Support Rep Name}":Object(n.e)(r.firstName,r.lastName),"${User.Email}":r.emailId||"","${User.Phone}":r.phone||"","${User.First Name}":r.firstName||"","${User.Last Name}":r.lastName||"","${User.Mobile}":r.mobile||""},s=e.match(/(\$\{\w+\.[\w\s]+\})/g)||[],l=0;l<s.length;l++)e=e.replace(s[l],i[s[l]]);return e}function l(e){if(void 0===e)return!0;var t=e.getContent()||"";return""==t||"<div><br></div>"==t||!e.doc.body.textContent.trim().length}function c(e){return e.replace(/(<iframe.+?<\/iframe>)/g,function(e){var t=e.match(/(htt.+?")/)[0];return'<div><br></div><a href="'+(t=t.substring(0,t.length-1))+'" target="_blank">'+t+"</a>"})}},1042:function(e,t,a){e.exports={defaultSize:"MorePopup-module__defaultSize common-module__offSelection",black:"MorePopup-module__black",white:"MorePopup-module__white",iconCustom:"MorePopup-module__iconCustom",mr10:"MorePopup-module__mr10",dropDivPosition:"MorePopup-module__dropDivPosition",dropdownPosition:"MorePopup-module__dropdownPosition",secondaryIcon:"MorePopup-module__secondaryIcon",widgetList:"MorePopup-module__widgetList"}},1053:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1080),_=a.n(v),E=a(64),b=a.n(E),y=a(56),I=a.n(y),C=function(e){function t(e){return i()(this,t),d()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.name,n=e.size,o=e.iconClass,r=e.iconName,i=e.iconSize,s=e.iconColor,l=e.borderPalette,c=e.onClick,d=e.title,u=e.iconTitle,m=e.onIconClick,p=e.showOnHover?_.a.hover:"";return h.a.createElement("div",{className:_.a.container+" "+p},h.a.createElement(b.a,{src:t,name:a,title:d,size:n,onClick:c}),r&&h.a.createElement("span",{className:_.a.thread+" "+_.a["border_"+l],"data-title":u,onClick:m},h.a.createElement("span",{className:_.a.icon},h.a.createElement(I.a,{name:r,size:i,color:s,className:o}))))}}]),t}(h.a.Component);t.a=C,C.defaultProps={size:"medium",iconSize:"6",borderPalette:"default"},C.propTypes={borderPalette:g.a.oneOfType([g.a.string,g.a.bool]),iconClass:g.a.string,iconColor:g.a.oneOfType([g.a.string,g.a.bool]),iconName:g.a.oneOfType([g.a.string,g.a.bool]),iconSize:g.a.oneOfType([g.a.string,g.a.bool]),iconTitle:g.a.string,name:g.a.string,onClick:g.a.func,onIconClick:g.a.func,showOnHover:g.a.bool,size:g.a.string,src:g.a.string,title:g.a.string}},1063:function(e,t,a){e.exports={section:"AlertLookupPortal-module__section",innerSection:"AlertLookupPortal-module__innerSection",footerInnerSpacing:"AlertLookupPortal-module__footerInnerSpacing",footer:"AlertLookupPortal-module__footer",buttonGap:"AlertLookupPortal-module__buttonGap",text:"AlertLookupPortal-module__text",extraSmall:"AlertLookupPortal-module__extraSmall"}},1080:function(e,t,a){e.exports={container:"AvatarThread-module__container common-module__dInflex",thread:"AvatarThread-module__thread common-module__rounded",icon:"AvatarThread-module__icon common-module__middleBoth common-module__middle",border_primary:"AvatarThread-module__border_primary",border_success:"AvatarThread-module__border_success",border_danger:"AvatarThread-module__border_danger",hover:"AvatarThread-module__hover"}},1081:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(71),o=a.n(n),r=a(6),i={storage:{},isStorageSupported:function(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},storeItemIntoStorage:function(e,t){try{this.isStorageSupported()?Object(r.J)(t)?localStorage.setItem(e,o()(t)):localStorage.setItem(e,t):this.storage[e]=t}catch(e){if(22==e.code)try{for(var a=localStorage.length,n=new Date,i=0;i<a;i++){var s=localStorage.key(i),l=this.getItemFromStorage(s)||{};l&&l.time&&n>l.expireTime&&this.removeItem(s)}storeData()}catch(e){alert("Local Storage Limit exceeded")}}},getItemFromStorage:function(e){if(!this.isStorageSupported())return this.storage[e];try{return JSON.parse(localStorage.getItem(e))}catch(t){return localStorage.getItem(e)}},deleteItemFromStorage:function(e){this.isStorageSupported()?localStorage.removeItem(e):this.storage[e]=void 0},getAllItemFromStorage:function(){if(this.isStorageSupported()){for(var e={},t=0;t<localStorage.length;t++){var a=localStorage.key(t),n=this.getItemFromStorage(a);e[a]=n}return e}return this.storage},setItem:function(e,t,a){-1==(a=null==a||null==a?10800:a)&&(a=86400);var n=new Date,o={value:t,expireTime:new Date(n.setSeconds(n.getSeconds()+a))};this.storeItemIntoStorage(e,o)},getItem:function(e){var t=this.getItemFromStorage(e)||{};if(t&&t.expireTime&&new Date>=new Date(t.expireTime))return void this.removeItem(e);return t.value},removeItem:function(e){this.deleteItemFromStorage(e)}}},1082:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(72),_=a.n(v),E=a(361),b=a.n(E),y=a(8),I=a(1097),C=a.n(I),A=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.boxPosition,a=e.bottom,n=e.left,o=e.onAttchClick,r=e.openCloudAttach,i=e.labelName;return h.a.createElement(_.a,{size:"small",boxPosition:t,isActive:!0,bottom:a,left:n},h.a.createElement("label",{htmlFor:i},h.a.createElement(b.a,{autoHover:!0,value:y.f.getI18NValue("support.create.form.label.attachment.mycomputer"),iconName:"emptyfle",dataId:"fileAttach"}),h.a.createElement("input",{className:C.a.fileCont,type:"file",multiple:"multiple",id:i,onChange:o})),h.a.createElement(b.a,{autoHover:!0,value:y.f.getI18NValue("support.create.form.label.attachment.cloud"),iconName:"cloudicn",onClick:r,dataId:"cloudAttach"}))}}]),t}(p.Component);t.a=A,A.propTypes={bottom:g.a.string,boxPosition:g.a.string,labelName:g.a.string,left:g.a.string,onAttchClick:g.a.func,openCloudAttach:g.a.func}},1083:function(e,t,a){"use strict";function n(e){e=(e=o(e))?e.trim():e;return/^[\w]([\w\-\.\+\'\&]*)@([\w\-\.]*)(\.[a-zA-Z]{2,22}(\.[a-zA-Z]{2}){0,2})$/.test(e)}function o(e){var t=e;return-1!==t.indexOf(">")&&-1!==t.indexOf("<")&&(t=t.substring(t.indexOf("<")+1,t.indexOf(">"))),t}function r(e,t){var a=e.trim();if(-1!==a.indexOf(">")&&a.indexOf("<")>0){var n=a;a=a.substring(0,a.indexOf("<")),t||(a=a.replace(/"/g,"")),""==a&&(a=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">")))}else a=a.replace(/<|>/g,"");return a}function i(e){var t=0,a=0,o=0,i=(e=e.trim()).indexOf("@",o);if(-1!==i)if(-1!==(o=e.indexOf(",",i))?(a=e.substring(t,o),t=o+1):(a=e.substring(t,e.length),-1),","===a||" "===a)-1;else{if(-1!=a.indexOf(",")){var l=r(a,!0);if(","===l.charAt(l.length-1))return!1;if(!(-1!==l.indexOf('"')&&l.lastIndexOf('"')>0||-1!==l.indexOf("'")&&l.lastIndexOf("'")>0)&&-1!=l.indexOf(",")&&","!=l.substring(0,1))return!1;var c=l.substring(l.indexOf('"')+1,l.lastIndexOf('"'));if(""==c&&(c=l.substring(l.indexOf("'")+1,l.lastIndexOf("'"))),""!=c&&-1==c.indexOf(","))return!1}var d=s(a);if(!n(d=d.trim()))return!1}else if(-1,o<=e.length)return!1;return!0}function s(e){return-1===e.indexOf("<")?e:e.substring(e.lastIndexOf("<")+1,e.lastIndexOf(">"))}function l(e,t){var a=!1,n=-1;if(e.length)for(var o=0;o<e.length;o++){s(e[o])==s(t)&&(a=!0,n=o)}return{isDuplicate:a,index:n}}function c(e){for(var t=[],a=e.indexOf("@"),n=void 0;-1!==a;)-1===(n=e.indexOf(",",a))&&(n=e.length),t.push(e.substring(0,n)),a=(e=e.substring(n+1,e.length)).indexOf("@");return-1===a&&""!==e&&t.push(e),t}a.d(t,"f",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"e",function(){return i}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return c})},1097:function(e,t,a){e.exports={fileCont:"UploadPopup__fileCont"}},1162:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1021),_=a(8),E=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteDraft,a=e.closeAlert;return h.a.createElement(v.a,{isActive:!0,title:_.f.getI18NValue("support.request.alert.discard.draft.header"),message:_.f.getI18NValue("crm.confirm.discard.draft"),submitText:_.f.getI18NValue("support.yes"),cancelText:_.f.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a})}}]),t}(p.Component);t.a=E,E.propTypes={deleteDraft:g.a.func,moduleMeta:g.a.object}},1168:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1197),_=a.n(v),E=a(8),b=function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={playingIndex:1},a.play=a.play.bind(a),a.playNext=a.playNext.bind(a),a.pauseOthers=a.pauseOthers.bind(a),a}return m()(t,e),l()(t,[{key:"play",value:function(e){this.setState({playingIndex:e}),this.pauseOthers(e)}},{key:"playNext",value:function(e){var t=e+1;this.setState({playingIndex:t});var a=document.getElementById("audio"+t);a&&a.play()}},{key:"pauseOthers",value:function(e){Array.prototype.slice.call(document.getElementsByTagName("audio")).forEach(function(t,a){e!=a+1&&t.pause()})}},{key:"render",value:function(){var e=this,t=this.state.playingIndex,a=this.props.thread,n=JSON.parse(a.content),o=n.voicemailurl,r=n.recordingurl,i=n.voicemailduration,s=n.recordingduration,l=void 0,c=void 0,d=void 0,u=[],m=0;if(o.startsWith("https://")||r.startsWith("https://"))o.startsWith("https://")?(l=o,c=i,d=E.f.getI18NValue("support.twi.msg.voicemessage")):(l=r,c=s,d=E.f.getI18NValue("support.twi.msg.callrecording"));else{m=(u=JSON.parse(n.recordingurl)).length,l=u[0].url,l=m>2?l:l+u[1].rid;var p=s%3600,f=Math.floor(p/60),g=p%60,v=Math.ceil(g);c=Math.floor(s/3600)+":"+f+":"+v+" (H:M:S)",d=E.f.getI18NValue("support.twi.msg.callrecording")}return h.a.createElement("div",{className:_.a.audioDiv},h.a.createElement("div",{className:_.a.audioHead},h.a.createElement("span",{className:_.a.audioTitle},d),h.a.createElement("span",{className:_.a.audioDur},"( ",E.f.getI18NValue("crm.activities.call.duration"),":",h.a.createElement("span",null,c)," )"),m>2?h.a.createElement("span",null,E.f.getI18NValue("support.label.playing")," ",h.a.createElement("span",null,t),"/",m-1," ",E.f.getI18NValue("support.label.recording")):null),h.a.createElement("div",{className:_.a.audioSource},m>2?u.map(function(t,a){var n=u[a].rid;return n?h.a.createElement("audio",{controls:!0,id:"audio"+a,src:l+n,key:a,className:_.a.audio,onPlay:function(){e.play(a)},onEnded:function(){e.playNext(a)},style:{display:"block"}}):null}):h.a.createElement("audio",{controls:!0,src:l,className:_.a.audio})))}}]),t}(h.a.Component);t.a=b,b.propTypes={thread:g.a.object}},1191:function(e,t,a){"use strict";a.d(t,"d",function(){return c}),a.d(t,"c",function(){return d}),a.d(t,"a",function(){return u}),a.d(t,"b",function(){return m});var n=a(2),o=a.n(n),r=a(15),i=a(3),s=a(6),l=a(7);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.W;return a=a.trim(),{types:Object(s.m)(i.L.TICKET_TEMPLATE),shouldCallAPI:function(o){if(n)return!0;var r=o.ticketTemplate,i=r.deptId,s=r.searchStr,l=r.from;return e!==i||a!==s||t!==l},callAPI:function(n){var s=n.currentOrgId,d=2*c>100?100:2*c;return Object(r.a)(i.w+"ticketTemplates?from="+t+"&limit="+d+"&departmentId="+e+(a?"&templateName="+a:""),!1,{orgId:s}).get().then(function(n){var r=Object(l.normalize)(204!==n.responseStatus?n.data:[],Object(l.arrayOf)(Object(l.schema)(i.L.TICKET_TEMPLATE_L)));return o()({},r,{from:t,limit:c,isNextData:!!n.data&&n.data.length>c,searchStr:a,deptId:e})})},payload:{from:t}}}function d(e){return{types:Object(s.m)("TICKET_TEMPLATE_DETAIL"),callAPI:function(t){var a=t.currentOrgId;return Object(r.a)(i.w+"ticketTemplates/"+e,!1,{orgId:a}).get().then(function(e){return Object(l.normalize)(e,Object(l.schema)(i.L.TICKET_TEMPLATE_L))},function(e){throw e})}}}function u(e,t,a,n,o){var l="departmentId="+e+"&module="+t+"&from="+a+"&limit="+n;return""!=o&&o&&(l+="&searchStr=*"+o+"*"),{types:Object(s.m)("EMAIL_TEMPLATE_LIST"),callAPI:function(e){return Object(r.a)(i.w+"templates?"+l,!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function m(e,t){return{types:Object(s.m)("TEMPLATESFOLDERSLIST"),callAPI:function(a){return Object(r.a)("/api/v1/templates/"+e+"/render?entityId="+t,!1,{orgId:a.currentOrgId}).post("").then(function(e){return{res:e,entity:{},result:[]}})}}}},1197:function(e,t,a){e.exports={audioDiv:"AudioMessage-module__audioDiv",audioHead:"AudioMessage-module__audioHead",audioTitle:"AudioMessage-module__audioTitle",audioDur:"AudioMessage-module__audioDur",audioSource:"AudioMessage-module__audioSource",audio:"AudioMessage-module__audio"}},1200:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1201),_=a.n(v),E=a(64),b=a.n(E),y=a(72),I=a.n(y),C=a(16),A=a(6),k=a(8),S=function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.getScrollContainerRef=a.getScrollContainerRef.bind(a),a.getSelectedItemRef=a.getSelectedItemRef.bind(a),a.onScroll=a.onScroll.bind(a),a.isFetching=!1,a}return m()(t,e),l()(t,[{key:"getScrollContainerRef",value:function(e){this.scrollContainerRef=e}},{key:"getSelectedItemRef",value:function(e){this.selectItemRef=e}},{key:"componentDidUpdate",value:function(){var e=this.props.selectSearchIndex,t=this.scrollContainerRef,a=this.selectItemRef;if(a&&t){var n=a.offsetTop-t.scrollTop,o=a.offsetHeight,r=t.offsetHeight;(n<0||o+n>r)&&(t.scrollTop=0==e?0:t.scrollTop+n)}}},{key:"onScroll",value:function(e){var t=this;if(this.props.fetchData&&!this.isFetching){var a=e.currentTarget;a.scrollHeight<=a.scrollTop+a.offsetHeight&&(this.isFetching=!0,this.props.fetchData().then(function(){t.isFetching=!1},function(){t.isFetching=!1}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.orgName,o=(t.selectEmail,t.type),r=t.selectSearchIndex,i=(t.addTag,t.needFixed),s=t.needAvatar,l=t.onSelect;return h.a.createElement(I.a,{onScroll:this.onScroll,isArrow:!1,boxPosition:"bottomCenter",isActive:!0,className:""+(i?_.a.resetDropbox:"")},h.a.createElement("div",{ref:this.getScrollContainerRef,className:s?_.a.agentSearch:_.a.tagsSearch},a.length?a.map(function(t,a){t.id;var i=t.name,c=t.email,d=t.isNew,u=t.firstName,m=t.lastName,p=t.photoURL,f=t.newLabel,g=s&&p?p+"?portalname="+n:null;s&&Object(A.g)(u,m);return i=s?Object(A.e)(u,m):i,h.a.createElement(C.Container,{alignBox:"row",align:"vertical",className:_.a.asItem+" "+(r==a?_.a.selectIem:""),onMouseDown:function(){l(t,o)},eleRef:a==r?e.getSelectedItemRef:null,key:a},s?h.a.createElement(C.Box,{className:_.a.imgCont},h.a.createElement(b.a,{src:g,name:i,size:"medium"})):null,h.a.createElement(C.Box,{flexible:!0},h.a.createElement("div",{className:_.a.ashead},d?h.a.createElement("span",{className:_.a.newTag},f):null,i),c?h.a.createElement("div",{className:_.a.asemail},c):null))}):h.a.createElement("div",{className:_.a.searchDiv},k.f.getI18NValue("support.label.searching"))))}}]),t}(h.a.Component);t.a=S,S.propTypes={addTag:g.a.func,data:g.a.array,fetchData:g.a.oneOfType([g.a.func,g.a.bool]),isPopupOpen:g.a.bool,needAvatar:g.a.bool,orgName:g.a.string,placeholder:g.a.string,removeClose:g.a.func,selectEmail:g.a.func,selectSearchIndex:g.a.number,theme:g.a.string,togglePopup:g.a.func,type:g.a.string},S.defaultProps={data:[],needAvatar:!0}},1201:function(e,t,a){e.exports={searchDrop:"SearchResults-module__searchDrop",resetDropbox:"SearchResults-module__resetDropbox",agentSearch:"SearchResults-module__agentSearch SearchResults-module__searchDrop",tagsSearch:"SearchResults-module__tagsSearch SearchResults-module__searchDrop",asItem:"SearchResults-module__asItem",ashead:"SearchResults-module__ashead common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",newTag:"SearchResults-module__newTag",selectIem:"SearchResults-module__selectIem",searchDiv:"SearchResults-module__searchDiv",imgCont:"SearchResults-module__imgCont",asemail:"SearchResults-module__asemail common-module__dotted common-module__oflow common-module__ellipsis",defaultSize:"SearchResults-module__defaultSize",black:"SearchResults-module__black",white:"SearchResults-module__white",iconCustom:"SearchResults-module__iconCustom"}},122:function(e,t,a){e.exports={attachment:"ThreadAttachments-module__attachment common-module__cboth",medium:"ThreadAttachments-module__medium",small:"ThreadAttachments-module__small",attachleft:"ThreadAttachments-module__attachleft common-module__tcenter",attachright:"ThreadAttachments-module__attachright",atatchName:"ThreadAttachments-module__atatchName common-module__dotted common-module__oflow common-module__ellipsis",attachSize:"ThreadAttachments-module__attachSize",attachDownload:"ThreadAttachments-module__attachDownload",pt8:"ThreadAttachments-module__pt8",docspan:"ThreadAttachments-module__docspan",attachCount:"ThreadAttachments-module__attachCount",mr6:"ThreadAttachments-module__mr6",ml6:"ThreadAttachments-module__ml6"}},1222:function(e,t,a){"use strict";a.d(t,"e",function(){return f}),a.d(t,"h",function(){return g}),a.d(t,"k",function(){return v}),a.d(t,"a",function(){return _}),a.d(t,"i",function(){return E}),a.d(t,"d",function(){return b}),a.d(t,"g",function(){return y}),a.d(t,"f",function(){return I}),a.d(t,"b",function(){return C}),a.d(t,"c",function(){return A}),a.d(t,"j",function(){return k});var n=a(20),o=a.n(n),r=a(23),i=a.n(r),s=a(2),l=a.n(s),c=a(5),d=a.n(c),u=a(15),m=a(6),p=(a(46),a(3)),h=a(7);function f(e,t){return{types:Object(m.m)("SAVEDRAFT"),callAPI:function(a,n){return Object(u.a)("/api/v1/tickets/"+e+"/draftReply",!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=n(),o=t.id,r=d()({},o,t),s=l()({},r,a.module.thread),c=a.module.ticket[e].thread||[],u=a.module.ticket[e].conversationIds||[],m=[o].concat(i()(c)),p=[{id:o,type:"thread"}].concat(i()(u));return{data:t,entities:{thread:s,ticket:d()({},e,{thread:m,conversationIds:p})}}})}}}function g(e,t){return{types:Object(m.m)("SEND_FOR_REVIEW"),callAPI:function(a,n){return Object(u.a)("/api/v1/tickets/"+e+"/threads/"+t+"/sendForReview",!1,{orgId:a.currentOrgId}).post("").then(function(e){return e})}}}function v(e,t,a){return{types:Object(m.m)("UPDATEDRAFT"),callAPI:function(n,o){return Object(u.a)("/api/v1/tickets/"+e+"/draftReply/"+t,!1,{orgId:n.currentOrgId}).patch("",a).then(function(a){var n=o(),r=n.module.ticket[e].conversationIds||[],i=n.module.ticket[e].thread||[];if(r.length){for(var s=0,l=0;l<=r.length;l++)if(r[l].id==t){s=l;break}r.splice(0,0,r.splice(s,1)[0])}else{var c=i.indexOf(t);i.splice(0,0,i.splice(c,1)[0])}return{data:a,entities:{thread:d()({},t,a),ticket:d()({},e,{conversationIds:r,thread:i})}}})}}}function _(e,t,a){return{types:Object(m.m)("TICKET_THREAD_DELETE"),callAPI:function(n,o){return Object(u.a)(e,!1,{orgId:n.currentOrgId}).del().then(function(e){return{ticketId:t,threadId:a}})}}}function E(e,t,a){var n=a?"?isPrivate=true":"";return{types:Object(m.m)("SENDREPLY"),callAPI:function(a,o){return Object(u.a)("/api/v1/tickets/"+e+"/sendReply"+n,!1,{orgId:a.currentOrgId}).post("",t).then(function(t){var a=o(),n=t.id,r=d()({},n,t),s=l()({},r,a.module.thread),c=a.module.ticket[e].thread||[],u=a.module.ticket[e].conversationIds||[],m=[n].concat(i()(c)),p=[{id:n,type:"thread"}].concat(i()(u));return{data:t,entities:{thread:s,ticket:d()({},e,{thread:m,conversationIds:p})}}})}}}function b(e,t,a){return{types:Object(m.m)("RESEND_THREAD"),callAPI:function(n,o){return Object(u.a)(e,!1,{orgId:n.currentOrgId}).post().then(function(e){var n=o(),r=n.module.ticket[a].conversationIds||[],i=n.module.ticket[a].thread||[];if(r.length){for(var s=0,l=0;l<=r.length;l++)if(r[l].id==t){s=l;break}r.splice(0,0,r.splice(s,1)[0])}else{var c=i.indexOf(t);i.splice(0,0,i.splice(c,1)[0])}return{data:e,entities:{thread:d()({},t,e),ticket:d()({},a,{thread:i,conversationIds:r})}}})}}}function y(e,t,a,n){return e=n?e+"&isPrivate=true":e,{types:Object(m.m)("SENDDRAFT"),callAPI:function(n,o){return Object(u.a)(e,!1,{orgId:n.currentOrgId}).post().then(function(e){var n=o(),r=n.module.ticket[t].conversationIds||[],i=n.module.ticket[t].thread||[];if(r.length){for(var s=0,l=0;l<=r.length;l++)if(r[l].id==a){s=l;break}r.splice(0,0,r.splice(s,1)[0])}else{var c=i.indexOf(a);i.splice(0,0,i.splice(c,1)[0])}return{data:e,entities:{thread:d()({},a,e),ticket:d()({},t,{conversationIds:r,thread:i})}}})}}}function I(e){return{types:Object(m.m)("SEARCHCONTACT"),callAPI:function(t,a){return Object(u.a)("/api/v1/contacts/search?limit=10&email="+e+"*",!1,{orgId:t.currentOrgId}).get().then(function(e){return 204==e.responseStatus?{list:[]}:l()(Object(h.normalize)(e.data,Object(h.arrayOf)(Object(h.schema)(p.L.CONTACT_L))),{list:e.data})})}}}function C(e){return{types:Object(m.m)("FROMEMAILADDRESS"),shouldCallAPI:function(t){return!t.departmentSpecificState[e]||!t.departmentSpecificState[e].fromEmailAddress.length},callAPI:function(t){return Object(u.a)("/api/v1/mailReplyAddress?departmentId="+e+"&isActive=true",!1,{orgId:t.currentOrgId}).get().then(function(t){return 204!=t.responseStatus?{entities:{},result:[],address:t.data,deptId:e}:{res:t,entity:{},result:[]}})}}}function A(e){return{types:Object(m.m)("MAIL_CONFIGURATIONS"),shouldCallAPI:function(t){return!o()(t.departmentSpecificState[e].mailConfigurations).length},callAPI:function(t){return Object(u.a)("/api/v1/departments/"+e+"/mailConfigurations",!1,{orgId:t.currentOrgId}).get().then(function(t){return{res:t,deptId:e,entity:{},result:[]}})}}}function k(e){return function(t,a){var n=a(),o=n.module.ticket[e],r=o.thread,i=void 0===r?[]:r,s=o.conversationIds,l=o.threadCount,c=o.commentCount;l=i.length;var u=i[0];if(s){for(var m=0;m<s.length;m++)if("thread"==s[m].type){u=s[m].id;break}l=s.length-parseInt(c)}var p={recentThreadId:u,recentThread:u?n.module.thread[u]:null,threadCount:l};return t({type:"SET_RECENT_THREAD_DATA_SUCCESS",data:{entities:{ticket:d()({},e,p)}}})}}},1233:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1234),_=a.n(v),E=a(16),b=a(239),y=a.n(b),I=a(8),C=a(73),A=a.n(C),k=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.closeTicket,a=e.reOpenTicket,n=e.isSpam,o=e.isClosed,r=e.isOnHold,i=e.notSpam,s=e.moduleName,l=e.haveCloseTicketPermission,c=e.isCancel,d=e.onClick,u=e.isCloserNotificationEnable,m=e.toggleCloserNotification,p=!1;l||o||r||(p=!0);var f=u?I.f.getI18NValue("support.survey.lable.last.notification.disable",[s]):I.f.getI18NValue("support.survey.lable.last.notification.enable",[s]);return h.a.createElement(E.Container,{alignBox:"row",align:"vertical",className:_.a.container},c||n||p||o||r?null:h.a.createElement(E.Box,{className:_.a.switch,"data-title":f},h.a.createElement(y.a,{id:"notification",checked:u,onChange:m})),h.a.createElement(E.Box,{flexible:!0},n?h.a.createElement(A.a,{className:_.a.spamButton,onClick:i,needAppearance:!1},I.f.getI18NValue("support.not.spam")):p?c?h.a.createElement(A.a,{className:_.a.cancelButton,onClick:d,needAppearance:!1},I.f.getI18NValue("support.label.cancel")):null:h.a.createElement(A.a,{className:_.a.blueBtn,onClick:o||r?a:t,dataId:"reopen-ticket",needAppearance:!1},o||r?I.f.getI18NValue("support.label.reopen.req",[s]):I.f.getI18NValue("support.common.set.close.entity",[s]))))}}]),t}(h.a.Component);t.a=k,k.propTypes={closeTicket:g.a.func,haveCloseTicketPermission:g.a.bool,isCancel:g.a.bool,isClosed:g.a.bool,isCloserNotificationEnable:g.a.bool,isOnHold:g.a.bool,isSpam:g.a.bool,moduleName:g.a.string,notSpam:g.a.func,onClick:g.a.func,reOpenTicket:g.a.func,toggleCloserNotification:g.a.func}},1234:function(e,t,a){e.exports={button:"TicketCloseButton-module__button common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",blueBtn:"TicketCloseButton-module__blueBtn common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",spamButton:"TicketCloseButton-module__spamButton TicketCloseButton-module__button common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",cancelButton:"TicketCloseButton-module__cancelButton TicketCloseButton-module__button common-module__dotted common-module__oflow common-module__ellipsis common-module__semibold common-module__ftsmooth",container:"TicketCloseButton-module__container",switch:"TicketCloseButton-module__switch"}},1235:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1236),_=a.n(v),E=a(52),b=a(64),y=a.n(b),I=a(73),C=a.n(I),A=a(8),k=a(6),S=a(359),N=a.n(S),D=a(3),T=function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.documentKeyupHandler=a.documentKeyupHandler.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.documentKeyupHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.documentKeyupHandler)}},{key:"documentKeyupHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.preventDefault();var t=this.props,a=t.replyConfirm,n=t.closeAlert;27===e.keyCode?n():13===e.keyCode&&a()}},{key:"render",value:function(){var e=this.props,t=e.agents,a=e.replyingUsers,n=e.replyConfirm,o=e.closeAlert,r=e.isFromReplyEditor;return h.a.createElement(N.a,{portalId:D.v},h.a.createElement(E.a,{align:"both",isActive:!0,animationName:"fadeIn"},h.a.createElement("div",{className:_.a.popup},h.a.createElement("div",{className:_.a.header},a.map(function(e,a){var n=t[e.agentId];return h.a.createElement("span",{key:a,className:_.a.user},h.a.createElement(y.a,{size:"large",src:n.photoURL,name:n.name||Object(k.e)(n.firstName,n.lastName)}))}),h.a.createElement("p",{className:_.a.information},a.map(function(e,n){var o=t[e.agentId];return n+=1,h.a.createElement("span",{className:_.a.name,key:n},h.a.createElement("span",null,o.name||Object(k.e)(o.firstName,o.lastName)),n===a.length-1?a.length>1?h.a.createElement("span",{className:_.a.name},A.f.getI18NValue("and")):null:n!==a.length?h.a.createElement("span",null,","):null)}),h.a.createElement("span",null," ",r?A.f.getI18NValue("support.label.collision.detection.newagent.replying"):a.length>1?A.f.getI18NValue("support.label.collision.detection.agent.replying",[A.f.getI18NValue("are")]):A.f.getI18NValue("support.label.collision.detection.agent.replying",[A.f.getI18NValue("is")])))),h.a.createElement("div",{className:_.a.footer},h.a.createElement("div",{className:_.a.footerTitle},A.f.getI18NValue("support.label.collision.detection.agent.reply.question")),h.a.createElement("div",null,h.a.createElement(C.a,{text:A.f.getI18NValue("support.yes"),size:"Medium",palette:"primaryFilled",onClick:n}),h.a.createElement("span",{className:_.a.lastButton},h.a.createElement(C.a,{text:A.f.getI18NValue("support.no"),size:"Medium",palette:"secondary",onClick:o})))))))}}]),t}(h.a.Component);t.a=T,T.propTypes={agents:g.a.object,closeAlert:g.a.func,isFromReplyEditor:g.a.bool,replyConfirm:g.a.func,replyingUsers:g.a.array}},1236:function(e,t,a){e.exports={popup:"CollisionReplyAlert-module__popup",header:"CollisionReplyAlert-module__header",information:"CollisionReplyAlert-module__information",name:"CollisionReplyAlert-module__name common-module__semibold common-module__ftsmooth",user:"CollisionReplyAlert-module__user",footer:"CollisionReplyAlert-module__footer",footerTitle:"CollisionReplyAlert-module__footerTitle",lastButton:"CollisionReplyAlert-module__lastButton"}},1280:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(1021),_=a(8),E=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.deleteThread,a=e.closeAlert;return h.a.createElement(v.a,{isActive:!0,title:_.f.getI18NValue("support.history.operation.label.wfalert"),message:_.f.getI18NValue("support.failedmail.remove"),submitText:_.f.getI18NValue("crm.button.delete"),cancelText:_.f.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:a})}}]),t}(p.Component);t.a=E,E.propTypes={deleteThread:g.a.func,moduleMeta:g.a.object}},1281:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(26),g=a(1),v=a.n(g),_=a(1282),E=a.n(_),b=a(235),y=a.n(b),I=a(73),C=a.n(I),A=a(1007),k=a(1162),S=a(30),N=a(8),D=a(24),T=function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e)),n=a.props,r=(n.channel,n.replyThread),s=n.replyMode;return a.state={content:"twitter"==s?"@"+r.twitterProfile+" ":a.props.content,tweetLen:"twitterDm"==s?8e3:280,mode:"twitterDm"==s?"twitterDm":"tweet"},a.handleChange=a.handleChange.bind(a),a.sendDraft=a.sendDraft.bind(a),a.saveDraft=a.saveDraft.bind(a),a.updateDraft=a.updateDraft.bind(a),a.sendReply=a.sendReply.bind(a),a.constructSwtichOptions=a.constructSwtichOptions.bind(a),a.deleteDraftConfirmation=a.deleteDraftConfirmation.bind(a),a.deleteDraft=a.deleteDraft.bind(a),a.closeAlert=a.closeAlert.bind(a),a}return m()(t,e),l()(t,[{key:"handleChange",value:function(e){var t=this.props,a=t.channel,n=t.replyMode,o=t.setReplyData;this.setState({content:e});var r="";"TWITTER"==a?(r=280-e.length,this.setState({tweetLen:r})):(r=8e3-e.length,this.setState({tweetLen:r})),o&&o("content",e),""!=r&&(r<0?(o&&o("isMaxLimit",!0),o&&o("maxCount","twitterDm"==n?8e3:280)):o&&o("isMaxLimit",!1))}},{key:"sendDraft",value:function(){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.sendDraft,o=this.state.content;""!=o&&o?(a(),n()):t({type:"alert",message:N.f.getI18NValue("support.social.reply.empty")})}},{key:"sendReply",value:function(){if("twitterDm"!=this.state.mode){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.sendReply,o=e.channel,r=this.state,i=r.content,s=r.tweetLen;""!=i&&i?"TWITTER"==o&&s<0?t({type:"alert",message:N.f.getI18NValue("support.social.twitter.reply.limit")}):(a(),n({channel:o="FACEBOOK_DM"==o?"FACEBOOK":o,content:i})):t({type:"alert",message:N.f.getI18NValue("support.social.reply.empty")})}}},{key:"saveDraft",value:function(){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.saveDraft,o=e.closeEdtior,r=this.state.content;""!=r&&r?(a(),n({channel:"FACEBOOK",content:r},function(e){o()})):t({type:"alert",message:N.f.getI18NValue("support.social.reply.empty")})}},{key:"updateDraft",value:function(){var e=this.props,t=e.showMessage,a=e.hideMessage,n=e.updateDraft,o=e.closeEdtior,r=this.state.content;""!=r&&r?(a(),n({channel:"FACEBOOK",content:r},function(e){o()})):t({type:"alert",message:N.f.getI18NValue("support.social.reply.empty")})}},{key:"constructSwtichOptions",value:function(e){return"FACEBOOK"==e||"FACEBOOK_DM"==e?[{name:N.f.getI18NValue("crm.label.email"),iconName:"chEmail1",size:"11"},{name:N.f.getI18NValue("support.social.facebook.name"),iconName:"chFacebook",size:"14"}]:[{name:N.f.getI18NValue("crm.label.email"),iconName:"chEmail1",size:"12"},{name:N.f.getI18NValue("support.social.common.tweet"),iconName:"chTwitter",size:"16"},{name:N.f.getI18NValue("support.social.common.direct.message"),iconName:"bubble",size:"16"}]}},{key:"deleteDraftConfirmation",value:function(){this.setState({alertMode:"deleteDraft"})}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.closeAlert()}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.tweetLen,o=t.mode,r=t.alertMode,i=this.props,s=i.closeEdtior,l=i.isDraft,c=i.channel,d=i.openEditor,u=i.threadId,m=i.replyThread,p=i.haveMailSendPermission,f=i.isFromBlueprint,g=i.haveForWardPermissionOnly;return h.a.createElement("div",null,h.a.createElement("div",{className:E.a.fbContnet+" "+(f?E.a.bluePrintLayar:"")},h.a.createElement("div",{className:E.a.socialIcn},h.a.createElement("div",{className:E.a.chIcon},"twitterDm"==o?h.a.createElement(S.CommunityFontIcon,{name:"bubble",size:"17"}):h.a.createElement(S.TicketsFontIcon,{name:"FACEBOOK"==c||"FACEBOOK_DM"==c?"chFacebook":"chTwitter",size:"16"})),g?null:h.a.createElement(A.a,{Icnsize:"8",IcnName:"blockDownArrow",icnStatus:!0,arrowPosition:"topLeft",left:"-53",objValues:this.constructSwtichOptions(c),listStyle:"alpha",boxPosition:"bottomRight",onSelect:function(t){t==N.f.getI18NValue("crm.label.email")?d(u,a,m,"replyall"):t==N.f.getI18NValue("support.social.common.direct.message")?(e.setState({mode:"twitterDm",content:"",tweetLen:8e3}),f&&d("","","","twitterDm")):t==N.f.getI18NValue("support.social.common.tweet")&&(e.setState({mode:"tweet",content:"@"+m.twitterProfile+" ",tweetLen:280}),f&&d("","","","tweet"))}})),h.a.createElement("div",{className:E.a.txtArea},h.a.createElement(y.a,{size:f?"xlarge":"medium",placeholder:N.f.getI18NValue("support.request.type.facebook.comment"),text:a,needBorder:!1,onChange:this.handleChange})),"TWITTER"==c&&f?h.a.createElement("span",{className:E.a.tweetLen+" "+(n<0?E.a.limitExcited:null)},n):null),f?null:h.a.createElement("div",{className:E.a.footer},h.a.createElement("div",{className:E.a.optionsCont},p?h.a.createElement(C.a,{text:"twitterDm"==o?N.f.getI18NValue("support.social.send.dm"):"FACEBOOK"==c?N.f.getI18NValue("support.social.post.comment"):"FACEBOOK_DM"==c?N.f.getI18NValue("support.social.replymessage"):N.f.getI18NValue("support.social.post.tweet"),palette:"primaryFilled",size:"medium",onClick:l?this.sendDraft:this.sendReply}):null,"FACEBOOK"==c?h.a.createElement(C.a,{text:N.f.getI18NValue("support.common.request.mail.save.draft"),palette:p?"secondary":"primaryFilled",size:"medium",onClick:l?this.updateDraft:this.saveDraft}):null,l&&"FACEBOOK"==c?h.a.createElement(C.a,{text:N.f.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:this.deleteDraftConfirmation}):null,h.a.createElement(C.a,{text:N.f.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:s}),"TWITTER"==c?h.a.createElement("span",{className:E.a.tweetLen+" "+(n<0?E.a.limitExcited:null)},n):null)),"deleteDraft"==r?h.a.createElement(k.a,{closeAlert:this.closeAlert,deleteDraft:this.deleteDraft}):null)}}]),t}(p.Component);T.propTypes={channel:v.a.string,closeEdtior:v.a.func,content:v.a.string,deleteDraft:v.a.func,haveForWardPermissionOnly:v.a.bool,haveMailSendPermission:v.a.bool,hideMessage:v.a.func,isDraft:v.a.bool,isFromBlueprint:v.a.bool,openEditor:v.a.func,replyMode:v.a.string,replyThread:v.a.object,saveDraft:v.a.func,sendDraft:v.a.func,sendReply:v.a.func,setReplyData:v.a.func,showMessage:v.a.func,threadId:v.a.string,updateDraft:v.a.func},t.a=Object(f.connect)(function(e,t){return{id:e.routing.paramMap.moduleId}},{showMessage:D.Q,hideMessage:D.w})(T)},1282:function(e,t,a){e.exports={footer:"SocialReply-module__footer",optionsCont:"SocialReply-module__optionsCont",fbContnet:"SocialReply-module__fbContnet",socialIcn:"SocialReply-module__socialIcn",socialEditor:"SocialReply-module__socialEditor",icons:"SocialReply-module__icons",downArrow:"SocialReply-module__downArrow",txtArea:"SocialReply-module__txtArea",chIcon:"SocialReply-module__chIcon",tweetLen:"SocialReply-module__tweetLen",limitExcited:"SocialReply-module__limitExcited",bluePrintLayar:"SocialReply-module__bluePrintLayar"}},1283:function(e,t,a){e.exports={container:"Composebox-module__container",scrollBox:"Composebox-module__scrollBox",composeRow:"Composebox-module__composeRow",rightContainer:"Composebox-module__rightContainer",composeFlabel:"Composebox-module__composeFlabel common-module__dotted common-module__oflow common-module__ellipsis",selectLitetheme:"Composebox-module__selectLitetheme",emptyErr:"Composebox-module__emptyErr common-module__dblk",replyIcns:"Composebox-module__replyIcns common-module__posrel",textVal:"Composebox-module__textVal common-module__dotted common-module__oflow common-module__ellipsis",icnMore:"Composebox-module__icnMore",moreAction:"Composebox-module__moreAction",recipientstheme:"Composebox-module__recipientstheme",recipient:"Composebox-module__recipient",demomore:"Composebox-module__demomore",fromAddress:"Composebox-module__fromAddress",fromAlert:"Composebox-module__fromAlert",soloDraft:"Composebox-module__soloDraft",visHidden:"Composebox-module__visHidden common-module__vishidden"}},1284:function(e,t,a){e.exports={rlyedr:"TokenList-module__rlyedr",rlymailtxt:"TokenList-module__rlymailtxt common-module__dotted common-module__oflow common-module__ellipsis",rlyact:"TokenList-module__rlyact",rlyclo:"TokenList-module__rlyclo",item:"TokenList-module__item",placeholder:"TokenList-module__placeholder",inputCont:"TokenList-module__inputCont",sel:"TokenList-module__sel",invalide:"TokenList-module__invalide",invalideInput:"TokenList-module__invalideInput"}},1285:function(e,t,a){e.exports={alertDiv:"FromAddressEmpty-module__alertDiv common-module__dotted common-module__oflow common-module__ellipsis",icnExclatn:"FromAddressEmpty-module__icnExclatn",alertText:"FromAddressEmpty-module__alertText",refreshText:"FromAddressEmpty-module__refreshText"}},1286:function(e,t,a){e.exports={mainContainer:"ReplyFooter-module__mainContainer common-module__posrel",shadow:"ReplyFooter-module__shadow common-module__posab common-module__w100",bluePrintLayar:"ReplyFooter-module__bluePrintLayar",btmDiv:"ReplyFooter-module__btmDiv",uploadImg:"ReplyFooter-module__uploadImg",sendBtn:"ReplyFooter-module__sendBtn",actionBtn:"ReplyFooter-module__actionBtn",attchIcn:"ReplyFooter-module__attchIcn",attchPopup:"ReplyFooter-module__attchPopup",replyBottom:"ReplyFooter-module__replyBottom",fileCont:"ReplyFooter-module__fileCont"}},1287:function(e,t,a){e.exports={ticketButton:"SendButton-module__ticketButton",ticketAction:"SendButton-module__ticketAction common-module__dtable",haveMore:"SendButton-module__haveMore",arrow:"SendButton-module__arrow",content:"SendButton-module__content common-module__pointer",actionType:"SendButton-module__actionType common-module__semibold common-module__ftsmooth",subtitle:"SendButton-module__subtitle common-module__oflow",buttonAction:"SendButton-module__buttonAction common-module__vishidden",active:"SendButton-module__active common-module__visible",secondarybutton:"SendButton-module__secondarybutton common-module__semibold common-module__ftsmooth",actionSubtitle:"SendButton-module__actionSubtitle",switchAction:"SendButton-module__switchAction",actionNotify:"SendButton-module__actionNotify",switchbox:"SendButton-module__switchbox",pl30:"SendButton-module__pl30"}},1288:function(e,t,a){e.exports={mainContainer:"ForumFooter-module__mainContainer common-module__cboth",shadow:"ForumFooter-module__shadow common-module__w100",forumDiv:"ForumFooter-module__forumDiv common-module__flexgrow",buttonGroup:"ForumFooter-module__buttonGroup",postButton:"ForumFooter-module__postButton",forumStatus:"ForumFooter-module__forumStatus",forumstatusText:"ForumFooter-module__forumstatusText common-module__bold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis common-module__offSelection",container:"ForumFooter-module__container common-module__cboth",statusSel:"ForumFooter-module__statusSel",dropDown:"ForumFooter-module__dropDown",dropList:"ForumFooter-module__dropList common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis common-module__offSelection"}},1289:function(e,t,a){e.exports={list:"SnippetActionPopup-module__list",icon:"SnippetActionPopup-module__icon",popup:"SnippetActionPopup-module__popup"}},1290:function(e,t,a){e.exports={replyArea:"ReplyEditor-module__replyArea"}},1291:function(e,t,a){e.exports={listCont:"EmailTemplatePopup-module__listCont",title:"EmailTemplatePopup-module__title common-module__semibold common-module__ftsmooth",list:"EmailTemplatePopup-module__list common-module__dotted common-module__oflow common-module__ellipsis",footer:"EmailTemplatePopup-module__footer",footerOption:"EmailTemplatePopup-module__footerOption common-module__dotted common-module__oflow common-module__ellipsis",updateIcon:"EmailTemplatePopup-module__updateIcon",emptyTxt:"EmailTemplatePopup-module__emptyTxt",emtyIcon:"EmailTemplatePopup-module__emtyIcon",viewpopsearch:"EmailTemplatePopup-module__viewpopsearch",popup:"EmailTemplatePopup-module__popup",seperate:"EmailTemplatePopup-module__seperate"}},1336:function(e,t,a){"use strict";var n=a(5),o=a.n(n),r=a(2),i=a.n(r),s=a(23),l=a.n(s),c=a(12),d=a.n(c),u=a(9),m=a.n(u),p=a(10),h=a.n(p),f=a(13),g=a.n(f),v=a(14),_=a.n(v),E=a(0),b=a.n(E),y=a(1),I=a.n(y),C=a(26),A=a(533),k=a.n(A),S=a(16),N=a(1004),D=a(153),T=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return _()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,a=e.isSymbol;return b.a.createElement(D.a,{viewBox:"0 0 32 32",name:"PlusIcon",isRender:t,isSymbol:a},b.a.createElement("g",null,b.a.createElement("path",{style:{fill:"#767d89"},d:"M16,2.7c0.4,0,0.7,0.1,0.9,0.4s0.4,0.6,0.4,0.9v10.7H28c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9 c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4H17.3V28c0,0.4-0.1,0.7-0.4,0.9c-0.3,0.3-0.6,0.4-0.9,0.4c-0.4,0-0.7-0.1-0.9-0.4 c-0.3-0.3-0.4-0.6-0.4-0.9V17.3H4c-0.4,0-0.7-0.1-0.9-0.4S2.7,16.4,2.7,16s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4h10.7V4 c0-0.4,0.1-0.7,0.4-0.9C15.3,2.8,15.6,2.7,16,2.7z"})))}}]),t}(b.a.Component),x=T;T.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},T.defaultProps={isRender:!0,isSymbol:!1};var w=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return _()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,a=e.isSymbol;return b.a.createElement(D.a,{viewBox:"0 0 31 32",name:"SnippetIcon",isRender:t,isSymbol:a},b.a.createElement("g",null,b.a.createElement("path",{d:"M14.4,8.2L15.6,9L16,8.4l-1-0.7l2.5-3.7L11.5,0L8.9,3.8L7.9,3L7.6,3.6l1.2,0.8c-2.3,3-5.9,0.8-6,0.7L2.3,4.9L0,23.8 l16.6-9.3l-0.4-0.3C15.9,13.9,12.6,11.5,14.4,8.2L14.4,8.2z M1.5,22l5.2-7.7c0.3,0.1,0.6,0.2,0.9,0.2c1.2,0,2.1-0.9,2.2-2.1 c0-1.2-0.9-2.1-2.1-2.2c-1.2,0-2.1,0.9-2.2,2.1c0,0.6,0.2,1.2,0.7,1.6L1,21.6L2.8,6c1.2,0.6,4.4,1.7,6.5-1.1l4.5,3 c-1.8,3,0.4,5.6,1.4,6.5L1.5,22L1.5,22z M6.7,13.6c-0.7-0.4-0.8-1.3-0.4-2s1.3-0.8,2-0.4c0.7,0.4,0.8,1.3,0.4,2 c-0.2,0.3-0.5,0.5-0.9,0.6C7.5,13.9,7.1,13.8,6.7,13.6L6.7,13.6z"}),b.a.createElement("path",{style:{fill:"#03A3FE"},d:"M30.9,25c-4.9,0.7-5.4,1.2-5.9,6.7c-0.6-5.4-1.1-6-6.1-6.5c4.9-0.7,5.4-1.2,5.9-6.7 C25.4,23.9,25.9,24.5,30.9,25z M30.3,8.2c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C25.4,7.1,25.8,7.6,30.3,8.2z M16.2,25.7c-4.5,0.6-4.9,1.1-5.5,6.3c-0.5-5.3-0.9-5.8-5.4-6.4c4.5-0.6,4.9-1.1,5.5-6.3 C11.3,24.6,11.7,25.1,16.2,25.7z"})))}}]),t}(b.a.Component),O=w;w.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},w.defaultProps={isRender:!0,isSymbol:!1};var F=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return _()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.isRender,a=e.isSymbol;return b.a.createElement(D.a,{viewBox:"0 0 32 32",name:"TemplateIcon",isRender:t,isSymbol:a},b.a.createElement("g",null,b.a.createElement("path",{d:"M3.6,27.7h5.9v2.8c0,0.8,0.7,1.5,1.5,1.5h17.4c0.8,0,1.5-0.7,1.5-1.5V5.9c0-0.8-0.7-1.5-1.5-1.5h-5.9V1.5 C22.5,0.7,21.8,0,21,0L3.6,0C2.8,0,2.1,0.7,2.1,1.5v24.6C2.1,27,2.8,27.7,3.6,27.7z M28.4,5.7c0.1,0,0.2,0.1,0.2,0.2v24.6 c0,0.1-0.1,0.2-0.2,0.2H11c-0.1,0-0.2-0.1-0.2-0.2V5.9c0-0.1,0.1-0.2,0.2-0.2C11,5.7,28.4,5.7,28.4,5.7z M9.5,16.6v3.1V16.6z M9.5,12v3.3V12z M9.5,7.6v3.2V7.6z M9.5,21v5.3H3.6c-0.1,0-0.2-0.1-0.2-0.2V1.5c0-0.1,0.1-0.2,0.2-0.2H21c0.1,0,0.2,0.1,0.2,0.2 v2.7L11,4.3c-0.8,0-1.5,0.7-1.5,1.5v0.1L9.5,21z M26.9,25.5c0,0.4-0.3,0.7-0.7,0.7H15.7c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7 h10.6C26.6,24.8,26.9,25.1,26.9,25.5z M12.8,21c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,21.7,12.8,21.4,12.8,21L12.8,21z M12.8,16.5c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,17.1,12.8,16.8,12.8,16.5L12.8,16.5z M12.8,12c0-0.4,0.3-0.7,0.7-0.7h12.8c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H13.4 C13.1,12.6,12.8,12.4,12.8,12L12.8,12z"})))}}]),t}(b.a.Component),P=F;F.propTypes={isRender:I.a.bool,isSymbol:I.a.bool},F.defaultProps={isRender:!0,isSymbol:!1};var R=a(1283),B=a.n(R),V=a(30),M=a(1007),L=a(99),j=a.n(L),z=a(1200),K=a(6),U=a(1284),W=a.n(U),H=a(1083),Z=a(8),q=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e));return a.state={value:"",editedValue:a.props.editedValue||"",selectedIndex:null,errordiv:"",errorIndex:null,editedIndex:a.props.editedIndex||null,selectSearchIndex:-1},a.formatEmailAddress=a.formatEmailAddress.bind(a),a.removeEmail=a.removeEmail.bind(a),a.selectEmail=a.selectEmail.bind(a),a.handleSearchIndex=a.handleSearchIndex.bind(a),a.resetSearchData=a.resetSearchData.bind(a),a}return _()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){e.editedValue==this.props.editedValue&&e.editedIndex==this.props.editedIndex||this.setState({editedValue:e.editedValue,editedIndex:e.editedIndex})}},{key:"handleChange",value:function(e,t){"edit"==e?this.setState({editedValue:t}):this.setState({value:t}),t.length>2?this.props.searchContact(this.props.mode,t):this.resetSearchData()}},{key:"removeEmail",value:function(e){var t=this,a=this.props,n=a.removeEmail,o=a.mode,r=this.state.selectedIndex;null==r&&e?this.setState({selectedIndex:e-1}):(n(r,o,"",function(){t.formInput&&t.formInput.focus()}),this.setState({selectedIndex:e-1}))}},{key:"formatEmailAddress",value:function(e,t){var a=this;this.setState({selectedIndex:null});var n=this.props,o=n.mode,r=n.formatEmailAddress,i=n.emailArr,s=n.searchMode,l=n.searchData,c=this.state,d=c.selectSearchIndex,u=c.selectedIndex,m=t.keyCode,p=t.key,h="string"==typeof t?t:t.target.value;if(38==m||40==m)s==o&&"noData"!=l&&this.handleSearchIndex(m);else if(s==o&&"noData"!=l&&13==m&&-1!=d)this.handleSearchIndex(m);else if(8==m&&""==h)this.removeEmail(i.length);else if(13==m&&null!=u)this.props.editEmail(this.state.selectedIndex,this.props.emailArr[this.state.selectedIndex],o,function(){a.editInput.focus(),a.editInput.select()});else{if(this.setState({selectedIndex:null}),""==h)return;(13==m||188==m&&","==p||"focusout"==e)&&(this.resetSearchData(),188==m&&(h=h.substring(0,h.indexOf(","))),r(h,o,function(e){"isValide"==e.type?a.setState({value:""},function(){a.formInput&&a.formInput.focus()}):"isInValide"==e.type?(a.setState({errordiv:"form"}),setTimeout(function(){a.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(a.setState({errorIndex:e.index},function(){a.formInput&&a.formInput.focus()}),setTimeout(function(){a.setState({errorIndex:null})},2e3))}))}}},{key:"changeEmailAddress",value:function(e,t,a){var n=this,o=this.props,r=o.mode,i=o.changeEmailAddress,s=o.removeEmail,l=o.searchMode,c=o.searchData,d=a.key,u=a.keyCode,m="string"==typeof a?a:a.target.value;38==u||40==u?l==r&&"noData"!=c&&this.handleSearchIndex(u):l==r&&"noData"!=c&&13==u&&-1!=this.state.selectSearchIndex?this.handleSearchIndex(u):8==u&&""==m?s(e,r,"edit",function(){n.formInput&&n.formInput.focus()}):(13==u||188==u&&","==d||"focusout"==t)&&(this.resetSearchData(),188==u&&(m=m.substring(0,m.indexOf(","))),i(m,e,r,function(e){"isValide"==e.type?n.setState({value:""},function(){n.formInput&&n.formInput.focus()}):"isInValide"==e.type?(n.setState({errordiv:"edit"}),setTimeout(function(){n.setState({errordiv:""})},2e3)):"duplicate"==e.type&&(n.setState({errorIndex:e.index},function(){n.editInput.focus()}),setTimeout(function(){n.setState({errorIndex:null})},2e3))}))}},{key:"editEmail",value:function(e,t,a){var n=this;this.state.selectedIndex==e?this.props.editEmail(e,t,a,function(){n.editInput.focus(),n.editInput.select()}):this.setState({selectedIndex:e})}},{key:"selectEmail",value:function(e,t){e.firstName,e.lastName;var a=e.email,n=Object(K.e)(e.firstName,e.lastName)+"<"+a+">";"edit"==t?(this.setState({editedValue:n,errordiv:""}),this.changeEmailAddress(this.state.editedIndex,"focusout",n)):(this.setState({value:n,errordiv:""}),this.formatEmailAddress("focusout",n)),this.resetSearchData()}},{key:"resetSearchData",value:function(){this.setState({selectSearchIndex:-1}),this.props.closeSearchPopup()}},{key:"handleSearchIndex",value:function(e){var t=this.props.searchData;if(13==e){var a=this.state,n=a.selectSearchIndex,o=a.editedIndex;if(n>-1){var r=t[n],i=r.email,s=r.firstName,l=r.lastName,c=Object(K.e)(s,l)+"<"+i+">";null==o?(this.setState({value:c,errordiv:""}),this.formatEmailAddress("focusout",c)):(this.setState({editedValue:c,errordiv:""}),this.changeEmailAddress(o,"focusout",c)),this.resetSearchData()}}else 40==e?this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex==t.length-1?0:e.selectSearchIndex+1}}):this.setState(function(e){return{selectSearchIndex:e.selectSearchIndex<=0?t.length-1:e.selectSearchIndex-1}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.emailArr,n=t.mode,o=t.removeEmail,r=t.editedMode,i=t.searchMode,s=t.searchData,l=t.orgName,c=this.state,d=c.value,u=c.editedValue,m=c.selectedIndex,p=c.errordiv,h=c.errorIndex,f=c.editedIndex,g=c.selectSearchIndex;return b.a.createElement(S.Container,{wrap:!0,alignBox:"row"},a.map(function(t,a){var c=Object(H.a)(t),d=Object(H.e)(t);return f==a&&n==r?b.a.createElement(S.Box,{shrink:!0,className:W.a.item},b.a.createElement(j.a,{value:u,dataId:"toAddress_"+e.props.orgName,placeHolder:"Enter the Recipients Email Address",className:"edit"==p?W.a.placeholder+" "+W.a.invalideInput:W.a.placeholder,needAppearance:!1,onChange:e.handleChange.bind(e,"edit"),onKeyUp:e.changeEmailAddress.bind(e,a,""),onBlur:e.changeEmailAddress.bind(e,a,"focusout"),inputRef:function(t){e.editInput=t}}),i==n&&"noData"!=s?b.a.createElement("span",null,b.a.createElement(z.a,{data:s,orgName:l,onSelect:e.selectEmail,type:"edit",selectSearchIndex:g,needFixed:!0})):null):b.a.createElement(S.Box,{className:m==a?W.a.item+" "+W.a.sel:d?W.a.item:W.a.item+" "+W.a.invalide,key:a,id:m},b.a.createElement("div",{className:W.a.rlyedr,onClick:e.editEmail.bind(e,a,t,n)},b.a.createElement("span",{className:W.a.rlyact},b.a.createElement("span",{className:W.a.rlyclo,onClick:o.bind(e,a,n,"",function(){e.formInput&&e.formInput.focus()})},b.a.createElement(V.TopbandFontIcon,{name:"close",size:"17"})),b.a.createElement("span",{className:h==a?W.a.rlymailtxt+" "+W.a.invalideInput:W.a.rlymailtxt},c))))}),n!=r&&b.a.createElement(S.Box,{flexible:!0,className:W.a.item+" "+W.a.inputCont},b.a.createElement(j.a,{type:"text",value:d,placeHolder:Z.f.getI18NValue("support.email.placeholder"),className:"form"==p?W.a.placeholder+" "+W.a.invalideInput:W.a.placeholder,needAppearance:!1,onChange:this.handleChange.bind(this,""),onKeyUp:this.formatEmailAddress.bind(this,""),onBlur:this.formatEmailAddress.bind(this,"focusout"),inputRef:function(t){e.formInput=t}}),i==n&&"noData"!=s?b.a.createElement(z.a,{data:s,orgName:l,onSelect:this.selectEmail,type:"form",selectSearchIndex:g,needFixed:!0}):null))}}]),t}(b.a.Component),G=q;q.propTypes={changeEmailAddress:I.a.func,closeSearchPopup:I.a.func,editEmail:I.a.func,editedIndex:I.a.string,editedMode:I.a.string,editedValue:I.a.string,emailArr:I.a.array,formatEmailAddress:I.a.func,mode:I.a.string,orgName:I.a.string,removeEmail:I.a.func,searchContact:I.a.func,searchData:I.a.array,searchMode:I.a.string};var $=a(1285),J=a.n($),Y=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e));return a.state={mode:"Configure"},a._mount=!1,a.refreshAdrress=a.refreshAdrress.bind(a),a.openConfigurePage=a.openConfigurePage.bind(a),a}return _()(t,e),h()(t,[{key:"refreshAdrress",value:function(){var e=this;this.props.getFromEmailAddress(function(){e._mount&&e.setState({mode:"Configure"})})}},{key:"openConfigurePage",value:function(){this.setState({mode:"refresh"}),this.props.openConfigurePage()}},{key:"componentDidMount",value:function(){this._mount=!0}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"render",value:function(){var e=this.state.mode;return b.a.createElement("div",null,"Configure"==e?b.a.createElement("div",{className:J.a.alertDiv,onClick:this.openConfigurePage},b.a.createElement("span",{className:J.a.icnExclatn},b.a.createElement(V.CommonFontIcon,{name:"exclamationThincircle",size:"14"})),b.a.createElement("span",{className:J.a.alertText},Z.f.getI18NValue("support.email.fromaddress.click"))):b.a.createElement("div",{className:J.a.refreshText,onClick:this.refreshAdrress},Z.f.getI18NValue("crm.button.refresh")))}}]),t}(b.a.Component),Q=Y;Y.propTypes={getFromEmailAddress:I.a.func,openConfigurePage:I.a.func};var X=a(949),ee=a.n(X),te=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e)),n=a.props,o=n.toAddress,r=void 0===o?[]:o,i=n.ccAddress,s=void 0===i?[]:i,l=n.bccAddress,c=void 0===l?[]:l;return a.state={toArray:r,ccArray:s,bccArray:c,editedMode:"",editedIndex:null,editedValue:"",isCcVisible:!!s.length,isBccVisible:!!c.length,moreData:0},a.formatEmailAddress=a.formatEmailAddress.bind(a),a.removeEmail=a.removeEmail.bind(a),a.editEmail=a.editEmail.bind(a),a.changeEmailAddress=a.changeEmailAddress.bind(a),a.showCc=a.showCc.bind(a),a.showBcc=a.showBcc.bind(a),a.constructRecipients=a.constructRecipients.bind(a),a.createRecipientCount=a.createRecipientCount.bind(a),a.hideRecipients=a.hideRecipients.bind(a),a.replyActions=a.replyActions.bind(a),a.handleFromAdressChange=a.handleFromAdressChange.bind(a),a}return _()(t,e),h()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,a=t.toArray,n=t.ccArray,o=t.bccArray,r=t.isCcVisible,i=t.isBccVisible;e.toAddress==a&&e.ccAddress==n&&e.bccAddress==o||(this.setState({toArray:e.toAddress,ccArray:e.ccAddress,bccArray:e.bccAddress}),r||this.setState({isCcVisible:!!e.ccAddress.length}),i||this.setState({isBccVisible:!!e.bccAddress.length})),e.mode!=this.props.mode&&"forward"==e.mode&&this.setState({isCcVisible:!1}),e.isEditorFocus!=this.props.isEditorFocus&&e.isEditorFocus&&this.setState({isCcVisible:!1,isBccVisible:!1})}},{key:"formatEmailAddress",value:function(e,t,a){for(var n=Object(H.d)(e),o=0;o<n.length;o++){var r=n[o].trim();if(Object(H.e)(r)){var i=this.props.addEmail;if("to"==t){var s=Object(H.c)(this.state.toArray,r);s.isDuplicate?a&&a({type:"duplicate",index:s.index}):(i(r,t),a&&a({type:"isValide"}))}else if("bcc"==t){var l=Object(H.c)(this.state.bccArray,r);l.isDuplicate?a&&a({type:"duplicate",index:l.index}):(i(r,t),a&&a({type:"isValide"}))}else if("cc"==t){var c=Object(H.c)(this.state.ccArray,r);c.isDuplicate?a&&a({type:"duplicate",index:c.index}):(i(r,t),a&&a({type:"isValide"}))}}else a&&a({type:"isInValide"})}}},{key:"changeEmailAddress",value:function(e,t,a,n){if(Object(H.e)(e)){var o=this.props.changeEmail,r=!1;if("to"==a){var i=Object(H.c)(this.state.toArray,e);i.isDuplicate&&i.index!=t?n&&n({type:"duplicate",index:i.index}):(o(e,t,a),r=!0,n&&n({type:"isValide"}))}else if("bcc"==a){var s=Object(H.c)(this.state.bccArray,e);s.isDuplicate&&s.index!=t?n&&n({type:"duplicate",index:s.index}):(o(e,t,a),r=!0,n&&n({type:"isValide"}))}else if("cc"==a){var l=Object(H.c)(this.state.ccArray,e);l.isDuplicate&&l.index!=t?n&&n({type:"duplicate",index:l.index}):(o(e,t,a),r=!0,n&&n({type:"isValide"}))}r&&this.setState({editedMode:"",editedIndex:null,editedValue:""})}else n&&n({type:"isInValide"})}},{key:"editEmail",value:function(e,t,a,n){this.setState({editedIndex:e,editedValue:t,editedMode:a},function(){n&&n()})}},{key:"removeEmail",value:function(e,t,a,n){var o=this.props.removeEmail;"to"==t?o(e,t,function(){n&&n()}):"bcc"==t?o(e,t,function(){n&&n()}):"cc"==t&&o(e,t,function(){n&&n()}),"edit"==a&&this.setState({editedMode:"",editedIndex:null,editedValue:""},function(){n&&n()})}},{key:"showBcc",value:function(){this.setState({isBccVisible:!0})}},{key:"showCc",value:function(){this.setState({isCcVisible:!0})}},{key:"constructSwtichOptions",value:function(e,t){var a=[];if("FACEBOOK"==t||"FACEBOOK_DM"==t)a=[{name:Z.f.getI18NValue("crm.label.email"),iconName:"chEmail1",size:"11"},{name:Z.f.getI18NValue("support.social.facebook.name"),iconName:"chFacebook",size:"14"}];else if("TWITTER"==t||"TWITTER_DM"==t)a=[{name:Z.f.getI18NValue("crm.label.email"),iconName:"chEmail1",size:"11"},{name:Z.f.getI18NValue("support.social.common.tweet"),iconName:"chTwitter",size:"16"},{name:Z.f.getI18NValue("support.social.common.direct.message"),iconName:"bubble",size:"16"}];else for(var n=[{label:Z.f.getI18NValue("support.common.request.mail.replyall"),key:"replyall"},{label:Z.f.getI18NValue("support.common.request.mail.reply"),key:"reply"},{label:Z.f.getI18NValue("support.common.request.mail.forward"),key:"forward"}],o=0;o<n.length;o++){var r=n[o],i=r.label,s=r.key;e!=s&&a.push({name:i,iconName:s,size:"13"})}return a}},{key:"constructRecipients",value:function(e,t){for(var a=[],n=e.length-t,o=0;o<n;o++){var r=Object(H.a)(e[o]);a.push(b.a.createElement("span",{className:B.a.recipient,key:o},o==n-1?r:r+","))}return a}},{key:"createRecipientCount",value:function(){var e=this.state,t=e.toArray,a=e.ccArray,n=e.bccArray,o=t.concat(a,n).length;if(o&&this.recipientsCont){for(var r=this.recipientsCont.offsetWidth,i=this.recipientsCont.children,s=0,l=0,c=0;c<i.length;c++)if(r<=(s+=i[c].offsetWidth)){l=o-c;break}this.setState({moreData:l})}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isRecipientsVisible,a=e.inValideArr;t&&!(void 0===a?[]:a).length&&this.createRecipientCount()}},{key:"componentDidUpdate",value:function(e){var t=e.ccAddress,a=void 0===t?[]:t,n=e.bccAddress,o=void 0===n?[]:n,r=e.toAddress,i=void 0===r?[]:r,s=e.isRecipientsVisible;this.props.isRecipientsVisible!=s&&this.props.isRecipientsVisible&&!this.props.inValideArr.length&&this.createRecipientCount(),i.length==this.props.toAddress.length&&a.length==this.props.ccAddress.length&&o.length==this.props.bccAddress.length||!this.props.isRecipientsVisible||this.createRecipientCount()}},{key:"hideRecipients",value:function(){this.setState({moreData:0}),this.props.hideRecipients()}},{key:"replyActions",value:function(e){var t=this.props,a=t.threadId,n=t.content,o=t.thread,r="";e==Z.f.getI18NValue("support.common.request.mail.replyall")?r="replyall":e==Z.f.getI18NValue("support.common.request.mail.reply")?r="reply":e==Z.f.getI18NValue("support.common.request.mail.forward")?r="forward":e==Z.f.getI18NValue("crm.label.email")?r="replyall":e==Z.f.getI18NValue("support.social.facebook.name")&&"FACEBOOK_DM"==o.channel?r="facebookDm":e==Z.f.getI18NValue("support.social.facebook.name")?r="facebook":e==Z.f.getI18NValue("support.social.common.tweet")?r="twitter":e==Z.f.getI18NValue("support.social.common.direct.message")&&(r="twitterDm"),this.props.openEditor(a,n,o,r)}},{key:"handleFromAdressChange",value:function(e){this.setState({selectedFromAddress:e});var t=this.props.fromEmailAddress.filter(function(t){return t.id==e});this.props.changeFromEmailAddress(t[0].address)}},{key:"constructDraftObj",value:function(){var e=this.props,t=e.isDraft,a=e.draftText,n=e.saveDraft,o=e.updateDraft,r=e.deleteDraft,i=e.isCustomChannel,s=e.isFromBlueprint,l=e.thread,c=e.mode,d=e.haveForWardPermissionOnly,u=e.haveMailSendPermission;return b.a.createElement(b.a.Fragment,null,t?b.a.createElement("div",{className:B.a.moreAction+" "+(s?B.a.visHidden:"")},b.a.createElement("span",{onClick:o},a),b.a.createElement("span",{className:B.a.icnMore},b.a.createElement(M.a,{IcnName:"down1",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowRight:"24",objValues:[{name:Z.f.getI18NValue("support.common.request.mail.discard.draft"),iconName:"draftDelete",size:"13"}],onSelect:r}))):b.a.createElement(b.a.Fragment,null,!i&&!s||s&&("FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel)?b.a.createElement("span",{className:B.a.moreAction},b.a.createElement(V.TicketsFontIcon,{name:"FACEBOOK"==l.channel||"TWITTER"==l.channel||"TWITTER_DM"==l.channel||"FACEBOOK_DM"==l.channel?"chEmail1":c,size:"12"}),d?null:b.a.createElement("span",{className:B.a.icnMore},b.a.createElement(M.a,{IcnName:"blockDownArrow",Icnsize:"8",icnStatus:!0,listStyle:"alpha",arrowLeft:"55",size:"xmini",objValues:this.constructSwtichOptions(c,l.channel),onSelect:this.replyActions}))):null,u&&!s?b.a.createElement("span",{className:B.a.moreAction},b.a.createElement("span",{onClick:n},a)):null))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.mode,t.draftText,t.isDraft,t.saveDraft,t.updateDraft,t.fromEmailAddress),n=(t.deleteDraft,t.searchContact),o=t.searchMode,r=t.searchData,i=t.orgName,s=t.closeSearchPopup,l=t.isRecipientsVisible,c=(t.threadId,t.content,t.thread,t.inValideArr),d=void 0===c?[]:c,u=(t.isPeekView,t.getFromEmailAddress),m=t.openConfigurePage,p=t.haveMailSendPermission,h=t.mailConfigurations,f=t.myInfo,g=(t.isFromBlueprint,t.haveForWardPermissionOnly,t.isFromAddressFetching),v=t.isToEmpty,_=t.isCustomChannel,E=this.state,y=E.toArray,I=E.editedIndex,C=E.editedValue,A=E.editedMode,k=E.isCcVisible,N=E.isBccVisible,D=E.ccArray,T=E.bccArray,x=E.moreData,w=E.selectedFromAddress,O=h.agentNameInTicketReply,F=Object(K.e)(f.firstName,f.lastName),P=y.concat(D,T),R=[];return a.map(function(e){var t=O?F:e.displayName;R.push({id:e.id,name:'"'+t+'"<'+e.address+">"})}),w||R[0]&&(w=R[0].id),_?p?b.a.createElement(S.Container,{className:B.a.soloDraft,alignBox:"row"},b.a.createElement(S.Box,{flexible:!0}),this.constructDraftObj()):null:b.a.createElement(S.Container,{className:B.a.container},b.a.createElement(S.Box,{className:B.a.composeRow},b.a.createElement(S.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},b.a.createElement(S.Box,{className:B.a.composeFlabel},Z.f.getI18NValue("label.request.from")),b.a.createElement(S.Box,{className:B.a.fromAddress,flexible:!0,shrink:!0},R.length||g?b.a.createElement(ee.a,{emptyMessage:Z.f.getI18NValue("support.label.no.match.found"),needBorder:!1,needLocalSearch:!0,needSearch:!0,onChange:this.handleFromAdressChange,options:R,selectedValue:w||" ",textField:"name",valueField:"id"}):b.a.createElement("div",{className:B.a.fromAlert},b.a.createElement(Q,{getFromEmailAddress:u,openConfigurePage:m}))),b.a.createElement(S.Box,{className:B.a.rightContainer},b.a.createElement("div",{className:B.a.actionCont},this.constructDraftObj())))),l&&P.length&&!d.length?b.a.createElement(S.Box,{onClick:this.hideRecipients},b.a.createElement(S.Container,{align:"vertical",alignBox:"row",className:B.a.subRow},b.a.createElement(S.Box,{className:B.a.composeFlabel},Z.f.getI18NValue("support.request.history.wfalert.recipients")),b.a.createElement(S.Box,{className:B.a.recipientstheme,eleRef:function(t){e.recipientsCont=t},flexible:!0,shrink:!0},this.constructRecipients(P,x),x?b.a.createElement("span",{className:B.a.demomore},x," ",Z.f.getI18NValue("crm.login.more")):null))):b.a.createElement(S.Box,{className:B.a.scrollBox,dataId:"autoId_23"},b.a.createElement(S.Container,{alignBox:"row"},b.a.createElement(S.Box,{flexible:!0},b.a.createElement("div",{className:B.a.composeRow},b.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},b.a.createElement(S.Box,{className:B.a.composeFlabel},Z.f.getI18NValue("crm.label.to.email")),b.a.createElement(S.Box,{className:B.a.selectLitetheme,flexible:!0},b.a.createElement(G,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:s,editedIndex:I,editedMode:A,editedValue:C,editEmail:this.editEmail,emailArr:y,formatEmailAddress:this.formatEmailAddress,mode:"to",orgName:i,removeEmail:this.removeEmail,searchContact:n,searchData:r,searchMode:o}),v?b.a.createElement("div",{className:B.a.emptyErr},Z.f.getI18NValue("support.common.email.validation.message")):null))),k||D.length?b.a.createElement("div",{className:B.a.composeRow},b.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},b.a.createElement(S.Box,{className:B.a.composeFlabel},Z.f.getI18NValue("crm.label.cc.email")),b.a.createElement(S.Box,{className:B.a.selectLitetheme,flexible:!0},b.a.createElement(G,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:s,editedIndex:I,editedMode:A,editedValue:C,editEmail:this.editEmail,emailArr:D,formatEmailAddress:this.formatEmailAddress,mode:"cc",orgName:i,removeEmail:this.removeEmail,searchContact:n,searchData:r,searchMode:o})))):null,N||T.length?b.a.createElement("div",{className:B.a.composeRow},b.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:B.a.subRow},b.a.createElement(S.Box,{className:B.a.composeFlabel},Z.f.getI18NValue("crm.label.bcc.email")),b.a.createElement(S.Box,{className:B.a.selectLitetheme,flexible:!0},b.a.createElement(G,{changeEmailAddress:this.changeEmailAddress,closeSearchPopup:s,editedIndex:I,editedMode:A,editedValue:C,editEmail:this.editEmail,emailArr:T,formatEmailAddress:this.formatEmailAddress,mode:"bcc",orgName:i,removeEmail:this.removeEmail,searchContact:n,searchData:r,searchMode:o})))):null),b.a.createElement(S.Box,{className:B.a.rightContainer},l?null:b.a.createElement("div",{className:B.a.replyIcns},k||D.length?null:b.a.createElement("span",{className:B.a.textVal,onClick:this.showCc},Z.f.getI18NValue("crm.label.cc.email")),N||T.length?null:b.a.createElement("span",{className:B.a.textVal,onClick:this.showBcc},Z.f.getI18NValue("crm.label.bcc.email")))))))}}]),t}(b.a.Component),ae=te;te.propTypes={addEmail:I.a.func,bccAddress:I.a.array,ccAddress:I.a.array,changeEmail:I.a.func,changeFromEmailAddress:I.a.func,closeSearchPopup:I.a.func,content:I.a.string,deleteDraft:I.a.func,draftText:I.a.string,fromEmailAddress:I.a.any,getFromEmailAddress:I.a.func,haveForWardPermissionOnly:I.a.bool,haveMailSendPermission:I.a.bool,hideRecipients:I.a.func,iconName:I.a.string,inValideArr:I.a.array,isDraft:I.a.bool,isEditorFocus:I.a.bool,isFromAddressFetching:I.a.bool,isFromBlueprint:I.a.bool,isPeekView:I.a.bool,isRecipientsVisible:I.a.bool,isToEmpty:I.a.bool,mailConfigurations:I.a.object,mode:I.a.string,myInfo:I.a.object,openConfigurePage:I.a.func,openEditor:I.a.func,orgName:I.a.string,removeEmail:I.a.func,saveDraft:I.a.func,searchContact:I.a.func,searchData:I.a.array,searchMode:I.a.string,thread:I.a.any,threadId:I.a.string,toAddress:I.a.array,updateDraft:I.a.func};var ne=a(1286),oe=a.n(ne),re=a(1287),ie=a.n(re),se=a(239),le=a.n(se),ce=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e));return a.state={isPopupOpen:!1},a.togglePopup=a.togglePopup.bind(a),a.onActionClick=a.onActionClick.bind(a),a}return _()(t,e),h()(t,[{key:"togglePopup",value:function(e){this.setState(function(e){return{isPopupOpen:!e.isPopupOpen}}),e.stopPropagation()}},{key:"onActionClick",value:function(){var e=this.props,t=e.isDraft,a=e.sendDraft,n=e.sendReply;t?a():n()}},{key:"render",value:function(){var e=this.props,t=e.sendAndClose,a=(e.isDraft,e.isPrivateThread),n=e.isPrivateButtonEnable,o=e.togglePrivateSwitch,r=e.isStatusLocked,i=(e.havePrivateThreadConfig,e.haveForWardPermissionOnly,e.isSharedTicket),s=e.haveVisibilityChangePer,l=this.state.isPopupOpen?ie.a.active:"",c=n?Z.f.getI18NValue("support.request.thread.display.not.helpcenter"):Z.f.getI18NValue("support.request.thread.display.helpcenter"),d=s||!r&&!i;return b.a.createElement(S.Container,{className:ie.a.ticketButton,isCover:!1},b.a.createElement("div",{className:ie.a.ticketAction},b.a.createElement("div",{className:ie.a.content+" "+(d?ie.a.haveMore:""),onClick:this.onActionClick,"data-id":"replySendBtn"},b.a.createElement("p",{className:ie.a.actionType},Z.f.getI18NValue("crm.button.send")),a?b.a.createElement("p",{className:ie.a.subtitle},Z.f.getI18NValue("support.request.private.thread")):null),d?b.a.createElement("span",{className:ie.a.arrow,onClick:this.togglePopup},b.a.createElement(V.TopbandFontIcon,{name:"blockDownArrow",size:"8"})):null),b.a.createElement("div",{className:ie.a.buttonAction+" "+l},s?b.a.createElement("div",{className:ie.a.switchAction},b.a.createElement("p",null,b.a.createElement("span",{className:ie.a.actionNotify},Z.f.getI18NValue("support.department.type.internal")),b.a.createElement("span",{className:ie.a.switchbox},b.a.createElement(le.a,{id:"private",name:"private",size:"small",checked:n,onChange:o}))),b.a.createElement("p",{className:ie.a.actionSubtitle},c)):null,r||i?null:b.a.createElement("div",{"data-id":"sendOption"},b.a.createElement("span",{className:ie.a.secondarybutton,onClick:t},Z.f.getI18NValue("support.request.send.and.close")))))}}]),t}(b.a.Component),de=ce;ce.propTypes={haveForWardPermissionOnly:I.a.bool,havePrivateThreadConfig:I.a.bool,haveVisibilityChangePer:I.a.bool,isDraft:I.a.bool,isPrivateButtonEnable:I.a.bool,isPrivateThread:I.a.bool,isSharedTicket:I.a.bool,isStatusLocked:I.a.bool,sendAndClose:I.a.func,sendDraft:I.a.func,sendReply:I.a.func,togglePrivateSwitch:I.a.func};var ue=a(1019),me=a(1233),pe=a(1082),he=a(73),fe=a.n(he),ge=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return _()(t,e),h()(t,[{key:"render",value:function(){var e=this.props,t=e.closeEdtior,a=e.orgId,n=e.showAttachmentViewer,o=e.openCloudAttach,r=e.closeCloudAttach,i=e.deleleUpload,s=e.uploadAttach,l=e.removeAttachment,c=e.oldAttachments,d=e.newAttachments,u=e.sendDraft,m=e.isDraft,p=e.sendReply,h=e.sendAndClose,f=e.isPrivateThread,g=e.isPrivateButtonEnable,v=e.togglePrivateSwitch,_=e.isPeekView,E=e.haveMailSendPermission,y=e.isStatusLocked,I=e.havePrivateThreadConfig,C=e.isFromBlueprint,A=e.sendForReview,k=e.CloudAttachmentIframe,N=e.isCloudAttchOpen,D=e.addCloudAttch,T=e.haveForWardPermissionOnly,x=e.isSharedTicket,w=e.haveVisibilityChangePer,O=e.isCustomChannel,F=e.acceptsAttachments,P=e.appName,R=e.deleteDraft,B=e.sendCusomChannelReply,M=!0;return O&&!F&&(M=!1),b.a.createElement(S.Container,{alignBox:"row",align:"vertical",className:oe.a.mainContainer+" "+(C?oe.a.bluePrintLayar:"")},b.a.createElement("div",{className:oe.a.shadow}),b.a.createElement(S.Container,{alignBox:"row",dataId:"editorContainer",className:oe.a.replyBottom,isCover:!1},M?b.a.createElement(S.Box,{className:oe.a.btmDiv},b.a.createElement(S.Container,{className:oe.a.attchIcn,align:"vertical",alignBox:"row"},b.a.createElement("label",{htmlFor:"replyAttach"},b.a.createElement(V.TopbandFontIcon,{name:"attachment5",size:"16"}),b.a.createElement("input",{className:oe.a.fileCont,type:"file",onChange:s,multiple:"multiple",id:"replyAttach"})),b.a.createElement("div",{className:oe.a.attchPopup},b.a.createElement(pe.a,{label:"replyAttachLabel",boxPosition:"topRight",bottom:35,left:5,onAttchClick:s,openCloudAttach:o})))):null,b.a.createElement(S.Box,{shrink:!0,flexible:!0,className:oe.a.uploadImg},b.a.createElement(ue.a,{oldAttachments:c,newAttachments:d,deleleUpload:i,removeAttachment:l,showAttachmentViewer:n,orgId:a,from:"replyEdtior",isPeekView:_})),C?null:b.a.createElement(S.Box,{dataId:"send-options"},b.a.createElement(S.Container,{align:"vertical",alignBox:"row",isCover:!1},E?O?b.a.createElement(b.a.Fragment,null,b.a.createElement(fe.a,{palette:"primaryFilled",text:Z.f.getI18NValue("support.common.request.channel.integ.sendvia",[P]),onClick:B,className:oe.a.actionBtn}),m?b.a.createElement(fe.a,{palette:"secondary",text:Z.f.getI18NValue("support.common.request.mail.discard.draft",[P]),className:oe.a.actionBtn,onClick:R}):null):b.a.createElement("span",{className:oe.a.sendBtn},b.a.createElement(de,{sendDraft:u,sendReply:p,sendAndClose:h,isDraft:m,isPrivateThread:f,isPrivateButtonEnable:g,togglePrivateSwitch:v,haveMailSendPermission:E,isStatusLocked:y,havePrivateThreadConfig:I,haveForWardPermissionOnly:T,isSharedTicket:x,haveVisibilityChangePer:w})):b.a.createElement(fe.a,{palette:"primaryFilled",text:Z.f.getI18NValue("support.common.save.and.send.for.review"),onClick:A,className:oe.a.actionBtn}),b.a.createElement(S.Box,null,b.a.createElement(me.a,{isCancel:!0,onClick:t}))))),N&&k?b.a.createElement(k,{addCloudAttch:D,totalLen:c.length+d.length,closeIframe:r}):null)}}]),t}(b.a.Component),ve=ge;ge.propTypes={CloudAttachmentIframe:I.a.node,addCloudAttch:I.a.func,closeCloudAttach:I.a.func,closeEdtior:I.a.func,deleleUpload:I.a.func,deleteDraft:I.a.func,haveForWardPermissionOnly:I.a.bool,haveMailSendPermission:I.a.bool,havePrivateThreadConfig:I.a.bool,haveVisibilityChangePer:I.a.bool,isCloudAttchOpen:I.a.bool,isCustomChannel:I.a.bool,isDraft:I.a.bool,isFromBlueprint:I.a.bool,isPeekView:I.a.bool,isPrivateButtonEnable:I.a.bool,isPrivateThread:I.a.bool,isSharedTicket:I.a.bool,isStatusLocked:I.a.bool,newAttachments:I.a.array,oldAttachments:I.a.array,openCloudAttach:I.a.func,orgId:I.a.string,removeAttachment:I.a.func,sendAndClose:I.a.func,sendDraft:I.a.func,sendForReview:I.a.func,sendReply:I.a.func,showAttachmentViewer:I.a.func,togglePrivateSwitch:I.a.func,uploadAttach:I.a.func};var _e=a(1288),Ee=a.n(_e),be=a(72),ye=a.n(be),Ie=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e));return a.state={draftId:null,statusOpen:!1},a._mount=a.saveDraft=a.saveDraft.bind(a),a.sendReply=a.sendReply.bind(a),a.togglePopup=a.togglePopup.bind(a),a}return _()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this;this._mount=!0,window.addEventListener("click",function(){e._mount&&e.setState({statusOpen:!1})})}},{key:"componentWillUnmount",value:function(){this._mount=!1}},{key:"togglePopup",value:function(){this.setState(function(e){return{statusOpen:!e.statusOpen}})}},{key:"onSelect",value:function(e){var t=this.props,a=t.ticketId;(0,t.changeForumStatus)(t.channelRelatedInfo.topicId,e,a),this.togglePopup()}},{key:"sendReply",value:function(){var e=this.props,t=e.isDraft,a=e.editorId,n=e.sendReply,o=e.sendDraft,r=e.updateDraft,i=e.channelRelatedInfo,s=e.showMessage;if(""==i.forumStatus)s({type:"alert",message:Z.f.getI18NValue("support.community.tickettopic.selectstatus")});else{var l=this.state.draftId,c={channel:"FORUMS",content:l?editor[l].getContent():editor[a].getContent()};t?r(function(){o()}):n(c)}}},{key:"saveDraft",value:function(){var e=this,t=this.props,a=t.isDraft,n=t.editorId,o=t.saveDraft,r=t.updateDraft,i=this.state.draftId,s=i?editor[i].getContent():editor[n].getContent();a?r({channel:"FORUMS",content:s},function(){}):o(function(){e.setState({draftId:n})})}},{key:"render",value:function(){var e=this,t=this.state.statusOpen,a=this.props,n=a.closeEdtior,o=a.isDraft,r=a.channelRelatedInfo,i=a.deleteDraft,s=r.topicType,l=r.forumStatus,c=Object(K.s)(s),d=Z.f.getI18NValue("support.forum.setstatus"),u=!1;return c.forEach(function(e){l==e.value&&(d=e.label,u=!0)}),b.a.createElement(S.Container,{alignBox:"row",className:Ee.a.mainContainer},b.a.createElement("div",{className:Ee.a.shadow}),b.a.createElement(S.Box,{className:Ee.a.forumDiv},"QUESTION"==s||"IDEA"==s||"PROBLEM"==s?b.a.createElement("div",{className:Ee.a.forumStatus},b.a.createElement(ye.a,{isAnimate:!0,isArrow:!1,isRadius:!1,size:"default",boxPosition:"topCenter",isActive:t},c.map(function(t,a){var n=t.label,o=t.value,r=n==d;return b.a.createElement("div",{className:Ee.a.dropList+" "+(r?Ee.a.selected:""),key:a,onClick:e.onSelect.bind(e,o)},n)})),b.a.createElement("div",{className:Ee.a.container+" "+(u?Ee.a.statusSel:"")},b.a.createElement("span",{className:Ee.a.forumstatusText},d),b.a.createElement("span",{className:Ee.a.dropDown,onClick:function(t){t.stopPropagation&&t.stopPropagation(),e.togglePopup()}},b.a.createElement(V.TopbandFontIcon,{name:"blockDownArrow",size:"8"})))):null),b.a.createElement(S.Box,null,b.a.createElement("span",{className:Ee.a.postButton},b.a.createElement(fe.a,{text:Z.f.getI18NValue("support.forums.posttoforums"),palette:"primaryFilled",size:"medium",onClick:this.sendReply})),b.a.createElement("span",{className:Ee.a.postButton},b.a.createElement(fe.a,{text:Z.f.getI18NValue("support.common.request.mail.save.draft"),palette:"secondary",size:"medium",onClick:this.saveDraft}),o?b.a.createElement("span",{className:Ee.a.postButton},b.a.createElement(fe.a,{text:Z.f.getI18NValue("support.common.request.mail.discard.draft"),palette:"secondary",size:"medium",onClick:i})):null),b.a.createElement("span",{className:Ee.a.postButton},b.a.createElement(fe.a,{text:Z.f.getI18NValue("support.label.cancel"),palette:"secondary",size:"medium",onClick:n}))))}}]),t}(b.a.Component),Ce=Ie;Ie.propTypes={changeForumStatus:I.a.func,channelRelatedInfo:I.a.object,closeEdtior:I.a.func,deleteDraft:I.a.func,editorId:I.a.string,isDraft:I.a.bool,saveDraft:I.a.func,sendDraft:I.a.func,sendReply:I.a.func,showMessage:I.a.func,ticketId:I.a.string,updateDraft:I.a.func};var Ae=a(1289),ke=a.n(Ae),Se=function(e){function t(){return m()(this,t),g()(this,(t.__proto__||d()(t)).apply(this,arguments))}return _()(t,e),h()(t,[{key:"render",value:function(){var e=this.props.openSnippet;return b.a.createElement("div",{className:ke.a.popup,onMouseUp:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},b.a.createElement(ye.a,{isAnimate:!0,size:"small",isActive:!0,boxPosition:"bottomRight",isArrow:!0,arrowLeft:"15"},b.a.createElement(S.Container,{alignBox:"row",className:ke.a.list,onClick:e.bind(this,"list")},b.a.createElement(S.Box,{className:ke.a.icon},b.a.createElement(O,null)),b.a.createElement(S.Box,{flexible:!0},Z.f.getI18NValue("support.solution.addedit.snippet"))),b.a.createElement(S.Container,{alignBox:"row",className:ke.a.list,onClick:e.bind(this,"form")},b.a.createElement(S.Box,{className:ke.a.icon},b.a.createElement(x,null)),b.a.createElement(S.Box,{flexible:!0},Z.f.getI18NValue("support.module.add",[Z.f.getI18NValue("support.solution.addedit.snippet")])))))}}]),t}(b.a.Component),Ne=Se;Se.propTypes={openSnippet:I.a.func};var De,Te=a(1168),xe=a(1162),we=a(131),Oe=a(17),Fe=a(242),Pe=a(1222),Re=a(1191),Be=a(74),Ve=a(24),Me=a(113),Le=a(256),je=a(174),ze=a(1028),Ke=(a(1290),a(87)),Ue=a(28),We=a(1235),He=a(22),Ze=a(20),qe=a.n(Ze),Ge=a(1291),$e=a.n(Ge),Je=a(65),Ye=a(458),Qe=function(e){function t(e){return m()(this,t),g()(this,(t.__proto__||d()(t)).call(this,e))}return _()(t,e),h()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.from,n=t.limit,o=t.isFetching,r=t.searchStr,i=t.handleSearch,s=t.templeData,l=t.insertEmailTemplateData,c=t.noMoreData,d=t.fetchData,u=t.handleRefresh,m=qe()(s),p=m.length;return b.a.createElement("div",{className:$e.a.popup,onClick:function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},b.a.createElement(ye.a,{isAnimate:!0,size:"xxlarge",boxPosition:"bottomRight",isActive:!0,arrowLeft:"55"},b.a.createElement(Je.Card,{from:a,limit:n,noMoreData:c,fetchData:d,noNeedUpScroll:!0},b.a.createElement(Je.CardHeader,{className:$e.a.viewpopsearch},b.a.createElement(j.a,{placeHolder:Z.f.getI18NValue("crm.label.search"),value:r,onChange:i})),b.a.createElement(Je.CardContent,{className:$e.a.listCont},p?m.map(function(t,a){var n=s[t],o=n.list,r=void 0===o?[]:o,i=n.name;return r.length?b.a.createElement("div",{key:a},b.a.createElement("div",{className:$e.a.title},i),r.map(function(t,a){var n=t.templateId,o=t.templateName;return b.a.createElement("div",{className:$e.a.list,"data-title":o,onClick:l.bind(e,n),key:a},o)}),p!=a+1?b.a.createElement("div",{className:$e.a.seperate}):null):null}):o?b.a.createElement(Ye.a,null):b.a.createElement("div",{className:$e.a.emptyTxt},b.a.createElement("div",{className:$e.a.emtyIcon},b.a.createElement(V.CommonFontIcon,{name:"exclamationThincircle",size:"30"})),Z.f.getI18NValue("support.module.empty.message",[Z.f.getI18NValue("support.request.template")]))),b.a.createElement(Je.CardFooter,{className:$e.a.footer},b.a.createElement("span",{className:$e.a.footerOption,onClick:u},b.a.createElement("span",{className:$e.a.updateIcon},b.a.createElement(V.TopbandFontIcon,{name:"update",size:"16"})),Z.f.getI18NValue("crm.button.refresh")),b.a.createElement("span",{className:$e.a.footerOption},b.a.createElement("span",{className:$e.a.updateIcon},"+"),Z.f.getI18NValue("crm.button.create.new.email.template"))))))}}]),t}(E.Component),Xe=Qe;Qe.propTypes=(De={fetchData:I.a.func,from:I.a.string,handleRefresh:I.a.func,handleSearch:I.a.func},o()(De,"handleSearch",I.a.func),o()(De,"insertEmailTemplateData",I.a.func),o()(De,"isFetching",I.a.bool),o()(De,"limit",I.a.string),o()(De,"noMoreData",I.a.bool),o()(De,"searchStr",I.a.string),o()(De,"templeData",I.a.object),De);var et=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e));return a.state={from:0,limit:50,searchStr:"",templeData:{},templatesList:[]},a.getEmailTemplates=a.getEmailTemplates.bind(a),a.fetchData=a.fetchData.bind(a),a.handleSearch=Object(we.a)(a.handleSearch.bind(a),100,!0),a.handleRefresh=a.handleRefresh.bind(a),a}return _()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.getEmailTemplates(0)}},{key:"getEmailTemplates",value:function(e){var t=this,a=this.state,n=a.limit,o=a.searchStr,r=a.templatesList,i=this.props,s=i.deptId,l=i.getEmailTemplates;return this.setState({isFetching:!0,from:e}),l(s,"tickets",e,n,o).then(function(e){var a=!e.data.length||e.data.length<n,o=e.data.length?r.concat(e.data):r;t.setState({isFetching:!1,noMoreData:a,templatesList:o}),t.constructTemplateData(o)},function(){t.setState({isFetching:!1,noMoreData:!0})})}},{key:"constructTemplateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.length&&e.forEach(function(e){var a=e.folder,n=a.folderId,o=a.folderName,r=(t[n]||{}).list,s=(void 0===r?[]:r).concat([e]),l=i()({},t[n],{list:s,name:o});t[n]=l}),this.setState({templeData:t})}},{key:"handleSearch",value:function(e){var t=this;this.setState({searchStr:e,noMoreData:!1,templatesList:[]},function(){t.getEmailTemplates(0)})}},{key:"fetchData",value:function(e){return this.getEmailTemplates(e)}},{key:"handleRefresh",value:function(){this.handleSearch("")}},{key:"render",value:function(){var e=this.state,t=e.from,a=e.limit,n=e.templeData,o=e.searchStr,r=e.isFetching,i=e.noMoreData,s=this.props.insertEmailTemplateData;return b.a.createElement(Xe,{from:t,limit:a,noMoreData:i,fetchData:this.fetchData,isFetching:r,templeData:n,searchStr:o,insertEmailTemplateData:s,handleSearch:this.handleSearch,handleRefresh:this.handleRefresh})}}]),t}(E.Component);et.propTypes={deptId:I.a.string,getEmailTemplates:I.a.func,insertEmailTemplateData:I.a.func};var tt,at=Object(C.connect)(function(e,t){return{}},{getEmailTemplates:Re.a})(et),nt=function(e){function t(e){m()(this,t);var a=g()(this,(t.__proto__||d()(t)).call(this,e));return a.state={newAttachments:[],isAttachmentUploading:!1,draftText:Z.f.getI18NValue("support.common.request.mail.save.draft"),selectedFromAddress:"",searchMode:"",searchData:[],isRecipientsVisible:!0,isPrivateButtonEnable:!0,isTemplateOpen:!1,isSnippetActionOpen:!1},a.draftTimeLimit=6e4,a.constructEditorData=a.constructEditorData.bind(a),a.constructFromAddress=a.constructFromAddress.bind(a),a.saveDraft=a.saveDraft.bind(a),a.sendForReview=a.sendForReview.bind(a),a.updateDraft=a.updateDraft.bind(a),a.uploadAttach=a.uploadAttach.bind(a),a.deleleUpload=a.deleleUpload.bind(a),a.removeAttachment=a.removeAttachment.bind(a),a.addEmail=a.addEmail.bind(a),a.changeEmail=a.changeEmail.bind(a),a.removeEmail=a.removeEmail.bind(a),a.getEmailObj=a.getEmailObj.bind(a),a.changeFromEmailAddress=a.changeFromEmailAddress.bind(a),a.sendDraft=a.sendDraft.bind(a),a.searchContact=Object(we.a)(a.searchContact.bind(a),100,!0),a.closeSearchPopup=a.closeSearchPopup.bind(a),a.hideRecipients=a.hideRecipients.bind(a),a.editorFocus=a.editorFocus.bind(a),a.editorCallback=a.editorCallback.bind(a),a.sendReply=a.sendReply.bind(a),a.sendAndClose=a.sendAndClose.bind(a),a.togglePrivateSwitch=a.togglePrivateSwitch.bind(a),a.checkIsPrivateThread=a.checkIsPrivateThread.bind(a),a.bindKeyDown=a.bindKeyDown.bind(a),a.insertEmailTemplateData=a.insertEmailTemplateData.bind(a),a.openSnippet=a.openSnippet.bind(a),a.getFromEmailAddress=a.getFromEmailAddress.bind(a),a.hidePopup=a.hidePopup.bind(a),a.createDraftTimer=a.createDraftTimer.bind(a),a.addCloudAttch=a.addCloudAttch.bind(a),a.openCloudAttach=a.openCloudAttach.bind(a),a.closeCloudAttach=a.closeCloudAttach.bind(a),a.constructReplyHeader=a.constructReplyHeader.bind(a),a.blurCallback=a.blurCallback.bind(a),a.deleteDraftConfirmation=a.deleteDraftConfirmation.bind(a),a.deleteDraft=a.deleteDraft.bind(a),a.closeAlert=a.closeAlert.bind(a),a.sendCusomChannelReply=a.sendCusomChannelReply.bind(a),a}return _()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.constructEditorData(),this.constructFromAddress(),document.addEventListener("click",this.hidePopup),this.setDefaultFromAddress()}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,o=n.toAddress,r=n.ccAddress,i=n.bccAddress;n.noNeedCheckCollision;t.toAddress==o&&t.ccAddress==r&&t.bccAddress==i||this.checkIsPrivateThread(),e.replyMode!=this.props.replyMode&&this.setState({ccAddress:[]},function(){a.constructEditorData(function(){a.constructCcAddress()})}),this.props.fromAddress!=e.fromAddress&&this.props.fromAddress.length&&this.setDefaultFromAddress(),e.replyingUsers.length!=this.props.replyingUsers.length&&this.props.replyingUsers.length&&this.setState({alertMode:"collisionReply"})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.replyMode;e.replyMode!=a&&this.setState({chageEditorContent:!0},function(){setTimeout(function(){t.setState({chageEditorContent:!1})},100)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.hidePopup)}},{key:"setDefaultFromAddress",value:function(){var e=this.props.fromAddress;if(e.length){var t=e[0].address;this.setState({selectedFromAddress:t});var a=this.props.setReplyData;a&&a("fromEmailAddress",t)}}},{key:"constructEditorData",value:function(e){var t=this.props,a=t.solutionAttachments,n=void 0===a?[]:a,o=t.havePrivateThreadConfig,r=t.replyThread,i=t.replyMode,s=t.contactEmail,l=t.setReplyData,c=(t.fromAddress,r.attachments),d=void 0===c?[]:c,u=r.author,m=void 0===u?{}:u,p=r.fromEmailAddress,h=r.direction,f=r.to,g=void 0===f?[]:f,v=r.cc,_=void 0===v?[]:v,E=r.bcc,b=void 0===E?[]:E,y=r.status,I=r.channel,C=r.visibility;d=n.length?n:d;var A=[];if(((d="editDraft"==i||"forward"==i?d:[]).length||n.length)&&("editDraft"==i||"forward"==i))for(var k=0;k<d.length;k++)A.push(d[k].id);var S=m.email&&"FEEDBACK"!=I?[m.email]:p?[p]:[];"out"==h&&(S=g.length?Object(H.d)(g):[]),S="forward"!=i?S:[];for(var N=_.length&&"forward"!=i?Object(H.d)(_):[],D=b.length&&"editDraft"==i?Object(H.d)(b):[],T=S.concat(N,D),x=[],w=0;w<S.length;w++)Object(H.e)(S[w])||x.push(w);var O="forward"==i,F=void 0,P=!0;O?(F=!0,P=!1):o?F=-1==T.indexOf(s):(F="private"==C,P=!1),l&&l("toAddress",S),l&&l("ccAddress",N),l&&l("bccAddress",D),l&&l("isPrivateThread",F),this.setState({attachmentIds:A,oldAttachments:d,isDraft:"DRAFT"==y,toAddress:S,ccAddress:N,bccAddress:D,replyMode:i,isPrivateThread:F,inValideArr:x,isRecipientsVisible:S.length,isForwardReply:O,haveVisibilityChangePer:P},function(){e&&e()})}},{key:"constructFromAddress",value:function(){var e=this,t=this.props,a=t.replyThread,n=(t.deptId,t.haveForWardPermissionOnly,t.channelRelatedInfo);"FORUMS"==a.channel&&!n.isTopicDeleted||(this.setState({isFromAddressFetching:!0}),this.getFromEmailAddress().then(function(t){var a=function(){e.setState({isFromAddressFetching:!1}),e.constructCcAddress()};t&&t.data.res&&204==t.data.res.responseStatus?e.getFromEmailAddress(!0).then(a):a()}))}},{key:"getFromEmailAddress",value:function(e){var t=this.props,a=t.getFromEmailAddress,n=t.deptId;return a(n=e?"allDepartment":n)}},{key:"constructCcAddress",value:function(){var e=this.props,t=e.haveForWardPermissionOnly,a=e.setReplyData,n=e.mailConfigurations,o=(e.secondaryContacts,e.contacts,e.fromAddress),r=e.replyMode;if(n.autoCCToMailbox&&!t&&"forward"!=r){var i=this.state.ccAddress;if(-1==i.indexOf(o[0].address)){var s=[].concat(l()(i),[o[0].address],l()(this.constructSecondaryContactEmails()));this.setState({ccAddress:s}),a&&a("ccAddress",s)}}}},{key:"constructSecondaryContactEmails",value:function(){var e=this.props,t=e.secondaryContacts,a=void 0===t?[]:t,n=e.contacts,o=[];a.length&&Object(K.h)(a,n).forEach(function(e){var t=e.firstName,a=e.lastName,n=e.email,r=Object(K.e)(t,a);o.push(r+"<"+n+">")});return o}},{key:"hidePopup",value:function(){this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1})}},{key:"checkIsPrivateThread",value:function(){var e=this.state,t=e.toAddress,a=void 0===t?[]:t,n=e.ccAddress,o=void 0===n?[]:n,r=e.bccAddress,i=void 0===r?[]:r,s=e.isForwardReply,l=e.isPrivateButtonEnable,c=this.props,d=c.havePrivateThreadConfig,u=c.contactEmail,m=c.replyThread,p=void 0===m?{}:m,h=c.setReplyData,f=a.concat(o,i),g=!0,v=!0;if(s)g=!0,v=!1;else if(d)if(l)for(var _=0;_<f.length;_++){if(Object(H.b)(f[_])==u){g=!1,v=!1;break}v=!0}else g=!1;else g="private"==p.visibility,v=!1;this.setState({isPrivateThread:g,haveVisibilityChangePer:v}),h&&h("isPrivateThread",g)}},{key:"addEmail",value:function(e,t){var a=this,n=this.props.setReplyData;if("to"==t){var o=[].concat(l()(this.state.toAddress),[e]);this.setState({toAddress:o},function(){a.checkEmailValide()}),n&&n("toAddress",o)}else if("cc"==t){var r=[].concat(l()(this.state.ccAddress),[e]);this.setState({ccAddress:r},function(){a.checkEmailValide()}),n&&n("ccAddress",r)}else if("bcc"==t){var i=[].concat(l()(this.state.bccAddress),[e]);this.setState({bccAddress:i},function(){a.checkEmailValide()}),n&&n("bccAddress",i)}}},{key:"checkEmailValide",value:function(){var e=this.state,t=e.toAddress,a=e.ccAddress,n=e.bccAddress,o=this.props.contact.email;if(o&&this.props.haveForWardPermissionOnly){var r=!0;if(t.forEach(function(e){Object(H.b)(e)==o&&(r=!1)}),r&&a.forEach(function(e){Object(H.b)(e)==o&&(r=!1)}),r&&n.forEach(function(e){Object(H.b)(e)==o&&(r=!1)}),!r){var i=this.props,s=i.showMessage,l=i.moduleMeta;return s({type:"alert",message:Z.f.getI18NValue("support.ticketshare.reply.error",[l.tickets.singularLabel])}),!1}return!0}return!0}},{key:"changeEmail",value:function(e,t,a){var n=this.props.setReplyData;if("to"==a){var o=this.state.inValideArr.filter(function(e){return e!==t});this.setState(function(a){var r=a.toAddress.slice();return r[t]=e,n&&n("toAddress",r),{toAddress:r,inValideArr:o}})}else"cc"==a?this.setState(function(a){var o=a.ccAddress.slice();return o[t]=e,n&&n("ccAddress",o),{ccAddress:o}}):"bcc"==a&&this.setState(function(a){var o=a.bccAddress.slice();return o[t]=e,n&&n("bccAddress",o),{bccAddress:o}})}},{key:"removeEmail",value:function(e,t,a){var n=this.props.setReplyData;if("to"==t){var o=this.state,r=o.toAddress,i=o.inValideArr.filter(function(t){return t!==e});r=[].concat(l()(r.slice(0,e)),l()(r.slice(e+1))),n&&n("toAddress",r),this.setState({toAddress:r,inValideArr:i},function(){a&&a()})}else if("cc"==t){var s=this.state.ccAddress;s=[].concat(l()(s.slice(0,e)),l()(s.slice(e+1))),this.setState({ccAddress:s},function(){a&&a()}),n&&n("ccAddress",s)}else if("bcc"==t){var c=this.state.bccAddress;c=[].concat(l()(c.slice(0,e)),l()(c.slice(e+1))),this.setState({bccAddress:c},function(){a&&a()}),n&&n("bccAddress",c)}}},{key:"openCloudAttach",value:function(){this.setState({isCLoudOpen:!0}),this.props.openCloudAttach()}},{key:"closeCloudAttach",value:function(){this.setState({isCLoudOpen:!1})}},{key:"addCloudAttch",value:function(e,t,a){var n=this,o=this.state,r=o.newAttachments,s=o.oldAttachments.length+r.length+a,l={index:s,href:null,isPreview:!0};this.setState(function(e){var t=i()({},e);return t.newAttachments.push(l),t}),this.props.uploadCloudAttachment(e,s,function(e,t){var a=n.state.newAttachments.map(function(a){return a.index===t?i()({},a,{percentComplete:e}):a});n.setState({newAttachments:a})}).then(function(e){var t=e.data,a=n.state.newAttachments.map(function(e){return e.index===t.data.index?t.data:e});n.setState({newAttachments:a}),n.setState(function(e){var a=i()({},e);a.attachmentIds.push(t.data.id);var o=n.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a}),n.state.isDraft?n.updateDraft():n.saveDraft()},function(){n.setState(function(e){var t=i()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return s!==e.index}),t})})}},{key:"uploadAttach",value:function(e){var t=this,a=this.state,n=a.newAttachments,o=a.oldAttachments.length+n.length,r=e.target?e.target.files:e,s=r.length,l=Object(je.n)(r,o),c=l.inValidArray,d=l.validArray,u=this.props.showMessage;if(l.isCountExceeds)u({type:"alert",message:Z.f.getI18NValue("support.attachments.count.exceeds",[10])});else{if(c)for(var m=0;m<c.length;m++){var p=c[m];p.isUnSupported&&u({type:"alert",message:Z.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted")}),p.isFileNameSizeInvalid&&u({type:"alert",message:Z.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation")}),p.isEmpty&&u({type:"alert",message:Z.f.getI18NValue("support.request.empty.attachment.message")}),p.isAttachSizeExceeded&&u({type:"alert",message:Z.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb")})}d&&function(){var e=0;t.setState({isAttachmentUploading:!0});for(var a=function(a){var n=d[a],r=new FormData;r.append("file",n);var l=o+a,u=Object(je.f)(n,l);t.setState(function(e){var t=i()({},e);return t.newAttachments.push(u),t}),t.props.uploadAttach(r,l,function(e,a){var n=t.state.newAttachments.map(function(t){return t.index===a?i()({},t,{percentComplete:e}):t});t.setState({newAttachments:n})}).then(function(a){var n=a.data;e+=1;var o=t.state.newAttachments.map(function(e){return e.index===n.data.index?n.data:e});t.setState({newAttachments:o}),t.setState(function(e){var a=i()({},e);a.attachmentIds.push(n.data.id);var o=t.props.setReplyData;return o&&o("replyAttachmentIds",a.attachmentIds),a}),e+c.length==s&&(t.state.isDraft?t.updateDraft():t.saveDraft(),t.setState({isAttachmentUploading:!1}))},function(){t.setState(function(e){var t=i()({},e);return t.newAttachments=t.newAttachments.filter(function(e){return l!==e.index}),t})})},n=0;n<d.length;n++)a(n)}()}e.target&&(e.target.value="")}},{key:"deleleUpload",value:function(e){var t=this;this.props.deleleUpload(e).then(function(){t.setState(function(a){var n=i()({},a);n.newAttachments=n.newAttachments.filter(function(t){return e!==t.id}),n.attachmentIds=n.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n})})}},{key:"removeAttachment",value:function(e){var t=this;this.setState(function(a){var n=i()({},a);n.oldAttachments=n.oldAttachments.filter(function(t){return e!==t.id}),n.attachmentIds=n.attachmentIds.filter(function(t){return e!==t});var o=t.props.setReplyData;return o&&o("replyAttachmentIds",n.attachmentIds),n})}},{key:"getEmailObj",value:function(){var e=this.state,t=e.toAddress,a=e.ccAddress,n=e.bccAddress,o="",r="",i="";if(t.length)for(var s=0;s<t.length;s++)o+=0==s?t[s]:","+t[s];if(a.length)for(var l=0;l<a.length;l++)r+=0==l?a[l]:","+a[l];if(n.length)for(var c=0;c<n.length;c++)i+=0==c?n[c]:","+n[c];return{toArr:o,ccArr:r,bccArr:i}}},{key:"saveDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({draftText:"Saving draft...",isToEmpty:!1});var t=this.props,a=(t.ticketId,t.editorId),n=t.saveDraft,o=t.revertIsEditorChanged,r=t.isEditorChanged,i=t.isCustomChannel,s=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=editor[a].getContent(),m=this.getEmailObj(),p={channel:"EMAIL",attachmentIds:c,to:m.toArr,cc:m.ccArr,bcc:m.bccArr,fromEmailAddress:d,contentType:"html",content:u};if(i){var h="html",f=s.code;s.replyConfig.contentTypes.includes("text/html")||(h="plaintext"),p={content:u,channel:f,contentType:h,attachmentIds:c}}n(p,function(t){r&&o();var n=Z.f.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:"Saved @ "+n,isDraft:!0,draftId:a})})}}},{key:"sendForReview",value:function(){if(this.checkEmailValide()){var e=this.props,t=(e.ticketId,e.editorId),a=e.saveDraft,n=e.sendForReview,o=e.revertIsEditorChanged,r=e.isEditorChanged,i=e.replyThread,s=e.updateDraft,l=e.isCustomChannel,c=e.channelInfo,d=this.state,u=d.attachmentIds,m=d.selectedFromAddress,p=editor[t].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:u,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:m,contentType:"html",content:p};if(l){var g="html",v=c.code;c.replyConfig.contentTypes.includes("text/html")||(g="plaintext"),f={content:p,channel:v,contentType:g}}"DRAFT"==i.status?s(f,function(e){r&&o(),n()}):a(f,function(e){r&&o(),n()})}}},{key:"updateDraft",value:function(){var e=this;if(this.props.haveMailSendPermission&&this.checkEmailValide()){this.setState({draftText:Z.f.getI18NValue("support.common.request.mail.saving.draft")+"...\n        "});var t=this.props,a=(t.ticketId,t.editorId),n=t.updateDraft,o=t.revertIsEditorChanged,r=t.isEditorChanged,i=t.isCustomChannel,s=t.channelInfo,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.draftId,m=u?editor[u].getContent():editor[a].getContent(),p=this.getEmailObj(),h={channel:"EMAIL",attachmentIds:c,to:p.toArr,cc:p.ccArr,bcc:p.bccArr,fromEmailAddress:d,contentType:"html",content:m};if(i){var f="html",g=s.code;s.replyConfig.contentTypes.includes("text/html")||(f="plaintext"),h={content:m,channel:g,contentType:f,attachmentIds:c}}n(h,function(t){r&&o();var n=Z.f.userDateFormat(new Date(t.data.createdTime),{},"lateby","left",!1,function(){return"hh:mm A"});e.setState({draftText:Z.f.getI18NValue("support.social.saved")+" @ "+n,isDraft:!0,draftId:u||a})})}}},{key:"changeFromEmailAddress",value:function(e){var t=this.props,a=t.haveForWardPermissionOnly;if((t.mailConfigurations||{}).autoCCToMailbox&&!a){var n=this.state,o=n.ccAddress,r=n.selectedFromAddress,i=o.indexOf(r);i>-1?-1==o.indexOf(e)&&(o[i]=e):o.push(e),this.setState({ccAddress:o});var s=this.props.setReplyData;s&&s("ccAddress",o)}this.setState({selectedFromAddress:e});var l=this.props.setReplyData;l&&l("fromEmailAddress",e)}},{key:"sendDraft",value:function(e){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var t=this.props,a=t.editorId,n=t.updateDraft,o=t.sendDraft,r=t.revertIsEditorChanged,i=t.isEditorChanged,s=this.state,l=s.attachmentIds,c=s.selectedFromAddress,d=s.draftId,u=s.isPrivateThread,m=s.isPrivateButtonEnable,p=d?editor[d].getContent():editor[a].getContent(),h=this.getEmailObj(),f={channel:"EMAIL",attachmentIds:l,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:c,contentType:"html",content:p},g=u&&m;n(f,function(t){o(g,function(){i&&r(),"function"==typeof e&&e()})})}}},{key:"sendReply",value:function(e,t){if(this.props.haveMailSendPermission&&this.checkEmailValide()){if(!this.state.toAddress.length||this.state.inValideArr.length)return void this.setState({isToEmpty:!0});this.setState({isToEmpty:!1});var a=this.props,n=a.editorId,o=(a.updateDraft,a.sendReply),r=a.replyMode,i=a.revertIsEditorChanged,s=a.isEditorChanged,l=this.state,c=l.attachmentIds,d=l.selectedFromAddress,u=l.isPrivateThread,m=l.isPrivateButtonEnable,p=editor[n].getContent(),h=this.getEmailObj();o({channel:"EMAIL",attachmentIds:c,to:h.toArr,cc:h.ccArr,bcc:h.bccArr,fromEmailAddress:d,contentType:"html",content:p,isForward:"forward"==r},u&&m,e,function(){s&&i(),"function"==typeof t&&t()})}}},{key:"sendAndClose",value:function(){var e=this.props,t=e.isDraftThread,a=e.closeTicket,n=e.haveEditPermission;t?this.sendDraft(function(){n&&a()}):this.sendReply(!0,function(){n&&a()})}},{key:"sendCusomChannelReply",value:function(){var e=this.props,t=e.editorId,a=e.sendReply,n=(e.revertIsEditorChanged,e.isEditorChanged,e.channelInfo),o=this.state.attachmentIds,r=editor[t].getContent(),i=(this.getEmailObj(),"html"),s=n.code;n.replyConfig.contentTypes.includes("text/html")||(i="plaintext"),a({content:r,channel:s,contentType:i,attachmentIds:o})}},{key:"searchContact",value:function(e,t){var a=this;this.setState({searchMode:e}),this.props.searchContact(t).then(function(e){e.data.list.length?a.setState({searchData:e.data.list}):a.setState({searchData:"noData"})})}},{key:"closeSearchPopup",value:function(){this.setState({searchMode:"",searchData:[]})}},{key:"hideRecipients",value:function(){this.setState({isRecipientsVisible:!1})}},{key:"blurCallback",value:function(){this.setState({isEditorFocus:!1})}},{key:"editorFocus",value:function(){var e=this.state.toAddress,t=void 0===e?[]:e;this.setState({isTemplateOpen:!1,isSnippetActionOpen:!1}),t.length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),this.setState({isEditorFocus:!0})}},{key:"editorCallback",value:function(e){var t=this,a=this.props,n=a.ticketId,o=a.publishUserAction,r=(a.editorId,a.getSnippetList),i=(a.ticket,a.isPeekView,a.isCustomChannel),s=a.channelInfo;i&&(s.replyConfig.contentTypes.includes("text/html")||e.toolbardiv.querySelectorAll(".KB_Editor_Richtext,.ze_plain")[0].remove());var l=this.state.toAddress;(void 0===l?[]:l).length?this.setState({isRecipientsVisible:!0}):this.setState({isRecipientsVisible:!1}),o(n,"reply",WebMessanger.getRawSid&&WebMessanger.getRawSid()),r(),this.bindKeyDown();var c=document.getElementsByClassName("TemplateIcon")[0],d=document.getElementsByClassName("SnippetIcon")[0];c.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isTemplateOpen:!0,isSnippetActionOpen:!1})}),d.addEventListener("mouseup",function(e){e.stopPropagation(),t.setState({isSnippetActionOpen:!0,isTemplateOpen:!1})})}},{key:"bindKeyDown",value:function(){var e=this,t=this.props.editorId,a=editor[t];a.doc.onkeydown=function(t){var n=t.keyCode,o=t.shiftKey,r=t.altKey,i=t.ctrlKey,s=t.metaKey;if(9===n){t.preventDefault(),t.stopPropagation();for(var l=e.props,c=l.snippetData,d=l.snippets,u=l.ticket,m=l.contact,p=l.account,h=l.agent,f=c.snippetIds,g=[],v=0;v<f.length;v++){d[f[v]]&&g.push(d[f[v]])}var _=Object(ze.b)(a._getSelection(),a.doc,a,g).content;_=Object(ze.f)(_,u,m,p,h),a.insertHTML(_)}if(!(o||r||i||s||9==n||20==n||33==n||34==n||37==n||38==n||39==n||40==n)){e.setState({contentModified:!0},function(){e.createDraftTimer()});var E=e.props,b=E.isEditorChanged,y=E.setIsEditorChanged;!b&&y()}}}},{key:"createDraftTimer",value:function(){var e=this;setTimeout(function(){e.state.contentModified&&(e.state.isDraft?e.updateDraft():e.saveDraft(),e.setState({contentModified:!1}))},this.draftTimeLimit)}},{key:"togglePrivateSwitch",value:function(){var e=this;this.setState(function(e){return{isPrivateButtonEnable:!e.isPrivateButtonEnable}},function(){e.checkIsPrivateThread()})}},{key:"insertEmailTemplateData",value:function(e){var t=this,a=this.props,n=a.getTemplateContent,o=(a.editorId,a.ticketId),r=a.isEditorChanged,i=a.setIsEditorChanged;n(e,o).then(function(e){var a=e.data.res.body;new RegExp("<(\"[^\"]*\"|'[^']*'|[^'\">])*>").test(a)||(a=a.replace(/\n/g,"<br/>")),Object(ze.c)(t.props.editorId,a),t.setState({contentModified:!0},function(){t.createDraftTimer()}),!r&&i(),t.setState({isTemplateOpen:!1})})}},{key:"openSnippet",value:function(e){this.setState({isSnippetActionOpen:!1});var t=this.props,a=t.openSnippet;a(e,t.editorId)}},{key:"constructReplyHeader",value:function(){var e=this.props,t=e.replyThread,a=e.replyMode,n=e.ticket,o=e.ticketId,r=e.editorId,i=e.myInfo,s=e.isCustomChannel,l=t.author,c=t.to,d=t.cc,u=t.from,m=Z.f.userDateFormat(new Date(t.createdTime),{},"lateby","left",!1,function(){return"DDD, DD MMM YYYY HH:mm:ss"}),p=-Ke.a[i.timeZone];p=((p=parseInt(p))<0?"+":"-")+Object(Ue.g)(parseInt(Math.abs(p/60)),2)+Object(Ue.g)(Math.abs(p%60),2);var h="";if(o!=r){var f=s?u:'"'+l.name+'" < '+l.email+" > ";h="forward"==a?"<div>\n          <div>============ "+Z.f.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n          <div>"+Z.f.getI18NValue("support.request.from.emailid")+":  "+Object(K.k)(f)+"<br></div>\n          <div>"+Z.f.getI18NValue("crm.label.to.email")+": "+Object(K.k)(c)+"<br></div>\n          <div>"+Z.f.getI18NValue("crm.label.cc.email")+": "+Object(K.k)(d)+"<br></div>\n          <div>"+Z.f.getI18NValue("crm.events.date")+": "+m+" "+p+" <br></div>\n          <div>"+Z.f.getI18NValue("crm.label.subject")+": "+Object(K.k)(n.subject)+"</div>\n          <div>============ "+Z.f.getI18NValue("support.mail.header.forwarded.message")+" ============<br></div>\n        </div><br>":"<div>---- "+Z.f.getI18NValue("support.on")+" "+m+" "+p+" <b> "+Object(K.k)(f)+" </b> "+Z.f.getI18NValue("suppot.mail.header.wrote")+" ---- <br></div><br>"}return h}},{key:"deleteDraftConfirmation",value:function(){this.setState({alertMode:"deleteDraft"})}},{key:"deleteDraft",value:function(){this.props.deleteDraft(),this.closeAlert()}},{key:"closeAlert",value:function(){this.setState({alertMode:null})}},{key:"render",value:function(){var e=this.props,t=e.editorId,a=e.replyContent,n=e.replyThread,o=e.replyMode,r=e.orgName,i=e.orgId,s=e.showAttachmentViewer,l=e.closeEdtior,c=e.openEditor,d=e.signatureObj,u=void 0===d?{}:d,m=e.linkHolder,p=e.solutionContent,h=e.saveDraft,f=e.updateDraft,g=e.isDraftThread,v=e.sendReply,_=e.sendDraft,E=e.replyingUsers,y=e.agents,I=e.ticketId,C=e.isPeekView,A=e.haveMailSendPermission,D=e.channelRelatedInfo,T=e.mailConfigurations,w=e.myInfo,F=e.isStatusLocked,R=e.havePrivateThreadConfig,B=e.isFromBlueprint,V=e.isCloudAttchOpen,M=e.haveForWardPermissionOnly,L=e.isSharedTicket,j=e.uploadAttach,z=e.fromAddress,U=e.isCustomChannel,W=e.channelInfo,H=e.changeForumStatus,Z=e.showMessage,q=e.deptId,G=this.state,$=G.newAttachments,J=G.oldAttachments,Y=G.draftText,Q=G.toAddress,X=G.ccAddress,ee=G.bccAddress,te=G.searchMode,ne=G.searchData,oe=G.isRecipientsVisible,re=G.isPrivateThread,ie=G.haveVisibilityChangePer,se=G.isPrivateButtonEnable,le=G.inValideArr,ce=G.isTemplateOpen,de=G.isSnippetActionOpen,ue=G.isCLoudOpen,me=G.chageEditorContent,pe=G.isEditorFocus,he=G.isFromAddressFetching,fe=G.isToEmpty,ge=G.alertMode,_e=n&&"DRAFT"==n.status,Ee="forum"==o&&!D.isTopicDeleted,be=W.replyConfig,ye=W.appName,Ie=!0,Ae=!0,ke=void 0;if(U){be.contentTypes;var Se=be.includeQuotedMessage,De=be.acceptsAttachments;be.contentTypes.includes("text/html")||(ke="plaintext"),Ae=Se,Ie=De}var we=a;if(""!=we&&"<html><body><div></div></body></html>"!=we&&!_e){"TWILIO"==n.channel&&Object(K.G)(n.content)&&(we=k.a.renderToStaticMarkup(b.a.createElement(Te.a,{thread:n})));var Oe=this.constructReplyHeader();we=Ae?'<br><blockquote style="border-left: 1px dotted #e5e5e5;margin-left:5px;padding-left: 5px;">'+Oe+"<div>"+we+"</div></blockquote>":""}return Ee?we="":(_e||(u.isActive&&u.signature&&!_e&&(we="<br>"+u.signature+we),m&&"forward"!=o&&Ae&&(we="<div><br></div><div><br></div>"+m+"<div><br></div>"+we+"<div><br></div>")),"string"==typeof p&&(we=p+we)),b.a.createElement(S.Container,null,b.a.createElement(x,{isRender:!1,isSymbol:!0}),b.a.createElement(O,{isRender:!1,isSymbol:!0}),b.a.createElement(P,{isRender:!1,isSymbol:!0}),Ee?null:b.a.createElement(S.Box,null,b.a.createElement(ae,{mode:o,saveDraft:this.saveDraft,updateDraft:this.updateDraft,toAddress:Q,bccAddress:ee,ccAddress:X,isDraft:_e,draftText:Y,addEmail:this.addEmail,changeEmail:this.changeEmail,removeEmail:this.removeEmail,fromEmailAddress:z,isFromAddressFetching:he,changeFromEmailAddress:this.changeFromEmailAddress,deleteDraft:this.deleteDraftConfirmation,searchContact:this.searchContact,openEditor:c,threadId:t,content:a,thread:n,searchMode:te,searchData:ne,orgName:r,closeSearchPopup:this.closeSearchPopup,isRecipientsVisible:oe,hideRecipients:this.hideRecipients,inValideArr:le,isPeekView:C,getFromEmailAddress:this.getFromEmailAddress,openConfigurePage:function(){},haveMailSendPermission:A,mailConfigurations:T,myInfo:w,isFromBlueprint:B,haveForWardPermissionOnly:M,isEditorFocus:pe,isToEmpty:fe,isCustomChannel:U})),ce||de?b.a.createElement(S.Box,null,ce?b.a.createElement(at,{deptId:q,insertEmailTemplateData:this.insertEmailTemplateData}):de?b.a.createElement(Ne,{openSnippet:this.openSnippet}):null):null,b.a.createElement(S.Box,{flexible:!0,className:"replyArea"},b.a.createElement(N.a,{id:t,value:we,onFocus:this.editorFocus,editorCallback:this.editorCallback,editorMode:"TicketReply",onUpload:j,chageEditorContent:me,blurCallback:this.blurCallback,mode:ke})),b.a.createElement(S.Box,null,Ee?B?null:b.a.createElement(Ce,{ticketId:I,changeForumStatus:H,showMessage:Z,closeEdtior:l,sendDraft:_,editorId:t,saveDraft:h,deleteDraft:this.deleteDraftConfirmation,updateDraft:f,isDraft:g,sendReply:v,channelRelatedInfo:D,haveMailSendPermission:A}):b.a.createElement(ve,{isFromBlueprint:B,closeEdtior:l,uploadAttach:this.uploadAttach,deleleUpload:this.deleleUpload,showAttachmentViewer:s,openCloudAttach:this.openCloudAttach,closeCloudAttach:this.closeCloudAttach,orgId:i,newAttachments:$,oldAttachments:J,removeAttachment:this.removeAttachment,sendDraft:this.sendDraft,isDraft:_e,sendReply:this.sendReply,sendAndClose:this.sendAndClose,isPrivateThread:re,haveVisibilityChangePer:ie,isPrivateButtonEnable:se,togglePrivateSwitch:this.togglePrivateSwitch,isPeekView:C,haveMailSendPermission:A,isStatusLocked:F,havePrivateThreadConfig:R,sendForReview:this.sendForReview,isCloudAttchOpen:V&&ue,CloudAttachmentIframe:He.s,addCloudAttch:this.addCloudAttch,haveForWardPermissionOnly:M,isSharedTicket:L,isCustomChannel:U,acceptsAttachments:Ie,appName:ye,deleteDraft:this.deleteDraftConfirmation,sendCusomChannelReply:this.sendCusomChannelReply})),"deleteDraft"==ge?b.a.createElement(xe.a,{closeAlert:this.closeAlert,deleteDraft:this.deleteDraft}):"collisionReply"==ge&&E.length?b.a.createElement(We.a,{agents:y,replyingUsers:E,replyConfirm:this.closeAlert,closeAlert:l,isFromReplyEditor:!0}):null)}}]),t}(E.Component);nt.defaultProps={isFromBlueprint:!1},nt.propTypes=(tt={account:I.a.object,agent:I.a.object,agents:I.a.object,changeForumStatus:I.a.func},o()(tt,"changeForumStatus",I.a.func),o()(tt,"channelInfo",I.a.object),o()(tt,"channelRelatedInfo",I.a.object),o()(tt,"closeEdtior",I.a.func),o()(tt,"closeTicket",I.a.func),o()(tt,"contact",I.a.object),o()(tt,"contactEmail",I.a.string),o()(tt,"contacts",I.a.object),o()(tt,"deleleUpload",I.a.func),o()(tt,"deleteDraft",I.a.func),o()(tt,"deptId",I.a.string),o()(tt,"downloadAttachment",I.a.func),o()(tt,"editorId",I.a.string),o()(tt,"fromAddress",I.a.array),o()(tt,"getFromEmailAddress",I.a.func),o()(tt,"getSnippetList",I.a.func),o()(tt,"getTemplateContent",I.a.func),o()(tt,"haveEditPermission",I.a.bool),o()(tt,"haveForWardPermissionOnly",I.a.bool),o()(tt,"haveMailSendPermission",I.a.bool),o()(tt,"havePrivateThreadConfig",I.a.bool),o()(tt,"isCloudAttchOpen",I.a.bool),o()(tt,"isCustomChannel",I.a.bool),o()(tt,"isDraft",I.a.bool),o()(tt,"isDraftThread",I.a.bool),o()(tt,"isEditorChanged",I.a.func),o()(tt,"isFromBlueprint",I.a.bool),o()(tt,"isPeekView",I.a.bool),o()(tt,"isSharedTicket",I.a.bool),o()(tt,"isStatusLocked",I.a.bool),o()(tt,"linkHolder",I.a.string),o()(tt,"mailConfigurations",I.a.object),o()(tt,"moduleMeta",I.a.object),o()(tt,"myInfo",I.a.object),o()(tt,"openCloudAttach",I.a.func),o()(tt,"openEditor",I.a.func),o()(tt,"openSnippet",I.a.func),o()(tt,"orgId",I.a.number),o()(tt,"orgName",I.a.string),o()(tt,"publishUserAction",I.a.func),o()(tt,"replyMode",I.a.string),o()(tt,"replyThread",I.a.object),o()(tt,"replyingUsers",I.a.array),o()(tt,"revertIsEditorChanged",I.a.func),o()(tt,"saveDraft",I.a.func),o()(tt,"searchContact",I.a.func),o()(tt,"secondaryContacts",I.a.array),o()(tt,"sendDraft",I.a.func),o()(tt,"sendForReview",I.a.func),o()(tt,"sendReply",I.a.func),o()(tt,"setIsEditorChanged",I.a.func),o()(tt,"setReplyData",I.a.func),o()(tt,"showAttachmentViewer",I.a.func),o()(tt,"showMessage",I.a.func),o()(tt,"signatureObj",I.a.object),o()(tt,"snippetData",I.a.object),o()(tt,"snippets",I.a.object),o()(tt,"solutionAttachments",I.a.array),o()(tt,"solutionContent",I.a.string),o()(tt,"ticket",I.a.object),o()(tt,"ticketId",I.a.string),o()(tt,"updateDraft",I.a.func),o()(tt,"uploadAttach",I.a.func),o()(tt,"uploadCloudAttachment",I.a.func),tt);t.a=Object(C.connect)(function(e,t){var a=e.module.ticket[t.ticketId],n=e.module.contact[a.contactId],o=e.myInfo.id,r=e.ticketUIState.isEditorChanged,i=void 0!==r&&r,s=a.departmentId,l=e.departmentSpecificState[s],c=l&&l.fromEmailAddress.length?l.fromEmailAddress:e.departmentSpecificState.allDepartment?e.departmentSpecificState.allDepartment.fromEmailAddress:[],d=e.myPreferences,u=d.signatureObj,m=d.linkHolder,p=[],h=(e.collidingData[t.ticketId]||{}).collidingUsers,f=void 0===h?[]:h;if(f.length)for(var g=0;g<f.length;g++)"replying"==f[g].userAction&&f[g].agentId!=o&&p.push(f[g]);return{orgName:e.routing.paramMap.orgName,orgId:Object(Oe.N)(e),signatureObj:u,linkHolder:m,collidingData:e.collidingData[t.ticketId],agents:e.module.agent,snippetData:e.snippetData,snippets:e.module.snippet,contact:n,agent:e.module.agent[o],ticket:a,account:e.module.account[n.accountId],isEditorChanged:i,deptId:s,fromAddress:c,mailConfigurations:l.mailConfigurations,havePrivateThreadConfig:l.mailConfigurations.privateThreadConfig,myInfo:e.myInfo,isCloudAttchOpen:e.isCloudAttchOpen,moduleMeta:e.moduleMeta,contacts:e.module.contact,secondaryContacts:a.secondaryContacts,replyingUsers:p}},{downloadAttachment:Fe.e,uploadAttach:Fe.k,deleleUpload:Fe.d,showAttachmentViewer:Fe.i,openCloudAttach:Fe.h,getFromEmailAddress:Pe.b,searchContact:Pe.f,publishUserAction:Me.h,openSnippet:Le.f,getSnippetList:Le.d,getTemplateContent:Re.b,setIsEditorChanged:Be.t,revertIsEditorChanged:Be.r,showMessage:Ve.Q,uploadCloudAttachment:Fe.l,changeForumStatus:Be.a})(nt)},1371:function(e,t,a){e.exports={threadList:"ThreadsList-module__threadList common-module__cboth",attachCont:"ThreadsList-module__attachCont",cleft:"ThreadsList-module__cleft common-module__posrel",draftText:"ThreadsList-module__draftText common-module__dotted common-module__oflow common-module__ellipsis",poiter:"ThreadsList-module__poiter",bgWhite:"ThreadsList-module__bgWhite",otherChanell:"ThreadsList-module__otherChanell",more:"ThreadsList-module__more",keyWord:"ThreadsList-module__keyWord",attachmentCount:"ThreadsList-module__attachmentCount common-module__posab",cright:"ThreadsList-module__cright common-module__posrel",posrel:"ThreadsList-module__posrel common-module__posrel",tname:"ThreadsList-module__tname common-module__bold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis common-module__dinblk common-module__pointer common-module__ftsmooth",thrdate:"ThreadsList-module__thrdate common-module__dotted common-module__oflow common-module__ellipsis common-module__ftsmooth",showrec:"ThreadsList-module__showrec common-module__posrel",forum_status:"ThreadsList-module__forum_status common-module__semibold common-module__ftsmooth common-module__vtop common-module__ftsmooth",forum_txt:"ThreadsList-module__forum_txt common-module__dotted common-module__oflow common-module__ellipsis common-module__dinblk",attach_look:"ThreadsList-module__attach_look",attach_count:"ThreadsList-module__attach_count common-module__posab",mailicn:"ThreadsList-module__mailicn common-module__pointer",thrdPlain:"ThreadsList-module__thrdPlain",mr10:"ThreadsList-module__mr10",bestAns:"ThreadsList-module__bestAns",prithrlist:"ThreadsList-module__prithrlist common-module__flexgrow",recipientsCont:"ThreadsList-module__recipientsCont",recipientsHide:"ThreadsList-module__recipientsHide",jiraIcon:"ThreadsList-module__jiraIcon common-module__jira",rightMore:"ThreadsList-module__rightMore common-module__justifyFend",cntntOvrLd:"ThreadsList-module__cntntOvrLd",cntntOvrLdSpn:"ThreadsList-module__cntntOvrLdSpn",cntOvrLdLnk:"ThreadsList-module__cntOvrLdLnk",viaChannel:"ThreadsList-module__viaChannel",channelName:"ThreadsList-module__channelName"}},1372:function(e,t,a){e.exports={container:"SentimentAspects-module__container",posrel:"SentimentAspects-module__posrel",pop:"SentimentAspects-module__pop",header:"SentimentAspects-module__header common-module__bold common-module__ftsmooth",sentiment:"SentimentAspects-module__sentiment",f12:"SentimentAspects-module__f12",waterMark:"SentimentAspects-module__waterMark",botPositive:"SentimentAspects-module__botPositive SentimentAspects-module__sentiment",botNeutral:"SentimentAspects-module__botNeutral SentimentAspects-module__sentiment",botNegative:"SentimentAspects-module__botNegative SentimentAspects-module__sentiment"}},1373:function(e,t,a){e.exports={container:"KeyWords-module__container",posrel:"KeyWords-module__posrel",pop:"KeyWords-module__pop",header:"KeyWords-module__header common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis KeyWords-module__posrel",hashIcon:"KeyWords-module__hashIcon",tags:"KeyWords-module__tags",keyword:"KeyWords-module__keyword",content:"KeyWords-module__content"}},1374:function(e,t,a){e.exports={container:"RecipientsInfo-module__container common-module__curdefault common-module__w100",list:"RecipientsInfo-module__list",label:"RecipientsInfo-module__label common-module__textCaps",value:"RecipientsInfo-module__value common-module__wbreak"}},1530:function(e,t,a){"use strict";var n=a(23),o=a.n(n),r=a(12),i=a.n(r),s=a(9),l=a.n(s),c=a(10),d=a.n(c),u=a(13),m=a.n(u),p=a(14),h=a.n(p),f=a(0),g=a.n(f),v=a(1),_=a.n(v),E=a(1371),b=a.n(E),y=a(1053),I=a(30),C=a(8),A=a(960),k=a(6),S=a(3),N=a(459),D=a(1007),T=a(1372),x=a.n(T),w=a(72),O=a.n(w),F=a(80),P=a.n(F),R=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.sentiment,a=e.aspects,n=e.openPopupOnly,o=e.closePopupOnly,r=e.isPopupOpen,i=e.removeClose,s=Object(k.y)(t),l=s.icon,c=s.name;return g.a.createElement("div",{className:x.a.container,onMouseEnter:n,onMouseLeave:o,onClick:i},g.a.createElement(I.TicketsFontIcon,{name:l,size:"10"}),r?g.a.createElement(O.a,{isAnimate:!0,size:"mlarge",boxPosition:"bottomRight",isActive:!0,left:"-20",onClick:i},g.a.createElement("div",{className:x.a.pop},g.a.createElement("p",{className:x.a.header},C.f.getI18NValue("support.zia.sentiment.label")),g.a.createElement("p",{className:x.a[l]},c),a&&a.length?g.a.createElement(g.a.Fragment,null,g.a.createElement("p",{className:x.a.header},C.f.getI18NValue("support.zia.thread.sentiment.aspects")),g.a.createElement("p",{className:x.a.f12},a.join(", "),".")):null,g.a.createElement("span",{className:x.a.waterMark},g.a.createElement(I.TicketsFontIcon,{name:l,size:"50"})))):null)}}]),t}(g.a.Component);R.propTypes={aspects:_.a.array,closePopupOnly:_.a.func,isPopupOpen:_.a.bool,openPopupOnly:_.a.func,removeClose:_.a.func,sentiment:_.a.string};var B=P()(R),V=a(1373),M=a.n(V),L=function(e){function t(e){return l()(this,t),m()(this,(t.__proto__||i()(t)).call(this,e))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.keyWords,a=e.openPopupOnly,n=e.closePopupOnly,o=e.isPopupOpen,r=e.removeClose;return g.a.createElement("div",{className:M.a.container,onMouseEnter:a,onMouseLeave:n,onClick:r},g.a.createElement(I.TicketsFontIcon,{iconClass:M.a.hashIcon,name:"botHash",size:"13"}),o?g.a.createElement(O.a,{isAnimate:!0,size:"mlarge",boxPosition:"bottomRight",isActive:!0,left:"-20",onClick:r},g.a.createElement("div",{className:M.a.pop},g.a.createElement("div",{className:M.a.posrel},g.a.createElement("p",{className:M.a.header},C.f.getI18NValue("support.zia.thread.keyword.lable")),g.a.createElement("div",{className:M.a.content},t.map(function(e,t){return g.a.createElement("p",{className:M.a.keyword,key:t},e)}))))):null)}}]),t}(g.a.Component);L.propTypes={closePopupOnly:_.a.func,isPopupOpen:_.a.bool,keyWords:_.a.array,openPopupOnly:_.a.func,removeClose:_.a.func};var j=P()(L),z=a(1168),K=a(1374),U=a.n(K),W=a(16),H=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"constructEmailList",value:function(e){for(var t=e.split(","),a=[],n=0;n<t.length;n++)a.push(g.a.createElement("span",{className:U.a.mr10,key:n},n==t.length-1?t[n]:t[n]+","));return a}},{key:"render",value:function(){var e=this.props,t=e.from,a=e.to,n=e.cc,o=e.bcc;return g.a.createElement("div",{className:U.a.container},g.a.createElement(W.Container,{alignBox:"row",className:U.a.list,isCover:!1},g.a.createElement(W.Box,{className:U.a.label},C.f.getI18NValue("label.request.from")),g.a.createElement(W.Box,{flexible:!0,className:U.a.value},t)),a?g.a.createElement(W.Container,{alignBox:"row",className:U.a.list},g.a.createElement(W.Box,{className:U.a.label},C.f.getI18NValue("label.request.to")),g.a.createElement(W.Box,{flexible:!0,className:U.a.value},this.constructEmailList(a))):null,n?g.a.createElement(W.Container,{alignBox:"row",className:U.a.list},g.a.createElement(W.Box,{className:U.a.label},C.f.getI18NValue("crm.label.cc.email")),g.a.createElement(W.Box,{flexible:!0,className:U.a.value},this.constructEmailList(n))):null,o?g.a.createElement("div",{className:U.a.list},g.a.createElement("span",{className:U.a.label},C.f.getI18NValue("crm.label.bcc.email")),g.a.createElement("span",{className:U.a.value},this.constructEmailList(o))):null)}}]),t}(f.Component),Z=H;H.propTypes={bcc:_.a.string,cc:_.a.string,from:_.a.string,to:_.a.string};var q=a(1081),G=a(1162),$=a(1280),J=a(1021),Y=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||i()(t)).apply(this,arguments))}return h()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.splitTicket,a=e.moduleMeta,n=e.closeAlert;return g.a.createElement(J.a,{isActive:!0,type:"splitTicket",title:C.f.getI18NValue("support.request.alert.split.ticket.header",[a.tickets.singularLabel]),message:C.f.getI18NValue("crm.confirm.split.request",[a.tickets.singularLabel]),submitText:C.f.getI18NValue("support.yes"),cancelText:C.f.getI18NValue("support.label.cancel"),onSubmitClick:t,onCancelClick:n})}}]),t}(f.Component),Q=Y;Y.propTypes={closeAlert:_.a.func,moduleMeta:_.a.object,splitTicket:_.a.func};var X=a(109),ee=function(e){function t(e){l()(this,t);var a=m()(this,(t.__proto__||i()(t)).call(this,e));return a.state={openedThreads:[a.props.latestThreadId],isRecipientsOpen:q.a.getItem("isRecipientsOpen"),recipientsOpenArr:[],recipientsCloseArr:[],openedTruncatedId:[]},a.openThread=a.openThread.bind(a),a.replyActions=a.replyActions.bind(a),a.constructMoreObj=a.constructMoreObj.bind(a),a.toggleRecipients=a.toggleRecipients.bind(a),a.onContainerCLick=a.onContainerCLick.bind(a),a.setContentRef=a.setContentRef.bind(a),a.openTruncatedContant=a.openTruncatedContant.bind(a),a.constructDirectionChanellObj=a.constructDirectionChanellObj.bind(a),a.deleteDraftConfirmation=a.deleteDraftConfirmation.bind(a),a.deleteDraft=a.deleteDraft.bind(a),a.deleteFailedThreadConfirmation=a.deleteFailedThreadConfirmation.bind(a),a.deleteFailedThread=a.deleteFailedThread.bind(a),a.splitTicketConfirmation=a.splitTicketConfirmation.bind(a),a.splitTicket=a.splitTicket.bind(a),a.closeAlert=a.closeAlert.bind(a),a}return h()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){e.latestThreadId!=this.props.latestThreadId&&this.setState({openedThreads:[e.latestThreadId]})}},{key:"openThread",value:function(e,t,a,n){var o=this;"true"==a&&n.stopPropagation();var r=this.state.openedThreads.indexOf(e),i=!1;if(-1==r)t?(this.state.openedThreads.push(e),"true"==a&&(i=!0)):this.props.getThread(e,function(){o.state.openedThreads.push(e),o.setState({openedThreads:o.state.openedThreads},function(){"true"==a&&setTimeout(function(){Object(k.l)(o.props.scrollCont,o.attachCont.offsetTop-20)},100)})});else{if("true"==a)return void Object(k.l)(this.props.scrollCont,this.attachCont.offsetTop-20);this.state.openedThreads.splice(r,1)}this.setState({openedThreads:this.state.openedThreads},function(){setTimeout(function(){i&&Object(k.l)(o.props.scrollCont,o.attachCont.offsetTop-20)},100)})}},{key:"openTruncatedContant",value:function(e){var t=this,a=e.id,n=e.fullContentURL;this.props.getFullContent(n,a).then(function(){t.setState({openedTruncatedId:[].concat(o()(t.state.openedTruncatedId),[a])})})}},{key:"replyActions",value:function(e,t,a,n){var o=this.props,r=o.orgName,i=o.sanitizedDeptName,s=o.moduleMeta,l=o.ticketId,c=o.openJiraForm,d=o.openBugTrackerForm,u=o.bugName,m="";if(n==C.f.getI18NValue("crm.button.reply"))m="FACEBOOK_DM"==a.channel?"facebookDm":"reply";else if(n==C.f.getI18NValue("support.common.request.mail.replyall"))m="replyall";else if(n==C.f.getI18NValue("support.label.thread.forward.title"))m="forward";else if(n==C.f.getI18NValue("crm.post.reply"))"FACEBOOK"==a.channel?m="facebook":"FORUMS"==a.channel?m="forum":"TWITTER"==a.channel?m="twitter":"TWITTER_DM"==a.channel&&(m="twitterDm");else if(n==C.f.getI18NValue("support.common.request.mail.edit.draft"))m="FACEBOOK"==a.channel?"facebook":"FORUMS"==a.channel?"forum":"editDraft";else{if(n==C.f.getI18NValue("support.common.request.mail.discard.draft")){var p=a.actions[0].href;return void this.deleteDraftConfirmation(p,e)}if(n==C.f.getI18NValue("support.label.thread.delete")){var h=a.actions[0].href;return void this.deleteFailedThreadConfirmation(h,e)}if(n==C.f.getI18NValue("support.split.as.new",s.tickets.singularLabel))return void this.splitTicketConfirmation(e);if(n==C.f.getI18NValue("support.integ.jira.file.a.bug"))return void c(a.isDescriptionThread?null:e);if(n==C.f.getI18NValue("support.bug.integ.file",[u]))return void d({type:"bugTracker",ticketId:l,bugName:u,id:a.isDescriptionThread?null:e,threadId:e});if(n==C.f.getI18NValue("support.label.print"))return void window.open(S.s+"/"+r+"/"+i+"/"+s.tickets.sanitizedName+"/details/"+l+"/thread/"+e+"?action=print");if(n==C.f.getI18NValue("support.show.original"))return void window.open(S.s+"/"+r+"/"+i+"/"+s.tickets.sanitizedName+"/details/"+l+"/thread/"+e+"?action=showOriginal","winName","width=750,height=700");if(n==C.f.getI18NValue("support.mail.label.resend")){var f=a.actions[1].href;return void this.props.resendFailedThread(f,e)}if(n==C.f.getI18NValue("support.common.request.mail.send.draft")){var g=a.to.split(","),v=a.bcc.split(","),_=a.cc.split(","),E=-1==g.concat(_,v).indexOf(this.props.contactEmail);return void this.props.sendDraft(E,function(){},a)}}this.props.openEditor(e,t,a,m)}},{key:"deleteDraftConfirmation",value:function(e,t){this.setState({deleteUrl:e,deleteId:t,alertMode:"deleteDraft"})}},{key:"deleteDraft",value:function(){var e=this.state,t=e.deleteUrl,a=e.deleteId;this.props.deleteDraft(t,a),this.closeAlert()}},{key:"deleteFailedThreadConfirmation",value:function(e,t){this.setState({deleteUrl:e,deleteId:t,alertMode:"deleteThread"})}},{key:"deleteFailedThread",value:function(){var e=this.state,t=e.deleteUrl,a=e.deleteId;this.props.deleteFailedThread(t,a),this.closeAlert()}},{key:"splitTicketConfirmation",value:function(e){this.setState({splitThreadId:e,alertMode:"splitTicket"})}},{key:"splitTicket",value:function(){var e=this.state.splitThreadId;this.props.splitTicket(e),this.closeAlert()}},{key:"closeAlert",value:function(){this.setState({deleteId:null,deleteUrl:null,alertMode:null,splitThreadId:null})}},{key:"constructMoreObj",value:function(e){var t=this.props,a=t.haveMailSendPermission,n=t.haveJiraBugCreatePer,o=t.haveBugCreatePer,r=t.bugName,i=t.haveForWardPermissionOnly,s=t.isReadOnly,l=t.isSpam,c=t.threadCount,d="in"==e.direction&&!e.isDescriptionThread&&!i&&1!=parseInt(c),u=!a||s||l?[]:[{name:C.f.getI18NValue("crm.button.reply"),iconName:"reply",size:"12"},{name:C.f.getI18NValue("support.common.request.mail.replyall"),iconName:"replyall",size:"12"},{name:C.f.getI18NValue("support.label.thread.forward.title"),iconName:"forward",size:"12"}];if(u=i?[u[2]]:u,"DRAFT"!=e.status||l?"FAILED"!=e.status||l?"FACEBOOK"!=e.channel&&"FACEBOOK_DM"!=e.channel&&"TWITTER"!=e.channel&&"TWITTER_DM"!=e.channel&&"FORUMS"!=e.channel||l||(u=!a||i||s?[]:[{name:"FACEBOOK_DM"==e.channel?C.f.getI18NValue("crm.button.reply"):C.f.getI18NValue("crm.post.reply"),iconName:"reply",size:"12"}]):u=a&&!s?[{name:C.f.getI18NValue("support.mail.label.resend"),iconName:"zdresend",size:"15"},{name:C.f.getI18NValue("support.label.thread.delete"),iconName:"close1",size:"15"}]:[]:(u=a&&!s?[{name:C.f.getI18NValue("support.common.request.mail.edit.draft"),iconName:"editdDraft",size:"16"},{name:C.f.getI18NValue("support.common.request.mail.discard.draft"),iconName:"draftDelete",size:"16"},{name:C.f.getI18NValue("support.common.request.mail.send.draft"),iconName:"replyDraft",size:"16"}]:[],u=i?[u[0]]:u),"FAILED"!=e.status){var m=[{name:C.f.getI18NValue("support.show.original"),iconName:"originalView",size:"16"},{name:C.f.getI18NValue("support.label.print"),iconName:"printing2",size:"16"}];!d||s||l||m.splice(0,0,{name:C.f.getI18NValue("support.split.as.new",this.props.moduleMeta.tickets.singularLabel),iconName:"splitNew",size:"16"}),!n||"DRAFT"==e.status||s||l||m.splice(d?1:0,0,{name:C.f.getI18NValue("support.integ.jira.file.a.bug"),iconClass:b.a.jiraIcon}),!o||"DRAFT"==e.status||s||l||m.splice(d?1:0,0,{name:C.f.getI18NValue("support.bug.integ.file",[r]),iconName:"buginfo",size:"14"}),u=u.concat(m)}return u}},{key:"toggleRecipients",value:function(e){var t=this.state,a=t.recipientsCloseArr,n=t.recipientsOpenArr;t.isRecipientsOpen?a.includes(e)?this.setState({recipientsCloseArr:this.state.recipientsCloseArr.filter(function(t){return t!==e})}):this.setState({recipientsCloseArr:[].concat(o()(this.state.recipientsCloseArr),[e])}):n.includes(e)?this.setState({recipientsOpenArr:this.state.recipientsOpenArr.filter(function(t){return t!==e})}):this.setState({recipientsOpenArr:[].concat(o()(this.state.recipientsOpenArr),[e])}),q.a.getItem("isRecipientsOpen")?q.a.setItem("isRecipientsOpen",!1):q.a.setItem("isRecipientsOpen",!0)}},{key:"setContentRef",value:function(e){this.contentRef=e}},{key:"onContainerCLick",value:function(e){if("IMG"==e.target.tagName){for(var t=[],a=0,n=this.contentRef.querySelectorAll("img"),o=0;o<n.length;o++)t.push({viewUrl:n[o].src,index:o}),e.target==n[o]&&(a=o);this.props.showAttachmentViewer({previewData:t,selectedIndex:a})}}},{key:"constructDirectionChanellObj",value:function(e){var t=e.channel,a=e.direction,n=e.status,o=e.isForward,r="chEmailOut",i=C.f.getI18NValue("support.label.thread.outgoing.email.title");return"FEEDBACK"==t?r="chFeedback":"DRAFT"==n?(r="chEmailDft",i=C.f.getI18NValue("support.label.thread.support.draft.title")):o?(r="chEmailFwd",i=C.f.getI18NValue("support.common.request.mail.forward")):"in"==a&&(r="chEmailIn",i=C.f.getI18NValue("support.label.thread.incoming.email.title")),{iconName:r,title:i}}},{key:"render",value:function(){var e=this,t=this.props,a=t.threads,n=t.orgName,o=t.showAttachmentViewer,r=t.widgets,i=t.selectedWidgetId,s=t.onWidgetScroll,l=t.onWidgetSelect,c=t.ticketChannel,d=t.moduleMeta,u=t.customChannelsInfo,m=this.state,p=m.openedThreads,h=m.isRecipientsOpen,f=m.recipientsOpenArr,v=m.recipientsCloseArr,_=m.openedTruncatedId,E=m.alertMode,S=g.a.createElement(I.TicketsFontIcon,{name:"more",size:"20"});return g.a.createElement("div",null,a.map(function(t){var a=t.id,d=t.author,m=t.createdTime,E=t.direction,T=t.status,x=t.channel,w=t.isForward,O=t.content,F=t.visibility,P=t.channelRelatedInfo,R=t.hasAttach,V=t.attachmentCount,M=t.from,L=t.to,K=t.cc,U=t.bcc,H=t.summary,q=t.attachments,G=t.sentiment,$=t.aspects,J=t.keyWords,Y=t.isContentTruncated,Q=t.isDescriptionThread,ee=t.source,te=ee&&"INTEGRATION"==ee.type;te||(te=u[x]&&"INTEGRATION"==u[x].type,ee=u[x]),m=C.f.userDateFormat(new Date(m),{},"lateby","left",!1,function(){return"DD MMM YYYY hh:mm A"}),E="DRAFT"==T?"dft":"FAILED"==T?"failed":"FEEDBACK"==x?"feedback":w?"fwd":E;var ae=Object(A.b)(E),ne=-1!=p.indexOf(a),oe=-1==_.indexOf(a)&&Y,re='"'+d.name+'" < '+d.email+" > ",ie=h;"Forums"==c?ie=!1:v.includes(a)?ie=!1:f.includes(a)&&(ie=!0);var se=c.toLowerCase()!=x.toLowerCase()&&!Q&&"OFFLINE_CHAT"!=x&&"ONLINE_CHAT"!=x,le=e.constructDirectionChanellObj(t),ce=ee||{},de=ce.permalink,ue=ce.appName;return g.a.createElement("div",{className:(ne&&b.a.bgWhite)+" "+b.a.threadList,key:a,id:a,"data-id":"ThreadDiscrip"},g.a.createElement("div",{className:b.a.cleft},g.a.createElement(y.a,{src:d.photoURL,name:d.name||"d",size:"xmedium",iconName:ae.icon,borderPalette:ae.bordercolor,iconColor:ae.color,iconSize:ae.size})),g.a.createElement("div",{className:b.a.cright,onClick:e.onContainerCLick,ref:e.setContentRef},g.a.createElement("div",{className:b.a.poiter},g.a.createElement(W.Container,{alignBox:"row",align:"vertical",isCover:!1,onClick:e.openThread.bind(e,a,O)},g.a.createElement(W.Box,null,g.a.createElement(W.Container,{alignBox:"row",align:"vertical"},g.a.createElement(W.Box,{className:b.a.tname,"data-title":d.name},d.name),G?g.a.createElement(W.Box,null,g.a.createElement(B,{sentiment:G,aspects:$})):null,g.a.createElement(W.Box,{className:b.a.prithrlist},g.a.createElement(W.Container,{alignBox:"row",align:"vertical"},"DRAFT"==T?g.a.createElement("span",{className:b.a.draftText},C.f.getI18NValue("support.history.operation.label.draft")," ","@"):"private"==F?g.a.createElement("span",{className:b.a.thrdate},C.f.getI18NValue("support.department.type.internal")," ","."):P&&P.isDeleted?g.a.createElement("span",{className:b.a.thrdate,"data-title":C.f.getI18NValue("support.forums.deletedinforums")},C.f.getI18NValue("support.community.tickettopic.responsedeleted")," ","."):null,g.a.createElement("span",{className:b.a.thrdate},m),P&&P.isBestSolution?g.a.createElement("span",{className:b.a.thrdate+" "+b.a.bestAns},C.f.getI18NValue("support.badgification.badge.creditname.postbestanswer")):null,te?g.a.createElement("span",{className:b.a.viaChannel,"data-title":x},C.f.getI18NValue("support.common.request.channel.integ.via")," ",de?g.a.createElement(X.a,{className:b.a.channelName,href:de,target:"_blank"},ue):ue):null,"Forums"!=c?g.a.createElement("span",{className:b.a.recipientsCont+" "+(ie?"":b.a.recipientsHide),onClick:function(t){t.stopPropagation(),e.toggleRecipients(a)},"data-title":ie?C.f.getI18NValue("crm.button.hide.recipients"):C.f.getI18NValue("crm.button.show.recipients")},g.a.createElement(I.TopbandFontIcon,{name:"down",size:"5"})):null)),J?g.a.createElement(W.Box,{className:b.a.keyWord},g.a.createElement(j,{keyWords:J})):null)),g.a.createElement(W.Box,{flexible:!0},g.a.createElement(W.Container,{className:b.a.rightMore,alignBox:"row",align:"vertical"},se?g.a.createElement(W.Box,{className:b.a.otherChanell},g.a.createElement(I.TicketsFontIcon,{name:le.iconName,size:"12",title:le.title})):null,R?g.a.createElement(W.Box,{className:" "+b.a.posrel,onClick:e.openThread.bind(e,a,O,"true"),"data-title":C.f.getI18NValue("support.attachments")},g.a.createElement("span",{className:b.a.mailicn},g.a.createElement(I.TopbandFontIcon,{name:"attachment5",size:"11"})),g.a.createElement("span",{className:b.a.attachmentCount},V)):null,g.a.createElement(W.Box,{className:b.a.more},g.a.createElement(D.a,{objValues:e.constructMoreObj(t),onSelect:function(n){e.replyActions(a,O,t,n)},moreIcon:S,Icnsize:"16",listStyle:"alpha",widgets:r,selectedWidgetId:i,onWidgetScroll:s,onWidgetSelect:l}))))),ie?g.a.createElement(Z,{from:te?M:re,to:L,cc:K,bcc:U}):null,g.a.createElement("div",{onClick:e.openThread.bind(e,a,O)},!ne&&"TWILIO"!=x&&"TELEPHONY"!=x&&g.a.createElement("p",{className:b.a.thrdPlain,dangerouslySetInnerHTML:{__html:H}}))),ne&&("TWILIO"!=x&&"TELEPHONY"!=x||!Object(k.G)(O)?g.a.createElement("span",null,g.a.createElement("p",{className:b.a.thrdPlain,dangerouslySetInnerHTML:{__html:O},onMouseOver:function(e){e.stopPropagation()}}),oe?g.a.createElement("div",{className:b.a.cntntOvrLd},g.a.createElement("span",{className:b.a.cntntOvrLdSpn},"["," ",C.f.getI18NValue("support.label.threads.truncated")," ","]"),g.a.createElement("span",{className:b.a.cntOvrLdLnk,onClick:e.openTruncatedContant.bind(e,t)},C.f.getI18NValue("support.label.threads.showfullcont"))):null):g.a.createElement(z.a,{thread:t}))),q&&q.length&&ne?g.a.createElement("div",{className:b.a.attachCont,ref:function(t){e.attachCont=t}},g.a.createElement(N.a,{data:q,downloadAttachment:e.props.downloadAttachment,showAttachmentViewer:o,orgName:n,dataId:"attachList_"+a})):null)}),"deleteDraft"==E?g.a.createElement(G.a,{closeAlert:this.closeAlert,deleteDraft:this.deleteDraft}):"deleteThread"==E?g.a.createElement($.a,{closeAlert:this.closeAlert,deleteThread:this.deleteFailedThread}):"splitTicket"==E?g.a.createElement(Q,{closeAlert:this.closeAlert,splitTicket:this.splitTicket,moduleMeta:d}):null)}}]),t}(g.a.Component);t.a=ee;ee.propTypes={bugName:_.a.string,contactEmail:_.a.string,deleteDraft:_.a.func,deleteFailedThread:_.a.func,downloadAttachment:_.a.func,getFullContent:_.a.func,getThread:_.a.func,haveBugCreatePer:_.a.bool,haveForWardPermissionOnly:_.a.bool,haveJiraBugCreatePer:_.a.bool,haveMailSendPermission:_.a.bool,isReadOnly:_.a.bool,isSpam:_.a.bool,latestThreadId:_.a.string,moduleMeta:_.a.object,onWidgetScroll:_.a.func,onWidgetSelect:_.a.func,openBugTrackerForm:_.a.func,openEditor:_.a.func,openJiraForm:_.a.func,orgName:_.a.string,resendFailedThread:_.a.func,sanitizedDeptName:_.a.string,scrollCont:_.a.object,selectedWidgetId:_.a.string,sendDraft:_.a.func,showAttachmentViewer:_.a.func,splitTicket:_.a.func,threads:_.a.array,ticketChannel:_.a.string,ticketId:_.a.string,widgets:_.a.array}},1561:function(e,t,a){},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},174:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"e",function(){return l}),a.d(t,"d",function(){return c}),a.d(t,"j",function(){return d}),a.d(t,"n",function(){return u}),a.d(t,"o",function(){return m}),a.d(t,"k",function(){return p}),a.d(t,"i",function(){return h}),a.d(t,"g",function(){return g}),a.d(t,"h",function(){return v}),a.d(t,"a",function(){return _}),a.d(t,"l",function(){return b}),a.d(t,"b",function(){return y}),a.d(t,"m",function(){return I}),a.d(t,"f",function(){return C});var n=a(11),o=a.n(n),r=a(177),i=a(8);function s(e){var t=c(e),a=Object(r.a)().toLowerCase()||"",n=navigator.platform.toLowerCase()||"";switch(t){case"jpeg":case"jpg":case"png":case"gif":case"bmp":case"tiff":case"tif":case"ico":return"filePicture";case"txt":case"rtf":return"fileText2";case"pdf":return"filePdf";case"html":case"htm":case"xhtml":return-1!==a.indexOf("chrome")||-1!==a.indexOf("safari")?"chrome":-1!==a.indexOf("ie")||-1!==a.indexOf("edge")?"ie":"firefox";case"ppt":case"pps":case"odp":case"sxi":case"pptx":return"ppt";case"rar":case"jar":case"zip":return"zip3";case"doc":case"docx":case"sxw":case"odt":return-1!==n.indexOf("mac")||-1!==n.indexOf("linux")?"fileOpenoffice":"fileWord";case"xml":return"xml";case"xls":case"xlsx":case"sxc":case"ods":case"csv":case"tsv":return"fileExcel";case"ics":return"ics";case"exe":return"exe";case"sh":case"bin":return"sh2";case"css":return"css52";case"mp3":case"wav":case"wma":case"aac":case"m4r":case"ogg":return"fileMusic";case"mp4":case"mkv":case"mov":case"mpeg":case"flv":case"avi":case"webm":return"fileVideo";default:return"unknown"}}function l(e){return(e=parseInt(e))<1e3?e+" Bytes":e<1e6?(e/1e3).toFixed(1)+" KB":e>=1e6?(e/1e6).toFixed(1)+" MB":void 0}function c(e){return e&&e.indexOf(".")?e.substring(e.lastIndexOf(".")+1,e.length).toLowerCase():""}function d(e){var t=c(e);return-1!=="jpeg|jpg|png|gif|bmp|ico".indexOf(t)}function u(e,t){var a={inValidArray:[],validArray:[]};if(t+e.length>10)return a.isCountExceeds=!0,a;for(var n=0;n<e.length;n++){var o=e[n],r=o.name,i=o.size;p(r)?a.inValidArray.push({isUnSupported:!0}):h(r)?a.inValidArray.push({isFileNameSizeInvalid:!0}):0===o.size?a.inValidArray.push({isEmpty:!0}):f(i)?a.inValidArray.push({isAttachSizeExceeded:!0}):a.validArray.push(o)}return a}function m(e,t,a){if(t+e.length>10)alert(i.f.getI18NValue("support.attachments.count.exceeds",[10]));else for(var n=0;n<e.length;n++){var o=e[n],r=o.name,s=o.size;if(p(r))alert(i.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted"));else if(h(r))alert(i.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation"));else if(0!==o.size)if(f(s))alert(i.f.getI18NValue("support.feedback.uploaded.file.exceeds.20mb"));else{var l=new FormData;l.append("file",o),a&&a(l)}else alert(i.f.getI18NValue("support.request.empty.attachment.message"))}}function p(e){var t=e.split(".").pop().toLowerCase();return-1!==["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","lib","lnk","mde","msc","msp","mst","pif","scr","sct","shb","sys","vb","vbe","vxd","wsc","wsf","wsh","jse","vbs"].indexOf(t)}function h(e){return e.length>100}function f(e){return e>20971520}function g(e){var t=0;return e.forEach(function(e){t+=parseInt(e.size)}),t}function v(e,t){return!(!(null!==e.types||e.files&&e.files.length>0)||t.fromPaste||!(e.files&&e.files.length>0||(e.types.indexOf?-1!==e.types.indexOf("Files"):e.types.contains("application/x-moz-file"))||"Files"===e.types[0]))}function _(e,t,a){var n={};n.previewData=t.filter(function(e){return!e.isPreview&&d(e.name)}),n.previewData.filter(function(t,a){t.id===e&&(n.selectedIndex=a)}),a&&a(n)}function E(e,t,a){var n=e.indexOf("/api"),o=e;return n>-1&&(o=e.slice(n,e.length),o+="?orgId="+t+(a?"&inline=true":"")),o}function b(e,t){window.open(E(e,t,!0))}function y(e,t){window.location.href=E(e,t,!1)}function I(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=e.length,c=[],d=[],u=0;if(n&&l>n-a){var m=i.f.getI18NValue("support.attachments.count.exceeds",[n]);return o.a.resolve({isError:!0,errorI18N:m})}for(var f=0;f<l;f++){var g=e[f],v=g||{},_=v.size,E=void 0===_?0:_,b=v.name,y=void 0===b?"":b;if(u+=E,p(y)){var I=i.f.getI18NValue("support.community.attachmentcontent.extensionnotpermitted");c.push({errorI18N:I,fileName:y,errorType:"fileType"})}else if(h(y)){var C=i.f.getI18NValue("support.comments.attachment.fileNameSizeLimitation");c.push({errorI18N:C,fileName:y,errorType:"fileNameSize"})}else if(0===E){var A=i.f.getI18NValue("support.request.empty.attachment.message");c.push({errorI18N:A,fileName:y,errorType:"emptyFile"})}else d.push(g)}if(!d.length){if(1===c.length){var k=c[0].errorI18N;return o.a.resolve({isError:!0,errorI18N:k})}var S=i.f.getI18NValue("support.unable.to.process.your.request");return o.a.resolve({isError:!0,errorI18N:S})}if(0===u){var N=i.f.getI18NValue("support.request.empty.attachment.message");return o.a.resolve({isError:!0,errorI18N:N})}if(u+s>1024*r*1024){var D=i.f.getI18NValue("support.attachments.size.limit.exceeds",[r]);return o.a.resolve({isError:!0,errorI18N:D})}for(var T=[],x=[],w=[],O=function(e){var a=d[e];if(t){var n=new FormData;n.append("file",a);var o=t(n).then(function(e){var t=(e.data||{}).data,a=void 0===t?{}:t,n=a.id;n&&(T.push(a),x.push(n))},function(e){var t=a.name,n=i.f.getI18NValue("support.unable.to.process.your.request");throw c.push({errorI18N:n,fileName:t,errorType:"apiError"}),e});w.push(o)}},F=0;F<d.length;F++)O(F);var P={uploadFiles:T,inValidFiles:c,isError:!1,uploadFileIds:x};return o.a.all(w).then(function(){return P},function(){return T.length?P:{isError:!0,errorI18N:i.f.getI18NValue("support.unable.to.process.your.request")}})}function C(e,t){var a=e.name;return{index:t,isPreview:!0,size:e.size,name:a,href:URL.createObjectURL(e)}}},458:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(173),g=a.n(f),v=a(16),_=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return h.a.createElement(v.Container,{alignBox:"row",align:"both",className:g.a.container},h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}),h.a.createElement(v.Box,{className:g.a.dot}))}}]),t}(h.a.Component);t.a=_},459:function(e,t,a){"use strict";var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(122),_=a.n(v),E=a(176),b=a.n(E),y=a(120),I=a.n(y),C=a(174),A=a(109),k=a(8),S=function(e){function t(){return i()(this,t),d()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.orgId,o=t.showAttachmentViewer,r=t.size,i=t.neNeedToDownload,s=t.dataId,l=Object(C.g)(a);return h.a.createElement("div",null,h.a.createElement("div",{className:_.a.AttachCount,"data-id":s},h.a.createElement("span",{className:_.a.mr6},a.length),h.a.createElement("span",null,h.a.createElement(k.c,{i18NKey:"label.attachments"})),h.a.createElement("span",{className:_.a.ml6},"(",Object(C.e)(l),")")),a.map(function(t,s){var l=Object(C.j)(t.name);return h.a.createElement("div",{className:_.a.docspan,key:s,onClick:i?null:l?C.a.bind(e,t.id,a,function(e){o(e)}):C.l.bind(e,t.viewUrl?t.viewUrl:t.href,n),"data-id":1===a.length?"threadAttch":"threadAttch_"+s},h.a.createElement("span",{className:_.a.attachment+" "+_.a[r]},h.a.createElement("div",{className:_.a.attachleft},h.a.createElement(b.a,{name:Object(C.c)(t.name),size:"20"})),h.a.createElement("div",{className:_.a.attachright},h.a.createElement("span",{className:_.a.atatchName},t.name),h.a.createElement("span",{className:_.a.attachSize},Object(C.e)(t.size))),i?null:h.a.createElement(A.a,{onClick:e.props.downloadAttachment.bind(e,t.downloadUrl?t.downloadUrl:t.href),target:"_blank",className:_.a.attachDownload},h.a.createElement(I.a,{name:"downloadNew",size:"medium"==r?"14":"13",color:"pure"}))))}))}}]),t}(h.a.Component);t.a=S,S.propTypes={data:g.a.array,dataId:g.a.string,downloadAttachment:g.a.func,neNeedToDownload:g.a.bool,orgId:g.a.string,showAttachmentViewer:g.a.func,size:g.a.string},S.defaultProps={size:"medium"}},546:function(e,t,a){"use strict";a.r(t);var n=a(12),o=a.n(n),r=a(9),i=a.n(r),s=a(10),l=a.n(s),c=a(13),d=a.n(c),u=a(14),m=a.n(u),p=a(0),h=a.n(p),f=a(1),g=a.n(f),v=a(26),_=a(74),E=a(242),b=a(65),y=a(458),I=a(1530),C=a(1281),A=a(1336),k=(a(1561),a(16)),S=(a(8),function(e){function t(e){i()(this,t);var a=d()(this,(t.__proto__||o()(t)).call(this,e));return a.state={from:1,limit:15,noMoreData:!1,isFetchDone:!1,isQueryDone:!1},a.getThread=a.getThread.bind(a),a.downloadAttachment=a.downloadAttachment.bind(a),a.fetchData=a.fetchData.bind(a),a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchData(this.state.from),this.props.getLatestThread(this.props.id)}},{key:"componentDidUpdate",value:function(e){e.id!=this.props.id&&(this.fetchData(this.state.from),this.props.getLatestThread(this.props.id))}},{key:"componentWillReceiveProps",value:function(e){if(e.needToOpenEditor&&this.state.isQueryDone){this.props.closeEditorState();var t=this.props,a=t.recentThread,n=t.recentThreadId,o=t.openEditor,r=t.id;a?"DRAFT"==a.status?o(n,a.content,a,"FACEBOOK"==a.channel?"facebook":"FORUMS"==a.channel?"forum":"editDraft"):"FAILED"!=a.status&&("FACEBOOK"==a.channel||"TWITTER"==a.channel||"FACEBOOK_DM"==a.channel||"FORUMS"==a.channel?o(n,a.content,a,"FACEBOOK"==a.channel?"facebook":"FACEBOOK_DM"==a.channel?"facebookDm":"FORUMS"==a.channel?"forum":"twitter"):o(n,a.content,a,"replyall")):o(r," ","","replyall")}}},{key:"downloadAttachment",value:function(e){this.props.downloadAttachment(e)}},{key:"getThread",value:function(e,t){var a=this.props,n=a.id,o=a.getThread;o(n,e).then(function(){t&&t()})}},{key:"fetchData",value:function(e){var t=this,a=this.props,n=a.id,o=a.getThreads,r=a.isConversationQuerySent,i=this.state.limit;return o(n,e,i).then(function(a){var n=a.data,o=n.noMoreData;n.result;t.setState({from:e,noMoreData:o,isFetchDone:!0}),t.setState({isQueryDone:!0}),r()},function(e){t.setState({isFetchFailure:!0})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.from,n=t.limit,o=t.noMoreData,r=t.isFetchDone,i=t.isFetchFailure,s=this.props,l=s.showAttachmentViewer,c=s.openEditor,d=s.orgName,u=s.deleteDraft,m=s.deleteFailedThread,p=s.resendFailedThread,f=s.closeEdtior,g=s.editorId,v=s.replyContent,_=s.replyThread,E=s.replyMode,S=s.updateDraft,N=s.saveDraft,D=s.sendForReview,T=s.sendDraft,x=s.isEdtiorOpen,w=s.solutionContent,O=s.solutionAttachments,F=s.sendReply,P=s.contactEmail,R=s.isPeekView,B=s.recentThreadId,V=s.id,M=s.threadIds,L=s.thread,j=s.moduleMeta,z=s.sanitizedDeptName,K=s.widgets,U=s.selectedWidgetId,W=s.onWidgetScroll,H=s.onWidgetSelect,Z=s.haveEditPermission,q=s.haveMailSendPermission,G=s.channelRelatedInfo,$=s.haveJiraBugCreatePer,J=s.openJiraForm,Y=s.bugName,Q=s.haveBugCreatePer,X=s.openBugTrackerForm,ee=s.isStatusLocked,te=s.isReadOnly,ae=s.haveForWardPermissionOnly,ne=s.isSharedTicket,oe=s.getFullContent,re=s.ticketChannel,ie=s.isSpam,se=s.isCustomChannel,le=s.channelInfo,ce=s.customChannelsInfo,de=s.threadCount,ue=[];if(M)for(var me=0;me<M.length;me++)ue.push(L[M[me]]);var pe=_&&"DRAFT"==_.status;return x&&"facebook"!=E&&"facebookDm"!=E&&"twitter"!=E&&"twitterDm"!=E?h.a.createElement(A.a,{isDraftThread:pe,ticketId:this.props.id,closeEdtior:f,editorId:g,replyContent:v,replyThread:_,replyMode:E,deleteDraft:u,updateDraft:S,saveDraft:N,sendForReview:D,sendDraft:T,sendReply:F,openEditor:c,solutionContent:w,solutionAttachments:O,contactEmail:P,isPeekView:R,haveEditPermission:Z,haveMailSendPermission:q,channelRelatedInfo:G,isStatusLocked:ee,haveForWardPermissionOnly:ae,isSharedTicket:ne,isCustomChannel:se,channelInfo:le}):ue.length?h.a.createElement(k.Box,{flexible:!0},h.a.createElement(b.Card,{needToFetch:!0,from:a,limit:n,noMoreData:o,fetchData:this.fetchData,noNeedUpScroll:!0},!x||"facebook"!=E&&"facebookDm"!=E&&"twitter"!=E&&"twitterDm"!=E?null:h.a.createElement(b.CardHeader,null,h.a.createElement(C.a,{closeEdtior:f,saveDraft:N,updateDraft:S,content:pe?v:"",isDraft:pe,deleteDraft:u,sendDraft:T,sendReply:F,channel:_.channel,replyMode:E,openEditor:c,threadId:g,replyThread:_,haveMailSendPermission:q,haveForWardPermissionOnly:ae})),h.a.createElement(b.CardContent,{eleRef:function(t){e.scrollCont=t}},h.a.createElement(I.a,{ticketId:V,threads:ue,getThread:this.getThread,downloadAttachment:this.downloadAttachment,showAttachmentViewer:l,openEditor:c,orgName:d,deleteDraft:u,deleteFailedThread:m,resendFailedThread:p,sendDraft:T,contactEmail:P,scrollCont:this.scrollCont,latestThreadId:B,moduleMeta:j,sanitizedDeptName:z,widgets:K,selectedWidgetId:U,onWidgetScroll:W,onWidgetSelect:H,haveMailSendPermission:q,haveJiraBugCreatePer:$,openJiraForm:J,bugName:Y,haveBugCreatePer:Q,openBugTrackerForm:X,isReadOnly:te,haveForWardPermissionOnly:ae,getFullContent:oe,ticketChannel:re,isSpam:ie,customChannelsInfo:ce,threadCount:de})))):i?h.a.createElement("div",null,"Unable To Proccess your request"):r?null:h.a.createElement(y.a,null)}}]),t}(p.Component));S.propTypes={bugName:g.a.string,channelInfo:g.a.object,channelRelatedInfo:g.a.object,closeEditorState:g.a.func,closeEdtior:g.a.func,contactEmail:g.a.string,customChannelsInfo:g.a.object,deleteDraft:g.a.func,deleteFailedThread:g.a.func,downloadAttachment:g.a.func,editorId:g.a.number,getFullContent:g.a.func,getLatestThread:g.a.func,getThread:g.a.func,getThreads:g.a.func,haveBugCreatePer:g.a.bool,haveEditPermission:g.a.bool,haveForWardPermissionOnly:g.a.bool,haveJiraBugCreatePer:g.a.bool,haveMailSendPermission:g.a.bool,id:g.a.string,isConversationQuerySent:g.a.func,isCustomChannel:g.a.bool,isEdtiorOpen:g.a.bool,isPeekView:g.a.bool,isReadOnly:g.a.bool,isSharedTicket:g.a.bool,isSpam:g.a.bool,isStatusLocked:g.a.bool,moduleMeta:g.a.object,needToOpenEditor:g.a.bool,onWidgetScroll:g.a.func,onWidgetSelect:g.a.func,openBugTrackerForm:g.a.func,openEditor:g.a.func,openJiraForm:g.a.func,orgName:g.a.string,recentThread:g.a.object,recentThreadId:g.a.string,replyContent:g.a.string,replyMode:g.a.string,replyThread:g.a.object,resendFailedThread:g.a.func,sanitizedDeptName:g.a.string,saveDraft:g.a.func,selectedWidgetId:g.a.string,sendDraft:g.a.func,sendForReview:g.a.func,sendReply:g.a.func,showAttachmentViewer:g.a.func,solutionAttachments:g.a.array,solutionContent:g.a.string,thread:g.a.object,threadCount:g.a.string,threadIds:g.a.object,ticketChannel:g.a.string,updateDraft:g.a.func,widgets:g.a.array},t.default=Object(v.connect)(function(e,t){var a=e.ticketUIState.needToOpenEditor,n=void 0!==a&&a;return{thread:e.module.thread,threadIds:e.module.ticket[t.id].thread,moduleMeta:e.moduleMeta,sanitizedDeptName:e.routing.paramMap.deptName,needToOpenEditor:n,customChannelsInfo:e.customChannelsInfo}},{getThreads:_.k,getThread:_.j,downloadAttachment:E.e,getLatestThread:_.h,closeEditorState:_.b,showAttachmentViewer:E.i,getFullContent:_.e})(S)},949:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectComponent=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),r=E(o),i=E(a(1)),s=E(a(80)),l=E(a(72)),c=E(a(234)),d=E(a(99)),u=a(202),m=E(u),p=E(a(236)),h=E(a(237)),f=E(a(957)),g=E(a(63)),v=a(358),_=a(201);function E(e){return e&&e.__esModule?e:{default:e}}var b=[],y=t.SelectComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getFilterSuggestions=(0,v.makeGetMultiSelectFilterSuggestions)(),a.formatOptions=(0,v.makeFormatOptions)(),a.getSelectedValue=(0,v.makeGetSelectedValueText)(),a.selectedFormatOptions={};var n=e.selectedValue,o=e.searchDebounceTime,r=void 0===o?500:o,i=e.isDefaultSelectValue,s=a.handleFormatOptions(a.props),l=s.allOptions,c=s.normalizedAllOptions,d=s.optionsOrder,u=s.normalizedFormatOptions,m=a.getSelectedValue({optionsOrder:d,selectedValue:n,normalizedFormatOptions:u,selectedFormatOptions:a.selectedFormatOptions,isDefaultSelectValue:i}),p=m.selected,h=m.hoverIndex,f=m.selectedValueDetails,g=m.selectedId;m.isSelfValueChanged;return a.state={selected:p,options:l,optionsNormalize:c,hoverIndex:h,searchStr:"",isFetchingOptions:!1,selectedId:g,selectedValueIndex:h},a.optionsOrder=d,a._isMounted=!1,a.normalizedFormatOptions=u,a.allSelectedOptions=f,a.handleChange=a.handleChange.bind(a),a.handleKeyDown=a.handleKeyDown.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleFilterSuggestions=a.handleFilterSuggestions.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleFetchOptions=a.handleFetchOptions.bind(a),a.handleGetNextOptions=a.handleGetNextOptions.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleSearchOptions=(0,_.debounce)(a.handleSearchOptions.bind(a),r),a.suggestionContainerRef=a.suggestionContainerRef.bind(a),a.suggestionItemRef=a.suggestionItemRef.bind(a),a.searchInputRef=a.searchInputRef.bind(a),a.valueInputRef=a.valueInputRef.bind(a),a.togglePopup=a.togglePopup.bind(a),a.handleSelectFocus=a.handleSelectFocus.bind(a),a.handleFormatOptions=a.handleFormatOptions.bind(a),a.handlePopupClose=a.handlePopupClose.bind(a),a.handleClearSearch=a.handleClearSearch.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedValue,a=e.isDefaultSelectValue,n=this.state.hoverIndex,o=this.handleFormatOptions(e),r=o.allOptions,i=o.normalizedAllOptions,s=o.optionsOrder,l=o.normalizedFormatOptions,c=this.selectedFormatOptions,d=this.getSelectedValue({optionsOrder:s,selectedValue:t,normalizedFormatOptions:l,selectedFormatOptions:c,isDefaultSelectValue:a}),u=d.selected,m=d.hoverIndex,p=d.selectedValueDetails,h=d.selectedId;d.isSelfValueChanged,this.props.selectedValue;this.selectedFormatOptions=Object.assign(c,p),this.normalizedFormatOptions=l,this.optionsOrder=s,this.setState({options:r,optionsNormalize:i,selected:u,hoverIndex:n||m,selectedId:h,selectedValueIndex:m})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.suggestionContainer,n=this.optionsOrder,o=this.isSelectWithAvatarComponent,r=this.state,i=r.hoverIndex,s=r.searchStr,l=r.selectedValueIndex,c=this.props,d=c.needLocalSearch,u=c.onDropBoxClose,m=c.onDropBoxOpen,p=c.needSearch,h=c.onSearch,f=c.isPopupOpen,g=this["suggestion_"+((0,_.getIsEmptyValue)(n[i])?"":n[i])];f&&(0,_.scrollTo)(a,g),e.isPopupOpen!==f&&(f?(m&&this.handleFetchOptions(m,s),setTimeout(function(){t.searchInput&&t.searchInput.focus()},10)):(p&&this.valueInput&&this.valueInput.focus(),u&&u(),h&&h(""),this.setState({searchStr:o?s:"",hoverIndex:l})));var v=this.props,E=v.isNextOptions,b=v.getNextOptions,y=(f?this.handleFilterSuggestions():[]).length;f&&y<=5&&E&&b&&!d&&this.handleFetchOptions(b,s)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleFormatOptions",value:function(e){var t=e.options,a=e.valueField,n=e.textField;return this.formatOptions({options:t,valueField:a,textField:n})}},{key:"handleChange",value:function(e,t,a,n){n&&n.preventDefault&&n.preventDefault();var o=this.props,r=o.onChange,i=o.isReadOnly,s=this.state.optionsNormalize;!i&&r&&r(e,s[e]),this.valueInput&&this.valueInput.focus(),this.handlePopupClose(n)}},{key:"handleKeyDown",value:function(e){var t=this.props,a=t.onChange,n=t.isPopupOpen,o=this.state,r=o.hoverIndex,i=o.optionsNormalize,s=this.handleFilterSuggestions(),l=e.keyCode;if(n&&(38===l||40===l)&&e.preventDefault&&e.preventDefault(),38===l&&n&&s.length)0===r||(r-=1),this.setState({hoverIndex:r});else if(40===l&&n&&s.length)r===s.length-1||(r===s.length-3&&this.handleGetNextOptions(),r+=1),this.setState({hoverIndex:r});else if(13===l){var c=(s[r]||{}).id;n&&!(0,_.getIsEmptyValue)(c)&&a&&a(c,i[c]),n?!(0,_.getIsEmptyValue)(c)&&this.togglePopup(e):this.togglePopup(e)}}},{key:"handleSearchOptions",value:function(){var e=this.props.onSearch,t=this.state.searchStr;t&&this.handleFetchOptions(e,t)}},{key:"handleSearch",value:function(e){var t=this,a=this.state.searchStr,n=void 0===a?"":a,o=this.props.onSearch,r=n.toLowerCase().replace(/\s+/g,"")!==e.toLowerCase().replace(/\s+/g,"");this.setState({searchStr:e,hoverIndex:0},function(){e?r&&o&&t.handleSearchOptions():o&&t.handleFetchOptions(o,"")})}},{key:"handleMouseEnter",value:function(e){var t=this.state.hoverIndex,a=this.optionsOrder.indexOf(e);t!==a&&this.setState({hoverIndex:a})}},{key:"handleFilterSuggestions",value:function(){var e=this.props,t=e.needLocalSearch,a=e.excludeOptions,n=void 0===a?b:a,o=e.needSearch,r=this.state,i=r.options,s=void 0===i?b:i,l=r.searchStr;return o&&l&&l.trim().length||n&&n.length?this.getFilterSuggestions({options:s,selectedOptions:n,searchStr:l,needSearch:t}).suggestions:s}},{key:"handleScroll",value:function(e){e.target.scrollTop+e.target.offsetHeight>e.target.scrollHeight-1&&this.handleGetNextOptions()}},{key:"handleFetchOptions",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.state.isFetchingOptions,o=void 0!==n&&n,r=this._isMounted;if(!o&&e){this.setState({isFetchingOptions:!0});try{return e(a).then(function(){r&&t.setState({isFetchingOptions:!1})},function(){r&&t.setState({isFetchingOptions:!1})})}catch(e){r&&this.setState({isFetchingOptions:!1})}}}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextOptions,a=e.getNextOptions,n=this.state.searchStr;t&&a&&this.handleFetchOptions(a,n)}},{key:"togglePopup",value:function(e){var t=this.props,a=t.togglePopup,n=t.isReadOnly,o=t.defaultDropBoxPosition;!n&&a(e,o?o+"Center":null)}},{key:"handlePopupClose",value:function(e){(0,this.props.closePopupOnly)(e)}},{key:"suggestionContainerRef",value:function(e){this.suggestionContainer=e}},{key:"suggestionItemRef",value:function(e,t,a){this["suggestion_"+a]=e}},{key:"searchInputRef",value:function(e){this.searchInput=e}},{key:"valueInputRef",value:function(e){var t=this.props.getRef;this.valueInput=e,t&&t(e)}},{key:"handleSelectFocus",value:function(e){var t=(e||{}).target;t&&t.setSelectionRange(t,0)}},{key:"handleClearSearch",value:function(){var e=this;this.handleSearch(""),setTimeout(function(){e.searchInput&&e.searchInput.focus()},1)}},{key:"render",value:function(){var e=this.props,t=e.needSearch,a=e.dropBoxSize,n=e.emptyMessage,o=e.searchEmptyMessage,i=e.needBorder,s=e.needSelectDownIcon,v=e.position,_=e.defaultDropBoxPosition,E=e.getTargetRef,b=e.getContainerRef,y=e.isPopupOpen,I=e.removeClose,C=e.isPopupReady,A=e.animationStyle,k=e.textBoxSize,S=e.textBoxVariant,N=e.searchBoxSize,D=e.searchBoxPlaceHolder,T=e.maxLength,x=e.isDisabled,w=e.title,O=e.size,F=e.placeHolder,P=e.className,R=e.portalId,B=e.isReadOnly,V=e.dataId,M=this.state,L=M.hoverIndex,j=M.selected,z=M.searchStr,K=M.isFetchingOptions,U=M.selectedId,W=M.options,H=this.handleFilterSuggestions();return r.default.createElement("div",{className:f.default.container+" "+f.default["box_"+O]+" ","data-title":x?w:""},r.default.createElement("div",{className:""+(P||""),onClick:x||B?null:this.togglePopup,ref:E},s?r.default.createElement(c.default,{isDisabled:x,iconRotated:y,inputRef:this.valueInputRef,maxLength:T,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:F,isReadOnly:!0,size:k,value:j,variant:S,needReadOnlyStyle:!!B,dataId:V,isClickable:!B&&!x,className:B||x?"":f.default.input,needEffect:!B},r.default.createElement("div",{className:f.default.arrowIcon,"data-id":V+"_downIcon"},r.default.createElement(g.default,{name:"blockDownArrow",size:"8"}))):r.default.createElement(d.default,{disabled:x,inputRef:this.valueInputRef,maxLength:T,needBorder:i,onFocus:this.handleSelectFocus,onKeyDown:this.handleKeyDown,placeHolder:F,readOnly:!0,size:k,value:j,variant:S,needReadOnlyStyle:!!B,dataId:V,isClickable:!B&&!x})),B||x||!y?null:r.default.createElement(l.default,{animationStyle:A,boxPosition:v||_+"Center",getRef:b,isActive:C,isAnimate:!0,isArrow:!1,onClick:I,portalId:R,dataIdContainer:V+"_suggestions"},r.default.createElement(m.default,{className:f.default.box,onScroll:this.handleScroll},t?r.default.createElement(u.CardHeader,null,r.default.createElement("div",{className:f.default.search+" "+f.default[O]},r.default.createElement(c.default,{inputRef:this.searchInputRef,maxLength:T,onChange:this.handleSearch,onKeyDown:this.handleKeyDown,placeHolder:D,size:N,value:z,onClear:this.handleClearSearch,dataIdSearchBox:V+"_searchBox"}))):null,r.default.createElement(u.CardContent,{className:a?f.default[a]:"",eleRef:this.suggestionContainerRef,dataId:V+"_Options"},H.length?r.default.createElement(p.default,{activeId:U,suggestions:H,getRef:this.suggestionItemRef,hoverOption:L,onClick:this.handleChange,onMouseEnter:this.handleMouseEnter}):r.default.createElement(h.default,{emptyMessage:n,isLoading:K,options:W,searchEmptyMessage:o,searchString:z,suggestions:H,dataIdLoading:V+"_loading",dataIdSrchEmptyMsg:V+"_srchEmptyMsg",dataIdNoOptnsMsg:V+"_noOptnsMsg"})))))}}]),t}();y.propTypes={animationStyle:i.default.string,className:i.default.string,closePopupOnly:i.default.func,dataId:i.default.string,defaultDropBoxPosition:i.default.oneOf(["bottom","top","left","right"]),dropBoxSize:i.default.oneOf(["small","medium","large"]),emptyMessage:i.default.string,excludeOptions:i.default.array,getContainerRef:i.default.func,getNextOptions:i.default.func,getRef:i.default.func,getTargetRef:i.default.func,isDefaultSelectValue:i.default.bool,isDisabled:i.default.bool,isNextOptions:i.default.bool,isPopupOpen:i.default.bool,isPopupReady:i.default.bool,isReadOnly:i.default.bool,maxLength:i.default.string,needBorder:i.default.bool,needLocalSearch:i.default.bool,needSearch:i.default.bool,needSelectDownIcon:i.default.bool,onChange:i.default.func.isRequired,onDropBoxClose:i.default.func,onDropBoxOpen:i.default.func,onSearch:i.default.func,options:i.default.oneOfType([i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.number])),i.default.arrayOf(i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])}))]).isRequired,placeHolder:i.default.string,portalId:i.default.string,position:i.default.string,removeClose:i.default.func,searchBoxPlaceHolder:i.default.string,searchBoxSize:i.default.string,searchDebounceTime:i.default.number,searchEmptyMessage:i.default.string,selectedValue:i.default.oneOfType([i.default.oneOfType([i.default.string,i.default.number]),i.default.shape({id:i.default.oneOfType([i.default.string,i.default.number]),text:i.default.oneOfType([i.default.string,i.default.number])})]),size:i.default.oneOf(["small","medium"]),textBoxSize:i.default.string,textBoxVariant:i.default.string,textField:i.default.string,title:i.default.string,togglePopup:i.default.func,valueField:i.default.string},y.propTypesDescription={size:" ",title:" ",isDisabled:" ",maxLength:" ",searchBoxSize:" ",searchBoxPlaceHolder:" ",textBoxSize:" ",textBoxVariant:" ",options:" ",selectedValue:" ",onChange:" ",emptyMessage:" ",needSearch:" ",valueField:" ",textField:" "},y.defaultProps={animationStyle:"bounce",defaultDropBoxPosition:"bottom",dropBoxSize:"small",isDefaultSelectValue:!0,isDisabled:!1,isReadOnly:!1,needBorder:!0,needLocalSearch:!0,needSearch:!1,needSelectDownIcon:!0,placeHolder:"",searchBoxPlaceHolder:"Search",searchBoxSize:"medium",size:"medium",dataId:"selectComponent",textBoxSize:"medium",textBoxVariant:"default",textField:"text",valueField:"id"},y.displayName="Select";var I=(0,s.default)(y);I.propTypes=y.propTypes,I.defaultProps=y.defaultProps,t.default=I},957:function(e,t,a){e.exports={input:"Select-module__input",small:"Select-module__small",medium:"Select-module__medium",large:"Select-module__large",emptyState:"Select-module__emptyState common-module__semibold common-module__ftsmooth",box_small:"Select-module__box_small",box_medium:"Select-module__box_medium",hide:"Select-module__hide common-module__vishidden",container:"Select-module__container",arrowIcon:"Select-module__arrowIcon",box:"Select-module__box",search:"Select-module__search"}},960:function(e,t,a){"use strict";function n(e,t){var a=void 0,n="";return e?"OFFLINE_CHAT"==(a=e.channel)?n="missed":e.isDraft?n="draft":e.isForward?n="forward":"in"===e.direction?n="incoming":"out"===e.direction&&(n="outgoing"):(a=t||"",n="default"),{channelName:a,action:n}}function o(e){return{in:{icon:"emailIn",bordercolor:"primary",color:"primary",size:"10"},out:{icon:"emailOut",bordercolor:"primary",color:"primary",size:"10"},dft:{icon:"pen2",bordercolor:"primary",color:"primary",size:"8"},fwd:{icon:"emailFwd",bordercolor:"primary",color:"primary",size:"6"},feedback:{icon:"feedback",bordercolor:"primary",color:"primary",size:"10"},comment:{icon:"zdeskCommentfilled",bordercolor:"primary",color:"primary",size:"8"},failed:{icon:"notifiExclamation",bordercolor:"primary",color:"danger",size:"10"}}[e]}function r(){return{EMAIL:{default:"chEmail1",incoming:"chEmailIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chEmailMis"},FACEBOOK:{default:"chFacebook",incoming:"chFacebookIn",outgoing:"chFacebookOut",draft:"chFacebookDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFacebookMis"},FACEBOOK_DM:{default:"chFacebookDmOut",incoming:"chFacebookDmOut",outgoing:"chFacebookDmOut",draft:"chFacebookDmOut",forward:"chFacebookDmOut",forwardDraft:"chFacebookDmOut",missed:""},TWITTER:{default:"chTwitter",incoming:"chTwitterIn",outgoing:"chTwitterOut",draft:"chTwitterDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chTwitterMis"},FORUMS:{default:"chForums",incoming:"chForumsIn",outgoing:"chForumsOut",draft:"chForumsDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chForumsMis"},CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},OFFLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},ONLINE_CHAT:{default:"chChat",incoming:"chChatIn",outgoing:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chChatMis"},PHONE:{default:"activityCalls",incoming:"chPhoneIn",outgoing:"chPhoneOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chPhoneMis"},WEB:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},CUSTOMERPORTAL:{default:"chWeb",incoming:"chWebIn",out:"chEmailOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chWebMis"},FEEDBACK:{default:"chFeedback",incoming:"chFeedback",out:"chFeedbackOut",draft:"chEmailDft",forward:"chEmailFwd",forwardDraft:"forwarddft",missed:"chFeedbackMis"}}}a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return r})},997:function(e,t,a){"use strict";function n(){for(var e=this,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];a.forEach(function(t){e[t]=e[t].bind(e)})}a.d(t,"a",function(){return n})}}]);