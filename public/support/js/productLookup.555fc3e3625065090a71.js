(window.deskappJsonp=window.deskappJsonp||[]).push([[101],{1048:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(153),g=n(1049),v=n.n(g),_=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){return p.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"contact"},p.a.createElement("image",{xlinkHref:v.a,height:"100%",width:"100%"}))}}]),t}(p.a.Component);t.a=_},1049:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyContact.3a5a749e7a8c64b5799d.svg"},1059:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(153),g=n(1060),v=n.n(g),_=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){return p.a.createElement(f.a,{viewBox:"0 0 298 123.5",name:"accounts"},p.a.createElement("image",{xlinkHref:v.a,height:"100%",width:"100%"}))}}]),t}(p.a.Component);t.a=_},1060:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyAccounts.01e00f086cfc9f2312fd.svg"},1078:function(e,t,n){e.exports={container:"lookupListCommon-module__container common-module__flexshrink",avatar:"lookupListCommon-module__avatar",title:"lookupListCommon-module__title common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",linkGrayText:"lookupListCommon-module__linkGrayText common-module__dotted common-module__oflow common-module__ellipsis",secondaryPanel:"lookupListCommon-module__secondaryPanel common-module__dflex common-module__alignVertical common-module__flexrow common-module__flexwrap",blueText:"lookupListCommon-module__blueText",primary:"lookupListCommon-module__primary",extraSmall:"lookupListCommon-module__extraSmall"}},1086:function(e,t,n){e.exports={container:"EmptyPage-module__container",image:"EmptyPage-module__image",contentDiv:"EmptyPage-module__contentDiv common-module__ftsmooth"}},1087:function(e,t){e.exports="//vimalesan.herokuapp.com/support/fonts/EmptyProducts.7e8050e8ffac1c3f591b.svg"},1088:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(1086),_=n.n(v),C=n(251),b=n(1059),S=n(1048),y=n(153),I=n(1087),x=n.n(I),P=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){return p.a.createElement(y.a,{viewBox:"0 0 298 123.3",name:"products"},p.a.createElement("image",{xlinkHref:x.a,height:"100%",width:"100%"}))}}]),t}(p.a.Component);var k=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.renderEmptyState=n.renderEmptyState.bind(),n}return m()(t,e),c()(t,[{key:"renderEmptyState",value:function(e){switch(e){case"search":return p.a.createElement(C.a,null);case"account":return p.a.createElement(b.a,null);case"contact":return p.a.createElement(S.a,null);case"product":return p.a.createElement(P,null);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.title;return p.a.createElement("div",{className:_.a.container},p.a.createElement("div",{className:_.a.image+" "},this.renderEmptyState(t)),p.a.createElement("div",{className:_.a.contentDiv},n))}}]),t}(h.Component);t.a=k;k.propTypes={title:g.a.string,type:g.a.oneOf(["search","account","contact","product"])},k.defaultProps={title:"No Results Found",type:"search"}},1136:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(30),_=n(1137),C=n.n(_),b=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.onClose;return p.a.createElement("div",{className:C.a.container,onClick:e},p.a.createElement(v.ChannelsFontIcon,{name:"close2",size:"9"}))}}]),t}(h.PureComponent);t.a=b,b.propTypes={onClose:g.a.func}},1137:function(e,t,n){e.exports={container:"Close-module__container"}},1181:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(1182),_=n.n(v),C=n(99),b=n.n(C),S=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.state={isActive:!1,isFocused:!1},n.handleChange=n.handleChange.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleClear=n.handleClear.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return m()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.searchStr,n=this.state.isFocused;e.searchStr&&""===t&&!n&&this.setState({isActive:!1})}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=this.props.onSearch;13===t&&n&&n()}},{key:"handleChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"handleBlur",value:function(){var e=this.props.searchStr;this.setState({isFocused:!1}),e||this.setState({isActive:!1})}},{key:"handleFocus",value:function(){this.setState({isActive:!0,isFocused:!0})}},{key:"handleClear",value:function(){var e=this.props.onSearch;e&&e("")}},{key:"render",value:function(){var e=this.props,t=e.searchStr,n=e.placeHolder,a=this.state.isActive;return p.a.createElement(b.a,{className:_.a.inputStyle+" "+(a?_.a.inputActive:""),placeHolder:n,value:t,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown})}}]),t}(h.Component);t.a=S,S.propTypes={onChange:g.a.func,onSearch:g.a.func,placeHolder:g.a.string,searchStr:g.a.string}},1182:function(e,t,n){e.exports={inputStyle:"Search-module__inputStyle",inputActive:"Search-module__inputActive"}},1183:function(e,t,n){e.exports={container:"lookupHeaderCommon-module__container",searchContainer:"lookupHeaderCommon-module__searchContainer",title:"lookupHeaderCommon-module__title",closeContainer:"lookupHeaderCommon-module__closeContainer common-module__middleY"}},1184:function(e,t,n){e.exports={extraSmall:"lookupHeaderCommonResponsive-module__extraSmall",searchContainer:"lookupHeaderCommonResponsive-module__searchContainer"}},1185:function(e,t,n){"use strict";n.d(t,"e",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"h",function(){return _}),n.d(t,"i",function(){return C});var a,o,r=n(2),i=n.n(r),l=n(15),c=n(6),s=n(7),u=n(3),d=function(e,t){return{types:Object(c.m)("CONTACTS_LOOKUP"),callAPI:function(n){return Object(l.a)(u.w+"contacts?from="+e+"&limit="+t+"&sortBy=lastName&include=accounts",!1,{orgId:n.currentOrgId}).get().then(function(e){return Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.CONTACT_L,{mapping:{account:Object(s.schema)(u.L.ACCOUNT_L)}})))})}}},m=function(e,t){return{types:Object(c.m)("PRODUCTS_LOOKUP"),callAPI:function(n){return Object(l.a)(u.w+"products?from="+e+"&limit="+t+"&sortBy=productName",!1,{orgId:n.currentOrgId}).get().then(function(e){return Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.PRODUCT_L)))})}}},h=(a="LOOKUP_DATA",o=Object(c.m)(a),function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.H;return{types:o,callAPI:function(o){var c="from="+n+"&limit="+(2*r>200?200:2*r)+"&sortBy=lastName";return Object(l.a)(a?u.w+"contacts/search?"+c+"&customField1=Account Name:"+a+(t?"&startsWith="+t:""):u.w+"contacts?"+c+(t?"&swLastName="+t:"")+"&include=accounts"+(e&&"default"!==e?"&viewId="+e:""),!1,{orgId:o.currentOrgId}).get().then(function(e){return i()({},Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.CONTACT_L,{mapping:{account:Object(s.schema)(u.L.ACCOUNT_L)}}))),{from:n,limit:r,isNextData:!!e.data&&e.data.length>r,startstWith:t,moduleName:u.L.CONTACT_L})},function(e){throw i()({},e,{moduleName:u.L.CONTACT_L})})},payload:{moduleName:u.L.CONTACT_L,from:n}}}),p=function(e){var t=Object(c.m)(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments[2],o=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.H;return{types:t,shouldCallAPI:function(){return!!(e.trim&&e.trim().length>1)},callAPI:function(t){var c={module:"contacts",pattern:"email"===o?"2":"phone"===o?"4":(n?"1and":"")+"(2or3)",queries:[{value:[n],condition:"is",fieldName:"Account Id"},{value:[e],condition:"starts with",fieldName:"Email"},{value:[e],condition:"starts with",fieldName:"Last Name"},{value:[e],condition:"starts with",fieldName:"Phone"}],from:a,limit:2*r>200?200:2*r};return Object(l.a)(u.w+"globalSearch",!1,{orgId:t.currentOrgId}).post("",c).then(function(t){return i()({},Object(s.normalize)(204!==t.responseStatus&&t.data||[],Object(s.arrayOf)(Object(s.schema)(u.L.CONTACT_L,{mapping:{account:Object(s.schema)(u.L.ACCOUNT_L)}}))),{from:a,limit:r,isNextData:!!t.data&&t.data.length>r,searchStr:e,accountId:n,moduleName:u.L.CONTACT_L})},function(e){throw i()({},e,{moduleName:u.L.CONTACT_L})})},payload:{moduleName:u.L.CONTACT_L,from:a}}}}("LOOKUP_DATA"),f=function(e){var t=Object(c.m)(e);return function(e,n,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.G;return{types:t,callAPI:function(t){var r=2*o>200?200:2*o;return Object(l.a)(u.w+"accounts?from="+a+"&limit="+r+"&sortBy=accountName"+(n?"&swAccountName="+n:"")+(e&&"default"!==e?"&viewId="+e:""),!1,{orgId:t.currentOrgId}).get().then(function(e){return i()({},Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.ACCOUNT_L))),{from:a,limit:o,isNextData:!!e.data&&e.data.length>o,startstWith:n,moduleName:u.L.ACCOUNT_L})},function(e){throw i()({},e,{moduleName:u.L.ACCOUNT_L})})},payload:{moduleName:u.L.ACCOUNT_L,from:a}}}}("LOOKUP_DATA"),g=function(e){var t=Object(c.m)(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.G;return{types:t,shouldCallAPI:function(){return!!(e.trim&&e.trim().length>1)},callAPI:function(t){var o=2*a>200?200:2*a;return Object(l.a)("/api/v1/accounts/search?accountName="+e+"&from="+n+"&limit="+o,!1,{orgId:t.currentOrgId}).get().then(function(t){return i()({},Object(s.normalize)(204!==t.responseStatus&&t.data||[],Object(s.arrayOf)(Object(s.schema)(u.L.ACCOUNT_L))),{from:n,limit:a,isNextData:!!t.data&&t.data.length>a,searchStr:e,moduleName:u.L.ACCOUNT_L})},function(e){throw i()({},e,{moduleName:u.L.ACCOUNT_L})})},payload:{moduleName:u.L.ACCOUNT_L,from:n}}}}("LOOKUP_DATA"),v=function(e){var t=Object(c.m)(e);return function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments[4],c=arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:u.J;return{types:t,shouldCallAPI:function(){return!o||o.length>1},callAPI:function(t){var m="from="+a+"&limit="+(2*d>200?200:2*d)+"&",h=u.w+"products/search?"+m+"startsWith="+o+(n&&"allDepartment"!==n?"&departmentId="+n:""),p="";return p=o&&r?h+"&accountId="+r:o&&c?h+"&contactId="+c:r?u.w+"accounts/"+r+"/products?"+m+(n&&"allDepartment"!==n?"departmentId="+n:""):c?u.w+"contacts/"+c+"/products?"+m+(n&&"allDepartment"!==n?"departmentId="+n:""):o?""+h:u.w+"products?"+m+(n&&"allDepartment"!==n?"departmentIds="+n+"&":"")+(e?"viewId="+e+"&":"")+"sortBy=productName",Object(l.a)(p,!1,{orgId:t.currentOrgId}).get().then(function(e){return i()({},Object(s.normalize)(204!==e.responseStatus?e.data:[],Object(s.arrayOf)(Object(s.schema)(u.L.PRODUCT_L))),{from:a,limit:d,isNextData:!!e.data&&e.data.length>d,moduleName:u.L.PRODUCT_L,searchStr:o,accountId:r,contactId:c})},function(e){throw i()({},e,{moduleName:u.L.PRODUCT_L})})},payload:{moduleName:u.L.PRODUCT_L,from:a}}}}("LOOKUP_DATA"),_=function(e){var t=Object(c.m)(e);return function(e,n,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.K;return{types:t,callAPI:function(t){var r=2*o>200?200:2*o;return Object(l.a)(u.w+"tickets?from="+a+"&limit="+r+"&sortBy=-createdTime&include=contacts,products,assignee,isRead"+(e&&"allDepartment"!==e?"&departmentId="+e:"")+(n&&"default"!==n?"&viewId="+n:""),!1,{orgId:t.currentOrgId}).get().then(function(e){var t=Object(s.normalize)(204!==e.responseStatus&&e.data||[],Object(s.arrayOf)(Object(s.schema)(u.L.TICKET_L,{mapping:{contact:Object(s.schema)(u.L.CONTACT_L,{mapping:{account:Object(s.schema)(u.L.ACCOUNT_L)}}),assignee:Object(s.schema)(u.L.AGENT_L)}})));return i()({},t,{from:a,limit:o,isNextData:!!e.data&&e.data.length>o,moduleName:u.L.TICKET_L,viewId:n})},function(e){throw i()({},e,{moduleName:u.L.TICKET_L})})},payload:{moduleName:u.L.TICKET_L,from:a}}}}("LOOKUP_DATA"),C=function(e){var t=Object(c.m)(e);return function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.K;return{types:t,shouldCallAPI:function(){return!!(a.trim&&a.trim().length>1)},callAPI:function(t){var c={module:"tickets",pattern:"allDepartment"===e?"2":"1and2",queries:[{value:[e],condition:"is",fieldName:"departmentId"},{value:[a],condition:"starts with",fieldName:"Subject"}],from:o,limit:2*r>200?200:2*r};return Object(l.a)(u.w+"globalSearch",!1,{orgId:t.currentOrgId}).post("",c).then(function(e){var t=Object(s.normalize)(204!==e.responseStatus&&e.data||[],Object(s.arrayOf)(Object(s.schema)(u.L.TICKET_L,{mapping:{contact:Object(s.schema)(u.L.CONTACT_L,{mapping:{account:Object(s.schema)(u.L.ACCOUNT_L)}}),assignee:Object(s.schema)(u.L.AGENT_L)}})));return i()({},t,{from:o,limit:r,isNextData:!!e.data&&e.data.length>r,searchStr:a,viewId:n,moduleName:u.L.TICKET_L})},function(e){throw i()({},e,{moduleName:u.L.TICKET_L})})},payload:{moduleName:u.L.TICKET_L,from:o}}}}("LOOKUP_DATA")},1187:function(e,t,n){e.exports={listItemContainer:"LookupController-module__listItemContainer"}},1215:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(252),_=n(1136),C=n(1181),b=n(16),S=n(1183),y=n.n(S),I=n(1184),x=n.n(I),P=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=void 0===t?"":t,a=e.needSearch,o=void 0!==a&&a,r=e.onLookupClose,i=e.searchStr,l=void 0===i?"":i,c=e.onSearch,s=e.onSearchChange,u=e.searchPlaceHolder;return p.a.createElement(b.ResponsiveContainer,{align:"vertical",alignBox:"row",className:y.a.container+" "+x.a.container,elementMedia:{xs:""+x.a.extraSmall},isCover:!1,wrap:!0},p.a.createElement("div",{className:y.a.closeContainer},p.a.createElement(_.a,{onClose:r})),p.a.createElement(b.Box,{flexible:!0},p.a.createElement("div",{className:y.a.title},p.a.createElement(v.a,{text:n}))),o&&p.a.createElement(b.Box,{className:y.a.searchContainer+" "+x.a.searchContainer},p.a.createElement(C.a,{onSearch:c,searchStr:l,onChange:s,placeHolder:u})))}}]),t}(h.Component);t.a=P,P.propTypes={needSearch:g.a.bool,onLookupClose:g.a.func,onSearch:g.a.func,onSearchChange:g.a.func,searchPlaceHolder:g.a.string,searchStr:g.a.string,title:g.a.string}},1216:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(973),_=n(16),C=n(1078),b=n.n(C),S=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.name,a=e.src,o=e.onSelect,r=e.children,i=e.isPaidUser,l=e.isPortalUser,c=e.elementMedia;return p.a.createElement(_.ResponsiveContainer,{alignBox:"row",className:b.a.container,elementMedia:c,onClick:o,isCover:!1,align:"vertical",isParentBased:!0},p.a.createElement(_.Box,{className:""+b.a.avatar},p.a.createElement(v.a,{name:n,src:a,size:"xmedium",isPaid:i,isPortal:l})),p.a.createElement(_.Box,{flexible:!0},p.a.createElement("div",{className:""+b.a.title},t),p.a.createElement("div",{className:""+b.a.secondaryPanel},r)))}}]),t}(h.Component);t.a=S,S.propTypes={children:g.a.node,elementMedia:g.a.object,isPaidUser:g.a.bool,isPortalUser:g.a.bool,name:g.a.string,onSelect:g.a.func,src:g.a.string,title:g.a.string},S.defaultProps={isPaidUser:!1,isPortalUser:!1}},1217:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1218),g=n.n(f),v=n(233),_=n.n(v),C=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){return p.a.createElement("div",{className:g.a.container},p.a.createElement("div",{className:g.a.avatar},p.a.createElement(_.a,{shape:"circle",size:"large"})),p.a.createElement("div",{className:g.a.innerContainer},p.a.createElement(_.a,{size:"custom"}),p.a.createElement("div",{className:g.a.mt10},p.a.createElement(_.a,{size:"medium"}))))}}]),t}(h.Component);t.a=C},1218:function(e,t,n){e.exports={container:"LookupListStencils-module__container",avatar:"LookupListStencils-module__avatar",innerContainer:"LookupListStencils-module__innerContainer",mt10:"LookupListStencils-module__mt10"}},1250:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(1251),_=n.n(v),C=n(99),b=n.n(C),S=n(30),y=n(109),I=n(6),x=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.state={isActive:!1,isHoverd:!1},n.isIconHovered=!1,n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.handleClear=n.handleClear.bind(n),n.handleGetRef=n.handleGetRef.bind(n),n.handleTextBoxClick=n.handleTextBoxClick.bind(n),n}return m()(t,e),c()(t,[{key:"handleFocus",value:function(){var e=this.props.onFocus;e&&e(),this.setState({isActive:!0})}},{key:"handleBlur",value:function(){var e=this.props.onBlur;e&&e(),this.setState({isActive:!1})}},{key:"handleMouseEnter",value:function(){this.setState({isHoverd:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHoverd:!1})}},{key:"handleGetRef",value:function(e){this.textBox=e;var t=this.props.inputRef;t&&t(e)}},{key:"handleClear",value:function(){var e=this.props.onClear;e&&e(),this.textBox&&this.textBox.focus()}},{key:"handleTextBoxClick",value:function(){var e=this.props,t=e.isInputDisable,n=e.onClick,a=e.onSearch;n&&n(),t&&a&&a()}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,a=e.maxLength,o=e.placeHolder,r=e.size,i=e.onKeyUp,l=e.isReadOnly,c=e.disabled,s=e.onKeyDown,u=e.variant,d=e.website,m=e.value,h=void 0===m?"":m,f=e.needBorder,g=e.needClearIcon,v=e.needAddIcon,C=e.onChange,x=e.onAddClick,P=e.needSearchIcon,k=e.needWebIcon,L=e.onWebClick,O=e.onSearch,N=e.onTargetClick,T=e.dataId,E=this.state,A=E.isHoverd,R=E.isActive,w=h&&h.trim?h.trim():"";return p.a.createElement("div",{className:_.a.container+" "+(A||R?_.a.focused:""),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:N},p.a.createElement("div",{className:_.a.textBox},p.a.createElement(b.a,{size:r,variant:u,value:h,name:t,id:n,maxLength:a,placeHolder:o,onKeyUp:i,onFocus:this.handleFocus,onKeyDown:s,onChange:C,onBlur:this.handleBlur,onClick:this.handleTextBoxClick,isReadOnly:l,isDisabled:c,inputRef:this.handleGetRef,needBorder:f,dataId:T}),p.a.createElement("div",{className:_.a.line})),p.a.createElement("div",{className:""+_.a.iconContainer},k&&d&&d.trim()?p.a.createElement(y.a,{className:""+_.a.icon,href:Object(I.n)(d),target:"_blank"},p.a.createElement(S.TicketsFontIcon,{name:"chWeb",size:"14",onClick:L})):null,g&&w?p.a.createElement("span",{className:""+_.a.icon},p.a.createElement(S.OrganizationFontIcon,{name:"delete",size:"14",onClick:this.handleClear})):null,P?p.a.createElement("span",{className:""+_.a.icon},p.a.createElement(S.TopbandFontIcon,{name:"search",size:"13",onClick:O})):null,v?p.a.createElement("span",{className:_.a.icon+" "+_.a.addIcon},p.a.createElement(S.TopbandFontIcon,{name:"tpAdd",size:"12",isBold:!0,onClick:x})):null))}}]),t}(p.a.PureComponent);t.a=x,x.defaultProps={disabled:!1,maxLength:"250",needAddIcon:!1,needBorder:!0,needClearIcon:!1,needWebIcon:!1,size:"medium",variant:"default"},x.propTypes={dataId:g.a.string,disabled:g.a.bool,id:g.a.string,inputRef:g.a.func,isInputDisable:g.a.bool,isReadOnly:g.a.bool,maxLength:g.a.oneOfType([g.a.string,g.a.number]),name:g.a.string,needAddIcon:g.a.bool,needBorder:g.a.bool,needClearIcon:g.a.bool,needSearchIcon:g.a.bool,needWebIcon:g.a.bool,onAddClick:g.a.func,onBlur:g.a.func,onChange:g.a.func,onClear:g.a.func,onClick:g.a.func,onFocus:g.a.func,onKeyDown:g.a.func,onKeyUp:g.a.func,onSearch:g.a.func,onTargetClick:g.a.func,onWebClick:g.a.func,placeHolder:g.a.string,size:g.a.oneOf(["small","xmedium","medium"]),value:g.a.string,variant:g.a.oneOf(["primary","secondary","default"]),website:g.a.string}},1251:function(e,t,n){e.exports={container:"LookupTextBox-module__container",icon:"LookupTextBox-module__icon common-module__dflex common-module__alignVertical common-module__alignHorizontal",iconContainer:"LookupTextBox-module__iconContainer common-module__alignVertical",addIcon:"LookupTextBox-module__addIcon",focused:"LookupTextBox-module__focused",textBox:"LookupTextBox-module__textBox",line:"LookupTextBox-module__line"}},1252:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(64),_=n.n(v),C=n(16),b=n(1253),S=n.n(b),y=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.getRef=n.getRef.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n}return m()(t,e),c()(t,[{key:"getRef",value:function(e){var t=this.props,n=t.index,a=t.getRef,o=t.id;a&&a(e,n,o)}},{key:"handleClick",value:function(e){var t=this.props,n=t.onSelect,a=t.id,o=t.name,r=t.index;n&&n(a,o,r,e)}},{key:"handleMouseEnter",value:function(e){var t=this.props,n=t.onMouseEnter,a=t.id,o=t.name,r=t.index;n&&n(a,o,r,e)}},{key:"render",value:function(){var e=this.props,t=e.imageSrc,n=e.size,a=e.name,o=e.isHover,r=e.isActive,i=e.children,l=e.accountNameEle,c=e.autoHover;return p.a.createElement("div",{className:S.a.container+" "+(c?S.a.autoHover:"")+" "+(o?S.a.hover:"")+" "+(r?S.a.active:""),onClick:this.handleClick,ref:this.getRef},p.a.createElement(C.Container,{alignBox:"row",align:"vertical"},p.a.createElement(C.Box,null,p.a.createElement(_.a,{src:t,size:n,name:a})),p.a.createElement(C.Box,{flexible:!0},p.a.createElement("div",{className:S.a.innerContainer},p.a.createElement("div",{className:S.a.title},a),l))),i)}}]),t}(h.Component);t.a=y,y.propTypes={accountNameEle:g.a.node,autoHover:g.a.bool,children:g.a.any,getRef:g.a.func,id:g.a.string,imageSrc:g.a.string,index:g.a.string,isActive:g.a.bool,isHover:g.a.bool,name:g.a.string,onMouseEnter:g.a.func,onSelect:g.a.func,size:g.a.string},y.defaultProps={isActive:!1,isHover:!1,size:"medium"}},1253:function(e,t,n){e.exports={container:"LookupSuggestionItem-module__container",active:"LookupSuggestionItem-module__active",hover:"LookupSuggestionItem-module__hover",autoHover:"LookupSuggestionItem-module__autoHover",title:"LookupSuggestionItem-module__title common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",innerContainer:"LookupSuggestionItem-module__innerContainer"}},1254:function(e,t,n){"use strict";var a=n(38),o=n.n(a),r=n(12),i=n.n(r),l=n(9),c=n.n(l),s=n(10),u=n.n(s),d=n(13),m=n.n(d),h=n(14),p=n.n(h),f=n(0),g=n.n(f),v=n(1),_=n.n(v),C=n(154),b=n.n(C),S=n(80),y=n.n(S),I=n(72),x=n.n(I),P=n(201),k=n(1187),L=n.n(k);t.a=function(e){var t=function(t){function n(e){c()(this,n);var t=m()(this,(n.__proto__||i()(n)).call(this,e));return t.state={selectedIndex:""},t.APIsearchStr="",t.handleChange=t.handleChange.bind(t),t.handleIconClick=t.handleIconClick.bind(t),t.handleClear=t.handleClear.bind(t),t.handleSearch=t.handleSearch.bind(t),t.handleAdd=t.handleAdd.bind(t),t.handleWebClick=t.handleWebClick.bind(t),t.suggestionContainerRef=t.suggestionContainerRef.bind(t),t.handleGetSuggestionItemRef=t.handleGetSuggestionItemRef.bind(t),t.handleTextBoxRef=t.handleTextBoxRef.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.togglePopup=t.togglePopup.bind(t),t.handleGetNextOptions=t.handleGetNextOptions.bind(t),t.getVirtualizerComponent=t.getVirtualizerComponent.bind(t),t.handleTextBoxFocus=t.handleTextBoxFocus.bind(t),t.handleGetVirtualizerMethods=t.handleGetVirtualizerMethods.bind(t),t.handleAPISearch=Object(P.debounce)(t.handleAPISearch.bind(t),500),t}return p()(n,t),u()(n,[{key:"componentDidUpdate",value:function(e,t){t.selectedIndex;var n=this.props.isPopupOpen;this.state.selectedIndex,e.isPopupOpen&&!n&&(this.suggestionContainer&&(this.suggestionContainer.scrollTop=0),this.setState({selectedIndex:""}))}},{key:"handleAPISearch",value:function(e){var t=this.props,n=t.onSearchAPI,a=t.searchStr,o=void 0===a?"":a,r=t.needSuggestionBox;e&&o.trim()!==e.trim()&&r&&n&&n(e)}},{key:"handleChange",value:function(e){var t=this.props,n=t.onChange,a=t.isPopupOpen,o=t.closePopupOnly;n&&n(e),this.APIsearchStr=e,this.handleAPISearch(e),""===e&&a?o():a||""===e||this.togglePopup()}},{key:"handleIconClick",value:function(e){var t=this.props,n=t.onClear,a=t.onSearch,o=t.onWebClick,r=t.onAddClick,i=t.isPopupOpen,l=t.closePopupOnly,c={clear:n,search:a,add:o,web:r};c[e]&&c[e](),i&&l()}},{key:"handleClear",value:function(){this.APIsearchStr="",this.handleIconClick("clear")}},{key:"handleSearch",value:function(){this.handleIconClick("search")}},{key:"handleAdd",value:function(){this.handleIconClick("add")}},{key:"handleWebClick",value:function(){this.handleIconClick("web")}},{key:"suggestionContainerRef",value:function(e){var t=this.props.getContainerRef;this.suggestionContainer=e,t&&t(e)}},{key:"handleGetSuggestionItemRef",value:function(e,t,n){this["suggestion_"+n]=e}},{key:"handleTextBoxRef",value:function(e){var t=this.props,n=t.getRef,a=t.getTargetRef;this.textBox=e,a&&a(e),n&&n(e)}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=this.props,a=n.isPopupOpen,o=n.closePopupOnly,r=n.suggestionItems,i=void 0===r?[]:r,l=n.onSelect,c=n.moduleData,s=this.state.selectedIndex;if(a&&(38===t||40===t)&&e.preventDefault&&e.preventDefault(),38===t&&a&&i.length){if(0===s)return;""!==s&&(s-=1);var u=i[s];u&&l&&l(u,c[u]),this.setState({selectedIndex:s})}else if(40===t&&a&&i.length){if(s===i.length-1)return;""===s?s=0:s+=1;var d=i[s];d&&l&&l(d,c[d]),this.setState({selectedIndex:s})}else if(13===t){var m=i[s];a&&m&&l&&l(m,c[m]),m&&a&&o(e)}else 27===t&&o(e);if(40===t||38===t)if(40===t){var h=this.isElementVisibleOnViewport(s+1),p=this.getSizeForIndex(s).height,f=-1*(this.suggestionContainer.clientHeight-p);h||this.scrollToIndex(s,f,{speed:0})}else this.isElementVisibleOnViewport(s)||this.scrollToIndex(s,0,{speed:0})}},{key:"togglePopup",value:function(e){var t=this.props,n=t.togglePopup;!t.isReadOnly&&n(e,"bottomCenter")}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.getNextItems;e.isNextItems&&t&&t()}},{key:"getVirtualizerComponent",value:function(e){var t=this,n=this.props,a=n.position,r=(n.isPopupOpen,n.isPopupReady),i=n.removeClose;return g.a.createElement(x.a,o()({},e,{getRef:function(n){t.suggestionContainerRef(n),e.eleRef(n)},className:L.a.listItemContainer,boxPosition:a,isActive:r,onClick:i,isArrow:!1}))}},{key:"handleTextBoxFocus",value:function(){this.textBox&&this.textBox.focus&&this.textBox.focus()}},{key:"handleGetVirtualizerMethods",value:function(e){var t=e.scrollToIndex,n=e.isElementVisibleOnViewport,a=e.getSizeForIndex;this.scrollToIndex=t,this.isElementVisibleOnViewport=n,this.getSizeForIndex=a}},{key:"render",value:function(){return g.a.createElement(e,o()({},this.props,this.state,{APIsearchStr:this.APIsearchStr,onChange:this.handleChange,onClear:this.handleClear,onSearch:this.handleSearch,onWebClick:this.handleWebClick,onAddClick:this.handleAdd,getNextItems:this.handleGetNextOptions,togglePopup:this.togglePopup,onKeyDown:this.handleKeyDown,getVirtualizerComponent:this.getVirtualizerComponent,suggestionContainerRef:this.suggestionContainerRef,getSuggestionItemRef:this.handleGetSuggestionItemRef,getTextBoxRef:this.handleTextBoxRef,textBoxFocus:this.handleTextBoxFocus,getVirtualizerMethods:this.handleGetVirtualizerMethods}))}}]),n}(g.a.Component);return t.propTypes={suggestionItems:_.a.array,moduleData:_.a.object,onSearchAPI:_.a.func,onChange:_.a.func,onClear:_.a.func,onSearch:_.a.func,isNextItems:_.a.bool,getNextItems:_.a.func,onAddClick:_.a.func,onWebClick:_.a.func,getRef:_.a.func,searchStr:_.a.string,onSelect:_.a.func,needSuggestionBox:_.a.bool,isPopupOpen:_.a.bool,togglePopup:_.a.func,closePopupOnly:_.a.func,getTargetRef:_.a.func,getContainerRef:_.a.func,position:_.a.string,isPopupReady:_.a.bool,removeClose:_.a.func},b()(y()(t),e)}},1320:function(e,t,n){e.exports={lookupTabs:"ProductLookup-module__lookupTabs",section:"ProductLookup-module__section",emptyPageContainer:"ProductLookup-module__emptyPageContainer",extraSmall:"ProductLookup-module__extraSmall"}},1321:function(e,t,n){e.exports={inbMiddle:"ProductList-module__inbMiddle",produtObject:"ProductList-module__produtObject ProductList-module__inbMiddle",productKey:"ProductList-module__productKey ProductList-module__inbMiddle",productValue:"ProductList-module__productValue",extraSmall:"ProductList-module__extraSmall"}},1492:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(8),_=n(1216),C=n(1078),b=n.n(C),S=n(1321),y=n.n(S),I=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n}return m()(t,e),c()(t,[{key:"handleSelect",value:function(){var e=this.props,t=e.onSelect,n=e.id,a=e.title;t&&t(n,a)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.name,a=e.productCode,o=e.unitPrice,r=[];return a&&r.push({key:v.f.getI18NValue("support.productCode"),value:a}),o&&r.push({key:v.f.getI18NValue("Unit Price"),value:o}),p.a.createElement(_.a,{title:t,name:n,onSelect:this.handleSelect,elementMedia:{xs:b.a.extraSmall+" "+y.a.extraSmall}},r.length?r.map(function(e,t){var n=e||{},a=n.key,o=void 0===a?"":a,r=n.value,i=void 0===r?"":r;return p.a.createElement("div",{className:y.a.produtObject,key:t},p.a.createElement("span",{className:y.a.productKey},o),p.a.createElement("span",{className:y.a.productValue}," ",i))}):null)}}]),t}(h.Component);t.a=I,I.propTypes={id:g.a.string,name:g.a.string,onSelect:g.a.func,productCode:g.a.string,title:g.a.string,unitPrice:g.a.string}},1785:function(e,t,n){"use strict";var a=n(38),o=n.n(a),r=n(12),i=n.n(r),l=n(9),c=n.n(l),s=n(10),u=n.n(s),d=n(13),m=n.n(d),h=n(14),p=n.n(h),f=n(0),g=n.n(f),v=n(1),_=n.n(v),C=n(8),b=n(984),S=n(16),y=n(244),I=n(81),x=n(1215),P=n(245),k=n(1492),L=n(1088),O=n(1217),N=n(1320),T=n.n(N),E=n(160),A=n.n(E),R=function(e){function t(e){c()(this,t);var n=m()(this,(t.__proto__||i()(t)).call(this,e)),a=e.accountId,o=e.contactId;return n.state={searchStr:"",selectedTab:a||o?"RELATED":"ALL"},n.renderListItem=n.renderListItem.bind(n),n.handleSearchChange=n.handleSearchChange.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleSelect=n.handleSelect.bind(n),n.handleGetNextOptions=n.handleGetNextOptions.bind(n),n.getVirtualizerComponent=n.getVirtualizerComponent.bind(n),n.handleAllProductSelect=n.handleAllProductSelect.bind(n),n.handleRelatedProductSelect=n.handleRelatedProductSelect.bind(n),n}return p()(t,e),u()(t,[{key:"handleSearchChange",value:function(e){this.setState({searchStr:e})}},{key:"handleSearch",value:function(){var e=this.props.onSearch,t=this.state.searchStr;e&&e(t)}},{key:"handleSelect",value:function(e){var t=this.props.onProductSelect;t&&t(e)}},{key:"handleGetNextOptions",value:function(){var e=this.props,t=e.isNextProducts,n=e.getNextProducts;t&&n&&n()}},{key:"handleAllProductSelect",value:function(){var e=this.props,t=e.onSelectTab,n=e.searchStr,a=this.state.selectedTab,o=n.trim();t&&("ALL"!==a||o)&&(this.setState({selectedTab:"ALL",searchStr:""}),t&&t("ALL"))}},{key:"handleRelatedProductSelect",value:function(){var e=this.props,t=e.onSelectTab,n=e.contactId,a=e.accountId,o=e.searchStr,r=this.state.selectedTab,i=o.trim();(n||a)&&t&&("RELATED"!==r||i)&&(this.setState({selectedTab:"RELATED",searchStr:""}),t("RELATED"))}},{key:"renderListItem",value:function(e){var t=e.index,n=e.style,a=e.ref,o=this.props,r=o.products[o.productItems[t]]||{},i=r.productName,l=r.unitPrice,c=r.productCode,s=r.id;return s?g.a.createElement("div",{ref:a,style:n},g.a.createElement(k.a,{title:i,id:s,name:i,unitPrice:l,onSelect:this.handleSelect,productCode:c})):null}},{key:"getVirtualizerComponent",value:function(e){return g.a.createElement(S.ResponsiveContainer,o()({eleRef:e.eleRef},e,{alignBox:"column",className:""+T.a.section,elementMedia:{}}))}},{key:"render",value:function(){var e=this.props,t=e.productItems,n=void 0===t?[]:t,a=e.isLoading,o=e.onLookupClose,r=e.moduleSingularName,i=e.modulePluralName,l=e.needOtherProductsTab,c=e.contactId,s=e.accountId,u=e.accountPluralName,d=e.contactPluralName,m=e.searchStr,h=e.isActive,p=this.state,f=p.searchStr,v=void 0===f?"":f,_=p.selectedTab,k=C.f.getI18NValue("support.form.select.module",r),N="";N=s?C.f.getI18NValue("support.related.products.to",[i,u]):c?C.f.getI18NValue("support.related.products.to",[i,d]):C.f.getI18NValue("support.related.noentity",i);var E=n.length?g.a.createElement(b.a,{renderRow:this.renderListItem,itemsCount:n.length,estimatedItemSize:75,overScanCount:2,component:this.getVirtualizerComponent,onReachBoundary:this.handleGetNextOptions,handleShouldUpdate:!0}):g.a.createElement(S.ResponsiveContainer,{alignBox:"column",className:""+T.a.section,elementMedia:{}},a?g.a.createElement("div",null,g.a.createElement(O.a,null),g.a.createElement(O.a,null),g.a.createElement(O.a,null),g.a.createElement(O.a,null)):g.a.createElement("div",{className:T.a.emptyPageContainer},g.a.createElement(L.a,{type:m?"search":"product",title:m?C.f.getI18NValue("support.no.matches.found"):C.f.getI18NValue("support.module.empty.message",i)})));return g.a.createElement(y.a,{isShow:h,elementMedia:{xs:A.a.extraSmall+" "+T.a.extraSmall,sm:""+A.a.small,md:""+A.a.medium,lg:""+A.a.large,xl:""+A.a.extraLarge}},g.a.createElement(x.a,{title:k,needSearch:!0,onLookupClose:o,searchStr:v,onSearchChange:this.handleSearchChange,onSearch:this.handleSearch,searchPlaceHolder:C.f.getI18NValue("crm.label.search")}),g.a.createElement(P.a,{alignBox:"row"},g.a.createElement(I.TabWrapper,{defaultTab:_,type:"delta",needBorder:!0,isAnimate:!0,hookToDisableInternalState:!0},g.a.createElement(I.Tabs,{className:T.a.lookupTabs},g.a.createElement(I.Tab,{id:"ALL",onClick:this.handleAllProductSelect},g.a.createElement("span",null,C.f.getI18NValue("All Products",i))),l?g.a.createElement(I.Tab,{id:"RELATED",onClick:this.handleRelatedProductSelect},g.a.createElement("span",null,N)):null),g.a.createElement(I.TabContentWrapper,null,g.a.createElement(I.TabContent,{id:"ALL"},E),g.a.createElement(I.TabContent,{id:"RELATED"},E)))))}}]),t}(f.Component);t.a=R,R.propTypes={accountId:_.a.string,accountPluralName:_.a.string,contactId:_.a.string,contactPluralName:_.a.string,getNextProducts:_.a.func,isActive:_.a.bool,isLoading:_.a.bool,isNextProducts:_.a.bool,isShow:_.a.bool,modulePluralName:_.a.string,moduleSingularName:_.a.string,needOtherProductsTab:_.a.bool,onLookupClose:_.a.func,onProductSelect:_.a.func,onSearch:_.a.func,onSelectTab:_.a.func,productItems:_.a.array,products:_.a.object,searchStr:_.a.string},R.defaultProps={isLoading:!1,isNextProducts:!1,needOtherProductsTab:!0,isShow:!1}},1786:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(2),o=n.n(a),r=n(15),i=n(6),l=n(7),c=n(3),s=function(e){return{types:Object(i.m)(c.L.PRODUCT),shouldCallAPI:function(){return!!e},callAPI:function(t){return Object(r.a)(c.w+"products/"+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return o()(Object(l.normalize)(e,Object(l.schema)(c.L.PRODUCT_L)),{moduleName:c.L.PRODUCT_L})})}}}},1934:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(72),_=n.n(v),C=n(1250),b=n(1252),S=function(e){function t(){return i()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.imageSrc,n=e.productName,a=e.isHover,o=e.isActive,r=e.onSelect,i=e.getRef,l=e.onMouseEnter,c=e.productId,s=e.autoHover;return p.a.createElement(b.a,{imageSrc:t,name:n,isHover:a,isActive:o,onSelect:r,getRef:i,onMouseEnter:l,id:c,autoHover:s})}}]),t}(h.PureComponent),y=S;S.propTypes={autoHover:g.a.bool,getRef:g.a.func,imageSrc:g.a.string,isActive:g.a.bool,isHover:g.a.bool,onMouseEnter:g.a.func,onSelect:g.a.func,productId:g.a.string,productName:g.a.string},S.defaultProps={isActive:!1,isHover:!1};var I=n(1254),x=n(984),P=n(1187),k=n.n(P),L=n(951),O=n.n(L),N=n(3),T=function(e){function t(e){i()(this,t);var n=u()(this,(t.__proto__||o()(t)).call(this,e));return n.handleSelect=n.handleSelect.bind(n),n.renderListItem=n.renderListItem.bind(n),n}return m()(t,e),c()(t,[{key:"handleSelect",value:function(e){var t=this.props,n=t.onSelect,a=t.moduleData,o=t.closePopupOnly,r=t.textBoxFocus;n&&n(e,a[e]),o(),r()}},{key:"renderListItem",value:function(e){var t=e.index,n=e.style,a=e.ref,o=this.props,r=o.moduleData,i=o.suggestionItems,l=o.getSuggestionItemRef,c=o.selectedIndex,s=r[i[t]]||{},u=s.productName,d=s.id;return d?p.a.createElement("div",{ref:a,style:n},p.a.createElement(y,{productId:d,productName:u,onSelect:this.handleSelect,getRef:l,isActive:t===c,autoHover:!0})):null}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.id,a=e.suggestionItems,o=e.needBorder,r=e.maxLength,i=e.isReadOnly,l=e.needClearIcon,c=e.needSearchIcon,s=e.placeHolder,u=e.disabled,d=e.needSuggestionBox,m=e.position,h=e.isPopupOpen,f=e.isPopupReady,g=e.removeClose,v=e.isFetching,b=e.getVirtualizerComponent,S=e.getNextItems,y=e.onChange,I=e.onClear,P=e.onSearch,L=e.getVirtualizerMethods,T=e.suggestionContainerRef,E=e.getTextBoxRef,A=e.needAddIcon,R=e.emptyMessage,w=e.isInputDisable,B=e.onBlur,D=e.onKeyDown,j=e.searchStr,z=void 0===j?"":j,F=e.APIsearchStr,H=void 0===F?"":F,U=e.dataId,M=!(!d||!v),V=!(!d||v||z.trim()!==H.trim()||!a.length),G=!(V||M||!R||z.trim()!==H.trim());return p.a.createElement("div",{className:O.a.fieldContainer},p.a.createElement(C.a,{value:t,id:n,size:"xmedium",variant:"primary",textBoxType:"text",onChange:y,inputRef:E,needBorder:o,maxLength:r,isReadOnly:i,needClearIcon:l,needSearchIcon:c,needAddIcon:A,placeHolder:s,disabled:u,onKeyDown:D,onTargetClick:g,onClear:I,onSearch:P,isInputDisable:w,onBlur:B,dataId:U}),M?p.a.createElement(_.a,{className:k.a.listItemContainer,getRef:T,boxPosition:m,isActive:h&&f,onClick:g,isArrow:!1},p.a.createElement("div",null,"Searching...")):null,V?p.a.createElement(x.a,{renderRow:this.renderListItem,estimatedItemSize:125,itemsCount:a.length,overScanCount:N.k.OVER_SCAN,component:b,onReachBoundary:S,getPublicMethods:L,handleShouldUpdate:!0}):null,G?p.a.createElement(_.a,{className:k.a.listItemContainer,getRef:T,boxPosition:m,isActive:h&&f,onClick:g,isArrow:!1},p.a.createElement("div",null,R)):null)}}]),t}(h.Component);T.propTypes={suggestionItems:g.a.array,moduleData:g.a.object,disabled:g.a.bool,id:g.a.string,isFetching:g.a.bool,isReadOnly:g.a.bool,maxLength:g.a.string,needBorder:g.a.bool,needClearIcon:g.a.bool,needSearchIcon:g.a.bool,needAddIcon:g.a.bool,needSuggestionBox:g.a.bool,onSelect:g.a.func,placeHolder:g.a.string,value:g.a.string,emptyMessage:g.a.string,isInputDisable:g.a.bool,onBlur:g.a.func,searchStr:g.a.func,APIsearchStr:g.a.func,getNextItems:g.a.func,onChange:g.a.func,onClear:g.a.func,onSearch:g.a.func,selectedIndex:g.a.oneOfType([g.a.number,g.a.string]),onKeyDown:g.a.func,getVirtualizerComponent:g.a.func,getVirtualizerMethods:g.a.func,suggestionContainerRef:g.a.func,getSuggestionItemRef:g.a.func,getTextBoxRef:g.a.func,textBoxFocus:g.a.func,isPopupOpen:g.a.bool,closePopupOnly:g.a.func,position:g.a.string,isPopupReady:g.a.bool,removeClose:g.a.func,dataId:g.a.string},T.defaultProps={isFetching:!1,needSuggestionBox:!0,suggestionItems:[]};t.a=Object(I.a)(T)},233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(0)),r=l(n(1)),i=l(n(527));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.shape,n=e.size,a=e.palette;return n="rect"===t?i.default[n]:i.default["c"+n],t="rect"===t?i.default.rectangular:i.default.circle,o.default.createElement("div",{className:t+" "+n+" "+i.default[a]})}}]),t}();t.default=c,c.propTypes={palette:r.default.oneOf(["primary","secondary"]),shape:r.default.oneOf(["rect","circle"]),size:r.default.oneOf(["small","medium","large","default"])},c.defaultProps={palette:"primary",shape:"rect",size:"medium"},c.propTypesDescription={shape:" ",size:" ",palette:" "}},527:function(e,t,n){e.exports={stencil:"Stencils-module__stencil",placeHolderShimmer:"Stencils-module__placeHolderShimmer",rectangular:"Stencils-module__rectangular Stencils-module__stencil",primary:"Stencils-module__primary",secondary:"Stencils-module__secondary",small:"Stencils-module__small",default:"Stencils-module__default",medium:"Stencils-module__medium",large:"Stencils-module__large",circle:"Stencils-module__circle Stencils-module__stencil",clarge:"Stencils-module__clarge",cmedium:"Stencils-module__cmedium",cdefault:"Stencils-module__cdefault",csmall:"Stencils-module__csmall"}},528:function(e,t,n){e.exports={virtualizer:"Virtualizer__virtualizer"}},574:function(e,t,n){"use strict";n.r(t),function(e){var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(26),_=n(8),C=n(359),b=n.n(C),S=n(1934),y=n(1785),I=n(1185),x=n(1786),P=n(3),k=function(t){function n(e){i()(this,n);var t=u()(this,(n.__proto__||o()(n)).call(this,e));return t.state={isShowLookup:!1},t.handleGetProducts=t.handleGetProducts.bind(t),t.handleLookupShow=t.handleLookupShow.bind(t),t.handleLookupHide=t.handleLookupHide.bind(t),t.handleGetNextProducts=t.handleGetNextProducts.bind(t),t.handleSelectProduct=t.handleSelectProduct.bind(t),t.handleProductSearch=t.handleProductSearch.bind(t),t.handleValueChange=t.handleValueChange.bind(t),t.handleControllerSearch=t.handleControllerSearch.bind(t),t.handleBlur=t.handleBlur.bind(t),t.handleSelectTab=t.handleSelectTab.bind(t),t}return m()(n,t),c()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedId,n=e.products,a=e.getProductInfo;t&&!n[t]&&a(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selectedId,a=t.products,o=t.getProductInfo;e.selectedId!==n&&n&&!a[n]&&o(n)}},{key:"handleLookupShow",value:function(){var e=this.props,t=e.accountId,n=e.contactId;this.setState({isShowLookup:!0}),this.handleGetProducts("",t,n)}},{key:"handleLookupHide",value:function(){this.setState({isShowLookup:!1})}},{key:"handleGetProducts",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.props,r=o.deptId,i=o.getProductLookupList;i("",r,a,e,t,n)}},{key:"handleGetNextProducts",value:function(){var e=this.props,t=e.productDataFrom,n=e.productSearchStr,a=e.accountId,o=e.contactId,r=t+P.J;this.handleGetProducts(n,a,o,r)}},{key:"handleProductSearch",value:function(e){var t=this.props,n=t.accountId,a=t.contactId;this.handleGetProducts(e,n,a)}},{key:"handleSelectProduct",value:function(e){var t=this.props,n=t.onSelect,a=t.isReadOnly;this.state.isShowLookup&&this.setState({isShowLookup:!1}),!a&&n&&n(e)}},{key:"handleControllerSearch",value:function(e){!this.props.isReadOnly&&this.handleGetProducts(e)}},{key:"handleValueChange",value:function(e){var t=this.props,n=t.onChange;!t.isReadOnly&&n&&n(e)}},{key:"handleBlur",value:function(){var t=this.props,n=t.onBlur,a=t.isCreateNew,o=t.isValueClearOnblur,r=t.onChange,i=t.selectedId,l=t.needCreate,c=t.isReadOnly;!i&&(!a||!l&&o)&&(!c&&r(""),e.closeGroupPopups("global")),n&&n()}},{key:"handleSelectTab",value:function(e){var t=this.props,n=t.contactId,a=t.accountId;"ALL"===e?this.handleGetProducts():"RELATED"===e&&this.handleGetProducts("",a,n)}},{key:"render",value:function(){var e=this.state.isShowLookup,t=this.props,n=t.products,a=t.productIds,o=t.isFetching,r=t.isNextData,i=t.modulePluralName,l=t.moduleSingularName,c=t.accountPluralName,s=t.contactPluralName,u=t.needLookupBox,d=t.isDisabled,m=t.accountId,h=t.contactId,f=t.id,g=t.isReadOnly,v=t.maxLength,C=t.needSuggestionBox,I=t.placeHolder,x=t.needClearIcon,k=t.needSearchIcon,L=(t.needAddIcon,t.isInputDisable),O=t.selectedId,N=t.value,T=t.getRef,E=t.onClear,A=t.productDataFrom,R=t.productSearchStr,w=t.needFetch,B=(t.isCreateNew,t.i18n),D=t.dataId,j=(n[O]||{}).productName,z=Object(_.e)(B,"support.form.product.not.found",[i,R]);return C=!g&&C,u=!g&&u,p.a.createElement("div",null,p.a.createElement(S.a,{id:f,moduleData:n,suggestionItems:a,disabled:d,needSearchIcon:!g&&k,needClearIcon:!g&&x,needAddIcon:!1,onSearch:this.handleLookupShow,isFetching:1===A&&o,isReadOnly:g,maxLength:v,needSuggestionBox:C,onSelect:this.handleSelectProduct,placeHolder:I,isNextItems:r,getNextItems:this.handleGetNextProducts,onSearchAPI:this.handleControllerSearch,onChange:this.handleValueChange,isInputDisable:L,value:O?j:N,onBlur:this.handleBlur,getRef:T,onClear:E,searchStr:R,needFetch:w,emptyMessage:z,dataId:D}),p.a.createElement(b.a,{portalId:P.I},p.a.createElement(y.a,{isActive:e&&u,products:n,productItems:a,getNextProducts:this.handleGetNextProducts,isLoading:o,isNextProducts:r,modulePluralName:i,moduleSingularName:l,onProductSelect:this.handleSelectProduct,onLookupClose:this.handleLookupHide,onSearch:this.handleProductSearch,onSelectTab:this.handleSelectTab,searchStr:R,accountId:m,contactId:h,accountPluralName:c,contactPluralName:s})))}}]),n}(h.Component);k.propTypes={id:g.a.string,getRef:g.a.func,isDisabled:g.a.bool,isReadOnly:g.a.bool,maxLength:g.a.oneOfType([g.a.string,g.a.number]),needClearIcon:g.a.bool,needAddIcon:g.a.bool,needLookupBox:g.a.bool,needSearchIcon:g.a.bool,needSuggestionBox:g.a.bool,onChange:g.a.func,value:g.a.func,onSelect:g.a.func,selectedId:g.a.string,isValueClearOnblur:g.a.bool,isInputDisable:g.a.bool,accountId:g.a.string,contactId:g.a.string,deptId:g.a.string,placeHolder:g.a.string,onBlur:g.a.func,onClear:g.a.func,needFetch:g.a.bool,needCreate:g.a.bool,getProductLookupList:g.a.func,products:g.a.object,productIds:g.a.array,isFetching:g.a.bool,isNextData:g.a.bool,modulePluralName:g.a.string,moduleSingularName:g.a.string,productDataFrom:g.a.number,productSearchStr:g.a.string,isCreateNew:g.a.bool,accountPluralName:g.a.string,contactPluralName:g.a.string,i18n:g.a.object,getProductInfo:g.a.func,dataId:g.a.string},k.defaultProps={isCreateNew:!0,isDisabled:!1,isReadOnly:!1,needAddIcon:!1,needClearIcon:!0,needFetch:!0,needLookupBox:!0,needSearchIcon:!0,needSuggestionBox:!0},t.default=Object(v.connect)(function(e){var t=e.module,n=e.productLookup,a=e.moduleMeta,o=e.myInfo,r=e.i18n,i=o.profileId,l=t.product,c=t.profile,s=a.products||{},u=s.singularLabel,d=void 0===u?"":u,m=s.pluralLabel,h=void 0===m?"":m,p=a.accounts.pluralLabel,f=void 0===p?"":p,g=a.contacts.pluralLabel,v=void 0===g?"":g,_=(c[i]||{}).permissions,C=((void 0===_?{}:_).products||{}).create,b=n.data,S=n.isFetching,y=n.isNextData,I=n.from,x=n.searchStr;return{products:l,productIds:b=b.slice(0,I-1+P.J),isFetching:S,isNextData:y,productDataFrom:I,productSearchStr:x,isCreateNew:C,moduleSingularName:d,modulePluralName:h,accountPluralName:f,contactPluralName:v,i18n:r}},{getProductLookupList:I.f,getProductInfo:x.a})(k)}.call(this,n(68))},951:function(e,t,n){e.exports={container:"Fields-module__container",fieldContainer:"Fields-module__fieldContainer",checkbox:"Fields-module__checkbox common-module__dflex common-module__alignFend",disabled:"Fields-module__disabled common-module__disabled",inblk:"Fields-module__inblk",radio:"Fields-module__radio",duration:"Fields-module__duration",flex:"Fields-module__flex common-module__dflex",periodContainer:"Fields-module__periodContainer common-module__dflex common-module__flexrow common-module__flexwrap"}},973:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(9),i=n.n(r),l=n(10),c=n.n(l),s=n(13),u=n.n(s),d=n(14),m=n.n(d),h=n(0),p=n.n(h),f=n(1),g=n.n(f),v=n(977),_=n.n(v),C=n(64),b=n.n(C),S=n(30),y=function(e){function t(e){return i()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return m()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.name,a=e.size,o=e.onClick,r=e.title,i=e.isPaid,l=e.isPortal,c=e.dataId;return p.a.createElement("div",{className:_.a.container+" "+_.a[a],"data-id":c||n},i?p.a.createElement("span",{className:_.a.paid},p.a.createElement(S.TopbandFontIcon,{name:"paiduser",size:"small"})):"",l?p.a.createElement("span",{className:_.a.portal},p.a.createElement(S.CustomersFontIcon,{name:"globe1",size:"small"})):"",p.a.createElement(b.a,{src:t,name:n,title:r,onClick:o,size:a}))}}]),t}(p.a.Component);t.a=y,y.defaultProps={size:"medium"},y.propTypes={dataId:g.a.string,isPaid:g.a.bool,isPortal:g.a.bool,name:g.a.string,onClick:g.a.func,size:g.a.string,src:g.a.string,title:g.a.string}},977:function(e,t,n){e.exports={container:"AvatarUser-module__container common-module__dInflex",paid:"AvatarUser-module__paid common-module__middle",portal:"AvatarUser-module__portal common-module__middle",small:"AvatarUser-module__small",xsmall:"AvatarUser-module__xsmall",medium:"AvatarUser-module__medium",xmedium:"AvatarUser-module__xmedium",large:"AvatarUser-module__large",xlarge:"AvatarUser-module__xlarge"}},984:function(e,t,n){"use strict";var a=n(38),o=n.n(a),r=n(71),i=n.n(r),l=n(2),c=n.n(l),s=n(5),u=n.n(s),d=n(12),m=n.n(d),h=n(9),p=n.n(h),f=n(10),g=n.n(f),v=n(13),_=n.n(v),C=n(14),b=n.n(C),S=n(0),y=n.n(S),I=n(1),x=n.n(I),P=n(3),k=n(930),L=n(131),O=function(e){function t(e){p()(this,t);var n=_()(this,(t.__proto__||m()(t)).call(this,e));return n.onReachBoundary=n.onReachBoundary.bind(n),n.getPublicMethods=n.getPublicMethods.bind(n),n.onScroll=n.onScroll.bind(n),n.renderRow=n.renderRow.bind(n),n.onScroll=Object(L.a)(n.onScroll,700),n}return b()(t,e),g()(t,[{key:"renderRow",value:function(e){var t=e.index,n=e.ref,a=e.style;return this.props.renderRow({index:t,ref:n,style:a})}},{key:"getPublicMethods",value:function(e){var t=this.props.getPublicMethods,n=e.getSizeAndPositionOfElement;this.getSizeAndPositionOfElement=n,e.getSizeForIndex=n,t&&t(e)}},{key:"onScroll",value:function(e,t){var n=this.props,a=n.onScroll,o=(n.name,n.routingState),r=void 0===o?{}:o,l=P.k.SESSION_STORE_KEY,s=e.viewportRange.from,d=this.getSizeAndPositionOfElement(s).offsetTop,m=e.scrollTop-d,h=u()({},r.key,{extraOffset:m,index:s}),p=JSON.parse(sessionStorage.getItem(l)||"{}"),f=c()({},p,h);sessionStorage.setItem(l,i()(f)),a&&a()}},{key:"onReachBoundary",value:function(e){var t=this.props.onReachBoundary,n=P.k,a=e.to,o=e.direction===n.FORWARD_KEY;t&&t({scrollType:o?"forward":"backward",pageType:"fetch",fetchRecordIndex:a})}},{key:"render",value:function(){var e,t=this.props,n=t.containerClassName,a=t.itemsCount,r=t.throbberGetter,i=t.estimatedItemSize,l=t.overScanCount,c=t.component,s=t.className,d=t.isElementsFixedHeight,m=t.isElementsFixedWidth,h=t.scrollDirection,p=t.emptyViewGetter,f=t.dataId,g=t.containerProps;return y.a.createElement(k.a,o()((e={isElementsFixedHeight:d,isElementsFixedWidth:m,className:n,elementRenderer:this.renderRow,elementsCount:a,loadingElementRenderer:r,estimatedItemSize:i,onScroll:this.onScroll,scrollThreshold:l,onScrollThresholdReach:this.onReachBoundary,containerType:c},u()(e,"className",s),u()(e,"getExposedPublicMethods",this.getPublicMethods),u()(e,"scrollDirection",h),u()(e,"emptyContainerRenderer",p),u()(e,"dataId",f),e),g))}}]),t}(S.Component);t.a=O,O.propTypes={className:x.a.string,component:x.a.elementType,containerClassName:x.a.string,containerProps:x.a.object,dataId:x.a.string,emptyViewGetter:x.a.node,estimatedItemSize:x.a.number,getPublicMethods:x.a.func,isElementsFixedHeight:x.a.bool,isElementsFixedWidth:x.a.bool,itemsCount:x.a.number,name:x.a.string,onReachBoundary:x.a.func,onScroll:x.a.func,overScanCount:x.a.number,renderRow:x.a.func,routingState:x.a.object,scrollDirection:x.a.oneOf(["vertical","horizontal"]),throbberGetter:x.a.func}}}]);