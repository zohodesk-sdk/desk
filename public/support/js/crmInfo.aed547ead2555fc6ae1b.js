(window.deskappJsonp=window.deskappJsonp||[]).push([[64],{1003:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a(0)),s=r(a(1)),l=r(a(1011)),c=r(a(151));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=a.handleChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"handleChange",value:function(e){var t=this.props,a=t.onChange,n=t.value;a&&a(n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.value,s=e.checked,r=e.disabled,i=e.text,m=e.labelPalette,d=e.active,u=e.size,f=e.labelSize,p=e.dataId,h=r?l.default.disabled:l.default.pointer,g=d?l.default.active:"";return o.default.createElement("span",{className:l.default.container+" "+h+" "+(i?l.default.layout:l.default.basic),onClick:this.handleChange,"data-id":p},o.default.createElement("input",{type:"radio",id:t,className:l.default.input+"  "+(s?l.default.checked:""),name:a,value:n,checked:s,disabled:r}),o.default.createElement("label",{className:g+" "+l.default[u]+" "+(i?l.default.layoutshrink:"")}),i&&o.default.createElement("span",{className:l.default.text},o.default.createElement(c.default,{text:i,palette:m,size:f,type:"title",clipped:!0})))}}]),t}();t.default=i,i.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",size:"medium",dataId:"RadioComp"},i.propTypes={active:s.default.bool,checked:s.default.bool,dataId:s.default.string,disabled:s.default.bool,id:s.default.string.isRequired,labelPalette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.default.oneOf(["small","medium","large"]),name:s.default.string,onChange:s.default.func,size:s.default.oneOf(["small","medium"]),text:s.default.string,value:s.default.string},i.propTypesDescription={checked:" ",disabled:" ",active:" ",labelPalette:" ",id:" ",name:" ",value:" ",text:" ",size:" ",labelSize:" ",onChange:" "}},1011:function(e,t,a){e.exports={container:"Radio-module__container common-module__offSelection",layout:"Radio-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"Radio-module__basic",input:"Radio-module__input",disabled:"Radio-module__disabled common-module__disabled",pointer:"Radio-module__pointer",small:"Radio-module__small",medium:"Radio-module__medium",layoutshrink:"Radio-module__layoutshrink common-module__flexshrink",text:"Radio-module__text common-module__flexgrow",checked:"Radio-module__checked",active:"Radio-module__active"}},1158:function(e,t,a){"use strict";var n=a(12),o=a.n(n),s=a(9),l=a.n(s),c=a(10),r=a.n(c),i=a(13),m=a.n(i),d=a(14),u=a.n(d),f=a(0),p=a.n(f),h=a(1),g=a.n(h),_=a(1169),v=a.n(_),I=a(30),E=a(8),b=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||o()(t)).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.heading,a=e.error,n=e.showlink,o=e.onClick,s=e.noNeedBar,l=e.isPeekView;return p.a.createElement("div",{className:v.a.contDetail+" "+(l&&v.a.peekDetail)},p.a.createElement("div",null,p.a.createElement("div",{className:v.a.icnExclatn},p.a.createElement(I.CommonFontIcon,{name:"exclamationThincircle",size:"27"})),p.a.createElement("span",{className:v.a.alertText},t)),p.a.createElement("span",{className:v.a.emptyMessage},a),n&&p.a.createElement("div",{onClick:o,className:v.a.link},E.f.getI18NValue("support.crmlabel.err.crmtryagain")),s?null:p.a.createElement("span",{className:v.a.btmLine}))}}]),t}(p.a.Component);t.a=b,b.propTypes={error:g.a.string,heading:g.a.string,isPeekView:g.a.bool,noNeedBar:g.a.bool,onClick:g.a.func,showlink:g.a.bool}},1169:function(e,t,a){e.exports={contDetail:"EmptyPage-module__contDetail",peekDetail:"EmptyPage-module__peekDetail",icnExclatn:"EmptyPage-module__icnExclatn",alertText:"EmptyPage-module__alertText common-module__semibold common-module__ftsmooth",emptyMessage:"EmptyPage-module__emptyMessage",link:"EmptyPage-module__link"}},1296:function(e,t,a){"use strict";var n=a(12),o=a.n(n),s=a(9),l=a.n(s),c=a(10),r=a.n(c),i=a(13),m=a.n(i),d=a(14),u=a.n(d),f=a(0),p=a.n(f),h=a(1393),g=a.n(h),_=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||o()(t)).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){return p.a.createElement("div",{className:g.a.stencillist},p.a.createElement("div",{className:g.a.stencilLoading}),p.a.createElement("div",{className:g.a.stencilLoading}),p.a.createElement("div",{className:g.a.stencilLoading}))}}]),t}(p.a.Component);t.a=_},1384:function(e,t,a){"use strict";a.d(t,"g",function(){return l}),a.d(t,"f",function(){return c}),a.d(t,"k",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"j",function(){return m}),a.d(t,"c",function(){return d}),a.d(t,"o",function(){return u}),a.d(t,"l",function(){return f}),a.d(t,"e",function(){return p}),a.d(t,"p",function(){return h}),a.d(t,"i",function(){return g}),a.d(t,"b",function(){return _}),a.d(t,"n",function(){return v}),a.d(t,"h",function(){return I}),a.d(t,"a",function(){return E}),a.d(t,"m",function(){return b});var n=a(15),o=a(6),s=a(3);function l(e,t,a){return{types:Object(o.m)(e.toUpperCase()),callAPI:function(o){return Object(n.a)(""+s.w+e+"?"+t+"="+a,!1,{orgId:o.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?e:{isEmpty:!0,type:e.type}}).catch(function(e){return{status:e.status}})}}}var c=function(e){return{types:Object(o.m)("CRM"+e.toUpperCase()+"_LAYOUT"),callAPI:function(t){return Object(n.a)(s.w+"zohoCRMIntegration/fields?module="+e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e}).catch(function(e){return{status:e.status}})}}};function r(e,t){return{types:Object(o.m)("CONTACTPOTENTIALS"),callAPI:function(a){return Object(n.a)("/api/v1/crmContactPotentials?crmContactID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function i(e,t){return{types:Object(o.m)("ACCOUNTPOTENTIALS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmAccountPotentials?crmAccountID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function m(e,t){return{types:Object(o.m)("CONTACTNOTES"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmContactNotes?crmContactID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function d(e,t){return{types:Object(o.m)("ACCOUNTNOTES"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmAccountNotes?crmAccountID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function u(e,t){return{types:Object(o.m)("LEADNOTES"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmLeadNotes?crmLeadID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function f(e,t){return{types:Object(o.m)("CONTACTTASKS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmContactTasks?crmContactID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function p(e,t){return{types:Object(o.m)("ACCOUNTTASKS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmAccountTasks?crmAccountID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function h(e,t){return{types:Object(o.m)("LEADTASKS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmLeadTasks?crmLeadID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function g(e,t){return{types:Object(o.m)("CONTACTEVENTS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmContactEvents?crmContactID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function _(e,t){return{types:Object(o.m)("ACCOUNTEVENTS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmAccountEvents?crmAccountID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function v(e,t){return{types:Object(o.m)("LEADEVENTS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmLeadEvents?crmLeadID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function I(e,t){return{types:Object(o.m)("CONTACTCALLS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmContactCalls?crmContactID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function E(e,t){return{types:Object(o.m)("ACCOUNTCALLS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmAccountCalls?crmAccountID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}function b(e,t){return{types:Object(o.m)("LEADCALLS"),callAPI:function(a,o){return Object(n.a)("/api/v1/crmLeadCalls?crmLeadID="+e+"&limit=15&from="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return 204!=e.responseStatus?{data:e.data,entities:{},result:[]}:{isEmpty:1==t,entities:{},result:[]}})}}}},1385:function(e,t,a){"use strict";var n=a(20),o=a.n(n),s=a(12),l=a.n(s),c=a(9),r=a.n(c),i=a(10),m=a.n(i),d=a(13),u=a.n(d),f=a(14),p=a.n(f),h=a(0),g=a.n(h),_=a(1),v=a.n(_),I=a(1386),E=a.n(I),b=a(30),C=a(6),N=a(8),y=a(947),T=a.n(y),A=(a(99),function(e){function t(){return r()(this,t),u()(this,(t.__proto__||l()(t)).apply(this,arguments))}return p()(t,e),m()(t,[{key:"addressGroup",value:function(){return{Contacts:[{addressLabel:"Mailing Address",addressArr:["Mailing Street","Mailing City","Mailing State","Mailing Zip","Mailing Country"]},{addressLabel:"Other Address",addressArr:["Other Street","Other City","Other State","Other Zip","Other Country"]}],Accounts:[{addressLabel:"Billing Address",addressArr:["Billing Street","Billing City","Billing State","Billing Code","Billing Country"]},{addressLabel:"Shipping Address",addressArr:["Shipping Street","Shipping City","Shipping State","Shipping Code","Shipping Country"]}],Leads:[{addressLabel:"Address",addressArr:["Street","City","State","Zip Code","Country"]}]}}},{key:"isExtraInfo",value:function(e,t){var a=this.addressGroup()[t][0].addressArr;return(-1==["First Name","Last Name","Account Name","Phone","Home Phone","Other Phone","Email","Mobile","Secondary Email","customFields","CONTACTID","ACCOUNTID","viewInCrmLink","Twitter","phoneList","addressDetails","datamodule","relatedLists","LEADID","Company","back","Account Type","crmData","crmClass_tmp"].indexOf(e)||"Account"==t&&"Website"==e)&&-1==a.indexOf(e)&&("Leads"==t||-1==a.indexOf(e))}},{key:"getI18N",value:function(e){return["Lead Source","Lead Status","Parent Account","Account Number","Account Site"].indexOf(e)>-1&&(e="crm.label."+e.replace(" ","").toLowerCase()),N.f.getI18NValue(e)}},{key:"isBoolean",value:function(e){return["Email Opt Out","Add to QuickBooks"].indexOf(e)>-1}},{key:"getAddressInfo",value:function(e,t){for(var a=[],n=this.addressGroup()[t],o=0;o<n.length;o++){for(var s="",l=0;l<n[o].addressArr.length;l++){var c=e[n[o].addressArr[l]];s+=void 0===c||"null"==c?"":c+", "}s=s.slice(0,s.length-2);var r={addressLabel:n[o].addressLabel,address:s};a.push(r)}return a}},{key:"render",value:function(){var e=this,t=this.props,a=t.info,n=t.phoneList,s=t.mode,l=t.isFromSalesForce,c=t.changeDateFormat,r=t.formatAddress,i=n["Other Phones"]||n.OtherPhone,m=!Object(C.F)(a)&&this.getAddressInfo(a,s),d=!1;return void 0!==n.Mobile||0!=n.length?d=!0:void 0!==a.Email&&"null"!=a.Email&&void 0!==a["Secondary Email"]&&"null"!==a["Secondary Email"]?d=!0:void 0!==a.Twitter&&"null"!==a.Twitter&&(d=!0),g.a.createElement("div",{className:E.a.listCont},d&&!l&&g.a.createElement("div",{className:E.a.custmrArea},void 0!==n.Mobile&&g.a.createElement("div",{className:E.a.socialCont},g.a.createElement("span",{className:E.a.icnLocation},g.a.createElement(b.TopbandFontIcon,{name:"mobile",size:"size15"})),g.a.createElement("p",{className:E.a.custmrsocialDetls},n.Mobile)),!Object(C.F)(i)&&"null"!==i&&g.a.createElement("div",{className:E.a.socialCont},g.a.createElement("span",{className:E.a.icnLocation},g.a.createElement(b.GettingstartedFontIcon,{name:"telephone",size:"size15"})),o()(i).map(function(e,t){return g.a.createElement("span",{key:t},g.a.createElement("p",{className:E.a.custmrsocialDetls},i[e],2==n.length&&"Other Phone"==e&&g.a.createElement("span",{key:e,className:E.a.disabletxt}," "+N.f.getI18NValue("support.label.other.phone"))))})),"Account"!=s&&void 0!==a.Email&&"null"!==a.Email&&void 0!==a["Secondary Email"]&&"null"!==a["Secondary Email"]&&g.a.createElement("div",{className:E.a.socialCont}," ",g.a.createElement("p",{className:E.a.custmrsocialDetls},a["Secondary Email"])),"Account"!=s&&void 0!==a.Twitter&&"null"!==a.Twitter&&g.a.createElement("div",{className:E.a.socialCont},g.a.createElement("span",{className:E.a.icnLocation},g.a.createElement(b.GettingstartedFontIcon,{name:"twit",size:"size15"})),g.a.createElement("p",{className:E.a.custmrsocialDetls},a.Twitter))),m.length&&(""!==m[0].address||m[1]&&""!==m[1].address)&&g.a.createElement("div",{className:E.a.custmrArea},g.a.createElement("span",{className:E.a.icnLocation},g.a.createElement(b.TopbandFontIcon,{name:"location2",size:"size15"})),m.map(function(e,t){return""!==e.address&&g.a.createElement("p",{className:E.a.custmrDetls,key:t},e.address,1===t&&g.a.createElement("span",{key:e,className:E.a.disabletxt}," ("+e.addressLabel+")"))})),o()(a).map(function(t,n){var o=!l||!(t.toLowerCase().includes("billing")||t.toLowerCase().includes("shipping")||t.toLowerCase().includes("supportaccountid")||t.toLowerCase().includes("url")),i=void 0;return"null"!==a[t]&&(i="string"==typeof a[t]?l&&new Date(a[t]).getDate()&&!Number(a[t])?c(a[t]):l&&-1!==t.toLowerCase().indexOf("address")?r(a[t]):a[t]:a[t]),"null"!==a[t]&&o&&e.isExtraInfo(t,s)&&g.a.createElement("div",{className:E.a.listDetails,key:n},g.a.createElement("span",{className:E.a.listHeading},e.getI18N(t)),e.isBoolean(t)?g.a.createElement("span",{className:E.a.inputValue},g.a.createElement(T.a,{isChecked:"true"==a[t],disabled:!0})):g.a.createElement("span",{className:E.a.inputValue,"data-title":i},i))}))}}]),t}(g.a.Component));t.a=A,A.propTypes={changeDateFormat:v.a.func,formatAddress:v.a.func,info:v.a.object,isFromSalesForce:v.a.bool,mode:v.a.string,phoneList:v.a.object}},1386:function(e,t,a){e.exports={listCont:"InfoList-module__listCont",custmrArea:"InfoList-module__custmrArea",socialCont:"InfoList-module__socialCont",custmrDetls:"InfoList-module__custmrDetls",custmrsocialDetls:"InfoList-module__custmrsocialDetls InfoList-module__custmrDetls common-module__dotted common-module__oflow common-module__ellipsis",icnLocation:"InfoList-module__icnLocation",listDetails:"InfoList-module__listDetails",listHeading:"InfoList-module__listHeading",inputValue:"InfoList-module__inputValue",disabletxt:"InfoList-module__disabletxt"}},1387:function(e,t,a){"use strict";var n=a(12),o=a.n(n),s=a(9),l=a.n(s),c=a(10),r=a.n(c),i=a(13),m=a.n(i),d=a(14),u=a.n(d),f=a(0),p=a.n(f),h=a(1),g=a.n(h),_=a(1388),v=a.n(_),I=a(30),E=a(8),b=a(109),C=function(e){function t(e){l()(this,t);var a=m()(this,(t.__proto__||o()(t)).call(this,e));return a.setContainerRef=a.setContainerRef.bind(a),a.onScroll=a.onScroll.bind(a),a}return u()(t,e),r()(t,[{key:"setContainerRef",value:function(e){this.containerRef=e}},{key:"onScroll",value:function(){var e=this.props,t=e.noMoreData,a=e.isFetching,n=e.onScrollEnd;this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&!t&&!a&&n(!0)}},{key:"render",value:function(){var e=this.props,t=e.list,a=e.integName,n=void 0===a?"crm":a,o=e.changeDateFormat,s={crm:{ownerName:"ownerName",amount:"amount",stage:"stage",uri:"uri",probability:"probability",potentialName:"potentialName",closingDate:"closingDate"},salesForce:{ownerName:"OwnerName",amount:"Amount",stage:"StageName",uri:"uri",probability:"Probability",potentialName:"Name",closingDate:"CreatedDate"}};return p.a.createElement("div",{className:v.a.contDetail,ref:this.setContainerRef,onScroll:this.onScroll},t&&t.map(function(e,t){var a=void 0!==e[s[n].amount]&&"null"!=e[s[n].amount]?"£ "+e[s[n].amount]:"";return p.a.createElement("div",{className:v.a.userWay,key:t},p.a.createElement("div",{className:v.a.userInfo},p.a.createElement("span",{title:e[s[n].potentialName],className:v.a.entrp+" "+v.a.contentDotted},e[s[n].potentialName]),p.a.createElement("span",{className:v.a.exptrail},a),p.a.createElement(b.a,{className:v.a.iconNewtab,href:e[s[n].uri],target:"_blank"},p.a.createElement(I.TopbandFontIcon,{name:"newtab",size:"12"}))),p.a.createElement("div",{className:v.a.contacStatus},e[s[n].stage],void 0!==e[s[n].probability]&&p.a.createElement("span",{className:v.a.ml13},"(",e[s[n].probability],"%)")),e[s[n].closingDate]&&p.a.createElement("div",{className:v.a.contactList},p.a.createElement("span",{className:v.a.contList1},E.f.getI18NValue("Closing Date")),p.a.createElement("span",{className:v.a.contList2},new Date(e[s[n].closingDate]).getDate()&&!Number(e[s[n].closingDate])?o(e[s[n].closingDate]):e[s[n].closingDate])),p.a.createElement("div",{className:v.a.contactList},p.a.createElement("span",{className:v.a.contList1},E.f.getI18NValue("support.custom.view.list.owner")),p.a.createElement("span",{title:e[s[n].ownerName],className:v.a.contList2},e[s[n].ownerName])))}))}}]),t}(p.a.Component);t.a=C,C.propTypes={changeDateFormat:g.a.func,integName:g.a.string,isFetching:g.a.bool,list:g.a.array,noMoreData:g.a.bool,onScrollEnd:g.a.func}},1388:function(e,t,a){e.exports={contDetail:"PotentialsList-module__contDetail",userInfo:"PotentialsList-module__userInfo",userWay:"PotentialsList-module__userWay",iconNewtab:"PotentialsList-module__iconNewtab",entrp:"PotentialsList-module__entrp common-module__semibold common-module__ftsmooth",exptrail:"PotentialsList-module__exptrail common-module__dotted common-module__oflow common-module__ellipsis",contacStatus:"PotentialsList-module__contacStatus",contactList:"PotentialsList-module__contactList",contList1:"PotentialsList-module__contList1",contList2:"PotentialsList-module__contList2 common-module__dotted common-module__oflow common-module__ellipsis",ml13:"PotentialsList-module__ml13"}},1389:function(e,t,a){"use strict";var n=a(23),o=a.n(n),s=a(12),l=a.n(s),c=a(9),r=a.n(c),i=a(10),m=a.n(i),d=a(13),u=a.n(d),f=a(14),p=a.n(f),h=a(0),g=a.n(h),_=a(1),v=a.n(_),I=a(1390),E=a.n(I),b=a(8),C=function(e){function t(e){r()(this,t);var a=u()(this,(t.__proto__||l()(t)).call(this,e));return a.state={expandIndex:[]},a.setContainerRef=a.setContainerRef.bind(a),a.onScroll=a.onScroll.bind(a),a}return p()(t,e),m()(t,[{key:"setContainerRef",value:function(e){this.containerRef=e}},{key:"onScroll",value:function(){var e=this.props,t=e.noMoreData,a=e.isFetching,n=e.onScrollEnd;this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&!t&&!a&&n(!0)}},{key:"expandContent",value:function(e){this.setState(function(t){return{expandIndex:[].concat(o()(t.expandIndex),[e])}})}},{key:"render",value:function(){var e=this,t={crm:{ownerName:"ownerName",createdTime:"createdTime",title:"title",content:"content"},salesForce:{ownerName:"OwnerName",createdTime:"CreatedDate",title:"Title",content:"Body"}},a=this.props,n=a.list,o=a.integName,s=void 0===o?"crm":o,l=a.changeDateFormat,c=this.state.expandIndex;return g.a.createElement("div",{className:E.a.contDetail,ref:this.setContainerRef,onScroll:this.onScroll},n&&n.map(function(a,n){var o=a[t[s].content],r=!1;return void 0!==o&&o.length>200&&-1==c.indexOf(n)&&(o=o.slice(0,140)+"... ",r=!0),g.a.createElement("div",{className:E.a.userWay,key:n},g.a.createElement("div",{className:E.a.userInfo},g.a.createElement("span",{className:E.a.entrp},a[t[s].ownerName])),g.a.createElement("div",{className:E.a.dateTme},new Date(a[t[s].createdTime]).getDate()&&!Number(a[t[s].createdTime])?l(a[t[s].createdTime]):a[t[s].createdTime]),g.a.createElement("div",{className:E.a.notes},a[t[s].title]),g.a.createElement("div",{className:E.a.crmScndptg},o,r&&g.a.createElement("span",{className:E.a.crmMore,onClick:e.expandContent.bind(e,n)},b.f.getI18NValue("crm.login.more"))))}))}}]),t}(g.a.Component);t.a=C,C.propTypes={changeDateFormat:v.a.func,integName:v.a.string,isFetching:v.a.bool,list:v.a.array,noMoreData:v.a.bool,onScrollEnd:v.a.func}},1390:function(e,t,a){e.exports={contDetail:"NotesList-module__contDetail",userInfo:"NotesList-module__userInfo",userWay:"NotesList-module__userWay",entrp:"NotesList-module__entrp common-module__semibold common-module__ftsmooth",dateTme:"NotesList-module__dateTme",notes:"NotesList-module__notes",crmScndptg:"NotesList-module__crmScndptg",crmMore:"NotesList-module__crmMore"}},1391:function(e,t,a){"use strict";var n=a(12),o=a.n(n),s=a(9),l=a.n(s),c=a(10),r=a.n(c),i=a(13),m=a.n(i),d=a(14),u=a.n(d),f=a(0),p=a.n(f),h=a(1),g=a.n(h),_=a(1392),v=a.n(_),I=a(30),E=a(8),b=a(109),C=function(e){function t(e){l()(this,t);var a=m()(this,(t.__proto__||o()(t)).call(this,e));return a.setContainerRef=a.setContainerRef.bind(a),a.onScroll=a.onScroll.bind(a),a}return u()(t,e),r()(t,[{key:"setContainerRef",value:function(e){this.containerRef=e}},{key:"onScroll",value:function(){var e=this.props,t=e.noMoreData,a=e.isFetching,n=e.onScrollEnd;this.containerRef.scrollHeight<=this.containerRef.scrollTop+this.containerRef.offsetHeight&&!t&&!a&&n(!0)}},{key:"render",value:function(){var e={crm:{ownerName:"ownerName",status:"status",uri:"uri",priority:"priority",subject:"subject",startDateTime:"startDateTime",endDateTime:"endDateTime",createdTime:"createdTime",dueDate:"dueDate"},salesForce:{ownerName:"OwnerName",status:"Status",uri:"uri",priority:"Priority",subject:"Subject",startDateTime:"StartDateTime",endDateTime:"EndDateTime",createdTime:"CreatedDate",dueDate:"ActivityDate"}},t=this.props,a=t.list,n=t.activityType,o=t.integName,s=void 0===o?"crm":o,l=t.changeDateFormat;return p.a.createElement("div",{className:v.a.contDetail,ref:this.setContainerRef,onScroll:this.onScroll},a&&a.map(function(t,a){return p.a.createElement("div",{className:v.a.userWay,key:a},p.a.createElement("div",{className:v.a.userInfo},p.a.createElement("span",{className:v.a.entrp},t[e[s].ownerName]),p.a.createElement(b.a,{className:v.a.iconNewtab,href:t[e[s].uri],target:"_blank"},p.a.createElement(I.TopbandFontIcon,{name:"newtab",size:"12"}))),p.a.createElement("div",{className:v.a.contacStatus},p.a.createElement("span",null,new Date(t[e[s].createdTime]).getDate()&&!Number(t[e[s].createdTime])?l(t[e[s].createdTime]):t[e[s].createdTime]),"Tasks"==n&&"undefined"!==t[e[s].status]&&""!==t[e[s].status]&&p.a.createElement("span",null,p.a.createElement("span",{className:v.a.dot},". "),p.a.createElement("span",null,t[e[s].status])),"Tasks"==n&&void 0!==t[e[s].priority]&&p.a.createElement("span",null,p.a.createElement("span",{className:v.a.dot},". "),p.a.createElement("span",null,t[e[s].priority]))),p.a.createElement("div",{className:v.a.actcrmtxt},t[e[s].subject]),"Tasks"==n&&"salesForce"!==s&&p.a.createElement("div",{className:v.a.dateStatus},p.a.createElement("span",{className:v.a.dateStruc},p.a.createElement("span",{className:v.a.icnClander},p.a.createElement(I.CommonFontIcon,{name:"calendarIcons",size:"10"})),p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("crm.tasks.duedate"))),p.a.createElement("span",{className:v.a.dates},t[e[s].dueDate])),"Events"==n&&p.a.createElement("div",null,p.a.createElement("div",{className:v.a.dateStatus},p.a.createElement("span",{className:v.a.dateStruc},p.a.createElement("span",{className:v.a.icnClander},p.a.createElement(I.CommonFontIcon,{name:"calendarIcons",size:"10"})),p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("support.request.from.emailid"))),p.a.createElement("span",{className:v.a.dates},new Date(t[e[s].startDateTime]).getDate()&&!Number(t[e[s].startDateTime])?l(t[e[s].startDateTime]):t[e[s].startDateTime])),p.a.createElement("div",{className:v.a.dateStatus},p.a.createElement("span",{className:v.a.dateStruc},p.a.createElement("span",{className:v.a.icnClander},p.a.createElement(I.CommonFontIcon,{name:"calendarIcons",size:"10"})),p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("crm.label.to.email"))),p.a.createElement("span",{className:v.a.dates},new Date(t[e[s].endDateTime]).getDate()&&!Number(t[e[s].endDateTime])?l(t[e[s].endDateTime]):t[e[s].endDateTime]))),"Calls"==n&&p.a.createElement("div",null,void 0!==t[e[s].callStartTime]&&p.a.createElement("div",{className:v.a.crmfrmtsk},p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("crm.activities.call.starttime")),p.a.createElement("span",{className:v.a.crmRstatus},t[e[s].callStartTime])),void 0!==t[e[s].callDuration]&&p.a.createElement("div",{className:v.a.crmfrmtsk},p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("crm.activities.call.duration")),p.a.createElement("span",{className:v.a.crmRstatus},t[e[s].callDuration])),p.a.createElement("div",{className:v.a.crmfrmtsk},p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("crm.activities.call.type")),p.a.createElement("span",{className:v.a.crmRstatus},t[e[s].callType])),p.a.createElement("div",{className:v.a.crmfrmtsk},p.a.createElement("span",{className:v.a.crmlblfrm},E.f.getI18NValue("crm.activities.call.status")),p.a.createElement("span",{className:v.a.crmRstatus},t[e[s].callStatus]))))}))}}]),t}(p.a.Component);t.a=C,C.propTypes={activityType:g.a.string,changeDateFormat:g.a.func,integName:g.a.string,isFetching:g.a.bool,list:g.a.array,noMoreData:g.a.bool,onScrollEnd:g.a.func}},1392:function(e,t,a){e.exports={contDetail:"ActivitiesList-module__contDetail",peekDetail:"ActivitiesList-module__peekDetail",userInfo:"ActivitiesList-module__userInfo common-module__dflex",userWay:"ActivitiesList-module__userWay",iconNewtab:"ActivitiesList-module__iconNewtab common-module__pointer",entrp:"ActivitiesList-module__entrp common-module__semibold common-module__ftsmooth common-module__flexgrow",contacStatus:"ActivitiesList-module__contacStatus",dot:"ActivitiesList-module__dot",dateStatus:"ActivitiesList-module__dateStatus",icnClander:"ActivitiesList-module__icnClander",dates:"ActivitiesList-module__dates",actcrmtxt:"ActivitiesList-module__actcrmtxt",crmfrmtsk:"ActivitiesList-module__crmfrmtsk common-module__dflex",crmlblfrm:"ActivitiesList-module__crmlblfrm common-module__dotted common-module__oflow common-module__ellipsis",crmRstatus:"ActivitiesList-module__crmRstatus common-module__flexgrow",dateStruc:"ActivitiesList-module__dateStruc"}},1393:function(e,t,a){e.exports={stencillist:"Loading-module__stencillist",stencilLoading:"Loading-module__stencilLoading",Stencils__placeHolderShimmer:"Loading-module__Stencils__placeHolderShimmer"}},1597:function(e,t,a){e.exports={detailBox:"CrmInfo-module__detailBox",headerCont:"CrmInfo-module__headerCont common-module__flexgrow common-module__dotted common-module__oflow common-module__ellipsis",backArw:"CrmInfo-module__backArw",newTab:"CrmInfo-module__newTab",prflDiv:"CrmInfo-module__prflDiv",prflName:"CrmInfo-module__prflName common-module__semibold common-module__ftsmooth common-module__dotted common-module__oflow common-module__ellipsis",disabletxt:"CrmInfo-module__disabletxt common-module__dotted common-module__oflow common-module__ellipsis",tabs:"CrmInfo-module__tabs",tabName:"CrmInfo-module__tabName",defaultTab:"CrmInfo-module__defaultTab",crmMailid:"CrmInfo-module__crmMailid common-module__dotted common-module__oflow common-module__ellipsis",crmPhenum:"CrmInfo-module__crmPhenum common-module__dotted common-module__oflow common-module__ellipsis",scrollCont:"CrmInfo-module__scrollCont",crmsubTab:"CrmInfo-module__crmsubTab"}},1598:function(e,t,a){e.exports={prflDiv:"MultipleInfo-module__prflDiv",prflName:"MultipleInfo-module__prflName common-module__dotted common-module__oflow common-module__ellipsis",rightArrowicn:"MultipleInfo-module__rightArrowicn",disabletxt:"MultipleInfo-module__disabletxt common-module__dotted common-module__oflow common-module__ellipsis",cmpnyIcn:"MultipleInfo-module__cmpnyIcn",cont:"MultipleInfo-module__cont",divsubHead:"MultipleInfo-module__divsubHead"}},660:function(e,t,a){"use strict";a.r(t);var n=a(23),o=a.n(n),s=a(20),l=a.n(s),c=a(12),r=a.n(c),i=a(9),m=a.n(i),d=a(10),u=a.n(d),f=a(13),p=a.n(f),h=a(14),g=a.n(h),_=a(0),v=a.n(_),I=a(1),E=a.n(I),b=a(26),C=a(1597),N=a.n(C),y=a(8),T=a(65),A=a(16),D=a(1384),k=a(30),S=a(6),L=a(1385),x=a(1387),O=a(1389),P=a(1391),w=a(1158),M=a(1296),F=a(1598),j=a.n(F),R=function(e){function t(){return m()(this,t),p()(this,(t.__proto__||r()(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.selectIndex,o=t.mode,s=t.openAccount;return v.a.createElement("div",{className:j.a.cont},a.map(function(t,a){return v.a.createElement("div",{className:j.a.prflDiv,onClick:n.bind(e,a),key:a},v.a.createElement("div",{className:j.a.prflName},"Leads"==o?t["Last Name"]:Object(S.e)(t["First Name"],t["Last Name"]),v.a.createElement("span",{className:j.a.rightArrowicn},v.a.createElement(k.CommonFontIcon,{name:"arrowRight3",size:"13"}))),t.Email&&"null"!==t.Email&&v.a.createElement("div",{className:j.a.disabletxt},v.a.createElement("span",{className:j.a.cmpnyIcn},v.a.createElement(k.TicketsFontIcon,{name:"email1",size:"12"})),t.Email),t["Secondary Email"]&&"null"!==t["Secondary Email"]&&v.a.createElement("div",{className:j.a.disabletxt},t["Secondary Email"],v.a.createElement("span",{className:j.a.divsubHead},"(",y.f.getI18NValue("support.contact.field.email.label.secondary"),")")),t.Phone&&"null"!==t.Phone&&v.a.createElement("div",{className:j.a.disabletxt},v.a.createElement("span",{className:j.a.cmpnyIcn},v.a.createElement(k.TopbandFontIcon,{name:"telephoneThick",size:"12"})),t.Phone),t["Account Name"]&&"null"!==t["Account Name"]&&v.a.createElement("div",{className:j.a.disabletxt,onClick:function(e){e.stopPropagation(),s(t.ACCOUNTID)}},v.a.createElement("span",{className:j.a.cmpnyIcn},v.a.createElement(k.TicketsFontIcon,{name:"originalView",size:"12"})),t["Account Name"]),t.Company&&"null"!==t.Company&&v.a.createElement("div",{className:j.a.disabletxt},v.a.createElement("span",{className:j.a.cmpnyIcn},v.a.createElement(k.SetupFontIcon,{name:"company",size:"12"})),t.Company))}))}}]),t}(v.a.Component),V=R;R.propTypes={list:E.a.array,mode:E.a.string,openAccount:E.a.func,selectIndex:E.a.func};var B=a(1003),z=a.n(B),U=a(987),W=a(81),H=function(e){function t(e){m()(this,t);var a=p()(this,(t.__proto__||r()(t)).call(this,e));return a.state={contactInfo:{},accountInfo:{},leadInfo:{},mode:"",selectedActivityTab:"Tasks",defaultTab:"Info",seletedInfoIndex:0,from:1,limit:15,noMoreData:!1,noCrmEntity:!1,isError:!1},a.fetchCrmContact=a.fetchCrmContact.bind(a),a.getAccountInfo=a.getAccountInfo.bind(a),a.handleNavigate=a.handleNavigate.bind(a),a.getPotentialsInfo=a.getPotentialsInfo.bind(a),a.getNotesInfo=a.getNotesInfo.bind(a),a.getActivitiesInfo=a.getActivitiesInfo.bind(a),a.getCallsInfo=a.getCallsInfo.bind(a),a.getEventsInfo=a.getEventsInfo.bind(a),a.changeDefaultTab=a.changeDefaultTab.bind(a),a.changeSelectedActivityTab=a.changeSelectedActivityTab.bind(a),a.selectedActivityTab=a.selectedActivityTab.bind(a),a.selectIndex=a.selectIndex.bind(a),a.changeDateFormat=a.changeDateFormat.bind(a),a.formatAddress=a.formatAddress.bind(a),a}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.module,a=e.contactId;t.match(/^(tickets|contacts)$/)?this.fetchCrmContact():"accounts"===t&&this.getAccountInfo(a)}},{key:"componentDidUpdate",value:function(e,t){t.defaultTab==this.state.defaultTab&&t.selectedActivityTab==this.state.selectedActivityTab||this.setState({from:1,noMoreData:!1}),t.defaultTab!=this.state.defaultTab&&this.setState({selectedActivityTab:"Tasks"})}},{key:"changeDateFormat",value:function(e){return e?y.f.userDateFormat(new Date(e),{},"lateby","left",!1,function(){return-1!==e.indexOf("T")?"DD MMM YYYY hh:mm A":"DD MMM YYYY"}):""}},{key:"formatAddress",value:function(e){e=JSON.parse(e);var t="";return e&&l()(e).map(function(a){t=null!==e[a]?a+" : "+e[a]:""+t}),t}},{key:"fetchCrmContact",value:function(){var e=this,t=this.props,a=t.contactId;(0,t.getCRMModule)("CRMContact","contactId",a).then(function(t){var a=t.data;a.isEmpty?e.setState({noCrmEntity:!0,mode:"Contacts"}):("Leads"==a.type?e.setState({leadInfo:a.data,mode:a.type}):e.setState({contactInfo:a.data,mode:a.type}),a.data.length>1&&e.setState({page:"list"}))}).catch(function(t){e.setState({isError:!0,mode:"Contacts"})})}},{key:"getAccountInfo",value:function(e){var t=this;e?this.props.getCRMModule("CRMAccount","crmAccountId",e).then(function(e){t.setState({page:"details",mode:"Accounts",accountInfo:e.data,defaultTab:"Info",selectedActivityTab:"Tasks"})}).catch(function(e){return t.setState({isError:!0,mode:"Accounts"})}):this.setState({noCrmEntity:!0,mode:"Accounts"})}},{key:"getPotentialsInfo",value:function(e){var t=this;e=e||this.state.from;var a=this.state,n=a.mode,s=a.contactInfo,l=a.seletedInfoIndex,c=a.accountInfo,r=this.props,i=r.getContactPotentials,m=r.getAccountPotentials;return"Contacts"==n?i(s[l].CONTACTID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({contactPotentialsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({contactPotentialsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{contactPotentialsInfo:[].concat(o()(e.contactPotentialsInfo),o()(c)),noMoreData:s}})}}}):m(c.ACCOUNTID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({accountPotentialsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({accountPotentialsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{accountPotentialsInfo:[].concat(o()(e.accountPotentialsInfo),o()(c)),noMoreData:s}})}}})}},{key:"getNotesInfo",value:function(e,t){var a=this;e=e||this.state.from;var n=this.state,s=n.mode,l=n.contactInfo,c=n.seletedInfoIndex,r=n.leadInfo,i=n.accountInfo,m=this.props,d=m.getContactNotes,u=m.getAccountNotes,f=m.getLeadNotes;return"Contacts"==s?d(l[c].CONTACTID,e).then(function(t){var n=t.data;if(n.isEmpty)a.setState({contactNotesInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)a.setState({contactNotesInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;a.setState(function(e){return{contactNotesInfo:[].concat(o()(e.contactNotesInfo),o()(c)),noMoreData:s}})}}}):"Accounts"==s?u(i.ACCOUNTID,e).then(function(t){var n=t.data;if(n.isEmpty)a.setState({accountNotesInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)a.setState({accountNotesInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;a.setState(function(e){return{accountNotesInfo:[].concat(o()(e.accountNotesInfo),o()(c)),noMoreData:s}})}}}):f(r[c].LEADID,e).then(function(t){var n=t.data;if(n.isEmpty)a.setState({leadNotesInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)a.setState({leadNotesInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;a.setState(function(e){return{leadNotesInfo:[].concat(o()(e.leadNotesInfo),o()(c)),noMoreData:s}})}}})}},{key:"getCallsInfo",value:function(e,t){var a=this;e=e||this.state.from;var n=this.state,s=n.mode,l=n.contactInfo,c=n.seletedInfoIndex,r=n.leadInfo,i=n.accountInfo,m=this.props,d=m.getContactCallsInfo,u=m.getAccountCallsInfo,f=m.getLeadCallsInfo;return"Contacts"==s?d(l[c].CONTACTID,e).then(function(t){var n=t.data;if(n.isEmpty)a.setState({contactCallsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)a.setState({contactCallsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;a.setState(function(e){return{contactCallsInfo:[].concat(o()(e.contactCallsInfo),o()(c)),noMoreData:s}})}}}):"Accounts"==s?u(i.ACCOUNTID,e).then(function(t){var n=t.data;if(n.isEmpty)a.setState({accountCallsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)a.setState({accountCallsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;a.setState(function(e){return{accountCallsInfo:[].concat(o()(e.accountCallsInfo),o()(c)),noMoreData:s}})}}}):f(r[c].LEADID,e).then(function(t){var n=t.data;if(n.isEmpty)a.setState({leadCallsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)a.setState({leadCallsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;a.setState(function(e){return{leadCallsInfo:[].concat(o()(e.leadCallsInfo),o()(c)),noMoreData:s}})}}})}},{key:"getEventsInfo",value:function(e){var t=this;e=e||this.state.from;var a=this.state,n=a.mode,s=a.contactInfo,l=a.seletedInfoIndex,c=a.leadInfo,r=a.accountInfo,i=this.props,m=i.getContactEventsInfo,d=i.getAccountEventsInfo,u=i.getLeadEventsInfo;return"Contacts"==n?m(s[l].CONTACTID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({contactEventsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({contactEventsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{contactEventsInfo:[].concat(o()(e.contactEventsInfo),o()(c)),noMoreData:s}})}}}):"Accounts"==n?d(r.ACCOUNTID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({accountEventsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({accountEventsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{accountEventsInfo:[].concat(o()(e.accountEventsInfo),o()(c)),noMoreData:s}})}}}):u(c[l].LEADID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({leadEventsInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({leadEventsInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{leadEventsInfo:[].concat(o()(e.leadEventsInfo),o()(c)),noMoreData:s}})}}})}},{key:"getActivitiesInfo",value:function(e){var t=this;e=e||this.state.from;var a=this.state,n=a.mode,s=a.contactInfo,l=a.seletedInfoIndex,c=a.leadInfo,r=a.accountInfo,i=this.props,m=i.getContactTasksInfo,d=i.getAccountTasksInfo,u=i.getLeadTasksInfo;return"Contacts"==n?m(s[l].CONTACTID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({contactTasksInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({contactTasksInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{contactTasksInfo:[].concat(o()(e.contactTasksInfo),o()(c)),noMoreData:s}})}}}):"Accounts"==n?d(r.ACCOUNTID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({accountTasksInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({accountTasksInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{accountTasksInfo:[].concat(o()(e.accountTasksInfo),o()(c)),noMoreData:s}})}}}):u(c[l].LEADID,e).then(function(a){var n=a.data;if(n.isEmpty)t.setState({leadTasksInfo:"isEmpty"});else{var s=!n.data||n.data.length<15;if(1==e)t.setState({leadTasksInfo:n.data,noMoreData:s});else{var l=n.data,c=void 0===l?[]:l;t.setState(function(e){return{leadTasksInfo:[].concat(o()(e.leadTasksInfo),o()(c)),noMoreData:s}})}}})}},{key:"getPhoneList",value:function(e){if(e){for(var t=void 0,a={},n=void 0,o=["Phone","Mobile","Home Phone","Other Phone"],s=0;s<o.length;s++){var c=e[o[s]];c&&"null"!=c&&(null==t?t=c:"Mobile"==o[s]?n=c:a[o[s]]=c)}return{"Primary Phone":t,Mobile:n,"Other Phones":a,length:l()(a).length}}}},{key:"getFormattedWebsiteForHref",value:function(e){if(e){var t=e.substr(0,4);return""==e||"null"==e?"javascript:;":"http"==t?e:e="http://"+e}}},{key:"handleNavigate",value:function(){var e=this.state,t=e.contactInfo,a=void 0===t?[]:t,n=e.leadInfo,o=e.mode,s=e.page,l=e.noCrmEntity,c=e.isError;"Accounts"==o?this.setState({mode:"Contacts",defaultTab:"Info",selectedActivityTab:"Tasks"}):"Leads"==o&&n.length>1&&"list"!=s?this.setState({page:"list",defaultTab:"Info",selectedActivityTab:"Tasks",leadCallsInfo:void 0,leadEventsInfo:void 0,leadNotesInfo:void 0,leadTasksInfo:void 0}):"Contacts"==o&&a.length>1&&"list"!=s&&!l&&!c?this.setState({page:"list",defaultTab:"Info",selectedActivityTab:"Tasks",contactCallsInfo:void 0,contactEventsInfo:void 0,contactNotesInfo:void 0,contactTasksInfo:void 0}):this.props.closeCrmInfo()}},{key:"changeDefaultTab",value:function(e){this.setState({defaultTab:e})}},{key:"changeSelectedActivityTab",value:function(e){this.setState({selectedActivityTab:e})}},{key:"selectedActivityTab",value:function(){this.setState({selectedActivityTab:"Tasks"})}},{key:"selectIndex",value:function(e){this.setState({seletedInfoIndex:e,page:"details"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.mode,n=t.contactInfo,o=void 0===n?{}:n,s=t.seletedInfoIndex,l=t.accountInfo,c=t.leadInfo,r=t.contactPotentialsInfo,i=t.accountPotentialsInfo,m=t.contactNotesInfo,d=t.accountNotesInfo,u=t.leadNotesInfo,f=t.selectedActivityTab,p=t.contactTasksInfo,h=t.accountTasksInfo,g=t.leadTasksInfo,_=t.contactEventsInfo,I=t.accountEventsInfo,E=t.leadEventsInfo,b=t.contactCallsInfo,C=t.accountCallsInfo,D=t.leadCallsInfo,F=t.defaultTab,j=t.page,R=t.from,B=t.limit,H=t.noMoreData,Y=t.noCrmEntity,G=t.isError;o=o[s],c=c[s];var q=this.props,J=q.moduleMeta,K=(q.isPeekView,q.module),Z="Contacts"==a?J.contacts.displayLabel:"Accounts"==a?J.accounts.displayLabel:a,Q="Accounts"==a?this.getPhoneList(l):"Contacts"==a?this.getPhoneList(o):"Leads"==a?this.getPhoneList(c):{},$=this.getFormattedWebsiteForHref(l.Website);return v.a.createElement(A.Container,null,v.a.createElement(A.Box,null,v.a.createElement(A.Container,{className:N.a.detailBox,alignBox:"row"},"contacts"===K&&"Contacts"==a||"accounts"===K?null:v.a.createElement(A.Box,{className:N.a.backArw},v.a.createElement(k.TopbandFontIcon,{name:"keyboardBackspace",size:"17",onClick:this.handleNavigate})),v.a.createElement(A.Box,{className:N.a.headerCont},"list"==j?y.f.getI18NValue("support.crm.module.list",[Z]):y.f.getI18NValue("support.finance.contact.info",[y.f.getI18NValue("support.label.crm"),Z])),"list"!=j&&!Y&&!G&&v.a.createElement(U.a,{className:N.a.newTab,href:"Contacts"==a?o.viewInCrmLink:"Accounts"==a?l.viewInCrmLink:"Leads"==a?c.viewInCrmLink:"javascript:void(0)"},v.a.createElement(k.TopbandFontIcon,{name:"newtab",size:"12"})))),G?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.uhoh"),error:y.f.getI18NValue("support.crmlabel.err.crmunknown"),showlink:!0,onClick:this.fetchCrmContact,formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):Y?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.uhoh"),error:y.f.getI18NValue("support.crmlabel.err.crmnodata"),formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):"Leads"==a&&"list"==j?v.a.createElement(V,{list:c,selectIndex:this.selectIndex,mode:a}):"Contacts"==a&&"list"==j?v.a.createElement(V,{list:o,selectIndex:this.selectIndex,mode:a,openAccount:this.getAccountInfo}):v.a.createElement(A.Box,{flexible:!0},v.a.createElement(A.Container,null,v.a.createElement(A.Box,null,""!=a&&c?"Accounts"!=a?v.a.createElement(A.Container,{className:N.a.prflDiv},v.a.createElement(A.Box,{className:N.a.prflName},"Leads"==a?Object(S.e)(c["First Name"],c["Last Name"]):Object(S.e)(o["First Name"],o["Last Name"])),"Contacts"==a&&"undefined"!==o["Account Name"]&&"null"!==o["Account Name"]&&v.a.createElement(A.Box,{className:N.a.disabletxt,onClick:this.getAccountInfo.bind(this,o.ACCOUNTID)},o["Account Name"]),"Leads"==a&&c.Company&&v.a.createElement(A.Box,{className:N.a.crmMailid},c.Company),"Leads"==a&&"null"!==c.Email?v.a.createElement(A.Box,{className:N.a.crmMailid},c.Email):"Leads"==a&&c["Secondary Email"]?v.a.createElement(A.Box,{className:N.a.crmMailid},c["Secondary Email"]):null,"Contacts"==a&&"null"!==o.Email?v.a.createElement(A.Box,{className:N.a.crmMailid},o.Email):"Contacts"==a&&"null"!==o["Secondary Email"]?v.a.createElement(A.Box,{className:N.a.crmMailid},o["Secondary Email"]):null,"undefined"!==Q["Primary Phone"]&&v.a.createElement("div",{className:N.a.crmPhenum},Q["Primary Phone"])):v.a.createElement(A.Container,{className:N.a.prflDiv},v.a.createElement(A.Box,{className:N.a.prflName},l["Account Name"]),"undefined"!==l["Account Type"]&&"null"!==l["Account Type"]&&v.a.createElement(A.Box,{className:N.a.crmMailid},l["Account Type"]),"undefined"!==l.Website&&"null"!==l.Website&&v.a.createElement(U.a,{href:$,className:N.a.disabletxt},l.Website),"undefined"!==Q["Primary Phone"]&&v.a.createElement("div",{className:N.a.crmPhenum},Q["Primary Phone"])):v.a.createElement(M.a,null)),v.a.createElement(A.Box,{flexible:!0},v.a.createElement(W.TabWrapper,{defaultTab:F,type:"delta",needTabBorder:!0,onSelect:this.changeDefaultTab},v.a.createElement(W.Tabs,{className:N.a.tabs,isResponsive:!1},v.a.createElement(W.Tab,{id:"Info",onClick:this.selectedActivityTab,text:y.f.getI18NValue("support.setup.help.header"),className:N.a.tabName+" "+("Info"===F?N.a.defaultTab:null)}),"Leads"!=a&&v.a.createElement(W.Tab,{id:"Potentials",onClick:this.getPotentialsInfo,text:y.f.getI18NValue("crm.tab.potentials"),className:N.a.tabName+" "+("Potentials"===F?N.a.defaultTab:null)}),v.a.createElement(W.Tab,{id:"Notes",onClick:this.getNotesInfo,text:y.f.getI18NValue("crm.tab.Notes"),className:N.a.tabName+" "+("Notes"===F?N.a.defaultTab:null)}),v.a.createElement(W.Tab,{id:"Activities",onClick:this.getActivitiesInfo,text:y.f.getI18NValue("crm.tab.activities"),className:N.a.tabName+" "+("Activities"===F?N.a.defaultTab:null)})),v.a.createElement(W.TabContentWrapper,null,v.a.createElement(W.TabContent,{id:"Info"},""==a?v.a.createElement(M.a,null):v.a.createElement(L.a,{info:"Contacts"==a?o:"Accounts"==a?l:"Leads"==a?c:{},phoneList:Q,mode:a,formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat})),v.a.createElement(W.TabContent,{id:"Potentials"},"Contacts"==a&&"isEmpty"==r||"Accounts"==a&&"isEmpty"==i?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.whoa"),error:y.f.getI18NValue("support.module.empty.message",[y.f.getI18NValue("crm.tab.potentials")]),formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):v.a.createElement("div",{className:N.a.scrollCont},v.a.createElement(T.Card,{from:R,limit:B,noMoreData:H,fetchData:!H&&this.getPotentialsInfo,noNeedUpScroll:!0},v.a.createElement(T.CardContent,null,v.a.createElement(x.a,{list:"Contacts"==a?r:i,formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}))))),v.a.createElement(W.TabContent,{id:"Notes"},"Contacts"==a&&"isEmpty"==m||"Accounts"==a&&"isEmpty"==d||"Leads"==a&&"isEmpty"==u?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.whoa"),error:y.f.getI18NValue("support.module.empty.message",[y.f.getI18NValue("crm.tab.Notes")]),formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):v.a.createElement("div",{className:N.a.scrollCont},v.a.createElement(T.Card,{from:R,limit:B,noMoreData:H,fetchData:!H&&this.getNotesInfo,noNeedUpScroll:!0},v.a.createElement(T.CardContent,null,v.a.createElement(O.a,{list:"Contacts"==a?m:"Accounts"==a?d:u,formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}))))),v.a.createElement(W.TabContent,{id:"Activities"},v.a.createElement(W.TabWrapper,{defaultTab:f,type:"alpha",onSelect:function(t){e.changeSelectedActivityTab(t)}},v.a.createElement(W.Tabs,{isResponsive:!1,className:N.a.crmsubTab},v.a.createElement(W.Tab,{id:"Tasks"},v.a.createElement("div",null,v.a.createElement(z.a,{text:y.f.getI18NValue("support.history.filter.tasks"),labelSize:"small",size:"small",checked:"Tasks"==f&&!0}))),v.a.createElement(W.Tab,{id:"Events",onClick:this.getEventsInfo},v.a.createElement("div",null,v.a.createElement(z.a,{text:y.f.getI18NValue("crm.tab.events"),labelSize:"small",size:"small",checked:"Events"==f&&!0}))),v.a.createElement(W.Tab,{id:"Calls",onClick:this.getCallsInfo},v.a.createElement("div",null,v.a.createElement(z.a,{text:y.f.getI18NValue("crm.tab.calls"),labelSize:"small",size:"small",checked:"Calls"==f&&!0})))),v.a.createElement(W.TabContentWrapper,null,v.a.createElement(W.TabContent,{id:"Tasks"},"Contacts"==a&&"isEmpty"==p||"Accounts"==a&&"isEmpty"==h||"Leads"==a&&"isEmpty"==g?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.whoa"),error:y.f.getI18NValue("support.module.empty.message",[y.f.getI18NValue("support.history.filter.tasks")]),formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):v.a.createElement("div",{className:N.a.scrollCont},v.a.createElement(T.Card,{from:R,limit:B,noMoreData:H,fetchData:!H&&this.getActivitiesInfo,noNeedUpScroll:!0},v.a.createElement(T.CardContent,null,v.a.createElement(P.a,{list:"Contacts"==a?p:"Accounts"==a?h:g,activityType:"Tasks",formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}))))),v.a.createElement(W.TabContent,{id:"Events"},"Contacts"==a&&"isEmpty"==_||"Accounts"==a&&"isEmpty"==I||"Leads"==a&&"isEmpty"==E?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.whoa"),error:y.f.getI18NValue("support.module.empty.message",[y.f.getI18NValue("crm.tab.events")]),formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):v.a.createElement("div",{className:N.a.scrollCont},v.a.createElement(T.Card,{from:R,limit:B,noMoreData:H,fetchData:!H&&this.getEventsInfo,noNeedUpScroll:!0},v.a.createElement(T.CardContent,null,v.a.createElement(P.a,{list:"Contacts"==a?_:"Accounts"==a?I:E,activityType:"Events",formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}))))),v.a.createElement(W.TabContent,{id:"Calls"},"Contacts"==a&&"isEmpty"==b||"Accounts"==a&&"isEmpty"==C||"Leads"==a&&"isEmpty"==D?v.a.createElement(w.a,{heading:y.f.getI18NValue("support.crmlabel.err.whoa"),error:y.f.getI18NValue("support.module.empty.message",[y.f.getI18NValue("crm.tab.calls")]),formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}):v.a.createElement("div",{className:N.a.scrollCont},v.a.createElement(T.Card,{from:R,limit:B,noMoreData:H,fetchData:!H&&this.getCallsInfo,noNeedUpScroll:!0},v.a.createElement(T.CardContent,null,v.a.createElement(P.a,{list:"Contacts"==a?b:"Accounts"==a?C:D,activityType:"Calls",formatAddress:this.formatAddress,changeDateFormat:this.changeDateFormat}))))))))))))))}}]),t}(_.Component);H.propTypes={closeCrmInfo:E.a.func,contactId:E.a.string,getAccountCallsInfo:E.a.func,getAccountEventsInfo:E.a.func,getAccountNotes:E.a.func,getAccountPotentials:E.a.func,getAccountTasksInfo:E.a.func,getCRMModule:E.a.func,getContactCallsInfo:E.a.func,getContactEventsInfo:E.a.func,getContactNotes:E.a.func,getContactPotentials:E.a.func,getContactTasksInfo:E.a.func,getLeadCallsInfo:E.a.func,getLeadEventsInfo:E.a.func,getLeadNotes:E.a.func,getLeadTasksInfo:E.a.func,isPeekView:E.a.bool,module:E.a.string,moduleMeta:E.a.object};t.default=Object(b.connect)(function(e){return{moduleMeta:e.moduleMeta,isPeekView:e.ticketUIState.isPeekView}},{getCRMModule:D.g,getContactPotentials:D.k,getAccountPotentials:D.d,getAccountNotes:D.c,getContactNotes:D.j,getContactTasksInfo:D.l,getAccountTasksInfo:D.e,getContactEventsInfo:D.i,getAccountEventsInfo:D.b,getContactCallsInfo:D.h,getAccountCallsInfo:D.a,getLeadNotes:D.o,getLeadTasksInfo:D.p,getLeadEventsInfo:D.n,getLeadCallsInfo:D.m})(H)},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a(0)),s=r(a(1)),l=r(a(953)),c=r(a(151));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,s=e.disabled,r=e.palette,i=e.text,m=e.labelPalette,d=e.active,u=e.labelSize,f=e.getRef,p=e.dataId,h=d?l.default[r+"_active"]:"",g=s?l.default.disabled:l.default.pointer;return o.default.createElement("span",{className:l.default.container+" "+g+" "+(i?l.default.layout:l.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:l.default.input+" "+(n?l.default.checked:""),name:a,checked:n,disabled:s,ref:f}),o.default.createElement("label",{className:l.default["label_"+r]+" "+h+" "+(i?l.default.layoutshrink:""),onClick:this.onChange,"data-id":p},o.default.createElement("span",null)),i&&o.default.createElement("span",{className:l.default.text},o.default.createElement(c.default,{text:i,palette:m,id:t,size:u,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=i,i.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},i.propTypes={active:s.default.bool,checked:s.default.bool,dataId:s.default.string,disabled:s.default.bool,getRef:s.default.func,id:s.default.string.isRequired,labelPalette:s.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:s.default.oneOf(["small","medium","large"]),name:s.default.string,onChange:s.default.func,palette:s.default.oneOf(["primary","danger"]),text:s.default.string},i.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},987:function(e,t,a){"use strict";var n=a(12),o=a.n(n),s=a(9),l=a.n(s),c=a(10),r=a.n(c),i=a(13),m=a.n(i),d=a(14),u=a.n(d),f=a(0),p=a.n(f),h=a(1),g=a.n(h),_=a(993),v=a.n(_),I=function(e){function t(){return l()(this,t),m()(this,(t.__proto__||o()(t)).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.href,a=e.title,n=e.target,o=e.className,s=e.children,l=e.rel,c=(e.download,e.dataTestid);return p.a.createElement("a",{href:t,target:n,className:v.a.link+" "+(o||""),"data-title":a,rel:l,dataId:c},s)}}]),t}(p.a.Component);t.a=I,I.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},I.propTypes={className:g.a.string,href:g.a.string,isDownload:g.a.bool,rel:g.a.string,target:g.a.oneOf(["_blank","_self"]),text:g.a.string,title:g.a.string}},993:function(e,t,a){e.exports={link:"ExternalLink-module__link"}}}]);