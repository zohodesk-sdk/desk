(window.deskappJsonp=window.deskappJsonp||[]).push([[92],{1090:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l});var a=n(3),o=n(8);function r(e){return e===a.n.EXTRASMALL?1:e===a.n.SMALL?2:e===a.n.MEDIUM?3:e===a.n.LARGE?3:e===a.n.EXTRALARGE?3:e===a.n.VERYEXTRALARGE?4:void 0}function u(e,t){var n=a.m[a.L.Q_DUE],o=e.map(function(e){var t=e;return e===n.API_OVER_DUE?t=n.OVER_DUE:e===n.API_NO_DUE&&(t=n.NO_DUE),parseInt(t)});return o.push(parseInt(t)),o.sort(function(e,t){return e-t}),o.map(function(e){var t=e;return e===n.OVER_DUE?t=n.API_OVER_DUE:e===n.NO_DUE&&(t=n.API_NO_DUE),""+t})}function i(e,t){var n="default";if(a.L.Q_DUE===t){var o=a.m[a.L.Q_DUE];e===o.API_OVER_DUE?n="danger":e===o.API_NO_DUE&&(n="success")}return n}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u="",i=o.f.getI18NValue;if(a.L.Q_DUE===t){var l=a.m[a.L.Q_DUE];if(e===l.API_OVER_DUE)u=i("support.queue.overdue");else if(e===l.API_NO_DUE)u=i("support.queue.overdue.noduedate");else{var s=parseInt(e),c=s%60,d=[];if(s>=60){var m=(s-c)/60;if(m>=24){var p=parseInt(m/24);d.push(p,i(1==p?"day":"days")),m%=24}m>0&&d.push(m,i(1==m?"hour":"hours"))}if(c>0&&d.push(c,i(1==c?"minute":"minutes")),n){var S=r.indexOf("noDue"),f=r.indexOf(e);u=(f+=-1===S?1:2)===r.length?i("support.queue.slot.title.withmore",[d.join(" ")]):i("support.queue.slot.title",[d.join(" ")])}else u=d.join(" ")}}else a.L.Q_STATUS===t?"otherTickets"===e&&(u=i("support.queue.status.other")):a.L.Q_CRM===t?"potentials"===e?u=i("potentials"):"unmapped"===e?u=i("New"):"customers"===e?u=i("support.customers.label"):"contacts_leads"===e&&(u=i("support.queue.contactled")):a.L.Q_PRIORITY===t&&"otherTickets"===e&&(u=i("support.queue.priority.other"));return""===u?e:u}},1170:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(3);function o(e){var t={};return a.L.Q_DUE===e?(t.queueName="Countdown Mode",t.queueIcon="zdDuetimeQueueNew",t.queueMsg="The Countdown Mode orders your tickets into columns based on when theyâ€™re due. You can clearly see what needs your attention right now, in a few hours, and later in the day."):a.L.Q_STATUS===e?(t.queueName="Status Mode",t.queueIcon="zdstatusqueueNew",t.queueMsg="The Status Mode orders your tickets into columns based on their current status. It helps you to prioritize and focus on moving tickets to the next step."):a.L.Q_CRM===e?(t.queueName="Handshake Mode",t.queueIcon="zdCRMQueueNew",t.queueMsg="The Handshake Mode orders your tickets into columns based on contact type in Zoho CRM."):a.L.Q_PRIORITY===e&&(t.queueName="Priority Mode",t.queueIcon="zdPriorityQueueNew",t.queueMsg="The Priority Mode orders your tickets into columns based on their current priority. It helps you to prioritize and focus on moving tickets to the next step."),t}},1204:function(e,t,n){"use strict";n.d(t,"c",function(){return v}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return O}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return b}),n.d(t,"g",function(){return T}),n.d(t,"f",function(){return E});var a=n(5),o=n.n(a),r=n(2),u=n.n(r),i=n(11),l=n.n(i),s=n(23),c=n.n(s),d=n(15),m=n(3),p=n(6),S=n(7),f=n(17),_=n(46),g=(n(8),n(1090)),I=m.m.QUEUE_INFO;function v(e,t){return function(n,a){return n(function(e){var t=L(e);return{types:Object(p.m)("SLOTS"),callAPI:function(n){return Object(d.a)(t+"?"+Object(_.b)(n),!1,{orgId:n.currentOrgId}).get().then(function(t){return{res:t,depId:Object(f.r)(n),queue:e}})}}}(t)).then(function(){var o=a(),r=Object(f.r)(o),u=o.queue[r][t].selectedSlots,i=Object(g.c)(o.screenMode);u.length<=m.m[t].MIN_SLOT_COUNT&&(i=u.length);var s=Array.apply(void 0,c()(Array(i))).map(function(o,i){return n(e===I.AGENT_Q?C(t,u[i],r):e===I.TEAMS_Q?O(t,u[i],r):h(t,u[i],r)).then(function(o){return function e(t,n,a,o,r){var u=o();var i=a.result;if(void 0===i||0===i.length){var l=y(n,u);return void 0!==l&&""!==l?r(t===I.AGENT_Q?C(n,l,a.deptId):t===I.TEAMS_Q?O(n,l,a.deptId):h(n,l,a.deptId)).then(function(a){return e(t,n,a.data,o,r)}):"no more slots"}return"success"}(e,t,o.data,a,n)})});l.a.all(s).then(function(){var o=y(t,a());if(o)return n(e===I.AGENT_Q?C(t,o,r):e===I.TEAMS_Q?O(t,o,r):h(t,o,r)).then(function(e){console.log("PreFetch Call back...")})})})}}function h(e,t,n,a){var o=function(e,t){var n="/api/v1/",a="limit="+m.m.QUEUE_INFO.SCROLL_LIMIT;m.L.Q_DUE===e?(n+="ticketsByDueInMinutes",a+="&dueInMinutes="+t):m.L.Q_STATUS===e?(n+="ticketsByStatus",a+="&status="+t):m.L.Q_CRM===e?(n+="ticketsByCrmContactType",a+="&crmContactType="+t):m.L.Q_PRIORITY===e&&(n+="ticketsByPriority",a+="&priority="+t);return{url:n,params:a}}(e,t),r=o.url,i=o.params;return i+="&from="+(a=void 0===a?1:a+1),{payload:{slotName:t,depId:n,queue:e},types:Object(p.m)("TICKETS_FOR_SLOT"),callAPI:function(n){return i+=function(e){var t="",n=Object(f.ib)(e);return t+="default"!=n?"&viewId="+n:""}(n),r=r+"?"+Object(_.a)(n)+"&include=contacts,isRead,assignee,team&"+i,Object(d.a)(r,!1,{orgId:n.currentOrgId}).get().then(function(o){var r={};return r=204===o.responseStatus?o:Object(S.normalize)(o.data,Object(S.arrayOf)(Object(S.schema)(m.L.TICKET_L,{mapping:{contact:Object(S.schema)(m.L.CONTACT_L,{mapping:{account:Object(S.schema)(m.L.ACCOUNT_L)}}),assignee:Object(S.schema)(m.L.AGENT_L),team:Object(S.schema)(m.L.TEAMS_L)}}))),u()({},r,{queue:e,slotName:t,deptId:Object(f.r)(n),from:a})})}}}function O(e,t,n,a,o){var r=function(e,t){var n="/api/v1/",a="limit="+m.m.QUEUE_INFO.SCROLL_LIMIT;m.L.Q_DUE===e?(n+="teamTicketsByDueInMinutes",a+="&dueInMinutes="+t):m.L.Q_STATUS===e?(n+="teamTicketsByStatus",a+="&status="+t):m.L.Q_CRM===e?(n+="teamTicketsByCrmContactType",a+="&crmContactType="+t):m.L.Q_PRIORITY===e&&(n+="teamTicketsByPriority",a+="&priority="+t);return{url:n,params:a}}(e,t),i=r.url,l=r.params;return l+="&from="+(a=void 0===a?1:a+1),{payload:{slotName:t,depId:n,queue:e},types:Object(p.m)("TICKETS_FOR_SLOT"),callAPI:function(n){return l=o?l+"&teamId="+o:l+function(e){var t="",n=e.routing.paramMap.teamId;return n=n||e.myInfo.id,t+="&teamId="+n}(n),i=i+"?"+Object(_.a)(n)+"&include=contacts,isRead,assignee,team&"+l,Object(d.a)(i,!1,{orgId:n.currentOrgId}).get().then(function(o){var r={};return r=204===o.responseStatus?o:Object(S.normalize)(o.data,Object(S.arrayOf)(Object(S.schema)(m.L.TICKET_L,{mapping:{contact:Object(S.schema)(m.L.CONTACT_L,{mapping:{account:Object(S.schema)(m.L.ACCOUNT_L)}}),assignee:Object(S.schema)(m.L.AGENT_L),team:Object(S.schema)(m.L.TEAMS_L)}}))),u()({},r,{queue:e,slotName:t,deptId:Object(f.r)(n),from:a})})}}}function C(e,t,n,a,o){var r=function(e,t){var n="/api/v1/",a="limit="+m.m.QUEUE_INFO.SCROLL_LIMIT;m.L.Q_DUE===e?(n+="agentTicketsByDueInMinutes",a+="&dueInMinutes="+t):m.L.Q_STATUS===e?(n+="agentTicketsByStatus",a+="&status="+t):m.L.Q_CRM===e?(n+="agentTicketsByCrmContactType",a+="&crmContactType="+t):m.L.Q_PRIORITY===e&&(n+="agentTicketsByPriority",a+="&priority="+t);return{url:n,params:a}}(e,t),i=r.url,l=r.params;return l+="&from="+(a=void 0===a?1:a+1),{payload:{slotName:t,depId:n,queue:e},types:Object(p.m)("TICKETS_FOR_SLOT"),callAPI:function(n){return l=o?l+"&agentId="+o:l+function(e){var t="",n=e.routing.paramMap.agentId;return n=n||e.myInfo.id,t+="&agentId="+n}(n),i=i+"?"+Object(_.a)(n)+"&include=contacts,isRead,assignee,team&"+l,Object(d.a)(i,!1,{orgId:n.currentOrgId}).get().then(function(o){var r={};return r=204===o.responseStatus?o:Object(S.normalize)(o.data,Object(S.arrayOf)(Object(S.schema)(m.L.TICKET_L,{mapping:{contact:Object(S.schema)(m.L.CONTACT_L,{mapping:{account:Object(S.schema)(m.L.ACCOUNT_L)}}),assignee:Object(S.schema)(m.L.AGENT_L),team:Object(S.schema)(m.L.TEAMS_L)}}))),u()({},r,{queue:e,slotName:t,deptId:Object(f.r)(n),from:a})})}}}function b(e){var t=function(e){var t="";m.L.Q_DUE===e?t+="mode=dueInMinutes":m.L.Q_STATUS===e?t+="mode=status":m.L.Q_CRM===e?t+="mode=crmContactType":m.L.Q_PRIORITY===e&&(t+="mode=priority");return{url:"/api/v1/queueSlots",params:t}}(e);return{types:Object(p.m)("ALL_SLOTS"),callAPI:function(n){var a=Object(f.r)(n),o=t.url+"?"+Object(_.b)(n)+"&"+t.params;return Object(d.a)(o,!1,{orgId:n.currentOrgId}).get().then(function(t){return{res:t,depId:a,queue:e}})}}}function T(e,t){var n=L(e);return{types:Object(p.m)("SLOTS"),callAPI:function(a){var r=Object(f.r)(a);return Object(d.a)(n,!1,{orgId:a.currentOrgId}).patch("",o()({},r,t)).then(function(t){return{res:t,depId:r,queue:e}})}}}function E(e){var t=m.m[e].LAST_ACCESS_Q_NAME;return{types:Object(p.m)("UPDATE_LASTACCESS_Q"),callAPI:function(e){var n=Object(f.r)(e);return Object(d.a)("/api/v1/me/lastAccessedQueueView",!1,{orgId:e.currentOrgId}).patch("",o()({},n,t)).then(function(e){var t;return t={},o()(t,n,e[n]),o()(t,"deptId",n),t})}}}function y(e,t){var n=function(e,t){if(t.queue){var n=Object(f.r)(t);return t.queue[n][e].lastRequestedSlot}}(e,t);if(t.queue&&n){var a=Object(f.r)(t),o=t.queue[a][e].selectedSlots,r=o.indexOf(n)+1;if(r<=o.length)return o[r]}return""}function L(e){var t="/api/v1/me/";return m.L.Q_DUE===e?t+="dueInMinutesSlots":m.L.Q_STATUS===e?t+="statusSlots":m.L.Q_CRM===e?t+="crmContactTypeSlots":m.L.Q_PRIORITY===e&&(t+="prioritySlots"),t}},1643:function(e,t,n){e.exports={manabotText:"ManageQueueColumn-module__manabotText",manapoplayer:"ManageQueueColumn-module__manapoplayer",manapopparatxt:"ManageQueueColumn-module__manapopparatxt",manapopaddcolmn:"ManageQueueColumn-module__manapopaddcolmn common-module__offSelection",addclmoen:"ManageQueueColumn-module__addclmoen",manabotPos:"ManageQueueColumn-module__manabotPos",managebotPosOpen:"ManageQueueColumn-module__managebotPosOpen",manaDisablePos:"ManageQueueColumn-module__manaDisablePos"}},1644:function(e,t,n){e.exports={manaopencolmn:"QueueColumn-module__manaopencolmn",manaopentxt:"QueueColumn-module__manaopentxt common-module__dotted common-module__oflow common-module__ellipsis",curDefault:"QueueColumn-module__curDefault",curMove:"QueueColumn-module__curMove",cirplus:"QueueColumn-module__cirplus",manadelete:"QueueColumn-module__manadelete",animation:"QueueColumn-module__animation",active:"QueueColumn-module__active"}},1645:function(e,t,n){e.exports={mg_qhead:"ManageQueueContainer-module__mg_qhead",mg_close:"ManageQueueContainer-module__mg_close",mg_text:"ManageQueueContainer-module__mg_text",mg_inftxt:"ManageQueueContainer-module__mg_inftxt",mg_slotspart:"ManageQueueContainer-module__mg_slotspart",mg_lst:"ManageQueueContainer-module__mg_lst",mg_slotpad:"ManageQueueContainer-module__mg_slotpad"}},635:function(e,t,n){"use strict";n.r(t);var a=n(12),o=n.n(a),r=n(9),u=n.n(r),i=n(10),l=n.n(i),s=n(13),c=n.n(s),d=n(14),m=n.n(d),p=n(0),S=n.n(p),f=n(1),_=n.n(f),g=n(16),I=n(1643),v=n.n(I),h=n(1644),O=n.n(h),C=n(30),b=function(e){function t(e){u()(this,t);var n=c()(this,(t.__proto__||o()(t)).call(this,e));return n.deleteSlotClick=n.deleteSlotClick.bind(n),n}return m()(t,e),l()(t,[{key:"deleteSlotClick",value:function(){this.props.deleteSlotClick(this.props.slotName)}},{key:"render",value:function(){var e=this.props,t=e.columName,n=(e.slotName,e.channelIcon),a=e.needTransition,o=e.needActive,r=e.onclick,u=e.isNeedIcon,i=void 0===u||u,l=e.isDisabledSlot,s=e.eleRef,c=a?O.a.animation:"",d=o?O.a.active:"",m=l?O.a.curDefault:O.a.curMove;return S.a.createElement("div",{className:O.a.manaopencolmn+" "+c+" "+d+m,key:t,onClick:r,ref:s},i?S.a.createElement("span",{className:O.a.manadelete,onClick:this.deleteSlotClick},"delete2"==n?S.a.createElement(C.TicketsFontIcon,{name:n,size:"13"}):S.a.createElement(C.CommonFontIcon,{name:n,size:"13"})):null,t?S.a.createElement("span",{className:O.a.manaopentxt},t):"")}}]),t}(S.a.Component),T=b;b.propTypes={channelIcon:_.a.string,columName:_.a.string,deleteSlotClick:_.a.func,eleRef:_.a.func,isDisabledSlot:_.a.bool,isNeedIcon:_.a.bool,needActive:_.a.bool,needTransition:_.a.bool,onclick:_.a.func,slotName:_.a.string},b.defaultProps={needTransition:!0,needActive:!0};var E=n(80),y=n.n(E),L=n(72),N=n.n(L),k=n(112),Q=n.n(k),M=function(e){function t(){return u()(this,t),c()(this,(t.__proto__||o()(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.dropList,n=e.togglePopup,a=e.isPopupOpen,o=e.isPopupReady,r=e.position,u=e.getTargetRef,i=e.getContainerRef;return S.a.createElement("div",null,S.a.createElement(T,{columName:"Add Column",needActive:!0,needTransition:!1,channelIcon:"circlePlus",isStaticSlot:!0,onclick:n,eleRef:u}),a?S.a.createElement(N.a,{getRef:i,isActive:o,isArrow:!1,size:"default",boxPosition:r},S.a.createElement("div",null,t.map(function(e,t){return S.a.createElement(Q.a,{key:t,value:e.name,onClick:e.onClick})}))):null)}}]),t}(S.a.Component);M.propTypes={dropList:_.a.array,getContainerRef:_.a.func,getTargetRef:_.a.func,isPopupOpen:_.a.bool,isPopupReady:_.a.bool,position:_.a.string,togglePopup:_.a.func};var A=y()(M),R=n(3),j=n(1090),q=n(8),U=n(936),P=n(62),D=function(e){function t(e){u()(this,t);var n=c()(this,(t.__proto__||o()(t)).call(this,e));return n.state={isSlotUpdated:!1},n.deleteSlotClick=n.deleteSlotClick.bind(n),n.addSlot=n.addSlot.bind(n),n.onSortEnd=n.onSortEnd.bind(n),n}return m()(t,e),l()(t,[{key:"deleteSlotClick",value:function(e){this.setState(function(){return{isSlotUpdated:!0}});var t=this.props.deleteSlotClick;t(e)}},{key:"addSlot",value:function(e,t){this.setState(function(){return{isSlotUpdated:!0}});var n=this.props.addSlot;n(t)}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,a=this.props.onSortEnd;a({oldIndex:t,newIndex:n}),this.setState(function(){return{isSlotUpdated:!0}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerName,a=t.queueIcon,o=t.queueName,r=t.queueMessage,u=t.closeIconClick,i=t.selectedSlots,l=void 0===i?[]:i,s=t.remainingSlots,c=void 0===s?[]:s,d=t.saveButtonClick,m=t.isDisableMode,p={display:"none"},f=R.m[o],_=l.length,I=0==c.length||_>=f.MAX_SLOT_COUNT?p:{},h=_<f.MAX_SLOT_COUNT?p:{},O=f.STATIC_SLOTS,C=this.deleteSlotClick,b="delete2";l.length<=f.MIN_SLOT_COUNT&&(b="",C=function(){});var T=(this.state?{}:{marginBottom:"-51px"}).isSlotUpdated,E=[];c.forEach(function(t){E.push({id:t,name:Object(j.b)(t,o),onClick:e.addSlot})});var y=f.RE_ORDER;if(m){var L=q.f.getI18NValue("support.queue.crminteg.notenable");return S.a.createElement(g.Container,{className:v.a.manapoplayer},S.a.createElement(P.c,{title:n,iconName:a,iconSize:"17",onClose:u,paddingSize:"small"}),S.a.createElement(P.a,null,S.a.createElement("span",{className:v.a.manapopparatxt},S.a.createElement(g.Box,{scroll:"vertical",flexible:!0,className:v.a.manaDisablePos},L))))}return S.a.createElement(g.Container,{className:v.a.manapoplayer},S.a.createElement(P.c,{title:n,iconName:a,iconSize:"17",onClose:u,paddingSize:"small"}),S.a.createElement("span",{className:v.a.manapopparatxt},r),S.a.createElement("div",{className:v.a.manapopaddcolmn,style:I},S.a.createElement(A,{dropList:E})),S.a.createElement(P.a,{paddingSize:"small"},S.a.createElement(z,{slotsArray:l,onSortEnd:this.onSortEnd,staticSlots:O,deleteSlotIcon:b,deleteIconClick:C,queueName:o,isReorderEnable:y})),S.a.createElement("div",{className:v.a.manabotText,style:h},"Please delete an existing bticket column before adding a new column"),S.a.createElement("div",{style:T},S.a.createElement(P.b,{submitText:"Save",onSubmit:d,cancelText:"Cancel",onCancel:u,paddingSize:"small"})))}}]),t}(p.Component),x=D,w=Object(U.SortableElement)(function(e){var t=e.displaySlotName,n=e.slotName,a=e.isStaticSlot,o=e.deleteSlotIcon,r=e.deleteIconClick,u=e.queueName,i=e.isDisabledSlot;return S.a.createElement("div",{className:v.a.addclmoen},S.a.createElement(T,{columName:t,slotName:n,needActive:!1,needTransition:!a,channelIcon:a?"information57":o,deleteSlotClick:a?function(){}:r,isDisabledSlot:i,isNeedIcon:u!==R.L.Q_CRM}))}),z=Object(U.SortableContainer)(function(e){var t=e.slotsArray,n=e.staticSlots,a=e.isReorderEnable,o=e.deleteSlotIcon,r=e.deleteIconClick,u=e.queueName;return S.a.createElement("div",null,t.map(function(e,t){var i=-1!==n.indexOf(e),l=!a||i,s=Object(j.b)(e,u);return S.a.createElement(w,{displaySlotName:s,slotName:e,index:t,key:e,isStaticSlot:i,deleteSlotIcon:o,deleteIconClick:r,disabled:l,isDisabledSlot:l,queueName:u})}))});D.propTypes={addSlot:_.a.func,closeIconClick:_.a.func,deleteSlotClick:_.a.func,headerName:_.a.string,onSortEnd:_.a.func,queueIcon:_.a.string,queueMessage:_.a.string,queueName:_.a.string,remainingSlots:_.a.array,saveButtonClick:_.a.func,selectedSlots:_.a.array};n(1645);var B=n(26),F=n(17),V=n(1204),Y=n(1170),G=n(24),K=function(e){function t(e){u()(this,t);var n=c()(this,(t.__proto__||o()(t)).call(this,e));return n.closeIconClick=n.closeIconClick.bind(n),n.deleteSlot=n.deleteSlot.bind(n),n.updateSlot=n.updateSlot.bind(n),n.addSlot=n.addSlot.bind(n),n.onSortEnd=n.onSortEnd.bind(n),n.state={selectedSlots:[],remainingSlots:[]},n}return m()(t,e),l()(t,[{key:"closeIconClick",value:function(){this.props.disableFreezeLayer()}},{key:"filterRemainingSlots",value:function(e,t){var n=[];return e.forEach(function(e,a){-1===t.indexOf(e)&&n.push(e)}),{remainingSlots:n,selectedSlots:t}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getAllSlots,n=e.queueName;e.currentSlots.allSlots.length<=0&&t(n)}},{key:"componentWillReceiveProps",value:function(e){var t=e.currentSlots,n=t.allSlots;if(n.length>0){var a=this.filterRemainingSlots(n,t.selectedSlots);this.setState(function(e){return{selectedSlots:a.selectedSlots,remainingSlots:a.remainingSlots}})}}},{key:"componentWillMount",value:function(){var e=this.props.currentSlots,t=e.allSlots;if(t.length>0){var n=this.filterRemainingSlots(t,e.selectedSlots);this.setState(function(e){return{selectedSlots:n.selectedSlots,remainingSlots:n.remainingSlots}})}}},{key:"deleteSlot",value:function(e){var t=this.state.selectedSlots.slice(),n=this.state.remainingSlots.slice(),a=t.indexOf(e);-1!==a&&e&&(t.splice(a,1),R.L.Q_DUE===this.props.queueName?n=Object(j.d)(n,e):n.push(e),this.setState(function(e){return{selectedSlots:t,remainingSlots:n}}))}},{key:"addSlot",value:function(e){var t=this.props.queueName,n=this.state.selectedSlots.slice(),a=this.state.remainingSlots.slice(),o=a.indexOf(e);if(R.L.Q_STATUS===t||R.L.Q_PRIORITY===t){a.splice(o,1);var r=n.length-1;n.splice(r,0,e)}else R.L.Q_DUE===t&&(a.splice(o,1),n=Object(j.d)(n,e));this.setState(function(e){return{selectedSlots:n,remainingSlots:a}})}},{key:"updateSlot",value:function(){var e=this.props,t=e.updateQueueSlots,n=e.queueName,a=e.disableFreezeLayer,o=e.currentSlots.selectedSlots,r=this.state.selectedSlots;r.toString()!==o.toString()?t(n,r).then(function(e){a()}):a()}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex;this.setState(function(e){return{selectedSlots:Object(U.arrayMove)(e.selectedSlots,t,n)}})}},{key:"render",value:function(){var e=this.props,t=e.queueName,n=e.isCrmIntegrated,a=this.state,o=a.selectedSlots,r=a.remainingSlots,u=Object(Y.a)(t);return S.a.createElement(x,{queueName:t,headerName:u.queueName,queueIcon:u.queueIcon,queueMessage:u.queueMsg,closeIconClick:this.closeIconClick,selectedSlots:o,deleteSlotClick:this.deleteSlot,saveButtonClick:this.updateSlot,remainingSlots:r,addSlot:this.addSlot,onSortEnd:this.onSortEnd,isDisableMode:!n&&t===R.L.Q_CRM})}}]),t}(p.Component);K.propTypes={currentSlots:_.a.object,disableFreezeLayer:_.a.func,getAllSlots:_.a.func,push:_.a.func,queueName:_.a.string,updateQueueSlots:_.a.func};t.default=Object(B.connect)(function(e){var t=e.routing.paramMap.queue,n=e.integrations&&e.integrations.isCrmIntegrated||!1;return{orgId:e.currentOrgId,currentSlots:e.queue[Object(F.r)(e)][t],queueName:t,updateQueueSlots:e.updateQueueSlots,isCrmIntegrated:n}},{push:G.K,disableFreezeLayer:G.f,updateQueueSlots:V.g,getAllSlots:V.b})(K)}}]);