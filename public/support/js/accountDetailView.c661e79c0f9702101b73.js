(window.deskappJsonp=window.deskappJsonp||[]).push([[31],{1025:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return i});var n=function(e){var t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")?t:"http://"+t};function o(e){return 10==e.length?"("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6,10):e}function i(e,t,a){return void 0!==a?e=e+"&"+t+"="+a:"limit"==t&&(e+="&limit=10"),e}},1069:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return i});var n=function(e){return e.module.profile[e.myInfo.profileId].permissions.financeInteg},o=function(e){return"ENABLED"===e.integrations.INVOICE.status?"invoice":"ENABLED"===e.integrations.BOOKS.status?"books":null},i=function(e){return"ENABLED"===e.integrations.INVOICE.status?"ZohoInvoice":"ENABLED"===e.integrations.BOOKS.status?"ZohoBooks":null}},1096:function(e,t,a){"use strict";(function(e){a.d(t,"n",function(){return f}),a.d(t,"l",function(){return p}),a.d(t,"a",function(){return b}),a.d(t,"k",function(){return h}),a.d(t,"j",function(){return _}),a.d(t,"B",function(){return E}),a.d(t,"A",function(){return v}),a.d(t,"r",function(){return I}),a.d(t,"b",function(){return g}),a.d(t,"q",function(){return y}),a.d(t,"o",function(){return N}),a.d(t,"f",function(){return k}),a.d(t,"g",function(){return C}),a.d(t,"p",function(){return D}),a.d(t,"m",function(){return O}),a.d(t,"t",function(){return P}),a.d(t,"u",function(){return x}),a.d(t,"s",function(){return A}),a.d(t,"z",function(){return L}),a.d(t,"w",function(){return S}),a.d(t,"d",function(){return w}),a.d(t,"v",function(){return j}),a.d(t,"c",function(){return M}),a.d(t,"x",function(){return z}),a.d(t,"e",function(){return V}),a.d(t,"i",function(){return B}),a.d(t,"h",function(){return R}),a.d(t,"y",function(){return U});var n=a(19),o=a.n(n),i=a(3),c=a(17),l=a(24),r=a(8),s=a(15),u=a(6),m=a(46),d=a(1069);function f(e,t,a,n){return{types:Object(u.m)("GETINVOICES"),callAPI:function(o){var c=t&&"all"!=t?"&status="+t:"",l="";"Cases"===e&&(l="&departmentId="+o.module.ticket[a].departmentId);var r="pageNumber="+n+"&deskEntityId="+a+"&deskModuleName="+e+c+l;return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(o)+"/invoices?"+r,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:n}})}}}e.ZInvoice={};var p=function(e,t,a,n){return{types:Object(u.m)("GETESTIMATES"),callAPI:function(o){var c="pageNumber="+n+"&deskEntityId="+a+"&deskModuleName="+e+(t&&"all"!=t?"&status="+t:"");return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(o)+"/estimates?"+c,!1,{orgId:o.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[],pageNumber:n}})}}},b=function(e){return{type:"CHANGE_FINANCE_ENTITY",data:{entity:e.entity,module:e.module,status:e.status}}};function h(e,t){return{types:Object(u.m)("GETACTIVITY"),callAPI:function(a){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(a)+"/contacts/"+e+"/activity?pageNumber="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return{data:204!=e.responseStatus?e.data:[]}})}}}function _(e){return{types:Object(u.m)("DELINKCONTACT"),callAPI:function(t){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(t)+"/contacts/disassociate?deskEntityId="+e,!1,{orgId:t.currentOrgId}).del().then(function(e){return e})}}}function E(e,t){return{types:Object(u.m)("UPDATE_INVOICE_STATUS"),callAPI:function(a){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(a)+"/invoices/"+e,!1,{orgId:a.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function v(e,t){return{types:Object(u.m)("UPDATE_ESTIMATE_STATUS"),callAPI:function(a){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(a)+"/estimates/"+e,!1,{orgId:a.currentOrgId}).patch("",{status:t}).then(function(e){return e})}}}function I(e){return{types:Object(u.m)("MARKALL_INVOICE_SENT"),callAPI:function(t){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(t)+"/invoices/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}var g=function(){return{type:"CLEAR_SELECTED_FINANCE_ENTITIES"}};function y(e){return{types:Object(u.m)("MARKALL_ESTIMATE_SENT"),callAPI:function(t){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(t)+"/estimates/markAsSent",!1,{orgId:t.currentOrgId}).post("",{ids:e}).then(function(e){return e})}}}function N(){return{types:Object(u.m)("GET_PAYMENTMETA"),callAPI:function(e){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(e)+"/paymentTermsMeta",!1,{orgId:e.currentOrgId}).get().then(function(e){return e})}}}function k(e){return{types:Object(u.m)("CREATE_CONTACT"),callAPI:function(t,a){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(t)+"/contacts",!1,{orgId:t.currentOrgId}).post("",e).then(function(e){return e})}}}function C(e,t){return{types:Object(u.m)("CREATE_CONTACT_MAPPING"),callAPI:function(a,n){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(a)+"/contacts/"+t,!1,{orgId:a.currentOrgId}).patch("",e).then(function(e){return e})}}}function T(e,t){var a={Cases:"tickets",Contacts:"contacts",Accounts:"accounts"};return{types:Object(u.m)("HAS_UNBILLED_TIMEENTRY"),callAPI:function(n){var o="Cases"!=t?Object(m.a)(n,!0):"",c=""+i.w+a[t]+"/"+e+"/timeEntry?isBillable=true"+o;return Object(s.a)(c,!1,{orgId:n.currentOrgId}).get().then(function(e){return{hasUnBilledTimeEntry:204!=e.responseStatus&&e.data.some(function(e){return null==e.invoiceId})}})}}}function D(e){return{types:Object(u.m)("GET_UNBILLED_TIMEENTRY"),callAPI:function(t){return Object(s.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function O(e){return{types:Object(u.m)("GET_FINACE_ENTITY"),callAPI:function(t){return Object(s.a)(e,!1,{orgId:t.currentOrgId}).get().then(function(e){return e})}}}function P(e,t){return{type:"CHANGE_INVOICE_MODULE",data:{module:e,status:t}}}function x(e){return{type:"CHANGE_INVOICE_STATUS",data:{status:e}}}function A(e){return{type:"SELECT_INVOICE",data:{selectedItem:e}}}function L(){return{type:"RESET_INVOICE_DEFAULT_DATA"}}function S(e){return{type:"OPEN_INVOICE_DETAILS",data:e}}function w(){return{type:"CLOSE_INVOICE_DETAILS"}}function j(e){return{type:"OPEN_INVOICE_IFRAME_FORM",data:e}}function M(){return{type:"CLOSE_INVOICE_IFRAME_FORM"}}function z(e){return{type:"OPEN_INVOICE_FORM",data:e}}function V(){return{type:"CLOSE_INVOICE_FORM"}}var F=function(e){var t=e.integrations,a=Object(c.I)(e),n=i.l[a],l=e.routing.paramMap.moduleId,r=e.module[n.stateKey][l];return{integrations:t,moduleId:l,contactId:"tickets"===a?r.contactId:l,moduleData:r,deskModuleName:n.deskModuleName,orgName:Object(c.O)(e),financeContact:o()("financeInfo.financeContact",e)||{}}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,n){var o=n(),i=F(o),c=i.moduleId,l=i.deskModuleName,r=i.moduleData,s=i.orgName,u=i.financeContact,m=i.integrations;ZInvoice.entityType="invoice",ZInvoice.isDetailView=!1,ZInvoice.includeTimeEntries=!1;var f=function(n){if(!n){ZInvoice.isHasUnbilledTimeEntries=!1,"Cases"===l?(ZInvoice.caseSubject="[## "+r.ticketNumber+" ##] "+r.subject,ZInvoice.caseId=r.id):(ZInvoice.caseSubject="",ZInvoice.caseId="");var i="/support/"+s+"/connectzb?entityType=2&acceptJHTML=true&entityid="+u.id+"&accountType="+Object(d.a)(o);return a(j({isOpen:!0,src:i,openFinance:e}))}ZInvoice.includeTimeEntries=!0,ZInvoice.isHasUnbilledTimeEntries=!0;var c=t.timeEntryIds;return a(z({type:"invoiceForm",data:{isPreferenceOpen:!0,financeContact:u,timeEntryIds:void 0===c?[]:c},accountType:"ENABLED"==m.INVOICE.status?"invoice":"books",entity:"invoice"}))},p=t.timeEntryIds;return(void 0===p?[]:p).length?f(!0):a(T(c,l)).then(function(e){return f(e.data.hasUnBilledTimeEntry)})}},R=function(e){return function(t,a){var n=a(),o=F(n),i=o.moduleData,c=o.deskModuleName,l=o.orgName,r=o.financeContact;return ZInvoice.includeTimeEntries=!1,ZInvoice.isDetailView=!1,ZInvoice.entityType="estimate","Cases"===c?(ZInvoice.caseSubject="[## "+i.ticketNumber+" ##] "+i.subject,ZInvoice.caseId=i.id):(ZInvoice.caseSubject="",ZInvoice.caseId=""),t(j({isOpen:!0,src:"/support/"+l+"/connectzb?entityType=1&acceptJHTML=true&entityid="+r.id+"&accountType="+Object(d.a)(n),openFinance:e}))}},U=function(e,t,a){return function(n,o){var c=o(),m=F(c),f=m.contactId,p=m.deskModuleName,b=m.integrations;return n(function(e,t){return{types:Object(u.m)("SEARCHCONTACTS"),callAPI:function(a){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(a)+"/contacts/search?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}}(f,p)).then(function(o){return o.data&&"contactId"==o.data.matchedBy?n(function(e,t){return{types:Object(u.m)("FINANCECONTACT"),callAPI:function(a){return Object(s.a)(i.w+"zohoFinance/"+Object(d.c)(a)+"/contacts?deskEntityId="+e+"&deskModuleName="+t,!1,{orgId:a.currentOrgId}).get().then(function(e){return e})}}}(f,p)).then(function(){"invoice"===t?n(B(e,a)):"estimate"===t?n(R(e)):e()}):(n(z({type:"invoiceForm",data:204!=o.data.responseStatus?o.data:null,accountType:"ENABLED"==b.INVOICE.status?"invoice":"books",openFinance:e,entity:t})),{isInvoiceInfoOpen:!1})}).catch(function(e){throw n(Object(l.Q)({type:"alert",message:r.f.getI18NValue("support.invoice.integ.email.error")})),e})}}}).call(this,a(68))},1195:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(1),h=a.n(b),_=a(1196),E=a.n(_),v=a(947),I=a.n(v),g=a(246),y=a.n(g),N=a(109),k=a(8),C=a(1025),T=function(e){function t(){return c()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.text,n=e.fieldType,o=(e.onClick,e.size),i=e.isBold,c=e.labelcolor,l=e.textcolor;return p.a.createElement("div",{className:E.a.title},p.a.createElement("span",{className:E.a.user+" "+E.a[o]+" "+E.a[c],"data-title":t},t),p.a.createElement("span",{className:E.a.name+" "+E.a[o]+" "+E.a[l]+" "+(i&&E.a.bold)},n.match(/^(Lookup|LookUp|OwnerLookup|User Lookup|Text|Number|Percent|Decimal|Picklist|Pick List|BigInt|Integer|Double|Formula)$/)&&a,"Currency"==n&&a,"Date"==n&&p.a.createElement(k.d,{ago:"ago",format:function(){return"DD/MM/YYYY"},later:"late",to:a}),"DateTime"==n&&p.a.createElement(k.d,{ago:"ago",format:function(){return"DD/MM/YYYY hh:mm A"},later:"late",to:a}),"Email"==n&&p.a.createElement(N.a,{className:E.a.anchor,href:"mailto:"+a},a),"Phone"==n&&p.a.createElement(N.a,{className:E.a.anchor,href:"tel:"+a},a),n.match(/^(URL|Website)$/)&&p.a.createElement(N.a,{className:E.a.anchor,href:Object(C.c)(a),target:"_blank"},a),"Boolean"==n&&p.a.createElement(I.a,{checked:"true"==a,disabled:!0}),n.match(/^(Textarea|TextArea)$/)&&a.split("\n").map(function(e,t){return p.a.createElement(f.Fragment,{key:t},e,p.a.createElement("br",null))}),n.match(/^(Multiselect|Multiselect Pick List)$/)&&a.split(";").map(function(e,t){if(""!=e)return p.a.createElement(y.a,{key:t,text:e})})))}}]),t}(f.Component);t.a=T,T.propTypes={fieldType:h.a.string,isBold:h.a.bool,label:h.a.string,labelcolor:h.a.oneOf(["grey","black"]),onClick:h.a.func,size:h.a.oneOf(["small","medium"]),text:h.a.string,textcolor:h.a.oneOf(["grey","black"])},T.defaultProps={size:"small",labelcolor:"grey",textcolor:"black",isBold:!1}},1196:function(e,t,a){e.exports={title:"PrimaryInfo-module__title",user:"PrimaryInfo-module__user common-module__dotted common-module__oflow common-module__ellipsis",name:"PrimaryInfo-module__name",grey:"PrimaryInfo-module__grey",black:"PrimaryInfo-module__black",medium:"PrimaryInfo-module__medium common-module__semibold common-module__ftsmooth",small:"PrimaryInfo-module__small",anchor:"PrimaryInfo-module__anchor",agent:"PrimaryInfo-module__agent",bold:"PrimaryInfo-module__bold common-module__semibold common-module__ftsmooth"}},1274:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(1),h=a.n(b),_=a(45),E=a.n(_),v=a(16),I=function(e){function t(e){return c()(this,t),u()(this,(t.__proto__||o()(t)).call(this,e))}return d()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.isLeftPanelOpen,a=e.constructLeftPanel,n=e.screenMode,o=e.changeLeftTab,i=e.leftTab,c=e.constructRightPanel,l=e.children,r=e.dataId;return p.a.createElement(v.Container,{alignBox:"row",dataId:r},a?p.a.createElement(v.Box,{className:E.a.column3+" "+(t?E.a.column3Active:"")+" "},p.a.createElement(v.Container,{alignBox:"column",className:""+E.a.column3box},p.a.createElement(v.Box,{flexible:!0},a()))):null,p.a.createElement(v.Box,{flexible:!0,className:""+E.a.column4,onClick:function(){"sm"==n&&o(i)}},c(),l))}}]),t}(f.Component);t.a=I,I.propTypes={changeLeftTab:h.a.func,children:h.a.node,constructLeftPanel:h.a.func,constructRightPanel:h.a.func,dataId:h.a.string,isLeftPanelOpen:h.a.bool,leftTab:h.a.string,screenMode:h.a.string}},1365:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(1),h=a.n(b),_=a(1366),E=a.n(_),v=a(64),I=a.n(v),g=a(16),y=function(e){function t(){return c()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.name,n=e.imgSrc,o=e.size,i=e.openAccount,c=e.id,l=e.dataId;return p.a.createElement(g.Container,{align:"vertical",alignBox:"row",className:E.a.container},p.a.createElement(g.Box,null,p.a.createElement(I.a,{src:n,name:a,size:o,needTitle:!1})),p.a.createElement(g.Box,{className:E.a.accInfoSection,flexible:!0},p.a.createElement("span",{className:E.a.accInfoName,"data-title":a,"data-id":l+"Name_"+c},a),t?p.a.createElement("span",{onClick:i,className:E.a.accInfoDepart},t):null))}}]),t}(f.Component);t.a=y,y.propTypes={dataId:h.a.string,imgSrc:h.a.string,name:h.a.string,openAccount:h.a.func,size:h.a.string,user:h.a.string}},1366:function(e,t,a){e.exports={container:"AccountFollowHeading-module__container",accInfoSection:"AccountFollowHeading-module__accInfoSection",accInfoName:"AccountFollowHeading-module__accInfoName common-module__dotted common-module__oflow common-module__ellipsis",accInfoDepart:"AccountFollowHeading-module__accInfoDepart common-module__dotted common-module__oflow common-module__ellipsis"}},1367:function(e,t,a){e.exports={accInfo:"CustomerProfile-module__accInfo",accInfohgt:"CustomerProfile-module__accInfohgt",accInfoPart:"CustomerProfile-module__accInfoPart",accInfoClient:"CustomerProfile-module__accInfoClient"}},1368:function(e,t,a){e.exports={xl:"AccountProfile-module__xl",xs:"AccountProfile-module__xs",icon:"AccountProfile-module__icon",txt:"AccountProfile-module__txt",breakAll:"AccountProfile-module__breakAll",secEmail:"AccountProfile-module__secEmail",dotted:"AccountProfile-module__dotted common-module__dotted common-module__oflow common-module__ellipsis",noData:"AccountProfile-module__noData",noAnchor:"AccountProfile-module__noAnchor",flexValue:"AccountProfile-module__flexValue",flexible:"AccountProfile-module__flexible",secondary:"AccountProfile-module__secondary",value:"AccountProfile-module__value"}},1408:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(1),h=a.n(b),_=a(1409),E=a.n(_),v=a(233),I=a.n(v),g=a(16),y=function(e){function t(){return c()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),r()(t,[{key:"render",value:function(){var e=this.props.isThreeLayoutEnabled;return p.a.createElement(g.Container,{alignBox:"row"},p.a.createElement(g.Box,null,p.a.createElement("div",{className:e?E.a.noftiDiv1+" "+E.a.threeLayout:E.a.noftiDiv1},p.a.createElement("div",{className:E.a.prflDiv},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.prflDiv},p.a.createElement(I.a,{size:"medium"})),p.a.createElement("div",{className:E.a.prflDiv},p.a.createElement(I.a,{size:"small"})),p.a.createElement("div",{className:E.a.listDiv},p.a.createElement("div",{className:E.a.assinDiv},p.a.createElement(I.a,{size:"medium"})),p.a.createElement("div",{className:E.a.avtarDiv},p.a.createElement(I.a,{shape:"circle",size:"medium"})),p.a.createElement("span",{className:E.a.prflName},p.a.createElement(I.a,{size:"small"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"small"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"}))),p.a.createElement("div",{className:E.a.ticketData},p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"large"})),p.a.createElement("div",{className:E.a.ticketData1},p.a.createElement(I.a,{size:"medium"}))))),p.a.createElement(g.Box,{flexible:!0,className:E.a.detailContainer},p.a.createElement("div",{className:E.a.noftiContTop},p.a.createElement("div",{className:E.a.rTopavtarDiv},p.a.createElement(I.a,{shape:"circle",size:"large"})),p.a.createElement("div",{className:E.a.ticketDetail},p.a.createElement("div",{className:E.a.tickName},p.a.createElement(I.a,{size:"default"})),p.a.createElement("div",{className:E.a.tickInfo},p.a.createElement("span",{className:E.a.tickDet},p.a.createElement(I.a,{size:"default"})),p.a.createElement("span",{className:E.a.tickDet},p.a.createElement(I.a,{size:"default"})),p.a.createElement("span",{className:E.a.tickDet},p.a.createElement(I.a,{size:"default"})))),p.a.createElement("div",{className:E.a.replyIcns},p.a.createElement("span",{className:E.a.icns},p.a.createElement(I.a,{shape:"circle",size:"large"})),p.a.createElement("span",{className:E.a.icns},p.a.createElement(I.a,{shape:"circle",size:"large"})))),p.a.createElement("div",{className:E.a.subTabs},p.a.createElement("span",{className:E.a.subtabName},p.a.createElement(I.a,{size:"default"})),p.a.createElement("span",{className:E.a.subtabName},p.a.createElement(I.a,{size:"default"})),p.a.createElement("span",{className:E.a.subtabName},p.a.createElement(I.a,{size:"default"})),p.a.createElement("span",{className:E.a.subtabName},p.a.createElement(I.a,{size:"default"})),p.a.createElement("span",{className:E.a.subtabName},p.a.createElement(I.a,{size:"default"})))))}}]),t}(p.a.Component);t.a=y,y.propTypes={isThreeLayoutEnabled:h.a.bool}},1409:function(e,t,a){e.exports={noftiDiv:"TicketDvStencils-module__noftiDiv",noftiDiv1:"TicketDvStencils-module__noftiDiv1",threeLayout:"TicketDvStencils-module__threeLayout",threeLayoutList:"TicketDvStencils-module__threeLayoutList",detailContainer:"TicketDvStencils-module__detailContainer",prflDiv:"TicketDvStencils-module__prflDiv",listDiv:"TicketDvStencils-module__listDiv",assinDiv:"TicketDvStencils-module__assinDiv",avtarDiv:"TicketDvStencils-module__avtarDiv",prflName:"TicketDvStencils-module__prflName",ticketData:"TicketDvStencils-module__ticketData",ticketData1:"TicketDvStencils-module__ticketData1",noftiContTop:"TicketDvStencils-module__noftiContTop",rTopavtarDiv:"TicketDvStencils-module__rTopavtarDiv",ticketDetail:"TicketDvStencils-module__ticketDetail",tickName:"TicketDvStencils-module__tickName",tickInfo:"TicketDvStencils-module__tickInfo",tickDet:"TicketDvStencils-module__tickDet",replyIcns:"TicketDvStencils-module__replyIcns",icns:"TicketDvStencils-module__icns",subTabs:"TicketDvStencils-module__subTabs",subtabName:"TicketDvStencils-module__subtabName"}},1536:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(26),h=a(1),_=a.n(h),E=a(1367),v=a.n(E),I=a(16),g=a(1368),y=a.n(g),N=a(30),k=a(987),C=a(8),T=a(1025),D=a(176),O=a.n(D),P=function(e){function t(e){c()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.setFieldValue=a.setFieldValue.bind(a),a}return d()(t,e),r()(t,[{key:"setFieldValue",value:function(){var e=this.props,t=e.onClick,a=e.name;t&&t(a)}},{key:"render",value:function(){var e=this.props,t=e.icon,a=e.text,n=e.name,o=e.padding,i=void 0,c=null,l="accountProfile",r=null;switch(c=!a,n){case"email":i="8",a?(c="mailto:"+a,r=a):r=C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("crm.label.email"),l="email";break;case"secondaryEmail":i="8",c="mailto:"+a,r=a,l="secondaryemail";break;case"mobile":i="12",a?(c="tel:"+a,r=Object(T.b)(a)):r=C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("crm.label.mobile"),l="mobile";break;case"website":i="12",a?(c=Object(T.c)(a),r=a):r=C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("crm.label.competitor.website"),l="website";break;case"street":i="12",r=a||C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("crm.label.address"),l="street";break;case"facebook":i="12",r=a?c="https://www.facebook.com/"+a:C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("support.social.facebook.name"),l="facebook";break;case"twitter":i="8",r=a?c="https://twitter.com/"+a:C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("support.social.twitter.name"),l="twitter";break;case"phone":i="11",a?(c="tel:"+a,r=Object(T.b)(a)):r=C.f.getI18NValue("crm.label.add")+" "+C.f.getI18NValue("crm.label.phone"),l="phone"}return p.a.createElement(I.Container,{alignBox:"row",className:""+y.a[o]},p.a.createElement(I.Box,{className:y.a.icon},n&&n.match(/^(email|secondaryEmail|facebook|twitter)$/)?p.a.createElement(N.TicketsFontIcon,{dataId:l,name:t,size:i}):n&&n.match(/^(mobile|street|phone)$/)?p.a.createElement(N.TopbandFontIcon,{dataId:l,name:t,size:i}):p.a.createElement(O.a,{dataId:l,name:t,size:i})),p.a.createElement(I.Box,{flexible:!0,className:y.a.txt},p.a.createElement(I.Container,{alignBox:"row"},p.a.createElement(I.Box,{className:(n&&n.match(/^(email|secondaryEmail)$/)?y.a.dotted:y.a.breakAll)+" "+(a?"":y.a.noData),onClick:a?void 0:this.setFieldValue,"data-title":r,shrink:!0,dataId:l},c?p.a.createElement(k.a,{className:y.a.noAnchor,href:c,target:n&&n.match(/^(website|facebook|twitter)$/)&&"_blank"},r):r),"secondaryEmail"===n&&p.a.createElement(I.Box,{flexible:!0,adjust:!0,className:y.a.secEmail}," ","("+C.f.getI18NValue("support.contact.field.email.label.secondary")+")"))))}}]),t}(f.Component),x=P;P.defaultProps={padding:"xl"},P.propTypes={icon:_.a.string,name:_.a.string,onClick:_.a.func,padding:_.a.oneOf(["xs","xl"]),text:_.a.string};var A=a(1195),L=a(458),S=a(175),w=a(24),j=a(6),M=a(76),z=a(17),V=function(e){function t(e){c()(this,t);var a=u()(this,(t.__proto__||o()(t)).call(this,e));return a.state={moduleProfile:[],additionalFields:[],socialFields:[],isFetching:!0},a.setFieldValue=a.setFieldValue.bind(a),a.getFieldDetails=a.getFieldDetails.bind(a),a.openAgent=a.openAgent.bind(a),a.populateProfileDetails=a.populateProfileDetails.bind(a),a}return d()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.getFieldDetails()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.moduleId,n=t.layout,o=t.moduleData,i=t.moduleMeta,c=t.ownerName;e.moduleId==a&&e.layout==n&&e.moduleData==o&&e.moduleMeta==i&&e.ownerName==c||this.setState(this.populateProfileDetails(n))}},{key:"getFieldDetails",value:function(){var e=this,t=this.props,a=t.moduleMeta,n=t.getMyForm;this.setState({isFetching:!0}),n(a.apiKey).then(function(t){return e.setState(e.populateProfileDetails(t.data),function(){return e.setState({isFetching:!1})})})}},{key:"setFieldValue",value:function(e){var t=this.props,a=t.push,n=t.moduleMeta,o=t.orgName,i=t.sanitizedDeptName,c=t.moduleId,l=t.module_s,r=t.setContactInitialData,s=t.setAccountInitialData;("contact"===l?r:s)({},e),a({pathname:"/"+o+"/"+i+"/"+n.sanitizedName+"/edit/"+c})}},{key:"openAgent",value:function(){var e=this.props;(0,e.push)({pathname:"/"+e.orgName+"/"+e.sanitizedDeptName+"/agents/details/"+e.userId})}},{key:"populateProfileDetails",value:function(e){var t=this,a=[],n=[],o=[],i=this.props,c=i.moduleData,l=i.moduleMeta,r=i.ownerName;if(e){var s=e.fieldDetails,u=e.fieldMapper,m=e.sections,d=c.cf,f=void 0===d?{}:d;u.email&&c.email&&u.secondaryEmail&&c.secondaryEmail?a=a.concat([{icon:"chEmail1",text:c.email,name:"email"},{padding:"xs",text:c.secondaryEmail,name:"secondaryEmail"}]):u.email&&c.email||u.secondaryEmail&&c.secondaryEmail?a.push({icon:"chEmail1",text:c.email||c.secondaryEmail,name:c.email?"email":"secondaryEmail"}):(u.email||u.secondaryEmail)&&a.push({icon:"chEmail1",text:"",name:"email"}),u.mobile&&a.push({icon:"mobile",text:c.mobile,name:"mobile"}),u.phone&&a.push({icon:"telephoneThick",text:c.phone,name:"phone"}),u.website&&a.push({icon:"globe2",text:c.website,name:"website"}),(u.street||u.city||u.state||u.country||u.code)&&a.push({icon:"location2",text:Object(M.b)(c.street,c.city,c.state,c.country,c.code),name:"street"}),u.facebook&&o.push({icon:"chFacebook",text:c.facebook,name:"facebook"}),u.twitter&&o.push({icon:"chTwitter",text:c.twitter,name:"twitter"});var p=m.ids,b=m.details;p.forEach(function(e){b[e].fields.forEach(function(e){var a=void 0,o=void 0,i=s[e],c=i.type,l=i.apiName;i.isCustomField?a=f[l]:"ownerId"===l&&(a=r,c="Agent",o=t.openAgent),a&&n.push({label:i.displayLabel,text:a,type:c,onClick:o})})}),n.push({label:l.singularLabel+" "+C.f.getI18NValue("support.label.created.time"),text:c.createdTime,type:"DateTime"})}return{moduleProfile:a,additionalFields:n,socialFields:o}}},{key:"render",value:function(){var e=this,t=this.state,a=t.moduleProfile,n=t.additionalFields,o=t.socialFields;return this.state.isFetching?p.a.createElement(L.a,null):p.a.createElement(I.Container,{className:v.a.accInfo},p.a.createElement(I.Box,{scroll:"vertical",flexible:!0,className:v.a.accInfohgt},a.length?p.a.createElement("div",{className:v.a.accInfoPart},a.map(function(t,a){return p.a.createElement(x,{icon:t.icon,text:t.text,name:t.name,key:a,onClick:e.setFieldValue,padding:t.padding})})):null,o.length?p.a.createElement("div",{className:v.a.accInfoPart},o.map(function(t,a){return p.a.createElement(x,{icon:t.icon,text:t.text,key:a,onClick:e.setFieldValue,name:t.name})})):null,n.length?p.a.createElement("div",{className:v.a.accInfoClient},n.map(function(e,t){return p.a.createElement(A.a,{label:e.label,text:e.text,fieldType:e.type,key:t,name:e.name,onClick:e.onClick})})):null))}}]),t}(p.a.Component);V.propTypes={getMyForm:_.a.func,layout:_.a.object,moduleData:_.a.object,moduleId:_.a.string,moduleMeta:_.a.object,module_s:_.a.string,orgName:_.a.string,ownerName:_.a.string,push:_.a.func,sanitizedDeptName:_.a.string,setAccountInitialData:_.a.func,setContactInitialData:_.a.func,userId:_.a.string};var F=S.b.setInitialData,B=S.a.setInitialData;t.a=Object(b.connect)(function(e,t){var a=e.routing.paramMap.moduleId,n=e.moduleMapper[e.routing.paramMap.moduleName],o=e.module[t.module_s][a],i=e.moduleMeta[n],c=o.ownerId,l=e.module.agent[c]||{},r=l.firstName,s=l.lastName,u=Object(z.L)(e),m=Object(j.f)(u,r,s),d=e.myForm["contacts"===n?"myContactLayoutId":"myAccountLayoutId"];return{layout:e.myForm["contacts"===n?"contactFields":"accountFields"][d],moduleId:a,moduleMeta:i,moduleData:o,ownerName:m,orgName:e.routing.paramMap.orgName,sanitizedDeptName:e.routing.paramMap.deptName,userId:e.myInfo.id}},{getMyForm:S.k,push:w.K,setContactInitialData:F,setAccountInitialData:B})(V)},1641:function(e,t,a){e.exports={dvMore:"CustomerPopup-module__dvMore"}},1642:function(e,t,a){e.exports={posBox:"DetailViewPopup-module__posBox",defaultSize:"DetailViewPopup-module__defaultSize common-module__offSelection",optionList:"DetailViewPopup-module__optionList",list:"DetailViewPopup-module__list undefined common-module__dotted common-module__oflow common-module__ellipsis",shortcutText:"DetailViewPopup-module__shortcutText",listIcon:"DetailViewPopup-module__listIcon",displayText:"DetailViewPopup-module__displayText"}},173:function(e,t,a){e.exports={container:"Loading-module__container",dot:"Loading-module__dot",bounce:"Loading-module__bounce"}},233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=l(a(0)),i=l(a(1)),c=l(a(527));function l(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.shape,a=e.size,n=e.palette;return a="rect"===t?c.default[a]:c.default["c"+a],t="rect"===t?c.default.rectangular:c.default.circle,o.default.createElement("div",{className:t+" "+a+" "+c.default[n]})}}]),t}();t.default=r,r.propTypes={palette:i.default.oneOf(["primary","secondary"]),shape:i.default.oneOf(["rect","circle"]),size:i.default.oneOf(["small","medium","large","default"])},r.defaultProps={palette:"primary",shape:"rect",size:"medium"},r.propTypesDescription={shape:" ",size:" ",palette:" "}},458:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(173),h=a.n(b),_=a(16),E=function(e){function t(){return c()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),r()(t,[{key:"render",value:function(){return p.a.createElement(_.Container,{alignBox:"row",align:"both",className:h.a.container},p.a.createElement(_.Box,{className:h.a.dot}),p.a.createElement(_.Box,{className:h.a.dot}),p.a.createElement(_.Box,{className:h.a.dot}),p.a.createElement(_.Box,{className:h.a.dot}),p.a.createElement(_.Box,{className:h.a.dot}),p.a.createElement(_.Box,{className:h.a.dot}))}}]),t}(p.a.Component);t.a=E},527:function(e,t,a){e.exports={stencil:"Stencils-module__stencil",placeHolderShimmer:"Stencils-module__placeHolderShimmer",rectangular:"Stencils-module__rectangular Stencils-module__stencil",primary:"Stencils-module__primary",secondary:"Stencils-module__secondary",small:"Stencils-module__small",default:"Stencils-module__default",medium:"Stencils-module__medium",large:"Stencils-module__large",circle:"Stencils-module__circle Stencils-module__stencil",clarge:"Stencils-module__clarge",cmedium:"Stencils-module__cmedium",cdefault:"Stencils-module__cdefault",csmall:"Stencils-module__csmall"}},636:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a.n(n),i=a(71),c=a.n(i),l=a(12),r=a.n(l),s=a(9),u=a.n(s),m=a(10),d=a.n(m),f=a(13),p=a.n(f),b=a(14),h=a.n(b),_=a(0),E=a.n(_),v=a(26),I=a(1),g=a.n(I),y=a(19),N=a.n(y),k=a(16),C=a(81),T=a(1408),D=a(1365),O=a(1536),P=a(30),x=a(17),A=a(243),L=a(74),S=a(1096),w=a(1274),j=a(3),M=a(22),z=a(6),V=a(8),F=a(24),B=a(1641),R=a.n(B),U=a(38),Z=a.n(U),K=a(1642),H=a.n(K),Y=a(72),G=a.n(Y),W=a(80),q=a.n(W),$=function(e){function t(e){u()(this,t);var a=p()(this,(t.__proto__||r()(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return h()(t,e),d()(t,[{key:"onChange",value:function(e,t){this.props.onSelect(e,t)}},{key:"render",value:function(){var e=this;return E.a.createElement("div",{className:H.a.posBox},E.a.createElement("span",{className:H.a.defaultSize,onClick:this.props.togglePopup},E.a.createElement("span",null,E.a.createElement(P.TopbandFontIcon,{name:"more1",size:"16"}))),E.a.createElement(G.a,Z()({},{isAnimate:!0,size:"small"},{isActive:this.props.isPopupOpen,boxPosition:"bottomLeft",right:"-12",arrowRight:"20"}),E.a.createElement("div",null,E.a.createElement("div",{className:H.a.optionList},this.props.arrayValues.map(function(t,a){var n=t.name,o=t.display,i=t.iconName,c=t.shortcutKey,l=t.size;return E.a.createElement("div",{className:H.a.list,"data-id":n+"Icon",onClick:e.onChange.bind(e,n),key:a},E.a.createElement("span",{className:H.a.listIcon},"circleCheck2"==i?E.a.createElement(P.TicketsFontIcon,{name:i,size:l}):E.a.createElement(P.TopbandFontIcon,{name:i,size:l})),E.a.createElement("span",{className:H.a.displayText,"data-title":o},o),c?E.a.createElement("span",{className:H.a.shortcutText},c):null)})))))}}]),t}(_.Component);$.propTypes={arrayValues:g.a.array,isPopupOpen:g.a.bool,onSelect:g.a.func,togglePopup:g.a.bool};var J=q()($),Q=a(93),X=a(175),ee=function(e){function t(e){u()(this,t);var a=p()(this,(t.__proto__||r()(t)).call(this,e));return a.onPopupSelect=a.onPopupSelect.bind(a),a.editModule=a.editModule.bind(a),a.deleteModule=a.deleteModule.bind(a),a.addContact=a.addContact.bind(a),a.moreObj=a.constructPopupObj(e),a.actions={edit:a.editModule,delete:a.deleteModule,addContact:a.addContact},a}return h()(t,e),d()(t,[{key:"constructPopupObj",value:function(e){var t=[];if(e.haveEditPermission&&t.push({name:"edit",display:"Edit",iconName:"pen2",size:"14",shortcutKey:"E"}),"accounts"===e.module&&e.haveContactAddPermission){var a=e.moduleMeta.contacts.singularLabel;t.push({name:"addContact",display:"Add "+a,iconName:"addAgent",size:"14"})}return t.push({name:"follow",display:"Follow",iconName:"circleCheck2",size:"14"}),e.haveDeletePermission&&t.push({name:"delete",display:"Delete",iconName:"delete2",size:"14"}),t}},{key:"onPopupSelect",value:function(e){this.actions[e]()}},{key:"editModule",value:function(){var e=this.props,t=e.editModule;t(e.module,e.moduleId)}},{key:"deleteModule",value:function(){var e=this.props,t=e.deleteModule,a=e.module,n=e.moduleId,o=e.openModuleList;t(a,n).then(function(){return o(a)})}},{key:"addContact",value:function(){var e=this.props,t=e.addModule;(0,e.setContactInitialData)({accountId:e.moduleId}),t("contacts")}},{key:"render",value:function(){var e=this.props.dataId;return E.a.createElement("div",{className:R.a.dvMore,"data-id":e},E.a.createElement(J,{arrayValues:this.moreObj,onSelect:this.onPopupSelect}))}}]),t}(E.a.Component);ee.propTypes={addModule:g.a.func,dataId:g.a.string,deleteModule:g.a.func,editModule:g.a.func,haveContactAddPermission:g.a.bool,haveDeletePermission:g.a.bool,haveEditPermission:g.a.bool,module:g.a.string,moduleId:g.a.string,moduleMeta:g.a.func,openModuleList:g.a.func,setContactInitialData:g.a.func};var te,ae=Object(v.connect)(function(e,t){return{haveEditPermission:Object(x.Ib)(e,{module:t.module,mode:"edit"}),haveDeletePermission:Object(x.Ib)(e,{module:t.module,mode:"delete"}),haveContactAddPermission:Object(x.Ib)(e,{module:"contacts",mode:"create"}),moduleMeta:e.moduleMeta}},{addModule:function(e){return function(t,a){var n=a(),o=n.moduleMeta,i=Object(x.s)(n),c=Object(x.O)(n);t(Object(F.K)({pathname:"/"+c+"/"+i+"/"+o[e].sanitizedName+"/new"}))}},editModule:function(e,t){return function(a,n){var o=n(),i=o.moduleMeta,c=Object(x.s)(o),l=Object(x.O)(o);a(Object(F.K)({pathname:"/"+l+"/"+c+"/"+i[e].sanitizedName+"/edit/"+t}))}},deleteModule:function(e,t){return function(a,n){var o=n().moduleMeta,i=o[e].singularLabel,c=[o.contracts.pluralLabel,o.contacts.pluralLabel,o.tickets.pluralLabel,o.tasks.pluralLabel,o.timeEntry.singularLabel,i,V.f.getI18NValue("this")];return a(F.a.showConfirmBox({type:"confirmation",submitText:V.f.getI18NValue("support.delete",""),cancelText:V.f.getI18NValue("support.label.cancel"),title:V.f.getI18NValue("support.delete",i),iconName:"delete2",message:V.f.getI18NValue("support.label.alert.delete.account",c),confirmationMessage:V.f.getI18NValue("support.label.confirm.delete"),isActive:!0,palette:"danger"})).then(function(){return a(Object(Q.a)(j.L.ACCOUNT_L)([t])).catch(function(){return a(showMessage({type:"alert",message:V.f.getI18NValue("support.unable.to.process.your.request")}))})})}},openModuleList:Q.c,setContactInitialData:X.b.setInitialData})(ee),ne=a(1069),oe=function(e){function t(e){u()(this,t);var a=p()(this,(t.__proto__||r()(t)).call(this,e));return a.state={notAccessible:!1,leftTab:"accountinfo"},a.constructAccountDetailLeftPanel=a.constructAccountDetailLeftPanel.bind(a),a.constructAccountDetailRightPanel=a.constructAccountDetailRightPanel.bind(a),a.closeInvoiceInfo=a.closeInvoiceInfo.bind(a),a.changeSubtab=a.changeSubtab.bind(a),a.getAccount=a.getAccount.bind(a),a}return h()(t,e),d()(t,[{key:"getAccount",value:function(){var e=this.props,t=e.id,a=e.getAccountInfo,n=e.setIsDeleted,o=e.setisNotAccessible;a(t).then(function(e){e.data.entities.account[t].isTrashed&&n()},function(e){var t=JSON.parse(e.response).message;t==j.R?o():t==urlNotFound&&n()})}},{key:"componentDidMount",value:function(){var e=this.props.getIntegrations;this.getAccount(),e()}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.setState({leftTab:"accountinfo"})}},{key:"componentWillUnmount",value:function(){this.props.closeAccountDv()}},{key:"closeInvoiceInfo",value:function(){"invoicetab"!==this.state.leftTab&&"bookstab"!==this.state.leftTab||this.setState({leftTab:"accountinfo"})}},{key:"changeLeftPanelId",value:function(e,t){var a=this.props.changeLeftPanelState;this.setState({leftTab:e}),a(t)}},{key:"changeLeftTab",value:function(e){var t=this;if(this.state.leftTab==e)this.tabsCom&&this.tabsCom.onResize(300),this.changeLeftPanelId("",!1);else if(""==this.state.leftTab&&this.tabsCom&&this.tabsCom.onResize(300),"bookstab"===e||"invoicetab"===e){this.props.openInvoiceInfo(function(){return t.changeLeftPanelId(e,!0)}.bind(this))}else this.changeLeftPanelId(e,!0)}},{key:"constructAccountDetailLeftPanel",value:function(){var e=this,t=this.state.leftTab,a=this.props,n=a.account,o=a.integrations,i=a.moduleMeta,c=a.module,l=a.id;return E.a.createElement(k.Container,{alignBox:"column",dataId:"accountDetailViewLeftPanel"},""!==t&&E.a.createElement(k.Box,null,E.a.createElement(D.a,{name:n?n.accountName:"",size:"xmedium",dataId:c,id:l})),E.a.createElement(k.Box,{flexible:!0},E.a.createElement(C.TabWrapper,{defaultTab:t,type:"special",onSelect:function(t){return e.changeLeftTab(t)},hookToDisableInternalState:!0},E.a.createElement(C.Tabs,{style:{borderBottom:"1px solid #dadada"},isResponsive:!1,align:"vertical"},E.a.createElement(C.Tab,{id:"accountinfo",onClick:function(){},title:V.f.getI18NValue("support.contact.label.contact.info",i.accounts.singularLabel)},E.a.createElement(P.TicketsFontIcon,{name:"newuser",size:"13"})),o.isCrmIntegrated?E.a.createElement(C.Tab,{id:"crmtab",onClick:function(){},title:V.f.getI18NValue("support.crmlabel.crminfo")},E.a.createElement(P.GettingstartedFontIcon,{name:"crmNew",size:"12"})):null,o.SALESFORCE&&"enabled"===o.SALESFORCE.status.toLowerCase()?E.a.createElement(C.Tab,{id:"salesforce",onClick:function(){},title:V.f.getI18NValue("support.integ.salesforce.tab")},E.a.createElement(P.CommonFontIcon,{name:"salesforce",size:"15"})):null,E.a.createElement(C.Tab,{id:"slacontract",onClick:function(){},title:V.f.getI18NValue("support.accountsView.slaAndContract",i.contracts.singularLabel)},E.a.createElement(P.CustomersFontIcon,{name:"contract",size:"16"})),E.a.createElement(C.Tab,{id:"followers",onClick:function(){},title:V.f.getI18NValue("support.social.label.followers")},E.a.createElement(P.CustomersFontIcon,{name:"checkmarkO",size:"17"})),o.BOOKS&&"enabled"==o.BOOKS.status.toLowerCase()&&n.email?E.a.createElement(C.Tab,{id:"bookstab",onClick:function(){},title:V.f.getI18NValue("support.books.integ.setup.title")},E.a.createElement(P.CommonFontIcon,{name:"books",size:"14"})):null,o.INVOICE&&"enabled"==o.INVOICE.status.toLowerCase()&&n.email?E.a.createElement(C.Tab,{id:"invoicetab",onClick:function(){},title:V.f.getI18NValue("support.invoice.integ.setup.title")},E.a.createElement(P.CommonFontIcon,{name:"invoice",size:"14"})):null),E.a.createElement(C.TabContentWrapper,null,E.a.createElement(C.TabContent,{id:"accountinfo"},E.a.createElement(O.a,{module_s:j.L.ACCOUNT_L})),E.a.createElement(C.TabContent,{id:"slacontract"},E.a.createElement(M.e,null)),E.a.createElement(C.TabContent,{id:"followers"},E.a.createElement(M.G,null)),E.a.createElement(C.TabContent,{id:"crmtab"},E.a.createElement(M.D,{contactId:N()("zohoCRMAccount.id",n),module:c})),E.a.createElement(C.TabContent,{id:"salesforce"},E.a.createElement(M.mb,null)),E.a.createElement(C.TabContent,{id:"invoicetab"},E.a.createElement(M.W,{closeInvoiceInfo:this.closeInvoiceInfo})),E.a.createElement(C.TabContent,{id:"bookstab"},E.a.createElement(M.W,{closeInvoiceInfo:this.closeInvoiceInfo}))))))}},{key:"changeSubtab",value:function(e){var t=this.props,a=t.subtabName,n=t.push,o=t.orgName,i=t.sanitizedDeptName,c=t.id,l=t.moduleMeta;a!==c&&n({pathname:"/"+o+"/"+i+"/"+l.accounts.sanitizedName+"/details/"+c+"/"+e})}},{key:"constructAccountDetailRightPanel",value:function(){var e=this;if(this.props.invoiceDetailInfo.isOpen)return E.a.createElement(M.T,{info:this.props.invoiceDetailInfo});if(this.props.accountSlaFormInfo.isOpen)return E.a.createElement(M.f,null);var t=this.props,a=t.id,n=t.isAdminUser,o=t.currentUserId,i=t.haveEditPermission,c=t.haveCommentEditPermission,l=t.haveCommentDeletePermission,r=t.moduleMeta,s=t.isPeekView,u=t.account,m=t.subtabName,d=t.module,f=t.featureList,p=(u||{}).accountName,b=void 0===p?"":p;return E.a.createElement(k.Container,{dataId:"accountDetailViewRightPanel"},E.a.createElement(k.Box,{flexible:!0},E.a.createElement(C.TabWrapper,{defaultTab:m,type:"alpha",needPadding:!1,onSelect:this.changeSubtab,hookToDisableInternalState:!0},E.a.createElement(C.Tabs,{style:{borderBottom:"1px solid #dadada"},ref:function(t){return e.tabsCom=t}},E.a.createElement(C.Tab,{id:"overview",text:V.f.getI18NValue("support.dashboard.overview")}),E.a.createElement(C.Tab,{id:"history",text:V.f.getI18NValue("support.setup.label.history")}),E.a.createElement(C.Tab,{id:"activity",text:r.activities.pluralLabel}),E.a.createElement(C.Tab,{id:"tickets",text:r.tickets.pluralLabel}),E.a.createElement(C.Tab,{id:"timeentry",text:r.timeEntry.singularLabel}),E.a.createElement(C.Tab,{id:"contacts",text:r.contacts.pluralLabel}),E.a.createElement(C.Tab,{id:"happinessrating",text:V.f.getI18NValue("support.setup.label.happiness_rating")}),E.a.createElement(C.Tab,{id:"products",text:r.products.pluralLabel}),E.a.createElement(C.Tab,{id:"attachments",text:V.f.getI18NValue("support.attachments")}),E.a.createElement(C.Tab,{id:"comments",text:V.f.getI18NValue("tabs.request.comments")}),E.a.createElement(ae,{module:d,moduleId:a,dataId:"accountDVMoreAction"})),E.a.createElement(C.TabContentWrapper,null,E.a.createElement(C.TabContent,{id:"overview"},E.a.createElement(M.fb,{module_s:j.L.ACCOUNT_L})),E.a.createElement(C.TabContent,{id:"history"},E.a.createElement(M.J,{module:d,module_s:j.L.ACCOUNT_L})),E.a.createElement(C.TabContent,{id:"tickets"},E.a.createElement(k.Box,{flexible:!0,scroll:"vertical"},E.a.createElement(M.Eb,{module:d,accountName:b,module_s:j.L.ACCOUNT_L}))),E.a.createElement(C.TabContent,{id:"activity"},E.a.createElement(M.i,{id:a,module:j.L.ACCOUNT_L,isPeekView:s})),E.a.createElement(C.TabContent,{id:"timeentry",count:"0"},E.a.createElement(k.Box,{flexible:!0,scroll:"vertical"},E.a.createElement(M.Fb,{module:d,module_s:j.L.ACCOUNT_L,haveEditPermission:!1,enableAddTimeEntry:!1,enableTimeEntryFilter:!0,moduleId:a,featureList:f,hasContactEmail:!!u.email}))),E.a.createElement(C.TabContent,{id:"contacts"},E.a.createElement(M.B,{module:d,module_s:j.L.ACCOUNT_L,needToShowAdd:i,moduleKey:"accountId"})),E.a.createElement(C.TabContent,{id:"happinessrating"},E.a.createElement(k.Box,{flexible:!0,scroll:"vertical"},E.a.createElement(M.I,{module:j.L.ACCOUNT_L,module_d:r.accounts.displayLabel}))),E.a.createElement(C.TabContent,{id:"products"},E.a.createElement(M.ib,{module:d,module_s:j.L.ACCOUNT_L,needToShowAdd:i})),E.a.createElement(C.TabContent,{id:"attachments"},E.a.createElement(M.m,{module:d,module_s:j.L.ACCOUNT_L,moduleId:a,isPeekView:s,haveEditPermission:i,hasPrivacyMode:!1})),E.a.createElement(C.TabContent,{id:"comments"},E.a.createElement(k.Box,{flexible:!0,scroll:"vertical"},E.a.createElement(M.v,{module:d,module_s:"account",moduleId:a,isAdminUser:n,haveCommentEditPermission:c,haveCommentDeletePermission:l,currentUserId:o,hasAttachments:!1,hasPrivacyMode:!1})))))))}},{key:"render",value:function(){if(this.props.accountRequest)return E.a.createElement(T.a,{isThreeLayoutEnabled:this.props.isThreeLayout});var e=this.props,t=e.isLeftPanelOpen,a=e.screenMode,n=e.financePermissions,o=void 0===n?{}:n,i={create_invoice:o.createInvoice,email_invoice:o.emailInvoice,view_invoice:o.viewInvoice,create_estimate:o.createEstimate,email_estimate:o.emailEstimate,view_estimate:o.viewEstimate,create_contact:o.createContact};return E.a.createElement(E.a.Fragment,null,E.a.createElement(w.a,{isLeftPanelOpen:t,constructLeftPanel:this.constructAccountDetailLeftPanel,screenMode:a,changeLeftTab:this.changeLeftTab,leftTab:this.state.leftTab,constructRightPanel:this.constructAccountDetailRightPanel,dataId:"accountDetailView"}),E.a.createElement("input",{type:"hidden",id:"invoiceBooksPermissions",value:c()(i)}))}}]),t}(E.a.Component);oe.propTypes=(te={account:g.a.object,accountRequest:g.a.bool,changeLeftPanelState:g.a.func,closeAccountDv:g.a.func,currentUserId:g.a.string,featureList:g.a.array,financePermissions:g.a.object,getAccountInfo:g.a.func,getIntegrations:g.a.func,haveCommentDeletePermission:g.a.bool,haveCommentEditPermission:g.a.bool,haveDeletePermission:g.a.bool},o()(te,"haveDeletePermission",g.a.bool),o()(te,"haveEditPermission",g.a.bool),o()(te,"id",g.a.string),o()(te,"integrations",g.a.object),o()(te,"invoiceDetailInfo",g.a.object),o()(te,"isAdminUser",g.a.bool),o()(te,"isLeftPanelOpen",g.a.bool),o()(te,"isPeekView",g.a.bool),o()(te,"isThreeLayout",g.a.bool),o()(te,"lastAccessedViewName",g.a.string),o()(te,"module",g.a.string),o()(te,"moduleMeta",g.a.object),o()(te,"openInvoiceInfo",g.a.func),o()(te,"orgName",g.a.string),o()(te,"push",g.a.func),o()(te,"sanitizedDeptName",g.a.string),o()(te,"screenMode",g.a.string),o()(te,"setIsDeleted",g.a.func),o()(te,"setisNotAccessible",g.a.func),o()(te,"subtabName",g.a.string),te);t.default=Object(v.connect)(function(e){var t=e.routing.paramMap,a=t.moduleId,n=t.tabName,o=t.deptName,i=t.orgName,c=e.module.account[a],l=e.moduleMeta,r=e.accountDetailActions.accountDetailRequest;return{id:a,featureList:[],subtabName:n||"overview",sanitizedDeptName:o,orgName:i,accountRequest:"boolean"!=typeof r||r,moduleMeta:l,account:c,invoiceDetailInfo:e.invoiceDetailInfo,financeInfo:e.financeInfo,financePermissions:Object(ne.b)(e),lastAccessedViewName:Object(x.k)(e),integrations:e.integrations,currentUserId:e.myInfo.id,accountSlaFormInfo:e.accountSlaFormInfo,isAdminUser:Object(z.b)(e.myInfo.profileId,e.module.profile),haveEditPermission:Object(x.Ib)(e,{module:"accounts",mode:"edit"}),haveDeletePermission:Object(x.Ib)(e,{module:"accounts",mode:"delete"}),haveCommentEditPermission:Object(x.Ib)(e,{module:"comments",mode:"edit"}),haveCommentDeletePermission:Object(x.Ib)(e,{module:"comments",mode:"delete"})}},{getAccountInfo:A.b,getIntegrations:L.f,openInvoiceInfo:S.y,push:F.K,closeAccountDv:A.a})(oe)},947:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a(0)),i=r(a(1)),c=r(a(953)),l=r(a(151));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.checked;a&&a(!n,e)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.checked,i=e.disabled,r=e.palette,s=e.text,u=e.labelPalette,m=e.active,d=e.labelSize,f=e.getRef,p=e.dataId,b=m?c.default[r+"_active"]:"",h=i?c.default.disabled:c.default.pointer;return o.default.createElement("span",{className:c.default.container+" "+h+" "+(s?c.default.layout:c.default.basic)+" "},o.default.createElement("input",{type:"checkbox",className:c.default.input+" "+(n?c.default.checked:""),name:a,checked:n,disabled:i,ref:f}),o.default.createElement("label",{className:c.default["label_"+r]+" "+b+" "+(s?c.default.layoutshrink:""),onClick:this.onChange,"data-id":p},o.default.createElement("span",null)),s&&o.default.createElement("span",{className:c.default.text},o.default.createElement(l.default,{text:s,palette:u,id:t,size:d,type:"title",clipped:!0,onClick:this.onChange})))}}]),t}();t.default=s,s.defaultProps={active:!1,checked:!1,disabled:!1,labelPalette:"default",labelSize:"medium",palette:"primary"},s.propTypes={active:i.default.bool,checked:i.default.bool,dataId:i.default.string,disabled:i.default.bool,getRef:i.default.func,id:i.default.string.isRequired,labelPalette:i.default.oneOf(["default","primary","secondary","danger","mandatory"]),labelSize:i.default.oneOf(["small","medium","large"]),name:i.default.string,onChange:i.default.func,palette:i.default.oneOf(["primary","danger"]),text:i.default.string},s.propTypesDescription={disabled:" ",checked:" ",active:" ",labelPalette:" ",labelSize:" ",getRef:" ",palette:" ",onChange:" ",text:" "}},953:function(e,t,a){e.exports={container:"CheckBox-module__container common-module__offSelection",layout:"CheckBox-module__layout common-module__dflex common-module__flexrow common-module__alignVertical",basic:"CheckBox-module__basic",input:"CheckBox-module__input",label:"CheckBox-module__label",disabled:"CheckBox-module__disabled common-module__disabled",pointer:"CheckBox-module__pointer",layoutshrink:"CheckBox-module__layoutshrink common-module__flexshrink",text:"CheckBox-module__text common-module__flexgrow",checked:"CheckBox-module__checked",tick:"CheckBox-module__tick",label_primary:"CheckBox-module__label_primary CheckBox-module__label",label_danger:"CheckBox-module__label_danger CheckBox-module__label",primary_active:"CheckBox-module__primary_active",danger_active:"CheckBox-module__danger_active"}},987:function(e,t,a){"use strict";var n=a(12),o=a.n(n),i=a(9),c=a.n(i),l=a(10),r=a.n(l),s=a(13),u=a.n(s),m=a(14),d=a.n(m),f=a(0),p=a.n(f),b=a(1),h=a.n(b),_=a(993),E=a.n(_),v=function(e){function t(){return c()(this,t),u()(this,(t.__proto__||o()(t)).apply(this,arguments))}return d()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.href,a=e.title,n=e.target,o=e.className,i=e.children,c=e.rel,l=(e.download,e.dataTestid);return p.a.createElement("a",{href:t,target:n,className:E.a.link+" "+(o||""),"data-title":a,rel:c,dataId:l},i)}}]),t}(p.a.Component);t.a=v,v.defaultProps={text:"",target:"_blank",rel:"noopener noreferrer"},v.propTypes={className:h.a.string,href:h.a.string,isDownload:h.a.bool,rel:h.a.string,target:h.a.oneOf(["_blank","_self"]),text:h.a.string,title:h.a.string}},993:function(e,t,a){e.exports={link:"ExternalLink-module__link"}}}]);